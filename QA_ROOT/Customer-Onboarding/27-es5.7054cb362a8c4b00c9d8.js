!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,a)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,a){t[e]=a.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(D){s=function(t,e,a){return t[e]=a}}function b(t,e,a,n){var i=e&&e.prototype instanceof m?e:m,r=Object.create(i.prototype),c=new C(n||[]);return o(r,"_invoke",{value:T(t,a,c)}),r}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(D){return{type:"throw",arg:D}}}t.wrap=b;var d={};function m(){}function p(){}function f(){}var h={};s(h,r,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==e&&n.call(v,r)&&(h=v);var y=f.prototype=m.prototype=Object.create(h);function W(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function X(t,e){function a(o,i,r,c){var l=u(t[o],t,i);if("throw"!==l.type){var s=l.arg,b=s.value;return b&&"object"==typeof b&&n.call(b,"__await")?e.resolve(b.__await).then(function(t){a("next",t,r,c)},function(t){a("throw",t,r,c)}):e.resolve(b).then(function(t){s.value=t,r(s)},function(t){return a("throw",t,r,c)})}c(l.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){a(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function T(t,e,a){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return O()}for(a.method=o,a.arg=i;;){var r=a.delegate;if(r){var c=I(r,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=u(t,e,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}function I(t,e){var a=e.method,n=t.iterator[a];if(void 0===n)return e.delegate=null,"throw"===a&&t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=f,o(y,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:p,configurable:!0}),p.displayName=s(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},W(X.prototype),s(X.prototype,c,function(){return this}),t.AsyncIterator=X,t.async=function(e,a,n,o,i){void 0===i&&(i=Promise);var r=new X(b(e,a,n,o),i);return t.isGeneratorFunction(a)?r:r.next().then(function(t){return t.done?t.value:r.next()})},W(y),s(y,l,"Generator"),s(y,r,function(){return this}),s(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),a=[];for(var n in e)a.push(n);return a.reverse(),function t(){for(;a.length;){var n=a.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,n){return r.type="throw",r.arg=t,e.next=a,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],r=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),x(a),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var o=n.arg;x(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:A(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},t}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?i:String(i)),n)}var o,i}function i(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{X7Rc:function(e,o,r){"use strict";r.r(o),r.d(o,"TasksModule",function(){return kp});var c=r("SVse"),l=r("u9T3"),s=r("8Y7J"),b=r("nm5K"),u=r("XNiG"),d=r("Kj3r"),m=r("tZUg"),p=r("iELJ"),f=r("qMRc"),h=r("Tczp"),g=r("6rwl"),v=r("s7LF"),y=r("wd/R"),W=r("zHaW"),X=r("VDRc"),T=r("Tj54"),I=r("Q2Ze"),E=r("PDjf"),x=r("e6WT"),C=r("ZTz/"),A=r("TN/R"),O=r("jMqV"),D=r("Dxy4"),R=r("pu8Q"),S=r("UhP/");function k(t,e){1&t&&s.Sb(0,"mat-spinner",34),2&t&&s.rc("diameter",80)}function N(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function P(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Account Type is Required! "),s.Wb())}function F(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Vc(" ",a.branchName," ")}}function L(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Account Branch is Required! "),s.Wb())}function _(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Account Currency is Required! "),s.Wb())}function w(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Business Product Name is Required! "),s.Wb())}function U(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Product Description is Required! "),s.Wb())}function M(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Application Date is Required! "),s.Wb())}function G(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Please enter valid Application Date! "),s.Wb())}function V(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," SWIFT Code is Required! "),s.Wb())}function j(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," SWIFT Code should be a combination of minimum of 8 alphanumeric characters"),s.Wb())}function B(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",5),s.Xb(1,"mat-hint",6),s.Tc(2,"SWIFT Code"),s.Wb(),s.Xb(3,"mat-card",7),s.Xb(4,"input",37),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress1(t)}),s.Wb(),s.Wb(),s.Rc(5,V,2,0,"mat-error",13),s.Rc(6,j,2,0,"mat-error",38),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("ngIf",n.accountUpdateForm.get("swiftCode").hasError("required")&&n.accountUpdateForm.get("swiftCode").touched),s.Eb(1),s.rc("ngIf",n.accountUpdateForm.get("swiftCode").value&&!n.accountUpdateForm.get("swiftCode").hasError("required"))}}var z,q=((z=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.data=e,this.dialogRef=a,this.appApiService=o,this.formBuilder=i,this.api=r,this.cdr=c,this.snack=l,this.apiService=s,this.ls=b,this.minDate=new Date,this.maxDate=new Date,this.validDate=new Date,this.invalidDate=!1,this.validDate.setDate(this.validDate.getDate())}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getAccountBranchDetails(),this.getAccountType("account_type"),this.data&&this.data.accountId?this.buildAccountUpdateForm(this.data):this.buildAccountUpdateForm()}},{key:"buildAccountUpdateForm",value:function(t){console.log(t);var e=t?y(t.applicationDate).format():"";this.flag=!(!t||!t.swiftCodeEnable),t&&null!=t.fundTheAccount&&(this.disableFundTheAccount=!0),t.applicationDate<y(new Date).format("YYYY-MM-DD")&&(this.invalidDate=!0),this.accountUpdateForm=this.formBuilder.group({cifNumber:[t&&t.customerId?t.customerId:"",[v.z.required,v.z.minLength(5)]],customerName:[t?t.customerName:""],accountId:[this.accountId],accountType:[t?t.accountType:"",v.z.required],businessProductName:[t?t.businessProductName:"",v.z.required],productImage:[t?t.productImage:""],productDescription:[t?t.productDescription:"",v.z.required],accountBranch:[t?t.accountBranch:"",v.z.required],accountCurrency:[t?t.accountCurrency:"",v.z.required],applicationDate:[t?e:"",v.z.required],fundTheAccount:[t?t.fundTheAccount:"0"],fundBy:[!!t&&t.fundBy],amount:[t?t.amount:"0"],overDraftRequested:[!!t&&t.overDraftRequested],status:[t?t.status:""],swiftCodeEnable:[!!t&&t.swiftCodeEnable],swiftCode:[t?t.swiftCode:"",v.z.pattern("(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+){8,8}$")]})}},{key:"onSubmit",value:function(){var t=this,e={accountId:this.accountId,accountType:this.accountUpdateForm.value.accountType,businessProductName:this.accountUpdateForm.value.businessProductName,customerId:this.accountUpdateForm.value.customerId,productImage:this.accountUpdateForm.value.productImage,productDescription:this.accountUpdateForm.value.productDescription,accountBranch:this.accountUpdateForm.value.accountBranch,accountCurrency:this.accountUpdateForm.value.accountCurrency,applicationDate:this.convertDate(this.accountUpdateForm.value.applicationDate),fundTheAccount:this.accountUpdateForm.value.fundTheAccount,fundBy:this.accountUpdateForm.value.fundBy,amount:this.accountUpdateForm.value.amount,overDraftRequested:this.accountUpdateForm.value.overDraftRequested,status:this.accountUpdateForm.value.status,swiftCode:this.accountUpdateForm.value.swiftCode,swiftCodeEnable:this.accountUpdateForm.value.swiftCodeEnable,customerName:this.accountUpdateForm.value.customerName};0!=this.isCifValid?this.apiService.saveProductAccountInfo(e).subscribe(function(e){200===e||null!==e?(t.snack.open("Account Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})):500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))}):this.snack.open("Kindly Enter Valid CifNumber to proceed!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"fetchByCif",value:function(t){var e=this;this.showSpinn=!0,this.apiService.fetchByCif(t).subscribe(function(a){if("APPROVED"!=a.customerInfoList[0].custStatus&&(e.isCifValid=!1,e.snack.open("CIF Number is not Approved :"+t,"",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),e.accountUpdateForm.controls.cifNumber.setValue(t),e.currencyData=e.arrayAccountBranch.find(function(t){return t.branchName==e.branchName}),e.accountUpdateForm.get("accountBranch").setValue(e.branchName),null==e.currencyData&&null==e.currencyData||e.accountUpdateForm.get("accountCurrency").setValue(e.currencyData.branchCcy),e.accountUpdateForm.get("amount").setValue(0),e.accountUpdateForm.get("swiftCode").setValue(null),e.showSpinn=!1,!a)return e.isCifValid=!1,void e.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});"APPROVED"==a.customerInfoList[0].custStatus&&(e.isCifValid=!0),null!=e.accountUpdateForm.value.swiftCode&&null!=e.accountUpdateForm.value.swiftCodeEnable||(console.log(e.accountUpdateForm.value.swiftCode),e.flag=!1),"APPROVED"==a.customerInfoList[0].custStatus&&(a.customerInfoList[0].middleName?e.accountUpdateForm.get("customerName").setValue(a.customerInfoList[0].firstName+" "+a.customerInfoList[0].middleName+" "+a.customerInfoList[0].lastName):e.accountUpdateForm.get("customerName").setValue(a.customerInfoList[0].firstName+" "+a.customerInfoList[0].lastName),e.cifNumberPrimary=t),e.cdr.markForCheck()})}},{key:"onToggle",value:function(t){1==t.checked?this.flag=!0:(this.flag=!1,this.accountUpdateForm.controls.swiftCode.reset(),this.cdr.detectChanges(),this.cdr.markForCheck())}},{key:"onKeyPress",value:function(t){var e=this,a=String.fromCharCode(t.charCode);/[0-9]/.test(a)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(function(){e.appApiService.fetchByCif(t.target.value).subscribe(function(t){console.log(t),t&&(e.listOfCustByCif=t.customerInfoList)})},1e3):this.listOfCustByCif=[]}},{key:"_keyPress",value:function(t){console.log("gghhhhhhhhhhhhhhhh");var e=String.fromCharCode(t.charCode);/^[A-Za-z\s]*$/.test(e)||t.preventDefault()}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/[a-zA-Z0-9]/.test(e)||t.preventDefault()}},{key:"keyUpevent",value:function(t){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1}},{key:"getAccountType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.api.getAccountBranch().subscribe(function(e){t.arrayAccountBranch=e,t.currencyData=t.arrayAccountBranch.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData),null==t.currencyData&&null==t.currencyData||t.accountUpdateForm.get("accountCurrency").setValue(t.currencyData.branchCcy)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.arrayAccountBranch.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"addevent",value:function(t){this.invalidDate=!1}}]),t}()).\u0275fac=function(t){return new(t||z)(s.Rb(p.a),s.Rb(p.g),s.Rb(f.a),s.Rb(v.f),s.Rb(b.b),s.Rb(s.h),s.Rb(W.a),s.Rb(f.a),s.Rb(m.a))},z.\u0275cmp=s.Lb({type:z,selectors:[["app-account-details-update"]],decls:94,vars:17,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"keypress","change","keyup"],["class","spinner",3,"diameter",4,"ngIf"],["matInput","","readonly","","required","","formControlName","customerName","name","customerName","placeholder","Customer Name",3,"keypress","keyup"],["name","accountType","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","account_branch","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","currency","placeholder","Account Currency","formControlName","accountCurrency",3,"readonly"],["matInput","","name","product_image","formControlName","productImage","placeholder","Product Image","value",""],["matInput","","name","business","formControlName","businessProductName","placeholder","Business Product Name"],["matInput","","name","business","placeholder","Product Description","formControlName","productDescription"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","applicationDate","placeholder","Application Date",3,"matDatepicker","min","dateChange"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row"],["formControlName","swiftCodeEnable",3,"change"],[1,"pb-1"],[1,"ml-12"],["formControlName","fundBy"],["formControlName","overDraftRequested"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"spinner",3,"diameter"],[3,"value"],[1,"errorClass"],["minlength","8","maxlength","11","matInput","","name","swift_code","required","","formControlName","swiftCode","placeholder","SWIFT Code","value","",3,"keypress"],[4,"ngIf"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Account Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"CIF Number"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"input",8),s.fc("keypress",function(t){return e._keyPress(t)})("change",function(){return e.fetchByCif(e.accountUpdateForm.get("cifNumber").value)})("keyup",function(t){return e.onKeyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Rc(13,k,1,1,"mat-spinner",9),s.Xb(14,"div",5),s.Xb(15,"mat-hint",6),s.Tc(16,"Customer Name"),s.Wb(),s.Xb(17,"mat-card",7),s.Xb(18,"input",10),s.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(t){return e.keyUpevent(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",5),s.Xb(20,"mat-hint",6),s.Tc(21,"Account Type*"),s.Wb(),s.Xb(22,"mat-card",7),s.Xb(23,"mat-select",11),s.Rc(24,N,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(25,P,2,0,"mat-error",13),s.Wb(),s.Xb(26,"div",5),s.Xb(27,"mat-hint",6),s.Tc(28,"Account Branch*"),s.Wb(),s.Xb(29,"mat-card",7),s.Xb(30,"mat-select",14),s.fc("selectionChange",function(t){return e.onChangeBranch(t)}),s.Rc(31,F,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(32,L,2,0,"mat-error",13),s.Wb(),s.Xb(33,"div",5),s.Xb(34,"mat-hint",6),s.Tc(35,"Account Currency*"),s.Wb(),s.Xb(36,"mat-card",7),s.Sb(37,"input",15),s.Wb(),s.Rc(38,_,2,0,"mat-error",13),s.Wb(),s.Xb(39,"div",5),s.Xb(40,"mat-hint",6),s.Tc(41,"Product Image"),s.Wb(),s.Xb(42,"mat-card",7),s.Sb(43,"input",16),s.Wb(),s.Wb(),s.Xb(44,"div",5),s.Xb(45,"mat-hint",6),s.Tc(46,"Business Product Name*"),s.Wb(),s.Xb(47,"mat-card",7),s.Sb(48,"input",17),s.Wb(),s.Rc(49,w,2,0,"mat-error",13),s.Wb(),s.Xb(50,"div",5),s.Xb(51,"mat-hint",6),s.Tc(52,"Product Description*"),s.Wb(),s.Xb(53,"mat-card",7),s.Sb(54,"input",18),s.Wb(),s.Rc(55,U,2,0,"mat-error",13),s.Wb(),s.Xb(56,"div",5),s.Xb(57,"mat-hint",6),s.Tc(58,"Application Date*"),s.Wb(),s.Xb(59,"mat-card",7),s.Xb(60,"div",19),s.Xb(61,"input",20),s.fc("dateChange",function(t){return e.addevent(t)}),s.Wb(),s.Wb(),s.Xb(62,"div",21),s.Sb(63,"mat-datepicker-toggle",22),s.Wb(),s.Wb(),s.Rc(64,M,2,0,"mat-error",13),s.Rc(65,G,2,0,"mat-error",13),s.Sb(66,"mat-datepicker",null,23),s.Wb(),s.Wb(),s.Xb(68,"div"),s.Xb(69,"div"),s.Rc(70,B,7,2,"div",24),s.Wb(),s.Xb(71,"div",25),s.Xb(72,"div"),s.Tc(73," Want to add SWIFT Code ? "),s.Xb(74,"mat-slide-toggle",26),s.fc("change",function(t){return e.onToggle(t)}),s.Wb(),s.Wb(),s.Sb(75,"br"),s.Wb(),s.Xb(76,"div"),s.Xb(77,"div",27),s.Xb(78,"label"),s.Tc(79,"Initial Funding?"),s.Wb(),s.Sb(80,"div",28),s.Sb(81,"mat-slide-toggle",29),s.Wb(),s.Wb(),s.Xb(82,"div"),s.Xb(83,"div",27),s.Xb(84,"label"),s.Tc(85,"Overdraft Requested?"),s.Wb(),s.Sb(86,"div",28),s.Sb(87,"mat-slide-toggle",30),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(88,"div",31),s.Xb(89,"button",32),s.fc("click",function(){return e.onSubmit()}),s.Tc(90,"Save"),s.Wb(),s.Tc(91," \xa0\xa0\xa0 "),s.Xb(92,"button",33),s.fc("click",function(){return e.close()}),s.Tc(93," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(67);s.Eb(6),s.rc("formGroup",e.accountUpdateForm),s.Eb(7),s.rc("ngIf",e.showSpinn),s.Eb(11),s.rc("ngForOf",e.arrayAccountType),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("accountType").hasError("required")&&e.accountUpdateForm.get("accountType").touched),s.Eb(6),s.rc("ngForOf",e.arrayAccountBranch),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("accountBranch").hasError("required")&&e.accountUpdateForm.get("accountBranch").touched),s.Eb(5),s.rc("readonly",!0),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("accountCurrency").hasError("required")&&e.accountUpdateForm.get("accountCurrency").touched),s.Eb(11),s.rc("ngIf",e.accountUpdateForm.get("businessProductName").hasError("required")&&e.accountUpdateForm.get("businessProductName").touched),s.Eb(6),s.rc("ngIf",e.accountUpdateForm.get("productDescription").hasError("required")&&e.accountUpdateForm.get("productDescription").touched),s.Eb(6),s.rc("matDatepicker",a)("min",e.validDate),s.Eb(2),s.rc("for",a),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("applicationDate").hasError("required")&&e.accountUpdateForm.get("applicationDate").touched),s.Eb(1),s.rc("ngIf",e.invalidDate),s.Eb(5),s.rc("ngIf",e.flag),s.Eb(19),s.rc("disabled",e.accountUpdateForm.invalid)}},directives:[X.e,X.f,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,x.b,v.c,v.r,v.i,c.n,v.y,C.a,c.m,A.e,A.g,I.j,A.d,O.a,D.b,R.b,S.n,I.b,v.n,v.m],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),z),K=r("3kSh"),J=r("3sEA"),H=r("o4Yh"),$=r("f44v"),Y=r("2Goh");function Z(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Q(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Ownership is Required! "),s.Wb())}function tt(t,e){if(1&t){var a=s.Yb();s.Vb(0),s.Xb(1,"mat-form-field",20),s.Xb(2,"mat-label"),s.Tc(3,"Number of Applicants*"),s.Wb(),s.Xb(4,"mat-select",21),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).onChangeApplicantNo(t)}),s.Xb(5,"mat-option",18),s.Tc(6,"1"),s.Wb(),s.Xb(7,"mat-option",18),s.Tc(8,"2"),s.Wb(),s.Xb(9,"mat-option",18),s.Tc(10,"3"),s.Wb(),s.Xb(11,"mat-option",18),s.Tc(12,"4"),s.Wb(),s.Xb(13,"mat-option",18),s.Tc(14,"5"),s.Wb(),s.Wb(),s.Wb(),s.Ub()}2&t&&(s.Eb(5),s.rc("value",1),s.Eb(2),s.rc("value",2),s.Eb(2),s.rc("value",3),s.Eb(2),s.rc("value",4),s.Eb(2),s.rc("value",5))}function et(t,e){if(1&t&&(s.Xb(0,"mat-chip",65),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit,n=s.jc(2);s.rc("color","warn")("selected",a.value.primaryCustomer),s.Eb(1),s.Uc(n.account.value.primaryCustomer?"primary":"")}}function at(t,e){1&t&&s.Tb(0)}var nt=function(t){return{$implicit:t}};function ot(t,e){if(1&t&&(s.Vb(0),s.Rc(1,at,1,0,"ng-container",66),s.Ub()),2&t){var a=s.jc().$implicit,n=s.jc(2);s.Eb(1),s.rc("ngTemplateOutlet",n.detailApplicant)("ngTemplateOutletContext",s.xc(2,nt,a))}}function it(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function rt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Prefix is Required! "),s.Wb())}function ct(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," First Name is Required! "),s.Wb())}function lt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Last Name is Required! "),s.Wb())}function st(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Date of Birth is Required! "),s.Wb())}function bt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ut(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Gender is Required! "),s.Wb())}function dt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function mt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Resident Status is Required! "),s.Wb())}function pt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Birth Place is Required! "),s.Wb())}function ft(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ht(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Country of Residence is Required! "),s.Wb())}function gt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function vt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Citizenship By is Required! "),s.Wb())}function yt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Occupation Type is Required! "),s.Wb())}function Wt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Xt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," ID Type is Required! "),s.Wb())}function Tt(t,e){1&t&&(s.Xb(0,"div"),s.Tc(1,"Unique ID Number is Required!"),s.Wb())}function It(t,e){1&t&&(s.Xb(0,"div"),s.Tc(1,"This is a numeric field "),s.Wb())}function Et(t,e){if(1&t&&(s.Xb(0,"mat-error",19),s.Rc(1,Tt,2,0,"div",33),s.Rc(2,It,2,0,"div",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("ngIf",a.get("idNumber").hasError("required")),s.Eb(1),s.rc("ngIf",a.get("idNumber").hasError("pattern"))}}function xt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," ID Type Valid Till is Required! "),s.Wb())}function Ct(t,e){if(1&t&&(s.Xb(0,"div",39),s.Xb(1,"mat-hint",10),s.Tc(2,"ID Type Valid Till*"),s.Wb(),s.Xb(3,"mat-card",71),s.Xb(4,"div",72),s.Sb(5,"input",73),s.Wb(),s.Xb(6,"div",74),s.Sb(7,"mat-datepicker-toggle",46),s.Wb(),s.Wb(),s.Rc(8,xt,2,0,"mat-error",13),s.Sb(9,"mat-datepicker",null,75),s.Wb()),2&t){var a=s.Dc(10),n=s.jc().$implicit,o=s.jc(3);s.Eb(5),s.rc("matDatepicker",a)("min",o.validDate),s.Eb(2),s.rc("for",a),s.Eb(1),s.rc("ngIf",n.get("expiryDate").hasError("required"))}}function At(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",67),s.Xb(1,"div",39),s.Xb(2,"mat-hint",10),s.Tc(3,"ID Type*"),s.Wb(),s.Xb(4,"mat-card",40),s.Xb(5,"mat-select",68),s.fc("selectionChange",function(){s.Hc(a);var t=e.$implicit;return s.jc(3).changeIdType(t.get("idType").value)}),s.Rc(6,Wt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(7,Xt,2,0,"mat-error",13),s.Wb(),s.Xb(8,"div",39),s.Xb(9,"mat-hint",10),s.Tc(10,"Unique ID Number *"),s.Wb(),s.Xb(11,"mat-card",40),s.Sb(12,"input",69),s.Wb(),s.Rc(13,Et,3,2,"mat-error",13),s.Wb(),s.Rc(14,Ct,11,4,"div",70),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc(3);s.rc("formGroupName",o),s.Eb(6),s.rc("ngForOf",i.arrayDocumentType),s.Eb(1),s.rc("ngIf",n.get("idType").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid),s.Eb(1),s.rc("ngIf","Passport"==n.get("idType").value||"DL"==n.get("idType").value)}}function Ot(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Address 1 is Required! "),s.Wb())}function Dt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please Enter Valid Address "),s.Wb())}function Rt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Address 2 is Required! "),s.Wb())}function St(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please Enter Valid Address "),s.Wb())}function kt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Nt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Residence Type is Required! "),s.Wb())}function Pt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ft(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Country is Required! "),s.Wb())}function Lt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName,"")}}function _t(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," State is Required! "),s.Wb())}function wt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc("",a," ")}}function Ut(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," City is Required! "),s.Wb())}function Mt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please enter valid Zip Code!(5-10 digits) "),s.Wb())}function Gt(t,e){1&t&&(s.Xb(0,"h5",85),s.Tc(1,"Please enter valid Zip Code! "),s.Wb())}function Vt(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",76),s.Xb(1,"div",77),s.Xb(2,"div",39),s.Xb(3,"mat-hint",10),s.Tc(4,"Address Line 1*"),s.Wb(),s.Xb(5,"mat-card",40),s.Sb(6,"textarea",78),s.Wb(),s.Rc(7,Ot,2,0,"mat-error",13),s.Rc(8,Dt,2,0,"mat-error",13),s.Wb(),s.Xb(9,"div",39),s.Xb(10,"mat-hint",10),s.Tc(11,"Address 2*"),s.Wb(),s.Xb(12,"mat-card",40),s.Sb(13,"textarea",79),s.Wb(),s.Rc(14,Rt,2,0,"mat-error",13),s.Rc(15,St,2,0,"mat-error",13),s.Wb(),s.Xb(16,"div",39),s.Xb(17,"mat-hint",10),s.Tc(18,"Residence Type*"),s.Wb(),s.Xb(19,"mat-card",40),s.Xb(20,"mat-select"),s.Rc(21,kt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(22,Nt,2,0,"mat-error",13),s.Wb(),s.Xb(23,"div",39),s.Xb(24,"mat-hint",10),s.Tc(25,"Country*"),s.Wb(),s.Xb(26,"mat-card",40),s.Xb(27,"mat-select",80),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(3).getStateName(t.value)}),s.Rc(28,Pt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(29,Ft,2,0,"mat-error",13),s.Wb(),s.Xb(30,"div",39),s.Xb(31,"mat-hint",10),s.Tc(32,"State*"),s.Wb(),s.Xb(33,"mat-card",40),s.Xb(34,"mat-select",81),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(3).getCityName(t.value)}),s.Rc(35,Lt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(36,_t,2,0,"mat-error",13),s.Wb(),s.Xb(37,"div",39),s.Xb(38,"mat-hint",10),s.Tc(39,"City*"),s.Wb(),s.Xb(40,"mat-card",40),s.Xb(41,"mat-select",82),s.Rc(42,wt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(43,Ut,2,0,"mat-error",13),s.Wb(),s.Xb(44,"div",39),s.Xb(45,"mat-hint",10),s.Tc(46,"Zip Code*"),s.Wb(),s.Xb(47,"mat-card",40),s.Xb(48,"input",83),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).onKeyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(3).isAllSameDigit(t)}),s.Wb(),s.Wb(),s.Rc(49,Mt,2,0,"mat-error",13),s.Rc(50,Gt,2,0,"h5",84),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc(3);s.rc("formGroupName",o),s.Eb(7),s.rc("ngIf",n.get("address1").touched&&n.get("address1").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("address2").touched&&n.get("address1").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("address2").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("address2").touched&&n.get("address2").hasError("pattern")),s.Eb(6),s.rc("ngForOf",i.arrayAddressType),s.Eb(1),s.rc("ngIf",n.get("addressType").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("zipCode").hasError("required")&&!n.controls.zipCode.valid&&(null==n.controls.zipCode?null:n.controls.zipCode.touched)),s.Eb(1),s.rc("ngIf",i.isAllSameDigitVal)}}function jt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please, Enter 10 digit Mobile Number! "),s.Wb())}function Bt(t,e){1&t&&(s.Xb(0,"mat-error",86),s.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),s.Wb())}function zt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Landline Number is Required! "),s.Wb())}function qt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please, Enter 10 digit Landline Number! "),s.Wb())}function Kt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," E-mail is Required! "),s.Wb())}function Jt(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.Xb(1,"mat-accordion",23),s.Xb(2,"mat-expansion-panel"),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Xb(5,"mat-icon",24),s.Tc(6,"check_circle"),s.Wb(),s.Xb(7,"span",25),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card"),s.Xb(10,"mat-card-header"),s.Xb(11,"div",26),s.Sb(12,"app-avatar-photo",27),s.Wb(),s.Xb(13,"mat-card-title"),s.Xb(14,"div",28),s.Xb(15,"h6",29),s.Tc(16),s.Wb(),s.Sb(17,"span",30),s.Rc(18,et,2,3,"mat-chip",31),s.Wb(),s.Wb(),s.Xb(19,"mat-card-subtitle"),s.Xb(20,"span",32),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"mat-card-container"),s.Rc(23,ot,2,4,"ng-container",33),s.Wb(),s.Xb(24,"div"),s.Xb(25,"div",34),s.Xb(26,"div",35),s.Xb(27,"label"),s.Tc(28,"Is the applicant an existing customer?"),s.Wb(),s.Tc(29," \xa0\xa0 "),s.Sb(30,"mat-slide-toggle",36),s.Wb(),s.Xb(31,"div",35),s.Xb(32,"label"),s.Tc(33,"Is the applicant a primary customer?"),s.Wb(),s.Tc(34," \xa0\xa0 "),s.Sb(35,"mat-slide-toggle",37),s.Sb(36,"div",38),s.Wb(),s.Xb(37,"div",39),s.Xb(38,"mat-hint",10),s.Tc(39,"Customer Prefix*"),s.Wb(),s.Xb(40,"mat-card",40),s.Xb(41,"mat-select",41),s.Rc(42,it,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(43,rt,2,0,"mat-error",13),s.Wb(),s.Xb(44,"div",39),s.Xb(45,"mat-hint",10),s.Tc(46,"First Name*"),s.Wb(),s.Xb(47,"mat-card",40),s.Xb(48,"input",42),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(49,ct,2,0,"mat-error",13),s.Wb(),s.Xb(50,"div",39),s.Xb(51,"mat-hint",10),s.Tc(52,"Middle Name"),s.Wb(),s.Xb(53,"mat-card",40),s.Xb(54,"input",43),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(55,"div",39),s.Xb(56,"mat-hint",10),s.Tc(57,"Last Name*"),s.Wb(),s.Xb(58,"mat-card",40),s.Xb(59,"input",44),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(60,lt,2,0,"mat-error",13),s.Wb(),s.Xb(61,"div",39),s.Xb(62,"mat-hint",10),s.Tc(63,"Date of Birth*"),s.Wb(),s.Xb(64,"mat-card",40),s.Sb(65,"input",45),s.Sb(66,"mat-datepicker-toggle",46),s.Wb(),s.Rc(67,st,2,0,"mat-error",13),s.Sb(68,"mat-datepicker",null,47),s.Wb(),s.Xb(70,"div",39),s.Xb(71,"mat-hint",10),s.Tc(72,"Gender*"),s.Wb(),s.Xb(73,"mat-card",40),s.Xb(74,"mat-select",48),s.Rc(75,bt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(76,ut,2,0,"mat-error",13),s.Wb(),s.Xb(77,"div",39),s.Xb(78,"mat-hint",10),s.Tc(79,"Resident Status*"),s.Wb(),s.Xb(80,"mat-card",40),s.Xb(81,"mat-select",49),s.Rc(82,dt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(83,mt,2,0,"mat-error",13),s.Wb(),s.Xb(84,"div",39),s.Xb(85,"mat-hint",10),s.Tc(86,"Birth Place*"),s.Wb(),s.Xb(87,"mat-card",40),s.Sb(88,"input",50),s.Wb(),s.Rc(89,pt,2,0,"mat-error",13),s.Wb(),s.Xb(90,"div",39),s.Xb(91,"mat-hint",10),s.Tc(92,"Country of Residence*"),s.Wb(),s.Xb(93,"mat-card",40),s.Xb(94,"mat-select",51),s.Rc(95,ft,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(96,ht,2,0,"mat-error",13),s.Wb(),s.Xb(97,"div",39),s.Xb(98,"mat-hint",10),s.Tc(99,"Citizenship By*"),s.Wb(),s.Xb(100,"mat-card",40),s.Xb(101,"mat-select",52),s.Rc(102,gt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(103,vt,2,0,"mat-error",13),s.Wb(),s.Xb(104,"div",39),s.Xb(105,"mat-hint",10),s.Tc(106,"Occupation Type*"),s.Wb(),s.Xb(107,"mat-card",40),s.Sb(108,"input",53),s.Wb(),s.Rc(109,yt,2,0,"mat-error",13),s.Wb(),s.Xb(110,"div",54),s.Rc(111,At,15,5,"div",55),s.Wb(),s.Wb(),s.Xb(112,"mat-accordion"),s.Xb(113,"mat-expansion-panel",56),s.Xb(114,"mat-expansion-panel-header"),s.Xb(115,"mat-panel-title"),s.Tc(116,"Contact Information "),s.Wb(),s.Wb(),s.Xb(117,"div",57),s.Rc(118,Vt,51,15,"div",58),s.Wb(),s.Wb(),s.Wb(),s.Xb(119,"mat-accordion"),s.Xb(120,"mat-expansion-panel",56),s.Xb(121,"mat-expansion-panel-header"),s.Xb(122,"mat-panel-title"),s.Tc(123,"Contact Information "),s.Wb(),s.Wb(),s.Xb(124,"div",34),s.Xb(125,"div",39),s.Xb(126,"mat-hint",10),s.Tc(127,"Mobile Number*"),s.Wb(),s.Xb(128,"mat-card",40),s.Xb(129,"input",59),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).onKeyPress(t)}),s.Wb(),s.Wb(),s.Rc(130,jt,2,0,"mat-error",13),s.Rc(131,Bt,2,0,"mat-error",60),s.Wb(),s.Xb(132,"div",39),s.Xb(133,"mat-hint",10),s.Tc(134,"Landline Number"),s.Wb(),s.Xb(135,"mat-card",40),s.Xb(136,"input",61),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).onKeyPress(t)}),s.Wb(),s.Wb(),s.Rc(137,zt,2,0,"mat-error",13),s.Rc(138,qt,2,0,"mat-error",13),s.Wb(),s.Xb(139,"div",39),s.Xb(140,"mat-hint",10),s.Tc(141,"E-mail*"),s.Wb(),s.Xb(142,"mat-card",40),s.Sb(143,"input",62),s.Wb(),s.Rc(144,Kt,2,0,"mat-error",13),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(145,"div",63),s.Xb(146,"button",64),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc(2).onSubmit(t.value,n)}),s.Tc(147," UPDATE APPLICANT "),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.Dc(69),r=s.jc(2);s.rc("item",r.account)("formGroupName",o),s.Eb(8),s.Vc("Applicant ",o+1,""),s.Eb(4),s.rc("name",n.value.firstName+" "+n.value.lastName),s.Eb(4),s.Uc(n.value.firstName+" "+n.value.lastName),s.Eb(2),s.rc("ngIf",n.primaryCustomer),s.Eb(3),s.Vc("CIF ",null!=n.value.cifNumber?"#"+n.value.cifNumber:"-n/a",""),s.Eb(2),s.rc("ngIf",(null==r.selectedApplicant?null:r.selectedApplicant._id)===n._id),s.Eb(19),s.rc("ngForOf",r.arrayPrefix),s.Eb(1),s.rc("ngIf",n.get("prefix").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("firstName").hasError("required")),s.Eb(11),s.rc("ngIf",n.get("lastName").hasError("required")),s.Eb(5),s.rc("matDatepicker",i)("max",r.tomorrow)("max",r.maxDate),s.Eb(1),s.rc("for",i),s.Eb(1),s.rc("ngIf",n.get("dateOfBirth").hasError("required")),s.Eb(8),s.rc("ngForOf",r.arrayGender),s.Eb(1),s.rc("ngIf",n.get("gender").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayResidence),s.Eb(1),s.rc("ngIf",n.get("residenceStatus").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("placeOfBirth").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("countryOfResidence").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("nationality").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("occupationType").hasError("required")),s.Eb(2),s.rc("ngForOf",n.get("custIdProofs").controls),s.Eb(7),s.rc("ngForOf",n.get("userAddress").controls),s.Eb(12),s.rc("ngIf",n.get("phoneNumber").hasError("pattern")),s.Eb(1),s.rc("ngIf","0000000000"==n.get("phoneNumber").value),s.Eb(6),s.rc("ngIf",n.get("landlineNumber").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("landlineNumber").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("primaryEmailAdress").hasError("required")),s.Eb(2),s.rc("disabled",n.invalid)}}function Ht(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"div"),s.Xb(2,"div",8),s.Xb(3,"div",9),s.Xb(4,"mat-hint",10),s.Tc(5,"Ownership"),s.Wb(),s.Xb(6,"mat-card"),s.Xb(7,"mat-select",11),s.fc("selectionChange",function(){return s.Hc(a),s.jc().changeOwner()}),s.Rc(8,Z,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(9,Q,2,0,"mat-error",13),s.Wb(),s.Xb(10,"div",14),s.Rc(11,tt,15,5,"ng-container",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",16),s.Rc(13,Jt,148,35,"div",17),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.rc("formGroup",n.customerInfoUpdateForm),s.Eb(8),s.rc("ngForOf",n.arrayOwnership),s.Eb(1),s.rc("ngIf",n.customerInfoUpdateForm.get("ownership").hasError("required")),s.Eb(2),s.rc("ngIf","Join"==n.customerInfoUpdateForm.get("ownership").value)("ngIfElse",n.showAdd),s.Eb(2),s.rc("ngForOf",n.applicant.controls)}}var $t,Yt=(($t=function(){function t(e,a,o,i,r,c,l,s,b,u,d){n(this,t),this.data=e,this.dialogRef=a,this.appApiService=o,this.formBuilder=i,this.apiService=r,this.tasksummaryService=c,this.ls=l,this.snack=s,this.cdr=b,this.loader=u,this.confirmService=d,this.listOfAccounts=[],this.arrayCountry=[],this.arrayCity=[],this.arrayState=[]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.productCustomerId=this.ls.getItem("accountDetails.customerId"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getOwnershipValue("ownership"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getDocumentType("document_type"),this.getAdressType("address_type"),this.data?(this.getStateValueArray(this.data.data[0].userAddress[0].country),this.getAllAuthCities(),this.buildCustomerForm(this.data.data),this.addCustFormGroup(this.data.data,this.data.data.length)):(this.buildCustomerForm(),this.addCustFormGroup(null,1)),console.log(this.customerInfoUpdateForm)}},{key:"f",get:function(){return this.customerInfoUpdateForm.controls}},{key:"applicantCount",get:function(){return this.f.numOfApplicants}},{key:"applicant",get:function(){return this.f.applicantDetails}},{key:"buildCustomerForm",value:function(t){this.customerInfoUpdateForm=this.formBuilder.group({productAccountId:this.accountId,ownership:t&&t.length>1?"Join":"Self",numOfApplicants:t?t.length.toString():1,applicantDetails:this.formBuilder.array([])})}},{key:"getStateValueArray",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName==t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){e.arrayState=t});break}})}},{key:"getAllAuthCities",value:function(){var t=this;this.apiService.getAuthorizedCityInfo().subscribe(function(e){return e.map(function(e){return t.arrayCity.push(e.cityName)})})}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MM-DD");if(console.log("date",e),e)return e}},{key:"addCustFormGroup",value:function(t,e){for(var a=0;a<e;a++)this.applicant.push(this.formBuilder.group({existingCustomer:[t[a]?t[a].existingCustomer:""],primaryCustomer:[t[a]?t[a].primaryCustomer:""],cifNumber:[t[a]?t[a].cifNumber:""],prefix:[t[a]?t[a].prefix:"",v.z.required],firstName:[t[a]?t[a].firstName:"",v.z.required],middleName:[t[a]?t[a].middleName:""],lastName:[t[a]?t[a].lastName:"",v.z.required],gender:[t[a]?t[a].gender:"",v.z.required],dateOfBirth:[t[a]?t[a].dateOfBirth:"",v.z.required],placeOfBirth:[t[a]?t[a].placeOfBirth:"",v.z.required],residenceStatus:[t[a]?t[a].residenceStatus:"",v.z.required],nationality:[t[a]?t[a].nationality:"",v.z.required],countryOfResidence:[t[a]?t[a].countryOfResidence:"",v.z.required],occupationType:[t[a]?t[a].occupationType:"",v.z.required],phoneNumber:[t[a]?t[a].phoneNumber:"",[v.z.required,v.z.minLength(3),v.z.maxLength(10),v.z.pattern("^[0-9]{10,12}$")]],landlineNumber:[t[a]?t[a].landlineNumber:"",[v.z.required,v.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:[t[a]?t[a].primaryEmailAdress:"",[v.z.required,v.z.email]],userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([])})),this.addCustIdProofs(a,t[a].custIdProofs[0]),this.addAddress(a,t[a].userAddress[0])}},{key:"addAddress",value:function(t,e){this.applicant.controls[t].get("userAddress").push(this.formBuilder.group({address1:[e?e.address1:"",[v.z.required]],address2:[e?e.address2:"",[v.z.required]],addressType:[e?e.addressType:"",[v.z.required]],city:[e?e.city:"",[v.z.required]],state:[e?e.state:"",[v.z.required]],country:[e?e.country:"",[v.z.required]],zipCode:[e?e.zipCode:"",[v.z.required]]}))}},{key:"addCustIdProofs",value:function(t,e){this.applicant.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:"",v.z.required],idType:[e?e.idType:"",v.z.required],expiryDate:[e?e.expiryDate:""]}))}},{key:"changeOwner",value:function(){"Join"==this.customerInfoUpdateForm.get("ownership").value?this.customerInfoUpdateForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}):this.customerInfoUpdateForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1})}},{key:"onChangeApplicantNo",value:function(t){var e=t.target.value,a=this.customerInfoUpdateForm.get("numOfApplicants").value;if(e>a)this.addCustFormGroup(null,e-a);else for(var n=a-1;n>=e;n++)this.applicant.removeAt(n);this.customerInfoUpdateForm.get("numOfApplicants").setValue(e)}},{key:"changeIdType",value:function(t){console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs);var e=this.customerIdProofs.filter(function(e){return e.idType==t});console.log("idProofs::",e),e.length>0?(this.applicant.get("idNumber").patchValue(e[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(e[0].expiryDate))):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getGenderValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayGender=t})}},{key:"getOwnershipValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayOwnership=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getCityName",value:function(t){var e=this;console.log(t),this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getDocumentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayDocumentType=t})}},{key:"getAdressType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAddressType=t})}},{key:"onSubmit",value:function(t,e){var a=this;console.log(t),this.isCifValid=!1,this.customerInfoUpdateForm.invalid||(this.loader.open(),"Passport"==t.value.idType&&(t.value.idType=this.convertDate(t.value.idType)),this.appApiService.createAndUpdateAccountants(t).subscribe(function(t){console.log("data::",t),a.closeDetails(),a.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(a.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.customerInfoUpdateForm.get("ownership").patchValue(t.custDependentModel.ownership),a.customerInfoUpdateForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"!=a.customerInfoUpdateForm.get("ownership").value&&a.applicant.controls.length-1!=e||a.dialogRef.close({status:"BACKLOG"}))},function(t){console.log(t),a.loader.close(),a.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}))}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;console.log("number :: ",a),console.log("isAllSameDigitVal :: ",e,a.length),e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"validateNumber",value:function(t){var e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}},{key:"onSave",value:function(){this.dialogRef.close({status:"BACKLOG"})}},{key:"closeDetails",value:function(){this.selectedApplicant=null,this.applicant.reset(),this.customerInfoUpdateForm.get("numOfApplicants").enable({onlySelf:!0})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||$t)(s.Rb(p.a),s.Rb(p.g),s.Rb(f.a),s.Rb(v.f),s.Rb(b.b),s.Rb(g.a),s.Rb(m.a),s.Rb(W.a),s.Rb(s.h),s.Rb(J.a),s.Rb(K.a))},$t.\u0275cmp=s.Lb({type:$t,selectors:[["app-customer-info-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","50"],[1,"hintClass"],["formControlName","ownership","name","owner","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","50","fxFlex.gt-xs","50"],[4,"ngIf","ngIfElse"],["formArrayName","applicantDetails"],[3,"item","formGroupName",4,"ngFor","ngForOf"],[3,"value"],[1,"errorClass"],["appearance","outline",1,"full-width"],["formControlName","numOfApplicants","name","account",3,"selectionChange"],[3,"item","formGroupName"],["multi","true"],[1,"check-circle"],[1,"ml-8"],["mat-card-avatar",""],[3,"name"],["fxLayout","row"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%"],["formControlName","existingCustomer"],["formControlName","primaryCustomer"],[1,"mb-16"],["fxFlex","30%","fxFlex.xs","100%"],[1,"inputCard"],["name","prefix","formControlName","prefix"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],["name","gender","formControlName","gender"],["name","residenceType","formControlName","residenceStatus"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],["name","resident","formControlName","countryOfResidence"],["name","citizen","formControlName","nationality"],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type"],["formArrayName","custIdProofs","fxFlex","100%"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["expanded","true",1,"mb-8"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["class","errorClass","style","margin-top:-20px",4,"ngIf"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],[1,"pb-1"],["mat-button","","color","primary",1,"place_1",3,"disabled","click"],["mat-sm-chip","",3,"color","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName"],["name","idtype","formControlName","idType",3,"selectionChange"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["fxFlex","30%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"matDatepicker","min"],["fxFlex","15%"],["appDatepicker1",""],[3,"formGroupName"],["fxLayout","row wrap"],["matInput","","formControlName","address1","placeholder","Address 1"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],[2,"color","#E74C3C"],[1,"errorClass",2,"margin-top","-20px"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Customer Information Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Ht,14,6,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSave()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.customerInfoUpdateForm),s.Eb(2),s.rc("disabled",e.customerInfoUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,D.b,v.A,v.s,v.j,X.b,I.f,E.a,C.a,v.r,v.i,v.y,c.m,v.e,S.n,I.b,I.c,I.g,v.k,H.a,H.c,H.e,H.f,E.e,E.c,E.h,E.g,O.a,x.b,v.c,A.e,A.g,I.j,A.d,v.m,$.a,c.s,v.w,v.n,Y.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),$t),Zt=r("YS3K"),Qt=r("LvDl"),te=r("zQhy"),ee=r("pMoy");function ae(t,e){if(1&t){var a=s.Yb();s.Xb(0,"p",31),s.Xb(1,"mat-checkbox",32),s.fc("change",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).onChecklistChange(t.checked,n)}),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("value",n)("checked",n.checked),s.Eb(1),s.Vc("",n.name," ")}}function ne(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",33),s.Xb(1,"mat-checkbox",32),s.fc("change",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).onCheckbankChange(t.checked,n)}),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("value",n)("checked",n.checked),s.Eb(1),s.Vc("",n.name," ")}}function oe(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",34),s.Xb(1,"mat-checkbox",32),s.fc("change",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).onCheckComChange(t.checked,n)}),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("value",n)("checked",n.checked),s.Eb(1),s.Vc("",n.name," ")}}function ie(t,e){if(1&t&&(s.Xb(0,"mat-option",40),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function re(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Normal"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"20,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"20,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"Nil"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"10,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function ce(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Silver"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"40,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"40,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"20,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"40,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function le(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Gold"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"50,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"50,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"30,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"50,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function se(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Diamond"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"75,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"75,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"50,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"75,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function be(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Platinum"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"1,00,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"1,00,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"1,00,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"1,00,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function ue(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",35),s.Xb(1,"mat-form-field",36),s.Xb(2,"mat-label"),s.Tc(3,"Card Type"),s.Wb(),s.Xb(4,"mat-select",37),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).cards(t)}),s.Rc(5,ie,2,2,"mat-option",38),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Rc(7,re,32,0,"div",39),s.Rc(8,ce,32,0,"div",39),s.Rc(9,le,32,0,"div",39),s.Rc(10,se,32,0,"div",39),s.Rc(11,be,32,0,"div",39),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("ngForOf",n.arrayCardType),s.Eb(2),s.rc("ngIf",n.Normal),s.Eb(1),s.rc("ngIf",n.Silver),s.Eb(1),s.rc("ngIf",n.Gold),s.Eb(1),s.rc("ngIf",n.Diamond),s.Eb(1),s.rc("ngIf",n.Platinum)}}function de(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"div",8),s.Xb(2,"div"),s.Xb(3,"div"),s.Xb(4,"mat-label"),s.Tc(5," Account Statement Frequency "),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Xb(7,"mat-radio-group",9),s.fc("change",function(t){return s.Hc(a),s.jc().statementFrequency(t.value)}),s.Xb(8,"mat-radio-button",10),s.Tc(9," Monthly "),s.Wb(),s.Xb(10,"mat-radio-button",11),s.Tc(11," Bi-Annual "),s.Wb(),s.Xb(12,"mat-radio-button",12),s.Tc(13," Quaterly "),s.Wb(),s.Xb(14,"mat-radio-button",13),s.Tc(15," Annual "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div"),s.Xb(18,"mat-label"),s.Tc(19," Account Statement Preference* "),s.Wb(),s.Wb(),s.Xb(20,"div"),s.Rc(21,ae,3,3,"p",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",15),s.Xb(23,"button",16),s.Tc(24," MORE PREFERENCE "),s.Wb(),s.Wb(),s.Xb(25,"div"),s.Xb(26,"div",8),s.Xb(27,"div",17),s.Xb(28,"div",18),s.Xb(29,"mat-label"),s.Tc(30," Banking Channel Preferences* "),s.Wb(),s.Wb(),s.Xb(31,"div",18),s.Rc(32,ne,3,3,"div",19),s.Wb(),s.Wb(),s.Xb(33,"div",17),s.Xb(34,"div",18),s.Xb(35,"mat-label"),s.Tc(36,"Communication Channel Preferences*"),s.Wb(),s.Wb(),s.Xb(37,"div",18),s.Rc(38,oe,3,3,"div",20),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",21),s.Xb(40,"div",22),s.Sb(41,"div",23),s.Xb(42,"div",24),s.Tc(43," Do you need a cheque book? "),s.Sb(44,"mat-slide-toggle",25),s.Wb(),s.Wb(),s.Xb(45,"div",26),s.Xb(46,"div",24),s.Tc(47," Do you need a passbook book? "),s.Sb(48,"mat-slide-toggle",27),s.Wb(),s.Wb(),s.Wb(),s.Xb(49,"div",21),s.Xb(50,"div",28),s.Sb(51,"div",23),s.Xb(52,"div",24),s.Tc(53," Do you need a debit card? "),s.Xb(54,"mat-slide-toggle",29),s.fc("change",function(t){return s.Hc(a),s.jc().onToggle(t)}),s.Wb(),s.Wb(),s.Wb(),s.Rc(55,ue,12,6,"div",30),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.rc("formGroup",n.serviceUpdateForm),s.Eb(21),s.rc("ngForOf",n.statementList),s.Eb(11),s.rc("ngForOf",n.bankList),s.Eb(6),s.rc("ngForOf",n.communicationList),s.Eb(17),s.rc("ngIf",n.isDebitLimit)}}var me,pe=((me=function(){function t(e,a,o,i,r,c,l,s){n(this,t),this.data=e,this.dialogRef=a,this.ls=o,this.formBuilder=i,this.cdr=r,this.apiService=c,this.snack=l,this.tasksummaryService=s,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.bankList=[{id:1,name:"Phone Banking",checked:!1},{id:2,name:"Kiosk Banking",checked:!1},{id:3,name:"Direct Banking",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.bankChannelPreferencesArray=[],this.arrayCardType=["Normal","Silver","Gold","Diamond","Platinum"],this.arrayModeOfOperation=["25000","50000","100000"],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.Platinum=!1,this.Diamond=!1,this.Normal=!1,this.Silver=!1,this.Gold=!1}return i(t,[{key:"ngOnInit",value:function(){if(console.log(this.data),this.accountId=this.ls.getItem("accountId"),null!=this.data&&null!=this.data){this.buildServiceForm(this.data),this.statementList=this.data.statementPref,this.communicationList=this.data.commChannelPref,this.bankList=this.data.bankChannelPref,this.data.debitCardRequired&&(this.isDebitLimit=!0),this.cdr.markForCheck();for(var t=0;t<this.bankList.length;t++)this.bankList[t].checked&&this.bankChannelPreferencesArray.push(this.bankList[t].name);for(t=0;t<this.communicationList.length;t++)this.communicationList[t].checked&&this.commChannelPreferencesArray.push(this.communicationList[t].name);for(t=0;t<this.statementList.length;t++)this.statementList[t].checked&&this.AccStatementPreferenceArray.push(this.statementList[t].name)}else this.buildServiceForm(),this.serviceUpdateForm.controls.statementPref.patchValue(this.statementList),this.serviceUpdateForm.controls.commChannelPref.patchValue(this.communicationList)}},{key:"buildServiceForm",value:function(t){this.serviceUpdateForm=this.formBuilder.group({accServiceId:[t?t.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[t?t.statementFrequency:""],statementPref:[t?this.flattenValues(t.statementPref):""],bankChannelPref:[t?t.bankChannelPref:""],commChannelPref:[t?this.flattenValues(t.commChannelPref):""],chequebookNeeded:[!!t&&t.chequebookNeeded],debitcardNeeded:[!!t&&t.debitcardNeeded],passbookNeeded:[!!t&&t.passbookNeeded],cardType:[t?t.cardType:""],modeOfOperation:[t?t.modeOfOperation:""],debitCardRequired:[!!t&&t.debitCardRequired],debitCardLimit:[t?t.debitCardLimit:0],debitCardType:[t?t.debitCardType:""]})}},{key:"flattenValues",value:function(t){return Object(Qt.flow)([Object(Zt.filter)(function(t){return t.checked}),Object(Zt.flatMap)(function(t){return t.name})])(t).join(",")}},{key:"onToggle",value:function(t){console.log("event",t.checked),this.isDebitLimit=1==t.checked}},{key:"cards",value:function(t){console.log(t.value),"Normal"==t.value?(console.log(t.value),this.Normal=!0,this.Silver=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Silver"==t.value?(this.Silver=!0,this.Normal=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Gold"==t.value?(this.Gold=!0,this.Silver=!1,this.Normal=!1,this.Diamond=!1,this.Platinum=!1):"Diamond"==t.value?(this.Diamond=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Platinum=!1):"Platinum"==t.value&&(this.Platinum=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Diamond=!1)}},{key:"onChecklistChange",value:function(t,e){var a=this;e.checked=t,this.serviceUpdateForm.get("statementPref").setValue(this.flattenValues(this.statementList)),t?this.AccStatementPreferenceArray.push(e.name):this.AccStatementPreferenceArray.forEach(function(t,n){t===e.name&&a.AccStatementPreferenceArray.splice(n,1)})}},{key:"onCheckComChange",value:function(t,e){var a=this;console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),t?(this.commChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.commChannelPreferencesArray.forEach(function(t,n){t===e.name&&(a.commChannelPreferencesArray.splice(n,1),console.log("checked",e.name))})}},{key:"onCheckbankChange",value:function(t,e){var a=this;console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("bankChannelPref").setValue(this.flattenValues(this.bankList)),t?(this.bankChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.bankChannelPreferencesArray.forEach(function(t,n){t===e.name&&(a.bankChannelPreferencesArray.splice(n,1),console.log("checked",e.name))})}},{key:"onSubmit",value:function(){var t=this;this.serviceUpdateForm.invalid||this.apiService.createAccountService(this.accountId,{productAccountId:this.accountId,accServiceId:this.serviceUpdateForm.value.accServiceId,statementFrequency:this.serviceUpdateForm.value.statementFrequency,statementPref:this.statementList,bankChannelPref:this.bankList,commChannelPref:this.communicationList,chequebookNeeded:this.serviceUpdateForm.value.chequebookNeeded,debitCardRequired:this.serviceUpdateForm.value.debitCardRequired,passbookNeeded:this.serviceUpdateForm.value.passbookNeeded,debitCardLimit:this.serviceUpdateForm.value.debitCardLimit,debitCardType:this.serviceUpdateForm.value.debitCardType,accountType:"createAccount"}).subscribe(function(e){console.log(e),t.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(t){console.log(t)})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||me)(s.Rb(p.a),s.Rb(p.g),s.Rb(m.a),s.Rb(v.f),s.Rb(s.h),s.Rb(b.b),s.Rb(W.a),s.Rb(g.a))},me.\u0275cmp=s.Lb({type:me,selectors:[["app-service-details-update"]],decls:17,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","20%"],["name","statementFreq","formControlName","statementFrequency","required","",3,"change"],["value","MONTHLY","color","primary"],["value","BIANNUAL","color","primary"],["value","QUATERLY","color","primary"],["value","ANNUAL","color","primary"],["formArrayName","statementPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"mt-32"],["mat-button","","rounded","","color","primary"],["fxLayout","row wrap"],["fxFlex","100"],["fxFlex","60","formArrayName","bankChannelPref",4,"ngFor","ngForOf"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"m-32"],[1,"pb-1","mt-32"],["color","primary","name","checqueBook","formControlName","chequebookNeeded"],["fxFlex","100","fxFlex.gt-xs","50"],["color","primary","name","passbook","formControlName","passbookNeeded"],["fxFlex","100","fxFlex.gt-xs","25",1,"pr-1"],["color","primary","name","debitCardRequired","formControlName","debitCardRequired",3,"change"],["fxFlex","100","style","padding-top: 20px;","fxFlex.gt-xs","20","class","pr-1",4,"ngIf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","60","formArrayName","bankChannelPref"],["fxFlex","25","formArrayName","commChannelPref"],["fxFlex","100","fxFlex.gt-xs","20",1,"pr-1",2,"padding-top","20px"],["appearance","outline",1,"full-width"],["formControlName","debitCardType","name","debitCardType","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"table","table-bordered"],[2,"color","#03a9f4"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Account Service Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"mat-card-title"),s.Tc(8," Account Statement "),s.Wb(),s.Xb(9,"mat-card-content"),s.Rc(10,de,56,5,"form",3),s.Wb(),s.Wb(),s.Wb(),s.Xb(11,"div",4),s.Xb(12,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(13,"Save"),s.Wb(),s.Tc(14," \xa0\xa0\xa0 "),s.Xb(15,"button",6),s.fc("click",function(){return e.close()}),s.Tc(16," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(10),s.rc("ngIf",e.serviceUpdateForm),s.Eb(2),s.rc("disabled",!e.serviceUpdateForm.valid||0==e.bankChannelPreferencesArray.length||0==e.commChannelPreferencesArray.length||0==e.AccStatementPreferenceArray.length))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,E.a,E.h,E.d,c.n,D.b,v.A,v.s,v.j,I.g,te.b,v.r,v.i,v.y,te.a,c.m,X.b,O.a,v.e,ee.a,I.c,C.a,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),me);function fe(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function he(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Prefix is Required! "),s.Wb())}function ge(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," First Name is Required! "),s.Wb())}function ve(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Only Alphabets allowed "),s.Wb())}function ye(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Only Alphabets allowed "),s.Wb())}function We(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Last Name is Required! "),s.Wb())}function Xe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Only Alphabets allowed "),s.Wb())}function Te(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ie(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Relationship Type is Required! "),s.Wb())}function Ee(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Date of Birth is Required! "),s.Wb())}function xe(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ce(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Prefix is Required! "),s.Wb())}function Ae(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," First Name is Required! "),s.Wb())}function Oe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Last Name is Required! "),s.Wb())}function De(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Relationship Type is Required! "),s.Wb())}function Re(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Date of Birth is Required! "),s.Wb())}function Se(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",45),s.Xb(2,"h3"),s.Xb(3,"strong"),s.Tc(4,"Guardians Details"),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div",46),s.Xb(6,"div"),s.Xb(7,"div",12),s.Xb(8,"mat-hint"),s.Tc(9,"Prefix*"),s.Wb(),s.Xb(10,"mat-card"),s.Xb(11,"mat-select",47),s.Rc(12,xe,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(13,Ce,2,0,"mat-error",15),s.Wb(),s.Xb(14,"div",12),s.Xb(15,"mat-hint"),s.Tc(16,"First Name*"),s.Wb(),s.Xb(17,"mat-card"),s.Xb(18,"input",48),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(19,Ae,2,0,"mat-error",15),s.Wb(),s.Xb(20,"div",12),s.Xb(21,"mat-hint"),s.Tc(22,"Middle Name"),s.Wb(),s.Xb(23,"mat-card"),s.Xb(24,"input",49),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",12),s.Xb(26,"mat-hint"),s.Tc(27,"Last Name*"),s.Wb(),s.Xb(28,"mat-card"),s.Xb(29,"input",50),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(30,Oe,2,0,"mat-error",15),s.Wb(),s.Xb(31,"div",12),s.Xb(32,"mat-hint"),s.Tc(33,"RelationShip Type*"),s.Wb(),s.Xb(34,"mat-card"),s.Sb(35,"input",51),s.Wb(),s.Rc(36,De,2,0,"mat-error",15),s.Wb(),s.Xb(37,"div",12),s.Xb(38,"mat-hint"),s.Tc(39,"Date Of Birth*"),s.Wb(),s.Xb(40,"mat-card"),s.Sb(41,"input",52),s.Sb(42,"mat-datepicker-toggle",21),s.Wb(),s.Rc(43,Re,2,0,"mat-error",15),s.Sb(44,"mat-datepicker",null,53),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.Dc(45),r=s.jc(3);s.Eb(5),s.rc("formGroupName",o),s.Eb(7),s.rc("ngForOf",r.arrayPrefix),s.Eb(1),s.rc("ngIf",n.get("prefix").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("firstName").hasError("required")),s.Eb(11),s.rc("ngIf",n.get("lastName").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("relationshipType").hasError("required")),s.Eb(5),s.rc("matDatepicker",i)("max",r.tomorrow),s.Eb(1),s.rc("for",i),s.Eb(1),s.rc("ngIf",n.get("dateOfBirth").hasError("required"))}}function ke(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Street is Required! "),s.Wb())}function Ne(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Locality is Required! "),s.Wb())}function Pe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Building is Required! "),s.Wb())}function Fe(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Le(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Country is Required! "),s.Wb())}function _e(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Uc(a.stateName)}}function we(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," State is Required! "),s.Wb())}function Ue(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Uc(a.value1)}}function Me(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," City is Required! "),s.Wb())}function Ge(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Please enter Zip Code! "),s.Wb())}function Ve(t,e){1&t&&(s.Xb(0,"h5",54),s.Tc(1,"Please enter valid Zip Code!"),s.Wb())}function je(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Mobile number is Required! "),s.Wb())}function Be(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Please Enter 10 Digit Mobile Number! "),s.Wb())}function ze(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Email is Required! "),s.Wb())}function qe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Email must be a valid email address! "),s.Wb())}function Ke(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," It is not a valid Landline number. "),s.Wb())}function Je(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-accordion"),s.Xb(2,"mat-expansion-panel",10),s.fc("opened",function(){return s.Hc(a),s.jc(2).panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc(2).panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div",11),s.Xb(7,"div",12),s.Xb(8,"mat-hint"),s.Tc(9,"Prefix*"),s.Wb(),s.Xb(10,"mat-card"),s.Xb(11,"mat-select",13),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).changeClient(t.value)}),s.Rc(12,fe,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(13,he,2,0,"mat-error",15),s.Wb(),s.Xb(14,"div",12),s.Xb(15,"mat-hint"),s.Tc(16,"First Name*"),s.Wb(),s.Xb(17,"mat-card"),s.Xb(18,"input",16),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(19,ge,2,0,"mat-error",15),s.Rc(20,ve,2,0,"mat-error",15),s.Wb(),s.Xb(21,"div",12),s.Xb(22,"mat-hint"),s.Tc(23,"Middle Name"),s.Wb(),s.Xb(24,"mat-card"),s.Xb(25,"input",17),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(26,ye,2,0,"mat-error",15),s.Wb(),s.Xb(27,"div",12),s.Xb(28,"mat-hint"),s.Tc(29,"Last Name*"),s.Wb(),s.Xb(30,"mat-card"),s.Xb(31,"input",18),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(32,We,2,0,"mat-error",15),s.Rc(33,Xe,2,0,"mat-error",15),s.Wb(),s.Xb(34,"div",12),s.Xb(35,"mat-hint"),s.Tc(36,"Relationship Type*"),s.Wb(),s.Xb(37,"mat-card"),s.Xb(38,"mat-select",19),s.Rc(39,Te,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(40,Ie,2,0,"mat-error",15),s.Wb(),s.Xb(41,"div",12),s.Xb(42,"mat-hint"),s.Tc(43,"Date of Birth*"),s.Wb(),s.Xb(44,"mat-card"),s.Xb(45,"input",20),s.fc("dateInput",function(t){return s.Hc(a),s.jc(2).addInput(t)})("dateChange",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).addevent(n.controls.guardianDetails,t)}),s.Wb(),s.Sb(46,"mat-datepicker-toggle",21),s.Wb(),s.Rc(47,Ee,2,0,"mat-error",15),s.Sb(48,"mat-datepicker",null,22),s.Wb(),s.Xb(50,"div",23),s.Tc(51," Is the Nominee a Minor? "),s.Xb(52,"mat-slide-toggle",24),s.fc("change",function(t){s.Hc(a);var n=e.$implicit,o=e.index;return s.jc(2).onChange(n.controls.guardianDetails,t,o)}),s.Wb(),s.Wb(),s.Xb(53,"div",25),s.Rc(54,Se,46,10,"div",26),s.Wb(),s.Xb(55,"div",23),s.Tc(56," Same address as Applicant? "),s.Xb(57,"mat-slide-toggle",27),s.fc("change",function(t){return s.Hc(a),s.jc(2).clickToggle(t)}),s.Wb(),s.Wb(),s.Xb(58,"mat-accordion"),s.Xb(59,"mat-expansion-panel",28),s.Xb(60,"mat-expansion-panel-header"),s.Xb(61,"mat-panel-title"),s.Tc(62,"Nominee Address "),s.Wb(),s.Wb(),s.Xb(63,"div",29),s.Xb(64,"div",12),s.Xb(65,"mat-hint"),s.Tc(66,"Street*"),s.Wb(),s.Xb(67,"mat-card"),s.Sb(68,"input",30),s.Wb(),s.Rc(69,ke,2,0,"mat-error",15),s.Wb(),s.Xb(70,"div",12),s.Xb(71,"mat-hint"),s.Tc(72,"Locality*"),s.Wb(),s.Xb(73,"mat-card"),s.Sb(74,"input",31),s.Wb(),s.Rc(75,Ne,2,0,"mat-error",15),s.Wb(),s.Xb(76,"div",12),s.Xb(77,"mat-hint"),s.Tc(78,"Building*"),s.Wb(),s.Xb(79,"mat-card"),s.Sb(80,"input",32),s.Wb(),s.Rc(81,Pe,2,0,"mat-error",15),s.Wb(),s.Xb(82,"div",12),s.Xb(83,"mat-hint"),s.Tc(84,"Country*"),s.Wb(),s.Xb(85,"mat-card"),s.Xb(86,"mat-select",33),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getStateName(t.value)}),s.Rc(87,Fe,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(88,Le,2,0,"mat-error",15),s.Wb(),s.Xb(89,"div",12),s.Xb(90,"mat-hint"),s.Tc(91,"State*"),s.Wb(),s.Xb(92,"mat-card"),s.Xb(93,"mat-select",34),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getCityName(t.value)}),s.Rc(94,_e,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(95,we,2,0,"mat-error",15),s.Wb(),s.Xb(96,"div",12),s.Xb(97,"mat-hint"),s.Tc(98,"city*"),s.Wb(),s.Xb(99,"mat-card"),s.Xb(100,"mat-select",35),s.Rc(101,Ue,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(102,Me,2,0,"mat-error",15),s.Wb(),s.Xb(103,"div",12),s.Xb(104,"mat-hint"),s.Tc(105,"Zip Code*"),s.Wb(),s.Xb(106,"mat-card"),s.Xb(107,"input",36),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(2).isAllSameDigit(t)}),s.Wb(),s.Wb(),s.Rc(108,Ge,2,0,"mat-error",15),s.Rc(109,Ve,2,0,"h5",37),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(110,"mat-accordion"),s.Xb(111,"mat-expansion-panel",28),s.Xb(112,"mat-expansion-panel-header"),s.Xb(113,"mat-panel-title"),s.Tc(114,"Contact Information "),s.Wb(),s.Wb(),s.Xb(115,"div",29),s.Xb(116,"div",12),s.Xb(117,"mat-hint"),s.Tc(118,"Mobile Number*"),s.Wb(),s.Xb(119,"mat-card"),s.Xb(120,"input",38),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(121,je,2,0,"mat-error",15),s.Rc(122,Be,2,0,"mat-error",15),s.Wb(),s.Xb(123,"div",12),s.Xb(124,"mat-hint"),s.Tc(125,"E-mail*"),s.Wb(),s.Xb(126,"mat-card"),s.Sb(127,"input",39),s.Wb(),s.Rc(128,ze,2,0,"mat-error",15),s.Rc(129,qe,2,0,"mat-error",15),s.Wb(),s.Xb(130,"div",12),s.Xb(131,"mat-hint"),s.Tc(132,"Landline Number"),s.Wb(),s.Xb(133,"mat-card"),s.Xb(134,"input",40),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(135,Ke,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(136,"button",41),s.fc("click",function(){return s.Hc(a),s.jc(2).addNominee()}),s.Xb(137,"mat-icon"),s.Tc(138,"add"),s.Wb(),s.Tc(139," ADD NOMINEE "),s.Wb(),s.Xb(140,"button",42),s.fc("click",function(){s.Hc(a);var t=e.index;return s.jc(2).removeNominee(t)}),s.Xb(141,"mat-icon"),s.Tc(142,"delete"),s.Wb(),s.Tc(143,"REMOVE "),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.Dc(49),r=s.jc(2);s.Eb(5),s.Wc(" ",1==r.showEditOption?"Edit":"Create"," Nominee ",o+1," "),s.Eb(1),s.rc("formGroup",n),s.Eb(6),s.rc("ngForOf",r.arrayPrefix),s.Eb(1),s.rc("ngIf",n.get("prefix").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("firstName").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("firstName").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("middleName").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("lastName").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("lastName").hasError("pattern")),s.Eb(5),s.rc("value",r.relationshipType),s.Eb(1),s.rc("ngForOf",r.arrayRelationshipType),s.Eb(1),s.rc("ngIf",n.get("relationshipType").hasError("required")),s.Eb(5),s.rc("matDatepicker",i)("max",r.tomorrow),s.Eb(1),s.rc("for",i),s.Eb(1),s.rc("ngIf",n.get("dateOfBirth").hasError("required")),s.Eb(7),s.rc("ngForOf",n.get("guardianDetails").controls),s.Eb(15),s.rc("ngIf",n.get("street").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("locality").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("building").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("zipCode").hasError("required")&&!n.controls.zipCode.valid&&(null==n.controls.zipCode?null:n.controls.zipCode.touched)),s.Eb(1),s.rc("ngIf",r.isAllSameDigitVal),s.Eb(12),s.rc("ngIf",n.get("phoneNumber").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("phoneNumber").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("email").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("email").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("mobileNumber").hasError("pattern")),s.Eb(1),s.rc("disabled",null==r.nomineeForms?null:r.nomineeForms.invalid)}}function He(t,e){if(1&t&&(s.Xb(0,"form",7),s.Rc(1,Je,144,35,"div",8),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.nomineeUpdateForm),s.Eb(1),s.rc("ngForOf",a.n.controls)}}var $e,Ye=(($e=function(){function t(e,a,o,i,r,c,l,s){n(this,t),this.data=e,this.dialogRef=a,this.apiService=o,this.formBuilder=i,this.ls=r,this.appApiService=c,this.confirmService=l,this.snack=s,this.arrayState=[],this.arrayCity=[]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getCountryName("country"),this.getRelationShipType("relationship_type"),this.getPrefixValue("prefix"),this.data?(this.getStateName(this.data[0].country),this.getCityName(this.data[0].state),this.buildNomineeForm(),this.addGroup(this.data),this.showEditOption=!0):(this.showEditOption=!1,this.buildNomineeForm(),this.addGroup())}},{key:"buildNomineeForm",value:function(){this.nomineeUpdateForm=this.formBuilder.group({nominees:this.formBuilder.array([])})}},{key:"addGroup",value:function(t){for(var e=t?t.length:1,a=0;a<e;a++)this.expandAddress=t[a].isAddrSameAsApplicant,t[a].dateOfBirth=y(t[a].dateOfBirth).format(),t[a].isNomineeMinor&&(t[a].guardianDetails[0].dateOfBirth=y(t[a].guardianDetails[0].dateOfBirth).format()),this.n.push(this.formBuilder.group({prefix:["",v.z.required],firstName:["",v.z.required],middleName:[""],lastName:["",v.z.required],relationshipType:["",v.z.required],dateOfBirth:["",v.z.required],nomineeId:[""],building:["",v.z.required],street:["",v.z.required],locality:["",v.z.required],city:["",v.z.required],state:["",v.z.required],country:["",v.z.required],zipCode:["",[v.z.required,v.z.minLength(5),v.z.maxLength(10)]],phoneNumber:["",[v.z.required,v.z.pattern("^[0-9]{10,12}$")]],mobileNumber:["",[v.z.pattern("^[0-9]{10,12}$")]],isAddrSameAsApplicant:[!1,v.z.required],isNomineeMinor:[!1,v.z.required],email:["",[v.z.required,v.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],guardianDetails:t[a].isNomineeMinor?[this.formBuilder.group({dateOfBirth:["",v.z.required],firstName:["",v.z.required],guardianId:[""],lastName:["",v.z.required],middleName:[""],nomineeId:[""],prefix:["",v.z.required],relationshipType:["",v.z.required]})]:[]})),this.n.at(a).patchValue(t[a])}},{key:"f",get:function(){return this.nomineeUpdateForm.controls}},{key:"n",get:function(){return this.f.nominees}},{key:"addGuardian",value:function(t){return t.push(this.formBuilder.group({prefix:["",v.z.required],firstName:["",v.z.required],middleName:[""],nomineeId:[""],guardianId:[""],lastName:["",v.z.required],relationshipType:["",v.z.required],dateOfBirth:["",v.z.required]}))}},{key:"addevent",value:function(t,e){var a=new Date;a=e.target.value,console.log(y(a).format("YYYY-MM-DD"));var n=new Date(y(a).format("YYYY-MM-DD"));if(this.n.controls[0].patchValue({isNomineeMinor:this.underAgeValidate(n)}),!this.underAgeValidate(n))return t.removeAt(0);this.addGuardian(t)}},{key:"clickToggle",value:function(t){if(this.expandAddress=t.checked,1==t.checked)this.getApplicantAddress();else{var e=this.nomineeUpdateForm.controls.nominees,a=e.controls[e.length-1];a.get("zipCode").reset(),a.get("street").reset(),a.get("locality").reset(),a.get("building").reset(),a.get("country").reset(),a.get("state").reset(),a.get("city").reset()}}},{key:"getApplicantAddress",value:function(){var t=this;this.appApiService.fetchByCif(this.cifNumber).subscribe(function(e){t.address=e.customerInfoList[0].userAddress[0];var a=t.nomineeUpdateForm.controls.nominees,n=a.controls[a.length-1];t.getStateName(t.address.country),t.getCityName(t.address.state),n.get("zipCode").setValue(t.address.zipCode),n.get("street").setValue(t.address.address1),n.get("locality").setValue(t.address.address2),n.get("building").setValue(t.address.address1),n.get("country").setValue(t.address.country),n.get("state").setValue(t.address.state),n.get("city").setValue(t.address.city)})}},{key:"removeNominee",value:function(t){var e=this;console.log("i",t);var a=this.n.at(t).get("nomineeId").value;console.log("nomineeId ::",a),this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&e.apiService.deleteNomineeById(a,"ADMIN").subscribe(function(t){console.log("data",t)},function(a){e.nomineeUpdateForm.controls.nominees.removeAt(t),200===a.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}},{key:"onSubmit",value:function(){for(var t=this,e=0;e<this.nomineeUpdateForm.value.nominees.length;e++)this.nomineeUpdateForm.value.nominees[e].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].dateOfBirth),this.nomineeUpdateForm.value.nominees[e].isNomineeMinor&&(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth));var a={productAccountId:this.accountId,nominees:this.nomineeUpdateForm.value.nominees};this.nomineeUpdateForm.invalid||(this.showEditOption?(this.apiService.updateNominee(this.accountId,a).subscribe(function(t){},function(t){console.log(t)}),this.dialogRef.close({status:"BACKLOG"})):this.apiService.createNominee(this.accountId,a).subscribe(function(e){console.log(e),t.snack.open("Nominee Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)}))}},{key:"changeClient",value:function(t){console.log(t),this.arrayRelationshipType="Mr"==t?["Father","Brother","Spouse"]:"Mrs"==t?["Mother","Spouse"]:["Sister"]}},{key:"underAgeValidate",value:function(t){var e=Date.now()-t.getTime(),a=new Date(e);return Math.abs(a.getUTCFullYear()-1970)<18}},{key:"getRelationShipType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayRelationshipType=t})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||$e)(s.Rb(p.a),s.Rb(p.g),s.Rb(b.b),s.Rb(v.f),s.Rb(m.a),s.Rb(f.a),s.Rb(K.a),s.Rb(W.a))},$e.\u0275cmp=s.Lb({type:$e,selectors:[["app-nominee-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],["expanded","true",3,"opened","closed"],["fxLayout","row wrap",1,"full-width",3,"formGroup"],["fxFlex","33.33%","fxFlex.xs","100%"],["name","prefix","formControlName","prefix",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","rtype","formControlName","relationshipType",3,"value"],["matInput","","name","dob","readonly","","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max","dateInput","dateChange"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"pb-1"],["name","isNomineeMinor","formControlName","isNomineeMinor",3,"change"],["formArrayName","guardianDetails"],[4,"ngFor","ngForOf"],["name","isAddrSameAsApplicant","formControlName","isAddrSameAsApplicant",3,"change"],["expanded","true"],["fxLayout","row wrap",1,"full-width"],["matInput","","name","a_street","formControlName","street","placeholder","Street"],["matInput","","name","a_locality","formControlName","locality","placeholder","Locality"],["matInput","","name","a_building","formControlName","building","placeholder","Building"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","a_zip","formControlName","zipCode","placeholder","Zip Code","maxlength","10","onlyNumber","",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number","maxlength","10",3,"keypress"],["matInput","","name","email","formControlName","email","placeholder","e-mail"],["matInput","","formControlName","mobileNumber","maxlength","10",3,"keypress"],["mat-button","","rounded","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click"],[3,"value"],[1,"errorClass"],[1,"card-title-text"],["fxLayout","row","fxLayoutGap","25px",3,"formGroupName"],["name","g_prefix","formControlName","prefix"],["matInput","","name","g_fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","g_mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","g_lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","g_rtype","formControlName","relationshipType","placeholder","Relation Type"],["matInput","","readonly","","name","g_dob","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max"],["appDatepicker1",""],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Nominee Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,He,2,2,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.nomineeUpdateForm),s.Eb(2),s.rc("disabled",e.nomineeUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,D.b,v.A,v.s,v.j,c.m,H.a,H.c,H.e,H.f,X.b,I.f,E.a,C.a,v.r,v.i,x.b,v.c,A.e,A.g,I.j,A.d,O.a,v.e,v.m,Y.a,S.n,I.b,v.k],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),$e),Ze=r("iInd");function Qe(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",11),s.fc("click",function(){return s.Hc(a),s.jc().addCFormGroup()}),s.Xb(1,"mat-icon"),s.Tc(2,"add"),s.Wb(),s.Tc(3," Add Collateral "),s.Wb()}}function ta(t,e){if(1&t&&(s.Xb(0,"mat-option",55),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ea(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please select Collateral Type "),s.Wb())}function aa(t,e){if(1&t&&(s.Xb(0,"mat-option",55),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.currencyCode),s.Eb(1),s.Vc(" ",a.currencyCode," ")}}function na(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Collateral Value "),s.Wb())}function oa(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Linkage Percentage "),s.Wb())}function ia(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Available Linkage Amount "),s.Wb())}function ra(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Overdraft Limit Amount "),s.Wb())}function ca(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please select Attributes "),s.Wb())}function la(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please select Dimensions "),s.Wb())}function sa(t,e){1&t&&(s.Xb(0,"mat-icon",57),s.Tc(1,"check_circle"),s.Wb())}function ba(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Security Reference Number "),s.Wb())}function ua(t,e){1&t&&(s.Xb(0,"mat-hint",58),s.Tc(1," Enter valid Security Reference Number!"),s.Wb())}function da(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Branch Code "),s.Wb())}function ma(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please select Rate Value "),s.Wb())}function pa(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Rate "),s.Wb())}function fa(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Spread "),s.Wb())}function ha(t,e){1&t&&(s.Xb(0,"mat-error",56),s.Tc(1," Please enter Final Rate "),s.Wb())}function ga(t,e){if(1&t&&(s.Xb(0,"a",59),s.Tc(1),s.Wb()),2&t){var a=s.jc(2);s.sc("href",a.docUrl,s.Jc),s.Eb(1),s.Vc("",a.fileNam," ")}}function va(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",60),s.fc("click",function(){s.Hc(a);var t=s.jc().index;return s.jc().deleteDoc(t)}),s.Tc(1,"delete"),s.Wb()}}function ya(t,e){1&t&&s.Sb(0,"mat-spinner",61),2&t&&s.rc("diameter",30)}function Wa(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",62),s.fc("click",function(){s.Hc(a);var t=s.jc().index;return s.jc().removeCollateral(t)}),s.Xb(1,"mat-icon"),s.Tc(2,"delete"),s.Wb(),s.Tc(3," Reset Collateral "),s.Wb()}}function Xa(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",62),s.fc("click",function(){s.Hc(a);var t=s.jc(),e=t.$implicit,n=t.index;return s.jc().deleteCollateral(e,n)}),s.Xb(1,"mat-icon"),s.Tc(2,"delete"),s.Wb(),s.Tc(3," Remove Collateral "),s.Wb()}}function Ta(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"mat-accordion"),s.Xb(2,"mat-expansion-panel",12),s.fc("opened",function(){return s.Hc(a),s.jc().panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc().panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div",13),s.Xb(7,"div",14),s.Xb(8,"div",15),s.Xb(9,"mat-hint",16),s.Tc(10,"Collateral Type"),s.Wb(),s.Xb(11,"mat-card",17),s.Xb(12,"mat-select",18),s.Rc(13,ta,2,2,"mat-option",19),s.Wb(),s.Wb(),s.Rc(14,ea,2,0,"mat-error",20),s.Wb(),s.Xb(15,"div",15),s.Xb(16,"mat-hint",16),s.Tc(17,"Currency"),s.Wb(),s.Xb(18,"mat-card",17),s.Xb(19,"mat-select",21),s.Rc(20,aa,2,2,"mat-option",19),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",15),s.Xb(22,"mat-hint",16),s.Tc(23,"Collateral Value"),s.Wb(),s.Xb(24,"mat-card",17),s.Xb(25,"input",22),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateLinkagePercent(t.value,n)}),s.Wb(),s.Wb(),s.Rc(26,na,2,0,"mat-error",20),s.Wb(),s.Wb(),s.Xb(27,"div",14),s.Xb(28,"div",15),s.Xb(29,"mat-hint",16),s.Tc(30,"Linkage Percentage"),s.Wb(),s.Xb(31,"mat-card",17),s.Xb(32,"input",23),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keydown",function(t){s.Hc(a);var n=e.$implicit;return s.jc().getCollatrl(t,n.get("linkagePercentage"))})("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateLinkagePercent(t.value,n)}),s.Wb(),s.Wb(),s.Rc(33,oa,2,0,"mat-error",20),s.Wb(),s.Xb(34,"div",15),s.Xb(35,"mat-hint",16),s.Tc(36,"Available Linkage Amount*"),s.Wb(),s.Xb(37,"mat-card",17),s.Xb(38,"input",24),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(39,ia,2,0,"mat-error",20),s.Wb(),s.Xb(40,"div",15),s.Xb(41,"mat-hint",16),s.Tc(42,"Overdraft Limit Amount*"),s.Wb(),s.Xb(43,"mat-card",17),s.Xb(44,"input",25),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().overDraftCondition(t,n)}),s.Wb(),s.Wb(),s.Rc(45,ra,2,0,"mat-error",20),s.Wb(),s.Wb(),s.Xb(46,"div",14),s.Xb(47,"div",15),s.Xb(48,"mat-hint",16),s.Tc(49,"Limit Start Date"),s.Wb(),s.Xb(50,"mat-card",26),s.Xb(51,"input",27),s.fc("selectedChange",function(){s.Hc(a);var t=e.$implicit;return s.jc().getDate(t.get("limitStartDate"))}),s.Wb(),s.Sb(52,"mat-datepicker-toggle",28),s.Wb(),s.Sb(53,"mat-datepicker",null,29),s.Wb(),s.Xb(55,"div",15),s.Xb(56,"mat-hint",16),s.Tc(57,"Limit End Date"),s.Wb(),s.Xb(58,"mat-card",26),s.Sb(59,"input",30),s.Sb(60,"mat-datepicker-toggle",28),s.Wb(),s.Sb(61,"mat-datepicker",null,31),s.Wb(),s.Xb(63,"div",15),s.Xb(64,"mat-hint",16),s.Tc(65,"Attributes*"),s.Wb(),s.Xb(66,"mat-card",17),s.Xb(67,"mat-select",32),s.Xb(68,"mat-option",33),s.Tc(69,"Attributes 1"),s.Wb(),s.Xb(70,"mat-option",34),s.Tc(71,"Attributes 2"),s.Wb(),s.Xb(72,"mat-option",35),s.Tc(73,"Attributes 3"),s.Wb(),s.Wb(),s.Wb(),s.Rc(74,ca,2,0,"mat-error",20),s.Wb(),s.Wb(),s.Xb(75,"div",14),s.Xb(76,"div",15),s.Xb(77,"mat-hint",16),s.Tc(78,"Dimensions*"),s.Wb(),s.Xb(79,"mat-card",17),s.Xb(80,"mat-select",36),s.Xb(81,"mat-option",33),s.Tc(82,"Dimensions 1"),s.Wb(),s.Xb(83,"mat-option",34),s.Tc(84,"Dimensions 2"),s.Wb(),s.Xb(85,"mat-option",35),s.Tc(86,"Dimensions 3"),s.Wb(),s.Wb(),s.Wb(),s.Rc(87,la,2,0,"mat-error",20),s.Wb(),s.Xb(88,"div",15),s.Xb(89,"mat-hint",16),s.Tc(90,"Security reference Number*"),s.Wb(),s.Xb(91,"mat-card",17),s.Xb(92,"input",37),s.fc("keypress",function(t){return s.Hc(a),s.jc().keyPressAlphanumeric(t)})("change",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().fetchBySecurityNum(t.get("securityReferenceNumber").value,n)})("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().keyUpevent(t,n)}),s.Wb(),s.Rc(93,sa,2,0,"mat-icon",38),s.Wb(),s.Rc(94,ba,2,0,"mat-error",20),s.Rc(95,ua,2,0,"mat-hint",39),s.Wb(),s.Xb(96,"div",15),s.Xb(97,"mat-hint",16),s.Tc(98,"Branch Code"),s.Wb(),s.Xb(99,"mat-card",17),s.Xb(100,"input",40),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(101,da,2,0,"mat-error",20),s.Wb(),s.Wb(),s.Xb(102,"div",14),s.Xb(103,"div",15),s.Xb(104,"mat-hint",16),s.Tc(105,"Rate Value"),s.Wb(),s.Xb(106,"mat-card",17),s.Xb(107,"input",41),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(108,ma,2,0,"mat-error",20),s.Wb(),s.Xb(109,"div",15),s.Xb(110,"mat-hint",16),s.Tc(111,"Rate in % *"),s.Wb(),s.Xb(112,"mat-card",17),s.Xb(113,"input",42),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keydown",function(t){s.Hc(a);var n=e.$implicit;return s.jc().getCollatrl(t,n.get("rate"))})("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateFinalrate(t.value,n)}),s.Wb(),s.Wb(),s.Rc(114,pa,2,0,"mat-error",20),s.Wb(),s.Xb(115,"div",15),s.Xb(116,"mat-hint",16),s.Tc(117,"Spread*"),s.Wb(),s.Xb(118,"mat-card",17),s.Xb(119,"input",43),s.fc("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateFinalrate(t.value,n)}),s.Wb(),s.Wb(),s.Rc(120,fa,2,0,"mat-error",20),s.Wb(),s.Wb(),s.Xb(121,"div",14),s.Xb(122,"div",15),s.Xb(123,"mat-hint",16),s.Tc(124,"Final Rate in %"),s.Wb(),s.Xb(125,"mat-card",17),s.Xb(126,"input",44),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keydown",function(t){s.Hc(a);var n=e.$implicit;return s.jc().getCollatrl(t,n.get("finalAmount"))}),s.Wb(),s.Wb(),s.Rc(127,ha,2,0,"mat-error",20),s.Wb(),s.Xb(128,"div",45),s.Xb(129,"input",46,47),s.fc("change",function(t){s.Hc(a);var n=e.index;return s.jc().uploadCollateralType(t,n)}),s.Wb(),s.Xb(131,"div",48),s.Xb(132,"a",49),s.fc("click",function(){return s.Hc(a),s.Dc(130).click()}),s.Tc(133,"Collateral Document Upload"),s.Wb(),s.Tc(134," \xa0 "),s.Xb(135,"mat-hint",50),s.Tc(136),s.Wb(),s.Rc(137,ga,2,2,"a",51),s.Tc(138," \xa0 "),s.Rc(139,va,2,0,"mat-icon",52),s.Rc(140,ya,1,1,"mat-spinner",53),s.Wb(),s.Wb(),s.Wb(),s.Xb(141,"div",45),s.Rc(142,Wa,4,0,"button",54),s.Rc(143,Xa,4,0,"button",54),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.Dc(54),r=s.Dc(62),c=s.jc();s.Eb(5),s.Wc(" ",1==c.showEditOption?"Edit":"Add"," Collateral ",o+1," "),s.Eb(1),s.rc("formGroup",n),s.Eb(7),s.rc("ngForOf",c.arrayCollateralType),s.Eb(1),s.rc("ngIf",n.get("collateralType").touched&&n.get("collateralType").hasError("required")),s.Eb(6),s.rc("ngForOf",c.currency),s.Eb(6),s.rc("ngIf",n.get("collateralType").touched&&n.get("collateralValue").hasError("required")),s.Eb(7),s.rc("ngIf",n.get("linkagePercentage").touched&&n.get("linkagePercentage").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("availableLinkageAccount").touched&&n.get("availableLinkageAccount").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("overdraftLimitAmount").touched&&n.get("overdraftLimitAmount").hasError("required")),s.Eb(6),s.rc("matDatepicker",i)("min",c.minDate),s.Eb(1),s.rc("for",i),s.Eb(7),s.rc("min",n.get("limitStartDate").value)("matDatepicker",r),s.Eb(1),s.rc("for",r),s.Eb(14),s.rc("ngIf",n.get("attributes").touched&&n.get("attributes").hasError("required")&&n.get("attributes").touched),s.Eb(13),s.rc("ngIf",n.get("dimensions").touched&&n.get("dimensions").hasError("required")),s.Eb(6),s.rc("ngIf",c.issecurityValid&&n.get("securityReferenceNumber").value.length>0),s.Eb(1),s.rc("ngIf",n.get("securityReferenceNumber").touched&&n.get("securityReferenceNumber").hasError("required")),s.Eb(1),s.rc("ngIf",!c.issecurityValid&&c.onbackSpace),s.Eb(6),s.rc("ngIf",n.get("branchCode").touched&&n.get("branchCode").hasError("required")),s.Eb(7),s.rc("ngIf",n.get("rateValue").touched&&n.get("rateValue").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("rate").touched&&n.get("rate").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("spread").touched&&n.get("spread").hasError("required")),s.Eb(7),s.rc("ngIf",n.get("finalAmount").touched&&n.get("finalAmount").hasError("required")),s.Eb(9),s.Uc(c.fileName),s.Eb(1),s.rc("ngIf",c.docUrl),s.Eb(2),s.rc("ngIf",c.docUrl&&c.showDelete),s.Eb(1),s.rc("ngIf",c.showSpinn),s.Eb(2),s.rc("ngIf",!c.showEditOption),s.Eb(1),s.rc("ngIf",c.showEditOption)}}var Ia,Ea=((Ia=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.data=e,this.dialogRef=a,this.ls=o,this.formBuilder=i,this.api=r,this.snack=c,this.cdr=l,this.confirmService=s,this.tasksummaryService=b,this.showEditOption=!1}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.loggedInUser=this.ls.getItem("userName"),this.getCollateralType("collateral_type"),this.getCurrencyDetails(),this.data?(this.showEditOption=!0,this.buildSecuredOverdraftForm(this.data),this.addFormGroup(this.data)):(this.showEditOption=!1,this.buildSecuredOverdraftForm(),this.addFormGroup())}},{key:"buildSecuredOverdraftForm",value:function(t){this.securedOverdraftUpdateForm=this.formBuilder.group({collaterals:this.formBuilder.array([])})}},{key:"f",get:function(){return this.securedOverdraftUpdateForm.controls}},{key:"c",get:function(){return this.f.collaterals}},{key:"addFormGroup",value:function(t){var e=t?t.length:1;console.log("numberOfItems",e);for(var a=0;a<e;a++)this.c.push(this.formBuilder.group({id:[t[a].id],collateralType:[t[a]?t.collateralType:""],collateralCurrency:[t[a]?t.collateralCurrency:""],accountId:this.accountId,collateralValue:[t[a]?t[a].collateralValue:""],attributes:[t[a]?t[a].attributes:""],dimensions:[t[a]?t[a].dimensions:""],securityReferenceNumber:[t[a]?t[a].securityReferenceNumber:""],branchCode:[t[a]?t[a].branchCode:""],availableLinkageAccount:[t[a]?t[a].availableLinkageAccount:""],linkagePercentage:[t[a]?t[a].linkagePercentage:""],overdraftLimitAmount:[t[a]?t[a].overdraftLimitAmount:""],limitStartDate:[t[a]?t[a].limitStartDate:""],limitEndDate:[t[a]?t[a].limitEndDate:""],rateValue:[t[a]?t[a].rateValue:""],rate:[t[a]?t[a].rate:""],spread:[t[a]?t[a].spread:""],finalAmount:[t[a]?t[a].finalAmount:""],documentUrl:[t[a]?t[a].documentUrl:""],fileName:[t[a]?t[a].documentUrl:""]}))}},{key:"addCFormGroup",value:function(){this.c.push(this.formBuilder.group({collateralType:[""],collateralCurrency:[""],accountId:this.accountId,collateralValue:[""],attributes:[""],dimensions:[""],securityReferenceNumber:[""],branchCode:[""],availableLinkageAccount:[""],linkagePercentage:[""],overdraftLimitAmount:[""],limitStartDate:[""],limitEndDate:[""],rateValue:[""],rate:[""],spread:[""],finalAmount:[""],documentUrl:[""],fileName:[""]}))}},{key:"getCollateralType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayCollateralType=t})}},{key:"getCurrencyDetails",value:function(){var t=this;this.api.fetchCurrencyMaintAuthRecs().subscribe(function(e){t.currency=e})}},{key:"overDraftCondition",value:function(t,e){var a=this,n=t.target.value;console.log(n,this.linkangePercent),n>this.linkangePercent&&(console.log("Bigger"),this.confirmService.confirm({title:"Confirm",message:" Overdraft Limit Amount should be less than Available Linkage Amount. Do you want to Proceed?",ok:"Yes",cancel:"No"}).subscribe(function(t){console.log("Response",t),!0===t?a.cdr.markForCheck():a.c.at(e).get("overdraftLimitAmount").setValue("")}))}},{key:"fetchBySecurityNum",value:function(t,e){var a=this;t&&(this.showSpinner=!0,console.log("Caling",t),this.api.fetchBySecurityNumber(t).subscribe(function(t){if(console.log(t),a.showSpinner=!1,null==t)return a.issecurityValid=!1,a.snack.open("Invalid Security Reference Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void a.c.at(e).get("securityReferenceNumber").setValue("");a.issecurityValid=!0,a.branchData=t.securedOverDrafts,console.log(a.branchData),a.branchData.forEach(function(t,e){a.branch=a.branchData[e].branchCode}),a.c.at(e).get("branchCode").setValue(a.branch),a.cdr.markForCheck()}))}},{key:"uploadCollateralType",value:function(t,e){var a=this;this.showSpinn=!0;var n=t.target.files[0];this.fileName[e]=n.name;var o={accountId:this.accountId,documentName:this.fileName[e]},i=new FormData;i.append("data",JSON.stringify(o)),i.append("file",n),this.api.uploadcollateralDoc(i).subscribe(function(t){console.log("Document Resp",t,t.url),t&&t.url&&(a.showSpinn=!1,a.snack.open("Document Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.c.at(e).get("documentUrl").setValue(t.url),a.c.at(e).get("fileName").setValue(t.fileName))})}},{key:"deleteDoc",value:function(t){this.docUrl=" ",this.fileName=" ",this.c.at(t).get("documentUrl").setValue(""),this.c.at(t).get("fileName").setValue(""),this.showDelete=!1}},{key:"onSubmit",value:function(t){var e=this;this.c.value.forEach(function(t){""!=t.linkagePercentage&&""!=t.securityReferenceNumber&&""!=t.collateralValue&&""!=t.branchCode||1!=e.securedOverdraftUpdateForm.touched||e.snack.open("mandatory details are not filled so need to be filled!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),null!=t.limitStartDate&&null!=t.limitStartDate._d&&null!=t.limitStartDate._d&&(t.limitStartDate=e.convertDate(t.limitStartDate._d)),null!=t.limitEndDate&&null!=t.limitEndDate._d&&null!=t.limitEndDate._d&&(t.limitEndDate=e.convertDate(t.limitEndDate._d))});var a={securedOverDrafts:this.c.value,loggedInUser:this.loggedInUser};this.securedOverdraftUpdateForm.invalid?console.log("this.securedOverdraftUpdateForm.touched",this.securedOverdraftUpdateForm.touched):this.api.securedDraft(a).subscribe(function(t){e.snack.open("Secured Overdraft Details is already filled, click on Next button to continue!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onReset",value:function(){this.securedOverdraftUpdateForm.reset(),this.c.clear()}},{key:"removeCollateral",value:function(t){this.c.controls[t].reset()}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MM-DDThh:mm:ss");if(console.log("date",e),e)return e}},{key:"keyUpevent",value:function(t,e){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.issecurityValid=!1,this.c.at(e).get("branchCode").setValue("")):this.onbackSpace=!1}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"calculateLinkagePercent",value:function(t,e){this.linkangePercent=t.collateralValue*(t.linkagePercentage/100),this.c.at(e).get("availableLinkageAccount").setValue(this.linkangePercent.toFixed(2))}},{key:"calculateFinalrate",value:function(t,e){this.finalRatevalue=1*t.rate+1*t.spread,console.log(this.linkangePercent,this.c.controls[e]),this.c.at(e).get("finalAmount").setValue(this.finalRatevalue)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ia)(s.Rb(p.a),s.Rb(p.g),s.Rb(m.a),s.Rb(v.f),s.Rb(b.b),s.Rb(W.a),s.Rb(s.h),s.Rb(K.a),s.Rb(g.a))},Ia.\u0275cmp=s.Lb({type:Ia,selectors:[["app-secured-overdraft-details-update"]],decls:18,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],["fxLayout","row","fxLayout.lt-sm","column",1,"app-top-toolbar"],["fxFlex",""],["mat-button","","color","primary",3,"click",4,"ngIf"],[3,"formGroup"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["mat-button","","color","primary",3,"click"],["expanded","true",1,"mb-8",3,"opened","closed"],["fxLayout","column",3,"formGroup"],["fxLayout","row","fxFlex","100"],["fxFlex","33.33%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","prefix","formControlName","collateralCurrency"],["matInput","","name","a_sig","id","collateralValue","formControlName","collateralValue","placeholder","Collateral Value","required","",3,"keypress","input"],["matInput","","name","a_sig","formControlName","linkagePercentage","placeholder","Linkage Percentage","required","",3,"keypress","keydown","input"],["readonly","","matInput","","name","a_sig","formControlName","availableLinkageAccount","placeholder","Available Linkage Amount",3,"keypress"],["matInput","","name","a_sig","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress","keyup"],["fxLayout","row",1,"inputCard"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min","selectedChange"],["matSuffix","",3,"for"],["appDatepicker",""],["readonly","","matInput","","name","led","formControlName","limitEndDate","placeholder","Limit End Date",3,"min","matDatepicker"],["appDatepicker1",""],["name","attributes","formControlName","attributes"],["value","1"],["value","2"],["value","3"],["name","dimensions","formControlName","dimensions"],["matInput","","required","","name","a_sig","formControlName","securityReferenceNumber","placeholder","Security Reference Number",3,"keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","hintClass","class","hintColor",4,"ngIf"],["matInput","","name","a_sig","formControlName","branchCode","placeholder","Branch Code","readonly","","required","",3,"keypress"],["matInput","","name","rateValue","formControlName","rateValue","placeholder","Rate Value",3,"keypress"],["matInput","","name","a_sig","formControlName","rate","placeholder","Rate",3,"keypress","keydown","input"],["matInput","","type","number","name","a_sig","formControlName","spread","placeholder","Spread",3,"input"],["matInput","","name","a_sig","formControlName","finalAmount","placeholder","Rate",3,"keypress","keydown"],[1,"pb-1"],["type","file","name","documentUrl",2,"display","none",3,"change"],["documentUrl",""],["fxLayout","row wrap",1,"flex-container","stretch"],[1,"UploadLink",3,"routerLink","click"],[1,"documentHint"],["class","documentlink","download","",3,"href",4,"ngIf"],["class","docIcon",3,"click",4,"ngIf"],["class","spinner",3,"diameter",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[1,"errorClass"],["matSuffix","","color","primary"],[1,"hintColor"],["download","",1,"documentlink",3,"href"],[1,"docIcon",3,"click"],[1,"spinner",3,"diameter"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Secured Overdraft Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"div",3),s.Sb(7,"span",4),s.Rc(8,Qe,4,0,"button",5),s.Wb(),s.Xb(9,"mat-card"),s.Xb(10,"form",6),s.Rc(11,Ta,144,32,"div",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",8),s.Xb(13,"button",9),s.fc("click",function(){return e.onSubmit(e.securedOverdraftUpdateForm.value)}),s.Tc(14,"Save"),s.Wb(),s.Tc(15," \xa0\xa0\xa0 "),s.Xb(16,"button",10),s.fc("click",function(){return e.close()}),s.Tc(17," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(8),s.rc("ngIf",!e.showEditOption),s.Eb(2),s.rc("formGroup",e.securedOverdraftUpdateForm),s.Eb(1),s.rc("ngForOf",e.c.controls),s.Eb(2),s.rc("disabled",e.securedOverdraftUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,X.b,c.n,E.a,v.A,v.s,v.j,c.m,D.b,H.a,H.c,H.e,H.f,I.f,C.a,v.r,v.i,x.b,v.c,v.y,A.e,A.g,I.j,A.d,S.n,v.v,Ze.k,I.b,R.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Ia),xa=r("PSD3"),Ca=r.n(xa);function Aa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please Enter Limit ID "),s.Wb())}function Oa(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.currencyCode),s.Eb(1),s.Uc(a.currencyCode)}}function Da(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Currency "),s.Wb())}function Ra(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please enter Overdraft Limit Amount "),s.Wb())}function Sa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Limit Start Date "),s.Wb())}function ka(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Limit End Date "),s.Wb())}function Na(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Pa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Year "),s.Wb())}function Fa(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function La(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Month "),s.Wb())}function _a(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function wa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Day "),s.Wb())}function Ua(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please enter Renewal Amount "),s.Wb())}function Ma(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",36),s.Xb(1,"div",37),s.Xb(2,"div",38),s.Xb(3,"mat-hint",11),s.Tc(4,"Renew Period"),s.Wb(),s.Xb(5,"div",39),s.Xb(6,"div"),s.Xb(7,"mat-hint"),s.Tc(8,"Years"),s.Wb(),s.Xb(9,"mat-card",12),s.Xb(10,"mat-select",40),s.fc("[ngModel]",function(){return s.Hc(a),s.jc(2).selectedYear}),s.Rc(11,Na,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(12,Pa,2,0,"mat-error",14),s.Wb(),s.Xb(13,"div"),s.Xb(14,"div",31),s.Xb(15,"div",21),s.Xb(16,"mat-hint",11),s.Tc(17,"Months"),s.Wb(),s.Xb(18,"mat-card",12),s.Xb(19,"mat-select",41),s.fc("[ngModel]",function(){return s.Hc(a),s.jc(2).selectedMonth}),s.Rc(20,Fa,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(21,La,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div"),s.Xb(23,"div",31),s.Xb(24,"div",21),s.Xb(25,"mat-hint",11),s.Tc(26,"Days"),s.Wb(),s.Xb(27,"mat-card",12),s.Xb(28,"mat-select",42),s.fc("[ngModel]",function(){return s.Hc(a),s.jc(2).selectedDay}),s.Rc(29,_a,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(30,wa,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"div",43),s.Xb(32,"mat-hint",11),s.Tc(33,"Renewal Amount"),s.Wb(),s.Xb(34,"mat-card",12),s.Xb(35,"input",44),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(36,Ua,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(11),s.rc("ngForOf",n.years),s.Eb(1),s.rc("ngIf",n.unsecuredUpdateForm.get("year").hasError("required")&&n.unsecuredUpdateForm.get("year").touched),s.Eb(8),s.rc("ngForOf",n.months),s.Eb(1),s.rc("ngIf",n.unsecuredUpdateForm.get("month").hasError("required")&&n.unsecuredUpdateForm.get("month").touched),s.Eb(8),s.rc("ngForOf",n.days),s.Eb(1),s.rc("ngIf",n.unsecuredUpdateForm.get("day").hasError("required")&&n.unsecuredUpdateForm.get("day").touched),s.Eb(6),s.rc("ngIf",n.unsecuredUpdateForm.get("renewalAmount").hasError("required")&&n.unsecuredUpdateForm.get("renewalAmount").touched)}}function Ga(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"mat-card"),s.Xb(2,"div",8),s.Xb(3,"div",9),s.Xb(4,"div",10),s.Xb(5,"mat-hint",11),s.Tc(6,"Limit ID*"),s.Wb(),s.Xb(7,"mat-card",12),s.Xb(8,"input",13),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(9,Aa,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Xb(10,"div",15),s.Xb(11,"div",16),s.Xb(12,"mat-hint",11),s.Tc(13,"Currency*"),s.Wb(),s.Xb(14,"mat-card",12),s.Xb(15,"mat-select",17),s.fc("[ngModel]",function(){return s.Hc(a),s.jc().selectedCurrency}),s.Rc(16,Oa,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(17,Da,2,0,"mat-error",14),s.Wb(),s.Xb(18,"div",16),s.Xb(19,"mat-hint",11),s.Tc(20,"Overdraft Limit Amount*"),s.Wb(),s.Xb(21,"mat-card",12),s.Xb(22,"input",19),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(23,Ra,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Xb(24,"div",15),s.Xb(25,"div",20),s.Xb(26,"div",21),s.Xb(27,"mat-hint",11),s.Tc(28,"Limit Start Date*"),s.Wb(),s.Xb(29,"mat-card",12),s.Sb(30,"input",22),s.Sb(31,"mat-datepicker-toggle",23),s.Wb(),s.Rc(32,Sa,2,0,"mat-error",14),s.Wb(),s.Sb(33,"mat-datepicker",null,24),s.Wb(),s.Xb(35,"div",20),s.Xb(36,"div",21),s.Xb(37,"mat-hint",11),s.Tc(38,"Limit End Date*"),s.Wb(),s.Xb(39,"mat-card",12),s.Xb(40,"div",25),s.Sb(41,"input",26),s.Wb(),s.Xb(42,"div",27),s.Sb(43,"mat-datepicker-toggle",23),s.Wb(),s.Wb(),s.Rc(44,ka,2,0,"mat-error",14),s.Wb(),s.Sb(45,"mat-datepicker",null,28),s.Wb(),s.Wb(),s.Xb(47,"div",29),s.Xb(48,"div",30),s.Xb(49,"div",31),s.Tc(50," Do your Unsecured Overdraft Limit has to be renewed ? "),s.Xb(51,"mat-slide-toggle",32),s.fc("change",function(t){return s.Hc(a),s.jc().onToggle(t)}),s.Wb(),s.Wb(),s.Sb(52,"br"),s.Wb(),s.Wb(),s.Rc(53,Ma,37,7,"div",33),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.Dc(34),o=s.Dc(46),i=s.jc();s.rc("formGroup",i.unsecuredUpdateForm),s.Eb(9),s.rc("ngIf",i.unsecuredUpdateForm.get("limitId").hasError("required")),s.Eb(7),s.rc("ngForOf",i.currency),s.Eb(1),s.rc("ngIf",i.unsecuredUpdateForm.get("overdraftCurrency").hasError("required")),s.Eb(6),s.rc("ngIf",i.unsecuredUpdateForm.controls.overdraftLimitAmount.touched),s.Eb(7),s.rc("matDatepicker",n)("min",i.minDate),s.Eb(1),s.rc("for",n),s.Eb(1),s.rc("ngIf",i.unsecuredUpdateForm.get("limitStartDate").hasError("required")),s.Eb(9),s.rc("min",i.unsecuredUpdateForm.get("limitStartDate").value)("matDatepicker",o),s.Eb(2),s.rc("for",o),s.Eb(1),s.rc("ngIf",i.unsecuredUpdateForm.get("limitEndDate").hasError("required")),s.Eb(9),s.rc("ngIf",i.flag)}}var Va,ja=((Va=function(){function t(e,a,o,i,r,c,l,s){n(this,t),this.data=e,this.dialogRef=a,this.ls=o,this.formBuilder=i,this.cdr=r,this.api=c,this.snack=l,this.tasksummaryService=s}return i(t,[{key:"ngOnInit",value:function(){this.accountId=this.ls.getItem("accountId"),console.log(this.data,this.accountId),this.getCurrencyDetails(),this.data?this.buildUnsecuredForm(this.data):this.buildUnsecuredForm()}},{key:"buildUnsecuredForm",value:function(t,e){if(this.unsecuredUpdateForm=this.formBuilder.group({limitId:[t?t.limitId:"",v.z.required],accountId:null!=this.accountId?this.accountId:"",overdraftCurrency:[t?t.overdraftCurrency:"",v.z.required],overdraftLimitAmount:[t?t.overdraftLimitAmount:"",v.z.required],limitStartDate:[t?new Date(t.limitStartDate):"",v.z.required],limitEndDate:[t?new Date(t.limitEndDate):"",v.z.required],unsecuredLimit:[""],renewPeriod:[t?t.renewPeriod:""],renewalAmount:[t?t.renewalAmount:""],year:[t?t.year:""],month:[t?t.month:""],day:[t?t.day:""],overdraftLimitRenewed:[t?t.overdraftLimitRenewed:""]}),t&&(console.log("values:",t.renewPeriod),t.renewPeriod)){this.selectedYear=t.renewPeriod.substring(0,4);var a=t.renewPeriod.substring(5,8);this.selectedDay=t.renewPeriod.substring(9,11),this.unsecuredUpdateForm.get("year").setValue(Number(this.selectedYear)),this.unsecuredUpdateForm.get("month").setValue(a),this.unsecuredUpdateForm.get("day").setValue(Number(this.selectedDay)),this.cdr.markForCheck()}}},{key:"onSubmit",value:function(){var t=this;if(!this.unsecuredUpdateForm.value.overdraftLimitRenewed||null!=this.unsecuredUpdateForm.controls.day.value&&null!=this.unsecuredUpdateForm.controls.year.value&&null!=this.unsecuredUpdateForm.controls.month.value){var e=this.convertDate(this.unsecuredUpdateForm.controls.limitStartDate.value);this.unsecuredUpdateForm.value.limitStartDate=e;var a,n=this.convertDate(this.unsecuredUpdateForm.controls.limitEndDate.value);this.unsecuredUpdateForm.value.limitEndDate=n,a=this.unsecuredUpdateForm.value.overdraftLimitRenewed?this.unsecuredUpdateForm.value.year+"-"+this.unsecuredUpdateForm.value.month+"-"+this.unsecuredUpdateForm.value.day:"";var o={accountId:this.accountId,limitId:this.unsecuredUpdateForm.value.limitId,overdraftCurrency:this.unsecuredUpdateForm.value.overdraftCurrency,overdraftLimitAmount:this.unsecuredUpdateForm.value.overdraftLimitAmount,limitStartDate:this.unsecuredUpdateForm.value.limitStartDate,limitEndDate:this.unsecuredUpdateForm.value.limitEndDate,renewPeriod:a,renewalAmount:this.unsecuredUpdateForm.value.renewalAmount,overdraftLimitRenewed:this.unsecuredUpdateForm.value.overdraftLimitRenewed};if(null==o.limitId||null==o.overdraftLimitAmount)return Ca.a.fire("Please Enter The Mandatory Fields !"),!1;""!=this.unsecuredUpdateForm.value.limitId&&this.api.unsecuredDraft(o).subscribe(function(e){t.snack.open("UnSecured Overdraft Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(e){t.snack.open(e.message,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}else this.snack.open("Please give Renew Period","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"getCurrencyDetails",value:function(){var t=this;this.api.fetchCurrencyMaintAuthRecs().subscribe(function(e){t.currency=e})}},{key:"onToggle",value:function(t){!0===t.checked?this.flag=!0:(this.flag=!1,this.unsecuredUpdateForm.get("renewalAmount").setValue(""))}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Va)(s.Rb(p.a),s.Rb(p.g),s.Rb(m.a),s.Rb(v.f),s.Rb(s.h),s.Rb(b.b),s.Rb(W.a),s.Rb(g.a))},Va.\u0275cmp=s.Lb({type:Va,selectors:[["app-unsecured-overdraft-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100%","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","30%","appearance","outline",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","limitId","formControlName","limitId","name","mod","placeholder","Limit ID",3,"keypress"],["class","errorClass",4,"ngIf"],["fxFlex","100%","fxLayout","row wrap","fxLayoutGap","5%"],["fxFlex","40%","appearance","outline",1,"full-width"],["name","prefix","formControlName","overdraftCurrency",3,"[ngModel]"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","a_sig","maxlength","15","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress"],["fxFlex","40%"],["appearance","outline",1,"full-width"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","85%"],["matInput","","name","dob","formControlName","limitEndDate","placeholder","Limit End Date","readonly","",3,"min","matDatepicker"],["fxFelx","15%"],["appDatepicker1",""],["fxFlex","100","fxLayout","row"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["formControlName","overdraftLimitRenewed",3,"change"],["fxflex","100",4,"ngIf"],[1,"errorClass"],[3,"value"],["fxflex","100"],["fxLayout","row"],["fxFlex","50%"],["fxLayout","row wrap","fxLayoutGap","5px","fxLayout","row"],["required","","formControlName","year",3,"[ngModel]"],["required","","formControlName","month",3,"[ngModel]"],["required","","formControlName","day",3,"[ngModel]"],[1,"full-width"],["matInput","","maxlength","8","name","a_sig","required","","formControlName","renewalAmount","placeholder","Renewal Amount",3,"keypress"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Unsecured Overdraft Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Ga,54,14,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.unsecuredUpdateForm),s.Eb(2),s.rc("disabled",e.unsecuredUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,D.b,v.A,v.s,v.j,E.a,X.b,I.f,x.b,v.c,v.r,v.i,C.a,c.m,v.m,A.e,A.g,I.j,A.d,O.a,I.b,S.n,v.y],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Va),Ba=r("BSbQ");function za(t,e){if(1&t&&(s.Xb(0,"mat-option",67),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function qa(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please select the Employment Type "),s.Wb())}function Ka(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please enter the Designation "),s.Wb())}function Ja(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please enter the Employee Number "),s.Wb())}function Ha(t,e){if(1&t&&(s.Xb(0,"mat-option",67),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function $a(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please select the Employment Category "),s.Wb())}function Ya(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please enter the Office Name "),s.Wb())}function Za(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"mat-card"),s.Xb(2,"div",8),s.Xb(3,"mat-card"),s.Xb(4,"div",8),s.Xb(5,"div",9),s.Xb(6,"mat-hint",10),s.Tc(7,"Applicant Name"),s.Wb(),s.Xb(8,"mat-card",11),s.Sb(9,"input",12),s.Wb(),s.Wb(),s.Xb(10,"div",9),s.Xb(11,"mat-hint",10),s.Tc(12,"Total Annual Income*"),s.Wb(),s.Xb(13,"mat-card"),s.Sb(14,"input",13),s.Wb(),s.Wb(),s.Xb(15,"div",9),s.Xb(16,"mat-hint",10),s.Tc(17,"Total Annual Expenses*"),s.Wb(),s.Xb(18,"mat-card"),s.Sb(19,"input",14),s.Wb(),s.Wb(),s.Xb(20,"div",9),s.Xb(21,"div"),s.Xb(22,"mat-hint",10),s.Tc(23,"Last Update On"),s.Wb(),s.Xb(24,"mat-card",15),s.Xb(25,"div",16),s.Sb(26,"input",17),s.Wb(),s.Xb(27,"div",18),s.Sb(28,"mat-datepicker-toggle",19),s.Wb(),s.Wb(),s.Wb(),s.Sb(29,"mat-datepicker",null,20),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"mat-card"),s.Xb(32,"mat-card-title",21),s.Xb(33,"div",22),s.Tc(34,"Employment Details"),s.Wb(),s.Sb(35,"mat-divider"),s.Wb(),s.Xb(36,"mat-card-content"),s.Xb(37,"div",8),s.Xb(38,"div",23),s.Xb(39,"mat-hint",10),s.Tc(40,"Employment Type*"),s.Wb(),s.Xb(41,"mat-card",11),s.Xb(42,"mat-select",24),s.Rc(43,za,2,2,"mat-option",25),s.Wb(),s.Wb(),s.Rc(44,qa,2,0,"mat-error",26),s.Wb(),s.Xb(45,"div",23),s.Xb(46,"mat-hint",10),s.Tc(47,"Designation*"),s.Wb(),s.Xb(48,"mat-card",11),s.Sb(49,"input",27),s.Wb(),s.Rc(50,Ka,2,0,"mat-error",26),s.Wb(),s.Xb(51,"div",23),s.Xb(52,"mat-hint",10),s.Tc(53,"Employee number*"),s.Wb(),s.Xb(54,"mat-card",11),s.Xb(55,"input",28),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(56,Ja,2,0,"mat-error",26),s.Wb(),s.Xb(57,"div",23),s.Xb(58,"mat-hint",10),s.Tc(59,"Employment Category*"),s.Wb(),s.Xb(60,"mat-card",11),s.Xb(61,"mat-select",29),s.Rc(62,Ha,2,2,"mat-option",25),s.Wb(),s.Wb(),s.Rc(63,$a,2,0,"mat-error",26),s.Wb(),s.Xb(64,"div",9),s.Xb(65,"div"),s.Xb(66,"mat-hint",10),s.Tc(67,"Employment Start Date"),s.Wb(),s.Xb(68,"mat-card",11),s.Xb(69,"div",16),s.Sb(70,"input",30),s.Wb(),s.Xb(71,"div",18),s.Sb(72,"mat-datepicker-toggle",19),s.Wb(),s.Wb(),s.Wb(),s.Sb(73,"mat-datepicker",null,31),s.Wb(),s.Xb(75,"div",9),s.Xb(76,"div"),s.Xb(77,"mat-hint",10),s.Tc(78,"Employment End Date"),s.Wb(),s.Xb(79,"mat-card",11),s.Sb(80,"input",32),s.Sb(81,"mat-datepicker-toggle",19),s.Wb(),s.Wb(),s.Sb(82,"mat-datepicker",null,33),s.Wb(),s.Xb(84,"div",23),s.Xb(85,"mat-hint",10),s.Tc(86,"Office Name*"),s.Wb(),s.Xb(87,"mat-card",11),s.Sb(88,"input",34),s.Wb(),s.Rc(89,Ya,2,0,"mat-error",26),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(90,"mat-card"),s.Xb(91,"mat-card-title",21),s.Xb(92,"div",22),s.Tc(93,"Monthly Income "),s.Xb(94,"div",35),s.Tc(95),s.Wb(),s.Wb(),s.Sb(96,"mat-divider"),s.Wb(),s.Xb(97,"mat-card-content"),s.Xb(98,"div",8),s.Xb(99,"div",23),s.Xb(100,"mat-hint",10),s.Tc(101,"Salary"),s.Wb(),s.Xb(102,"mat-card",11),s.Xb(103,"input",36),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(104,"div",23),s.Xb(105,"mat-hint",10),s.Tc(106,"Business"),s.Wb(),s.Xb(107,"mat-card",11),s.Xb(108,"input",37),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(109,"div",23),s.Xb(110,"mat-hint",10),s.Tc(111,"Interest Income"),s.Wb(),s.Xb(112,"mat-card",11),s.Xb(113,"input",38),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(114,"div",23),s.Xb(115,"mat-hint",10),s.Tc(116,"Pension"),s.Wb(),s.Xb(117,"mat-card",11),s.Xb(118,"input",39),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(119,"div",23),s.Xb(120,"mat-hint",10),s.Tc(121,"Bonus"),s.Wb(),s.Xb(122,"mat-card",11),s.Xb(123,"input",40),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(124,"div",23),s.Xb(125,"mat-hint",10),s.Tc(126,"Cash Gifts"),s.Wb(),s.Xb(127,"mat-card",11),s.Xb(128,"input",41),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(129,"div",23),s.Xb(130,"mat-hint",10),s.Tc(131,"Rentals"),s.Wb(),s.Xb(132,"mat-card",11),s.Xb(133,"input",42),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(134,"div",23),s.Xb(135,"mat-hint",10),s.Tc(136,"Others"),s.Wb(),s.Xb(137,"mat-card",11),s.Xb(138,"input",43),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(139,"div",23),s.Xb(140,"mat-hint",10),s.Tc(141,"Total"),s.Wb(),s.Xb(142,"mat-card",11),s.Sb(143,"input",44),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(144,"mat-card"),s.Xb(145,"mat-card-title",21),s.Xb(146,"div",22),s.Tc(147,"Monthly Expenses "),s.Xb(148,"div",35),s.Tc(149),s.Wb(),s.Wb(),s.Sb(150,"mat-divider"),s.Wb(),s.Xb(151,"mat-card-content"),s.Xb(152,"div",8),s.Xb(153,"div",23),s.Xb(154,"mat-hint",10),s.Tc(155,"Household"),s.Wb(),s.Xb(156,"mat-card",11),s.Xb(157,"input",45),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(158,"div",9),s.Xb(159,"mat-hint",10),s.Tc(160,"Medical"),s.Wb(),s.Xb(161,"mat-card",11),s.Xb(162,"input",46),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(163,"div",9),s.Xb(164,"mat-hint",10),s.Tc(165,"Vehicle Maintenance"),s.Wb(),s.Xb(166,"mat-card",11),s.Xb(167,"input",47),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(168,"div",9),s.Xb(169,"mat-hint",10),s.Tc(170,"Travel"),s.Wb(),s.Xb(171,"mat-card",11),s.Xb(172,"input",48),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(173,"div",9),s.Xb(174,"mat-hint",10),s.Tc(175,"Rentals"),s.Wb(),s.Xb(176,"mat-card",11),s.Xb(177,"input",49),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(178,"div",9),s.Xb(179,"mat-hint",10),s.Tc(180,"Others"),s.Wb(),s.Xb(181,"mat-card",11),s.Xb(182,"input",50),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(183,"div",9),s.Xb(184,"mat-hint",10),s.Tc(185,"Total"),s.Wb(),s.Xb(186,"mat-card",11),s.Sb(187,"input",51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(188,"mat-card"),s.Xb(189,"mat-card-title",21),s.Xb(190,"div",22),s.Tc(191,"Annual Liabilities "),s.Xb(192,"div",35),s.Tc(193),s.Wb(),s.Wb(),s.Sb(194,"mat-divider"),s.Wb(),s.Xb(195,"mat-card-content"),s.Xb(196,"div",8),s.Xb(197,"div",9),s.Xb(198,"mat-hint",10),s.Tc(199,"Property Loans"),s.Wb(),s.Xb(200,"mat-card",11),s.Xb(201,"input",52),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(202,"div",9),s.Xb(203,"mat-hint",10),s.Tc(204,"Personal Loans"),s.Wb(),s.Xb(205,"mat-card",11),s.Xb(206,"input",53),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(207,"div",9),s.Xb(208,"mat-hint",10),s.Tc(209,"Vehicle Loans"),s.Wb(),s.Xb(210,"mat-card",11),s.Xb(211,"input",54),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(212,"div",9),s.Xb(213,"mat-hint",10),s.Tc(214,"Cards Outstanding's"),s.Wb(),s.Xb(215,"mat-card",11),s.Xb(216,"input",55),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(217,"div",9),s.Xb(218,"mat-hint",10),s.Tc(219,"Overdrafts"),s.Wb(),s.Xb(220,"mat-card",11),s.Xb(221,"input",56),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(222,"div",9),s.Xb(223,"mat-hint",10),s.Tc(224,"Others"),s.Wb(),s.Xb(225,"mat-card",11),s.Xb(226,"input",57),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(227,"div",9),s.Xb(228,"mat-hint",10),s.Tc(229,"Total"),s.Wb(),s.Xb(230,"mat-card",11),s.Sb(231,"input",58),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(232,"mat-card"),s.Xb(233,"mat-card-title",21),s.Xb(234,"div",22),s.Tc(235,"Asset "),s.Xb(236,"div",35),s.Tc(237),s.Wb(),s.Wb(),s.Sb(238,"mat-divider"),s.Wb(),s.Xb(239,"mat-card-content"),s.Xb(240,"div",8),s.Xb(241,"div",9),s.Xb(242,"mat-hint",10),s.Tc(243,"Savings Deposits"),s.Wb(),s.Sb(244,"mat-card"),s.Xb(245,"input",59),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Xb(246,"div",9),s.Xb(247,"mat-hint",10),s.Tc(248,"Properties"),s.Wb(),s.Xb(249,"mat-card",11),s.Xb(250,"input",60),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(251,"div",9),s.Xb(252,"mat-hint",10),s.Tc(253,"Fixed Deposits"),s.Wb(),s.Xb(254,"mat-card",11),s.Xb(255,"input",61),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(256,"div",9),s.Xb(257,"mat-hint",10),s.Tc(258,"Stocks/Funds"),s.Wb(),s.Xb(259,"mat-card",11),s.Xb(260,"input",62),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(261,"div",9),s.Xb(262,"mat-hint",10),s.Tc(263,"Auto Mobiles"),s.Wb(),s.Xb(264,"mat-card",11),s.Xb(265,"input",63),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(266,"div",9),s.Xb(267,"mat-hint",10),s.Tc(268,"Lands"),s.Wb(),s.Xb(269,"mat-card",11),s.Xb(270,"input",64),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(271,"div",9),s.Xb(272,"mat-hint",10),s.Tc(273,"Others"),s.Wb(),s.Xb(274,"mat-card",11),s.Xb(275,"input",65),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(276,"div",9),s.Xb(277,"mat-hint",10),s.Tc(278,"Total"),s.Wb(),s.Xb(279,"mat-card"),s.Sb(280,"input",66),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.Dc(30),o=s.Dc(74),i=s.Dc(83),r=s.jc();s.rc("formGroup",r.financialDetailsUpdate),s.Eb(26),s.rc("matDatepicker",n)("max",r.tomorrow),s.Eb(2),s.rc("for",n),s.Eb(15),s.rc("ngForOf",r.arrayEmploymentType),s.Eb(1),s.rc("ngIf",r.financialDetailsUpdate.get("employmentType").hasError("required")),s.Eb(6),s.rc("ngIf",r.financialDetailsUpdate.get("designation").hasError("required")),s.Eb(6),s.rc("ngIf",r.financialDetailsUpdate.get("employeeNumber").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayEmploymentCategory),s.Eb(1),s.rc("ngIf",r.financialDetailsUpdate.get("employmentCategory").hasError("required")),s.Eb(7),s.rc("matDatepicker",o),s.Eb(2),s.rc("for",o),s.Eb(8),s.rc("min",r.financialDetailsUpdate.get("employmentStartDate").value)("matDatepicker",i),s.Eb(1),s.rc("for",i),s.Eb(8),s.rc("ngIf",r.financialDetailsUpdate.get("officeName").hasError("required")),s.Eb(6),s.Vc("",r.incomeErrMsg," "),s.Eb(54),s.Vc("",r.ExpensesErrMsg," "),s.Eb(44),s.Vc("",r.LiabilitiesErrMsg," "),s.Eb(44),s.Vc("",r.assetErrMsg," ")}}var Qa,tn=((Qa=function(){function t(e,a,o,i,r,c,l,s){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.ls=i,this.cdr=r,this.api=c,this.snack=l,this.tasksummaryService=s}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data,"AccountId: ",this.ls.getItem("accountId")),this.accountId=this.ls.getItem("accountId"),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.data?this.buildFinacialFormGroup(this.data):this.buildFinacialFormGroup()}},{key:"buildFinacialFormGroup",value:function(t){var e=this;this.financialDetailsUpdate=this.formBuilder.group({applicantName:[t?t.applicantName:"",v.z.required],applicantTotalIncome:[t?t.applicantTotalIncome:0,v.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,v.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],limit_end_date:[t?new Date(t.limit_end_date):""],employmentType:[t?t.employmentType:"",v.z.required],employmentCategory:[t?t.employmentCategory:"",v.z.required],employeeNumber:[t?t.employeeNumber:"",v.z.required],officeName:[t?t.officeName:"",v.z.required],designation:[t?t.designation:"",v.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):""],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0],accountId:this.ls.getItem("accountId")},{validator:function(t){return e.validateInputGroups(t)}})}},{key:"validateInputGroups",value:function(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"onSubmit",value:function(){var t=this,e=this.converDate(this.financialDetailsUpdate.controls.employmentStartDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.financialDetailsUpdate.value.employmentStartDate=e):this.financialDetailsUpdate.value.employmentStartDate=null;var a=this.converDate(this.financialDetailsUpdate.controls.employmentEndDate.value);a&&"Invalid date"!=a?(console.log("startDate",a),this.financialDetailsUpdate.value.employmentEndDate=a):this.financialDetailsUpdate.value.employmentEndDate=null;var n=this.converDate(this.financialDetailsUpdate.controls.lastUpdatedon.value);if(n&&"Invalid date"!=n?(console.log("startDate",n),this.financialDetailsUpdate.value.lastUpdatedon=n):this.financialDetailsUpdate.value.lastUpdatedon=null,console.log("submit",this.financialDetailsUpdate.value),!this.financialDetailsUpdate.value.applicantName||!this.financialDetailsUpdate.value.employmentType||!this.financialDetailsUpdate.value.employmentCategory)return console.log("if---\x3e"),Ca.a.fire("Please Enter The Mandatory Fields !"),!1;this.api.upsertfinancialDetails(this.financialDetailsUpdate.value).subscribe(function(e){console.log(e),t.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(e){t.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"getEmploymentType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t})}},{key:"getEmploymentCategory",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentCategory=t})}},{key:"converDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"calculateTotalMonthlyIncome",value:function(t){var e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.financialDetailsUpdate.controls.monthlyIncomeTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalMonthlyExpenses",value:function(t){var e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.financialDetailsUpdate.controls.monthlyExpenseTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalLiabilities",value:function(t){var e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.financialDetailsUpdate.controls.liabilityTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalAssets",value:function(t){var e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.financialDetailsUpdate.controls.assetTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalIncomeAndExpense",value:function(t){var e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.financialDetailsUpdate.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.financialDetailsUpdate.controls.applicantTotalExpense.setValue(e),this.cdr.detectChanges()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Qa)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(m.a),s.Rb(s.h),s.Rb(b.b),s.Rb(W.a),s.Rb(g.a))},Qa.\u0275cmp=s.Lb({type:Qa,selectors:[["app-financial-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","submit",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","applicantName","readonly","","placeholder","Applicant Name"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Annual Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total Annual Expenses"],["fxFlexLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","formControlName","lastUpdatedon","placeholder","Last Update On","readonly","",3,"matDatepicker","max"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],[1,""],[1,"card-title-text"],["fxFlex","33.33%","fxFlex.xs","100%","fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","formControlName","employmentStartDate","placeholder","Employment Start Date","readonly","",3,"matDatepicker"],["start",""],["matInput","","name","employmentEndDate","formControlName","employmentEndDate","placeholder","Employment End Date","readonly","",3,"min","matDatepicker"],["end",""],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","autocomplete","off","placeholder","Business",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","MonthlyIncomeTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","monthlyExpenseRentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","monthlyExpenseOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","vehicle Loan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","cardOutstandings",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","overdraft",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","liabilityOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","fixedDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","stocks","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","assetOthers","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","assetTotal","readonly",""],[3,"value"],[1,"errorClass"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Financial Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Za,281,20,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9," Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.financialDetailsUpdate),s.Eb(2),s.rc("disabled",!e.financialDetailsUpdate.get("employeeNumber").valid||!e.financialDetailsUpdate.get("employmentType").valid||!e.financialDetailsUpdate.get("designation").valid||e.incomeErrMsg||!e.financialDetailsUpdate.get("officeName").valid||e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,D.b,v.A,v.s,v.j,E.a,X.b,I.f,x.b,v.c,v.r,v.i,v.v,A.e,A.g,I.j,A.d,E.h,Ba.a,E.d,C.a,c.m,v.m,Y.a,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}"]}),Qa);function en(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Margin in % is "),s.Xb(2,"strong"),s.Tc(3,"required"),s.Wb(),s.Wb())}function an(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Max value allowed is 100 "),s.Wb())}function nn(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Effective Rate % is required "),s.Wb())}function on(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Max value allowed is 100 "),s.Wb())}function rn(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr",10),s.Vb(1,7),s.Xb(2,"td"),s.Xb(3,"div"),s.Xb(4,"mat-card",11),s.Sb(5,"input",12),s.Xb(6,"mat-icon",13),s.Tc(7,"credit_card"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"div"),s.Xb(10,"mat-card",14),s.Sb(11,"input",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"td"),s.Xb(13,"div"),s.Xb(14,"mat-card",14),s.Xb(15,"input",16),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(16,en,4,0,"mat-error",17),s.Rc(17,an,2,0,"mat-error",17),s.Wb(),s.Wb(),s.Xb(18,"td"),s.Xb(19,"div"),s.Xb(20,"mat-card",14),s.Xb(21,"input",18),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(22,nn,2,0,"mat-error",17),s.Rc(23,on,2,0,"mat-error",17),s.Wb(),s.Wb(),s.Ub(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("formGroup",n),s.Eb(15),s.rc("ngIf",null==n.controls.marginIn.errors?null:n.controls.marginIn.errors.required),s.Eb(1),s.rc("ngIf",null==n.controls.marginIn.errors?null:n.controls.marginIn.errors.max),s.Eb(5),s.rc("ngIf",null==n.controls.effectiveRate.errors?null:n.controls.effectiveRate.errors.required),s.Eb(1),s.rc("ngIf",null==n.controls.effectiveRate.errors?null:n.controls.effectiveRate.errors.max)}}function cn(t,e){if(1&t&&(s.Xb(0,"form",7),s.Xb(1,"table"),s.Xb(2,"thead"),s.Xb(3,"tr"),s.Xb(4,"th",8),s.Tc(5,"Interest Type"),s.Wb(),s.Xb(6,"th",8),s.Tc(7,"Interest Rate Applicable"),s.Wb(),s.Xb(8,"th",8),s.Tc(9,"Margin in %"),s.Wb(),s.Xb(10,"th",8),s.Tc(11,"Effective Rate %"),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"tbody"),s.Rc(13,rn,24,5,"tr",9),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.interestUpdateForm),s.Eb(13),s.rc("ngForOf",a.in.controls)}}var ln,sn=((ln=function(){function t(e,a,o,i,r,c,l){n(this,t),this.data=e,this.dialogRef=a,this.api=o,this.ls=i,this.formBuilder=r,this.snack=c,this.tasksummaryService=l}return i(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.interestUpdateForm=this.formBuilder.group({interest:new v.d([])}),null!=this.data&&(this.buildInterestForm(this.data.length),this.in.patchValue(this.data)),this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(e){t.buildInterestForm(e.length),t.in.patchValue(e)})}},{key:"buildInterestForm",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:["",[v.z.required,v.z.max(100),v.z.min(0)]],effectiveRate:["",[v.z.required,v.z.max(100),v.z.min(0)]],accountId:[""],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.interestUpdateForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onSubmit",value:function(t){var e=this;t.interest=t.interest.map(function(t){return Object.assign(Object.assign({},t),{accountId:e.accountId})}),this.api.intrestDetailsSave(t.interest).subscribe(function(t){e.snack.open("Interest Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||ln)(s.Rb(p.a),s.Rb(p.g),s.Rb(b.b),s.Rb(m.a),s.Rb(v.f),s.Rb(W.a),s.Rb(g.a))},ln.\u0275cmp=s.Lb({type:ln,selectors:[["app-interest-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type","readonly",""],["matSuffix",""],[1,"inputCard"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","placeholder","Interest Rate Applicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","maxlength","3","type","text",1,"input",3,"keypress"],["class","errorClass",4,"ngIf"],["matInput","","formControlName","effectiveRate","name","account_branch","type","text","maxlength","3","value","",1,"input",3,"keypress"],[1,"errorClass"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Interest Details"),s.Wb(),s.Xb(5,"mat-card-content"),s.Rc(6,cn,14,2,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit(e.interestUpdateForm.value)}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.interestUpdateForm),s.Eb(2),s.rc("disabled",e.interestUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,E.d,c.n,D.b,v.A,v.s,v.j,c.m,E.a,x.b,v.c,v.r,v.i,I.j,v.m,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),ln);function bn(t,e){1&t&&(s.Xb(0,"mat-error",17),s.Tc(1," amount is required "),s.Wb())}function un(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr"),s.Vb(1,7),s.Xb(2,"td"),s.Xb(3,"div"),s.Xb(4,"mat-card",10),s.Xb(5,"input",11),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Xb(6,"mat-icon",12),s.Tc(7,"credit_card"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"div"),s.Xb(10,"mat-card",10),s.Sb(11,"input",13),s.Xb(12,"mat-icon",12),s.Tc(13,"class"),s.Wb(),s.Wb(),s.Rc(14,bn,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Xb(15,"td"),s.Xb(16,"div",15),s.Xb(17,"mat-checkbox",16),s.fc("change",function(t){return s.Hc(a),s.jc(2).checkboxChanged(t)}),s.Wb(),s.Wb(),s.Wb(),s.Ub(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("formGroup",n),s.Eb(13),s.rc("ngIf",(null==n.controls.amount.errors?null:n.controls.amount.errors.required)&&n.controls.amount.touched)}}function dn(t,e){if(1&t&&(s.Xb(0,"form",7),s.Xb(1,"thead"),s.Xb(2,"tr"),s.Xb(3,"th",8),s.Tc(4,"Interest Type"),s.Wb(),s.Xb(5,"th",8),s.Tc(6,"Amount*"),s.Wb(),s.Xb(7,"th",8),s.Tc(8,"Waiver"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"tbody"),s.Rc(10,un,18,2,"tr",9),s.Wb(),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.chargeForm),s.Eb(10),s.rc("ngForOf",a.c.controls)}}var mn,pn=((mn=function(){function t(e,a,o,i,r,c,l){n(this,t),this.data=e,this.dialogRef=a,this.api=o,this.formBuilder=i,this.ls=r,this.snack=c,this.tasksummaryService=l}return i(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.chargeUpdateForm=this.formBuilder.group({charges:new v.d([])}),null!=this.data&&(this.buildChargeForm(this.data.length),this.c.patchValue(this.data)),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(e){t.buildChargeForm(e.length),t.c.patchValue(e)})}},{key:"buildChargeForm",value:function(t){var e=t||0;if(this.c.length<e)for(var a=this.c.length;a<e;a++)this.c.push(this.formBuilder.group({intrestType:[""],amount:["",v.z.required],waiver:[!1],accountId:[this.accountId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(var n=this.c.length;n>=e;n--)this.c.removeAt(n)}},{key:"f",get:function(){return this.chargeUpdateForm.controls}},{key:"c",get:function(){return this.f.charges}},{key:"onSubmit",value:function(t){var e=this;t.charges=t.charges.map(function(t){return Object.assign(Object.assign({},t),{accountId:e.accountId})}),t.accountId=this.accountId,this.api.chargeDetailsSave(t.charges).subscribe(function(t){e.snack.open("Account Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"checkboxChanged",value:function(t){console.log(t.checked),this.flag=t.checked}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||mn)(s.Rb(p.a),s.Rb(p.g),s.Rb(b.b),s.Rb(v.f),s.Rb(m.a),s.Rb(W.a),s.Rb(g.a))},mn.\u0275cmp=s.Lb({type:mn,selectors:[["app-charge-details-update"]],decls:14,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type",3,"keypress"],["matSuffix",""],["matInput","","formControlName","amount","type","number","name","account_branch","placeholder","Amount"],["class","errorClass",4,"ngIf"],[1,"waiver-pos",2,"text-align","center"],["formControlName","waiver","color","primary",3,"change"],[1,"errorClass"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Charge Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Rc(7,dn,11,2,"form",3),s.Wb(),s.Wb(),s.Xb(8,"div",4),s.Xb(9,"button",5),s.fc("click",function(){return e.onSubmit(e.chargeUpdateForm.value)}),s.Tc(10,"Save"),s.Wb(),s.Tc(11," \xa0\xa0\xa0 "),s.Xb(12,"button",6),s.fc("click",function(){return e.close()}),s.Tc(13," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("ngIf",e.chargeUpdateForm),s.Eb(2),s.rc("disabled",e.chargeUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,E.a,c.n,D.b,v.A,v.s,v.j,c.m,x.b,v.c,v.r,v.i,I.j,v.v,ee.a,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),mn);function fn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter valid Scorecard ID "),s.Wb())}function hn(t,e){1&t&&s.Sb(0,"input",15)}function gn(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function vn(t,e){if(1&t&&(s.Xb(0,"mat-select",16),s.Rc(1,gn,2,2,"mat-option",17),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("ngForOf",a.value.scorecardAnswers)}}function yn(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",11),s.Xb(2,"mat-hint"),s.Tc(3),s.Wb(),s.Xb(4,"mat-card"),s.Rc(5,hn,1,0,"input",13),s.Rc(6,vn,2,1,"mat-select",14),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(1),s.rc("formGroupName",n),s.Eb(2),s.Uc(a.value.scorecardQuestion),s.Eb(2),s.rc("ngIf","textbox"==a.value.attributeType),s.Eb(1),s.rc("ngIf","drop-down"==a.value.attributeType)}}function Wn(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",11),s.Xb(2,"div",12),s.Rc(3,yn,7,4,"div",7),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(1),s.rc("formGroupName",n),s.Eb(2),s.rc("ngForOf",a.get("scoreCardDetails").controls)}}var Xn,Tn=((Xn=function(){function t(e,a,o,i,r,c){n(this,t),this.formBuilder=e,this.qualitativeDetails=a,this.ls=o,this.apiService=i,this.dialogRef=r,this.snack=c,this.qualitative=new v.d([])}return i(t,[{key:"ngOnInit",value:function(){var t,e,a=this;console.log(this.qualitativeDetails),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.scoreCardId=null===(t=this.qualitativeDetails)||void 0===t?void 0:t.scorecardId,this.numberOfApplicant=null===(e=this.qualitativeDetails)||void 0===e?void 0:e.numberOfApplicant,this.buildQualitativeForm(),this.apiService.getScorecardQuestions(this.accountType).subscribe(function(t){var e;a.qualitative=a.qualitativeUpdateForm.get("scorecardMapping"),a.qualitative.push(a.addScorecardMappiing());for(var n=0;n<t.length;n++)a.addScorecardDetails(t[n],null===(e=a.qualitativeDetails)||void 0===e?void 0:e.scoreCardMapping[0].scoreCardDetails[n].scorecardAnswer,n)})}},{key:"buildQualitativeForm",value:function(){this.qualitativeUpdateForm=this.formBuilder.group({accountId:this.accountId,accountType:this.accountType,scoreCardId:this.scoreCardId?this.scoreCardId:"",loggedinUser:"123",numberOfApplicant:this.numberOfApplicant,scorecardMapping:this.formBuilder.array([])})}},{key:"addScorecardMappiing",value:function(){return this.formBuilder.group({applicantId:"",scoreCardDetails:this.formBuilder.array([])})}},{key:"addScorecardDetails",value:function(t,e,a){this.qualitative.controls[0].get("scoreCardDetails").push(this.formBuilder.group({scoreCardDetailsId:[t?t.scoreCardDetailsId:""],scoreCardMappingId:[t?t.scoreCardMappingId:""],scoreCardQuestionId:[t?t.scoreCardQuestionId:""],scorecardQuestion:[t?t.scorecardQuestion:""],scorecardAnswer:[t?t.scorecardAnswer:"",[v.z.required]],scorecardAnswers:[t?t.scorecardAnswers:""],attributeType:[t?t.attributeType:""]})),e&&this.qualitative.controls[0].get("scoreCardDetails").at(a).get("scorecardAnswer").setValue(e)}},{key:"saveReports",value:function(t){var e=this;this.apiService.saveQualitativeScorecard(t).subscribe(function(t){e.snack.open("Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Xn)(s.Rb(v.f),s.Rb(p.a),s.Rb(m.a),s.Rb(b.b),s.Rb(p.g),s.Rb(W.a))},Xn.\u0275cmp=s.Lb({type:Xn,selectors:[["app-qualitative-details-update"]],decls:22,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId","formControlName","scoreCardId"],[4,"ngIf"],["formArrayName","scorecardMapping"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroupName"],["formArrayName","scoreCardDetails"],["matInput","","formControlName","scorecardAnswer",4,"ngIf"],["formControlName","scorecardAnswer",4,"ngIf"],["matInput","","formControlName","scorecardAnswer"],["formControlName","scorecardAnswer"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Qualitative Scoreboard"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"mat-card"),s.Xb(8,"div"),s.Xb(9,"mat-hint"),s.Tc(10," Scorecard ID "),s.Wb(),s.Xb(11,"mat-card"),s.Sb(12,"input",4),s.Wb(),s.Rc(13,fn,2,0,"mat-error",5),s.Wb(),s.Xb(14,"div",6),s.Rc(15,Wn,4,2,"div",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div",8),s.Xb(17,"button",9),s.fc("click",function(){return e.saveReports(e.qualitativeUpdateForm.value)}),s.Tc(18,"Save"),s.Wb(),s.Tc(19," \xa0\xa0\xa0 "),s.Xb(20,"button",10),s.fc("click",function(){return e.close()}),s.Tc(21," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.qualitativeUpdateForm),s.Eb(7),s.rc("ngIf",e.qualitativeUpdateForm.get("scoreCardId").touched&&0==e.qualitativeUpdateForm.get("scoreCardId").value),s.Eb(2),s.rc("ngForOf",e.qualitativeUpdateForm.get("scorecardMapping").controls),s.Eb(2),s.rc("disabled",e.qualitativeUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,v.A,v.s,v.j,E.a,I.f,x.b,v.c,Y.a,v.r,v.i,c.n,v.e,c.m,D.b,I.b,v.k,C.a,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Xn),In=r("/Pd4"),En=r("kA6c"),xn=r("Ya7Z");function Cn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Fund By "),s.Wb())}function An(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Amount "),s.Wb())}function On(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Teller Transaction Reference Number "),s.Wb())}function Dn(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Teller Transaction Reference Number"),s.Wb(),s.Xb(3,"mat-card",11),s.Xb(4,"input",19),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(5,On,2,0,"mat-error",16),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("ngIf",n.fundStageUpdateForm.controls.tellerTrxnRefNo.hasError("required"))}}function Rn(t,e){if(1&t&&(s.Xb(0,"mat-hint",10),s.Tc(1),s.kc(2,"currency"),s.Wb()),2&t){var a=s.jc(3);s.Eb(1),s.Vc("Available Balance : ",s.oc(2,1,null==a.accountInfo?null:a.accountInfo.accBalance,null==a.accountInfo?null:a.accountInfo.currency,"symbol","4.2-2"),"")}}function Sn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Fund By Account is Required! "),s.Wb())}function kn(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Fund By Account"),s.Wb(),s.Xb(3,"mat-card",11),s.Xb(4,"input",20),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(2).keyUp(t)})("change",function(){s.Hc(a);var t=s.jc(2);return t.onChangeEvent(t.fundStageUpdateForm.get("fundByAccount").value)}),s.Wb(),s.Xb(5,"mat-icon",21),s.Tc(6,"search"),s.Wb(),s.Wb(),s.Rc(7,Rn,3,6,"mat-hint",22),s.Rc(8,Sn,2,0,"mat-error",16),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(7),s.rc("ngIf",null!==n.accountInfo),s.Eb(1),s.rc("ngIf",n.fundStageUpdateForm.get("fundByAccount").hasError("required"))}}function Nn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Branch Code "),s.Wb())}function Pn(t,e){if(1&t&&(s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Branch Code"),s.Wb(),s.Xb(3,"mat-card",11),s.Sb(4,"input",23),s.Wb(),s.Rc(5,Nn,2,0,"mat-error",16),s.Wb()),2&t){var a=s.jc(2);s.Eb(5),s.rc("ngIf",a.fundStageUpdateForm.controls.branchCode.hasError("required"))}}function Fn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Cheque Number "),s.Wb())}function Ln(t,e){1&t&&(s.Xb(0,"small",26),s.Tc(1," Cheque Number should be minmum 6 digits "),s.Wb())}function _n(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Cheque Number"),s.Wb(),s.Xb(3,"mat-card",11),s.Xb(4,"input",24),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(5,Fn,2,0,"mat-error",16),s.Rc(6,Ln,2,0,"small",25),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("ngIf",n.fundStageUpdateForm.controls.chequeNumber.hasError("required")),s.Eb(1),s.rc("ngIf",n.chequeNoLenCheck)}}function wn(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"div"),s.Xb(3,"button",27),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Xb(6,"div"),s.Xb(7,"button",28),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",9),s.Xb(10,"mat-hint",10),s.Tc(11,"Amount"),s.Wb(),s.Xb(12,"mat-card",11),s.Xb(13,"span",29),s.Tc(14,"\xa0"),s.Wb(),s.Sb(15,"input",30),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Vc(" ReferenceNumber : ",a.fundStageUpdateForm.value.tellerTrxnRefNo," "),s.Eb(4),s.Vc(" Branch Code : ",a.fundStageUpdateForm.value.tellerTrxnStatus," ")}}function Un(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"div",8),s.Xb(2,"div",9),s.Xb(3,"mat-hint",10),s.Tc(4,"Fund By*"),s.Wb(),s.Xb(5,"mat-card",11),s.Xb(6,"mat-select",12),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().selected(t.value)}),s.Xb(7,"mat-option",13),s.Tc(8,"Cash"),s.Wb(),s.Xb(9,"mat-option",14),s.Tc(10,"Cheque"),s.Wb(),s.Xb(11,"mat-option",15),s.Tc(12,"Fund Transfer"),s.Wb(),s.Wb(),s.Wb(),s.Rc(13,Cn,2,0,"mat-error",16),s.Wb(),s.Xb(14,"div",9),s.Xb(15,"mat-hint",10),s.Tc(16,"Amount"),s.Wb(),s.Xb(17,"mat-card",11),s.Xb(18,"input",17),s.fc("keyup",function(t){return s.Hc(a),s.jc().validateAmount(t)})("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.kc(19,"removeComma"),s.Wb(),s.Wb(),s.Rc(20,An,2,0,"mat-error",16),s.Wb(),s.Rc(21,Dn,6,1,"div",18),s.Rc(22,kn,9,2,"div",18),s.Rc(23,Pn,6,1,"div",18),s.Rc(24,_n,7,2,"div",18),s.Wb(),s.Rc(25,wn,16,2,"mat-card",16),s.Wb()}if(2&t){var n=s.jc();s.rc("formGroup",n.fundStageUpdateForm),s.Eb(13),s.rc("ngIf",n.fundStageUpdateForm.controls.fundBy.hasError("required")),s.Eb(5),s.rc("value",s.lc(19,9,n.fundStageUpdateForm.controls.amount.value)),s.Eb(2),s.rc("ngIf",n.fundStageUpdateForm.controls.amount.hasError("required")),s.Eb(1),s.rc("ngIf",n.disabletellerTrxnRefNo),s.Eb(1),s.rc("ngIf",n.disableFundByAccount),s.Eb(1),s.rc("ngIf",n.disabletellerTrxnStatus),s.Eb(1),s.rc("ngIf",n.disablechequeNumber),s.Eb(1),s.rc("ngIf",n.actionView)}}var Mn,Gn=((Mn=function(){function t(e,a,o,i,r,c,l,s,b,u,d){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.cdr=i,this.accountService=r,this.ls=c,this.fundingStageService=l,this.snack=s,this.apiService=b,this.loader=u,this.tasksummaryService=d}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountInfo=this.ls.getItem("accountDetails"),this.data?("Fund Transfer"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1),"Cheque"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1),"Cash"==this.data.fundBy&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1),this.buildFundFormGroup(this.data)):this.buildFundFormGroup()}},{key:"buildFundFormGroup",value:function(t){this.fundStageUpdateForm=this.formBuilder.group({fundId:[t?t.fundId:""],fundBy:[t?t.fundBy:"",[v.z.required]],amount:[t?t.amount:""],tellerTrxnRefNo:[t?t.tellerTrxnRefNo:""],fundByAccount:[t?t.fundByAccount:""],chequeNumber:[t?t.chequeNumber:"",[v.z.maxLength]],branchCode:[t?t.branchCode:""],tellerTrxnStatus:[t?t.tellerTrxnStatus:""],createdBy:[t?t.createdBy:""],createdTime:[t?t.createdTime:""],modifiedBy:[t?t.modifiedBy:""],modifiedTime:[t?t.modifiedTime:""],accountId:[this.accountId]}),(null==t?void 0:t.fundByAccount)&&this.fetchAccountBalance(t.fundByAccount)}},{key:"fetchAccountBalance",value:function(t,e){var a=this;this.loader.open(),this.apiService.fetchAccountBalanceByAccountId(t).subscribe(function(t){console.log("RES",t),a.accountInfo=t,e||"Fund Transfer"==a.fundStageUpdateForm.get("fundBy").value&&(a.fundStageUpdateForm.get("fundByAccount").patchValue(t.accountId),a.fundStageUpdateForm.get("branchCode").patchValue(t.branchCode)),a.loader.close(),a.snack.open("Fetched!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){a.loader.close(),a.snack.open("Invalid AccountId!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"selected",value:function(t){console.log(t),"Fund Transfer"==t&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1,null!=this.accountInfo&&(this.fundStageUpdateForm.get("branchCode").patchValue(this.accountInfo.branchCode),this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId)),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cheque"==t&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1,null!=this.accountInfo&&this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId),this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cash"==t&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1,this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),this.fundStageUpdateForm.get("fundBy").setValue(t)}},{key:"onSubmit",value:function(t){var e=this;t.accountId=this.accountId,this.fundingStageService.saveOrUpdateFundStageDetails(t).subscribe(function(t){null!=t.accountId||""!=t.accountId||""!=t.accountId?(e.fundingStageService.isSubmittedResp(!0),e.snack.open("Funding Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"}),e.cdr.markForCheck()):(e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))},function(t){console.log("error :: ",t),e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){console.log("PRessed",t);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onChangeEvent",value:function(t){console.log("Onchange event",t),this.fetchAccountBalance(t)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Mn)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(s.h),s.Rb(En.a),s.Rb(m.a),s.Rb(In.a),s.Rb(W.a),s.Rb(b.b),s.Rb(J.a),s.Rb(g.a))},Mn.\u0275cmp=s.Lb({type:Mn,selectors:[["app-funding-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["formControlName","fundBy","placeholder","Fund By",1,"full-width",2,"background-color","#FDFDFF","font-size","16px","border","transparent",3,"selectionChange"],["value","Cash"],["value","Cheque"],["value","Fund Transfer"],[4,"ngIf"],["matInput","","formControlName","amount","placeholder","Amount","maxlength","10","minlength","0","required","",3,"value","keyup","keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","tellerTrxnRefNo","placeholder","Teller Transaction Reference Number","maxlength","10","minlength","0",3,"keypress"],["name","account","formControlName","fundByAccount","matInput","","placeholder","Fund By Account","maxlength","10","minlength","0",3,"keypress","keyup","change"],["matSuffix",""],["class","hintClass",4,"ngIf"],["matInput","","formControlName","branchCode","appUppercaseInput","","placeholder","Branch Code","maxlength","11","minlength","0"],["matInput","","formControlName","chequeNumber","placeholder","Cheque Number","maxlength","12","minlength","6",3,"keypress"],["style","color: tomato;",4,"ngIf"],[2,"color","tomato"],["mat-raised-button","","id","referenceNumber","color","primary"],["mat-raised-button","","id","status","type","button",2,"background-color","#1ABC9C"],["matPrefix",""],["matInput","","formControlName","amount","placeholder","Amount","readonly",""]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Funding Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Un,26,11,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit(e.fundStageUpdateForm.value)}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.fundStageUpdateForm),s.Eb(2),s.rc("disabled",e.fundStageUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,D.b,v.A,v.s,v.j,X.b,I.f,E.a,C.a,v.r,v.i,S.n,x.b,v.c,v.m,v.n,v.y,I.b,I.j,xn.a,I.i],pipes:[c.d],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Mn);function Vn(t,e){if(1&t&&(s.Xb(0,"mat-option",17),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function jn(t,e){if(1&t&&(s.Xb(0,"mat-option",17),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Bn(t,e){if(1&t&&(s.Xb(0,"mat-option",17),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var zn,qn=((zn=function(){function t(e,a,o,i,r,c,l){n(this,t),this.data=e,this.dialogRef=a,this.api=o,this.formBuilder=i,this.ls=r,this.snack=c,this.tasksummaryService=l,this.arrayAccountType=[],this.arrayAccountCurrency=[],this.arrayUserRecomendation=[]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.buildApprovalForm({}),this.getAccountCurrency("currency"),this.getAccountType("account_type"),this.getUserRecomendation("user_recomendation"),this.data&&this.buildApprovalForm(this.data)}},{key:"buildApprovalForm",value:function(t){this.approvalUpdateForm=this.formBuilder.group({accountId:[this.ls.getItem("accountId")],accountType:[t?t.accountType:""],businessProductName:[t?t.businessProductName:""],productCode:[t?t.businessProductName:""],description:[t?t.description:""],accountBranch:[t?t.accountBranch:""],accountCurrency:[t?t.accountCurrency:""],applicationDate:[t?t.applicationDate:""],fundTheAccount:[t?t.fundTheAccount:""],fundBy:[t?t.fundBy:""],amount:[t?t.amount:""],overDraftRequested:[t?t.overDraftRequested:""],productDescription:[t?t.productDescription:""],userRecommendation:[t?t.userRecommendation:""],createdBy:[this.ls.getItem("userName")]})}},{key:"onSubmit",value:function(t){var e=this;t.applicationDate=y(t.applicationDate).format("DD-MMM-YYYY"),this.api.approvalUpdate(t).subscribe(function(t){e.snack.open("Approval Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})})}},{key:"getAccountCurrency",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountCurrency=t})}},{key:"getAccountType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getUserRecomendation",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayUserRecomendation=t})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||zn)(s.Rb(p.a),s.Rb(p.g),s.Rb(b.b),s.Rb(v.f),s.Rb(m.a),s.Rb(W.a),s.Rb(g.a))},zn.\u0275cmp=s.Lb({type:zn,selectors:[["app-approval-details-update"]],decls:42,vars:5,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"paddingclass","full-width"],[1,"hintClass"],[1,"inputCard"],["name","account","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","readonly","","placeholder","Account Branch","formControlName","accountBranch"],["name","owner","formControlName","accountCurrency"],["matInput","","name","account_branch","placeholder","Product Image","formControlName","productCode","readonly",""],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Approval Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"Account Type"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"mat-select",8),s.Rc(13,Vn,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",5),s.Xb(15,"mat-hint",6),s.Tc(16,"Account Branch"),s.Wb(),s.Xb(17,"mat-card",7),s.Sb(18,"input",10),s.Wb(),s.Wb(),s.Xb(19,"div",5),s.Xb(20,"mat-hint",6),s.Tc(21,"Account Currency"),s.Wb(),s.Xb(22,"mat-card",7),s.Xb(23,"mat-select",11),s.Rc(24,jn,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",5),s.Xb(26,"mat-hint",6),s.Tc(27,"Product Code"),s.Wb(),s.Xb(28,"mat-card",7),s.Sb(29,"input",12),s.Wb(),s.Wb(),s.Xb(30,"div",5),s.Xb(31,"mat-hint",6),s.Tc(32,"User Recomendation"),s.Wb(),s.Xb(33,"mat-card",7),s.Xb(34,"mat-select",13),s.Rc(35,Bn,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",14),s.Xb(37,"button",15),s.fc("click",function(){return e.onSubmit(e.approvalUpdateForm.value)}),s.Tc(38,"Save"),s.Wb(),s.Tc(39," \xa0\xa0\xa0 "),s.Xb(40,"button",16),s.fc("click",function(){return e.close()}),s.Tc(41," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.approvalUpdateForm),s.Eb(7),s.rc("ngForOf",e.arrayAccountType),s.Eb(11),s.rc("ngForOf",e.arrayAccountCurrency),s.Eb(11),s.rc("ngForOf",e.arrayUserRecomendation),s.Eb(2),s.rc("disabled",!e.approvalUpdateForm.valid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,C.a,v.r,v.i,c.m,x.b,v.c,D.b,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),zn),Kn=r("h/GN");function Jn(t,e){if(1&t&&(s.Vb(0),s.Tc(1),s.Ub()),2&t){var a=s.jc().index;s.Eb(1),s.Vc(" Update Mandate ",a+1," ")}}function Hn(t,e){if(1&t&&s.Tc(0),2&t){var a=s.jc().index;s.Vc(" Create Mandate ",a+1," ")}}function $n(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Yn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Mode Of Operation is Required! "),s.Wb())}function Zn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Amount From is Required! "),s.Wb())}function Qn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Amount To is Required! "),s.Wb())}function to(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," No of Signatories is Required! "),s.Wb())}function eo(t,e){1&t&&(s.Xb(0,"small",27),s.Tc(1," No of Signatories can not be more than no of applicants! "),s.Wb())}function ao(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",28),s.fc("click",function(){s.Hc(a);var t=s.jc().index;return s.jc(2).removeMandate(t)}),s.Sb(1,"mat-icon"),s.Tc(2," REMOVE MANDATE "),s.Wb()}}function no(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"mat-accordion"),s.Xb(2,"mat-expansion-panel",9),s.fc("opened",function(){return s.Hc(a),s.jc(2).panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc(2).panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Rc(5,Jn,2,1,"ng-container",10),s.Rc(6,Hn,1,1,"ng-template",null,11,s.Sc),s.Wb(),s.Wb(),s.Xb(8,"div",7),s.Xb(9,"div",12),s.Xb(10,"div",13),s.Xb(11,"div"),s.Xb(12,"mat-hint"),s.Tc(13," Mode Of Operation "),s.Wb(),s.Xb(14,"mat-card"),s.Xb(15,"mat-select",14),s.Rc(16,$n,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Rc(17,Yn,2,0,"mat-error",16),s.Wb(),s.Xb(18,"div",17),s.Xb(19,"div"),s.Xb(20,"mat-hint"),s.Tc(21,"Amount From*"),s.Wb(),s.Xb(22,"mat-card"),s.Xb(23,"input",18),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(24,Zn,2,0,"mat-error",16),s.Wb(),s.Xb(25,"div"),s.Xb(26,"mat-hint"),s.Tc(27,"Amount From*"),s.Wb(),s.Xb(28,"mat-card"),s.Xb(29,"input",19),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(30,Qn,2,0,"mat-error",16),s.Wb(),s.Wb(),s.Xb(31,"div"),s.Xb(32,"mat-hint"),s.Tc(33,"Required Signatories"),s.Wb(),s.Xb(34,"mat-card"),s.Xb(35,"input",20),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress2(t)}),s.Wb(),s.Wb(),s.Rc(36,to,2,0,"mat-error",16),s.Xb(37,"div"),s.Rc(38,eo,2,0,"small",21),s.Wb(),s.Wb(),s.Xb(39,"div"),s.Xb(40,"mat-hint"),s.Tc(41,"Remarks"),s.Wb(),s.Sb(42,"textarea",22),s.Wb(),s.Xb(43,"div",23),s.Xb(44,"button",24),s.fc("click",function(){return s.Hc(a),s.jc(2).addMandateToFormGroup()}),s.Xb(45,"mat-icon"),s.Tc(46,"add"),s.Wb(),s.Tc(47," ADD MANDATE "),s.Wb(),s.Rc(48,ao,3,0,"button",25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.Dc(7),r=s.jc(2);s.Eb(5),s.rc("ngIf",r.showEditOption)("ngIfElse",i),s.Eb(3),s.rc("formGroup",n),s.Eb(8),s.rc("ngForOf",r.arrayModeOfOperation),s.Eb(1),s.rc("ngIf",n.get("modeOfOperation").touched&&n.get("modeOfOperation").hasError("required")),s.Eb(7),s.rc("ngIf",n.get("amountFrom").touched&&n.get("amountFrom").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("amountTo").touched&&n.get("amountTo").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("totalSignaturesRequired").touched&&n.get("totalSignaturesRequired").hasError("required")),s.Eb(2),s.rc("ngIf",r.flag),s.Eb(6),s.rc("disabled",o<r.m.controls.length-1),s.Eb(4),s.rc("ngIf",null!=n.get("mandateId").value)}}function oo(t,e){if(1&t&&(s.Xb(0,"form",7),s.Rc(1,no,49,11,"div",8),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.mandatesUpdateForm),s.Eb(1),s.rc("ngForOf",a.m.controls)}}var io,ro=((io=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.apiService=i,this.snack=r,this.ls=c,this.api=l,this.confirmService=s,this.tasksummaryService=b}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getModeOfOperation("opr_mode"),this.data?(this.showEditOption=!0,this.buildMandateForm(),this.addMandateToFormGroup(this.data)):(this.showEditOption=!1,this.buildMandateForm(),this.addMandateToFormGroup())}},{key:"buildMandateForm",value:function(){this.mandatesUpdateForm=this.formBuilder.group({mandates:this.formBuilder.array([])})}},{key:"addMandateToFormGroup",value:function(t){var e=t?t.length:1;console.log("numberOfItems",e);for(var a=0;a<e;a++)this.m.push(this.formBuilder.group({mandateId:[t?t.mandateId:""],productAccountId:[this.accountId],modeOfOperation:["",v.z.required],amountFrom:["",v.z.required],amountTo:["",v.z.required],totalSignaturesRequired:[""],remarks:[""]})),this.m.at(a).patchValue(t[a])}},{key:"removeMandate",value:function(t){var e=this,a=this.m.at(t).get("mandateId").value;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&e.apiService.deleteMandateById(a,"ADMIN").subscribe(function(t){console.log("data",t)},function(a){e.mandatesUpdateForm.controls.mandates.removeAt(t),200===a.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}},{key:"f",get:function(){return this.mandatesUpdateForm.controls}},{key:"m",get:function(){return this.f.mandates}},{key:"getModeOfOperation",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayModeOfOperation=t})}},{key:"onSubmit",value:function(){var t=this;this.apiService.saveMandateDetails(this.mandatesUpdateForm.value).subscribe(function(e){console.log(e),200===e||null!==e?(t.snack.open(" Mandate Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})):500===e&&t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"_keyPress2",value:function(t){this.no_of_sig=t.key,isNaN(t.key)?console.log("input is invalid"):t.key>this.no_of_applicants?(console.log("no of signatories is more than no of applicants"),this.flag=!0):0==t.key?this.flag1=!0:(this.flag=!1,this.flag1=!1);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||io)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(f.a),s.Rb(W.a),s.Rb(m.a),s.Rb(b.b),s.Rb(K.a),s.Rb(g.a))},io.\u0275cmp=s.Lb({type:io,selectors:[["app-mandate-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[4,"ngFor","ngForOf"],["expanded","true",3,"opened","closed"],[4,"ngIf","ngIfElse"],["createMandate",""],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["formControlName","modeOfOperation","name","mod","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["matInput","","maxlength","10","name","a_from","formControlName","amountFrom","placeholder","Amount From",3,"keypress"],["matInput","","maxlength","10","name","a_to","formControlName","amountTo","placeholder","Amount To",3,"keypress"],["matInput","","name","a_sig","formControlName","totalSignaturesRequired","maxlength","1","placeholder","Required No of Signatories",3,"keypress"],["style","color: red",4,"ngIf"],["matInput","","name","remark","formControlName","remarks","placeholder","Leave a Remarks"],[1,"pb-1"],["mat-button","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[2,"color","red"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Mandate Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,oo,2,2,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.mandatesUpdateForm),s.Eb(2),s.rc("disabled",e.flag||!e.mandatesUpdateForm.valid||e.flag1))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,D.b,v.A,v.s,v.j,c.m,H.a,H.c,H.e,H.f,X.b,I.f,E.a,C.a,v.r,v.i,v.y,x.b,v.c,v.m,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),io),co=r("vSAV"),lo=r("nZzT"),so=r("cUpR"),bo=r("ura0"),uo=["chart"];function mo(t,e){1&t&&s.Sb(0,"mat-spinner")}function po(t,e){if(1&t&&(s.Xb(0,"span",56),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function fo(t,e){if(1&t&&(s.Xb(0,"div",57),s.Xb(1,"h1",58),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.accInfo.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.accInfo.lastName),0,1),"")}}function ho(t,e){if(1&t&&s.Sb(0,"img",60),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function go(t,e){if(1&t&&(s.Xb(0,"div",57),s.Rc(1,ho,1,1,"img",59),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl)}}function vo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"mat-card-content"),s.Xb(2,"div",61),s.Xb(3,"div",62),s.Xb(4,"h2",63),s.Tc(5),s.kc(6,"slice"),s.kc(7,"uppercase"),s.kc(8,"slice"),s.kc(9,"uppercase"),s.Wb(),s.Wb(),s.Xb(10,"mat-card",64),s.Xb(11,"div",65),s.Xb(12,"div",66),s.Tc(13),s.Wb(),s.Xb(14,"div",67),s.Tc(15),s.Wb(),s.Xb(16,"div",68),s.Xb(17,"mat-icon",69),s.Tc(18," phone"),s.Wb(),s.Xb(19,"div",70),s.Tc(20),s.Wb(),s.Wb(),s.Xb(21,"div",71),s.Xb(22,"mat-icon",69),s.Tc(23," email"),s.Wb(),s.Xb(24,"div",70),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",72),s.Xb(27,"mat-icon",69),s.Tc(28," location_on"),s.Wb(),s.Xb(29,"div",70),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"mat-card",64),s.Xb(32,"div",73),s.Xb(33,"div",74),s.Xb(34,"h3"),s.Tc(35,"Other Details"),s.Wb(),s.Wb(),s.Xb(36,"div",75),s.Xb(37,"div"),s.Xb(38,"div",37),s.Tc(39,"Date Of Birth"),s.Wb(),s.Xb(40,"div",38),s.Tc(41),s.Wb(),s.Wb(),s.Xb(42,"div"),s.Xb(43,"div",37),s.Tc(44,"Citizenship By"),s.Wb(),s.Xb(45,"div",38),s.Tc(46),s.Wb(),s.Wb(),s.Xb(47,"div"),s.Xb(48,"div",37),s.Tc(49,"Id Type"),s.Wb(),s.Xb(50,"div",38),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Sb(52,"br"),s.Xb(53,"div",76),s.Xb(54,"div"),s.Xb(55,"div",37),s.Tc(56,"Residence Status"),s.Wb(),s.Xb(57,"div",38),s.Tc(58),s.Wb(),s.Wb(),s.Xb(59,"div"),s.Xb(60,"div",37),s.Tc(61,"Occupation Type"),s.Wb(),s.Xb(62,"div",38),s.Tc(63),s.Wb(),s.Wb(),s.Xb(64,"div"),s.Xb(65,"div",37),s.Tc(66,"Unique Id Number"),s.Wb(),s.Xb(67,"div",38),s.Tc(68),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(5),s.Wc("",s.nc(6,14,s.lc(7,18,a.firstName),0,1),"",s.nc(8,20,s.lc(9,24,a.lastName),0,1),""),s.Eb(8),s.Uc(a.prefix+" "+a.firstName+" "+a.lastName),s.Eb(2),s.Vc("CIF ",null!=a.cifNumber?"#"+a.cifNumber:"- n/a",""),s.Eb(5),s.Uc(a.phoneNumber),s.Eb(5),s.Uc(a.primaryEmailAdress),s.Eb(5),s.Wc(" ",a.userAddress[0].address1," ",a.userAddress[0].address," "),s.Eb(11),s.Uc(a.dateOfBirth),s.Eb(5),s.Uc(a.countryOfResidence),s.Eb(5),s.Uc(a.custIdProofs[0].idType),s.Eb(7),s.Uc(a.residenceStatus),s.Eb(5),s.Uc(a.occupationType),s.Eb(5),s.Uc(a.custIdProofs[0].idNumber)}}function yo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Customer Information Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editCustomerInfo()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card",33),s.Xb(9,"mat-card-content"),s.Xb(10,"div",39),s.Sb(11,"div",35),s.Xb(12,"div",36),s.Xb(13,"div",37),s.Tc(14,"Ownership"),s.Wb(),s.Xb(15,"div",38),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",36),s.Xb(18,"div",37),s.Tc(19,"Number of Applicant"),s.Wb(),s.Xb(20,"div",38),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(22,vo,69,26,"mat-card",41),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),s.Eb(10),s.Uc(n.customerInformation.data[0].ownership),s.Eb(5),s.Uc(n.customerInformation.data[0].numOfApplicants),s.Eb(1),s.rc("ngForOf",n.customerInformation.data)}}function Wo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"h2",77),s.Xb(2,"span",78),s.Xb(3,"mat-icon",79),s.Tc(4,"done"),s.Wb(),s.Wb(),s.Tc(5),s.Wb(),s.Xb(6,"div",61),s.Sb(7,"div",80),s.Xb(8,"div",81),s.Xb(9,"div",37),s.Tc(10,"Mode Of Operation"),s.Wb(),s.Xb(11,"div",38),s.Tc(12),s.Wb(),s.Wb(),s.Xb(13,"div",81),s.Xb(14,"div",37),s.Tc(15,"Amount From"),s.Wb(),s.Xb(16,"div",38),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"div",81),s.Xb(19,"div",37),s.Tc(20,"Amount To"),s.Wb(),s.Xb(21,"div",38),s.Tc(22),s.Wb(),s.Wb(),s.Xb(23,"div",81),s.Xb(24,"div",37),s.Tc(25,"Required No. of Signatures"),s.Wb(),s.Xb(26,"div",38),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(5),s.Vc("Mandate ",n+1,""),s.Eb(7),s.Uc(a.modeOfOperation),s.Eb(5),s.Uc(a.amountFrom),s.Eb(5),s.Uc(a.amountTo),s.Eb(5),s.Uc(a.totalSignaturesRequired)}}function Xo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Mandate Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editMandateDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(8,Wo,28,5,"mat-card",41),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),s.Eb(2),s.rc("ngForOf",n.mandate)}}function To(t,e){if(1&t&&(s.Xb(0,"span"),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.Vc(" ",a.name," ")}}function Io(t,e){if(1&t&&(s.Xb(0,"div",38),s.Rc(1,To,2,1,"span",5),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf",a.checked)}}function Eo(t,e){if(1&t&&(s.Xb(0,"span"),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.Vc(" ",a.name," ")}}function xo(t,e){if(1&t&&(s.Xb(0,"div",38),s.Rc(1,Eo,2,1,"span",5),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf",a.checked)}}function Co(t,e){if(1&t&&(s.Xb(0,"span"),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.Vc(" ",a.name," ")}}function Ao(t,e){if(1&t&&(s.Xb(0,"div",38),s.Rc(1,Co,2,1,"span",5),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf",a.checked)}}function Oo(t,e){if(1&t&&(s.Xb(0,"div",81),s.Xb(1,"div",37),s.Tc(2,"Debit Card Type"),s.Wb(),s.Xb(3,"div",38),s.Xb(4,"span"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(5),s.Vc(" ",null==a.debitCardDataValue?null:a.debitCardDataValue.cardType," ")}}function Do(t,e){if(1&t&&(s.Xb(0,"div",34),s.Xb(1,"table",86),s.Xb(2,"thead",87),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Daily Limit"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Domestic Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"International Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"ATM Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"POS Limit "),s.Wb(),s.Xb(14,"th"),s.Tc(15,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"tbody"),s.Xb(17,"tr"),s.Xb(18,"td"),s.Tc(19),s.Wb(),s.Xb(20,"td"),s.Tc(21),s.Wb(),s.Xb(22,"td"),s.Tc(23),s.Wb(),s.Xb(24,"td"),s.Tc(25),s.Wb(),s.Xb(26,"td"),s.Tc(27),s.Wb(),s.Xb(28,"td"),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(19),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.dailyLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.domesticLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.internationalLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.atmLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.posLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.internetLimit)}}function Ro(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Account Service Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editServiceDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card",33),s.Xb(9,"mat-card-content"),s.Xb(10,"div",34),s.Sb(11,"div",35),s.Xb(12,"div",81),s.Xb(13,"div",37),s.Tc(14,"Account Statement Frequency"),s.Wb(),s.Xb(15,"div",38),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",81),s.Xb(18,"div",37),s.Tc(19,"Account Statement Preferences"),s.Wb(),s.Rc(20,Io,2,1,"div",82),s.Wb(),s.Xb(21,"div",81),s.Xb(22,"div",37),s.Tc(23,"Cheque Book"),s.Wb(),s.Xb(24,"div",38),s.Sb(25,"mat-slide-toggle",83),s.Wb(),s.Wb(),s.Xb(26,"div",81),s.Xb(27,"div",37),s.Tc(28,"Debit Card"),s.Wb(),s.Xb(29,"div",38),s.Sb(30,"mat-slide-toggle",83),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Sb(32,"div",35),s.Xb(33,"div",81),s.Xb(34,"div",37),s.Tc(35,"Banking Channel Preferences"),s.Wb(),s.Rc(36,xo,2,1,"div",82),s.Wb(),s.Xb(37,"div",81),s.Xb(38,"div",37),s.Tc(39,"Communication Channel Preferences"),s.Wb(),s.Rc(40,Ao,2,1,"div",82),s.Wb(),s.Xb(41,"div",81),s.Xb(42,"div",37),s.Tc(43,"Pass Book"),s.Wb(),s.Xb(44,"div",38),s.Sb(45,"mat-slide-toggle",83),s.Wb(),s.Wb(),s.Rc(46,Oo,6,1,"div",84),s.Wb(),s.Rc(47,Do,30,6,"div",85),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),s.Eb(10),s.Uc(n.accountServiceDetails.statementFrequency),s.Eb(4),s.rc("ngForOf",n.accountServiceDetails.statementPref),s.Eb(5),s.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.chequebookNeeded),s.Eb(5),s.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.debitCardRequired),s.Eb(6),s.rc("ngForOf",n.accountServiceDetails.bankChannelPref),s.Eb(4),s.rc("ngForOf",n.accountServiceDetails.commChannelPref),s.Eb(5),s.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.passbookNeeded),s.Eb(1),s.rc("ngIf",n.cardType),s.Eb(1),s.rc("ngIf",n.cardType)}}function So(t,e){if(1&t&&(s.Xb(0,"mat-card",64),s.Xb(1,"div",92),s.Sb(2,"div",74),s.Xb(3,"div",90),s.Xb(4,"h4"),s.Tc(5,"Guardian Details"),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",66),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div"),s.Xb(10,"div",37),s.Tc(11,"Relationship Type"),s.Wb(),s.Xb(12,"div",38),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div"),s.Xb(15,"div",37),s.Tc(16,"Date Of Birth"),s.Wb(),s.Xb(17,"div",38),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(8),s.Uc(a.prefix+" "+a.firstName+" "+a.lastName),s.Eb(5),s.Uc(a.relationshipType),s.Eb(5),s.Uc(a.dateOfBirth)}}function ko(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"h2",77),s.Xb(2,"span",78),s.Xb(3,"mat-icon",79),s.Tc(4,"done"),s.Wb(),s.Wb(),s.Tc(5),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",61),s.Xb(8,"mat-card",64),s.Xb(9,"div",88),s.Xb(10,"div",66),s.Tc(11),s.Wb(),s.Xb(12,"div",68),s.Xb(13,"mat-icon",69),s.Tc(14," phone"),s.Wb(),s.Xb(15,"div",70),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",71),s.Xb(18,"mat-icon",69),s.Tc(19," email"),s.Wb(),s.Xb(20,"div",70),s.Tc(21),s.Wb(),s.Wb(),s.Xb(22,"div",72),s.Xb(23,"mat-icon",69),s.Tc(24," location_on"),s.Wb(),s.Xb(25,"div",70),s.Tc(26),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"mat-card",64),s.Xb(28,"div",89),s.Sb(29,"div",74),s.Xb(30,"div",90),s.Xb(31,"div"),s.Xb(32,"div",37),s.Tc(33,"Date Of Birth"),s.Wb(),s.Xb(34,"div",38),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div"),s.Xb(37,"div",37),s.Tc(38,"Relationship Type"),s.Wb(),s.Xb(39,"div",38),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(41,So,19,3,"mat-card",91),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(5),s.Vc("Nominee ",n+1,""),s.Eb(6),s.Uc(a.prefix+" "+a.firstName+" "+a.lastName),s.Eb(5),s.Vc(" ",a.phoneNumber,""),s.Eb(5),s.Uc(a.email),s.Eb(5),s.Zc(" ",a.building," ",a.street," ",a.locality," ",a.city," ",a.state," ",a.country," ",a.zipCode," "),s.Eb(9),s.Uc(a.dateOfBirth),s.Eb(5),s.Uc(a.relationshipType),s.Eb(1),s.rc("ngForOf",a.guardianDetails)}}function No(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Nominee Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editNomineeDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(8,ko,42,14,"mat-card",41),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),s.Eb(2),s.rc("ngForOf",n.nomineeDetails)}}function Po(t,e){1&t&&(s.Xb(0,"legend",31),s.Tc(1,"Secured Overdraft Details"),s.Wb())}function Fo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"div",37),s.Tc(3),s.Wb(),s.Wb(),s.Sb(4,"br"),s.Xb(5,"div",94),s.Xb(6,"div",74),s.Xb(7,"mat-icon",69),s.Tc(8," home"),s.Wb(),s.Tc(9),s.Wb(),s.Xb(10,"div",95),s.Xb(11,"div"),s.Xb(12,"button",96),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div"),s.Xb(15,"button",97),s.Tc(16),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(17,"br"),s.Xb(18,"div"),s.Xb(19,"div",98),s.Xb(20,"div"),s.Xb(21,"div",37),s.Tc(22,"Collateral Value"),s.Wb(),s.Xb(23,"div",38),s.Tc(24),s.Wb(),s.Wb(),s.Xb(25,"div"),s.Xb(26,"div",37),s.Tc(27,"Available Linkage Amount"),s.Wb(),s.Xb(28,"div",38),s.Tc(29),s.Wb(),s.Wb(),s.Xb(30,"div"),s.Xb(31,"div",37),s.Tc(32,"Overdraft Limit Amount"),s.Wb(),s.Xb(33,"div",38),s.Tc(34),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Xb(36,"div",37),s.Tc(37,"Final Rate"),s.Wb(),s.Xb(38,"div",38),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(3),s.Vc("Collateral/Reference Number: ",a.securityReferenceNumber,""),s.Eb(6),s.Vc(" ",a.collateralType," "),s.Eb(4),s.Uc(a.dimensions),s.Eb(3),s.Uc(a.attributes),s.Eb(8),s.Uc(a.collateralValue),s.Eb(5),s.Uc(a.availableLinkageAccount),s.Eb(5),s.Uc(a.overdraftLimitAmount),s.Eb(5),s.Uc(a.finalAmount)}}function Lo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Rc(3,Po,2,0,"legend",93),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editSecuredOverdraftDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(7,Fo,40,8,"mat-card",5),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.Eb(3),s.rc("ngIf",null!=n.collateralType&&null!=n.securityReferenceNumber),s.Eb(2),s.rc("hidden",o.editScreen||"TELLER_DEP_CREATEACCOUNT"!=o.userType),s.Eb(2),s.rc("ngIf",null!=n.collateralType&&null!=n.securityReferenceNumber)}}function _o(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",37),s.Tc(2,"Renew Period"),s.Wb(),s.Xb(3,"div",38),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Uc(a.unsecuredOverdraftDetails.renewPeriod)}}function wo(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",37),s.Tc(2,"Renewal Amount"),s.Wb(),s.Xb(3,"div",38),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Uc(a.unsecuredOverdraftDetails.renewalAmount)}}function Uo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Unsecured Overdraft Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editUnsecuredOverdraftDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card"),s.Xb(9,"div"),s.Xb(10,"div",99),s.Xb(11,"div"),s.Xb(12,"div",37),s.Tc(13,"Limit Id"),s.Wb(),s.Xb(14,"div",38),s.Tc(15),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",37),s.Tc(18,"Overdraft Limit Amount"),s.Wb(),s.Xb(19,"div",38),s.Tc(20),s.Wb(),s.Wb(),s.Rc(21,_o,5,1,"div",5),s.Rc(22,wo,5,1,"div",5),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),s.Eb(4),s.rc("hidden",null==n.unsecuredOverdraftDetails.renewPeriod&&n.unsecuredOverdraftDetails.renewalAmount),s.Eb(5),s.Uc(n.unsecuredOverdraftDetails.limitId),s.Eb(5),s.Uc(n.unsecuredOverdraftDetails.overdraftLimitAmount),s.Eb(1),s.rc("ngIf",null!=n.unsecuredOverdraftDetails.renewPeriod),s.Eb(1),s.rc("ngIf",null!=n.unsecuredOverdraftDetails.renewalAmount)}}function Mo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Financial Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editFinancialDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",94),s.Xb(9,"mat-card",100),s.Xb(10,"h4"),s.Tc(11,"Assets and Liabilities"),s.Wb(),s.Sb(12,"apx-chart",101),s.Wb(),s.Xb(13,"mat-card",102),s.Xb(14,"h4"),s.Tc(15,"Income and Expenses"),s.Wb(),s.Sb(16,"apx-chart",103),s.Wb(),s.Wb(),s.Xb(17,"mat-card"),s.Xb(18,"mat-card-header",104),s.Xb(19,"div",105),s.Xb(20,"div",62),s.Xb(21,"div",63),s.Xb(22,"mat-icon"),s.Tc(23,"perm_identity"),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div"),s.Xb(25,"mat-card-title",106),s.Tc(26),s.Wb(),s.Xb(27,"mat-card-subtitle",107),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",108),s.Xb(30,"div"),s.Xb(31,"div",37),s.Tc(32,"Employment Type"),s.Wb(),s.Xb(33,"div",38),s.Tc(34),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Xb(36,"div",37),s.Tc(37,"Employment Category"),s.Wb(),s.Xb(38,"div",38),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),s.Eb(6),s.rc("series",n.chartOptions.series)("chart",n.chartOptions.chart)("plotOptions",n.chartOptions.plotOptions)("labels",n.chartOptions.labels),s.Eb(4),s.rc("series",n.chartOptions1.series1)("chart",n.chartOptions1.chart1)("yaxis",n.chartOptions1.yaxis1)("xaxis",n.chartOptions1.xaxis1)("labels",n.chartOptions1.labels1)("stroke",n.chartOptions1.stroke1)("markers",n.chartOptions1.markers1)("fill",n.chartOptions1.fill1)("tooltip",n.chartOptions1.tooltip1),s.Eb(10),s.Uc(n.financialDetails.designation),s.Eb(2),s.Wc("",n.financialDetails.employeeNumber,",",n.financialDetails.officeName," "),s.Eb(6),s.Uc(n.financialDetails.employmentType),s.Eb(5),s.Uc(n.financialDetails.employmentCategory)}}function Go(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4"),s.Tc(3,"Fixed Interest"),s.Wb(),s.Wb(),s.Xb(4,"div",109),s.Xb(5,"div"),s.Xb(6,"mat-card",110),s.Xb(7,"div"),s.Xb(8,"div",37),s.Tc(9,"Interest Type"),s.Wb(),s.Xb(10,"div",38),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div"),s.Xb(13,"mat-card",111),s.Xb(14,"div"),s.Xb(15,"div",37),s.Tc(16,"Applicable Interest Rate"),s.Wb(),s.Xb(17,"div",38),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div"),s.Xb(20,"mat-card",112),s.Xb(21,"div"),s.Xb(22,"div",37),s.Tc(23,"Effective Rate %"),s.Wb(),s.Xb(24,"div",38),s.Tc(25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div"),s.Xb(27,"mat-card",113),s.Xb(28,"div"),s.Xb(29,"div",37),s.Tc(30,"Margin In %"),s.Wb(),s.Xb(31,"div",38),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(11),s.Uc(a.intrestType),s.Eb(7),s.Uc(a.intrestType),s.Eb(7),s.Uc(a.effectiveRate),s.Eb(7),s.Uc(a.marginIn)}}function Vo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Rc(1,Go,33,4,"mat-card",41),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngForOf",a.intrestDetails)}}function jo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4",114),s.Tc(3),s.Wb(),s.Wb(),s.Xb(4,"div"),s.Xb(5,"div"),s.Xb(6,"mat-card",115),s.Xb(7,"div"),s.Xb(8,"div",37),s.Tc(9,"Amount"),s.Wb(),s.Xb(10,"div",38),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(3),s.Uc(a.intrestType),s.Eb(8),s.Uc(a.amount)}}function Bo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Rc(1,jo,12,2,"mat-card",41),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngForOf",a.chargeDetails)}}function zo(t,e){if(1&t&&(s.Xb(0,"div",117),s.Xb(1,"div",37),s.Tc(2),s.Wb(),s.Xb(3,"div",38),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(2),s.Wc("",n+1,".",a.scorecardQuestion,""),s.Eb(2),s.Uc(a.scorecardAnswer)}}function qo(t,e){if(1&t&&(s.Xb(0,"div"),s.Rc(1,zo,5,3,"div",116),s.Wb()),2&t){var a=e.index,n=s.jc();s.Eb(1),s.rc("ngForOf",null==n.qualitativeScorecard?null:n.qualitativeScorecard.scoreCardMapping[a].scoreCardDetails)}}function Ko(t,e){if(1&t&&(s.Xb(0,"mat-card",33),s.Xb(1,"fieldset"),s.Xb(2,"legend",31),s.Tc(3,"Assessment Report"),s.Wb(),s.Wb(),s.Xb(4,"mat-card-content"),s.Xb(5,"div",34),s.Sb(6,"div",35),s.Xb(7,"div",36),s.Xb(8,"div",37),s.Tc(9,"Limit Id"),s.Wb(),s.Xb(10,"div",38),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"div",36),s.Xb(13,"div",37),s.Tc(14,"Overdraft Limit Amount"),s.Wb(),s.Xb(15,"div",38),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",36),s.Xb(18,"div",37),s.Tc(19,"Recommended Overdraft Limit"),s.Wb(),s.Xb(20,"div",38),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",34),s.Sb(23,"div",35),s.Xb(24,"div",36),s.Xb(25,"div",37),s.Tc(26,"Limit Start Date"),s.Wb(),s.Xb(27,"div",38),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",36),s.Xb(30,"div",37),s.Tc(31,"Limit End Date"),s.Wb(),s.Xb(32,"div",38),s.Tc(33),s.Wb(),s.Wb(),s.Sb(34,"br"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(11),s.Uc(null==a.assessmentReport?null:a.assessmentReport.limitId),s.Eb(5),s.Uc(null==a.assessmentReport?null:a.assessmentReport.overdraftLimitAmount),s.Eb(5),s.Uc(null==a.assessmentReport?null:a.assessmentReport.recommendedOverdraftLimit),s.Eb(7),s.Uc(null==a.assessmentReport?null:a.assessmentReport.limitStartDate),s.Eb(5),s.Uc(null==a.assessmentReport?null:a.assessmentReport.limitEndDate)}}function Jo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",120),s.Xb(2,"div",121),s.Xb(3,"div",122),s.Tc(4,"Branch Code : "),s.Xb(5,"span",123),s.Tc(6),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",121),s.Xb(8,"div",124),s.Tc(9,"Fund By Account: "),s.Xb(10,"span",123),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",120),s.Xb(13,"div",121),s.Xb(14,"div",122),s.Tc(15,"Amount"),s.Xb(16,"span",123),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",121),s.Xb(19,"div",124),s.Tc(20,"Fund By"),s.Xb(21,"span",123),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(6),s.Uc(a.createAccFundingStage.branchCode),s.Eb(5),s.Uc(a.createAccFundingStage.fundByAccount),s.Eb(6),s.Uc(a.createAccFundingStage.amount),s.Eb(5),s.Uc(a.createAccFundingStage.fundBy)}}function Ho(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",120),s.Xb(2,"div",121),s.Xb(3,"button",125),s.Tc(4),s.Wb(),s.Wb(),s.Xb(5,"div",121),s.Xb(6,"button",126),s.Tc(7),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",120),s.Xb(9,"div",121),s.Xb(10,"div",127),s.Tc(11,"Amount"),s.Xb(12,"div",128),s.Xb(13,"b"),s.Tc(14),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",121),s.Xb(16,"div",129),s.Tc(17,"Fund By"),s.Xb(18,"div",123),s.Xb(19,"b"),s.Tc(20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Vc("Reference Number ",a.createAccFundingStage.tellerTrxnRefNo," "),s.Eb(3),s.Vc("",a.createAccFundingStage.tellerTrxnStatus," "),s.Eb(7),s.Uc(a.createAccFundingStage.amount),s.Eb(6),s.Uc(a.createAccFundingStage.fundBy)}}function $o(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",42),s.Xb(1,"div",43),s.Xb(2,"div",27),s.Tc(3,"5"),s.Wb(),s.Xb(4,"div",28),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"div",118),s.Xb(7,"h2",119),s.Tc(8,"Funding Stage"),s.Wb(),s.Xb(9,"div",30),s.Xb(10,"fieldset"),s.Xb(11,"legend",31),s.Tc(12,"Initial Funding Details"),s.Wb(),s.Wb(),s.Xb(13,"span"),s.Xb(14,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editFundingStage()}),s.Tc(15,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(16,Jo,23,4,"mat-card",5),s.Rc(17,Ho,21,4,"mat-card",5),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(14),s.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),s.Eb(2),s.rc("ngIf","Fund Transfer"==n.createAccFundingStage.fundBy),s.Eb(1),s.rc("ngIf","Cash"==n.createAccFundingStage.fundBy)}}function Yo(t,e){if(1&t&&(s.Xb(0,"div",38),s.Xb(1,"a",130),s.Tc(2,"link"),s.Wb(),s.Sb(3,"link"),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.sc("href",a.signatureData.fileUrl,s.Jc)}}var Zo=function(t,e){return{disabledbtn:t,continueBtn:e}},Qo=function(t,e){return{disabledbtn:t,rejectButton:e}},ti=function(t,e){return{disabledbtn:t,approveButton:e}};function ei(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",131),s.Xb(1,"div",132),s.fc("click",function(){return s.Hc(a),s.jc().continue()}),s.Xb(2,"label",133),s.Tc(3,"Cotinue"),s.Wb(),s.Wb(),s.Tc(4," \xa0\xa0 "),s.Xb(5,"div",134),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.accountInfo,"REJECTED")}),s.Xb(6,"mat-icon",135),s.Tc(7," highlight_off "),s.Wb(),s.Tc(8,"\xa0\xa0\xa0 "),s.Xb(9,"label",136),s.Tc(10,"Reject"),s.Wb(),s.Wb(),s.Tc(11," \xa0\xa0 "),s.Xb(12,"div",137),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.accountInfo,"APPROVED")}),s.Xb(13,"mat-icon",138),s.Tc(14,"check_circle"),s.Wb(),s.Tc(15,"\xa0\xa0\xa0 "),s.Xb(16,"label",139),s.Tc(17,"Approve"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.rc("hidden",n.continueStatus||"TELLER_DEP_CREATEACCOUNT"!=n.userType)("ngClass",s.yc(6,Zo,n.continueStatus,!n.continueStatus)),s.Eb(4),s.rc("hidden",n.rejectedStatus||"TELLER_MANAGER_TASK_SUMMARY"!=n.userType)("ngClass",s.yc(9,Qo,n.rejectedStatus,!n.rejectedStatus)),s.Eb(7),s.rc("hidden",n.approvedStatus)("ngClass",s.yc(12,ti,n.approvedStatus,!n.approvedStatus))}}var ai,ni=((ai=function(){function t(e,a,o,i,r,c,l,b,u,d,m,p){n(this,t),this.dialogRef=e,this.data=a,this.apiService=o,this.api=i,this.ls=r,this.router=c,this.tasksummaryService=l,this.cdr=b,this.snack=u,this.sanitizer=d,this.dialog=m,this.jwtService=p,this.chart=new h.a,this.submitClicked=new s.o,this.accountInfo=[],this.chargeDetails=[],this.isOnGoing="",this.variable=!0,this.loading=!0,this.loadingApplEnrich=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}return i(t,[{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,this.loading=!0,this.loadingApplEnrich=!1,this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.accInfo=this.data,console.log("acc data :: ",this.accInfo),this.cardType=this.ls.getItem("cardInfo"),this.accountId=this.accInfo.accountId,this.ls.setItem("accountId",this.accountId),this.ls.setItem("customerId",this.accInfo.customerId),this.ls.setItem("accountType",this.accInfo.accountType),console.log("accountId :: ",this.accInfo.accountId),this.ls.setItem("CIF_NUM_PRIMARY",this.accInfo.customerId),this.ls.setItem("NAME",this.accInfo.firstName+" "+this.accInfo.lastName),this.tasksummaryService.accountStatus.subscribe(function(t){e.loading=!1,"REJECTED"===t||"APPROVED"===t?(e.approvedStatus=!0,e.rejectedStatus=!0,e.editScreen=!0,e.continueStatus=!0):"ONGOING"===t?(e.approvedStatus=!0,e.rejectedStatus=!1,e.isOnGoing=t,e.editScreen=!1,e.continueStatus=!1):"BACKLOG"===t&&(e.approvedStatus=!1,e.rejectedStatus=!1,e.editScreen=!0,e.continueStatus=!0)}),this.getAccountInfoByAccountId(this.accInfo.accountId),this.getProfileImage(this.accInfo.customerId),this.cardType&&this.debitCardData(this.cardType)}},{key:"getAccountInfoByAccountId",value:function(t){var e=this;this.tasksummaryService.getAccountInfoByAccId(t).subscribe(function(t){for(var a in e.accountInfo=t,console.log(e.accountInfo),e.intrestDetails=e.accountInfo.intrestDetails,e.chargeDetails=e.accountInfo.chargeDetails,e.loadingApplEnrich=!0,e.assignValues(e.accountInfo.businessProductAccServices,e.accountInfo.businessProductNominee,e.accountInfo.securedOverdraft,e.accountInfo.unsecuredOverdraft,e.accountInfo.financialDetails,e.accountInfo.intrestDetails,e.accountInfo.chargeDetails,e.accountInfo.qualitativeScorecard,e.accountInfo.assessmentReport,e.accountInfo.createAccFundingStage),e.accountInfo)if(Object.prototype.hasOwnProperty.call(e.accountInfo,a)){var n=e.accountInfo[a];if("chargeDetails"===a&&(e.chargeDetails=n,e.accountDetails.applicationDate&&(e.accountDetails.applicationDate=y(e.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductAccount"===a&&(console.log(e.accountDetails),e.accountDetails=n,e.accountDetails.applicationDate&&(e.accountDetails.applicationDate=y(e.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductCustomer"===a)for(var o in e.customerInformation=n,e.customerInformation)if(Object.prototype.hasOwnProperty.call(e.customerInformation,o)){var i=e.customerInformation[o];if("data"===o)for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var c=i[r];i.length>1?c.primaryCustomer&&(e.approverName=c.firstName):e.approverName=c.firstName}}"businessProductMandate"===a&&(e.mandate=n)}})}},{key:"goToCreateAccount",value:function(t,e){var a=this;console.log("Navigating to edit screen::",t),this.ls.setItem("EDIT-CREATEACCCIF",this.accountInfo),this.ls.setItem("accountId",t),console.log("acc data :: ",this.accountInfo),this.tasksummaryService.updateCreateAccStatus({accountId:t,status:"ONGOING"}).subscribe(function(t){}),setTimeout(function(){a.router.navigateByUrl("/home/application/list")},1e3),console.log(this.ls.getItem("EDIT-CREATEACCCIF")),this.dialogRef.close({message:"Confirm"})}},{key:"assignValues",value:function(t,e,a,n,o,i,r,c,l,s){var b;this.accountServiceDetails=t,console.log(this.accountServiceDetails),this.nomineeDetails=e,this.securedOverdraftDetails=a,this.unsecuredOverdraftDetails=n,this.financialDetails=o,this.income=null==o?void 0:o.applicantTotalIncome,this.exepse=null==o?void 0:o.applicantTotalExpense,this.intrestDetails=i,this.chargeDetails=r,this.qualitativeScorecard=c,this.scoreCardMappingArray=null===(b=null==c?void 0:c.scoreCardMapping[0])||void 0===b?void 0:b.scoreCardDetails,this.assessmentReport=l,this.createAccFundingStage=s,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.exepse,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("data : ",t.businessProductAccount.accountId),t.businessProductAccount.status=e;var n=e;this.accInfo.status=e,this.tasksummaryService.updateCreateAccStatus({status:e,accountId:t.businessProductAccount.accountId}).subscribe(function(t){null!=t.accountId||""!=t.accountId||""!=t.accountId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"closeClick",value:function(){this.dialogRef.close()}},{key:"getProfileImage",value:function(t){var e=this;console.log(t),this.image=null,null!=this.accInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){console.log(t),null!=t.profileImage&&(e.imageUrl=t.profileImage,console.log("imageurl",e.imageUrl),e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(e.signatureData=t.signatures[0],"undefinedSignature"==e.signatureData.documentName&&(e.signatureData.documentName="Signature"),e.ls.setItem("signedImage",e.signatureData.fileUrl))},function(t){console.log(t)})}},{key:"getByAccountId",value:function(t){var e=this;this.apiService.getByAccountId(t).subscribe(function(t){e.accountdetailsForStatusUpdate=t,e.updateAccountStatus(t)})}},{key:"updateAccountStatus",value:function(t){t.status=this.appStatus,this.apiService.saveProductAccountInfo(t).subscribe(function(t){console.log("updateResp:: ",t)})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:this.accInfo.status})}},{key:"debitCardData",value:function(t){var e=this;console.log("dardType-- ",t),this.api.getCardType(this.cardType.cardType).subscribe(function(t){console.log("resp-- ",t),e.debitCardDataValue=t,console.log(t)},function(t){return console.log("ERROR: ",t)})}},{key:"openEditScreen",value:function(t,e){var a=this;this.tasksummaryService.updateCreateAccStatus({status:"ONGOING",accountId:this.accountId}).subscribe(function(t){console.log(t),null!=t&&(a.approvedStatus=!0,a.rejectedStatus=!1)}),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){a.accInfo.status=t.status,"BACKLOG"==a.accInfo.status&&(a.getAccountInfoByAccountId(a.accountId),a.tasksummaryService.updateCreateAccStatus({status:"BACKLOG",accountId:a.accountId}).subscribe(function(t){console.log(t),null!=t&&(a.approvedStatus=!1,a.rejectedStatus=!1)})),1==t&&a.getProfileImage(a.accInfo.customerId),a.cdr.markForCheck()})}},{key:"editAccountDetails",value:function(){var t,e;this.accountDetails&&(this.accountDetails.customerName=(null===(t=this.accInfo)||void 0===t?void 0:t.firstName)+" "+(null===(e=this.accInfo)||void 0===e?void 0:e.lastName)),this.openEditScreen(q,this.accountDetails)}},{key:"editCustomerInfo",value:function(){this.openEditScreen(Yt,this.customerInformation)}},{key:"editMandateDetails",value:function(){this.openEditScreen(ro,this.mandate)}},{key:"editServiceDetails",value:function(){this.openEditScreen(pe,this.accountServiceDetails)}},{key:"editNomineeDetails",value:function(){this.openEditScreen(Ye,this.nomineeDetails)}},{key:"editSecuredOverdraftDetails",value:function(){this.openEditScreen(Ea,this.securedOverdraftDetails)}},{key:"editUnsecuredOverdraftDetails",value:function(){this.openEditScreen(ja,this.unsecuredOverdraftDetails)}},{key:"editFinancialDetails",value:function(){this.openEditScreen(tn,this.financialDetails)}},{key:"editInterestDetails",value:function(){this.openEditScreen(sn,this.intrestDetails)}},{key:"editChargeDetails",value:function(){this.openEditScreen(pn,this.chargeDetails)}},{key:"editQualitativeDetails",value:function(){this.openEditScreen(Tn,this.qualitativeScorecard)}},{key:"editFundingStage",value:function(){this.openEditScreen(Gn,this.createAccFundingStage)}},{key:"editApprovalDetails",value:function(){console.log(this.accountDetails),this.openEditScreen(qn,this.accountDetails)}},{key:"editDigitalSign",value:function(){this.openEditScreen(Kn.a,this.signatureData)}},{key:"continue",value:function(){var t,e,a,n,o,i,r,c,l,s,b,u,d,m,p,f,h,g;console.log("customer Id-----\x3e",null===(t=this.accountInfo)||void 0===t?void 0:t.businessProductNominee),this.ls.setItem("accountId",null===(e=this.accountInfo.businessProductAccount)||void 0===e?void 0:e.accountId),this.ls.setItem("appEntryStage",!(!this.accountInfo.businessProductAccount||!this.accountInfo.businessProductAccServices||0==(null===(a=this.accountInfo.businessProductCustomer.data)||void 0===a?void 0:a.length)||0==(null===(n=this.accountInfo.businessProductMandate)||void 0===n?void 0:n.length)||0==(null===(o=this.accountInfo.businessProductNominee)||void 0===o?void 0:o.length))),this.ls.setItem("ACC_DONE",!!this.accountInfo.businessProductAccount),this.ls.setItem("ACC_SERVICE_DONE",!!this.accountInfo.businessProductAccServices),this.ls.setItem("ACC_OPEN_DONE",0!=(null===(c=null===(r=null===(i=this.accountInfo)||void 0===i?void 0:i.businessProductCustomer)||void 0===r?void 0:r.data)||void 0===c?void 0:c.length)),this.ls.setItem("ACC_MANDATE_DONE",0!=(null===(l=this.accountInfo.businessProductMandate)||void 0===l?void 0:l.length)),this.ls.setItem("ACC_NOMINEE_DONE",0!=(null===(s=this.accountInfo.businessProductNominee)||void 0===s?void 0:s.length)),this.ls.setItem("limitEntryStage",!(!this.accountInfo.financialDetails||0==(null===(b=this.accountInfo.securedOverdraft)||void 0===b?void 0:b.length)&&!this.accountInfo.unsecuredOverdraft)),this.ls.setItem("LIMIT_FIN_DONE",!!this.accountInfo.financialDetails),this.ls.setItem("LIMIT_SECURED_DONE",!(0==(null===(u=this.accountInfo.securedOverdraft)||void 0===u?void 0:u.length)||!this.accountInfo.securedOverdraft)),this.ls.setItem("LIMIT_UNSECURED_DONE",!!this.accountInfo.unsecuredOverdraft),this.ls.setItem("enrichmentStage",!(!this.accountInfo.chargeDetails||0==(null===(d=this.accountInfo.intrestDetails)||void 0===d?void 0:d.length))),this.ls.setItem("ENRICHMENT_CHARGES_DONE",!!this.accountInfo.chargeDetails),this.ls.setItem("ENRICHMENT_INTEREST_DONE",0!=(null===(m=this.accountInfo.intrestDetails)||void 0===m?void 0:m.length)),this.ls.setItem("ASSESSMENT_QA_DONE",!(0==(null===(h=null===(f=null===(p=this.accountInfo)||void 0===p?void 0:p.qualitativeScorecard)||void 0===f?void 0:f.scoreCardMapping)||void 0===h?void 0:h.length)||!(null===(g=this.accountInfo)||void 0===g?void 0:g.qualitativeScorecard))),this.ls.setItem("ASSESSMENT_REPORT_DONE",!!this.accountInfo.assessmentReport),this.ls.setItem("FUNDING_INI_DONE",!!this.accountInfo.createAccFundingStage),this.ls.setItem("approvalStage",!!this.accountDetails),this.ls.setItem("APPROVAL_DETAILS_DONE",!!this.accountDetails),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=CUSTACC&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||ai)(s.Rb(p.g),s.Rb(p.a),s.Rb(f.a),s.Rb(b.b),s.Rb(m.a),s.Rb(Ze.h),s.Rb(g.a),s.Rb(s.h),s.Rb(W.a),s.Rb(so.b),s.Rb(p.b),s.Rb(lo.a))},ai.\u0275cmp=s.Lb({type:ai,selectors:[["app-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad(uo,!0),2&t&&s.Cc(a=s.gc())&&(e.chart=a.first)},outputs:{submitClicked:"submitClicked"},decls:316,vars:57,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85",1,"margin1"],["fxLayout","row","fxLayoutAlign","space between center"],["visible","true"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[3,"checked","disabled"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","10",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["class","mtcd",4,"ngIf"],["fxLayout","row","class","flex-container","style","flex-direction: row; box-sizing: border-box; display: flex;",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","30px"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row"],[1,"circle"],[1,"content1"],[1,"appersoninfocard"],["fxFlex","200px",1,"size1"],[1,"namecard",2,"font-size","20px"],[1,"cifnum","label"],[1,"phoneno","label"],[1,"maticon"],[1,"textsize"],[1,"email","label"],[1,"address","label"],["fxFlex","300px",2,"font-size","12px"],[2,"font-size","20px"],["fxLayout","row","fxLayoutGap","40px",2,"font-size","12px"],["fxLayout","row","fxLayoutGap","20px",2,"font-size","12px"],[1,"btnleft"],[1,"circle3"],[1,"done1"],["fxFlex","5"],["fxFlex","30"],["class","labelval",4,"ngFor","ngForOf"],["disabled","",3,"checked"],["fxFlex","30",4,"ngIf"],["fxLayout","row","class","rowbord",4,"ngIf"],[1,"table","table-bordered","dataStyle"],[2,"color","#03a9f4"],["fxFlex","200px",2,"font-size","10px"],["fxFlex","100px",2,"font-size","12px"],["fxLayout","column","fxLayoutGap","10px",2,"font-size","12px"],["class","appersoninfocard",4,"ngFor","ngForOf"],["fxFlex","130px",2,"font-size","12px"],["visible","true",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutGap","40px"],["type","button",1,"sqftbtn"],["type","button",1,"acbtn"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","24px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","20px",3,"hidden"],[1,"box"],[3,"series","chart","plotOptions","labels"],[1,"box2"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[2,"font-size","16px","padding-top","30px"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","16px","padding-top","30px"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"interstcard2"],[1,"interstcard3"],[1,"interstcard4"],[1,"nom"],[1,"appersoninfocard",2,"width","100px"],["fxFlex","47","class","qtncrd","fxFlex.xs","100",4,"ngFor","ngForOf"],["fxFlex","47","fxFlex.xs","100",1,"qtncrd"],["fxFlex","85",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"marginn"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mt-12"],["fxFlex","100"],[1,"mat-heading-label","ml-48"],[1,"mat-body-1"],[1,"mat-heading-label","right-text"],["type","button",1,"refnum"],["type","button",1,"suces"],[1,"ml-48","btttn",2,"font-family","Manrope,SemiBold"],[1,"mat-body-1","btttn"],[1,"right-text","btttn"],["download","",1,"linkColor",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"div",0),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"div"),s.Xb(5,"mat-icon",3),s.fc("click",function(){return e.close(e.accStatus)}),s.Tc(6," close"),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",4),s.Rc(8,mo,1,0,"mat-spinner",5),s.Wb(),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Xb(11,"div",8),s.Xb(12,"div",9),s.Rc(13,po,2,1,"span",10),s.Wb(),s.Xb(14,"div",11),s.Xb(15,"div",12),s.Sb(16,"img",13),s.Tc(17,"\xa0 "),s.Xb(18,"div"),s.Xb(19,"span",14),s.Tc(20),s.Wb(),s.Sb(21,"br"),s.Xb(22,"span",15),s.Tc(23),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",16),s.Xb(25,"mat-icon",17),s.Tc(26,"phone "),s.Wb(),s.Tc(27,"\xa0\xa0\xa0 "),s.Xb(28,"span",18),s.Tc(29),s.Wb(),s.Wb(),s.Xb(30,"div",16),s.Xb(31,"mat-icon",17),s.Tc(32," mail_outline"),s.Wb(),s.Tc(33,"\xa0\xa0 \xa0 "),s.Xb(34,"span",19),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",20),s.Xb(37,"div",21),s.Rc(38,fo,7,16,"div",22),s.Rc(39,go,2,1,"div",23),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Sb(41,"br"),s.Sb(42,"br"),s.Sb(43,"br"),s.Sb(44,"br"),s.Xb(45,"div",24),s.Xb(46,"h2"),s.Xb(47,"b"),s.Tc(48),s.Wb(),s.Wb(),s.Wb(),s.Sb(49,"br"),s.Sb(50,"br"),s.Xb(51,"div",25),s.Xb(52,"div",26),s.Xb(53,"div",27),s.Tc(54,"1"),s.Wb(),s.Sb(55,"div",28),s.Wb(),s.Xb(56,"div",29),s.Xb(57,"h2"),s.Tc(58,"Application Entry Stage"),s.Wb(),s.Xb(59,"div",30),s.Xb(60,"fieldset"),s.Xb(61,"legend",31),s.Tc(62,"Account Details"),s.Wb(),s.Wb(),s.Xb(63,"span"),s.Xb(64,"mat-icon",32),s.fc("click",function(){return e.editAccountDetails()}),s.Tc(65,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"mat-card",33),s.Xb(67,"mat-card-content"),s.Xb(68,"div",34),s.Sb(69,"div",35),s.Xb(70,"div",36),s.Xb(71,"div",37),s.Tc(72,"CIF Number"),s.Wb(),s.Xb(73,"div",38),s.Tc(74),s.Wb(),s.Wb(),s.Xb(75,"div",36),s.Xb(76,"div",37),s.Tc(77,"Customer Name"),s.Wb(),s.Xb(78,"div",38),s.Tc(79),s.Wb(),s.Wb(),s.Xb(80,"div",36),s.Xb(81,"div",37),s.Tc(82,"Account ID"),s.Wb(),s.Xb(83,"div",38),s.Tc(84),s.Wb(),s.Wb(),s.Wb(),s.Xb(85,"div",34),s.Sb(86,"div",35),s.Xb(87,"div",36),s.Xb(88,"div",37),s.Tc(89,"Account Type"),s.Wb(),s.Xb(90,"div",38),s.Tc(91),s.Wb(),s.Wb(),s.Xb(92,"div",36),s.Xb(93,"div",37),s.Tc(94,"Business Product Name"),s.Wb(),s.Xb(95,"div",38),s.Tc(96),s.Wb(),s.Wb(),s.Xb(97,"div",36),s.Xb(98,"div",37),s.Tc(99,"Account Branch"),s.Wb(),s.Xb(100,"div",38),s.Tc(101),s.Wb(),s.Wb(),s.Wb(),s.Xb(102,"div",34),s.Sb(103,"div",35),s.Xb(104,"div",36),s.Xb(105,"div",37),s.Tc(106,"Account Currency"),s.Wb(),s.Xb(107,"div",38),s.Tc(108),s.Wb(),s.Wb(),s.Xb(109,"div",36),s.Xb(110,"div",37),s.Tc(111,"Application Date"),s.Wb(),s.Xb(112,"div",38),s.Tc(113),s.Wb(),s.Wb(),s.Xb(114,"div",36),s.Xb(115,"div",37),s.Tc(116,"Modification No"),s.Wb(),s.Xb(117,"div",38),s.Tc(118),s.Wb(),s.Wb(),s.Wb(),s.Xb(119,"div",39),s.Sb(120,"div",35),s.Xb(121,"div",36),s.Xb(122,"div",37),s.Tc(123,"OverDraft Requested?"),s.Wb(),s.Xb(124,"div",38),s.Sb(125,"mat-slide-toggle",40),s.Wb(),s.Wb(),s.Xb(126,"div",36),s.Xb(127,"div",37),s.Tc(128,"Swift Code"),s.Wb(),s.Xb(129,"div",38),s.Sb(130,"mat-slide-toggle",40),s.Wb(),s.Wb(),s.Xb(131,"div",36),s.Xb(132,"div",37),s.Tc(133,"Initial Funding "),s.Wb(),s.Xb(134,"div",38),s.Sb(135,"mat-slide-toggle",40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(136,yo,23,4,"div",5),s.Rc(137,Xo,9,2,"div",5),s.Rc(138,Ro,48,10,"div",5),s.Rc(139,No,9,2,"div",5),s.Wb(),s.Wb(),s.Xb(140,"div",25),s.Xb(141,"div",26),s.Xb(142,"div",27),s.Tc(143,"2"),s.Wb(),s.Xb(144,"div",28),s.Tc(145,"\xa0"),s.Wb(),s.Wb(),s.Xb(146,"div",29),s.Xb(147,"h2"),s.Tc(148,"Limit Entry Stage"),s.Wb(),s.Rc(149,Lo,8,3,"div",41),s.Sb(150,"br"),s.Rc(151,Uo,23,6,"div",5),s.Sb(152,"br"),s.Rc(153,Mo,41,19,"div",5),s.Wb(),s.Wb(),s.Sb(154,"br"),s.Xb(155,"div",25),s.Xb(156,"div",26),s.Xb(157,"div",27),s.Tc(158,"3"),s.Wb(),s.Xb(159,"div",28),s.Tc(160,"\xa0"),s.Wb(),s.Wb(),s.Xb(161,"div",29),s.Xb(162,"h2"),s.Tc(163,"Application Enrichment"),s.Wb(),s.Xb(164,"div",30),s.Xb(165,"fieldset"),s.Xb(166,"legend",31),s.Tc(167,"Interest Details"),s.Wb(),s.Wb(),s.Xb(168,"span"),s.Xb(169,"mat-icon",32),s.fc("click",function(){return e.editInterestDetails()}),s.Tc(170,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(171,Vo,2,1,"mat-card",5),s.Sb(172,"br"),s.Xb(173,"div",30),s.Xb(174,"fieldset"),s.Xb(175,"legend",31),s.Tc(176,"Charge Details"),s.Wb(),s.Wb(),s.Xb(177,"span"),s.Xb(178,"mat-icon",32),s.fc("click",function(){return e.editChargeDetails()}),s.Tc(179,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(180,Bo,2,1,"mat-card",5),s.Wb(),s.Wb(),s.Xb(181,"div",42),s.Xb(182,"div",43),s.Xb(183,"div",27),s.Tc(184,"4"),s.Wb(),s.Xb(185,"div",28),s.Tc(186,"\xa0"),s.Wb(),s.Wb(),s.Xb(187,"div",44),s.Xb(188,"h2"),s.Tc(189,"Application Assessment"),s.Wb(),s.Xb(190,"div",30),s.Xb(191,"fieldset"),s.Xb(192,"legend",31),s.Tc(193,"Qualitative Scorecard"),s.Wb(),s.Wb(),s.Xb(194,"span"),s.Xb(195,"mat-icon",32),s.fc("click",function(){return e.editQualitativeDetails()}),s.Tc(196,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(197,"mat-card",33),s.Xb(198,"mat-card-content"),s.Xb(199,"div"),s.Xb(200,"div",34),s.Xb(201,"div",36),s.Xb(202,"div",37),s.Tc(203,"Scorecard Id"),s.Wb(),s.Xb(204,"div",38),s.Tc(205),s.Wb(),s.Wb(),s.Xb(206,"div",36),s.Xb(207,"div",37),s.Tc(208,"Number of Applicants"),s.Wb(),s.Xb(209,"div",38),s.Tc(210),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(211,"div"),s.Xb(212,"div",45),s.Xb(213,"div"),s.Xb(214,"div",46),s.Rc(215,qo,2,1,"div",41),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(216,"br"),s.Rc(217,Ko,35,5,"mat-card",47),s.Wb(),s.Sb(218,"br"),s.Sb(219,"br"),s.Wb(),s.Rc(220,$o,18,3,"div",48),s.Xb(221,"div",42),s.Xb(222,"div",43),s.Xb(223,"div",27),s.Tc(224,"6"),s.Wb(),s.Xb(225,"div",28),s.Tc(226,"\xa0"),s.Wb(),s.Wb(),s.Xb(227,"div",44),s.Xb(228,"h2"),s.Tc(229,"Approval Stage"),s.Wb(),s.Xb(230,"div",30),s.Xb(231,"fieldset"),s.Xb(232,"legend",31),s.Tc(233,"Approval Details "),s.Wb(),s.Wb(),s.Xb(234,"span"),s.Xb(235,"mat-icon",32),s.fc("click",function(){return e.editApprovalDetails()}),s.Tc(236,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(237,"mat-card",33),s.Xb(238,"mat-card-content"),s.Xb(239,"div",34),s.Sb(240,"div",35),s.Xb(241,"div",36),s.Xb(242,"div",37),s.Tc(243,"Account Type"),s.Wb(),s.Xb(244,"div",38),s.Tc(245),s.Wb(),s.Wb(),s.Xb(246,"div",36),s.Xb(247,"div",37),s.Tc(248,"Account Branch"),s.Wb(),s.Xb(249,"div",38),s.Tc(250),s.Wb(),s.Wb(),s.Xb(251,"div",36),s.Xb(252,"div",37),s.Tc(253,"Product Code"),s.Wb(),s.Xb(254,"div",38),s.Tc(255),s.Wb(),s.Wb(),s.Wb(),s.Xb(256,"div",34),s.Sb(257,"div",35),s.Xb(258,"div",36),s.Xb(259,"div",37),s.Tc(260,"Account Currency"),s.Wb(),s.Xb(261,"div",38),s.Tc(262),s.Wb(),s.Wb(),s.Wb(),s.Xb(263,"mat-card",49),s.Xb(264,"div",39),s.Xb(265,"div",50),s.Xb(266,"div",51),s.Xb(267,"div",52),s.Xb(268,"mat-icon"),s.Tc(269,"done"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(270,"div",53),s.Xb(271,"div",37),s.Tc(272,"User Recommendation"),s.Wb(),s.Xb(273,"div",38),s.Tc(274),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(275,"div",42),s.Xb(276,"div",43),s.Xb(277,"div",27),s.Tc(278,"7"),s.Wb(),s.Wb(),s.Xb(279,"div",44),s.Xb(280,"h2"),s.Tc(281,"Digital Sign"),s.Wb(),s.Xb(282,"div",30),s.Xb(283,"fieldset"),s.Xb(284,"legend",31),s.Tc(285,"Digital Sign"),s.Wb(),s.Wb(),s.Xb(286,"span"),s.Xb(287,"mat-icon",32),s.fc("click",function(){return e.editDigitalSign()}),s.Tc(288,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(289,"mat-card",33),s.Xb(290,"mat-card-content"),s.Xb(291,"div",34),s.Sb(292,"div",35),s.Xb(293,"div",36),s.Xb(294,"div",37),s.Tc(295,"Document Name"),s.Wb(),s.Xb(296,"div",38),s.Tc(297),s.Wb(),s.Wb(),s.Xb(298,"div",36),s.Xb(299,"div",37),s.Tc(300,"File Type"),s.Wb(),s.Xb(301,"div",38),s.Tc(302),s.Wb(),s.Wb(),s.Xb(303,"div",36),s.Xb(304,"div",37),s.Tc(305,"File Name"),s.Wb(),s.Xb(306,"div",38),s.Tc(307),s.Wb(),s.Wb(),s.Xb(308,"div",36),s.Xb(309,"div",37),s.Tc(310,"Download"),s.Wb(),s.Rc(311,Yo,4,1,"div",54),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(312,"br"),s.Xb(313,"div"),s.Rc(314,ei,18,15,"div",55),s.Wb(),s.Sb(315,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(8),s.rc("ngIf",e.loading),s.Eb(5),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=e.imageUrl),s.Eb(9),s.Xc("",e.accInfo.prefix,"\xa0",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),s.Eb(16),s.rc("hidden",e.editScreen||"TELLER_DEP_CREATEACCOUNT"!=e.userType),s.Eb(10),s.Uc(null==e.accountDetails?null:e.accountDetails.customerId),s.Eb(5),s.Wc("",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),s.Eb(5),s.Vc("",e.accountId," "),s.Eb(7),s.Uc(null==e.accountDetails?null:e.accountDetails.accountType),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),s.Eb(7),s.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.applicationDate),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.modificationNo),s.Eb(7),s.rc("checked",null==e.accountDetails?null:e.accountDetails.overDraftRequested)("disabled",e.variable),s.Eb(5),s.rc("checked",null==e.accountDetails?null:e.accountDetails.swiftCodeEnable)("disabled",e.variable),s.Eb(5),s.rc("checked",null==e.accountDetails?null:e.accountDetails.fundBy)("disabled",e.variable),s.Eb(1),s.rc("ngIf",null!=e.customerInformation),s.Eb(1),s.rc("ngIf",(null==e.mandate?null:e.mandate.length)>0),s.Eb(1),s.rc("ngIf",null!=e.accountServiceDetails),s.Eb(1),s.rc("ngIf",(null==e.nomineeDetails?null:e.nomineeDetails.length)>0),s.Eb(10),s.rc("ngForOf",e.securedOverdraftDetails),s.Eb(2),s.rc("ngIf",null!=e.unsecuredOverdraftDetails),s.Eb(2),s.rc("ngIf",null!=e.financialDetails),s.Eb(16),s.rc("hidden",e.editScreen||"TELLER_DEP_CREATEACCOUNT"!=e.userType),s.Eb(2),s.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0),s.Eb(7),s.rc("hidden",e.editScreen||"TELLER_DEP_CREATEACCOUNT"!=e.userType),s.Eb(2),s.rc("ngIf",(null==e.chargeDetails?null:e.chargeDetails.length)>0),s.Eb(15),s.rc("hidden",e.editScreen||"TELLER_DEP_CREATEACCOUNT"!=e.userType),s.Eb(10),s.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardId),s.Eb(5),s.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.numberOfApplicant),s.Eb(5),s.rc("ngForOf",null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardMapping),s.Eb(2),s.rc("ngIf",null!=e.assessmentReport),s.Eb(3),s.rc("ngIf",null!=e.createAccFundingStage),s.Eb(15),s.rc("hidden",e.editScreen||"TELLER_DEP_CREATEACCOUNT"!=e.userType),s.Eb(10),s.Uc(null==e.accountDetails?null:e.accountDetails.accountType),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),s.Eb(7),s.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),s.Eb(12),s.Uc(null==e.accountDetails?null:e.accountDetails.userRecommendation),s.Eb(13),s.rc("hidden",e.editScreen||"TELLER_DEP_CREATEACCOUNT"!=e.userType),s.Eb(10),s.Uc(null==e.signatureData?null:e.signatureData.documentName),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileType),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileName),s.Eb(4),s.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),s.Eb(3),s.rc("ngIf",!e.loading))},directives:[X.e,X.d,T.a,c.n,c.m,E.c,X.b,E.a,E.d,O.a,R.b,X.f,h.a,E.e,E.h,E.g,c.l,bo.a],pipes:[c.v,c.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.approvebtn[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{border-style:1px solid transparent}.approvebtn[_ngcontent-%COMP%]{margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:52%;height:52px;padding-top:16px;background:#fff;margin-left:15px}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{background-color:#f6f8fc;border:.5px;padding:10px;margin:40px 2% 40px 50px;border-color:#b2b2b2}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center;margin-left:38px;margin-right:7%}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem;display:flex;align-items:center;font-family:Manrope,Medium}.textsize[_ngcontent-%COMP%]{padding:0 10px;margin-top:10px}.labelval[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.dataStyle[_ngcontent-%COMP%]{width:99%;margin-left:4%;margin-right:13%}.btttn[_ngcontent-%COMP%], .dataStyle[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.btttn[_ngcontent-%COMP%]{font-weight:700}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;margin-bottom:20px!important;background:#f4f6f8;margin-left:32px}.appersoninfocard1[_ngcontent-%COMP%]{width:100%}.interstcard[_ngcontent-%COMP%]{width:97%}.interstcard[_ngcontent-%COMP%], .interstcard2[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard2[_ngcontent-%COMP%]{width:75%}.interstcard3[_ngcontent-%COMP%]{width:97%;right:29%}.interstcard3[_ngcontent-%COMP%], .interstcard4[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard4[_ngcontent-%COMP%]{width:100%;right:35%}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:38%;max-width:9%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{background-color:#fff;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.cancelIcon[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{color:red;cursor:pointer}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;opacity:1;padding-top:7px}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:63px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{color:#fff;background-color:#0ec588;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;border-color:#0ec588;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;background-color:grey;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:20px;width:100px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin-right:15px;margin-top:21%;position:relative;margin-bottom:14px}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px;margin-left:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;position:relative;margin:auto 40px auto auto}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:10px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-top:44px;margin-left:44px}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-top:10px}.refnum[_ngcontent-%COMP%]{background-color:#0e7cc5;border-color:#0e57c5;height:30px;width:250px}.refnum[_ngcontent-%COMP%], .suces[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;margin-right:60px}.suces[_ngcontent-%COMP%]{background-color:#24cca7;border-color:#0dab4e;height:25px;width:150px;margin-left:204px}.btttn[_ngcontent-%COMP%]{font-family:Manrope,Medium!important;color:#9aa1b0}.margin1[_ngcontent-%COMP%]{margin-top:18px}.margin1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:20px}h2[_ngcontent-%COMP%]{margin-left:13px;font-family:montserrat,bold}.height1[_ngcontent-%COMP%]{margin-left:32px}legend[_ngcontent-%COMP%]{width:auto;margin-right:25px;color:#5f5c5c;font-size:18px;font-family:Montserrat,Medium}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:13px;margin-right:20px;margin-top:20px;flex-grow:1}.size1[_ngcontent-%COMP%]{font-size:10px;height:165px}.maticon[_ngcontent-%COMP%]{margin-top:10px}.box[_ngcontent-%COMP%]{height:295px;width:29%}.box2[_ngcontent-%COMP%]{width:62%}.nom[_ngcontent-%COMP%]{margin-left:30px}.marginn[_ngcontent-%COMP%]{margin-top:22px}.done1[_ngcontent-%COMP%]{top:50%;text-align:center;color:#fff;margin-top:5px;width:inherit;height:auto;font-size:19px}.circle3[_ngcontent-%COMP%]{width:25px;height:3rem;background-color:#0ec588;border-radius:50%;margin-right:10px;margin-left:5px}.btnleft[_ngcontent-%COMP%]{margin-left:0}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),ai),oi=r("MNke");function ii(t,e){1&t&&s.Sb(0,"mat-spinner",20),2&t&&s.rc("diameter",15)}function ri(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",21),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"mat-icon"),s.Tc(2,"close"),s.Wb(),s.Wb()}}function ci(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",39),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function li(t,e){if(1&t&&s.Sb(0,"img",40),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function si(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.gotoapproverpage(t,"BACKLOG",o.getRandomColor(n+3))}),s.Xb(1,"mat-icon",23),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,ci,2,1,"div",26),s.Rc(6,li,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"div",31),s.Xb(14,"div",32),s.Xb(15,"div",33),s.Xb(16,"div",34),s.Xb(17,"span",35),s.Tc(18,"Application Date"),s.Wb(),s.Wb(),s.Xb(19,"div",34),s.Xb(20,"span",35),s.Tc(21,"Applicaton Branch"),s.Wb(),s.Wb(),s.Xb(22,"div",34),s.Xb(23,"span",35),s.Tc(24,"Product"),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",36),s.Xb(26,"div",34),s.Xb(27,"span",37),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",34),s.Xb(30,"span",38),s.Tc(31),s.Wb(),s.Wb(),s.Xb(32,"div",34),s.Xb(33,"span",38),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Sb(35,"br"),s.Wb(),s.Xb(36,"div",32),s.Xb(37,"div",35),s.Xb(38,"div",34),s.Xb(39,"span",35),s.Tc(40,"Account Type"),s.Wb(),s.Wb(),s.Xb(41,"div",34),s.Xb(42,"span",35),s.Tc(43,"Application By"),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",37),s.Xb(45,"div"),s.Xb(46,"div",34),s.Xb(47,"span",38),s.Tc(48),s.Wb(),s.Wb(),s.Xb(49,"div",34),s.Xb(50,"span",38),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.accountId),s.Eb(17),s.Uc(null==n?null:n.applicationDate),s.Eb(3),s.Uc(null==n?null:n.accountBranch),s.Eb(3),s.Uc(null==n?null:n.businessProductName),s.Eb(14),s.Uc(null==n?null:n.accountType),s.Eb(3),s.Uc(null==n?null:n.createdBy)}}function bi(t,e){if(1&t&&(s.Xb(0,"mat-card",15),s.Xb(1,"div",16),s.Xb(2,"span",17),s.Xb(3,"h2",18),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,si,52,11,"div",19),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Pending for approval (",null==a.BACKLOGArr?null:a.BACKLOGArr.length,"/",a.BACKLOGTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.BACKLOGArr)}}function ui(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",39),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function di(t,e){if(1&t&&s.Sb(0,"img",40),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function mi(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"ONGOING",o.getRandomColor(n+6))}),s.Xb(1,"mat-icon",41),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,ui,2,1,"div",26),s.Rc(6,di,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"div",31),s.Xb(14,"div",32),s.Xb(15,"div",33),s.Xb(16,"div",34),s.Xb(17,"span",35),s.Tc(18,"Application Date"),s.Wb(),s.Wb(),s.Xb(19,"div",34),s.Xb(20,"span",35),s.Tc(21,"Applicaton Branch"),s.Wb(),s.Wb(),s.Xb(22,"div",34),s.Xb(23,"span",35),s.Tc(24,"Product"),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",36),s.Xb(26,"div",34),s.Xb(27,"span",37),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",34),s.Xb(30,"span",38),s.Tc(31),s.Wb(),s.Wb(),s.Xb(32,"div",34),s.Xb(33,"span",38),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Sb(35,"br"),s.Wb(),s.Xb(36,"div",32),s.Xb(37,"div",35),s.Xb(38,"div",34),s.Xb(39,"span",35),s.Tc(40,"Account Type"),s.Wb(),s.Wb(),s.Xb(41,"div",34),s.Xb(42,"span",35),s.Tc(43,"Application By"),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",37),s.Xb(45,"div"),s.Xb(46,"div",34),s.Xb(47,"span",38),s.Tc(48),s.Wb(),s.Wb(),s.Xb(49,"div",34),s.Xb(50,"span",38),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.accountId),s.Eb(17),s.Uc(null==n?null:n.applicationDate),s.Eb(3),s.Uc(null==n?null:n.accountBranch),s.Eb(3),s.Uc(null==n?null:n.businessProductName),s.Eb(14),s.Uc(null==n?null:n.accountType),s.Eb(3),s.Uc(null==n?null:n.createdBy)}}function pi(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",39),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function fi(t,e){if(1&t&&s.Sb(0,"img",40),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function hi(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.gotoapproverpage(t,"APPROVED",o.getRandomColor(n+9))}),s.Xb(1,"mat-icon",42),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,pi,2,1,"div",26),s.Rc(6,fi,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"div",31),s.Xb(14,"div",32),s.Xb(15,"div",33),s.Xb(16,"div",34),s.Xb(17,"span",35),s.Tc(18,"Application Date"),s.Wb(),s.Wb(),s.Xb(19,"div",34),s.Xb(20,"span",35),s.Tc(21,"Applicaton Branch"),s.Wb(),s.Wb(),s.Xb(22,"div",34),s.Xb(23,"span",35),s.Tc(24,"Product"),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",36),s.Xb(26,"div",34),s.Xb(27,"span",37),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",34),s.Xb(30,"span",38),s.Tc(31),s.Wb(),s.Wb(),s.Xb(32,"div",34),s.Xb(33,"span",38),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Sb(35,"br"),s.Wb(),s.Xb(36,"div",32),s.Xb(37,"div",35),s.Xb(38,"div",34),s.Xb(39,"span",35),s.Tc(40,"Account Type"),s.Wb(),s.Wb(),s.Xb(41,"div",34),s.Xb(42,"span",35),s.Tc(43,"Application By"),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",37),s.Xb(45,"div"),s.Xb(46,"div",34),s.Xb(47,"span",38),s.Tc(48),s.Wb(),s.Wb(),s.Xb(49,"div",34),s.Xb(50,"span",38),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.accountId),s.Eb(17),s.Uc(null==n?null:n.applicationDate),s.Eb(3),s.Uc(null==n?null:n.accountBranch),s.Eb(3),s.Uc(null==n?null:n.businessProductName),s.Eb(14),s.Uc(null==n?null:n.accountType),s.Eb(3),s.Uc(null==n?null:n.createdBy)}}function gi(t,e){if(1&t&&(s.Xb(0,"mat-card",15),s.Xb(1,"div",16),s.Xb(2,"span",17),s.Xb(3,"h2",18),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,hi,52,11,"div",19),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Approved (",null==a.APPROVEDArr?null:a.APPROVEDArr.length,"/",a.APPROVEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.APPROVEDArr)}}function vi(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",39),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function yi(t,e){if(1&t&&s.Sb(0,"img",40),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function Wi(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.gotoapproverpage(t,"REJECTED",o.getRandomColor(n+12))}),s.Xb(1,"mat-icon",43),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,vi,2,1,"div",26),s.Rc(6,yi,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"div",31),s.Xb(14,"div",32),s.Xb(15,"div",33),s.Xb(16,"div",34),s.Xb(17,"span",35),s.Tc(18,"Application Date"),s.Wb(),s.Wb(),s.Xb(19,"div",34),s.Xb(20,"span",35),s.Tc(21,"Applicaton Branch"),s.Wb(),s.Wb(),s.Xb(22,"div",34),s.Xb(23,"span",35),s.Tc(24,"Product"),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",36),s.Xb(26,"div",34),s.Xb(27,"span",37),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",34),s.Xb(30,"span",38),s.Tc(31),s.Wb(),s.Wb(),s.Xb(32,"div",34),s.Xb(33,"span",38),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Sb(35,"br"),s.Wb(),s.Xb(36,"div",32),s.Xb(37,"div",35),s.Xb(38,"div",34),s.Xb(39,"span",35),s.Tc(40,"Account Type"),s.Wb(),s.Wb(),s.Xb(41,"div",34),s.Xb(42,"span",35),s.Tc(43,"Application By"),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",37),s.Xb(45,"div"),s.Xb(46,"div",34),s.Xb(47,"span",38),s.Tc(48),s.Wb(),s.Wb(),s.Xb(49,"div",34),s.Xb(50,"span",38),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName," "),s.Eb(2),s.Uc(n.accountId),s.Eb(17),s.Uc(null==n?null:n.applicationDate),s.Eb(3),s.Uc(null==n?null:n.accountBranch),s.Eb(3),s.Uc(null==n?null:n.businessProductName),s.Eb(14),s.Uc(null==n?null:n.accountType),s.Eb(3),s.Uc(null==n?null:n.createdBy)}}function Xi(t,e){if(1&t&&(s.Xb(0,"mat-card",15),s.Xb(1,"div",16),s.Xb(2,"span",17),s.Xb(3,"h2",18),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,Wi,52,11,"div",19),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Rejected (",null==a.REJECTEDArr?null:a.REJECTEDArr.length,"/",a.REJECTEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.REJECTEDArr)}}var Ti,Ii=((Ti=function(){function t(e,a,o,i,r,c,l){n(this,t),this.dialog=e,this.sanitizer=a,this.tasksummaryService=o,this.apiService=i,this.cdr=r,this.route=c,this.jwtService=l,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new s.o,this._searchSubject=new u.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,this.apiService.setTask(!0),this.route.queryParamMap.subscribe(function(t){t.get("searchTerm")?(e.redirectedFromTellerSearch=!0,e.searchText=t.get("searchTerm"),e.updateSearch(e.searchText),setTimeout(function(){e.openSearchedApprover()},3e3)):e.getDataOnLoad()})}},{key:"updateSearch",value:function(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){t.searchKycid(e)})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}},{key:"getAllAccDetails",value:function(t,e,a){var n=this;this.tasksummaryService.getAllAccDetails(t).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"ONGOING"==t?(this.ONGOINGArr=null==e?void 0:e.accountList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=null==e?void 0:e.accountList,this.BACKLOGTotalPages=null==e?void 0:e.totalPages,this.BACKLOGTotalRecords=null==e?void 0:e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.accountList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.accountList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllAccDetailOnScroll(t,e).subscribe(function(e){n.updateDataOnScroll(t,e.accountList),n.cdr.markForCheck()}):console.log("No scroll requied")}},{key:"gotoapproverpage",value:function(t,e,a){var n=this;this.tasksummaryService.accountStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(ni,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){"REJECTED"!==t.data&&"APPROVED"!==t.data&&"ONGOING"!=t.data&&"BACKLOG"!==t.data||(1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad())})}},{key:"searchKycid",value:function(t){var e;if(""===t)return console.log("empty"),this.isScroll=!0,void this.getDataOnLoad();e=this.isNum(t)?"accountId="+this.searchText.trim():"customerName="+this.searchText.trim(),this.isScroll=!1,this.getAccountData(e)}},{key:"getAccountData",value:function(t){var e=this;this.loading=!0,console.log("params :: ",t),this.tasksummaryService.getSearchData(t).subscribe(function(t){e.loading=!1,console.log("resp data :: ",t),e.resetSearchData();for(var a=0;a<t.accountList.length;a++){var n=t.accountList[a];console.log("element ::",n),e.searchResponseUpdate(n.status,t.accountList[a])}})}},{key:"resetSearchData",value:function(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"searchResponseUpdate",value:function(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"updateDataOnScroll",value:function(t,e){if("ONGOING"==t){console.log("sdsklsdk",e);var a=Qt.unionBy(this.ONGOINGArr,e,"accountId");console.log("result---------------\x3e",a),this.ONGOINGArr=a}else if("BACKLOG"==t){var n=Qt.unionBy(this.BACKLOGArr,e,"accountId");this.BACKLOGArr=n}else if("APPROVED"==t){var o=Qt.unionBy(this.APPROVEDArr,e,"accountId");this.APPROVEDArr=o}else if("REJECTED"==t){var i=Qt.unionBy(this.REJECTEDArr,e,"accountId");this.REJECTEDArr=i}this.cdr.markForCheck()}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||Ti)(s.Rb(p.b),s.Rb(so.b),s.Rb(g.a),s.Rb(b.b),s.Rb(s.h),s.Rb(Ze.a),s.Rb(lo.a))},Ti.\u0275cmp=s.Lb({type:Ti,selectors:[["app-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:34,vars:12,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"headingtext"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchfield"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search AccountID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","matCardbox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"matCardbox",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","16px"],[2,"color","green"],[1,"head1"],["fxLayout","column"],["fxLayout","column","fxFlex","100"],["fxLayout","row",1,"col1"],["fxFlex","33",1,"pr3"],[1,"col3"],[1,"col2"],[1,"col4"],[1,"col4","breakWord"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"span",4),s.Tc(7," Create Account Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-label"),s.Tc(11,"Search"),s.Wb(),s.Xb(12,"div",7),s.Xb(13,"input",8),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Rc(14,ii,1,1,"mat-spinner",9),s.Wb(),s.Xb(15,"mat-icon",10),s.Tc(16,"search"),s.Wb(),s.Rc(17,ri,3,0,"button",11),s.Xb(18,"mat-hint"),s.Tc(19,"Search AccountID or Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",12),s.Xb(21,"div",13),s.Rc(22,bi,8,3,"mat-card",14),s.Xb(23,"mat-card",15),s.Xb(24,"div",16),s.Xb(25,"span",17),s.Xb(26,"h2",18),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div"),s.Rc(29,mi,52,11,"div",19),s.Wb(),s.Sb(30,"br"),s.Wb(),s.Rc(31,gi,8,3,"mat-card",14),s.Rc(32,Xi,8,3,"mat-card",14),s.Wb(),s.Sb(33,"br"),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(12),s.rc("ngModel",e.searchText),s.Eb(1),s.rc("ngIf",e.loading),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(5),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(5),s.Wc("Ongoing (",null==e.ONGOINGArr?null:e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.ONGOINGArr),s.Eb(2),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(1),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType))},directives:[oi.a,X.e,X.d,X.f,X.b,I.c,I.g,x.b,v.c,v.r,v.u,c.n,T.a,I.i,I.f,E.a,c.m,R.b,D.b,I.j,E.e,E.c,E.h,E.g,v.A,v.s,v.t],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.headingtext[_ngcontent-%COMP%]{padding-left:2.2%;padding-top:1%}.searchfield[_ngcontent-%COMP%]{padding-right:5%}.matCardbox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:37vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.pr3[_ngcontent-%COMP%]{padding-right:3%}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),Ti),Ei=r("laYw"),xi=r("yAWA");function Ci(t,e){if(1&t&&s.Sb(0,"img",3),2&t){var a=s.jc();s.sc("src",a.photoUrl,s.Jc)}}function Ai(t,e){if(1&t&&(s.Xb(0,"div",4),s.Tc(1),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.Vc(" ",a.initials," ")}}var Oi,Di=function(t){return{"background-color":t}},Ri=((Oi=function(){function t(){n(this,t),this.showInitials=!1,this.colors=["#24CCA7","#24CCA7","#24CCA7","#24CCA7"]}return i(t,[{key:"ngOnInit",value:function(){if(!this.photoUrl){this.showInitials=!0,this.createInititals();var t=Math.floor(Math.random()*Math.floor(this.colors.length));this.circleColor=this.colors[t]}}},{key:"createInititals",value:function(){var t=this.name.split(" "),e=t[0].substring(0,1).toUpperCase();t.length>1&&(e+=t[t.length-1].substring(0,1).toUpperCase()),this.initials=e}}]),t}()).\u0275fac=function(t){return new(t||Oi)},Oi.\u0275cmp=s.Lb({type:Oi,selectors:[["app-photo-component"]],inputs:{photoUrl:"photoUrl",name:"name"},decls:3,vars:5,consts:[[1,"circle",3,"ngStyle"],[3,"src",4,"ngIf"],["class","initials",4,"ngIf"],[3,"src"],[1,"initials"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Rc(1,Ci,1,1,"img",1),s.Rc(2,Ai,2,1,"div",2),s.Wb()),2&t&&(s.rc("ngStyle",s.xc(3,Di,e.circleColor)),s.Eb(1),s.rc("ngIf",!e.showInitials),s.Eb(1),s.rc("ngIf",e.showInitials))},directives:[c.o,bo.b,c.n],styles:[""]}),Oi),Si=r("JC+M");function ki(t,e){1&t&&s.Sb(0,"mat-spinner",21),2&t&&s.rc("diameter",15)}function Ni(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",22),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"mat-icon"),s.Tc(2,"close"),s.Wb(),s.Wb()}}function Pi(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo-component",41),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function Fi(t,e){if(1&t&&s.Sb(0,"img",42),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function Li(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc(2).goToKycSummary(null==t?null:t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",26),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,Pi,2,1,"div",29),s.Rc(12,Fi,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",31),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"div",35),s.Xb(22,"span"),s.Tc(23,"Verification Type"),s.Wb(),s.Xb(24,"span",36),s.Tc(25,"Biometric"),s.Wb(),s.Wb(),s.Xb(26,"div",35),s.Xb(27,"span"),s.Tc(28,"KYC Status"),s.Wb(),s.Xb(29,"span",36),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"br"),s.Xb(32,"div",37),s.Xb(33,"div",38),s.Xb(34,"span",39),s.Tc(35,"Mobile Number"),s.Wb(),s.Xb(36,"span",40),s.Tc(37),s.Wb(),s.Wb(),s.Xb(38,"div",38),s.Xb(39,"span",39),s.Tc(40,"Email"),s.Wb(),s.Xb(41,"span",40),s.Tc(42),s.Wb(),s.Wb(),s.Wb(),s.Sb(43,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),s.Eb(3),s.Vc("#",null==n?null:n.customerAdditionalInfo.kycReference,""),s.Eb(12),s.Uc(null==n?null:n.customerAdditionalInfo.kycStatus),s.Eb(7),s.Uc(null==n?null:n.phoneNumber),s.Eb(5),s.Uc(null==n?null:n.primaryEmailAdress)}}function _i(t,e){if(1&t&&(s.Xb(0,"mat-card",16),s.Xb(1,"div",17),s.Xb(2,"span",18),s.Xb(3,"h2",19),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,Li,44,13,"div",20),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Pending for approval (",null==a.INITIATEDArr?null:a.INITIATEDArr.length,"/",a.INITIATEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.INITIATEDArr)}}function wi(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo-component",41),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function Ui(t,e){if(1&t&&s.Sb(0,"img",42),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function Mi(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc().goToKycSummary(null==t?null:t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",43),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,wi,2,1,"div",29),s.Rc(12,Ui,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",44),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"div",35),s.Xb(22,"span"),s.Tc(23,"Verification Type"),s.Wb(),s.Xb(24,"span",36),s.Tc(25,"Biometric"),s.Wb(),s.Wb(),s.Xb(26,"div",35),s.Xb(27,"span"),s.Tc(28,"KYC Status"),s.Wb(),s.Xb(29,"span",36),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"br"),s.Xb(32,"div",37),s.Xb(33,"div",38),s.Xb(34,"span",39),s.Tc(35,"Mobile Number"),s.Wb(),s.Xb(36,"span",40),s.Tc(37),s.Wb(),s.Wb(),s.Xb(38,"div",38),s.Xb(39,"span",39),s.Tc(40,"Email"),s.Wb(),s.Xb(41,"span",40),s.Tc(42),s.Wb(),s.Wb(),s.Wb(),s.Sb(43,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),s.Eb(3),s.Vc("#",null==n?null:n.customerAdditionalInfo.kycReference,""),s.Eb(12),s.Uc(null==n?null:n.customerAdditionalInfo.kycStatus),s.Eb(7),s.Uc(null==n?null:n.phoneNumber),s.Eb(5),s.Uc(null==n?null:n.primaryEmailAdress)}}function Gi(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo-component",41),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function Vi(t,e){if(1&t&&s.Sb(0,"img",42),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function ji(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc(2).goToKycSummary(t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",45),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,Gi,2,1,"div",29),s.Rc(12,Vi,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",44),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"div",35),s.Xb(22,"span"),s.Tc(23,"Verification Type"),s.Wb(),s.Xb(24,"span",36),s.Tc(25,"Biometric"),s.Wb(),s.Wb(),s.Xb(26,"div",35),s.Xb(27,"span"),s.Tc(28,"KYC Status"),s.Wb(),s.Xb(29,"span",36),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"br"),s.Xb(32,"div",37),s.Xb(33,"div",38),s.Xb(34,"span",39),s.Tc(35,"Mobile Number"),s.Wb(),s.Xb(36,"span",40),s.Tc(37),s.Wb(),s.Wb(),s.Xb(38,"div",38),s.Xb(39,"span",39),s.Tc(40,"Email"),s.Wb(),s.Xb(41,"span",40),s.Tc(42),s.Wb(),s.Wb(),s.Wb(),s.Sb(43,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),s.Eb(3),s.Vc("#",null==n?null:n.customerAdditionalInfo.kycReference,""),s.Eb(12),s.Uc(null==n?null:n.customerAdditionalInfo.kycStatus),s.Eb(7),s.Uc(null==n?null:n.phoneNumber),s.Eb(5),s.Uc(null==n?null:n.primaryEmailAdress)}}function Bi(t,e){if(1&t&&(s.Xb(0,"mat-card",16),s.Xb(1,"div",17),s.Xb(2,"span",18),s.Xb(3,"h2",19),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,ji,44,13,"div",20),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Approved (",null==a.APPROVEDArr?null:a.APPROVEDArr.length,"/",a.APPROVEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.APPROVEDArr)}}function zi(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo-component",41),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function qi(t,e){if(1&t&&s.Sb(0,"img",42),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function Ki(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc(2).goToKycSummary(t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",46),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,zi,2,1,"div",29),s.Rc(12,qi,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",44),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"div",35),s.Xb(22,"span"),s.Tc(23,"Verification Type"),s.Wb(),s.Xb(24,"span",36),s.Tc(25,"Biometric"),s.Wb(),s.Wb(),s.Xb(26,"div",35),s.Xb(27,"span"),s.Tc(28,"KYC Status"),s.Wb(),s.Xb(29,"span",36),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"br"),s.Xb(32,"div",37),s.Xb(33,"div",38),s.Xb(34,"span",39),s.Tc(35,"Mobile Number"),s.Wb(),s.Xb(36,"span",40),s.Tc(37),s.Wb(),s.Wb(),s.Xb(38,"div",38),s.Xb(39,"span",39),s.Tc(40,"Email"),s.Wb(),s.Xb(41,"span",40),s.Tc(42),s.Wb(),s.Wb(),s.Wb(),s.Sb(43,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),s.Eb(3),s.Vc("#",null==n?null:n.customerAdditionalInfo.kycReference,""),s.Eb(12),s.Uc(null==n?null:n.customerAdditionalInfo.kycStatus),s.Eb(7),s.Uc(null==n?null:n.phoneNumber),s.Eb(5),s.Uc(null==n?null:n.primaryEmailAdress)}}function Ji(t,e){if(1&t&&(s.Xb(0,"mat-card",16),s.Xb(1,"div",17),s.Xb(2,"span",18),s.Xb(3,"h2",19),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,Ki,44,13,"div",20),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Rejected (",null==a.REJECTEDArr?null:a.REJECTEDArr.length,"/",a.REJECTEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.REJECTEDArr)}}var Hi,$i=((Hi=function(){function t(e,a,o,i,r,c,l,b,d,m){n(this,t),this.dialog=e,this.dialogService=a,this.apiService=o,this.cdr=i,this.tasSumService=r,this.jwtService=c,this.snack=l,this.sanitizer=b,this.route=m,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.setValue=new s.o,this._searchSubject=new u.a,this.nodataFound=!1,this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.searchable=!1,this.isScroll=!0,this.redirectedFromTellerSearch=!1,this._setSearchSubscription(),d.addSvgIconLiteral("filter_icon",b.bypassSecurityTrustHtml('\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10,13,3,3H21L14,13v6l-4,3Z" fill="none" stroke="#000" stroke-miterlimit="10"/></svg>\n'))}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,this.apiService.setTask(!0),this.route.queryParamMap.subscribe(function(t){t.get("searchTerm")?(e.redirectedFromTellerSearch=!0,e.searchText=t.get("searchTerm"),e.updateSearch(e.searchText),setTimeout(function(){e.openSearchedApprover()},3e3)):e.getDataOnLoad()})}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){t.searchKycid(e),console.log("searchValue :: ",e)})}},{key:"goToKycSummary",value:function(t){var e=this;localStorage.setItem("customerId",t),this.dialog.open(xi.a,{width:"80%",maxHeight:"100%",backdropClass:"dialog-bg-trans",disableClose:!0}).afterClosed().subscribe(function(t){console.log("The dialog was closed",t),"REJECTED"!==t.data&&"APPROVED"!==t.data&&"INITIATED"!==t.data&&"INITIATED"!==t.data||(1==e.redirectedFromTellerSearch?e.updateSearch(e.searchText):e.getDataOnLoad())})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.fetchCustomerByStatus(this.statusArr[t],0,0)}},{key:"fetchCustomerByStatus",value:function(t,e,a){var n=this;this.apiService.getKycTaskSummaryList(t,e,a).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=null==e?void 0:e.customerInfoList,this.INITIATEDTotalPages=null==e?void 0:e.totalPages,this.INITIATEDTotalRecords=null==e?void 0:e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=null==e?void 0:e.customerInfoList,this.UNDER_PROCESSTotalPages=null==e?void 0:e.totalPages,this.UNDER_PROCESSTotalRecords=null==e?void 0:e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.customerInfoList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.customerInfoList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),e.customerInfoList&&n.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}},{key:"searchKycid",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("kycId"),e="kyc_"+this.searchText.trim(),this.apiService.getKycDetails2(e).subscribe(function(t){console.log(t),null!=t?(a="kycReference="+e,console.log("cif",a)):(console.log("not a cif"),e=n.searchText.trim(),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getKycData(a)},1e3),this.isScroll=!1}},{key:"getKycData",value:function(t){var e=this;this.loading=!0,this.apiService.getCustomerOnBoardingSummary(t).subscribe(function(t){e.INITIATEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,e.resetSearchData(),e.INITIATEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++){var n=null==t?void 0:t.customerInfoList[a];e.searchResponseUpdate(null==n?void 0:n.kycStatus,t.customerInfoList[a])}})}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.getDataOnLoad(),this.isScroll=!0}},{key:"updateDataOnScroll",value:function(t,e){if("INITIATED"==t){var a=Qt.unionBy(this.INITIATEDArr,e,"customerId");this.INITIATEDArr=a}else if("UNDER_PROCESS"==t){var n=Qt.unionBy(this.UNDER_PROCESSArr,e,"customerId");this.UNDER_PROCESSArr=n}else if("APPROVED"==t){var o=Qt.unionBy(this.APPROVEDArr,e,"customerId");this.APPROVEDArr=o}else if("REJECTED"==t){var i=Qt.unionBy(this.REJECTEDArr,e,"customerId");this.REJECTEDArr=i}this.cdr.markForCheck()}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.goToKycSummary(t[0][0].customerId)}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||Hi)(s.Rb(p.b),s.Rb(Ei.a),s.Rb(b.b),s.Rb(s.h),s.Rb(g.a),s.Rb(lo.a),s.Rb(W.a),s.Rb(so.b),s.Rb(T.c),s.Rb(Ze.a))},Hi.\u0275cmp=s.Lb({type:Hi,selectors:[["app-kyc-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:36,vars:12,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","60",1,"pl-50"],[1,"task","ml-24"],["fxLayoutAlign","end center","fxFlex","100","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px",1,"search"],["appearance","outline",1,"full-width","search_field"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[3,"click"],[1,"graymatcard"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"breakWord",2,"font-size","15px"],[1,"KYCtxt"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxFlex","50","fxLayout","column",1,"pr2"],[1,"col4","breakWord"],["fxLayout","row","fxLayoutGap","10"],["fxLayout","column","fxFlex","50",1,"pr2"],[1,"col3"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark",2,"color","darkorange"],[1,"breakWord",2,"font-size","16px"],[1,"fill-color-blue","bookMark",2,"color","#1FBFA9"],[1,"fill-color-blue","bookMark",2,"color","red"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"span",4),s.Tc(7," KYC Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"div",6),s.Xb(10,"mat-form-field",7),s.Xb(11,"mat-label"),s.Tc(12,"Search Records"),s.Wb(),s.Xb(13,"div",8),s.Xb(14,"input",9),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Rc(15,ki,1,1,"mat-spinner",10),s.Wb(),s.Xb(16,"mat-icon",11),s.Tc(17,"search"),s.Wb(),s.Rc(18,Ni,3,0,"button",12),s.Xb(19,"mat-hint"),s.Tc(20,"Search ID or Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(21,"br"),s.Xb(22,"div",13),s.Xb(23,"div",14),s.Rc(24,_i,8,3,"mat-card",15),s.Xb(25,"mat-card",16),s.Xb(26,"div",17),s.Xb(27,"span",18),s.Xb(28,"h2",19),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div"),s.Rc(31,Mi,44,13,"div",20),s.Wb(),s.Sb(32,"br"),s.Wb(),s.Rc(33,Bi,8,3,"mat-card",15),s.Rc(34,Ji,8,3,"mat-card",15),s.Wb(),s.Sb(35,"br"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(13),s.rc("ngModel",e.searchText),s.Eb(1),s.rc("ngIf",e.loading),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(6),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(5),s.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.UNDER_PROCESSArr),s.Eb(2),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(1),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType))},directives:[oi.a,X.e,X.f,X.b,X.d,I.c,I.g,x.b,v.c,v.r,v.u,c.n,T.a,I.i,I.f,E.a,c.m,R.b,D.b,I.j,E.e,E.c,E.h,E.g,v.A,v.s,v.t,Ri],pipes:[Si.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.KYCtxt[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:11px}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.boldClass[_ngcontent-%COMP%]{font-weight:bolder}.innerMatCard[_ngcontent-%COMP%]{width:97%;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.titleName[_ngcontent-%COMP%]{top:289px;left:492px;width:94px;height:15px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-600) 12px/15px Montserrat;font:normal normal 600 12px/15px Montserrat;color:#000}.fieldName[_ngcontent-%COMP%], .titleName[_ngcontent-%COMP%]{text-align:left;letter-spacing:0;opacity:1}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;font:normal normal medium 9px/11px Montserrat;color:#0f0f0f}.search[_ngcontent-%COMP%]{height:73%;border-radius:5px;margin-left:37.7%}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}.mt-12[_ngcontent-%COMP%]{margin-top:12px}.search_field[_ngcontent-%COMP%]{height:100%;width:259px!important;left:60px;background:#fff}.pl-50[_ngcontent-%COMP%]{padding-left:3.8%;padding-top:1%}.graymatcard[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%}.pr2[_ngcontent-%COMP%]{padding-right:2%}","[_nghost-%COMP%] {\n      \n      background-color: #F5F5F5;\n    }"]}),Hi),Yi=r("Va2r");function Zi(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Qi(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Please Select the Prefix! "),s.Wb())}function tr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Enter the First Name "),s.Wb())}function er(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Enter the Last Name "),s.Wb())}function ar(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Please Select Date Of Birth "),s.Wb())}function nr(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function or(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Select Marital Status "),s.Wb())}function ir(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function rr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Select Gender "),s.Wb())}function cr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 Prefix and Gender does not match! "),s.Wb())}function lr(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function sr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0 Select Nationality "),s.Wb())}function br(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-hint",34),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.getOtp(t.primaryInfoForm.value)}),s.Tc(1),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.Uc(n.emailVerify)}}function ur(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Enter the Primary Email "),s.Wb())}function dr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," Please Enter valid email address! "),s.Wb())}function mr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-hint",34),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.getOtpMobile(t.primaryInfoForm.value)}),s.Tc(1),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.Uc(n.verify)}}function pr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Enter the Mobile Number(maximum 10 digits) "),s.Wb())}function fr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," Please Enter Mobile Number "),s.Wb())}function hr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," Mobile number must be 10 digits. "),s.Wb())}function gr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),s.Wb())}var vr,yr=((vr=function(){function t(e,a,o,i,r){n(this,t),this.primaryInfo=e,this.dialogRef=a,this.apiService=o,this.snack=i,this.formBuilder=r,this.arrayCountry=[],this.arrayState=[],this.prefixFlag=!1,this.maxDate=new Date}return i(t,[{key:"ngOnInit",value:function(){console.log(this.primaryInfo),this.customerId=this.primaryInfo.customerId,this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getMaritalStatus("maritial_Status"),this.getCountryName("country"),this.getNationality("nationality"),this.getResidenceDetails("residence"),this.primaryInfo&&this.buildPrimaryInfoForm(this.primaryInfo)}},{key:"buildPrimaryInfoForm",value:function(t){this.primaryInfoForm=this.formBuilder.group({customerId:[this.customerId],prefix:[t?t.prefix:"",[v.z.required]],firstName:[t?t.firstName:"",[v.z.required]],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",[v.z.required]],dateOfBirth:[t?t.dateOfBirth:"",[v.z.required]],maritalStatus:[t?t.maritalStatus:"",[v.z.required]],gender:[t?t.gender:"",[v.z.required]],nationality:[t?t.nationality:"",[v.z.required]],primaryEmailAdress:[t?t.primaryEmailAdress:"",[v.z.required,v.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],phoneNumber:[t?t.phoneNumber:"",[v.z.required]]})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getGenderValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayGender=t})}},{key:"getMaritalStatus",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayMaritalStatus=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getNationality",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.nationalityArray=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"onChangePrefix",value:function(t){""!=this.primaryInfoForm.value.gender&&("Mr"==t.value&&"Male"==this.primaryInfoForm.value.gender||("Ms"==t.value||"Mrs"==t.value)&&"Female"==this.primaryInfoForm.value.gender?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}},{key:"onChangeGender",value:function(t){"Mr"==this.primaryInfoForm.value.prefix&&"Male"==t.value||("Ms"==this.primaryInfoForm.value.prefix||"Mrs"==this.primaryInfoForm.value.prefix)&&"Female"==t.value?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"onSubmit",value:function(){var t=this,e=new c.f("en-US").transform(this.primaryInfoForm.value.dateOfBirth,"yyyy-MMM-dd");this.primaryInfoForm.value.dateOfBirth=e,this.primaryInfoForm.value.customerSubmit=!1,this.apiService.insertNewUserOnboarding(this.primaryInfoForm.value).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.primaryInfoForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||vr)(s.Rb(p.a),s.Rb(p.g),s.Rb(b.b),s.Rb(W.a),s.Rb(v.f))},vr.\u0275cmp=s.Lb({type:vr,selectors:[["app-update-primary-info"]],decls:97,vars:25,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],[1,"full-width"],[1,"hintClass"],[1,"inputClass",2,"max-width","20%"],["formControlName","prefix","required","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"inputClass"],["type","text","matInput","","formControlName","firstName","required","",3,"keypress"],["type","text","matInput","","formControlName","middleName",3,"keypress"],["type","text","matInput","","formControlName","lastName","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","fxlayoutAlign","start start",1,"full-width"],["fxFlex","90%"],["matInput","","readonly","","formControlName","dateOfBirth","required","",1,"default-background",3,"matDatepicker","max"],["fxFlex","10%"],["matSuffix","",2,"height","0px","line-height","0px",3,"for"],["picker",""],["formControlName","maritalStatus","required",""],["formControlName","gender","required","",3,"selectionChange"],["formControlName","nationality","required",""],["fxFlex","90%","type","email","matInput","","formControlName","primaryEmailAdress","required",""],["fxFlex","10%","class","verification",3,"click",4,"ngIf"],["fxFlex","90%","type","text","onlyNumber","","maxlength","10","minlength","10","matInput","","formControlName","phoneNumber","required","","maxlength","10"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[1,"errorClass"],["fxFlex","10%",1,"verification",3,"click"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h5",2),s.Tc(4,"Primary Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"Prefix*"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"mat-select",8),s.fc("selectionChange",function(t){return e.onChangePrefix(t)}),s.Xb(13,"mat-option",9),s.Tc(14,"Select"),s.Wb(),s.Rc(15,Zi,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(16,Qi,2,0,"mat-error",11),s.Wb(),s.Xb(17,"div",12),s.Xb(18,"mat-hint",6),s.Tc(19,"First Name*"),s.Wb(),s.Xb(20,"mat-card",13),s.Xb(21,"input",14),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(22,tr,2,0,"mat-error",11),s.Wb(),s.Xb(23,"div",12),s.Xb(24,"mat-hint",6),s.Tc(25,"Middle Name"),s.Wb(),s.Xb(26,"mat-card",13),s.Xb(27,"input",15),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div",12),s.Xb(29,"mat-hint",6),s.Tc(30,"Last Name"),s.Wb(),s.Xb(31,"mat-card",13),s.Xb(32,"input",16),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(33,er,2,0,"mat-error",11),s.Wb(),s.Xb(34,"div",17),s.Xb(35,"mat-hint",6),s.Tc(36,"Date of Birth*"),s.Wb(),s.Xb(37,"mat-card",13),s.Xb(38,"div",18),s.Sb(39,"input",19),s.Wb(),s.Xb(40,"div",20),s.Sb(41,"mat-datepicker-toggle",21),s.Wb(),s.Wb(),s.Rc(42,ar,2,0,"mat-error",11),s.Sb(43,"mat-datepicker",null,22),s.Wb(),s.Xb(45,"div",12),s.Xb(46,"mat-hint",6),s.Tc(47,"Marital Status*"),s.Wb(),s.Xb(48,"mat-card",13),s.Xb(49,"mat-select",23),s.Xb(50,"mat-option",9),s.Tc(51,"Select"),s.Wb(),s.Rc(52,nr,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(53,or,2,0,"mat-error",11),s.Wb(),s.Xb(54,"div",12),s.Xb(55,"mat-hint",6),s.Tc(56,"Gender*"),s.Wb(),s.Xb(57,"mat-card",13),s.Xb(58,"mat-select",24),s.fc("selectionChange",function(t){return e.onChangeGender(t)}),s.Xb(59,"mat-option",9),s.Tc(60,"Select"),s.Wb(),s.Rc(61,ir,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(62,rr,2,0,"mat-error",11),s.Rc(63,cr,2,0,"mat-error",11),s.Wb(),s.Xb(64,"div",12),s.Xb(65,"mat-hint",6),s.Tc(66,"Nationality*"),s.Wb(),s.Xb(67,"mat-card",13),s.Xb(68,"mat-select",25),s.Xb(69,"mat-option",9),s.Tc(70,"Select"),s.Wb(),s.Rc(71,lr,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(72,sr,2,0,"mat-error",11),s.Wb(),s.Xb(73,"div",12),s.Xb(74,"mat-hint",6),s.Tc(75,"Primary Email*"),s.Wb(),s.Xb(76,"mat-card",13),s.Sb(77,"input",26),s.Rc(78,br,2,1,"mat-hint",27),s.Wb(),s.Rc(79,ur,2,0,"mat-error",11),s.Rc(80,dr,2,0,"mat-error",11),s.Wb(),s.Xb(81,"div",12),s.Xb(82,"mat-hint",6),s.Tc(83,"Mobile Number*"),s.Wb(),s.Xb(84,"mat-card",13),s.Sb(85,"input",28),s.Rc(86,mr,2,1,"mat-hint",27),s.Wb(),s.Rc(87,pr,2,0,"mat-error",11),s.Rc(88,fr,2,0,"mat-error",11),s.Rc(89,hr,2,0,"mat-error",11),s.Rc(90,gr,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(91,"div",29),s.Xb(92,"button",30),s.fc("click",function(){return e.onSubmit()}),s.Tc(93,"Save"),s.Wb(),s.Tc(94," \xa0\xa0\xa0 "),s.Xb(95,"button",31),s.fc("click",function(){return e.close()}),s.Tc(96," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(44);s.Eb(6),s.rc("formGroup",e.primaryInfoForm),s.Eb(9),s.rc("ngForOf",e.arrayPrefix),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("prefix").touched&&!e.primaryInfoForm.get("prefix").valid),s.Eb(6),s.rc("ngIf",e.primaryInfoForm.get("firstName")&&e.primaryInfoForm.get("firstName").touched&&!e.primaryInfoForm.get("firstName").valid),s.Eb(11),s.rc("ngIf",e.primaryInfoForm.get("lastName")&&e.primaryInfoForm.get("lastName").touched&&!e.primaryInfoForm.get("lastName").valid),s.Eb(6),s.rc("matDatepicker",a)("max",e.maxDate),s.Eb(2),s.rc("for",a),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("dateOfBirth")&&e.primaryInfoForm.get("dateOfBirth").touched&&!e.primaryInfoForm.get("dateOfBirth").valid),s.Eb(10),s.rc("ngForOf",e.arrayMaritalStatus),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("maritalStatus")&&e.primaryInfoForm.get("maritalStatus").touched&&!e.primaryInfoForm.get("maritalStatus").valid),s.Eb(8),s.rc("ngForOf",e.arrayGender),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("gender")&&e.primaryInfoForm.get("gender").touched&&!e.primaryInfoForm.get("gender").valid),s.Eb(1),s.rc("ngIf",e.prefixFlag),s.Eb(8),s.rc("ngForOf",e.nationalityArray),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("nationality")&&e.primaryInfoForm.get("nationality").touched&&!e.primaryInfoForm.get("nationality").valid),s.Eb(6),s.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").valid),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress")&&e.primaryInfoForm.get("primaryEmailAdress").touched&&!e.primaryInfoForm.get("primaryEmailAdress").valid),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").hasError("pattern")),s.Eb(6),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").valid),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").touched&&!e.primaryInfoForm.get("phoneNumber").valid&&!e.primaryInfoForm.get("phoneNumber").hasError("minlength")),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("required")&&e.primaryInfoForm.get("phoneNumber").touched),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("pattern")),s.Eb(1),s.rc("ngIf","0000000000"==e.primaryInfoForm.get("phoneNumber").value),s.Eb(2),s.rc("disabled",e.primaryInfoForm.invalid)}},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,I.f,E.a,C.a,v.r,v.i,v.y,S.n,c.m,c.n,X.b,x.b,v.c,A.e,A.g,I.j,A.d,Y.a,v.m,v.n,X.f,D.b,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}"]}),vr);function Wr(t,e){1&t&&(s.Xb(0,"h2",32),s.Tc(1,"Comminucation Address"),s.Wb())}function Xr(t,e){1&t&&(s.Xb(0,"h2"),s.Tc(1,"Permanent Address"),s.Wb())}function Tr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),s.Wb())}function Ir(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),s.Wb())}function Er(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function xr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Select Residence Type "),s.Wb())}function Cr(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ar(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Select Country "),s.Wb())}function Or(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName," ")}}function Dr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Please Select State "),s.Wb())}function Rr(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Sr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Please Select City "),s.Wb())}function kr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!(5-10 digits) "),s.Wb())}function Nr(t,e){1&t&&(s.Xb(0,"h5",35),s.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!"),s.Wb())}function Pr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",8),s.Rc(2,Wr,2,0,"h2",9),s.Rc(3,Xr,2,0,"h2",10),s.Xb(4,"div",11),s.Xb(5,"div",12),s.Xb(6,"mat-hint",13),s.Tc(7,"Address Line 1 *"),s.Wb(),s.Xb(8,"mat-card",14),s.Sb(9,"textarea",15),s.Wb(),s.Rc(10,Tr,2,0,"mat-error",16),s.Wb(),s.Xb(11,"div",12),s.Xb(12,"mat-hint",13),s.Tc(13,"Address Line 2 *"),s.Wb(),s.Xb(14,"mat-card",14),s.Sb(15,"textarea",17),s.Wb(),s.Rc(16,Ir,2,0,"mat-error",16),s.Wb(),s.Xb(17,"div",12),s.Xb(18,"mat-hint",13),s.Tc(19,"Residence Type *"),s.Wb(),s.Xb(20,"mat-card",14),s.Xb(21,"mat-select",18),s.Xb(22,"mat-option",19),s.Tc(23," Select"),s.Wb(),s.Rc(24,Er,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(25,xr,2,0,"mat-error",21),s.Wb(),s.Xb(26,"div",12),s.Xb(27,"mat-hint",13),s.Tc(28,"Country *"),s.Wb(),s.Xb(29,"mat-card",14),s.Xb(30,"mat-select",22,23),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().getStateName(t.value,"Communication")})("selectionChange",function(t){return s.Hc(a),s.jc().getCityName(t.value)}),s.Xb(32,"mat-option",19),s.Tc(33," Select"),s.Wb(),s.Rc(34,Cr,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(35,Ar,2,0,"mat-error",24),s.Wb(),s.Xb(36,"div",12),s.Xb(37,"mat-hint",13),s.Tc(38,"State*"),s.Wb(),s.Xb(39,"mat-card",14),s.Xb(40,"mat-select",25,26),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().getCityName(t.value,"Communication")}),s.Xb(42,"mat-option",19),s.Tc(43,"Select "),s.Wb(),s.Rc(44,Or,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(45,Dr,2,0,"mat-error",16),s.Wb(),s.Xb(46,"div",12),s.Xb(47,"mat-hint",13),s.Tc(48,"City*"),s.Wb(),s.Xb(49,"mat-card",14),s.Xb(50,"mat-select",27,28),s.Xb(52,"mat-option",19),s.Tc(53,"Select "),s.Wb(),s.Rc(54,Rr,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(55,Sr,2,0,"mat-error",16),s.Wb(),s.Xb(56,"div",12),s.Xb(57,"mat-hint",13),s.Tc(58,"Zip Code*"),s.Wb(),s.Xb(59,"mat-card",14),s.Xb(60,"input",29,30),s.fc("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().isAllSameDigit(t,n)}),s.Wb(),s.Wb(),s.Rc(62,kr,2,0,"mat-error",24),s.Rc(63,Nr,2,0,"h5",31),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc();s.Eb(1),s.rc("formGroupName",o),s.Eb(1),s.rc("ngIf",0==o),s.Eb(1),s.rc("ngIf",o>0),s.Eb(7),s.rc("ngIf",n.controls.address1&&n.controls.address1.touched&&!n.controls.address1.valid||n.controls.address1.touched&&n.controls.address1.hasError("pattern")),s.Eb(6),s.rc("ngIf",n.controls.address2&&n.controls.address2.touched&&!n.controls.address2.valid||n.controls.address2.touched&&n.controls.address2.hasError("pattern")),s.Eb(8),s.rc("ngForOf",i.arrayResidence),s.Eb(1),s.rc("ngIf",n.controls.residenceType&&n.controls.residenceType.touched&&!n.controls.residenceType.valid),s.Eb(9),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.controls.country&&n.controls.country.touched&&!n.controls.country.valid),s.Eb(9),s.rc("ngForOf",i.arrayState),s.Eb(1),s.rc("ngIf",n.controls.state&&n.controls.state.touched&&!n.controls.state.valid),s.Eb(9),s.rc("ngForOf",i.arrayCity),s.Eb(1),s.rc("ngIf",n.controls.city&&n.controls.city.touched&&!n.controls.city.valid),s.Eb(7),s.rc("ngIf",n.controls.zipCode&&n.controls.zipCode.touched&&!n.controls.zipCode.valid),s.Eb(1),s.rc("ngIf",i.isAllSameDigitVal&&o==i.zipCodeIndex)}}var Fr,Lr,_r=((Fr=function(){function t(e,a,o,i,r,c,l){n(this,t),this.dialogRef=e,this.contactInfo=a,this.formBuilder=o,this.ls=i,this.apiService=r,this.snack=c,this.cdr=l,this.userAddress_array=new v.d([]),this.arrayCity=[],this.arrayState=[],this.arrayCityPerm=[],this.arrayStatePerm=[],this.arrayCountryPerm=[],this.arrayCountry=[]}return i(t,[{key:"ngOnInit",value:function(){if(console.log(this.contactInfo),this.customerId=this.ls.getItem("customerId"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.contactInfo){this.buildContactInfoForm(),this.userAddress_array=this.contactInfoUpdateForm.get("userAddress_array");for(var t=0;t<this.contactInfo.length;t++)this.getStateName(this.contactInfo[t].country,this.contactInfo[t].addressType),this.getCityName(),this.userAddress_array.push(this.createUserAddress(this.contactInfo[t]))}else this.buildContactInfoForm(),this.userAddress_array.push(this.createUserAddress())}},{key:"buildContactInfoForm",value:function(){this.contactInfoUpdateForm=this.formBuilder.group({userAddress_array:this.formBuilder.array([])})}},{key:"createUserAddress",value:function(t){return this.formBuilder.group({addressType:["Communication",[v.z.required]],address1:[t?t.address1:[""],[v.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[v.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&(e.arrayCountry.push(t[a].countryName),e.arrayCountryPerm.push(t[a].countryName))})}},{key:"getStateName",value:function(t,e){var a=this;this.apiService.getAllCountries().subscribe(function(n){for(var o=0;o<n.length;o++)if(n[o].countryName==t){a.apiService.getStateByCountryId(n[o].id).subscribe(function(t){"Communication"===e?a.arrayState=t:"Permanent"===e&&(a.arrayStatePerm=t)});break}})}},{key:"getCityName",value:function(){var t=this;this.apiService.getAuthorizedCityInfo().subscribe(function(e){return e.map(function(e){t.arrayCity.push(e.cityName)})})}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.userAddress=this.userAddress_array.value,e.userAddress&&2==e.userAddress.length&&(e.userAddress[1].addressType="Permanent"),this.apiService.insertNewUserOnboarding(e).subscribe(function(a){t.dialogRef.close({status:"INITIATED",resp:e.userAddress})},function(e){t.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"isAllSameDigit",value:function(t,e){console.log("zipIndex :: ",e),this.zipCodeIndex=e,this.cdr.detectChanges();var a=0,n=t.target.value;if(""!=n){for(var o=0;o<n.length;o++)0==n[o]&&a++;console.log("number :: ",n),console.log("isAllSameDigitVal :: ",a,n.length),a==n.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Fr)(s.Rb(p.g),s.Rb(p.a),s.Rb(v.f),s.Rb(m.a),s.Rb(b.b),s.Rb(W.a),s.Rb(s.h))},Fr.\u0275cmp=s.Lb({type:Fr,selectors:[["app-update-contact-info"]],decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["formArrayName","userAddress_array","fxLayout","row wrap",1,"full-width"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row wrap",1,"full-width",3,"formGroupName"],["style","font-size: 18px;",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","address1","formControlName","address1","maxlength","255","required",""],["style","color: errorColor;",4,"ngIf"],["matInput","","name","address2","formControlName","address2","maxlength","255","required",""],["name","residenceType","formControlName","residenceType","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","color: errorColor",4,"ngIf"],["name","country","formControlName","country","required","",3,"selectionChange"],["country",""],["style","color: errorColor; ",4,"ngIf"],["name","state","required","","formControlName","state",1,"full-width","default-background",3,"selectionChange"],["state",""],["name","city","required","","formControlName","city",1,"full-width","default-background"],["city",""],["type","text","matInput","","name","zipCode","onlyNumber","","required","","minlength","5","maxlength","10","formControlName","zipCode",1,"full-width","default-background",3,"keyup"],["zipCode",""],["style","color: #E74C3C;",4,"ngIf"],[2,"font-size","18px"],[2,"color","errorColor"],[3,"value"],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1"),s.Tc(4,"Contact Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",2),s.Xb(7,"div",3),s.Rc(8,Pr,64,15,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",5),s.Xb(10,"button",6),s.fc("click",function(){return e.onSubmit()}),s.Tc(11,"Save"),s.Wb(),s.Tc(12," \xa0\xa0\xa0 "),s.Xb(13,"button",7),s.fc("click",function(){return e.close()}),s.Tc(14," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.contactInfoUpdateForm),s.Eb(2),s.rc("ngForOf",e.contactInfoUpdateForm.get("userAddress_array").controls),s.Eb(2),s.rc("disabled",e.contactInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.e,v.A,v.s,v.j,v.e,c.m,X.f,D.b,v.k,c.n,X.b,I.f,E.a,x.b,v.c,v.r,v.i,v.m,v.y,C.a,S.n,Y.a,v.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Fr),wr=r("ZbbW"),Ur=r("35u7"),Mr=((Lr=function(){function t(e,a,o,i,r){n(this,t),this.ls=e,this.data=a,this.formBuilder=o,this.dialogRef=i,this.doOcrService=r,this.screenInfo={screenName:"onboarding",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"onboarding",data:this.data,customerId:this.customerId,isEdit:!0},this.doOcrService.getenableNext().subscribe(function(e){console.log("data disableNextAtIndex1 :: ",e),t.disableNextAtIndex1=e})}},{key:"createDocItemOthers",value:function(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Lr)(s.Rb(m.a),s.Rb(p.a),s.Rb(v.f),s.Rb(p.g),s.Rb(wr.a))},Lr.\u0275cmp=s.Lb({type:Lr,selectors:[["app-update-proof-of-identity"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h3",2),s.Tc(4,"Proof Of Identity"),s.Wb(),s.Xb(5,"mat-card"),s.Sb(6,"app-genric-document-upload",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("screenInfo",e.screenInfo),s.Eb(2),s.rc("disabled",e.disableNextAtIndex1))},directives:[X.e,X.d,T.a,E.a,Ur.a,X.f,D.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Lr);function Gr(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Vr(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Select Employment Type "),s.Wb())}function jr(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Br(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Select Employment Name "),s.Wb())}function zr(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Enter the Employer Name "),s.Wb())}function qr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",4),s.Xb(1,"mat-hint",5),s.Tc(2," Other Employer Name*"),s.Wb(),s.Xb(3,"mat-card",6),s.Xb(4,"input",20),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(5,zr,2,0,"mat-error",10),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("ngIf",n.additionalInfoUpdateForm.controls.otherEmployerName&&n.additionalInfoUpdateForm.controls.otherEmployerName.touched&&!n.additionalInfoUpdateForm.controls.otherEmployerName.valid)}}function Kr(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var Jr,Hr=((Jr=function(){function t(e,a,o,i,r){n(this,t),this.additionalInfo=e,this.dialogRef=a,this.formBuilder=o,this.apiService=i,this.ls=r,this.kycList=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED","VERIFIED"]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.additionalInfo),this.customerId=this.ls.getItem("customerId"),this.getEmploymentType("employment_type"),this.getEmployerName("employer_name"),this.additionalInfo?(this.buildAdditionalInfoForm(this.additionalInfo),this.OnInput(this.additionalInfoUpdateForm.get("salary").value)):this.buildAdditionalInfoForm()}},{key:"buildAdditionalInfoForm",value:function(t){this.additionalInfoUpdateForm=this.formBuilder.group({employmentType:[t?t.employmentType:"",[v.z.required]],employerName:[t?t.employerName:"",[v.z.required]],otherEmployerName:[t?t.otherEmployerName:""],salary:[t?t.salary:"",[v.z.required]],kycReference:[t?t.kycReference:"",[v.z.required]],kycStatus:[t?t.kycStatus:"",[v.z.required]]})}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t,console.log(e.arrayEmploymentType)})}},{key:"getEmployerName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmployerName=t})}},{key:"OnInput",value:function(t){var e=t.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=e.join(".");console.log("final",a),this.additionalInfoUpdateForm.controls.salary.setValue(a)}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.customerAdditionalInfo=this.additionalInfoUpdateForm.value,e.customerAdditionalInfo.salary=e.customerAdditionalInfo.salary.replaceAll(",",""),this.apiService.insertNewUserOnboarding(e).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.additionalInfoUpdateForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Jr)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(b.b),s.Rb(m.a))},Jr.\u0275cmp=s.Lb({type:Jr,selectors:[["app-update-additional-info"]],decls:57,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],[2,"font-size","18px"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","employmentType","required","","formControlName","employmentType"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employerName","formControlName","employerName","required",""],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["type","text","formControlName","salary","maxLength","14","required","","matInput","","name","salary",3,"keypress","keyup"],["readonly","true","type","text","formControlName","kycReference","matInput","","name","kycReference","maxLength","4"],["formControlName","kycStatus","read",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["required","","type","text","matInput","","formControlName","otherEmployerName",3,"keypress"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1"),s.Tc(4,"Additional Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",2),s.Xb(7,"div"),s.Xb(8,"h3",3),s.Tc(9,"Employment Information"),s.Wb(),s.Xb(10,"div"),s.Xb(11,"div",4),s.Xb(12,"mat-hint",5),s.Tc(13,"Employment Type*"),s.Wb(),s.Xb(14,"mat-card",6),s.Xb(15,"mat-select",7),s.Xb(16,"mat-option",8),s.Tc(17,"Select"),s.Wb(),s.Rc(18,Gr,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Rc(19,Vr,2,0,"mat-error",10),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-hint",5),s.Tc(22,"Employer Name*"),s.Wb(),s.Xb(23,"mat-card",6),s.Xb(24,"mat-select",11),s.Xb(25,"mat-option",8),s.Tc(26,"Select"),s.Wb(),s.Rc(27,jr,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Rc(28,Br,2,0,"mat-error",10),s.Wb(),s.Rc(29,qr,6,1,"div",12),s.Xb(30,"div",4),s.Xb(31,"mat-hint",5),s.Tc(32,"Salary*"),s.Wb(),s.Xb(33,"mat-card",6),s.Xb(34,"input",13),s.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.OnInput(t.target.value)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"h3",3),s.Tc(36,"KYC Information"),s.Wb(),s.Xb(37,"div"),s.Xb(38,"div",4),s.Xb(39,"mat-hint",5),s.Tc(40,"KYC Reference"),s.Wb(),s.Xb(41,"mat-card",6),s.Sb(42,"input",14),s.Wb(),s.Wb(),s.Xb(43,"div",4),s.Xb(44,"mat-hint",5),s.Tc(45,"KYC Status"),s.Wb(),s.Xb(46,"mat-card",6),s.Xb(47,"mat-select",15),s.Xb(48,"mat-option",8),s.Tc(49,"Select "),s.Wb(),s.Rc(50,Kr,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",16),s.Xb(52,"button",17),s.fc("click",function(){return e.onSubmit()}),s.Tc(53,"Save"),s.Wb(),s.Tc(54,"\n\xa0\xa0\xa0\n"),s.Xb(55,"button",18),s.fc("click",function(){return e.close()}),s.Tc(56,"\nCancel\n"),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.additionalInfoUpdateForm),s.Eb(12),s.rc("ngForOf",e.arrayEmploymentType),s.Eb(1),s.rc("ngIf",e.additionalInfoUpdateForm.controls.employmentType&&e.additionalInfoUpdateForm.controls.employmentType.touched&&!e.additionalInfoUpdateForm.controls.employmentType.valid),s.Eb(8),s.rc("ngForOf",e.arrayEmployerName),s.Eb(1),s.rc("ngIf",e.additionalInfoUpdateForm.controls.employerName&&e.additionalInfoUpdateForm.controls.employerName.touched&&!e.additionalInfoUpdateForm.controls.employerName.valid),s.Eb(1),s.rc("ngIf","Others"==(null==e.additionalInfoUpdateForm.controls.employerName?null:e.additionalInfoUpdateForm.controls.employerName.value)),s.Eb(21),s.rc("ngForOf",e.kycList),s.Eb(2),s.rc("disabled",e.additionalInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.e,v.A,v.s,v.j,X.b,I.f,E.a,C.a,v.y,v.r,v.i,S.n,c.m,c.n,v.c,x.b,X.f,D.b,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Jr),$r=r("IheW"),Yr=r("zdtB"),Zr=r("JVXa");function Qr(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function tc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Enter No of Signatures "),s.Wb())}function ec(t,e){1&t&&(s.Xb(0,"div"),s.Sb(1,"img",31),s.Wb()),2&t&&(s.Eb(1),s.rc("src","assets/images/no-image.jpg",s.Jc))}function ac(t,e){if(1&t&&s.Sb(0,"img",32),2&t){var a=s.jc().$implicit;s.rc("src",a.value.imageURL1,s.Jc)}}function nc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",19),s.Xb(2,"div",20),s.Xb(3,"div",6),s.Xb(4,"div",21),s.Xb(5,"div"),s.Xb(6,"div",22),s.Xb(7,"div"),s.Xb(8,"button",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().openPopUp(t.value,n)}),s.Tc(9,"Digital Sign"),s.Wb(),s.Xb(10,"button",24),s.Tc(11," Upload "),s.Xb(12,"input",25),s.fc("change",function(t){s.Hc(a);var n=e.$implicit,o=e.index;return s.jc().onFileSelect(n.value,t,o)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",26),s.Rc(14,ec,2,1,"div",27),s.Rc(15,ac,1,1,"ng-template",null,28,s.Sc),s.Wb(),s.Xb(17,"button",29),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().deleteSignature(t.value,n,"delete")}),s.Xb(18,"mat-icon",30),s.Tc(19," delete "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.index,o=s.Dc(16),i=s.jc();s.Eb(1),s.rc("formGroupName",n),s.Eb(13),s.rc("ngIf","not_available"==i.imageURL1)("ngIfElse",o)}}var oc,ic=((oc=function(){function t(e,a,o,i,r,c,l,s,b,u){n(this,t),this.dialogRef=e,this.formBuilder=a,this.signatures=o,this.apiService=i,this.corporateService=r,this.ls=c,this.dialog=l,this.dialogService=s,this.snack=b,this.cdr=u,this.values=[1,2,3,4,5],this.listOfSignatures=[],this.progressValOthers=0,this.deleteRecord=[]}return i(t,[{key:"ngOnInit",value:function(){if(this.ls.getItem("corporateId"),this.signatures){this.buildSignatureForm(),this.noOfSignSelect=this.signatures.length,this.signatureUpdateForm.get("noOfSignatures").setValue(this.signatures.length);for(var t=0;t<this.signatures.length;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(this.signatures[t]))}}},{key:"buildSignatureForm",value:function(t){this.signatureUpdateForm=this.formBuilder.group({noOfSignatures:[t?t.noOfSignatures:"",[v.z.required]],sign_array:this.formBuilder.array([])})}},{key:"createSignatureBoxes",value:function(t){return this.formBuilder.group({accountSignatureId:t?t.accountSignatureId:0,imageURL1:[t?t.fileUrl:"assets/images/no-image.jpg",v.z.required],documentName:t?t.documentName:"Signature",documentType:t?t.documentType:"",fileType:t.fileType,fileName:t.fileName,verificationType:t?t.verificationType:"New Customer Signature"})}},{key:"getSignArray",get:function(){return this.signatureUpdateForm.get("sign_array")}},{key:"changeValue",value:function(t){var e=this;if(this.noOfSignSelect=t.value,this.enableButton=!1,null==this.signatureUpdateForm.get("sign_array")||null==this.getSignArray)if(0!=this.signatureUpdateForm.get("sign_array").length){if(this.noOfSignSelect>this.signatureUpdateForm.get("sign_array").length)for(var a=this.noOfSignSelect-this.signatureUpdateForm.get("sign_array").length,n=0;n<a;n++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(this.noOfSignSelect<this.signatureUpdateForm.get("sign_array").length){a=this.signatureUpdateForm.get("sign_array").length-this.noOfSignSelect;for(var o=0;o<a;o++)this.signatureUpdateForm.get("sign_array").controls.pop()}}else for(var i=0;i<t.value;i++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(0==this.getSignArray.length)for(var r=0;r<t.value;r++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(t.value<this.getSignArray.length)this.dialogService.doConfirmDialog("Are you sure, value is less than no. of signs?").subscribe(function(a){if("Yes"===a)for(var n=e.getSignArray.length;n>=t.value;n--)e.removeSign(n),n>t.value&&e.deleteSignature(e.signatureUpdateForm.get("sign_array").at(n-1).value,n,"noOfSignChange",t.value)});else if(t.value>this.getSignArray.length){console.log("2nd if",t.value),this.difference=t.value-this.getSignArray.length;for(var c=0;c<this.difference;c++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}}},{key:"removeSign",value:function(t){this.signatureUpdateForm.get("sign_array").removeAt(t)}},{key:"deleteSignature",value:function(t,e,a,n){var o=this;"delete"===a?this.dialogService.doConfirmDialog("").subscribe(function(n){"Yes"===n?(console.log("yes => ",n),o.confirmDelete(t,e,a,o.signatureUpdateForm.controls.noOfSignatures.value-1)):console.log("no => ",n)}):this.confirmDelete(t,e,a,this.signatureUpdateForm.controls.noOfSignatures.value-1)}},{key:"confirmDelete",value:function(t,e,a,n){var o=this;this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(a){if(console.log(a),o.listOfSignatures=a||[],o.deleteRecord=a,o.apiService.getSignData().subscribe(function(t){o.signatureUpdateForm.get("sign_array").controls[e].accountSignatureId=t.uploadModel.accountSignatureId}),t.imageURL1.toString().includes("no-image.jpg"))return o.signatureUpdateForm.get("sign_array").controls.splice(e,1),o.signatureUpdateForm.controls.noOfSignatures.setValue(o.signatureUpdateForm.controls.noOfSignatures.value-1),o.noOfSignSelect=o.signatureUpdateForm.controls.noOfSignatures.value,void(o.enableButton=o.sign_array.length==o.signatureUpdateForm.controls.noOfSignatures.value);0!=o.deleteRecord[e].accountSignatureId&&null!=o.deleteRecord[e].accountSignatureId&&null!=o.deleteRecord[e].accountSignatureId&&""!=o.deleteRecord[e].accountSignatureId&&(o.apiService.deleteCustomerSign(o.deleteRecord[e].accountSignatureId).subscribe(function(t){},function(t){o.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(t){o.listOfSignatures=t||[],o.sign_array=t,o.enableButton=o.sign_array.length==o.signatureUpdateForm.controls.noOfSignatures.value&&(0!==o.listOfSignatures.length||0!==o.signatureUpdateForm.controls.noOfSignatures.value)})}),o.signatureUpdateForm.get("sign_array").controls.splice(e,1),o.signatureUpdateForm.controls.noOfSignatures.setValue(o.signatureUpdateForm.controls.noOfSignatures.value-1),o.noOfSignSelect=o.signatureUpdateForm.controls.noOfSignatures.value)})}},{key:"openPopUp",value:function(t,e,a){var n,o=this;this.signIndex=e,this.customerId=localStorage.getItem("customerId"),this.signCount=localStorage.getItem("noOfSign"),this.accountSignatureId=t.accountSignatureId?t.accountSignatureId:null,this.enableButton=!1,1==this.listOfSignatures.length&&0==e?this.accountSignatureId=this.listOfSignatures[e].accountSignatureId:e>=0&&this.listOfSignatures.length>1?this.accountSignatureId=(null===(n=this.listOfSignatures[e])||void 0===n?void 0:n.accountSignatureId)?this.listOfSignatures[e].accountSignatureId:0:(console.log("else"),this.accountSignatureId=0),this.show||this.dialog.open(Yr.a,{width:"720px",disableClose:!0,data:{screen:"NewCustomerOnboarding",customerId:this.customerId,signCount:this.signatureUpdateForm.get("noOfSignatures").value,accountSignatureId:this.accountSignatureId,signatureType:"DigitalSign"}}).afterClosed().subscribe(function(t){null!=t.image?(o.enableButton=!0,o.signatureUpdateForm.get("sign_array").at(e).get("imageURL1").patchValue(t.image),o.show=!t.enable,o.getListOfSignatures(o.customerId,"Yes")):o.enableButton=!1})}},{key:"getListOfSignatures",value:function(t,e){var a=this;this.apiService.fetchSignatureInfo(t).subscribe(function(t){"Yes"===e&&(a.signatureUpdateForm.get("sign_array").controls[a.signIndex].accountSignatureId=t[t.length-1].accountSignatureId),a.listOfSignatures=t||[],a.cdr.detectChanges(),a.signatureUpdateForm.get("noOfSignatures").setValue(a.noOfSignSelect),a.enableButton=a.listOfSignatures.length==a.noOfSignSelect})}},{key:"onFileSelect",value:function(t,e,a){var n=this;if(this.apiService.fetchSignatureInfo(this.customerId).subscribe(function(t){}),this.selectedFiles=e.target.files[0],e.target.files){var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=function(t){n.signatureimg=t.target.result,console.log(n.signatureimg,"Upload image")},console.log(this.signatureimg),this.uploadDoc(t,e.target.files[0],this.selectedFiles,a,e),console.log("sign array -- ",this.signatureUpdateForm.get("sign_array"))}}},{key:"uploadDoc",value:function(t,e,a,n,o){var i=this;if(o.target.files){var r=new FileReader;r.readAsDataURL(o.target.files[0]),r.onload=function(t){i.signatureimg=t.target.result,i.customerId=localStorage.getItem("customerId"),i.signCount=i.signatureUpdateForm.get("noOfSignatures").value;var o=new FormData,r=new FormData;1==i.listOfSignatures.length&&0==n?(console.log("if"),i.accountSignatureId=i.listOfSignatures[n].accountSignatureId):n>=0&&1!=i.listOfSignatures.length?(console.log(" else if"),i.accountSignatureId=i.listOfSignatures[n].accountSignatureId):(console.log("else"),i.accountSignatureId=0);var c={noOfSignatures:i.signCount,accountSignatureId:i.accountSignatureId,documentName:"Signature",customerId:i.customerId,documentType:"10",fileType:e.type,fileName:e.name,verificationType:"New Customer Signature",signatureType:"Uploaded Sign"};o.append("noOfSignatures",i.signCount),o.append("uploadModel",JSON.stringify(c)),o.append("file",a);var l='{"noOfSignatures":'+i.signCount+', "uploadModel":'+JSON.stringify(c)+" } ";r.append("data",l),r.append("file",a),i.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(i.signatureimg),i.uploadSub=i.apiService.uploadSignature(r).subscribe(function(t){null!==t&&(i.signatureUpdateForm.get("sign_array").at(n).get("accountSignatureId").patchValue(t.accountSignatureId),i.signatureUpdateForm.get("sign_array").at(n).get("documentName").patchValue(t.documentName),i.signatureUpdateForm.get("sign_array").at(n).get("documentType").patchValue(t.documentType),i.signatureUpdateForm.get("sign_array").at(n).get("fileType").patchValue(t.fileType),i.signatureUpdateForm.get("sign_array").at(n).get("fileName").patchValue(t.fileName),i.signatureUpdateForm.get("sign_array").at(n).get("verificationType").patchValue(t.verificationType),i.signatureUpdateForm.get("noOfSignatures").patchValue(t.noOfSignatures),console.log(i.signatureUpdateForm)),i.getListOfSignatures(i.customerId,"No"),t.type==$r.e.UploadProgress?i.progressValOthers=Math.round(t.loaded/t.total*100):t.type==$r.e.Response&&(i.progressValOthers=0)},function(t){201==t.status?i.shotToast("Document Uploaded!"):(i.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(""),i.shotToast(t.message))})}}}},{key:"onSubmit",value:function(){this.snack.open("Signature Updated","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.signatureUpdateForm.get("sign_array").value,screen:"signatureUpload"})}},{key:"shotToast",value:function(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||oc)(s.Rb(p.g),s.Rb(v.f),s.Rb(p.a),s.Rb(b.b),s.Rb(Zr.a),s.Rb(m.a),s.Rb(p.b),s.Rb(Ei.a),s.Rb(W.a),s.Rb(s.h))},oc.\u0275cmp=s.Lb({type:oc,selectors:[["app-update-mandate-info"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[2,"font-size","16px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","36%","fxFlex.xs","100%"],[2,"padding-left","0.8rem","font-size","10px"],[1,"inputCard"],["name","noOfSignatures","formControlName","noOfSignatures","placeholder","Choose No. of Signatures","required","",1,"full-width","default-background",2,"font-size","16px","border","transparent",3,"selectionChange"],["noOfSignatures",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","sign_array"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],[1,"form"],[1,"flex-grow-2"],["appearence","outline",1,"scanButton",3,"click"],[1,"Upload","scanButton"],["type","file","accept","image/*","required","",1,"changeInput",3,"change"],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","",2,"margin-left","10px","margin-top","30px",3,"click"],[2,"color","red"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Mandate Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"h3",3),s.Tc(7," Signatures "),s.Wb(),s.Xb(8,"form",4),s.Xb(9,"div",5),s.Xb(10,"div",6),s.Xb(11,"mat-hint",7),s.Tc(12," No. of Signatures* "),s.Wb(),s.Xb(13,"mat-card",8),s.Xb(14,"mat-select",9,10),s.fc("selectionChange",function(t){return e.changeValue(t)}),s.Rc(16,Qr,2,2,"mat-option",11),s.Wb(),s.Wb(),s.Rc(17,tc,2,0,"mat-error",12),s.Wb(),s.Wb(),s.Xb(18,"div",13),s.Rc(19,nc,20,3,"div",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",15),s.Xb(21,"button",16),s.fc("click",function(){return e.onSubmit()}),s.Tc(22,"Save"),s.Wb(),s.Tc(23," \xa0\xa0\xa0 "),s.Xb(24,"button",17),s.fc("click",function(){return e.close()}),s.Tc(25," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(8),s.rc("formGroup",e.signatureUpdateForm),s.Eb(8),s.rc("ngForOf",e.values),s.Eb(1),s.rc("ngIf",e.signatureUpdateForm.controls.noOfSignatures&&e.signatureUpdateForm.controls.noOfSignatures.touched&&!e.signatureUpdateForm.controls.noOfSignatures.valid),s.Eb(2),s.rc("ngForOf",e.signatureUpdateForm.get("sign_array").controls))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,C.a,v.r,v.i,v.y,c.m,c.n,v.e,X.f,D.b,S.n,I.b,v.k],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}.padding[_ngcontent-%COMP%]{padding:10px}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.formImg[_ngcontent-%COMP%]{background-color:#f8f8f8}.closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),oc),rc=["ncForm"];function cc(t,e){1&t&&s.Sb(0,"mat-spinner")}function lc(t,e){if(1&t&&(s.Xb(0,"span",27),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function sc(t,e){if(1&t&&(s.Xb(0,"div",28),s.Xb(1,"h1",29),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.dataResponse.dataResp.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.dataResponse.dataResp.lastName),0,1),"")}}function bc(t,e){if(1&t&&s.Sb(0,"img",31),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function uc(t,e){if(1&t&&(s.Xb(0,"div",28),s.Rc(1,bc,1,1,"img",30),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf",null!=a.image)}}function dc(t,e){if(1&t&&(s.Xb(0,"div",53),s.Xb(1,"mat-hint",51),s.Tc(2," Middle Name "),s.Wb(),s.Xb(3,"mat-card",52),s.Xb(4,"div"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(5),s.Uc(a.dataResponse.dataResp.middleName)}}function mc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",32),s.Xb(1,"div",33),s.Xb(2,"div",34),s.Tc(3,"1"),s.Wb(),s.Xb(4,"div",35),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",36),s.Xb(7,"div",37),s.Xb(8,"div",38),s.Xb(9,"div",39),s.Xb(10,"h2",40),s.Tc(11,"Primary Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",41),s.fc("click",function(){return s.Hc(a),s.jc().editPrimaryInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",42),s.Wb(),s.Xb(16,"div",43),s.Xb(17,"div",44),s.Xb(18,"div",45),s.Xb(19,"div",46),s.Xb(20,"div",47),s.Xb(21,"div",48),s.Xb(22,"div",49),s.Xb(23,"div",50),s.Xb(24,"mat-hint",51),s.Tc(25," Customer Id "),s.Wb(),s.Xb(26,"mat-card",52),s.Xb(27,"div"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",50),s.Xb(30,"mat-hint",51),s.Tc(31," Customer Status "),s.Wb(),s.Xb(32,"mat-card",52),s.Xb(33,"div"),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",50),s.Xb(36,"mat-hint",51),s.Tc(37," CIF Number "),s.Wb(),s.Xb(38,"mat-card",52),s.Xb(39,"div"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",49),s.Xb(42,"div",53),s.Xb(43,"mat-hint",51),s.Tc(44," Prefix* "),s.Wb(),s.Xb(45,"mat-card",52),s.Xb(46,"div"),s.Tc(47),s.Wb(),s.Wb(),s.Wb(),s.Xb(48,"div",53),s.Xb(49,"mat-hint",51),s.Tc(50," First Name* "),s.Wb(),s.Xb(51,"mat-card",52),s.Xb(52,"div"),s.Tc(53),s.Wb(),s.Wb(),s.Wb(),s.Rc(54,dc,6,1,"div",54),s.Xb(55,"div",53),s.Xb(56,"mat-hint",51),s.Tc(57," Last Name* "),s.Wb(),s.Xb(58,"mat-card",52),s.Xb(59,"div"),s.Tc(60),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(61,"div",49),s.Xb(62,"div",53),s.Xb(63,"mat-hint",51),s.Tc(64," Gender* "),s.Wb(),s.Xb(65,"mat-card",52),s.Xb(66,"div"),s.Tc(67),s.Wb(),s.Wb(),s.Wb(),s.Xb(68,"div",53),s.Xb(69,"mat-hint",51),s.Tc(70," Date of Birth* "),s.Wb(),s.Xb(71,"mat-card",52),s.Xb(72,"div"),s.Tc(73),s.Wb(),s.Wb(),s.Wb(),s.Xb(74,"div",53),s.Xb(75,"mat-hint",51),s.Tc(76," Marital Status* "),s.Wb(),s.Xb(77,"mat-card",52),s.Xb(78,"div"),s.Tc(79),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(80,"div",43),s.Xb(81,"div",53),s.Xb(82,"mat-hint",51),s.Tc(83," Nationality*"),s.Wb(),s.Xb(84,"mat-card",52),s.Xb(85,"div"),s.Tc(86),s.Wb(),s.Wb(),s.Wb(),s.Xb(87,"div",53),s.Xb(88,"mat-hint",51),s.Tc(89," Mobile Number* "),s.Wb(),s.Xb(90,"mat-card",52),s.Xb(91,"div"),s.Tc(92),s.Wb(),s.Wb(),s.Wb(),s.Xb(93,"div",53),s.Xb(94,"mat-hint",51),s.Tc(95," Email* "),s.Wb(),s.Xb(96,"mat-card",52),s.Xb(97,"div"),s.Tc(98),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(99,"div",43),s.Xb(100,"div",53),s.Xb(101,"mat-hint",51),s.Tc(102," Modification No"),s.Wb(),s.Xb(103,"mat-card",52),s.Xb(104,"div"),s.Tc(105),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(15),s.Uc(n.dataResponse.dataResp.customerId),s.Eb(6),s.Uc(n.dataResponse.dataResp.custStatus),s.Eb(6),s.Uc(n.dataResponse.dataResp.cifNumber),s.Eb(7),s.Uc(n.dataResponse.dataResp.prefix),s.Eb(6),s.Uc(n.dataResponse.dataResp.firstName),s.Eb(1),s.rc("ngIf",n.dataResponse.dataResp.middleName),s.Eb(6),s.Uc(n.dataResponse.dataResp.lastName),s.Eb(7),s.Uc(n.dataResponse.dataResp.gender),s.Eb(6),s.Uc(n.dataResponse.dataResp.dateOfBirth),s.Eb(6),s.Uc(n.dataResponse.dataResp.maritalStatus),s.Eb(7),s.Uc(n.dataResponse.dataResp.nationality),s.Eb(6),s.Uc(n.dataResponse.dataResp.phoneNumber),s.Eb(6),s.Vc("",n.dataResponse.dataResp.primaryEmailAdress," "),s.Eb(7),s.Uc(n.dataResponse.dataResp.modificationNo)}}function pc(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",43),s.Xb(2,"div",44),s.Xb(3,"div",59),s.Xb(4,"div",43),s.Xb(5,"div",60),s.Xb(6,"h2",61),s.Tc(7),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",43),s.Xb(9,"div",62),s.Xb(10,"mat-hint",51),s.Tc(11," Address Line 1* "),s.Wb(),s.Xb(12,"mat-card",52),s.Xb(13,"div"),s.Tc(14),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",62),s.Xb(16,"mat-hint",51),s.Tc(17," Address Line 2* "),s.Wb(),s.Xb(18,"mat-card",52),s.Xb(19,"div"),s.Tc(20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",43),s.Xb(22,"div",63),s.Xb(23,"mat-hint",51),s.Tc(24," Country* "),s.Wb(),s.Xb(25,"mat-card",52),s.Xb(26,"div"),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div",63),s.Xb(29,"mat-hint",51),s.Tc(30," State* "),s.Wb(),s.Xb(31,"mat-card",52),s.Xb(32,"div"),s.Tc(33),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",63),s.Xb(35,"mat-hint",51),s.Tc(36," City* "),s.Wb(),s.Xb(37,"mat-card",52),s.Xb(38,"div"),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Xb(40,"div",63),s.Xb(41,"mat-hint",51),s.Tc(42," Zipcode* "),s.Wb(),s.Xb(43,"mat-card",52),s.Xb(44,"div"),s.Tc(45),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",63),s.Xb(47,"mat-hint",51),s.Tc(48," Residence Type* "),s.Wb(),s.Xb(49,"mat-card",52),s.Xb(50,"div"),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(7),s.Uc(a.addressType),s.Eb(7),s.Uc(a.address1),s.Eb(6),s.Uc(a.address2),s.Eb(7),s.Uc(a.country),s.Eb(6),s.Uc(a.state),s.Eb(6),s.Uc(a.city),s.Eb(6),s.Uc(a.zipCode),s.Eb(6),s.Uc(a.residenceType)}}function fc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",32),s.Xb(1,"div",33),s.Xb(2,"div",34),s.Tc(3,"2"),s.Wb(),s.Xb(4,"div",35),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",55),s.Xb(7,"div",37),s.Xb(8,"div",56),s.Xb(9,"div",57),s.Xb(10,"div",39),s.Xb(11,"h2",40),s.Tc(12,"Contact Information"),s.Wb(),s.Xb(13,"span"),s.Xb(14,"mat-icon",41),s.fc("click",function(){return s.Hc(a),s.jc().editContactInfo()}),s.Tc(15,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(16,"mat-divider",42),s.Wb(),s.Rc(17,pc,52,8,"div",58),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(14),s.rc("hidden",n.editScreen),s.Eb(3),s.rc("ngForOf",n.userAddress_array)}}function hc(t,e){1&t&&(s.Xb(0,"small",67),s.Tc(1,"No Data Found"),s.Wb())}function gc(t,e){if(1&t&&(s.Xb(0,"div",46),s.Xb(1,"div",53),s.Xb(2,"mat-hint",51),s.Tc(3," Document type* "),s.Wb(),s.Xb(4,"mat-card",52),s.Xb(5,"div"),s.Tc(6),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",53),s.Xb(8,"div",69),s.Sb(9,"img",70),s.Xb(10,"div"),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",53),s.Xb(13,"div",71),s.Xb(14,"a",72),s.Tc(15,"Download "),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(6),s.Uc(a.documentName),s.Eb(3),s.rc("src",a.fileUrl,s.Jc),s.Eb(2),s.Uc(a.fileName),s.Eb(3),s.sc("href",a.fileUrl,s.Jc)}}function vc(t,e){if(1&t&&(s.Xb(0,"div"),s.Rc(1,gc,16,4,"div",68),s.Wb()),2&t){var a=s.jc(2);s.Eb(1),s.rc("ngForOf",a.custOtherDoc_array)}}function yc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",32),s.Xb(1,"div",33),s.Xb(2,"div",34),s.Tc(3,"3"),s.Wb(),s.Xb(4,"div",35),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",64),s.Xb(7,"div",56),s.Xb(8,"div",57),s.Xb(9,"div",39),s.Xb(10,"h2",40),s.Tc(11,"Proof Of Identity"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",41),s.fc("click",function(){return s.Hc(a),s.jc().editProofOfIdentity()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",42),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",65),s.Xb(18,"div",59),s.Rc(19,hc,2,0,"small",66),s.Rc(20,vc,2,1,"div",1),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(6),s.rc("ngIf",null==n.custOtherDoc_array),s.Eb(1),s.rc("ngIf",null!=n.custOtherDoc_array&&(null==n.custOtherDoc_array?null:n.custOtherDoc_array.length)>0)}}function Wc(t,e){if(1&t&&(s.Xb(0,"div",79),s.Xb(1,"mat-hint",51),s.Tc(2," Other Employer name* "),s.Wb(),s.Xb(3,"mat-card",52),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Vc(" ",a.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName," ")}}function Xc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",32),s.Xb(1,"div",33),s.Xb(2,"div",34),s.Tc(3,"4"),s.Wb(),s.Xb(4,"div",35),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",73),s.Xb(7,"div",56),s.Xb(8,"div",57),s.Xb(9,"div",39),s.Xb(10,"h2",40),s.Tc(11,"Additional Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",41),s.fc("click",function(){return s.Hc(a),s.jc().editAdditionalInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",42),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",65),s.Xb(18,"div",47),s.Xb(19,"div",74),s.Xb(20,"div",43),s.Xb(21,"div",60),s.Xb(22,"h2",61),s.Tc(23,"Employment Information "),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",43),s.Xb(25,"div",53),s.Xb(26,"mat-hint",51),s.Tc(27," Employment Type* "),s.Wb(),s.Xb(28,"mat-card",52),s.Xb(29,"div"),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"div",53),s.Xb(32,"mat-hint",51),s.Tc(33," Employer Name* "),s.Wb(),s.Xb(34,"mat-card",52),s.Xb(35,"div"),s.Tc(36),s.Wb(),s.Wb(),s.Wb(),s.Rc(37,Wc,5,1,"div",75),s.Xb(38,"div",53),s.Xb(39,"mat-hint",51),s.Tc(40," Salary* "),s.Wb(),s.Xb(41,"mat-card",52),s.Xb(42,"div"),s.Tc(43),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Tc(44,"\xa0\xa0\xa0\xa0 "),s.Xb(45,"div",76),s.Xb(46,"div",43),s.Xb(47,"div",60),s.Xb(48,"h2",61),s.Tc(49,"KYC Information"),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",43),s.Xb(51,"div",62),s.Xb(52,"mat-hint",51),s.Tc(53," KYC Reference* "),s.Wb(),s.Xb(54,"mat-card",52),s.Xb(55,"div"),s.Tc(56),s.Wb(),s.Wb(),s.Wb(),s.Xb(57,"div",62),s.Xb(58,"mat-hint",51),s.Tc(59," KYC Status* "),s.Wb(),s.Xb(60,"mat-card",77),s.Xb(61,"div",78),s.Tc(62),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(17),s.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employmentType," "),s.Eb(6),s.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employerName," "),s.Eb(1),s.rc("ngIf",n.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName),s.Eb(6),s.Vc("",n.dataResponse.dataResp.customerAdditionalInfo.salary," "),s.Eb(13),s.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.kycReference," "),s.Eb(6),s.Vc(" ",n.kycStatus," ")}}function Tc(t,e){1&t&&(s.Xb(0,"small",67),s.Tc(1,"No Signatures Available "),s.Wb())}function Ic(t,e){1&t&&(s.Xb(0,"div"),s.Sb(1,"img",87),s.Wb()),2&t&&(s.Eb(1),s.rc("src","assets/images/no-image.jpg",s.Jc))}function Ec(t,e){if(1&t&&s.Sb(0,"img",88),2&t){var a=s.jc().$implicit;s.rc("src",a.fileUrl,s.Jc)}}function xc(t,e){if(1&t&&(s.Xb(0,"div",43),s.Xb(1,"div"),s.Tc(2),s.Wb(),s.Xb(3,"div",84),s.Rc(4,Ic,2,1,"div",85),s.Rc(5,Ec,1,1,"ng-template",null,86,s.Sc),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.Dc(6);s.Eb(2),s.Vc(" ",a.signatureType," "),s.Eb(2),s.rc("ngIf",null==a.fileUrl)("ngIfElse",n)}}function Cc(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div"),s.Xb(2,"div"),s.Xb(3,"div"),s.Rc(4,xc,7,3,"div",83),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.rc("ngForOf",a.signatureDetails_array)}}function Ac(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",32),s.Xb(1,"div",33),s.Xb(2,"div",34),s.Tc(3,"5"),s.Wb(),s.Xb(4,"div",35),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",73),s.Xb(7,"div",56),s.Xb(8,"div",57),s.Xb(9,"div",39),s.Xb(10,"h2",40),s.Tc(11,"Mandate Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",41),s.fc("click",function(){return s.Hc(a),s.jc().editMandateInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",42),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",65),s.Xb(18,"div",47),s.Xb(19,"div",74),s.Sb(20,"div",43),s.Xb(21,"div",43),s.Xb(22,"div",53),s.Xb(23,"mat-hint",51),s.Tc(24," No of Signatures* "),s.Wb(),s.Xb(25,"mat-card",52),s.Xb(26,"div"),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Tc(28,"\xa0\xa0\xa0\xa0 "),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",65),s.Xb(30,"div",80),s.Xb(31,"div",81),s.Xb(32,"div",82),s.Xb(33,"h2",61),s.Tc(34,"Signatures"),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Rc(36,Tc,2,0,"small",66),s.Rc(37,Cc,5,1,"div",1),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(14),s.Vc(" ",n.noOFSigns," "),s.Eb(9),s.rc("ngIf",null==n.signatureDetails_array),s.Eb(1),s.rc("ngIf",null!=n.signatureDetails_array&&(null==n.signatureDetails_array?null:n.signatureDetails_array.length)>0)}}var Oc=function(t,e){return{disabledbtn:t,continueBtn:e}},Dc=function(t,e){return{disabledbtn:t,rejectButton:e}},Rc=function(t,e){return{disabledbtn:t,approveButton:e}};function Sc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",89),s.Xb(1,"div",90),s.fc("click",function(){return s.Hc(a),s.jc().continue()}),s.Xb(2,"label",91),s.Tc(3,"Cotinue"),s.Wb(),s.Wb(),s.Xb(4,"div",92),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.dataResponse,"REJECTED")}),s.Xb(5,"mat-icon",93),s.Tc(6," highlight_off "),s.Wb(),s.Tc(7,"\xa0\xa0\xa0 "),s.Xb(8,"label",94),s.Tc(9,"Reject"),s.Wb(),s.Wb(),s.Tc(10," \xa0\xa0 "),s.Xb(11,"div",95),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.dataResponse,"APPROVED")}),s.Xb(12,"mat-icon",96),s.Tc(13,"check_circle"),s.Wb(),s.Tc(14,"\xa0\xa0\xa0 "),s.Xb(15,"label",97),s.Tc(16,"Approve"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.rc("hidden",n.continueStatus)("ngClass",s.yc(7,Oc,n.continueStatus,!n.continueStatus)),s.Eb(3),s.rc("hidden",n.rejectedStatus)("hidden",n.rejectedStatus)("ngClass",s.yc(10,Dc,n.rejectedStatus,!n.rejectedStatus)),s.Eb(7),s.rc("hidden",n.approvedStatus)("ngClass",s.yc(13,Rc,n.approvedStatus,!n.approvedStatus))}}var kc,Nc=((kc=function(){function t(e,a,o,i,r,c,l,s,b,u,d){n(this,t),this.tasSumService=e,this.cdr=a,this.router=o,this.apiService=i,this.ls=r,this.dialogRef=c,this.dataResponse=l,this.sanitizer=s,this.snack=b,this.dialog=u,this.jwtService=d,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}return i(t,[{key:"ngOnInit",value:function(){var t=this;console.log("resp------\x3e",this.dataResponse),setTimeout(function(){t.loading=!0,console.log("dataResponse.dataResp.customerId",t.dataResponse.dataResp.customerId),console.log("dataResponse.dataResp.accountId",t.dataResponse.dataResp.accountId),t.customerId=t.dataResponse.dataResp.customerId,t.ls.setItem("customerId",t.customerId),t.getCustomerDocumentsDetails(t.customerId),console.log(t.customerId),t.phoneNum=t.dataResponse.dataResp.phoneNumber,t.emailID=t.dataResponse.dataResp.primaryEmailAdress,console.log("Dataas",t.dataResponse,t.phoneNum,t.emailID),t.customerColorCode=localStorage.getItem("CustomerColorCode"),t.imageUrl=t.dataResponse.dataResp.profileImage,t.status=t.dataResponse.dataResp.custStatus,t.errorStatus=t.dataResponse.dataResp.custStatus,t.userAddress_array=t.dataResponse.dataResp.userAddress,t.custIdProofs_array=t.dataResponse.dataResp.custIdProofs,console.log("result::",t.custIdProofs_array),"REJECTED"===t.status?(t.rejectedStatus=!0,t.approvedStatus=!0,t.editScreen=!1,t.continueStatus=!0):"INITIATED"===t.status?(t.rejectedStatus=!1,t.approvedStatus=!1,t.editScreen=!1,t.continueStatus=!0):"APPROVED"===t.status?(t.rejectedStatus=!0,t.approvedStatus=!0,t.editScreen=!0,t.continueStatus=!0):"UNDER_PROCESS"===t.status&&(t.rejectedStatus=!1,t.approvedStatus=!0,t.editScreen=!1,t.continueStatus=!1),t.getProfileImage(t.dataResponse.dataResp.customerId),t.fetchSignatureDetails(t.dataResponse.dataResp.customerId)},5e3),"NULL"!==this.dataResponse.dataResp.customerAdditionalInfo.kycStatus&&(this.kycStatus=this.dataResponse.dataResp.customerAdditionalInfo.kycStatus)}},{key:"goToCustOnboarding",value:function(){console.log("Navigating to edit screen"),this.apiService.updateKycStatusByCustId(this.dataResponse.dataResp.customerId,"","UNDER_PROCESS").subscribe(function(t){}),this.router.navigateByUrl("/others/newCustomerOnboarding"),console.log(this.dataResponse);var t=this.dataResponse.dataResp.kycReference.split("KYC_");console.log(t[1]),this.ls.setItem("EDIT-KYCDETAILS",t[1]),console.log(this.ls.getItem("EDIT-KYCDETAILS")),this.dialogRef.close({message:"Confirm"})}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.apiService.getCustomerAllDocuments(t,[6,7,8]).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName,console.log("custOtherDoc_array::",e.custOtherDoc_array))})}},{key:"updateApplicationStatus",value:function(t,e,a){var n=this;t.dataResp.customerAdditionalInfo.kycStatus=e,this.statusUpdate=e,this.apiService.updateKycStatusByCustId(t.dataResp.customerId,"",e).subscribe(function(t){null!=t&&(n.cdr.markForCheck(),n.cdr.detectChanges(),1!=a&&n.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),n.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},function(t){console.log("error resp :: ",t),n.errorStatus=e,n.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){})}},{key:"fetchSignatureDetails",value:function(t){var e=this;console.log("inside fetchSignatureDetails method"),this.apiService.getSignatureDocuments(t).subscribe(function(t){console.log(t),console.log(t.length),e.noOFSigns=t.length,e.signatureDetails_array=t},function(t){console.log(t)})}},{key:"openEditScreen",value:function(t,e){var a=this;this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){console.log(t),a.status=t.status,"INITIATED"==t.status&&(a.updateApplicationStatus(a.dataResponse,"INITIATED",!0),t.screen||Object.assign(e,t.resp),"documentUpload"==t.screen&&a.getCustomerDocumentsDetails(a.customerId),"signatureUpload"==t.screen&&a.fetchSignatureDetails(a.customerId)),a.cdr.markForCheck(),a.cdr.detectChanges()})}},{key:"editPrimaryInfo",value:function(){this.openEditScreen(yr,this.dataResponse.dataResp)}},{key:"editContactInfo",value:function(){this.openEditScreen(_r,this.userAddress_array)}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(Mr,this.proofDoc_array)}},{key:"editAdditionalInfo",value:function(){this.openEditScreen(Hr,this.dataResponse.dataResp.customerAdditionalInfo)}},{key:"editMandateInfo",value:function(){this.openEditScreen(ic,this.signatureDetails_array)}},{key:"continue",value:function(){this.ls.setItem("customerId",this.dataResponse.dataResp.customerId),this.ls.setItem("currentKycTabIndex",0),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=INDIVIDUALONBOARDING&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||kc)(s.Rb(g.a),s.Rb(s.h),s.Rb(Ze.h),s.Rb(b.b),s.Rb(m.a),s.Rb(p.g),s.Rb(p.a),s.Rb(so.b),s.Rb(W.a),s.Rb(p.b),s.Rb(lo.a))},kc.\u0275cmp=s.Lb({type:kc,selectors:[["app-cust-on-boarding-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad(rc,!0),2&t&&s.Cc(a=s.gc())&&(e.ncForm=a.first)},inputs:{initiatedArr:"initiatedArr"},decls:55,vars:18,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Primary Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","31%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["label","Contact Information",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["class","full-width",4,"ngFor","ngForOf"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["label","Other Information",2,"border-radius","0px","width","800px"],["fxFlex","59%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","39%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],[1,"mat1",2,"width","98%"],[1,"mat11"],["fxFlex","40%","fxFlex.xs","100%"],["fxFlex","100%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxLayout","row","fxLayoutAlign","space-between center",2,"padding","1rem 0"],["fxFlex","15%","fxFlex.xs","50%"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],[1,"imgCard"],[4,"ngIf","ngIfElse"],["showAvatar",""],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(s.Xb(0,"form"),s.Xb(1,"div",0),s.Rc(2,cc,1,0,"mat-spinner",1),s.Wb(),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"div",4),s.Xb(6,"div"),s.Xb(7,"mat-icon",5),s.fc("click",function(){return e.close(e.dataResponse)}),s.Tc(8," close"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Xb(11,"div",8),s.Xb(12,"div",9),s.Rc(13,lc,2,1,"span",10),s.Wb(),s.Xb(14,"div",11),s.Xb(15,"div",12),s.Sb(16,"img",13),s.Tc(17,"\xa0 "),s.Xb(18,"div"),s.Xb(19,"span",14),s.Tc(20),s.Wb(),s.Sb(21,"br"),s.Xb(22,"span",15),s.Tc(23),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",16),s.Xb(25,"mat-icon",17),s.Tc(26,"phone "),s.Wb(),s.Tc(27,"\xa0\xa0\xa0 "),s.Xb(28,"span",18),s.Tc(29),s.Wb(),s.Wb(),s.Xb(30,"div",16),s.Xb(31,"mat-icon",17),s.Tc(32," mail_outline"),s.Wb(),s.Tc(33,"\xa0\xa0 \xa0 "),s.Xb(34,"span",19),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",20),s.Xb(37,"div",21),s.Rc(38,sc,7,16,"div",22),s.Rc(39,uc,2,1,"div",23),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Sb(41,"br"),s.Sb(42,"br"),s.Sb(43,"br"),s.Xb(44,"div",24),s.Xb(45,"h2"),s.Tc(46),s.Wb(),s.Wb(),s.Rc(47,mc,106,15,"div",25),s.Rc(48,fc,18,2,"div",25),s.Sb(49,"br"),s.Rc(50,yc,21,3,"div",25),s.Rc(51,Xc,63,7,"div",25),s.Rc(52,Ac,38,4,"div",25),s.Rc(53,Sc,17,16,"div",26),s.Sb(54,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(2),s.rc("ngIf",e.loading),s.Eb(11),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=e.imageUrl),s.Eb(7),s.Yc("",e.dataResponse.dataResp.prefix,"\xa0",e.dataResponse.dataResp.firstName,"\xa0",e.dataResponse.dataResp.middleName,"\xa0",e.dataResponse.dataResp.lastName," "),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(2),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading))},directives:[v.A,v.s,v.t,X.d,c.n,X.e,T.a,c.m,E.c,R.b,X.b,E.a,Ba.a,I.f,X.f,c.l,bo.a],pipes:[c.v,c.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.editbtn{color:#0e7cc5;cursor:pointer}.num{background-color:#fff;border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;margin-top:15px}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:15%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.hint1{padding:13px}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:2%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:1px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),kc);function Pc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Company Name is Required! "),s.Wb())}function Fc(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Lc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select Category! "),s.Wb())}function _c(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function wc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select Country! "),s.Wb())}var Uc,Mc=((Uc=function(){function t(e,a,o,i,r,c,l){n(this,t),this.basicInfo=e,this.dialogRef=a,this.apiService=o,this.ls=i,this.formBuilder=r,this.snack=c,this.corporateService=l,this.countryArr=[],this.categoryArr=["Privileged","Un Privileged"]}return i(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.basicInfo),this.getCountryName("country"),this.basicInfo&&this.buildBasicForm(this.basicInfo)}},{key:"buildBasicForm",value:function(t){this.corporateInfoUpdateForm=this.formBuilder.group({corporateId:[t.corporateId],companyName:[t?t.companyName:"",[v.z.required]],category:[t?t.category:"",[v.z.required]],country:[t?t.country:"",[v.z.required]]})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.countryArr.push(t[a].countryName)})}},{key:"onSubmit",value:function(){var t=this;this.corporateService.saveOrUpdateCorporateAccountInfo(this.corporateInfoUpdateForm.value).subscribe(function(e){null!=e?(t.snack.open("Basic Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"INITIATED",resp:e})):t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Uc)(s.Rb(p.a),s.Rb(p.g),s.Rb(b.b),s.Rb(m.a),s.Rb(v.f),s.Rb(W.a),s.Rb(Zr.a))},Uc.\u0275cmp=s.Lb({type:Uc,selectors:[["app-update-corporate-basic-info"]],decls:42,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","20%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","corporateId","formControlName","corporateId","placeholder","Corporate Id","readonly","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["matInput","","name","companyName","formControlName","companyName","placeholder","Company Name"],[4,"ngIf"],["formControlName","category","id","forCategory","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country","id","forCountry","required",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Sb(3,"h1",2),s.Xb(4,"mat-dialog-content"),s.Xb(5,"form",3),s.Xb(6,"div",4),s.Xb(7,"div",5),s.Xb(8,"mat-hint",6),s.Tc(9,"CoporateId"),s.Wb(),s.Xb(10,"mat-card",7),s.Sb(11,"input",8),s.Wb(),s.Wb(),s.Xb(12,"div",9),s.Xb(13,"mat-hint",6),s.Tc(14,"Company Name* "),s.Wb(),s.Xb(15,"mat-card",7),s.Sb(16,"input",10),s.Wb(),s.Rc(17,Pc,2,0,"mat-error",11),s.Wb(),s.Xb(18,"div",9),s.Xb(19,"mat-hint",6),s.Tc(20,"Category*"),s.Wb(),s.Xb(21,"mat-card",7),s.Xb(22,"mat-select",12),s.Xb(23,"mat-option",13),s.Tc(24,"Select Category"),s.Wb(),s.Rc(25,Fc,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(26,Lc,2,0,"mat-error",11),s.Wb(),s.Xb(27,"div",9),s.Xb(28,"mat-hint",6),s.Tc(29,"Country*"),s.Wb(),s.Xb(30,"mat-card",7),s.Xb(31,"mat-select",15),s.Xb(32,"mat-option",13),s.Tc(33,"Select Country"),s.Wb(),s.Rc(34,_c,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(35,wc,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",16),s.Xb(37,"button",17),s.fc("click",function(){return e.onSubmit()}),s.Tc(38,"Save"),s.Wb(),s.Tc(39," \xa0\xa0\xa0 "),s.Xb(40,"button",18),s.fc("click",function(){return e.close()}),s.Tc(41," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(5),s.rc("formGroup",e.corporateInfoUpdateForm),s.Eb(12),s.rc("ngIf",e.corporateInfoUpdateForm.get("companyName").touched&&!e.corporateInfoUpdateForm.get("companyName").valid),s.Eb(8),s.rc("ngForOf",e.categoryArr),s.Eb(1),s.rc("ngIf",e.corporateInfoUpdateForm.get("category").touched&&!e.corporateInfoUpdateForm.get("category").valid),s.Eb(8),s.rc("ngForOf",e.countryArr),s.Eb(1),s.rc("ngIf",e.corporateInfoUpdateForm.get("country").touched&&!e.corporateInfoUpdateForm.get("country").valid),s.Eb(2),s.rc("disabled",e.corporateInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,x.b,v.c,v.r,v.i,c.n,C.a,v.y,S.n,c.m,X.f,D.b,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Uc),Gc=r("vrAh"),Vc=r("SqCe");function jc(t,e){if(1&t&&(s.Xb(0,"mat-panel-title"),s.Tc(1),s.Wb()),2&t){var a=s.jc(2);s.Eb(1),s.Vc(" Create Director ",a.item," ")}}function Bc(t,e){if(1&t&&(s.Xb(0,"mat-panel-title"),s.Xb(1,"mat-icon",58),s.Tc(2,"check_circle"),s.Wb(),s.Tc(3),s.Wb()),2&t){var a=s.jc(2);s.Eb(3),s.Vc(" \xa0 Director \xa0 ",a.item,". ")}}function zc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card",29),s.Xb(1,"input",59),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb()}}function qc(t,e){if(1&t&&(s.Xb(0,"div",72),s.Xb(1,"h3",73),s.Tc(2),s.kc(3,"uppercase"),s.kc(4,"slice"),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(2),s.Vc(" ",s.lc(3,1,s.nc(4,3,null==a?null:a.firstName,0,1))," ")}}function Kc(t,e){if(1&t&&(s.Xb(0,"div",74),s.Sb(1,"img",75),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",null==a?null:a.profileImage,s.Jc)}}function Jc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-option",65),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc(3).selectCif(t)}),s.Xb(1,"div",66),s.Xb(2,"div",67),s.Rc(3,qc,5,7,"div",68),s.Rc(4,Kc,2,1,"div",69),s.Xb(5,"div",22),s.Xb(6,"h5",70),s.Tc(7),s.kc(8,"uppercase"),s.kc(9,"uppercase"),s.kc(10,"uppercase"),s.Wb(),s.Xb(11,"h6",71),s.Tc(12),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.rc("value",null==n?null:n.cifNumber),s.Eb(3),s.rc("ngIf","not_available"==(null==n?null:n.profileImage)),s.Eb(1),s.rc("ngIf","not_available"!=(null==n?null:n.profileImage)),s.Eb(3),s.Xc(" ",s.lc(8,7,null==n?null:n.firstName)," ",s.lc(9,9,null==n?null:n.middleName)," ",s.lc(10,11,null==n?null:n.lastName),""),s.Eb(5),s.Vc("#",null==n?null:n.cifNumber,"")}}function Hc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card",29),s.Xb(1,"input",60,61),s.fc("keyup",function(t){return s.Hc(a),s.jc(2).ngAfterViewInit(t.target.value)})("ngModelChange",function(t){return s.Hc(a),s.jc(2).updatedVal(t)}),s.Wb(),s.Xb(3,"mat-autocomplete",62,63),s.Rc(5,Jc,13,13,"mat-option",64),s.Wb(),s.Wb()}if(2&t){var n=s.Dc(4),o=s.jc(2);s.Eb(1),s.rc("matAutocomplete",n),s.Eb(4),s.rc("ngForOf",o.customerInfoList)}}function $c(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"CIF Number is Required!"),s.Wb(),s.Wb())}function Yc(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Zc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Prefix!"),s.Wb(),s.Wb())}function Qc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"First Name is Required!"),s.Wb(),s.Wb())}function tl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Last Name is Required!"),s.Wb(),s.Wb())}function el(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function al(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Gender!"),s.Wb(),s.Wb())}function nl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 Prefix and Gender does not match! "),s.Wb())}function ol(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Date Of Birth is Required!"),s.Wb(),s.Wb())}function il(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Place Of Birth is Required!!"),s.Wb(),s.Wb())}function rl(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function cl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Residence Type!"),s.Wb(),s.Wb())}function ll(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function sl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Citizenship By!"),s.Wb(),s.Wb())}function bl(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ul(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Country Of Residence"),s.Wb(),s.Wb())}function dl(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ml(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select ID Type!"),s.Wb(),s.Wb())}function pl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Unique Id Number is Required"),s.Wb(),s.Wb())}function fl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Valid Till!"),s.Wb(),s.Wb())}function hl(t,e){if(1&t&&(s.Xb(0,"div",27),s.Sb(1,"mat-hint",6),s.Xb(2,"mat-card",29),s.Sb(3,"input",81),s.Sb(4,"mat-datepicker-toggle",38),s.Sb(5,"mat-datepicker",null,82),s.Wb(),s.Rc(7,fl,3,0,"mat-error",18),s.Wb()),2&t){var a=s.Dc(6),n=s.jc().$implicit,o=s.jc(2);s.Eb(3),s.rc("min",o.minDate)("matDatepicker",a),s.Eb(1),s.rc("for",a),s.Eb(3),s.rc("ngIf",n.get("expiryDate").touched&&!n.get("expiryDate").valid)}}function gl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",77),s.Xb(1,"div",26),s.Xb(2,"div",27),s.Xb(3,"mat-hint",6),s.Tc(4,"Id Type"),s.Wb(),s.Xb(5,"mat-card",29),s.Xb(6,"mat-select",78),s.Xb(7,"mat-option",31),s.Tc(8,"select---"),s.Wb(),s.Rc(9,dl,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(10,ml,3,0,"mat-error",18),s.Wb(),s.Xb(11,"div",27),s.Xb(12,"mat-hint",6),s.Tc(13,"ID Number"),s.Wb(),s.Xb(14,"mat-card",29),s.Xb(15,"input",79),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(16,pl,3,0,"mat-error",18),s.Wb(),s.Rc(17,hl,8,4,"div",80),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc(2);s.rc("formGroupName",o),s.Eb(9),s.rc("ngForOf",i.idTypeList),s.Eb(1),s.rc("ngIf",n.get("idType").touched&&!n.get("idType").valid),s.Eb(6),s.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid),s.Eb(1),s.rc("ngIf","Passport"==n.get("idType").value||"DL"==n.get("idType").value)}}function vl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Enter Valid Address Line 1"),s.Wb(),s.Wb())}function yl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Enter Valid Address Line 2"),s.Wb(),s.Wb())}function Wl(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Xl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please select country"),s.Wb(),s.Wb())}function Tl(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName," ")}}function Il(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please select state"),s.Wb(),s.Wb())}function El(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1," ")}}function xl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please select city"),s.Wb(),s.Wb())}function Cl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter Zip Code!(5-10 digits)"),s.Wb(),s.Wb())}function Al(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter valid Zip Code!(5-10 digits)"),s.Wb(),s.Wb())}function Ol(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",83),s.Xb(1,"legend",48),s.Tc(2,"Communication Address"),s.Wb(),s.Sb(3,"hr"),s.Xb(4,"div",26),s.Xb(5,"div",27),s.Xb(6,"mat-hint",6),s.Tc(7,"Address Line 1*"),s.Wb(),s.Xb(8,"mat-card",29),s.Sb(9,"input",84),s.Wb(),s.Rc(10,vl,3,0,"mat-error",18),s.Wb(),s.Xb(11,"div",27),s.Xb(12,"mat-hint",6),s.Tc(13,"Address Line 2*"),s.Wb(),s.Xb(14,"mat-card",29),s.Sb(15,"input",85),s.Wb(),s.Rc(16,yl,3,0,"mat-error",18),s.Wb(),s.Xb(17,"div",27),s.Xb(18,"mat-hint",6),s.Tc(19,"Country*"),s.Wb(),s.Xb(20,"mat-card",29),s.Xb(21,"mat-select",86),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getStateName(t.value)}),s.Xb(22,"mat-option",31),s.Tc(23,"select---"),s.Wb(),s.Rc(24,Wl,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(25,Xl,3,0,"mat-error",18),s.Wb(),s.Xb(26,"div",27),s.Xb(27,"mat-hint",6),s.Tc(28,"State*"),s.Wb(),s.Xb(29,"mat-card",29),s.Xb(30,"mat-select",87),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getCityName(t.value)}),s.Xb(31,"mat-option",31),s.Tc(32,"select---"),s.Wb(),s.Rc(33,Tl,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(34,Il,3,0,"mat-error",18),s.Wb(),s.Xb(35,"div",27),s.Xb(36,"mat-hint",6),s.Tc(37,"City*"),s.Wb(),s.Xb(38,"mat-card",29),s.Xb(39,"mat-select",88),s.Xb(40,"mat-option",31),s.Tc(41,"select---"),s.Wb(),s.Rc(42,El,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(43,xl,3,0,"mat-error",18),s.Wb(),s.Xb(44,"div",27),s.Xb(45,"mat-hint",6),s.Tc(46,"Zip Code*"),s.Wb(),s.Xb(47,"mat-card",29),s.Xb(48,"input",89),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(2).isAllSameDigit(t)}),s.Wb(),s.Wb(),s.Rc(49,Cl,3,0,"mat-error",18),s.Rc(50,Al,3,0,"mat-error",18),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc(2);s.rc("formGroupName",o),s.Eb(10),s.rc("ngIf",n.get("address1").touched&&!n.get("address1").valid||n.get("address1").touched&&n.get("address1").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("address2").touched&&!n.get("address2").valid||n.get("address2").touched&&n.get("address2").hasError("pattern")),s.Eb(8),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").touched&&!n.get("country").valid),s.Eb(8),s.rc("ngForOf",i.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").touched&&!n.get("state").valid),s.Eb(8),s.rc("ngForOf",i.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").touched&&!n.get("city").valid),s.Eb(6),s.rc("ngIf",n.get("zipCode").touched&&n.get("zipCode").hasError("required")),s.Eb(1),s.rc("ngIf",i.isAllSameDigitVal||n.get("zipCode").hasError("pattern"))}}function Dl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Enter Mobile Number(Maximum 10 digits)!"),s.Wb(),s.Wb())}function Rl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2," \xa0 \xa0 Please Enter Correct Mobile Number "),s.Wb(),s.Wb())}function Sl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2," \xa0 \xa0 Please Enter Correct Landline Number"),s.Wb(),s.Wb())}function kl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Tax Id is Required with only numbers!"),s.Wb(),s.Wb())}function Nl(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Pl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Country Of Issue!"),s.Wb(),s.Wb())}function Fl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",90),s.Xb(1,"legend",48),s.Tc(2,"Additional Tax ID Details"),s.Wb(),s.Sb(3,"hr"),s.Xb(4,"div",91),s.Xb(5,"div",27),s.Xb(6,"mat-hint",6),s.Tc(7,"Tax ID*"),s.Wb(),s.Xb(8,"mat-card",29),s.Xb(9,"input",92),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).omit_special_char(t)}),s.Wb(),s.Wb(),s.Rc(10,kl,3,0,"mat-error",18),s.Wb(),s.Xb(11,"div",27),s.Xb(12,"mat-hint",6),s.Tc(13,"Country Of Issue*"),s.Wb(),s.Xb(14,"mat-card",29),s.Xb(15,"mat-select",93),s.Xb(16,"mat-option",31),s.Tc(17,"select---"),s.Wb(),s.Rc(18,Nl,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(19,Pl,3,0,"mat-error",18),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc(2);s.rc("formGroupName",o),s.Eb(10),s.rc("ngIf",n.get("taxId").touched&&!n.get("taxId").valid),s.Eb(8),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("countryOfIssue").touched&&!n.get("countryOfIssue").valid)}}function Ll(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card",16),s.Xb(1,"mat-expansion-panel",17),s.fc("opened",function(){return s.Hc(a),s.jc().openClose("OPEN")})("closed",function(){return s.Hc(a),s.jc().openClose("CLOSE")}),s.Xb(2,"mat-expansion-panel-header"),s.Rc(3,jc,2,1,"mat-panel-title",18),s.Rc(4,Bc,4,1,"mat-panel-title",18),s.Wb(),s.Xb(5,"div",4),s.Xb(6,"div",19),s.Xb(7,"div",20),s.Xb(8,"div",21),s.Xb(9,"div",22),s.Xb(10,"span"),s.Xb(11,"b"),s.Tc(12,"Is the applicant an existing customer?"),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",23),s.Xb(14,"mat-slide-toggle",24),s.fc("change",function(t){s.Hc(a);var e=s.jc();return e.toggleChanges(t.checked,e.formDirective)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",21),s.Xb(16,"div",22),s.Xb(17,"span"),s.Xb(18,"b"),s.Tc(19,"Is the applicant an primary customer?"),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",23),s.Sb(21,"mat-slide-toggle",25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(22,"br"),s.Xb(23,"div",26),s.Xb(24,"div",27),s.Xb(25,"mat-hint",6),s.Tc(26,"CIF Number"),s.Wb(),s.Rc(27,zc,2,0,"mat-card",28),s.Rc(28,Hc,6,2,"mat-card",28),s.Rc(29,$c,3,0,"mat-error",18),s.Wb(),s.Xb(30,"div",27),s.Xb(31,"mat-hint",6),s.Tc(32,"Prefix*"),s.Wb(),s.Xb(33,"mat-card",29),s.Xb(34,"mat-select",30),s.Xb(35,"mat-option",31),s.Tc(36,"select---"),s.Wb(),s.Rc(37,Yc,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(38,Zc,3,0,"mat-error",18),s.Wb(),s.Xb(39,"div",27),s.Xb(40,"mat-hint",6),s.Tc(41,"First Name*"),s.Wb(),s.Xb(42,"mat-card",29),s.Xb(43,"input",33),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(44,Qc,3,0,"mat-error",18),s.Wb(),s.Xb(45,"div",27),s.Xb(46,"mat-hint",6),s.Tc(47,"Middle Name"),s.Wb(),s.Xb(48,"mat-card",29),s.Xb(49,"input",34),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",27),s.Xb(51,"mat-hint",6),s.Tc(52,"Last Name*"),s.Wb(),s.Xb(53,"mat-card",29),s.Xb(54,"input",35),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(55,tl,3,0,"mat-error",18),s.Wb(),s.Xb(56,"div",27),s.Xb(57,"mat-hint",6),s.Tc(58,"Gender*"),s.Wb(),s.Xb(59,"mat-card",29),s.Xb(60,"mat-select",36),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onChangeGender(t)}),s.Xb(61,"mat-option",31),s.Tc(62,"select---"),s.Wb(),s.Rc(63,el,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(64,al,3,0,"mat-error",18),s.Rc(65,nl,2,0,"mat-error",18),s.Wb(),s.Xb(66,"div",27),s.Xb(67,"mat-hint",6),s.Tc(68,"Date Of Birth*"),s.Wb(),s.Xb(69,"mat-card",29),s.Sb(70,"input",37),s.Xb(71,"div",23),s.Sb(72,"mat-datepicker-toggle",38),s.Wb(),s.Sb(73,"mat-datepicker",null,39),s.Wb(),s.Rc(75,ol,3,0,"mat-error",18),s.Wb(),s.Xb(76,"div",27),s.Xb(77,"mat-hint",6),s.Tc(78,"Place Of Birth "),s.Wb(),s.Xb(79,"mat-card",29),s.Xb(80,"input",40),s.fc("keypress.space",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(81,il,3,0,"mat-error",18),s.Wb(),s.Xb(82,"div",27),s.Xb(83,"mat-hint",6),s.Tc(84,"Residence Type*"),s.Wb(),s.Xb(85,"mat-card",29),s.Xb(86,"mat-select",41),s.Xb(87,"mat-option",31),s.Tc(88,"select---"),s.Wb(),s.Rc(89,rl,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(90,cl,3,0,"mat-error",18),s.Wb(),s.Xb(91,"div",27),s.Xb(92,"mat-hint",6),s.Tc(93,"Citizenship By*"),s.Wb(),s.Xb(94,"mat-card",29),s.Xb(95,"mat-select",42),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onSelectionCitizionship(t.value)}),s.Xb(96,"mat-option",31),s.Tc(97,"--Select--"),s.Wb(),s.Rc(98,ll,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(99,sl,3,0,"mat-error",18),s.Wb(),s.Xb(100,"div",27),s.Xb(101,"mat-hint",6),s.Tc(102,"Country Of Residence*"),s.Wb(),s.Xb(103,"mat-card",29),s.Xb(104,"mat-select",43),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onSelectionResidance(t.value)}),s.Xb(105,"mat-option",31),s.Tc(106,"--Select--"),s.Wb(),s.Rc(107,bl,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(108,ul,3,0,"mat-error",18),s.Wb(),s.Wb(),s.Xb(109,"div",44),s.Rc(110,gl,18,5,"div",45),s.Wb(),s.Sb(111,"br"),s.Xb(112,"div",46),s.Rc(113,Ol,51,11,"div",47),s.Wb(),s.Sb(114,"br"),s.Xb(115,"div"),s.Xb(116,"legend",48),s.Tc(117,"Contact Information"),s.Wb(),s.Sb(118,"hr"),s.Xb(119,"div",49),s.Xb(120,"div",27),s.Xb(121,"mat-hint",6),s.Tc(122,"Mobile Number*"),s.Wb(),s.Xb(123,"mat-card",29),s.Xb(124,"input",50),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(125,Dl,3,0,"mat-error",18),s.Rc(126,Rl,3,0,"mat-error",18),s.Wb(),s.Xb(127,"div",27),s.Xb(128,"mat-hint",6),s.Tc(129,"Landline Number*"),s.Wb(),s.Xb(130,"mat-card",29),s.Xb(131,"input",51),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(132,Sl,3,0,"mat-error",18),s.Wb(),s.Xb(133,"div",27),s.Xb(134,"mat-hint",6),s.Tc(135,"Email*"),s.Wb(),s.Xb(136,"mat-card",29),s.Sb(137,"input",52),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(138,"br"),s.Xb(139,"div",53),s.Rc(140,Fl,20,4,"div",54),s.Wb(),s.Xb(141,"div",26),s.Xb(142,"div",55),s.Xb(143,"div",56),s.Xb(144,"button",57),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=s.jc();return n.saveDirector(t.value,n.item),n.openClose("CLOSE")}),s.Xb(145,"mat-icon"),s.Tc(146,"add"),s.Wb(),s.Tc(147," ADD DIRECTOR "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.Dc(74),r=s.jc();s.rc("item",n)("formGroupName",o),s.Eb(1),s.rc("expanded",r.panelOpenState),s.Eb(2),s.rc("ngIf",1==r.panelOpenState),s.Eb(1),s.rc("ngIf",0==r.panelOpenState),s.Eb(17),s.rc("disabled",r.disabledToggle),s.Eb(6),s.rc("ngIf",1!=n.get("existingCustomer").value),s.Eb(1),s.rc("ngIf",1==n.get("existingCustomer").value),s.Eb(1),s.rc("ngIf",n.get("cifNumber").touched&&!n.get("cifNumber").valid&&1==n.get("existingCustomer").value),s.Eb(8),s.rc("ngForOf",r.prefixList),s.Eb(1),s.rc("ngIf",n.get("prefix").touched&&!n.get("prefix").valid),s.Eb(6),s.rc("ngIf",n.get("firstName").touched&&!n.get("firstName").valid),s.Eb(11),s.rc("ngIf",n.get("lastName").touched&&!n.get("lastName").valid),s.Eb(8),s.rc("ngForOf",r.genderList),s.Eb(1),s.rc("ngIf",n.get("gender").touched&&!n.get("gender").valid),s.Eb(1),s.rc("ngIf",r.prefixFlag),s.Eb(5),s.rc("matDatepicker",i)("max",r.maxDate),s.Eb(2),s.rc("for",i),s.Eb(3),s.rc("ngIf",n.get("dateOfBirth").touched&&!n.get("dateOfBirth").valid),s.Eb(6),s.rc("ngIf",n.get("placeOfBirth").touched&&!n.get("placeOfBirth").valid),s.Eb(8),s.rc("ngForOf",r.arrayResidence),s.Eb(1),s.rc("ngIf",n.get("residenceStatus").touched&&!n.get("residenceStatus").valid),s.Eb(8),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("citizenship").touched&&!n.get("citizenship").valid),s.Eb(8),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("countryOfResidence").touched&&!n.get("countryOfResidence").valid),s.Eb(2),s.rc("ngForOf",n.get("custIdProofs").controls),s.Eb(3),s.rc("ngForOf",n.get("userAddress").controls),s.Eb(12),s.rc("ngIf",n.get("phoneNumber").touched&&!n.get("phoneNumber").valid&&!n.controls.phoneNumber.hasError("minLength")),s.Eb(1),s.rc("ngIf","0000000000"==n.controls.phoneNumber.value),s.Eb(6),s.rc("ngIf","0000000000"==n.controls.landlineNumber.value),s.Eb(8),s.rc("ngForOf",n.get("custTaxInfo").controls),s.Eb(4),s.rc("disabled",n.invalid||!r.prefixFlag)}}var _l,wl=((_l=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.ls=i,this.apiService=r,this.corporateService=c,this.snack=l,this.cdr=s,this.appApiService=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.isDirectorSaved=!1,this.directors=new v.d([])}return i(t,[{key:"ngOnInit",value:function(){if(this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getDoc(),this.getCountryName("country"),null!=this.data){this.buildDirectorForm(this.data),this.directors=this.directorUpdateForm.get("directors");for(var t=0;t<this.data.length;t++){this.directors.push(this.addDirectors(this.data[t]));for(var e=0;e<this.data[t].userAddress.length;e++)this.getStateName(this.data[t].userAddress[e].country),this.getCityName(this.data[t].userAddress[e].state),this.addAddress(t,this.data[t].userAddress[e]);this.addIdProof(t,this.data[t].custIdProofs[0]),this.addCustTaxInfo(t,this.data[t].custTaxInfo[0])}}else this.buildDirectorForm(),this.directors=this.directorUpdateForm.get("directors"),this.directors.push(this.addDirectors()),this.addAddress(0),this.addIdProof(0),this.addCustTaxInfo(0)}},{key:"buildDirectorForm",value:function(t){this.directorUpdateForm=this.formBuilder.group({noOfDirector:[t?this.data.length:"1"],directors:this.formBuilder.array([])})}},{key:"addDirectors",value:function(t){return this.formBuilder.group({customerId:this.customerId,citizenship:[t?t.citizenship:""],cifNumber:[t?t.cifNumber:""],corporateId:[t?t.corporateId:""],countryOfResidence:[t?t.countryOfResidence:""],dateOfBirth:[t?t.dateOfBirth:""],existingCustomer:[t?t.existingCustomer:""],firstName:[t?t.firstName:""],gender:[t?t.gender:""],landlineNumber:[t?t.landlineNumber:"",[v.z.minLength(10),v.z.maxLength(10)]],lastName:[t?t.lastName:""],middleName:[t?t.middleName:""],phoneNumber:[t?t.phoneNumber:"",[v.z.minLength(10),v.z.maxLength(10)]],placeOfBirth:[t?t.placeOfBirth:""],prefix:[t?t.prefix:""],primaryCustomer:[!1],primaryEmailAdress:[t?t.primaryEmailAdress:""],residenceStatus:[t?t.residenceStatus:""],verificationType:"onboarding",userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([]),custTaxInfo:this.formBuilder.array([])})}},{key:"addAddress",value:function(t,e){this.directors.controls[t].get("userAddress").push(this.formBuilder.group({addressType:[e?e.addressType:""],address1:[[e?e.address1:""],[v.z.pattern(".*[a-zA-Z].*")]],address2:[[e?e.address2:""],[v.z.pattern(".*[a-zA-Z].*")]],city:[e?e.city:""],state:[e?e.state:""],country:[e?e.country:""],zipCode:[e?e.zipCode:"",[v.z.required,v.z.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]}))}},{key:"addIdProof",value:function(t,e){this.directors.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:""],idType:[e?e.idType:""],expiryDate:[e?e.expiryDate:""]}))}},{key:"addCustTaxInfo",value:function(t,e){this.directors.controls[t].get("custTaxInfo").push(this.formBuilder.group({taxId:[e?e.taxId:"",[v.z.required,v.z.pattern("^[0-9]*$")]],countryOfIssue:[e?e.countryOfIssue:""]}))}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.arrayState=[],this.apiService.getAllCountries().subscribe(function(a){for(var n=function(n){if(a[n].countryName==t)return e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"==t[n].authStatus&&e.arrayState.push(t[n].stateName)}),"break"},o=0;o<a.length&&"break"!==n(o);o++);})}},{key:"getCityName",value:function(t){var e=this;this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getDoc",value:function(){var t=this;this.apiService.getDropDownValues("gender").subscribe(function(e){t.genderList=e}),this.apiService.getDropDownValues("prefix").subscribe(function(e){t.prefixList=e}),this.apiService.getDropDownValues("document_name").subscribe(function(e){t.idTypeList=e}),this.apiService.getDropDownValues("address_type").subscribe(function(e){t.addressTypeList=e})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"editDirector",value:function(t){this.panelOpenState=!this.panelOpenState}},{key:"updatedVal",value:function(t){this.showAutocomplete=!!(t&&t.length>=3)}},{key:"selectCif",value:function(t){this.getStateName(t.userAddress[0].country),this.getCityName(t.userAddress[0].state),null!=t.citizenship&&this.onSelectionCitizionship(t.citizenship),null!=t.countryOfResidence&&this.onSelectionResidance(t.countryOfResidence),this.customerInfoList=t.customerInfoList,this.cifNumberForPayload=t.cifNumber,this.customerIdForPayload=t.customerId,delete t.cifNumber,this.autocomplete.closePanel(),this.directorUpdateForm.patchValue(t),this.directorUpdateForm.get("existingCustomer").setValue(!0)}},{key:"fetchByCif",value:function(t){var e=this;console.log(null==t?void 0:t.length),0==(null==t?void 0:t.length)&&this.autocomplete.closePanel(),this.directorUpdateForm.reset({cifNumber:this.directorUpdateForm.get("cifNumber").value,existingCustomer:this.directorUpdateForm.get("existingCustomer").value}),this.showAutocomplete=!1,t&&(clearTimeout(this.timer),this.timer=setTimeout(function(){e.appApiService.fetchByCif(t).subscribe(function(t){console.log("settimeout"),console.log("res::",t),t&&(e.showAutocomplete=!0,e.customerInfoList=t.customerInfoList),null!=e.customerInfoList[0].citizenship&&e.onSelectionCitizionship(e.customerInfoList[0].citizenship),null!=e.customerInfoList[0].countryOfResidence?e.onSelectionResidance(e.customerInfoList[0].countryOfResidence):(null==t?void 0:t.customerInfoList.length)>1?e.customerInfoList=t.customerInfoList:0!=(null==t?void 0:t.customerInfoList.length)&&t||e.snack.open("Kindly Enter Valid CifNumber to proceed","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.error(t)})},1e3))}},{key:"toggleChanges",value:function(t,e){console.log(t),!0===t?this.directorUpdateForm.get("cifNumber").enable():!1===t&&(this.directorUpdateForm.get("cifNumber").disable(),this.customerId=null)}},{key:"onSelectionResidance",value:function(t){var e=this;console.log(t),this.apiService.countryFlaglists(t).subscribe(function(t){console.log(t.currencyCode),e.Currency=t.currencyCode.toLowerCase(),console.log(e.Currency)})}},{key:"onSelectionCitizionship",value:function(t){var e=this;console.log(t),this.apiService.countryFlaglists(t).subscribe(function(t){console.log(t.currencyCode),e.currencyCode=t.currencyCode.toLowerCase(),console.log(e.currencyCode)})}},{key:"onChangeGender",value:function(t){var e=this.directorUpdateForm.value.prefix;"Mr"==e&&"Male"==t.value||("Ms"==e||"Mrs"==e)&&"Female"==t.value?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"noOfDirector",value:function(){var t=Number(this.directorUpdateForm.get("noOfDirector").value);if(this.directors.length<t)for(var e=this.directors.length;e<t;e++)this.directors.push(this.addDirectors()),this.addAddress(e),this.addIdProof(e),this.addCustTaxInfo(e);else if(t<this.directors.length)for(var a=this.directors.length-1;a>=t;a--)this.directors.removeAt(a)}},{key:"omit_special_char",value:function(t){var e;return(e=t.charCode)>64&&e<91||e>96&&e<123||8==e||32==e||e>=48&&e<=57}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;this.isAllSameDigitVal=e==a.length}else this.isAllSameDigitVal=!1}},{key:"saveDirector",value:function(t,e){var a=this;t.cifNumber=this.cifNumberForPayload,t.customerId=this.customerIdForPayload,t.corporateId=this.corporateId;var n={corporateId:this.corporateId,customerInfo:[t]};if(this.noOfDir>0){this.saveStatus=[];for(var o=0;o<this.noOfDir;o++)this.saveStatus.push(!0);this.corporateService.setfinishSave(this.saveStatus)}this.corporateService.saveOrUpdateCorporateAccountInfo(n).subscribe(function(t){null!=t?(null!=t.customerInfo&&null!=t.customerInfo[0].cifNumber&&(a.cifNumber=t.customerInfo[0].cifNumber),a.snack.open("Director ".concat(a.item," profile created !"),"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck(),a.noOfDir<=1&&a.dialogRef.close({status:"INITIATED",resp:a.data})):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.isDirectorSaved=!0}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED"})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||_l)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(m.a),s.Rb(b.b),s.Rb(Zr.a),s.Rb(W.a),s.Rb(s.h),s.Rb(f.a))},_l.\u0275cmp=s.Lb({type:_l,selectors:[["app-update-director-details"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100",1,"full-width"],[1,"hintClass"],["fxFlex","33.33%","fxFlex.xs","100%",1,"inputCard"],["formControlName","noOfDirector","matInput","","id","forNoOfDirectors","placeholder","Enter no of directors",3,"keypress","keyup"],["visible","true",2,"font-weight","600"],[1,"custom-accordion"],["formArrayName","directors"],[3,"item","formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"item","formGroupName"],[1,"mat-elevation-z0",3,"expanded","opened","closed"],[4,"ngIf"],["fxLayout","row wrap",2,"margin-top","20px","margin-left","20px"],["fxFlex","100"],["fxFlex","50"],["fxFlex","80"],["fxFlex","20"],["formControlName","existingCustomer",3,"change"],["formControlName","primaryCustomer",3,"disabled"],["fxLayout","row wrap"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["class","inputCard",4,"ngIf"],[1,"inputCard"],["formControlName","prefix","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","firstName","id","forFirstName","required","","placeholder","First Name",3,"keypress"],["matInput","","formControlName","middleName","id","forMiddleName","placeholder","Middle Name",3,"keypress"],["matInput","","formControlName","lastName","id","forLastName","required","","placeholder","Last Name",3,"keypress"],["formControlName","gender","id","forGender","required","",3,"selectionChange"],["fxFlex","80","matInput","","formControlName","dateOfBirth","required","","readonly","",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","placeOfBirth","id","forplaceOfBirth","required","",3,"keypress.space"],["formControlName","residenceStatus","id","forResidenceStatus","required",""],["formControlName","citizenship","id","forcitizenship","required","",3,"selectionChange"],["formControlName","countryOfResidence","id","forcountryOfResidence","required","",3,"selectionChange"],["formArrayName","custIdProofs"],["fxFlex","100%",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["visible","true"],["fxFlex","row wrap","fxFlex","100"],["matInput","","formControlName","phoneNumber","id","forPhoneNumber","maxLength","10","minLength","10","onlyNumber","","required","",3,"keypress"],["matInput","","formControlName","landlineNumber","maxLength","10","minLength","10","onlyNumber","","id","forlandlineNumber","required","",3,"keypress"],["matInput","","formControlName","primaryEmailAdress","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$","id","forprimaryEmailAdress","required",""],["formArrayName","custTaxInfo"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin-left","13px"],["fxFlex","20",1,"form-group"],["mat-raised-button","","color","primary",2,"background-color","rgb(77, 114, 248)",3,"disabled","click"],[2,"color","#24CCA7"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"keypress"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"matAutocomplete","keyup","ngModelChange"],["input",""],[2,"background-color","black"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],[3,"value"],["fxFlex","100%",3,"formGroupName"],["formControlName","idType","id","forIdType","required",""],["matInput","","formControlName","idNumber","id","foridNumber","maxlength","15","minLength","11","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","expiryDate","id","forIdexpiryDate","readonly","","required","",3,"min","matDatepicker"],["expiryDate",""],[3,"formGroupName"],["matInput","","id","foraddress1","formControlName","address1","required",""],["matInput","","id","foraddress2","formControlName","address2","required",""],["id","forcountry","formControlName","country","required","",3,"selectionChange"],["id","forstate","formControlName","state","required","",3,"selectionChange"],["id","forCity","formControlName","city","required",""],["matInput","","formControlName","zipCode","id","forZipCode","onlyNumber","","maxlength","10","minLength","5","required","",3,"keypress","keyup"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxFlex","row wrap"],["matInput","","onlyNumber","","formControlName","taxId","id","forTaxId","maxlength","10","required","",3,"keypress"],["formControlName","countryOfIssue","id","forCountryOfIssue","required",""]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Director Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"Number of Directors"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"input",8),s.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(){return e.noOfDirector()}),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"h3",9),s.Tc(14,"Details Of the Director"),s.Wb(),s.Xb(15,"div",4),s.Xb(16,"mat-accordion",10),s.Xb(17,"div",11),s.Rc(18,Ll,148,34,"mat-card",12),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",13),s.Xb(20,"button",14),s.fc("click",function(){return e.onSubmit()}),s.Tc(21,"Save"),s.Wb(),s.Tc(22," \xa0\xa0\xa0 "),s.Xb(23,"button",15),s.fc("click",function(){return e.close()}),s.Tc(24," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.directorUpdateForm),s.Eb(12),s.rc("ngForOf",e.directorUpdateForm.get("directors").controls),s.Eb(2),s.rc("disabled",e.directorUpdateForm.invalid||!e.isDirectorSaved))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,v.c,x.b,v.r,v.i,H.a,v.e,c.m,X.f,D.b,v.k,H.c,H.e,c.n,O.a,C.a,v.y,S.n,A.e,A.g,I.j,A.d,Y.a,v.w,H.f,Gc.c,Gc.a,E.c,Vc.b,I.b,v.m],pipes:[c.w,c.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),_l);function Ul(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Incorporation Number is Required! "),s.Wb())}function Ml(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Valid Incorporation Number! "),s.Wb())}function Gl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Date of Issue"),s.Wb(),s.Wb())}function Vl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Date of Expiry"),s.Wb(),s.Wb())}function jl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-radio-group",25),s.Xb(1,"mat-radio-button",26),s.fc("change",function(t){return s.Hc(a),s.jc().radioSelection(t.value)}),s.Tc(2),s.Wb(),s.Tc(3,"\xa0 "),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.Eb(1),s.rc("value",n)("checked",n==o.identityUpdateForm.value.isAnotherIdProofRequired),s.Eb(1),s.Vc("",n," ")}}function Bl(t,e){if(1&t&&(s.Xb(0,"mat-option",45),s.Tc(1),s.Wb()),2&t){var a=e.$implicit,n=s.jc(3);s.rc("disabled",n.isDocumentOptionDisabled(a))("value",a),s.Eb(1),s.Vc(" ",a," ")}}function zl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Id Type"),s.Wb(),s.Wb())}function ql(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Enter Id Number"),s.Wb(),s.Wb())}function Kl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",30),s.Xb(1,"fieldset",31),s.Xb(2,"div",32),s.Xb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"label",35),s.Tc(6,"Id Type "),s.Wb(),s.Xb(7,"mat-form-field",36),s.Xb(8,"mat-select",37),s.fc("valueChange",function(t){s.Hc(a);var n=e.index;return s.jc(2).changeValue2(t,n)}),s.Xb(9,"mat-option",38),s.Tc(10,"select---"),s.Wb(),s.Rc(11,Bl,2,3,"mat-option",39),s.Wb(),s.Xb(12,"mat-placeholder",40),s.Tc(13,"Select Id Type* "),s.Wb(),s.Wb(),s.Rc(14,zl,3,0,"mat-error",9),s.Wb(),s.Xb(15,"div",34),s.Xb(16,"label",41),s.Tc(17,"Id Number "),s.Wb(),s.Xb(18,"mat-form-field",36),s.Sb(19,"input",42),s.Xb(20,"mat-placeholder",40),s.Tc(21,"Enter Id Number* "),s.Wb(),s.Wb(),s.Rc(22,ql,3,0,"mat-error",9),s.Wb(),s.Xb(23,"button",43),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc(2).deleteDocument(t,n)}),s.Xb(24,"mat-icon",44),s.Tc(25,"delete_outline"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc(2);s.rc("formGroupName",o),s.Eb(11),s.rc("ngForOf",i.idTypeList),s.Eb(3),s.rc("ngIf",n.get("idType").touched&&!n.get("idType").valid),s.Eb(8),s.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid)}}function Jl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",27),s.Rc(1,Kl,26,4,"div",28),s.Xb(2,"button",29),s.fc("click",function(t){return s.Hc(a),s.jc().addDocument(t)}),s.Xb(3,"mat-icon"),s.Tc(4,"add"),s.Wb(),s.Tc(5," ADD "),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.rc("ngForOf",n.identityUpdateForm.get("idProofList").controls),s.Eb(1),s.rc("disabled",3==n.selectedOptions.length)}}var Hl,$l=function(){return["YES","NO"]},Yl=((Hl=function(){function t(e,a,o,i,r,c,l){n(this,t),this.dialogRef=e,this.data=a,this.formBuilder=o,this.ls=i,this.apiService=r,this.corporateService=c,this.snack=l,this.minDate=new Date,this.validDate=new Date,this.maxDate=new Date}return i(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.data?(this.buildIdentityForm(),this.identityUpdateForm.patchValue(this.data)):this.buildIdentityForm()}},{key:"buildIdentityForm",value:function(){this.identityUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],incorporationNumber:["",[v.z.required,v.z.pattern("^[a-zA-Z0-9]{0,35}$")]],dateOfIssue:["",[v.z.required]],dateOfExpiry:["",[v.z.required]],isAnotherIdProofRequired:["NO"],idProofList:this.formBuilder.array([])})}},{key:"getDocumentList",get:function(){return this.identityUpdateForm.get("idProofList")}},{key:"addDocument",value:function(){this.getDocumentList.push(this.formBuilder.group({idType:["",[v.z.required]],idNumber:["",[v.z.required]]}))}},{key:"deleteDocument",value:function(t,e){console.log("delete record :: ",t," index :: ",e),this.getDocumentList.removeAt(e)}},{key:"onSubmit",value:function(t){var e=this,a={};Object.keys(t).map(function(e,n){"dateOfIssue"===e||"dateOfExpiry"===e?(t[e]=y(t[e]).format("YYYY-MM-DD"),a[e]=t[e]):"isAnotherIdProofRequired"!=e&&"idProofList"!=e&&(a[e]=t[e])}),this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(function(t){console.log("data :: ",t),null!=t?(e.snack.open("Proof of identity Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"INITIATED",resp:a})):e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),e.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Hl)(s.Rb(p.g),s.Rb(p.a),s.Rb(v.f),s.Rb(m.a),s.Rb(b.b),s.Rb(Zr.a),s.Rb(W.a))},Hl.\u0275cmp=s.Lb({type:Hl,selectors:[["app-update-corporate-identity"]],decls:50,vars:15,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["visible","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","incorporationNumber","placeholder","Incorporation Number","maxLength","35","minLength","0","onlyNumber",""],[4,"ngIf"],["matInput","","id","forIddateOfIssue","readonly","","formControlName","dateOfIssue",3,"matDatepicker","max"],["matSuffix","",3,"for"],["dateOfIssue",""],["matInput","","id","forIddateOfExpiry","readonly","","formControlName","dateOfExpiry",3,"matDatepicker","min"],["dateOfExpiry",""],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","20px"],["fxFlex","28"],[2,"padding-left","10px"],["fxFlex","50"],["formControlName","isAnotherIdProofRequired",4,"ngFor","ngForOf"],["formArrayName","idProofList",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["formControlName","isAnotherIdProofRequired"],[3,"value","checked","change"],["formArrayName","idProofList"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],[3,"formGroupName"],[2,"border-top","1px solid lightgray","margin-left","20px","margin-right","20px"],["fxLayout","row wrap",1,"top"],["fxFlex","100","fxLayoutGap","30px"],["fxFlex","30",1,"form-group"],["for","forIdType",1,"hint"],["floatLabel","never"],["formControlName","idType","id","forIdType",3,"valueChange"],["disabled",""],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"placeholder"],["for","forIdNumber",1,"hint"],["matInput","","formControlName","idNumber","id","forIdNumber","maxLength","12","minLength","6"],["mat-button","",3,"click"],[2,"color","tomato"],[3,"disabled","value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Proof Of Identity"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div"),s.Xb(8,"legend",4),s.Tc(9,"Certificate of Incorporation Details"),s.Wb(),s.Xb(10,"div"),s.Xb(11,"div",5),s.Xb(12,"mat-hint",6),s.Tc(13,"Incorporation Number*"),s.Wb(),s.Xb(14,"mat-card",7),s.Sb(15,"input",8),s.Wb(),s.Rc(16,Ul,2,0,"mat-error",9),s.Rc(17,Ml,2,0,"mat-error",9),s.Wb(),s.Xb(18,"div",5),s.Xb(19,"mat-hint",6),s.Tc(20,"Date of Issue*"),s.Wb(),s.Xb(21,"mat-card",7),s.Sb(22,"input",10),s.Sb(23,"mat-datepicker-toggle",11),s.Sb(24,"mat-datepicker",null,12),s.Wb(),s.Rc(26,Gl,3,0,"mat-error",9),s.Wb(),s.Xb(27,"div",5),s.Xb(28,"mat-hint",6),s.Tc(29,"Date of Expiry*"),s.Wb(),s.Xb(30,"mat-card",7),s.Sb(31,"input",13),s.Sb(32,"mat-datepicker-toggle",11),s.Sb(33,"mat-datepicker",null,14),s.Wb(),s.Rc(35,Vl,3,0,"mat-error",9),s.Wb(),s.Wb(),s.Xb(36,"div",15),s.Xb(37,"div",16),s.Xb(38,"div",17),s.Xb(39,"mat-label",18),s.Tc(40," Do you want add another proof of ID? "),s.Wb(),s.Wb(),s.Xb(41,"div",19),s.Rc(42,jl,4,3,"mat-radio-group",20),s.Wb(),s.Wb(),s.Wb(),s.Rc(43,Jl,6,2,"div",21),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",22),s.Xb(45,"button",23),s.fc("click",function(){return e.onSubmit(e.identityUpdateForm.value)}),s.Tc(46,"Save"),s.Wb(),s.Tc(47," \xa0\xa0\xa0 "),s.Xb(48,"button",24),s.fc("click",function(){return e.close()}),s.Tc(49," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(25),n=s.Dc(34);s.Eb(6),s.rc("formGroup",e.identityUpdateForm),s.Eb(10),s.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").touched&&e.identityUpdateForm.get("incorporationNumber").hasError("required")),s.Eb(1),s.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").hasError("pattern")),s.Eb(5),s.rc("matDatepicker",a)("max",e.maxDate),s.Eb(1),s.rc("for",a),s.Eb(3),s.rc("ngIf",e.identityUpdateForm.get("dateOfIssue").touched&&!e.identityUpdateForm.get("dateOfIssue").valid),s.Eb(5),s.rc("matDatepicker",n)("min",e.validDate),s.Eb(1),s.rc("for",n),s.Eb(3),s.rc("ngIf",e.identityUpdateForm.get("dateOfExpiry").touched&&!e.identityUpdateForm.get("dateOfExpiry").valid),s.Eb(7),s.rc("ngForOf",s.wc(14,$l)),s.Eb(1),s.rc("ngIf","YES"==e.identityUpdateForm.get("isAnotherIdProofRequired").value),s.Eb(2),s.rc("disabled",e.identityUpdateForm.invalid)}},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,x.b,v.c,v.r,v.i,Y.a,c.n,A.e,A.g,I.j,A.d,X.f,I.g,c.m,D.b,I.b,te.b,te.a,v.e,v.k,I.c,C.a,S.n,I.h],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Hl);function Zl(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ql(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ts(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Type Of Ownership is Required! "),s.Wb())}function es(t,e){1&t&&(s.Xb(0,"legend",38),s.Tc(1,"Document Upload"),s.Wb())}function as(t,e){if(1&t&&(s.Xb(0,"mat-option",39),s.Tc(1),s.Wb()),2&t){var a=e.$implicit,n=s.jc(2);s.rc("disabled",n.isDocumentOptionDisabled(a))("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ns(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Document Type is Required!"),s.Wb(),s.Wb())}function os(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",24),s.Rc(1,es,2,0,"legend",25),s.Xb(2,"div",3),s.Xb(3,"div",26),s.Xb(4,"div",27),s.Xb(5,"mat-hint",5),s.Tc(6,"Document Type*"),s.Wb(),s.Xb(7,"mat-card",6),s.Xb(8,"mat-select",28),s.fc("valueChange",function(t){s.Hc(a);var n=e.index;return s.jc().changeValue(t,n)}),s.Xb(9,"mat-option",8),s.Tc(10,"select"),s.Wb(),s.Rc(11,as,2,3,"mat-option",29),s.Wb(),s.Wb(),s.Rc(12,ns,3,0,"mat-error",12),s.Wb(),s.Xb(13,"div",30),s.Sb(14,"img",31),s.Wb(),s.Xb(15,"div",32),s.Xb(16,"input",33,34),s.fc("change",function(t){s.Hc(a);var n=e.index,o=s.Dc(17);return s.jc().onOtherDocSelect(t.target.files,n,o.files[0].name)}),s.Wb(),s.Xb(18,"button",35),s.fc("click",function(){return s.Hc(a),s.Dc(17).click()}),s.Tc(19,"Browse"),s.Wb(),s.Xb(20,"button",36),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().deleteDocument(t,n)}),s.Xb(21,"mat-icon",37),s.Tc(22,"delete_outline"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc();s.rc("formGroupName",o),s.Eb(1),s.rc("ngIf",0==o),s.Eb(10),s.rc("ngForOf",i.documentTypeList),s.Eb(1),s.rc("ngIf",n.get("documentType").touched&&!n.get("documentType").valid),s.Eb(2),s.rc("src",n.controls.fileData.value,s.Jc)}}var is,rs=((is=function(){function t(e,a,o,i,r,c,l){var s=this;n(this,t),this.dialogRef=e,this.formBuilder=a,this.data=o,this.ls=i,this.apiService=r,this.corporateService=c,this.snack=l,this.organizationTypeList=["Public","Private"],this.typeOfOwnershipList=["Independent","Dependent"],this.kycStatusList=["APPROVED","BACKLOG","INITIATED","REJECTED"],this.otherDocumentArray=[],this.selectedOptions=[],this.selectedDocumentTypes=[],this.corporateDocs=[],this.isDocumentOptionDisabled=function(t){return s.selectedOptions.includes(t)}}return i(t,[{key:"ngOnInit",value:function(){var t=this;if(console.log(this.data),this.corporateId=this.ls.getItem("corporateId"),this.apiService.getDropDownValues("document_type").subscribe(function(e){t.documentTypeList=e}),this.data){this.data.corporateDocs=this.data.corporateDocs.filter(function(t){return"Profile"!=t.documentName}),this.buildOtherFormGroup(this.data);for(var e=0;e<this.data.corporateDocs.length;e++)this.addDocument(),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.documentType.setValue(this.data.corporateDocs[e].documentName),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.fileData.setValue(this.data.corporateDocs[e].fileUrl),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.documentName.setValue(this.data.corporateDocs[e].fileName)}}},{key:"buildOtherFormGroup",value:function(t){this.otherInfoUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],organizationType:[t?t.organizationType:"",v.z.required],typeOfOwnership:[t?t.typeOfOwnership:"",v.z.required],kycReference:[t?t.kycReference:""],KycStatus:[t?t.kycStatus:""],corporateDocs:this.formBuilder.array([])})}},{key:"getDocumentList",get:function(){return this.otherInfoUpdateForm.get("corporateDocs")}},{key:"addDocument",value:function(){this.getDocumentList.push(this.formBuilder.group({documentType:["",[v.z.required]],documentName:["",[v.z.required]],fileData:[""]}))}},{key:"deleteDocument",value:function(t,e){this.getDocumentList.removeAt(e)}},{key:"changeValue",value:function(t,e){var a=this;console.log(e),this.selectedDocumentTypes[e]&&(this.selectedOptions=this.selectedOptions.filter(function(t){return t!==a.selectedDocumentTypes[e]})),this.selectedDocumentTypes[e]=t,console.log(t),this.selectedOptions.push(t)}},{key:"onOtherDocSelect",value:function(t,e,a){var n=this;this.otherDocumentArray.push(t.item(0)),this.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.documentName.setValue(a);var o=new FileReader;o.readAsDataURL(t.item(0)),o.onload=function(t){n.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.fileData.setValue(o.result)}}},{key:"onSubmit",value:function(t){var e=this,a={};Object.keys(t).map(function(e,n){"corporateDocs"!=e&&(a[e]=t[e])}),this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(function(t){if(null!=t){for(var a=0;a<e.otherInfoUpdateForm.get("corporateDocs").value.length;a++)if(e.otherDocumentArray.length>0){var n={};n.documentName=e.otherInfoUpdateForm.get("corporateDocs").value[a].documentType,n.documentType=2,n.fileType=e.otherDocumentArray[a].type,n.fileName=e.otherDocumentArray[a].name,n.corporateId=t.corporateId,n.id=e.otherDocumentArray[a].id;var o=new FormData;o.append("data",JSON.stringify(n)),o.append("file",e.otherDocumentArray[a]),e.apiService.uploadCorporateDocument(o).subscribe(function(t){console.log(t),e.corporateDocs.push(t)})}}else e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});e.dialogRef.close({status:"INITIATED",resp:{typeOfOwnership:t.typeOfOwnership,organizationType:t.organizationType,corporateDocs:e.corporateDocs}})},function(t){console.log("error resp :: ",t),e.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||is)(s.Rb(p.g),s.Rb(v.f),s.Rb(p.a),s.Rb(m.a),s.Rb(b.b),s.Rb(Zr.a),s.Rb(W.a))},is.\u0275cmp=s.Lb({type:is,selectors:[["app-update-corporate-addititonal-info"]],decls:45,vars:6,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFl50ex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["id","forOrganizationType","formControlName","organizationType","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33%","fxFlex.xs","100%",1,"full-width"],["id","forTypeOfOwnership","formControlName","typeOfOwnership","required",""],[4,"ngIf"],["formArrayName","corporateDocs"],[3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","1px"],["fxFlex","1"],["fxFlex","20"],["mat-button","","color","primary",3,"click"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["visible","true",4,"ngIf"],["fxFlex","100","fxLayoutGap","20px",1,"padding"],["fxFlex","50","fxFlex.xs","100%",1,"full-width"],["id","forDocumentType","formControlName","documentType","required","",3,"valueChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.xs","100%",1,"pt20"],["height","80px","width","85px",3,"src"],["fxFlex","30","fxLayoutGap","5px",2,"display","flex","margin-top","20px","align-content","center","margin-left","30px"],["type","file","name","fileData","formControlName","fileData",1,"default-background",2,"display","none","margin-top","20px",3,"change"],["fileData",""],["mat-button","",2,"text-decoration","underline","color","#456EFE",3,"routerLink","click"],["mat-button","",3,"click"],[2,"color","tomato"],["visible","true"],[3,"disabled","value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1"),s.Tc(4,"Other Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",2),s.Xb(7,"div"),s.Xb(8,"h3"),s.Tc(9,"Organization Information"),s.Wb(),s.Sb(10,"hr"),s.Xb(11,"div",3),s.Xb(12,"div",4),s.Xb(13,"mat-hint",5),s.Tc(14,"Organization Type"),s.Wb(),s.Xb(15,"mat-card",6),s.Xb(16,"mat-select",7),s.Xb(17,"mat-option",8),s.Tc(18,"select"),s.Wb(),s.Rc(19,Zl,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",10),s.Xb(21,"mat-hint",5),s.Tc(22,"Type of Ownership"),s.Wb(),s.Xb(23,"mat-card",6),s.Xb(24,"mat-select",11),s.Xb(25,"mat-option",8),s.Tc(26,"select"),s.Wb(),s.Rc(27,Ql,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Rc(28,ts,2,0,"mat-error",12),s.Wb(),s.Xb(29,"div",13),s.Rc(30,os,23,5,"div",14),s.Xb(31,"div",15),s.Xb(32,"div",16),s.Sb(33,"div",17),s.Xb(34,"div",18),s.Xb(35,"button",19),s.fc("click",function(){return e.addDocument()}),s.Xb(36,"mat-icon"),s.Tc(37,"add"),s.Wb(),s.Tc(38," ADD DOCUMENT "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",20),s.Xb(40,"button",21),s.fc("click",function(){return e.onSubmit(e.otherInfoUpdateForm.value)}),s.Tc(41,"Save"),s.Wb(),s.Tc(42," \xa0\xa0\xa0 "),s.Xb(43,"button",22),s.fc("click",function(){return e.close()}),s.Tc(44," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.otherInfoUpdateForm),s.Eb(13),s.rc("ngForOf",e.organizationTypeList),s.Eb(8),s.rc("ngForOf",e.typeOfOwnershipList),s.Eb(1),s.rc("ngIf",e.otherInfoUpdateForm.get("typeOfOwnership").touched&&!e.otherInfoUpdateForm.get("typeOfOwnership").valid),s.Eb(2),s.rc("ngForOf",e.otherInfoUpdateForm.get("corporateDocs").controls),s.Eb(10),s.rc("disabled",e.otherInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.e,v.A,v.s,v.j,X.b,I.f,E.a,C.a,v.r,v.i,v.y,S.n,c.m,c.n,v.e,X.f,D.b,I.b,v.k,v.c,Ze.i],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}legend[_ngcontent-%COMP%]{width:auto;color:grey;font-size:20px;padding-right:20px;font-family:Montserrat,Courier,monospace}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),is);function cs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Valid Address "),s.Wb())}function ls(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Valid Address "),s.Wb())}function ss(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function bs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Country is Required! "),s.Wb())}function us(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName," ")}}function ds(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," State is Required! "),s.Wb())}function ms(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1," ")}}function ps(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," City is Required! "),s.Wb())}function fs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter valid Zip code"),s.Wb(),s.Wb())}function hs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter valid ZipCode!"),s.Wb(),s.Wb())}function gs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",20),s.Xb(1,"h3",7),s.Tc(2,"Company Address"),s.Wb(),s.Sb(3,"hr"),s.Xb(4,"div",21),s.Xb(5,"div",8),s.Xb(6,"mat-hint",9),s.Tc(7,"Address Line 1*"),s.Wb(),s.Xb(8,"mat-card",10),s.Sb(9,"input",22),s.Wb(),s.Rc(10,cs,2,0,"mat-error",12),s.Wb(),s.Xb(11,"div",8),s.Xb(12,"mat-hint",9),s.Tc(13,"Address Line 2*"),s.Wb(),s.Xb(14,"mat-card",10),s.Sb(15,"input",23),s.Wb(),s.Rc(16,ls,2,0,"mat-error",12),s.Wb(),s.Xb(17,"div",8),s.Xb(18,"mat-hint",9),s.Tc(19,"Country*"),s.Wb(),s.Xb(20,"mat-card",10),s.Xb(21,"mat-select",24),s.fc("selectionChange",function(t){s.Hc(a);var n=e.index;return s.jc().getStateName(t.value,n)}),s.Xb(22,"mat-option",25),s.Tc(23,"select"),s.Wb(),s.Rc(24,ss,2,2,"mat-option",26),s.Wb(),s.Wb(),s.Rc(25,bs,2,0,"mat-error",12),s.Wb(),s.Xb(26,"div",8),s.Xb(27,"mat-hint",9),s.Tc(28,"State*"),s.Wb(),s.Xb(29,"mat-card",10),s.Xb(30,"mat-select",27),s.fc("selectionChange",function(t){s.Hc(a);var n=e.index;return s.jc().getCityName(t.value,n)}),s.Xb(31,"mat-option",25),s.Tc(32,"select---"),s.Wb(),s.Rc(33,us,2,2,"mat-option",26),s.Wb(),s.Wb(),s.Rc(34,ds,2,0,"mat-error",12),s.Wb(),s.Xb(35,"div",8),s.Xb(36,"mat-hint",9),s.Tc(37,"City*"),s.Wb(),s.Xb(38,"mat-card",10),s.Xb(39,"mat-select",28),s.Xb(40,"mat-option",25),s.Tc(41,"select---"),s.Wb(),s.Rc(42,ms,2,2,"mat-option",26),s.Wb(),s.Wb(),s.Rc(43,ps,2,0,"mat-error",12),s.Wb(),s.Xb(44,"div",8),s.Xb(45,"mat-hint",9),s.Tc(46,"Zip code*"),s.Wb(),s.Xb(47,"mat-card",10),s.Xb(48,"input",29),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().isAllSameDigit(t,n)}),s.Wb(),s.Wb(),s.Rc(49,fs,3,0,"mat-error",12),s.Rc(50,hs,3,0,"mat-error",12),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=s.jc();s.rc("formGroupName",o),s.Eb(10),s.rc("ngIf",n.get("address1").touched&&!n.get("address1").valid||n.get("address1").touched&&n.get("address1").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("address2").touched&&!n.get("address2").valid||n.get("address2").touched&&n.get("address2").hasError("pattern")),s.Eb(8),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").touched&&!n.get("country").valid),s.Eb(8),s.rc("ngForOf",i.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").touched&&!n.get("state").valid),s.Eb(8),s.rc("ngForOf",i.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").touched&&!n.get("city").valid),s.Eb(6),s.rc("ngIf",n.get("zipCode").touched&&!n.get("zipCode").valid&&!n.controls.zipCode.hasError("minLength")),s.Eb(1),s.rc("ngIf",i.isAllSameDigitVal&&o==i.zipIndex)}}function vs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Primary Email is Required! "),s.Wb())}var ys,Ws=((ys=function(){function t(e,a,o,i,r,c,l){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.corporateService=i,this.ls=r,this.snack=c,this.apiService=l,this.arrayState=[],this.arrayCountry=[],this.arrayCity=[],this.isAllSameDigitVal=!1,this.corporateAddress=new v.d([])}return i(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getCountryName("country"),this.data?(this.buildContactForm(this.data[0]),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress(this.data[0])),this.getStateName(this.corporateAddress.get("country").value),this.getStateName(this.corporateAddress.get("state").value)):(this.buildContactForm(),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress()))}},{key:"buildContactForm",value:function(t){this.updateContactInfoForm=this.formBuilder.group({corporateId:[this.corporateId],primaryEmail:[t?t.primaryEmail:"",[v.z.required]],secondaryEmail:[t?t.secondaryEmail:""],mobileNumber:[t?t.mobileNumber:"",[v.z.minLength(10),v.z.maxLength(10)]],landLine:[t?t.landlineNumber:"",[v.z.maxLength,v.z.minLength]],isMailingAddressSame:["YES"],corporateAddress:this.formBuilder.array([])})}},{key:"createUserAddress",value:function(t){return this.formBuilder.group({addressType:["Communication",[v.z.required]],address1:[t?t.address1:[""],[v.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[v.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"isAllSameDigit",value:function(t,e){this.zipIndex=e;var a=0,n=t.target.value;if(""!=n){for(var o=0;o<n.length;o++)0==n[o]&&a++;this.isAllSameDigitVal=a==n.length}else this.isAllSameDigitVal=!1}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.arrayState=[],this.arrayCity=[],this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName==t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){e.arrayState=t});break}})}},{key:"getCityName",value:function(t){var e=this;this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"onSubmit",value:function(t){var e=this;"NO"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company",t.corporateAddress[1].addressType="Mailing"),"YES"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company"),this.corporateService.saveOrUpdateCorporateAccountInfo(t).subscribe(function(t){null!=t&&(e.corporateService.sendCorporateAccountId(t.corporateId),e.snack.open("Contact Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"INITIATED",resp:e.updateContactInfoForm.value}))})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||ys)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(Zr.a),s.Rb(m.a),s.Rb(W.a),s.Rb(b.b))},ys.\u0275cmp=s.Lb({type:ys,selectors:[["app-update-corporate-contact-info"]],decls:45,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title","",2,"font-size","18px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["formArrayName","corporateAddress"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],[1,"heading",2,"font-weight","600"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","forPrimaryEmail","formControlName","primaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],[4,"ngIf"],["matInput","","id","forSecondaryEmail","formControlName","secondaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],["FxLayout","row wrap",1,"full-width"],["matInput","","placeholder","Mobile Number","formControlName","mobileNumber","maxLength","10","minlength","10","onlyNumber","","required","",3,"keypress"],["matInput","","placeholder","Landline Number","formControlName","landLine","maxLength","10","minLength","10","onlyNumber","",3,"keypress"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxLayout","row wrap"],["matInput","","placeholder","Address Line 1","formControlName","address1","id","forAddress1"],["matInput","","placeholder","Address Line 2","formControlName","address2","id","forAddress2"],["id","forcountry","formControlName","country",3,"selectionChange"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","forstate","formControlName","state",3,"selectionChange"],["id","forCity","formControlName","city"],["minlength","6","placeholder","Zip Code","maxlength","10","matInput","","id","forZipCode","onlyNumber","","formControlName","zipCode",3,"keypress","keyup"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h2",2),s.Tc(4,"Contact Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Rc(9,gs,51,11,"div",6),s.Wb(),s.Xb(10,"h3",7),s.Tc(11,"Email"),s.Wb(),s.Sb(12,"hr"),s.Xb(13,"div",4),s.Xb(14,"div",8),s.Xb(15,"mat-hint",9),s.Tc(16,"Primary Email*"),s.Wb(),s.Xb(17,"mat-card",10),s.Sb(18,"input",11),s.Wb(),s.Rc(19,vs,2,0,"mat-error",12),s.Wb(),s.Xb(20,"div",8),s.Xb(21,"mat-hint",9),s.Tc(22,"Secondary Email"),s.Wb(),s.Xb(23,"mat-card",10),s.Sb(24,"input",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"h3",7),s.Tc(26,"Contact Number"),s.Wb(),s.Sb(27,"hr"),s.Xb(28,"div",14),s.Xb(29,"div",8),s.Xb(30,"mat-hint",9),s.Tc(31,"Mobile Number*"),s.Wb(),s.Xb(32,"mat-card",10),s.Xb(33,"input",15),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",8),s.Xb(35,"mat-hint",9),s.Tc(36,"Landline Number"),s.Wb(),s.Xb(37,"mat-card",10),s.Xb(38,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",17),s.Xb(40,"button",18),s.fc("click",function(){return e.onSubmit(e.updateContactInfoForm.value)}),s.Tc(41,"Save"),s.Wb(),s.Tc(42," \xa0\xa0\xa0 "),s.Xb(43,"button",19),s.fc("click",function(){return e.close()}),s.Tc(44," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.updateContactInfoForm),s.Eb(3),s.rc("ngForOf",e.updateContactInfoForm.get("corporateAddress").controls),s.Eb(10),s.rc("ngIf",e.updateContactInfoForm.get("primaryEmail").touched&&!e.updateContactInfoForm.get("primaryEmail").valid),s.Eb(21),s.rc("disabled",e.updateContactInfoForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,v.e,c.m,X.b,I.f,E.a,x.b,v.c,v.r,v.i,v.w,c.n,v.n,Y.a,v.y,X.f,D.b,v.k,C.a,S.n,v.m,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),ys),Xs=["ncForm"];function Ts(t,e){1&t&&s.Sb(0,"mat-spinner")}function Is(t,e){if(1&t&&(s.Xb(0,"div",15),s.Xb(1,"h1",16),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Oc("background",a.customerColorCode),s.Eb(2),s.Vc("",s.nc(3,3,s.lc(4,7,null==a.dataResponse||null==a.dataResponse.dataResp?null:a.dataResponse.dataResp.companyName),0,1)," ")}}function Es(t,e){if(1&t&&s.Sb(0,"img",18),2&t){var a=s.jc(3);s.rc("src",a.imageUrl,s.Jc)}}function xs(t,e){if(1&t&&(s.Xb(0,"div",15),s.Rc(1,Es,1,1,"img",17),s.Wb()),2&t){var a=s.jc(2);s.Eb(1),s.rc("ngIf",null!=a.image)}}function Cs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",19),s.Xb(1,"div",20),s.Xb(2,"div",21),s.Tc(3,"1"),s.Wb(),s.Xb(4,"div",22),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",23),s.Xb(7,"div",24),s.Xb(8,"div",25),s.Xb(9,"div",26),s.Xb(10,"h2",27),s.Tc(11,"Basic Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",28),s.fc("click",function(){return s.Hc(a),s.jc(2).editBasicInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",29),s.Wb(),s.Xb(16,"div",30),s.Xb(17,"div",31),s.Xb(18,"div",32),s.Xb(19,"div",33),s.Xb(20,"div",34),s.Xb(21,"div",35),s.Xb(22,"div",36),s.Xb(23,"div",37),s.Xb(24,"mat-hint",38),s.Tc(25," Corporate ID "),s.Wb(),s.Xb(26,"mat-card",39),s.Xb(27,"div"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",37),s.Xb(30,"mat-hint",38),s.Tc(31," Company Name "),s.Wb(),s.Xb(32,"mat-card",39),s.Xb(33,"div"),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",37),s.Xb(36,"mat-hint",38),s.Tc(37," Category "),s.Wb(),s.Xb(38,"mat-card",39),s.Xb(39,"div"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",36),s.Xb(42,"div",37),s.Xb(43,"mat-hint",38),s.Tc(44," Country "),s.Wb(),s.Xb(45,"mat-card",39),s.Xb(46,"div"),s.Tc(47),s.Wb(),s.Wb(),s.Wb(),s.Xb(48,"div",37),s.Xb(49,"mat-hint",38),s.Tc(50," Corporate Status "),s.Wb(),s.Xb(51,"mat-card",39),s.Xb(52,"div"),s.Tc(53),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(15),s.Uc(n.dataResponse.dataResp.corporateId),s.Eb(6),s.Uc(n.dataResponse.dataResp.companyName),s.Eb(6),s.Uc(n.dataResponse.dataResp.category),s.Eb(7),s.Uc(n.dataResponse.dataResp.country),s.Eb(6),s.Uc(n.dataResponse.dataResp.corporateStatus)}}function As(t,e){if(1&t&&(s.Xb(0,"div",51),s.Xb(1,"mat-hint",38),s.Tc(2," No Of Directors "),s.Wb(),s.Xb(3,"mat-card",39),s.Xb(4,"div"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(4);s.Eb(5),s.Uc(a.dataResponse.dataResp.noOfDirectors)}}function Os(t,e){if(1&t&&(s.Xb(0,"div",51),s.Xb(1,"mat-hint",38),s.Tc(2," Middle Name "),s.Wb(),s.Xb(3,"mat-card",39),s.Xb(4,"div"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(5),s.Uc(a.middleName)}}function Ds(t,e){if(1&t&&(s.Xb(0,"div",30),s.Xb(1,"div",31),s.Xb(2,"div",32),s.Xb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"div",35),s.Xb(6,"div",36),s.Rc(7,As,6,1,"div",44),s.Xb(8,"div",37),s.Xb(9,"mat-hint",38),s.Tc(10," CIF Number "),s.Wb(),s.Xb(11,"mat-card",39),s.Xb(12,"div"),s.Tc(13),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",37),s.Xb(15,"mat-hint",38),s.Tc(16," Customer ID "),s.Wb(),s.Xb(17,"mat-card",39),s.Xb(18,"div"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",36),s.Xb(21,"div",37),s.Xb(22,"mat-hint",38),s.Tc(23," Prefix* "),s.Wb(),s.Xb(24,"mat-card",39),s.Xb(25,"div"),s.Tc(26),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div",37),s.Xb(28,"mat-hint",38),s.Tc(29," First Name* "),s.Wb(),s.Xb(30,"mat-card",39),s.Xb(31,"div"),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Rc(33,Os,6,1,"div",44),s.Xb(34,"div",37),s.Xb(35,"mat-hint",38),s.Tc(36," Last Name* "),s.Wb(),s.Xb(37,"mat-card",39),s.Xb(38,"div"),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(40,"div",36),s.Xb(41,"div",37),s.Xb(42,"mat-hint",38),s.Tc(43," Gender* "),s.Wb(),s.Xb(44,"mat-card",39),s.Xb(45,"div"),s.Tc(46),s.Wb(),s.Wb(),s.Wb(),s.Xb(47,"div",37),s.Xb(48,"mat-hint",38),s.Tc(49," Date of Birth* "),s.Wb(),s.Xb(50,"mat-card",39),s.Xb(51,"div"),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",37),s.Xb(54,"mat-hint",38),s.Tc(55," Place of Birth* "),s.Wb(),s.Xb(56,"mat-card",39),s.Xb(57,"div"),s.Tc(58),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(59,"div",30),s.Xb(60,"div",37),s.Xb(61,"mat-hint",38),s.Tc(62," Residence type*"),s.Wb(),s.Xb(63,"mat-card",39),s.Xb(64,"div"),s.Tc(65),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"div",37),s.Xb(67,"mat-hint",38),s.Tc(68," Citizenship*"),s.Wb(),s.Xb(69,"mat-card",39),s.Xb(70,"div"),s.Tc(71),s.Wb(),s.Wb(),s.Wb(),s.Xb(72,"div",37),s.Xb(73,"mat-hint",38),s.Tc(74," Country of Residence*"),s.Wb(),s.Xb(75,"mat-card",39),s.Xb(76,"div"),s.Tc(77),s.Wb(),s.Wb(),s.Wb(),s.Xb(78,"div",37),s.Xb(79,"mat-hint",38),s.Tc(80," ID Type*"),s.Wb(),s.Xb(81,"mat-card",39),s.Xb(82,"div"),s.Tc(83),s.Wb(),s.Wb(),s.Wb(),s.Xb(84,"div",37),s.Xb(85,"mat-hint",38),s.Tc(86," ID Number*"),s.Wb(),s.Xb(87,"mat-card",39),s.Xb(88,"div"),s.Tc(89),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(90,"div",34),s.Xb(91,"div",45),s.Xb(92,"h1",46),s.Tc(93,"Communication Address"),s.Wb(),s.Wb(),s.Wb(),s.Sb(94,"hr",47),s.Xb(95,"div",30),s.Xb(96,"div",48),s.Xb(97,"mat-hint",38),s.Tc(98," Address Line 1* "),s.Wb(),s.Xb(99,"mat-card",39),s.Xb(100,"div"),s.Tc(101),s.Wb(),s.Wb(),s.Wb(),s.Xb(102,"div",48),s.Xb(103,"mat-hint",38),s.Tc(104," Address Line 2* "),s.Wb(),s.Xb(105,"mat-card",39),s.Xb(106,"div"),s.Tc(107),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(108,"div",30),s.Xb(109,"div",49),s.Xb(110,"mat-hint",38),s.Tc(111," Country* "),s.Wb(),s.Xb(112,"mat-card",39),s.Xb(113,"div"),s.Tc(114),s.Wb(),s.Wb(),s.Wb(),s.Xb(115,"div",49),s.Xb(116,"mat-hint",38),s.Tc(117," State* "),s.Wb(),s.Xb(118,"mat-card",39),s.Xb(119,"div"),s.Tc(120),s.Wb(),s.Wb(),s.Wb(),s.Xb(121,"div",49),s.Xb(122,"mat-hint",38),s.Tc(123," City* "),s.Wb(),s.Xb(124,"mat-card",39),s.Xb(125,"div"),s.Tc(126),s.Wb(),s.Wb(),s.Wb(),s.Xb(127,"div",49),s.Xb(128,"mat-hint",38),s.Tc(129," Zipcode* "),s.Wb(),s.Xb(130,"mat-card",39),s.Xb(131,"div"),s.Tc(132),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(133,"div",34),s.Xb(134,"div",45),s.Xb(135,"h1",46),s.Tc(136,"Contact Information"),s.Wb(),s.Wb(),s.Wb(),s.Sb(137,"hr",47),s.Xb(138,"div",30),s.Xb(139,"div",37),s.Xb(140,"mat-hint",38),s.Tc(141," Mobile Number* "),s.Wb(),s.Xb(142,"mat-card",39),s.Xb(143,"div"),s.Tc(144),s.Wb(),s.Wb(),s.Wb(),s.Xb(145,"div",37),s.Xb(146,"mat-hint",38),s.Tc(147," Landline Number* "),s.Wb(),s.Xb(148,"mat-card",39),s.Xb(149,"div"),s.Tc(150),s.Wb(),s.Wb(),s.Wb(),s.Xb(151,"div",37),s.Xb(152,"mat-hint",38),s.Tc(153," Email* "),s.Wb(),s.Xb(154,"mat-card",39),s.Xb(155,"div"),s.Tc(156),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(157,"div",30),s.Xb(158,"div",50),s.Xb(159,"h1",46),s.Tc(160,"Additional Tax ID Details"),s.Wb(),s.Wb(),s.Wb(),s.Sb(161,"hr",47),s.Xb(162,"div",30),s.Xb(163,"div",48),s.Xb(164,"mat-hint",38),s.Tc(165," Tax ID* "),s.Wb(),s.Xb(166,"mat-card",39),s.Xb(167,"div"),s.Tc(168),s.Wb(),s.Wb(),s.Wb(),s.Xb(169,"div",48),s.Xb(170,"mat-hint",38),s.Tc(171," Country of Issue* "),s.Wb(),s.Xb(172,"mat-card",39),s.Xb(173,"div"),s.Tc(174),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc(3);s.Eb(7),s.rc("ngIf",n.dataResponse.dataResp.middleName),s.Eb(6),s.Uc(a.cifNumber),s.Eb(6),s.Uc(a.custStatus),s.Eb(7),s.Uc(a.prefix),s.Eb(6),s.Uc(a.firstName),s.Eb(1),s.rc("ngIf",n.dataResponse.dataResp.middleName),s.Eb(6),s.Uc(a.lastName),s.Eb(7),s.Uc(a.gender),s.Eb(6),s.Uc(a.dateOfBirth),s.Eb(6),s.Uc(a.placeOfBirth),s.Eb(7),s.Uc(a.residenceStatus),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].citizenship),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].countryOfResidence),s.Eb(6),s.Uc(null==n.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:n.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idType),s.Eb(6),s.Uc(null==n.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:n.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idNumber),s.Eb(12),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].address1),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].address2),s.Eb(7),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].country),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].state),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].city),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].zipCode),s.Eb(12),s.Uc(n.dataResponse.dataResp.customerInfo[0].phoneNumber),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].landlineNumber),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].primaryEmailAdress),s.Eb(12),s.Uc(n.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].taxId),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].countryOfIssue)}}function Rs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",19),s.Xb(1,"div",20),s.Xb(2,"div",21),s.Tc(3,"2"),s.Wb(),s.Xb(4,"div",22),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",40),s.Xb(7,"div",41),s.Xb(8,"div",42),s.Xb(9,"div",26),s.Xb(10,"h2",27),s.Tc(11,"Director Details"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",28),s.fc("click",function(){return s.Hc(a),s.jc(2).editDirectorDetails()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",29),s.Wb(),s.Rc(16,Ds,175,26,"div",43),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(3),s.rc("ngForOf",n.directorsInfo_array)}}function Ss(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"div",31),s.Xb(3,"div",54),s.Xb(4,"div",34),s.Xb(5,"div",45),s.Xb(6,"h1",46),s.Tc(7,"Company Address"),s.Wb(),s.Wb(),s.Wb(),s.Sb(8,"hr",47),s.Xb(9,"div",30),s.Xb(10,"div",48),s.Xb(11,"mat-hint",38),s.Tc(12," Address Line 1* "),s.Wb(),s.Xb(13,"mat-card",39),s.Xb(14,"div"),s.Tc(15),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div",48),s.Xb(17,"mat-hint",38),s.Tc(18," Address Line 2* "),s.Wb(),s.Xb(19,"mat-card",39),s.Xb(20,"div"),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",30),s.Xb(23,"div",49),s.Xb(24,"mat-hint",38),s.Tc(25," Country* "),s.Wb(),s.Xb(26,"mat-card",39),s.Xb(27,"div"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",49),s.Xb(30,"mat-hint",38),s.Tc(31," State* "),s.Wb(),s.Xb(32,"mat-card",39),s.Xb(33,"div"),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",49),s.Xb(36,"mat-hint",38),s.Tc(37," City* "),s.Wb(),s.Xb(38,"mat-card",39),s.Xb(39,"div"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",49),s.Xb(42,"mat-hint",38),s.Tc(43," Zipcode* "),s.Wb(),s.Xb(44,"mat-card",39),s.Xb(45,"div"),s.Tc(46),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(47,"div",34),s.Xb(48,"div",45),s.Xb(49,"h1",46),s.Tc(50,"Email"),s.Wb(),s.Wb(),s.Wb(),s.Sb(51,"hr",47),s.Xb(52,"div",30),s.Xb(53,"div",49),s.Xb(54,"mat-hint",38),s.Tc(55," Primary Email* "),s.Wb(),s.Xb(56,"mat-card",39),s.Xb(57,"div"),s.Tc(58),s.Wb(),s.Wb(),s.Wb(),s.Xb(59,"div",49),s.Xb(60,"mat-hint",38),s.Tc(61," Secondary Email "),s.Wb(),s.Xb(62,"mat-card",39),s.Xb(63,"div"),s.Tc(64),s.Wb(),s.Wb(),s.Wb(),s.Xb(65,"div",34),s.Xb(66,"div",45),s.Xb(67,"h1",46),s.Tc(68,"Contact Number"),s.Wb(),s.Wb(),s.Wb(),s.Sb(69,"hr",47),s.Xb(70,"div",49),s.Xb(71,"mat-hint",38),s.Tc(72," Mobile Number* "),s.Wb(),s.Xb(73,"mat-card",39),s.Xb(74,"div"),s.Tc(75),s.Wb(),s.Wb(),s.Wb(),s.Xb(76,"div",49),s.Xb(77,"mat-hint",38),s.Tc(78," Landline Number* "),s.Wb(),s.Xb(79,"mat-card",39),s.Xb(80,"div"),s.Tc(81),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(3);s.Eb(15),s.Uc(a.dataResponse.dataResp.corporateAddress[0].address1),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].address2),s.Eb(7),s.Uc(a.dataResponse.dataResp.corporateAddress[0].country),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].state),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].city),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].zipCode),s.Eb(12),s.Uc(a.dataResponse.dataResp.primaryEmail),s.Eb(6),s.Uc(a.dataResponse.dataResp.secondaryEmail),s.Eb(11),s.Uc(a.dataResponse.dataResp.mobileNumber),s.Eb(6),s.Uc(a.dataResponse.dataResp.customerInfo[0].landlineNumber)}}function ks(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",19),s.Xb(1,"div",20),s.Xb(2,"div",21),s.Tc(3,"3"),s.Wb(),s.Xb(4,"div",22),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",52),s.Xb(7,"div",24),s.Xb(8,"div",41),s.Xb(9,"div",42),s.Xb(10,"div",26),s.Xb(11,"h2",27),s.Tc(12,"Contact Information"),s.Wb(),s.Xb(13,"span"),s.Xb(14,"mat-icon",28),s.fc("click",function(){return s.Hc(a),s.jc(2).editContactInfo()}),s.Tc(15,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(16,"mat-divider",29),s.Wb(),s.Rc(17,Ss,82,10,"div",53),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(14),s.rc("hidden",n.editScreen),s.Eb(3),s.rc("ngForOf",n.userAddress_array)}}function Ns(t,e){1&t&&(s.Xb(0,"small",58),s.Tc(1,"No Data Found"),s.Wb())}function Ps(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",36),s.Xb(2,"div",37),s.Xb(3,"mat-hint",38),s.Tc(4," Incorporation Number "),s.Wb(),s.Xb(5,"mat-card",39),s.Xb(6,"div"),s.Tc(7),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",37),s.Xb(9,"mat-hint",38),s.Tc(10," Date Of Issue "),s.Wb(),s.Xb(11,"mat-card",39),s.Xb(12,"div"),s.Tc(13),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",37),s.Xb(15,"mat-hint",38),s.Tc(16," Date Of Expiry "),s.Wb(),s.Xb(17,"mat-card",39),s.Xb(18,"div"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(3);s.Eb(7),s.Uc(a.dataResponse.dataResp.incorporationNumber),s.Eb(6),s.Uc(a.dataResponse.dataResp.dateOfIssue),s.Eb(6),s.Uc(a.dataResponse.dataResp.dateOfExpiry)}}function Fs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",19),s.Xb(1,"div",20),s.Xb(2,"div",21),s.Tc(3,"4"),s.Wb(),s.Xb(4,"div",22),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",55),s.Xb(7,"div",41),s.Xb(8,"div",42),s.Xb(9,"div",26),s.Xb(10,"h2",27),s.Tc(11,"Proof Of Identity"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",28),s.fc("click",function(){return s.Hc(a),s.jc(2).editProofOfIdentity()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",29),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",56),s.Xb(18,"div",54),s.Rc(19,Ns,2,0,"small",57),s.Rc(20,Ps,20,3,"div",1),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(6),s.rc("ngIf",null==n.custDoc_array),s.Eb(1),s.rc("ngIf",null!=n.custDoc_array&&(null==n.custDoc_array?null:n.custDoc_array.length)>0)}}function Ls(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",37),s.Xb(2,"mat-hint",38),s.Tc(3," Document Type* "),s.Wb(),s.Xb(4,"mat-card",39),s.Xb(5,"div"),s.Tc(6),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",37),s.Xb(8,"mat-hint",61),s.Tc(9," \xa0\xa0 Document Name* "),s.Wb(),s.Xb(10,"div",62),s.Sb(11,"img",63),s.Xb(12,"div"),s.Tc(13),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",37),s.Xb(15,"div",64),s.Xb(16,"a",65),s.Tc(17,"Download "),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(6),s.Uc(a.documentName),s.Eb(5),s.rc("src",a.fileUrl,s.Jc),s.Eb(2),s.Uc(a.fileName),s.Eb(3),s.sc("href",a.fileUrl,s.Jc)}}function _s(t,e){if(1&t&&(s.Xb(0,"div",33),s.Rc(1,Ls,18,4,"div",1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf","Profile"!=a.documentName)}}function ws(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",19),s.Xb(1,"div",20),s.Xb(2,"div",21),s.Tc(3,"5"),s.Wb(),s.Xb(4,"div",22),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",59),s.Xb(7,"div",41),s.Xb(8,"div",42),s.Xb(9,"div",26),s.Xb(10,"h2",27),s.Tc(11,"Other Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",28),s.fc("click",function(){return s.Hc(a),s.jc(2).editOtherInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",29),s.Wb(),s.Xb(16,"div",30),s.Xb(17,"div",31),s.Xb(18,"div",32),s.Xb(19,"div",33),s.Xb(20,"div",34),s.Xb(21,"div",45),s.Xb(22,"h1",46),s.Tc(23,"Organization Information"),s.Wb(),s.Wb(),s.Sb(24,"hr",47),s.Xb(25,"div",35),s.Xb(26,"div",36),s.Xb(27,"div",37),s.Xb(28,"mat-hint",38),s.Tc(29," Organization Type "),s.Wb(),s.Xb(30,"mat-card",39),s.Xb(31,"div"),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Xb(33,"div",37),s.Xb(34,"mat-hint",38),s.Tc(35," Type of Ownership "),s.Wb(),s.Xb(36,"mat-card",39),s.Xb(37,"div"),s.Tc(38),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",34),s.Rc(40,_s,2,1,"div",60),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(19),s.Uc(n.dataResponse.dataResp.organizationType),s.Eb(6),s.Uc(n.dataResponse.dataResp.typeOfOwnership),s.Eb(2),s.rc("ngForOf",n.custDoc_array)}}var Us=function(t,e){return{disabledbtn:t,continueBtn:e}},Ms=function(t,e){return{disabledbtn:t,rejectButton:e}},Gs=function(t,e){return{disabledbtn:t,approveButton:e}};function Vs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",66),s.Xb(1,"div",67),s.fc("click",function(){return s.Hc(a),s.jc(2).continue()}),s.Xb(2,"label",68),s.Tc(3,"Cotinue"),s.Wb(),s.Wb(),s.Tc(4," \xa0\xa0 "),s.Xb(5,"div",69),s.fc("click",function(){s.Hc(a);var t=s.jc(2);return t.updateApplicationStatus(t.dataResponse,"REJECTED")}),s.Xb(6,"mat-icon",70),s.Tc(7," highlight_off "),s.Wb(),s.Tc(8,"\xa0\xa0\xa0 "),s.Xb(9,"label",71),s.Tc(10,"Reject"),s.Wb(),s.Wb(),s.Tc(11," \xa0\xa0 "),s.Xb(12,"div",72),s.fc("click",function(){s.Hc(a);var t=s.jc(2);return t.updateApplicationStatus(t.dataResponse,"APPROVED")}),s.Xb(13,"mat-icon",73),s.Tc(14,"check_circle"),s.Wb(),s.Tc(15,"\xa0\xa0\xa0 "),s.Xb(16,"label",74),s.Tc(17,"Approve"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(1),s.rc("hidden",n.continueStatus)("ngClass",s.yc(6,Us,n.continueStatus,!n.continueStatus)),s.Eb(4),s.rc("hidden",n.rejectedStatus||"TELLER_MANAGER_TASK_SUMMARY"!=n.userType)("ngClass",s.yc(9,Ms,n.rejectedStatus,!n.rejectedStatus)),s.Eb(7),s.rc("hidden",n.approvedStatus)("ngClass",s.yc(12,Gs,n.approvedStatus,!n.approvedStatus))}}function js(t,e){if(1&t&&(s.Xb(0,"div",7),s.Xb(1,"div",8),s.Xb(2,"div",9),s.Rc(3,Is,5,9,"div",10),s.Rc(4,xs,2,1,"div",11),s.Wb(),s.Wb(),s.Sb(5,"br"),s.Sb(6,"br"),s.Sb(7,"br"),s.Sb(8,"br"),s.Xb(9,"div",12),s.Xb(10,"h2"),s.Tc(11),s.Wb(),s.Wb(),s.Rc(12,Cs,54,6,"div",13),s.Rc(13,Rs,17,2,"div",13),s.Rc(14,ks,18,2,"div",13),s.Sb(15,"br"),s.Rc(16,Fs,21,3,"div",13),s.Rc(17,ws,41,4,"div",13),s.Rc(18,Vs,18,15,"div",14),s.Sb(19,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(3),s.rc("ngIf","not_available"==a.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl),s.Eb(7),s.Vc("",null==a.dataResponse||null==a.dataResponse.dataResp?null:a.dataResponse.dataResp.companyName,"\xa0 "),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(2),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading)}}var Bs,zs=((Bs=function(){function t(e,a,o,i,r,c,l,s,b,u,d){n(this,t),this.tasSumService=e,this.cdr=a,this.router=o,this.ls=i,this.apiService=r,this.dialogRef=c,this.dataResponse=l,this.sanitizer=s,this.snack=b,this.dialog=u,this.jwtService=d,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.isOnGoing=""}return i(t,[{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,setTimeout(function(){var t,a,n;e.loading=!0,e.corporateId=e.dataResponse.dataResp.corporateId,e.ls.setItem("corporateId",e.corporateId),e.custDoc_array=e.dataResponse.dataResp.corporateDocs,e.getCustomerDocumentsDetails1(e.corporateId),e.phoneNum=e.dataResponse.dataResp.category,e.emailID=e.dataResponse.dataResp.companyName,e.customerColorCode=localStorage.getItem("CustomerColorCode"),e.apiService.getCoropratedetails(e.corporateId).subscribe(function(t){e.imageUrl=t.profileImage}),e.status=e.dataResponse.dataResp.corporateStatus,e.errorStatus=e.dataResponse.dataResp.custStatus,e.userAddress_array=null===(n=null===(a=null===(t=e.dataResponse)||void 0===t?void 0:t.dataResp)||void 0===a?void 0:a.customerInfo[0])||void 0===n?void 0:n.userAddress,e.custIdProofs_array=e.dataResponse.dataResp.custIdProofs,e.directorsInfo_array=e.dataResponse.dataResp.customerInfo,console.log("status::",e.status),"REJECTED"===e.status||"APPROVED"===e.status?(e.approvedStatus=!0,e.rejectedStatus=!0,e.editScreen=!0):"UNDER_PROCESS"===e.status?(e.approvedStatus=!0,e.rejectedStatus=!1,e.isOnGoing=e.status,e.editScreen=!1):"INITIATED"===e.status&&(e.approvedStatus=!1,e.rejectedStatus=!1,e.editScreen=!0),e.getProfileImage(e.dataResponse.dataResp.corporateId)},5e3)}},{key:"goToCorporate",value:function(){console.log("Navigating to edit screen"),this.router.navigateByUrl("/onboardingCorporate/corporate"),console.log(this.dataResponse),this.ls.setItem("EDIT-CORPORATEID",this.dataResponse.dataResp.corporateId),this.dialogRef.close({message:"Confirm"})}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.document_type="3",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName)})}},{key:"getCustomerDocumentsDetails1",value:function(t){var e=this;this.document_type="2",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName)})}},{key:"updateApplicationStatus",value:function(t,e,a){var n=this;t.dataResp.corporateStatus=e,this.statusUpdate=e,this.apiService.updateCorporateSatatus(t.dataResp.corporateId,e).subscribe(function(t){null!=t&&(n.cdr.markForCheck(),n.cdr.detectChanges(),1!=a&&n.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),n.snack.open(e+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},function(t){console.log("error resp :: ",t),n.errorStatus=e,n.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getCoropratedetails(t).subscribe(function(t){console.log(t),null!=t.profileImage&&(e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){})}},{key:"openEditScreen",value:function(t,e){var a=this;this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){console.log(t),a.status=t.status,"INITIATED"==t.status&&(a.status="INITIATED",a.updateApplicationStatus(a.dataResponse,"INITIATED",!0),Object.assign(e,t.resp))})}},{key:"editBasicInfo",value:function(){this.openEditScreen(Mc,this.dataResponse.dataResp)}},{key:"editDirectorDetails",value:function(){this.openEditScreen(wl,this.directorsInfo_array)}},{key:"editContactInfo",value:function(){this.openEditScreen(Ws,this.userAddress_array)}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(Yl,this.dataResponse.dataResp)}},{key:"editOtherInfo",value:function(){this.openEditScreen(rs,this.dataResponse.dataResp)}},{key:"continue",value:function(){this.ls.setItem("corporateId",this.dataResponse.dataResp.corporateId),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=CORPORATE&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Bs)(s.Rb(g.a),s.Rb(s.h),s.Rb(Ze.h),s.Rb(m.a),s.Rb(b.b),s.Rb(p.g),s.Rb(p.a),s.Rb(so.b),s.Rb(W.a),s.Rb(p.b),s.Rb(lo.a))},Bs.\u0275cmp=s.Lb({type:Bs,selectors:[["app-corporate-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad(Xs,!0),2&t&&s.Cc(a=s.gc())&&(e.ncForm=a.first)},inputs:{initiatedArr:"initiatedArr"},decls:10,vars:2,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["class","main",4,"ngIf"],[1,"main"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["class","btngrp","fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Basic Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["label","Director Details",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],[1,"margintop"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["fxFlex","40%","fxFlex.xs","50%"],["fxFlex","40%","fxFlex.xs","100%"],["label","Contact Information",2,"border-radius","0px","width","800px"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["label","Other Information",2,"border-radius","0px","width","800px"],["class","full-width",4,"ngFor","ngForOf"],[1,"hint1",2,"text-align","center"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",1,"btngrp"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(s.Xb(0,"form"),s.Xb(1,"div",0),s.Rc(2,Ts,1,0,"mat-spinner",1),s.Wb(),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"div",4),s.Xb(6,"div"),s.Xb(7,"mat-icon",5),s.fc("click",function(){return e.close(e.dataResponse)}),s.Tc(8," close"),s.Wb(),s.Wb(),s.Wb(),s.Rc(9,js,20,9,"div",6),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(2),s.rc("ngIf",e.loading),s.Eb(7),s.rc("ngIf",!e.loading))},directives:[v.A,v.s,v.t,X.d,c.n,X.e,T.a,R.b,E.c,X.b,E.a,Ba.a,I.f,c.m,X.f,c.l,bo.a],pipes:[c.v,c.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:18%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.editbtn{color:#0e7cc5;cursor:pointer}.num{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:8%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:30px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 3.4rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.margintop{margin-top:0;width:732px}.btngrp{float:right}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),Bs),qs=function(t,e,a,n){return new(a||(a=Promise))(function(o,i){function r(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}l((n=n.apply(t,e||[])).next())})};function Ks(t,e){1&t&&s.Sb(0,"mat-spinner")}function Js(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",19),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"div",20),s.Rc(2,Ks,1,0,"mat-spinner",21),s.Wb(),s.Xb(3,"mat-icon"),s.Tc(4,"close"),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(2),s.rc("ngIf",n.loading)}}function Hs(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function $s(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",null==a.corporateDocs[0]?null:a.corporateDocs[0].fileUrl,s.Jc)}}function Ys(t,e){if(1&t&&s.Sb(0,"img",34),2&t){var a=s.jc(2).$implicit;s.rc("src",null==a.corporateDocs[0]?null:a.corporateDocs[0].fileUrl,s.Jc)}}function Zs(t,e){1&t&&s.Rc(0,Ys,1,1,"ng-template",null,35,s.Sc)}function Qs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.goToCorporateOnBoardingSummary(t,"INITATED",o.getRandomColor(n+3))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",24),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,Hs,2,1,"div",21),s.Rc(11,$s,2,1,"div",21),s.Rc(12,Zs,2,0,void 0,21),s.Wb(),s.Xb(13,"mat-card-title",27),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"form",28),s.Xb(18,"div",29),s.Xb(19,"span"),s.Tc(20,"Category "),s.Wb(),s.Xb(21,"span"),s.Tc(22,"Organization Type"),s.Wb(),s.Wb(),s.Xb(23,"div",30),s.Xb(24,"span"),s.Tc(25),s.Wb(),s.Xb(26,"span"),s.Tc(27),s.Wb(),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",31),s.Xb(30,"span"),s.Tc(31,"Date Of Issue"),s.Wb(),s.Xb(32,"span"),s.Tc(33,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(34,"div",32),s.Xb(35,"span"),s.Tc(36),s.kc(37,"date"),s.Wb(),s.Xb(38,"span"),s.Tc(39),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,10,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.corporateDocs),s.Eb(1),s.rc("ngIf",1==(null==n.corporateDocs[0]?null:n.corporateDocs[0].documentType)),s.Eb(1),s.rc("ngIf",1==(null==n.corporateDocs[0]?null:n.corporateDocs[0].documentType)),s.Eb(2),s.Vc(" ",n.companyName,"\xa0 "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(37,12,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}function tb(t,e){if(1&t&&(s.Xb(0,"mat-card",14),s.Xb(1,"div",15),s.Xb(2,"span",16),s.Xb(3,"h2",17),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,Qs,41,14,"div",18),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Pending for approval (",null==a.INITIATEDArr?null:a.INITIATEDArr.length,"/",a.INITIATEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.INITIATEDArr)}}function eb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function ab(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",a.profileImage,s.Jc)}}function nb(t,e){if(1&t&&s.Sb(0,"img",37),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function ob(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCorporateOnBoardingSummary(t,"UNDER_PROCESS",o.getRandomColor(n+6))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",36),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,eb,2,1,"div",21),s.Rc(11,ab,2,1,"div",21),s.Rc(12,nb,1,1,"ng-template",null,35,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",27),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"form",28),s.Xb(19,"div",29),s.Xb(20,"span"),s.Tc(21,"Category "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Organization Type"),s.Wb(),s.Wb(),s.Xb(24,"div",30),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",31),s.Xb(31,"span"),s.Tc(32,"Date Of Issue"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(35,"div",32),s.Xb(36,"span"),s.Tc(37),s.kc(38,"date"),s.Wb(),s.Xb(39,"span"),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,9,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.profileImage),s.Eb(1),s.rc("ngIf",null!=n.profileImage),s.Eb(4),s.Vc(" ",n.companyName," "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(38,11,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}function ib(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function rb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",a.profileImage,s.Jc)}}function cb(t,e){if(1&t&&s.Sb(0,"img",37),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function lb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.goToCorporateOnBoardingSummary(t,"APPROVED",o.getRandomColor(n+12))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",38),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,ib,2,1,"div",21),s.Rc(11,rb,2,1,"div",21),s.Rc(12,cb,1,1,"ng-template",null,35,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",27),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"form",28),s.Xb(19,"div",29),s.Xb(20,"span"),s.Tc(21,"Category "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Organization Type"),s.Wb(),s.Wb(),s.Xb(24,"div",30),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",31),s.Xb(31,"span"),s.Tc(32,"Date Of Issue"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(35,"div",32),s.Xb(36,"span"),s.Tc(37),s.kc(38,"date"),s.Wb(),s.Xb(39,"span"),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,9,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.profileImage),s.Eb(1),s.rc("ngIf",null!=n.profileImage),s.Eb(4),s.Vc(" ",n.companyName," "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(38,11,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}function sb(t,e){if(1&t&&(s.Xb(0,"mat-card",14),s.Xb(1,"div",15),s.Xb(2,"span",16),s.Xb(3,"h2",17),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,lb,42,13,"div",18),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Approved (",null==a.APPROVEDArr?null:a.APPROVEDArr.length,"/",a.APPROVEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.APPROVEDArr)}}function bb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function ub(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",a.profileImage,s.Jc)}}function db(t,e){if(1&t&&s.Sb(0,"img",37),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function mb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.goToCorporateOnBoardingSummary(t,"REJECTED",o.getRandomColor(n+15))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",39),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,bb,2,1,"div",21),s.Rc(11,ub,2,1,"div",21),s.Rc(12,db,1,1,"ng-template",null,35,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",27),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"form",28),s.Xb(19,"div",29),s.Xb(20,"span"),s.Tc(21,"Category "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Organization Type"),s.Wb(),s.Wb(),s.Xb(24,"div",30),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",31),s.Xb(31,"span"),s.Tc(32,"Date Of Issue"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(35,"div",32),s.Xb(36,"span"),s.Tc(37),s.kc(38,"date"),s.Wb(),s.Xb(39,"span"),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,9,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.profileImage),s.Eb(1),s.rc("ngIf",null!=n.profileImage),s.Eb(4),s.Vc(" ",n.companyName," "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(38,11,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}function pb(t,e){if(1&t&&(s.Xb(0,"mat-card",14),s.Xb(1,"div",15),s.Xb(2,"span",16),s.Xb(3,"h2",17),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,mb,42,13,"div",18),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Rejected (",null==a.REJECTEDArr?null:a.REJECTEDArr.length,"/",a.REJECTEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.REJECTEDArr)}}var fb,hb=((fb=function(){function t(e,a,o,i,r,c,l,b,d){n(this,t),this.dialog=e,this.ls=a,this.tasSumService=o,this.cdr=i,this.apiService=r,this.router=c,this.snack=l,this.sanitizer=b,this.jwtService=d,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="corporate",this.setValue=new s.o,this._searchSubject=new u.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.isScroll=!0,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages)}},{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.getDataOnLoad(),this.listOfOptions.filter(function(t){t.checked&&(e.radioButtonSelected=t.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchcorporateID(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return qs(this,void 0,void 0,a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e],0,0);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerInfo",value:function(t,e,a){var n=this;this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=null==e?void 0:e.corporateList,this.INITIATEDTotalPages=null==e?void 0:e.totalPages,this.INITIATEDTotalRecords=null==e?void 0:e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=null==e?void 0:e.corporateList,this.UNDER_PROCESSTotalPages=null==e?void 0:e.totalPages,this.UNDER_PROCESSTotalRecords=null==e?void 0:e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.corporateList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.corporateList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;0!=this.isScroll&&(console.log("---------scrolled----------"),e!==a?this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.corporateList)}):console.log("No scroll requied"))}},{key:"GoToCustomerOnboarding",value:function(){var t=this;setTimeout(function(){t.router.navigateByUrl("/tasks/cust-on-boarding-task-summary")},300)}},{key:"goToCorporateOnBoardingSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open(zs,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus||n.getDataOnLoad()})}},{key:"searchcorporateID",value:function(t){var e;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e="mobileNumber="+this.searchText.trim()):(console.log("kycId"),e="corporateId="+this.searchText.trim()):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e="primaryEmail="+this.searchText.trim()):t==t.toUpperCase()?(console.log("name"),e="corporateStatus="+this.searchText.trim()):(console.log("name"),e="companyName="+this.searchText.trim())),this.getCustomerData(e),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;this.loading=!0,console.log("params::",t),this.apiService.getcorporateSearchDetails(t).subscribe(function(t){e.loading=!1,console.log("resp data :: ",t),e.resetSearchData();for(var a=0;a<t.corporateList.length;a++){for(var n=t.corporateList[a],o=0;o<t.corporateList[a].corporateDocs.length;o++)n.profileImage="Profile"==t.corporateList[a].corporateDocs[o].documentName?t.corporateList[a].corporateDocs[o].fileUrl:null;e.searchResponseUpdate(t.corporateList[a].corporateStatus,n)}})}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){console.log("called ?",t,e),"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getcorporateIDData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(console.log("resp data :: ",t),e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return qs(this,void 0,void 0,a().mark(function n(){var o,i,r,c;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"INITIATED"==t?(o=Qt.unionBy(this.INITIATEDArr,e,"corporateID"),this.INITIATEDArr=o):"UNDER_PROCESS"==t?(i=Qt.unionBy(this.UNDER_PROCESSArr,e,"corporateID"),this.UNDER_PROCESSArr=i):"APPROVED"==t?(r=Qt.unionBy(this.APPROVEDArr,e,"corporateID"),this.APPROVEDArr=r):"REJECTED"==t&&(c=Qt.unionBy(this.REJECTEDArr,e,"corporateID"),this.REJECTEDArr=c),this.cdr.markForCheck();case 2:case"end":return a.stop()}},n,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||fb)(s.Rb(p.b),s.Rb(m.a),s.Rb(g.a),s.Rb(s.h),s.Rb(b.b),s.Rb(Ze.h),s.Rb(W.a),s.Rb(so.b),s.Rb(lo.a))},fb.\u0275cmp=s.Lb({type:fb,selectors:[["app-corporate-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:33,vars:11,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Corporate_id or Company Name",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar",""],[2,"font-size","16px"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","58px",1,"col2"],["fxLayout","row","fxLayoutGap","40px",1,"col3"],["fxLayout","row","fxLayoutGap","44px",1,"col4"],[3,"name"],["alt","",2,"width","150px","height","50px","border-radius","60%",3,"src"],["showAvatar",""],[1,"fill-color-blue","bookMark","bookMark1"],["alt","",2,"width","150px","height","50px","border-radius","50%",3,"src"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"mat-slide-toggle",2),s.fc("change",function(){return e.GoToCustomerOnboarding()}),s.Tc(5,"Switch to Customer Onboarding "),s.Wb(),s.Xb(6,"div",3),s.Xb(7,"div",4),s.Xb(8,"span",5),s.Tc(9," Corporate Customer Onboarding Task Summary "),s.Wb(),s.Wb(),s.Xb(10,"div",6),s.Xb(11,"mat-form-field",7),s.Xb(12,"mat-label"),s.Tc(13,"Search"),s.Wb(),s.Xb(14,"input",8),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Xb(15,"mat-icon",9),s.Tc(16,"search"),s.Wb(),s.Rc(17,Js,5,1,"button",10),s.Xb(18,"mat-hint"),s.Tc(19,"Search Corporate_id or Company Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",11),s.Xb(21,"div",12),s.Rc(22,tb,8,3,"mat-card",13),s.Xb(23,"mat-card",14),s.Xb(24,"div",15),s.Xb(25,"span",16),s.Xb(26,"h2",17),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div"),s.Rc(29,ob,42,13,"div",18),s.Wb(),s.Wb(),s.Rc(30,sb,8,3,"mat-card",13),s.Rc(31,pb,7,3,"mat-card",13),s.Wb(),s.Sb(32,"br"),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(13),s.rc("ngModel",e.searchText),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(5),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(5),s.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.UNDER_PROCESSArr),s.Eb(1),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(1),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType))},directives:[oi.a,O.a,X.e,X.d,X.f,X.b,I.c,I.g,x.b,v.c,v.r,v.u,T.a,I.i,c.n,I.f,E.a,c.m,D.b,I.j,R.b,E.e,E.c,E.h,E.g,v.A,v.s,v.t],pipes:[Si.a,c.f],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}"]}),fb);function gb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0 Card Type Is Required "),s.Wb())}function vb(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function yb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0Currency is Required! "),s.Wb())}function Wb(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc("",a," ")}}function Xb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0Employment Type is Required! "),s.Wb())}function Tb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0Affinity Program is Required! "),s.Wb())}var Ib,Eb=((Ib=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.dialogRef=a,this.apiService=o,this.formBuilder=i,this.router=r,this.snack=c,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"]}return i(t,[{key:"ngOnInit",value:function(){this.getEmploymentType("employment_type"),console.log(this.data),this.data?this.buildInitiationUpdateForm(this.data):this.buildInitiationUpdateForm()}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.employmentTypeArray=t})}},{key:"buildInitiationUpdateForm",value:function(t){this.cardInitiationUpdateForm=this.formBuilder.group({existingCustomer:[t&&t.existingCustomer?t.existingCustomer:""],cardType:[t&&t.cardType?t.cardType:"",[v.z.required]],customerAccount:[t&&t.customerAccount?t.customerAccount:""],applicantName:[t&&t.applicantName?t.applicantName:""],currency:[t&&t.currency?t.currency:"",[v.z.required]],employmentType:[t&&t.employmentType?t.employmentType:"",[v.z.required]],affinityProgram:[t&&t.affinityProgram?t.affinityProgram:"",[v.z.required]]})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"onSubmit",value:function(){var t=this;this.apiService.uploadCardInitiation({existingCustomer:this.cardInitiationUpdateForm.value.existingCustomer,cardType:this.cardInitiationUpdateForm.value.cardType,customerAccount:this.cardInitiationUpdateForm.value.customerAccount,applicantName:this.cardInitiationUpdateForm.value.applicantName,currency:this.cardInitiationUpdateForm.value.currency,employmentType:this.cardInitiationUpdateForm.value.employmentType,affinityProgram:this.cardInitiationUpdateForm.value.affinityProgram,nameOnCard:this.data.nameOnCard,status:this.data.status,kycStatus:this.data.kycStatus,kycReference:this.data.kycRefrence,customerId:this.data.customerId,cardId:this.data.cardId}).subscribe(function(e){t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}]),t}()).\u0275fac=function(t){return new(t||Ib)(s.Rb(p.a),s.Rb(p.g),s.Rb(b.b),s.Rb(v.f),s.Rb(Ze.h),s.Rb(W.a))},Ib.\u0275cmp=s.Lb({type:Ib,selectors:[["app-card-initiation-details-update"]],decls:61,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["readonly","true","matInput","","name","existingCustomer","formControlName","existingCustomer"],["formControlName","cardType"],["value","Debit"],["value","Credit"],["value","Forex"],[4,"ngIf"],["matInput","","formControlName","customerAccount"],["matInput","","formControlName","applicantName"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["formControlName","employmentType","placeholder","Select Employment Type *"],["fxLayout","row"],["formControlName","affinityProgram","placeholder","Select Affinity Program *"],["value","Affinity Program1"],["value","Affinity Program2"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Card Initiation Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"mat-form-field",5),s.Xb(10,"mat-label"),s.Tc(11,"Existing Customer"),s.Wb(),s.Sb(12,"input",6),s.Wb(),s.Xb(13,"mat-form-field",5),s.Xb(14,"mat-label"),s.Tc(15,"Card Type"),s.Wb(),s.Xb(16,"mat-select",7),s.Xb(17,"mat-option",8),s.Tc(18,"Debit"),s.Wb(),s.Xb(19,"mat-option",9),s.Tc(20,"Credit"),s.Wb(),s.Xb(21,"mat-option",10),s.Tc(22,"Forex"),s.Wb(),s.Wb(),s.Rc(23,gb,2,0,"mat-error",11),s.Wb(),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-label"),s.Tc(26,"Customer Account"),s.Wb(),s.Sb(27,"input",12),s.Wb(),s.Wb(),s.Xb(28,"div",4),s.Xb(29,"mat-form-field",5),s.Xb(30,"mat-label"),s.Tc(31,"Applicant Name"),s.Wb(),s.Sb(32,"input",13),s.Wb(),s.Xb(33,"mat-form-field",5),s.Xb(34,"mat-label"),s.Tc(35,"Currency"),s.Wb(),s.Xb(36,"mat-select",14),s.Rc(37,vb,2,2,"mat-option",15),s.Wb(),s.Rc(38,yb,2,0,"mat-error",11),s.Wb(),s.Xb(39,"mat-form-field",5),s.Xb(40,"mat-label"),s.Tc(41,"Employment Type"),s.Wb(),s.Xb(42,"mat-select",16),s.Rc(43,Wb,2,2,"mat-option",15),s.Wb(),s.Rc(44,Xb,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Xb(45,"div",17),s.Xb(46,"mat-form-field",5),s.Xb(47,"mat-label"),s.Tc(48,"Affinity Program *"),s.Wb(),s.Xb(49,"mat-select",18),s.Xb(50,"mat-option",19),s.Tc(51,"Affinity Program1"),s.Wb(),s.Xb(52,"mat-option",20),s.Tc(53,"Affinity Program2"),s.Wb(),s.Wb(),s.Rc(54,Tb,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(55,"div",21),s.Xb(56,"button",22),s.fc("click",function(){return e.onSubmit()}),s.Tc(57,"Save"),s.Wb(),s.Tc(58," \xa0\xa0\xa0 "),s.Xb(59,"button",23),s.fc("click",function(){return e.close()}),s.Tc(60," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardInitiationUpdateForm),s.Eb(16),s.rc("ngIf",!e.cardInitiationUpdateForm.get("cardType").valid&&e.cardInitiationUpdateForm.get("cardType").touched),s.Eb(14),s.rc("ngForOf",e.localCurrencyArr),s.Eb(1),s.rc("ngIf",!e.cardInitiationUpdateForm.get("currency").valid&&e.cardInitiationUpdateForm.get("currency").touched),s.Eb(5),s.rc("ngForOf",e.employmentTypeArray),s.Eb(1),s.rc("ngIf",!e.cardInitiationUpdateForm.get("employmentType").valid&&e.cardInitiationUpdateForm.get("employmentType").touched),s.Eb(10),s.rc("ngIf",!e.cardInitiationUpdateForm.get("affinityProgram").valid&&e.cardInitiationUpdateForm.get("affinityProgram").touched))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,X.f,I.c,X.b,I.g,x.b,v.c,v.r,v.i,C.a,S.n,c.n,c.m,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Ib);function xb(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Cb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Select Account Type "),s.Wb())}function Ab(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Vc(" ",a.branchName," ")}}function Ob(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Select Account Branch "),s.Wb())}function Db(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter valid Product ID "),s.Wb())}function Rb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Product Name "),s.Wb())}function Sb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Existing Value "),s.Wb())}function kb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Account Currency "),s.Wb())}function Nb(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Pb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Select user Recommendation "),s.Wb())}function Fb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Remarks "),s.Wb())}var Lb,_b=((Lb=function(){function t(e,a,o,i,r){n(this,t),this.data=e,this.fb=a,this.apiService=o,this.dialogRef=i,this.snack=r}return i(t,[{key:"ngOnInit",value:function(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),null!=this.data.approvalInfo?this.buildformGroup(this.data.approvalInfo):this.buildformGroup()}},{key:"buildformGroup",value:function(t){this.cardApprovalUpdateForm=this.fb.group({accountType:[t?t.accountType:"",v.z.required],productCode:[t?t.productCode:"",v.z.required],userRecommendation:[t?t.userRecommendation:"",v.z.required],accountBranch:[t?t.accountBranch:"",v.z.required],accountCurrency:[t?t.accountCurrency:"",v.z.required],productName:[t?t.productName:"",v.z.required],existingValues:[t?t.existingValues:"",v.z.required],remarks:[t?t.remarks:""]})}},{key:"onSubmit",value:function(){var t=this;console.log("data",this.cardApprovalUpdateForm.value),this.apiService.upsertApprovalDetails({cardId:this.data.cardId,accountBranch:this.cardApprovalUpdateForm.value.accountBranch,accountCurrency:this.cardApprovalUpdateForm.value.accountCurrency,accountType:this.cardApprovalUpdateForm.value.accountType,existingValues:this.cardApprovalUpdateForm.value.existingValues,productCode:this.cardApprovalUpdateForm.value.productCode,productName:this.cardApprovalUpdateForm.value.productName,remarks:this.cardApprovalUpdateForm.value.remarks,userRecommendation:this.cardApprovalUpdateForm.value.userRecommendation}).subscribe(function(e){t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"getAccountCurrency",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAccountCurrency=t})}},{key:"getAccountType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getUserRecomendation",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayUserRecomendation=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.arrayAccountBranch=e})}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Lb)(s.Rb(p.a),s.Rb(v.f),s.Rb(b.b),s.Rb(p.g),s.Rb(W.a))},Lb.\u0275cmp=s.Lb({type:Lb,selectors:[["app-card-approval-details-update"]],decls:60,vars:13,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["placeholder","Account Type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Account Branch","formControlName","accountBranch"],["matInput","","placeholder","Product Image","formControlName","productCode"],["matInput","","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["placeholder","Recommended for Approval","formControlName","userRecommendation"],["matInput","","placeholder","Remarks","formControlName","remarks"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Approval Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"mat-form-field",5),s.Xb(10,"mat-label"),s.Tc(11,"Account Type*"),s.Wb(),s.Xb(12,"mat-select",6),s.Rc(13,xb,2,2,"mat-option",7),s.Wb(),s.Rc(14,Cb,2,0,"mat-error",8),s.Wb(),s.Xb(15,"mat-form-field",5),s.Xb(16,"mat-label"),s.Tc(17,"Account Branch*"),s.Wb(),s.Xb(18,"mat-select",9),s.Rc(19,Ab,2,2,"mat-option",7),s.Wb(),s.Rc(20,Ob,2,0,"mat-error",8),s.Wb(),s.Xb(21,"mat-form-field",5),s.Xb(22,"mat-label"),s.Tc(23,"Product Code*"),s.Wb(),s.Sb(24,"input",10),s.Wb(),s.Rc(25,Db,2,0,"mat-error",8),s.Wb(),s.Xb(26,"div",4),s.Xb(27,"mat-form-field",5),s.Xb(28,"mat-label"),s.Tc(29,"Product Name*"),s.Wb(),s.Xb(30,"input",11),s.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),s.Wb(),s.Rc(31,Rb,2,0,"mat-error",8),s.Wb(),s.Xb(32,"mat-form-field",5),s.Xb(33,"mat-label"),s.Tc(34,"Existing Value*"),s.Wb(),s.Xb(35,"input",12),s.fc("keypress",function(t){return e.onKeyPress(t)}),s.Wb(),s.Rc(36,Sb,2,0,"mat-error",8),s.Wb(),s.Xb(37,"mat-form-field",5),s.Xb(38,"mat-label"),s.Tc(39,"Account Currency*"),s.Wb(),s.Xb(40,"input",13),s.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),s.Wb(),s.Rc(41,kb,2,0,"mat-error",8),s.Wb(),s.Wb(),s.Xb(42,"div",4),s.Xb(43,"mat-form-field",5),s.Xb(44,"mat-label"),s.Tc(45,"User Recomendation*"),s.Wb(),s.Xb(46,"mat-select",14),s.Rc(47,Nb,2,2,"mat-option",7),s.Wb(),s.Rc(48,Pb,2,0,"mat-error",8),s.Wb(),s.Xb(49,"mat-form-field",5),s.Xb(50,"mat-label"),s.Tc(51,"Remarks"),s.Wb(),s.Sb(52,"input",15),s.Rc(53,Fb,2,0,"mat-error",8),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(54,"div",16),s.Xb(55,"button",17),s.fc("click",function(){return e.onSubmit()}),s.Tc(56,"Save"),s.Wb(),s.Tc(57," \xa0\xa0\xa0 "),s.Xb(58,"button",18),s.fc("click",function(){return e.close()}),s.Tc(59," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardApprovalUpdateForm),s.Eb(6),s.rc("ngForOf",e.arrayAccountType),s.Eb(1),s.rc("ngIf",e.cardApprovalUpdateForm.get("accountType").hasError("required")),s.Eb(5),s.rc("ngForOf",e.arrayAccountBranch),s.Eb(1),s.rc("ngIf",e.cardApprovalUpdateForm.get("accountBranch").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("productCode").touched&&0==e.cardApprovalUpdateForm.get("productCode").value),s.Eb(6),s.rc("ngIf",e.cardApprovalUpdateForm.get("productName").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("existingValues").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("accountCurrency").hasError("required")),s.Eb(6),s.rc("ngForOf",e.arrayUserRecomendation),s.Eb(1),s.rc("ngIf",e.cardApprovalUpdateForm.get("userRecommendation").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("remarks").hasError("required")),s.Eb(2),s.rc("disabled",e.cardApprovalUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,I.c,X.b,I.g,C.a,v.r,v.i,c.m,c.n,x.b,v.c,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Lb);function wb(t,e){if(1&t&&(s.Xb(0,"mat-option",16),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ub(t,e){if(1&t&&(s.Xb(0,"mat-option",16),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var Mb,Gb=((Mb=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.fb=a,this.dialogRef=o,this.apiService=i,this.snack=r,this.cdr=c,this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"]}return i(t,[{key:"ngOnInit",value:function(){this.data.assessmentInfo?this.buildAssessmentForm(this.data.assessmentInfo):this.buildAssessmentForm()}},{key:"buildAssessmentForm",value:function(t){this.cardAssessmentUpdateForm=this.fb.group({cardId:[this.data.cardId],assessmentId:[t.assessmentId="1"],requestedCardLimit:[t?t.requestedCardLimit:""],systemRecommendation:[t?t.systemRecommendation:"",v.z.required],approvedCardLimit:[t?t.approvedCardLimit:""],userRecommendation:[t?t.userRecommendation:"",[v.z.required]],recommendedCardLimit:[t?t.recommendedCardLimit:"",[v.z.required]],remark:[t?t.remark:""]})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}},{key:"onSubmit",value:function(){var t=this;console.log(this.cardAssessmentUpdateForm),this.apiService.cardAssessmentDetails(this.cardAssessmentUpdateForm.value).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Assessment details Updated successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})}))})}}]),t}()).\u0275fac=function(t){return new(t||Mb)(s.Rb(p.a),s.Rb(v.f),s.Rb(p.g),s.Rb(b.b),s.Rb(W.a),s.Rb(s.h))},Mb.\u0275cmp=s.Lb({type:Mb,selectors:[["app-card-assessment-report-update"]],decls:42,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","33.33%","appearance","outline"],["matInput","","formControlName","requestedCardLimit","placeholder","Requested Card Limit","readonly","",3,"keypress"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Recommended for Approval"],["matInput","","formControlName","recommendedCardLimit","required","",3,"keypress"],["matInput","","formControlName","approvedCardLimit","placeholder","Approved Card Limit","required","",3,"keypress"],["matInput","","formControlName","remark","type","text"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Assessment Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"mat-form-field",5),s.Xb(10,"mat-label"),s.Tc(11,"Requested Card Limit"),s.Wb(),s.Xb(12,"input",6),s.fc("keypress",function(t){return e._keyPress1(t)}),s.Wb(),s.Wb(),s.Xb(13,"mat-form-field",5),s.Xb(14,"mat-label"),s.Tc(15,"System Recommendation"),s.Wb(),s.Xb(16,"mat-select",7),s.Rc(17,wb,2,2,"mat-option",8),s.Wb(),s.Wb(),s.Xb(18,"mat-form-field",5),s.Xb(19,"mat-label"),s.Tc(20,"User Recommendation"),s.Wb(),s.Xb(21,"mat-select",9),s.Rc(22,Ub,2,2,"mat-option",8),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div",4),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-label"),s.Tc(26,"Recommended Card Limit"),s.Wb(),s.Xb(27,"input",10),s.fc("keypress",function(t){return e._keyPress1(t)}),s.Wb(),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-label"),s.Tc(30,"Approved Card Limit"),s.Wb(),s.Xb(31,"input",11),s.fc("keypress",function(t){return e._keyPress1(t)}),s.Wb(),s.Wb(),s.Xb(32,"mat-form-field",5),s.Xb(33,"mat-label"),s.Tc(34,"Remarks"),s.Wb(),s.Sb(35,"input",12),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",13),s.Xb(37,"button",14),s.fc("click",function(){return e.onSubmit()}),s.Tc(38,"Save"),s.Wb(),s.Tc(39," \xa0\xa0\xa0 "),s.Xb(40,"button",15),s.fc("click",function(){return e.close()}),s.Tc(41," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardAssessmentUpdateForm),s.Eb(10),s.rc("ngForOf",e.arraySystemRecommendation),s.Eb(5),s.rc("ngForOf",e.arraySystemRecommendation),s.Eb(15),s.rc("disabled",e.cardAssessmentUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,X.f,I.c,X.b,I.g,x.b,v.c,v.r,v.i,C.a,c.m,v.y,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Mb);function Vb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Customer Name is Required! "),s.Wb())}function jb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Agency is Required! "),s.Wb())}function Bb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Ratings is Required! "),s.Wb())}function zb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card"),s.Xb(1,"mat-accordion",3),s.Xb(2,"h5"),s.Tc(3,"Score "),s.Wb(),s.Sb(4,"br"),s.Xb(5,"div",11),s.Xb(6,"mat-form-field",4),s.Xb(7,"mat-label"),s.Tc(8,"Select Agency*"),s.Wb(),s.Xb(9,"mat-select",12),s.Xb(10,"mat-option",13),s.Tc(11,"Select"),s.Wb(),s.Xb(12,"mat-option",14),s.fc("click",function(){return s.Hc(a),s.jc().onClick()}),s.Tc(13,"Test Agency"),s.Wb(),s.Xb(14,"mat-option",15),s.fc("click",function(){return s.Hc(a),s.jc().onClick()}),s.Tc(15,"Ujjivan Agency"),s.Wb(),s.Xb(16,"mat-option",16),s.fc("click",function(){return s.Hc(a),s.jc().onClick()}),s.Tc(17,"Fast Track Agency"),s.Wb(),s.Wb(),s.Rc(18,jb,2,0,"mat-error",6),s.Wb(),s.Xb(19,"mat-form-field",4),s.Xb(20,"mat-label"),s.Tc(21,"Ratings"),s.Wb(),s.Xb(22,"input",17),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Rc(23,Bb,2,0,"mat-error",6),s.Wb(),s.Xb(24,"mat-form-field",4),s.Xb(25,"mat-label"),s.Tc(26,"Remarks"),s.Wb(),s.Sb(27,"input",18),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"button",19),s.fc("click",function(){return s.Hc(a),s.jc().addFormGroup()}),s.Xb(29,"mat-icon"),s.Tc(30,"add"),s.Wb(),s.Tc(31," ADD AGENCY "),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.Eb(1),s.rc("formGroup",n),s.Eb(11),s.rc("disabled",o.disableTest),s.Eb(2),s.rc("disabled",o.disableUjjivan),s.Eb(2),s.rc("disabled",o.disableFastTrack),s.Eb(2),s.rc("ngIf",!n.controls.agencyName.valid&&n.controls.agencyName.touched),s.Eb(5),s.rc("ngIf",!n.controls.ratings.valid&&n.controls.ratings.touched),s.Eb(5),s.rc("disabled",o.disableAddAgency)}}var qb,Kb=((qb=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.appApiService=i,this.api=r,this.snack=c}return i(t,[{key:"ngOnInit",value:function(){this.getCustomerInformationDetails(),this.data.creditScore.cardId?this.buildCreditForm(this.data.creditScore):this.buildCreditForm()}},{key:"getCustomerInformationDetails",value:function(){var t=this;this.customerNames=[],this.appApiService.fetchCustomersByCardAccId(this.data.cardId,"cardOrigin").subscribe(function(e){console.log("resp for customer information names ",e.data);for(var a=0;a<e.data.length;a++)t.customerNames.push(null==e.data[a].middleName?e.data[a].firstName+" "+e.data[a].lastName:e.data[a].firstName+" "+e.data[a].middleName+" "+e.data[a].lastName);console.log("customer name ",t.customerNames),t.customerNames&&(console.log("If condtion"),t.cardCreditScoreUpdateForm.get("customerName").setValue(t.customerNames[0]))},function(t){})}},{key:"f",get:function(){return this.cardCreditScoreUpdateForm.controls}},{key:"c",get:function(){return this.f.agencyRating}},{key:"buildCreditForm",value:function(t,e){console.log(t),this.cardCreditScoreUpdateForm=this.formBuilder.group({cardId:this.data.cardId,customerName:t.customerName?t.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.cardCreditScoreUpdateForm)}},{key:"addModFormGroup",value:function(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.data.cardId],agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",v.z.required],ratings:[t?t.agencyRating[0].ratings:"",v.z.required],remarks:[t?t.agencyRating[0].remarks:""]})}},{key:"addFormGroup",value:function(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",v.z.required],ratings:["",v.z.required]}))}},{key:"submit",value:function(t){var e=this;console.log("val",t),t.accountType="cardOrigin",this.api.saveCreditDetails(t).subscribe(function(t){console.log(t),200===t||null!==t?(e.snack.open(" Credit Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.api.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(function(t){e.dialogRef.close({status:t.status})})):500===t&&e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)})}},{key:"onClick",value:function(){for(var t=0;t<3;t++)"Test Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableTest=!0),"Ujjivan Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableUjjivan=!0),"Fast Track Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableFastTrack=!0);3==this.cardCreditScoreUpdateForm.value.agencyRating.length&&(this.disableAddAgency=!0)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onSubmit",value:function(){}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||qb)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(f.a),s.Rb(b.b),s.Rb(W.a))},qb.\u0275cmp=s.Lb({type:qb,selectors:[["app-card-credit-score-update"]],decls:21,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["appearance","outline","fxFlex","30%"],["matInput","","formControlName","customerName","name","customerName",1,"alignment"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row","fxLayoutGap","5%"],["name","agencyName","formControlName","agencyName"],["value",""],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"],["matInput","","formControlName","remarks","type","text","name","remarks",1,"alignment"],["mat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Credit Score Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"mat-card"),s.Xb(9,"mat-form-field",4),s.Xb(10,"mat-label"),s.Tc(11,"Customer Name*"),s.Wb(),s.Sb(12,"input",5),s.Rc(13,Vb,2,0,"mat-error",6),s.Wb(),s.Wb(),s.Rc(14,zb,32,7,"mat-card",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",8),s.Xb(16,"button",9),s.fc("click",function(){return e.submit(e.cardCreditScoreUpdateForm.value)}),s.Tc(17,"Save"),s.Wb(),s.Tc(18," \xa0\xa0\xa0 "),s.Xb(19,"button",10),s.fc("click",function(){return e.close()}),s.Tc(20," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardCreditScoreUpdateForm),s.Eb(6),s.rc("ngIf",!e.cardCreditScoreUpdateForm.get("customerName").valid&&e.cardCreditScoreUpdateForm.get("customerName").touched),s.Eb(1),s.rc("ngForOf",e.c.controls),s.Eb(2),s.rc("disabled",!e.cardCreditScoreUpdateForm.valid))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,I.c,X.b,I.g,x.b,v.c,v.r,v.i,c.n,c.m,X.f,I.b,H.a,C.a,S.n,D.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),qb);function Jb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr",11),s.Vb(1,3),s.Xb(2,"td"),s.Xb(3,"mat-form-field"),s.Sb(4,"input",12),s.Wb(),s.Wb(),s.Xb(5,"td"),s.Xb(6,"mat-form-field"),s.Xb(7,"input",13),s.fc("keypress",function(t){return s.Hc(a),s.jc().onKeyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"div",14),s.Xb(10,"mat-checkbox",15),s.fc("change",function(t){return s.Hc(a),s.jc().checkbox(t)}),s.Wb(),s.Wb(),s.Wb(),s.Ub(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("formGroup",n)}}var Hb,$b=((Hb=function(){function e(t,a,o,i,r,c){n(this,e),this.data=t,this.formBuilder=a,this.apiService=o,this.dialogRef=i,this.snack=r,this.api=c,this.accountType="Card Origin"}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.data.currencytype=localStorage.getItem("Currency Type"),"INR"===this.data.currencytype?this.currencySymbol="\u20b9":"USD"===this.data.currencytype?this.currencySymbol="$":"CNY"===this.data.currencytype?this.currencySymbol="\xa5":"GBP"===this.data.currencytype?this.currencySymbol="\xa3":"ZAR"===this.data.currencytype&&(this.currencySymbol="R"),this.cardChargeUpdateForm=this.formBuilder.group({chargeInfo:new v.d([])}),this.data.chargeInfo?(this.onChangeInterest(this.data.chargeInfo.length),this.in.patchValue(t(this.data.chargeInfo))):this.apiService.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])})}},{key:"onChangeInterest",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",v.z.required],waiver:[!1],cardId:[this.data.cardId],chargeDetailsId:[""]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.cardChargeUpdateForm.controls}},{key:"in",get:function(){return this.f.chargeInfo}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"checkbox",value:function(t){console.log(t.checked)}},{key:"onSubmit",value:function(t){var e=this;console.log("form",t),this.api.cardChargeDetailsSave(t).subscribe(function(t){e.snack.open("Charge Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",t),e.apiService.updateCardStatus({cardId:e.data.cardId,status:"BACKLOG"}).subscribe(function(t){e.dialogRef.close({status:t.status})})},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),e}()).\u0275fac=function(t){return new(t||Hb)(s.Rb(p.a),s.Rb(v.f),s.Rb(b.b),s.Rb(p.g),s.Rb(W.a),s.Rb(b.b))},Hb.\u0275cmp=s.Lb({type:Hb,selectors:[["app-card-charge-details-update"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Charge Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"table",4),s.Xb(9,"thead",5),s.Xb(10,"tr",6),s.Xb(11,"th"),s.Tc(12,"Interest Type"),s.Wb(),s.Xb(13,"th"),s.Tc(14,"Amount"),s.Wb(),s.Xb(15,"th"),s.Tc(16,"waiever"),s.Wb(),s.Wb(),s.Wb(),s.Xb(17,"tbody"),s.Rc(18,Jb,11,1,"tr",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",8),s.Xb(20,"button",9),s.fc("click",function(){return e.onSubmit(e.cardChargeUpdateForm.value)}),s.Tc(21,"Save"),s.Wb(),s.Tc(22," \xa0\xa0\xa0 "),s.Xb(23,"button",10),s.fc("click",function(){return e.close()}),s.Tc(24," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardChargeUpdateForm),s.Eb(11),s.rc("ngForOf",e.in.controls),s.Eb(2),s.rc("disabled",e.cardChargeUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,c.m,X.f,I.c,x.b,v.c,v.r,v.i,v.m,ee.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Hb);function Yb(t,e){if(1&t&&(s.Xb(0,"tr",11),s.Vb(1,3),s.Xb(2,"td"),s.Xb(3,"mat-card",12),s.Sb(4,"input",13),s.Wb(),s.Wb(),s.Xb(5,"td"),s.Xb(6,"mat-card",12),s.Sb(7,"input",14),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"mat-card",12),s.Sb(10,"input",15),s.Wb(),s.Wb(),s.Xb(11,"td"),s.Xb(12,"mat-card",12),s.Sb(13,"input",16),s.Wb(),s.Wb(),s.Ub(),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("formGroup",a)}}var Zb,Qb=((Zb=function(){function t(e,a,o,i,r){n(this,t),this.data=e,this.formBuilder=a,this.api=o,this.snack=i,this.dialogRef=r,this.accountType="Card Origin"}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.cardInterestUpdateForm=this.formBuilder.group({interestInfo:new v.d([])}),console.log(this.data),this.data.interestInfo?(this.onChangeInterest(this.data.interestInfo.length),this.in.patchValue(this.data.interestInfo)):this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(e){t.onChangeInterest(e.length),t.in.patchValue(e)}),console.log(this.cardInterestUpdateForm)}},{key:"onChangeInterest",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",v.z.required],intrestRateApplicable:[5,v.z.required],marginIn:[null,[v.z.required,v.z.max(100),v.z.min(0)]],effectiveRate:[10,[v.z.required,v.z.max(100),v.z.min(0)]],cardInterestId:[""],cardId:[this.data.cardId]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"onSubmit",value:function(){var t=this;console.log(this.cardInterestUpdateForm.value),this.api.cardintrestDetailsSave(this.cardInterestUpdateForm.value).subscribe(function(e){t.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",e)},function(e){t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"f",get:function(){return this.cardInterestUpdateForm.controls}},{key:"in",get:function(){return this.f.interestInfo}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Zb)(s.Rb(p.a),s.Rb(v.f),s.Rb(b.b),s.Rb(W.a),s.Rb(p.g))},Zb.\u0275cmp=s.Lb({type:Zb,selectors:[["app-card-interest-details-update"]],decls:27,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matInput","","formControlName","marginIn","name","margin","type","number","placeholder","Margin","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Interest Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"table",4),s.Xb(9,"thead",5),s.Xb(10,"tr",6),s.Xb(11,"th"),s.Tc(12,"Interest Type"),s.Wb(),s.Xb(13,"th"),s.Tc(14,"Interest Rate Applicable in %"),s.Wb(),s.Xb(15,"th"),s.Tc(16,"Margin in %"),s.Wb(),s.Xb(17,"th"),s.Tc(18,"Effective Rate %"),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"tbody"),s.Rc(20,Yb,14,1,"tr",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",8),s.Xb(22,"button",9),s.Tc(23,"Save"),s.Wb(),s.Tc(24," \xa0\xa0\xa0 "),s.Xb(25,"button",10),s.fc("click",function(){return e.close()}),s.Tc(26," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardInterestUpdateForm),s.Eb(13),s.rc("ngForOf",e.in.controls))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,c.m,X.f,x.b,v.c,v.r,v.i,v.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Zb);function tu(t,e){if(1&t&&(s.Xb(0,"mat-option",66),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function eu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select the Employment Type "),s.Wb())}function au(t,e){if(1&t&&(s.Xb(0,"mat-option",66),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function nu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select the Employment Category "),s.Wb())}function ou(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please enter the Employee Number "),s.Wb())}function iu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please enter the Office Name "),s.Wb())}function ru(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please enter the Designation "),s.Wb())}function cu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Employment Start Date is Required! "),s.Wb())}function lu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Employment End Date is Required! "),s.Wb())}var su,bu=((su=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.apiService=i,this.cdr=r,this.snack=c,this.maxDate=new Date}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),this.data&&this.data.financialInfo?this.buildFinacialFormGroup(this.data.financialInfo[0]):this.buildFinacialFormGroup()}},{key:"buildFinacialFormGroup",value:function(t){var e=this;console.log(t),this.cardFinancialDetailsUpdateForm=this.formBuilder.group({id:[t?t.id:""],applicantName:[this.data.initiationInfo.applicantName,v.z.required],currentlyWorking:[t?t.currentlyWorking:""],applicantTotalIncome:[t?t.applicantTotalIncome:0,v.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,v.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],employmentType:[t?t.employmentType:"",v.z.required],employmentCategory:[t?t.employmentCategory:"",v.z.required],employeeNumber:[t?t.employeeNumber:"",v.z.required],officeName:[t?t.officeName:"",v.z.required],designation:[t?t.designation:"",v.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):"",v.z.required],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0]},{validator:function(t){return e.validateInputGroups(t)}})}},{key:"validateInputGroups",value:function(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"converDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"onSubmit",value:function(){var t=this,e=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentStartDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.cardFinancialDetailsUpdateForm.value.employmentStartDate=e):this.cardFinancialDetailsUpdateForm.value.employmentStartDate=null;var a=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentEndDate.value);a&&"Invalid date"!=a?(console.log("startDate",a),this.cardFinancialDetailsUpdateForm.value.employmentEndDate=a):this.cardFinancialDetailsUpdateForm.value.employmentEndDate=null;var n=y(this.cardFinancialDetailsUpdateForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");console.log("lastUpdatedon",n),n&&"Invalid date"!=n?(console.log("startDate",n),this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=n):this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=null,this.cardFinancialDetailsUpdateForm.value.accountType="cardOrigin",this.cardFinancialDetailsUpdateForm.value.cardId=this.data.initiationInfo.cardId,console.log("submit",this.cardFinancialDetailsUpdateForm.value),console.log(this.cardFinancialDetailsUpdateForm.value);var o=[];o.push(this.cardFinancialDetailsUpdateForm.value),console.log(o),this.apiService.upsertCardFinancialDetails(o).subscribe(function(e){console.log(e),t.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:t.data.initiationInfo.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"calculateTotalMonthlyIncome",value:function(t){var e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.cardFinancialDetailsUpdateForm.controls.monthlyIncomeTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalMonthlyExpenses",value:function(t){var e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.cardFinancialDetailsUpdateForm.controls.monthlyExpenseTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalLiabilities",value:function(t){var e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.cardFinancialDetailsUpdateForm.controls.liabilityTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalAssets",value:function(t){var e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.cardFinancialDetailsUpdateForm.controls.assetTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalIncomeAndExpense",value:function(t){var e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.cardFinancialDetailsUpdateForm.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.cardFinancialDetailsUpdateForm.controls.applicantTotalExpense.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t})}},{key:"getEmploymentCategory",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentCategory=t})}}]),t}()).\u0275fac=function(t){return new(t||su)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(b.b),s.Rb(s.h),s.Rb(W.a))},su.\u0275cmp=s.Lb({type:su,selectors:[["app-card-financial-details-update"]],decls:264,vars:23,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"keypress"],["fxFlex","31.32%","appearance","outline",1,"full-width"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["fxLayout","row"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,""],[1,"card-title-text"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["fxLayout","row","fxLayoutGap","5%",1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],[1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Financial Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"mat-card"),s.Xb(9,"div",4),s.Xb(10,"mat-form-field",5),s.Xb(11,"mat-label"),s.Tc(12,"Applicant Name"),s.Wb(),s.Sb(13,"input",6),s.Wb(),s.Xb(14,"mat-form-field",5),s.Xb(15,"mat-label"),s.Tc(16,"Currently Working"),s.Wb(),s.Sb(17,"input",7),s.Wb(),s.Xb(18,"mat-form-field",5),s.Xb(19,"mat-label"),s.Tc(20,"Total Income*"),s.Wb(),s.Sb(21,"input",8),s.Wb(),s.Wb(),s.Xb(22,"div",4),s.Xb(23,"mat-form-field",5),s.Xb(24,"mat-label"),s.Tc(25,"Total Expenses*"),s.Wb(),s.Sb(26,"input",9),s.Wb(),s.Xb(27,"mat-form-field",5),s.Xb(28,"mat-label"),s.Tc(29,"Last Update On"),s.Wb(),s.Sb(30,"input",10),s.Sb(31,"mat-datepicker-toggle",11),s.Sb(32,"mat-datepicker",null,12),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"mat-card"),s.Xb(35,"mat-card-title"),s.Xb(36,"div"),s.Tc(37,"Employment Details"),s.Wb(),s.Sb(38,"mat-divider"),s.Wb(),s.Xb(39,"mat-card-content"),s.Xb(40,"div",4),s.Xb(41,"mat-form-field",5),s.Xb(42,"mat-label"),s.Tc(43,"Employment Type*"),s.Wb(),s.Xb(44,"mat-select",13),s.Rc(45,tu,2,2,"mat-option",14),s.Wb(),s.Rc(46,eu,2,0,"mat-error",15),s.Wb(),s.Xb(47,"mat-form-field",5),s.Xb(48,"mat-label"),s.Tc(49,"Employment Category*"),s.Wb(),s.Xb(50,"mat-select",16),s.Rc(51,au,2,2,"mat-option",14),s.Wb(),s.Rc(52,nu,2,0,"mat-error",15),s.Wb(),s.Xb(53,"mat-form-field",5),s.Xb(54,"mat-label"),s.Tc(55,"Employee number*"),s.Wb(),s.Xb(56,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Rc(57,ou,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Xb(58,"div",4),s.Xb(59,"mat-form-field",5),s.Xb(60,"mat-label"),s.Tc(61,"Office Name*"),s.Wb(),s.Xb(62,"input",18),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Rc(63,iu,2,0,"mat-error",15),s.Wb(),s.Xb(64,"mat-form-field",5),s.Xb(65,"mat-label"),s.Tc(66,"Designation*"),s.Wb(),s.Xb(67,"input",19),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Rc(68,ru,2,0,"mat-error",15),s.Wb(),s.Xb(69,"mat-form-field",20),s.Xb(70,"mat-label"),s.Tc(71,"Employment Start Date*"),s.Wb(),s.Sb(72,"input",21),s.Sb(73,"mat-datepicker-toggle",11),s.Sb(74,"mat-datepicker",null,22),s.Rc(76,cu,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Xb(77,"div",23),s.Xb(78,"mat-form-field",5),s.Xb(79,"mat-label"),s.Tc(80,"Employment End Date"),s.Wb(),s.Sb(81,"input",24),s.Sb(82,"mat-datepicker-toggle",11),s.Sb(83,"mat-datepicker",null,25),s.Rc(85,lu,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(86,"mat-card"),s.Xb(87,"mat-card-title",26),s.Xb(88,"div",27),s.Tc(89," Monthly Income "),s.Xb(90,"div",28),s.Tc(91),s.Wb(),s.Wb(),s.Sb(92,"mat-divider"),s.Wb(),s.Xb(93,"mat-card-content"),s.Xb(94,"div",4),s.Xb(95,"mat-form-field",5),s.Xb(96,"mat-label"),s.Tc(97,"Bonus"),s.Wb(),s.Xb(98,"input",29),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(99,"mat-form-field",5),s.Xb(100,"mat-label"),s.Tc(101,"Interest Income"),s.Wb(),s.Xb(102,"input",30),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(103,"mat-form-field",5),s.Xb(104,"mat-label"),s.Tc(105,"Salary"),s.Wb(),s.Xb(106,"input",31),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(107,"div",4),s.Xb(108,"mat-form-field",5),s.Xb(109,"mat-label"),s.Tc(110,"Business"),s.Wb(),s.Xb(111,"input",32),s.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Xb(112,"mat-form-field",5),s.Xb(113,"mat-label"),s.Tc(114,"Pension"),s.Wb(),s.Xb(115,"input",33),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(116,"mat-form-field",5),s.Xb(117,"mat-label"),s.Tc(118,"Rentals"),s.Wb(),s.Xb(119,"input",34),s.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(120,"div",4),s.Xb(121,"mat-form-field",5),s.Xb(122,"mat-label"),s.Tc(123,"Cash Gifts"),s.Wb(),s.Xb(124,"input",35),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(125,"mat-form-field",5),s.Xb(126,"mat-label"),s.Tc(127,"Others"),s.Wb(),s.Xb(128,"input",36),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(129,"mat-form-field",5),s.Xb(130,"mat-label"),s.Tc(131,"Total"),s.Wb(),s.Sb(132,"input",37),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(133,"mat-card"),s.Xb(134,"mat-card-title",26),s.Xb(135,"div",27),s.Tc(136," Monthly Expenses "),s.Xb(137,"div",28),s.Tc(138),s.Wb(),s.Wb(),s.Sb(139,"mat-divider"),s.Wb(),s.Xb(140,"mat-card-content"),s.Xb(141,"div",4),s.Xb(142,"mat-form-field",5),s.Xb(143,"mat-label"),s.Tc(144,"Household"),s.Wb(),s.Xb(145,"input",38),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(146,"mat-form-field",5),s.Xb(147,"mat-label"),s.Tc(148,"Education"),s.Wb(),s.Xb(149,"input",39),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(150,"mat-form-field",5),s.Xb(151,"mat-label"),s.Tc(152,"Vehicle Maintenance"),s.Wb(),s.Xb(153,"input",40),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(154,"div",4),s.Xb(155,"mat-form-field",5),s.Xb(156,"mat-label"),s.Tc(157,"Medical"),s.Wb(),s.Xb(158,"input",41),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(159,"mat-form-field",5),s.Xb(160,"mat-label"),s.Tc(161,"Travel"),s.Wb(),s.Xb(162,"input",42),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(163,"mat-form-field",5),s.Xb(164,"mat-label"),s.Tc(165,"Rentals"),s.Wb(),s.Xb(166,"input",43),s.fc("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(167,"div",44),s.Xb(168,"mat-form-field",5),s.Xb(169,"mat-label"),s.Tc(170,"Others"),s.Wb(),s.Xb(171,"input",45),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(172,"mat-form-field",5),s.Xb(173,"mat-label"),s.Tc(174,"Total"),s.Wb(),s.Sb(175,"input",46),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(176,"mat-card"),s.Xb(177,"mat-card-title",26),s.Xb(178,"div",27),s.Tc(179," Annual Liabilities "),s.Xb(180,"div",28),s.Tc(181),s.Wb(),s.Wb(),s.Sb(182,"mat-divider"),s.Wb(),s.Xb(183,"mat-card-content"),s.Xb(184,"div",4),s.Xb(185,"mat-form-field",5),s.Xb(186,"mat-label"),s.Tc(187,"Property Loans"),s.Wb(),s.Xb(188,"input",47),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(189,"mat-form-field",5),s.Xb(190,"mat-label"),s.Tc(191,"Personal Loans"),s.Wb(),s.Xb(192,"input",48),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(193,"mat-form-field",5),s.Xb(194,"mat-label"),s.Tc(195,"Overdrafts"),s.Wb(),s.Xb(196,"input",49),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(197,"div",4),s.Xb(198,"mat-form-field",5),s.Xb(199,"mat-label"),s.Tc(200,"Vehicle Loans"),s.Wb(),s.Xb(201,"input",50),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(202,"mat-form-field",5),s.Xb(203,"mat-label"),s.Tc(204,"Cards Outstanding's"),s.Wb(),s.Xb(205,"input",51),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(206,"mat-form-field",5),s.Xb(207,"mat-label"),s.Tc(208,"Others"),s.Wb(),s.Xb(209,"input",52),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(210,"div",53),s.Xb(211,"mat-form-field",5),s.Xb(212,"mat-label"),s.Tc(213,"Total"),s.Wb(),s.Sb(214,"input",54),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(215,"mat-card"),s.Xb(216,"mat-card-title",26),s.Xb(217,"div",27),s.Tc(218," Asset "),s.Xb(219,"div",28),s.Tc(220),s.Wb(),s.Wb(),s.Sb(221,"mat-divider"),s.Wb(),s.Xb(222,"mat-card-content"),s.Xb(223,"div",4),s.Xb(224,"mat-form-field",5),s.Xb(225,"mat-label"),s.Tc(226,"Savings Deposits"),s.Wb(),s.Xb(227,"input",55),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(228,"mat-form-field",5),s.Xb(229,"mat-label"),s.Tc(230,"Properties"),s.Wb(),s.Xb(231,"input",56),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(232,"mat-form-field",5),s.Xb(233,"mat-label"),s.Tc(234,"Fixed Deposits"),s.Wb(),s.Xb(235,"input",57),s.fc("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(236,"div",4),s.Xb(237,"mat-form-field",5),s.Xb(238,"mat-label"),s.Tc(239,"Stocks/Funds"),s.Wb(),s.Xb(240,"input",58),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(241,"mat-form-field",5),s.Xb(242,"mat-label"),s.Tc(243,"Automobiles"),s.Wb(),s.Xb(244,"input",59),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(245,"mat-form-field",5),s.Xb(246,"mat-label"),s.Tc(247,"Lands"),s.Wb(),s.Xb(248,"input",60),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(249,"div",4),s.Xb(250,"mat-form-field",5),s.Xb(251,"mat-label"),s.Tc(252,"Others"),s.Wb(),s.Xb(253,"input",61),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(254,"mat-form-field",5),s.Xb(255,"mat-label"),s.Tc(256,"Total"),s.Wb(),s.Sb(257,"input",62),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(258,"div",63),s.Xb(259,"button",64),s.fc("click",function(){return e.onSubmit()}),s.Tc(260,"Save"),s.Wb(),s.Tc(261," \xa0\xa0\xa0 "),s.Xb(262,"button",65),s.fc("click",function(){return e.close()}),s.Tc(263," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(33),n=s.Dc(75),o=s.Dc(84);s.Eb(7),s.rc("formGroup",e.cardFinancialDetailsUpdateForm),s.Eb(23),s.rc("matDatepicker",a),s.Eb(1),s.rc("for",a),s.Eb(14),s.rc("ngForOf",e.arrayEmploymentType),s.Eb(1),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentType").hasError("required")),s.Eb(5),s.rc("ngForOf",e.arrayEmploymentCategory),s.Eb(1),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentCategory").hasError("required")&&e.cardFinancialDetailsUpdateForm.get("employmentCategory").touched),s.Eb(5),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employeeNumber").hasError("required")),s.Eb(6),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("officeName").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("designation").hasError("required")),s.Eb(4),s.rc("max",e.maxDate)("matDatepicker",n),s.Eb(1),s.rc("for",n),s.Eb(3),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").hasError("required")),s.Eb(5),s.rc("matDatepicker",o)("min",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").value),s.Eb(1),s.rc("for",o),s.Eb(3),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentEndDate").hasError("required")),s.Eb(6),s.Uc(e.incomeErrMsg),s.Eb(47),s.Uc(e.ExpensesErrMsg),s.Eb(43),s.Uc(e.LiabilitiesErrMsg),s.Eb(39),s.Uc(e.assetErrMsg),s.Eb(39),s.rc("disabled",e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg)}},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,X.f,I.c,X.b,I.g,x.b,v.c,v.r,v.i,v.v,A.e,A.g,I.j,A.d,E.h,Ba.a,E.d,C.a,c.m,c.n,v.m,Y.a,D.b,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}"]}),su);function uu(t,e){if(1&t&&(s.Xb(0,"mat-option",20),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function du(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr",3),s.Xb(1,"td",13),s.Xb(2,"mat-select",14),s.fc("valueChange",function(t){s.Hc(a);var n=e.index;return s.jc().changeValue2(t,n)}),s.Rc(3,uu,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Xb(4,"td"),s.Xb(5,"div"),s.Xb(6,"input",16),s.fc("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().OnInput1(t,!0,n)})("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"td"),s.Xb(8,"div"),s.Xb(9,"input",17),s.fc("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().OnInput(t,!0,n)})("keypress",function(t){return s.Hc(a),s.jc().keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(10,"td",18),s.Xb(11,"div"),s.Xb(12,"button",19),s.fc("click",function(){s.Hc(a);var t=e.index;return s.jc().onclick1(t)}),s.Xb(13,"mat-icon"),s.Tc(14,"delete"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.rc("formGroup",n),s.Eb(3),s.rc("ngForOf",o.arraylimitType),s.Eb(3),s.rc("readonly",o.isDLReadOnly),s.Eb(3),s.rc("readonly",o.isLPTReadOnly)}}function mu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Limit per transaction should be less "),s.Wb(),s.Sb(3,"br"),s.Xb(4,"small"),s.Tc(5,"than daily limit"),s.Wb(),s.Wb())}var pu,fu,hu=((pu=function(){function t(e,a,o,i,r){n(this,t),this.data=e,this.dialogRef=a,this.fb=o,this.apiService=i,this.snack=r,this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"]}return i(t,[{key:"ngOnInit",value:function(){if(console.log(this.data),this.buildcardPrefrenceUpdateForm(),this.data.preferanceInfo){this.cardPrefrenceOnLoad=this.data.preferanceInfo,this.isdailylimit=!0,this.isLimitTransaction=!0,this.buildcardPrefrenceUpdateForm(this.data.preferanceInfo,!0);for(var t=0;t<=this.cardPrefrenceOnLoad.length-1;t++)this.selectedOptions2.push(this.cardPrefrenceOnLoad[t].limitType);this.isRowEnds=!0,console.log("All Transaction Details",this.data)}else this.buildcardPrefrenceUpdateForm()}},{key:"buildcardPrefrenceUpdateForm",value:function(t,e){if(this.cardPrefrenceUpdateForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),e){this.addMandateToFormGroup(t),console.log(t);for(var a=0;a<=t.length-1;a++)t[a].dailyLimit=this.addComa(t[a].dailyLimit),t[a].limitPerTransaction=this.addComa(t[a].limitPerTransaction);this.m.patchValue(t)}}},{key:"addMFormGroup",value:function(){return this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:["",[v.z.maxLength(18),v.z.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[v.z.maxLength(18),v.z.pattern("^[0-9]{10,12}$")]]})}},{key:"addMandateToFormGroup",value:function(t){for(var e=t.length,a=1;a<e;a++)this.m.push(this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}},{key:"addComa",value:function(t){var e=t.toString().replace(/,/g,"").split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}},{key:"addMandate",value:function(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isLPTReadOnly=!0,console.log("this.selectedOptions2",this.selectedOptions2),this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}},{key:"onSubmit",value:function(){var t=this,e=[];this.cardPrefrenceUpdateForm.value.cardPrefrences.cardId=this.data.cardId;for(var a=0;a<this.cardPrefrenceUpdateForm.value.cardPrefrences.length;a++){var n=Object.assign({},this.cardPrefrenceUpdateForm.value.cardPrefrences[a],{cardId:this.data.cardId});n.dailyLimit=parseInt(this.removeComma(n.dailyLimit)),n.limitPerTransaction=parseInt(this.removeComma(n.limitPerTransaction)),e.push(n)}this.apiService.uploadCardPrefrence(e).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:t.data.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})}))},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onclick1",value:function(t){var e=this;this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isLPTReadOnly=!1,this.cardPrefrenceUpdateForm.controls.cardPrefrences.removeAt(t),null==this.cardPrefrenceOnLoad?console.log("deleted"):null!=this.cardPrefrenceOnLoad[t]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[t].preferenceId).subscribe(function(t){},function(t){200==t.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(t,1),console.log("console.log(this.selectedOptions2);",this.selectedOptions2),this.isdailylimit=!0}},{key:"f",get:function(){return this.cardPrefrenceUpdateForm.controls}},{key:"m",get:function(){return this.f.cardPrefrences}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"changeValue2",value:function(t,e){var a=this;this.islimitType=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(function(t){return t!==a.selectedDocumentTypes2[e]})),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.selectedDocumentTypes2.length==this.arraylimitType.length?(this.isRowEnds=!0,console.log("isRowends",this.isRowEnds)):(this.isRowEnds=!1,console.log("isRowends",this.isRowEnds)),this.isDLReadOnly=!1}},{key:"_keyPress",value:function(t){console.log(this.cardPrefrenceUpdateForm);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}},{key:"keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isLimitTransaction=!0}},{key:"OnInput",value:function(t,e,a){this.limiPrTrn=t.target.value;var n=this.removeComma(this.cardPrefrenceUpdateForm.value.cardPrefrences[a].dailyLimit),o=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(o)>Number(n)||(Number(o),Number(n),!1);var i={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[a].patchValue(i)}},{key:"OnInput1",value:function(t,e,a){this.limitDaily=t.target.value,this.isdailylimit=!!this.limitDaily;var n={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[a].patchValue(n)}},{key:"removeComma",value:function(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}}]),t}()).\u0275fac=function(t){return new(t||pu)(s.Rb(p.a),s.Rb(p.g),s.Rb(v.f),s.Rb(b.b),s.Rb(W.a))},pu.\u0275cmp=s.Lb({type:pu,selectors:[["app-card-preference-details-update"]],decls:31,vars:5,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[2,"width","5cm"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","maxlength","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Card Preferences"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"table",5),s.Xb(10,"thead"),s.Xb(11,"tr"),s.Xb(12,"th"),s.Tc(13,"Limit Type"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"Daily Limit"),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Limit per transaction"),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Rc(19,du,15,4,"tr",6),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",7),s.Xb(21,"button",8),s.fc("click",function(){return e.addMandate()}),s.Xb(22,"mat-icon"),s.Tc(23,"add"),s.Wb(),s.Wb(),s.Rc(24,mu,6,0,"mat-error",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",10),s.Xb(26,"button",11),s.fc("click",function(){return e.onSubmit()}),s.Tc(27,"Save"),s.Wb(),s.Tc(28," \xa0\xa0\xa0 "),s.Xb(29,"button",12),s.fc("click",function(){return e.close()}),s.Tc(30," Cancel "),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardPrefrenceUpdateForm),s.Eb(12),s.rc("ngForOf",e.m.controls),s.Eb(2),s.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType&&!e.isRowEnds)||e.isGreaterValue),s.Eb(3),s.rc("ngIf",e.isGreaterValue),s.Eb(2),s.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction||e.islimitType)||e.isGreaterValue||0==e.m.controls.length))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,c.m,X.f,D.b,c.n,C.a,v.r,v.i,v.c,v.m,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;margin-left:10px!important;overflow:hidden;text-overflow:ellipsis}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}"]}),pu),gu=r("I5/J"),vu=((fu=function(){function t(e,a,o,i,r){n(this,t),this.ls=e,this.data=a,this.formBuilder=o,this.dialogRef=i,this.doOcrService=r,this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.doOcrService.getenableNext().subscribe(function(e){console.log("data disableNextAtIndex1 :: ",e),t.disableNextAtIndex1=e})}},{key:"createDocItemOthers",value:function(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||fu)(s.Rb(m.a),s.Rb(p.a),s.Rb(v.f),s.Rb(p.g),s.Rb(wr.a))},fu.\u0275cmp=s.Lb({type:fu,selectors:[["app-update-doc-upload"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h3",2),s.Tc(4,"Proof Of Identity"),s.Wb(),s.Xb(5,"mat-card"),s.Sb(6,"app-genric-document-upload",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("screenInfo",e.screenInfo),s.Eb(2),s.rc("disabled",e.disableNextAtIndex1))},directives:[X.e,X.d,T.a,E.a,Ur.a,X.f,D.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),fu),yu=["chart"];function Wu(t,e){if(1&t&&(s.Xb(0,"span",66),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function Xu(t,e){if(1&t&&(s.Xb(0,"div",67),s.Xb(1,"h1",68),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.cardInfo.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.cardInfo.lastName),0,1),"")}}function Tu(t,e){if(1&t&&s.Sb(0,"img",70),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function Iu(t,e){if(1&t&&(s.Xb(0,"div",67),s.Rc(1,Tu,1,1,"img",69),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl)}}function Eu(t,e){if(1&t&&(s.Xb(0,"div",83),s.Xb(1,"small",84),s.Tc(2),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==a?null:a.cifNumber,"")}}function xu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",85),s.fc("click",function(){return s.Hc(a),s.jc(2).goTo360Dashboard()}),s.Xb(1,"small",84),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==n?null:n.cifNumber,"")}}function Cu(t,e){if(1&t&&(s.Xb(0,"div",71),s.Xb(1,"div",38),s.Xb(2,"mat-card"),s.Xb(3,"div",71),s.Xb(4,"div",72),s.Sb(5,"img",73),s.Wb(),s.Xb(6,"div",74),s.Xb(7,"div",75),s.Xb(8,"div"),s.Xb(9,"div",71),s.Xb(10,"div",76),s.Xb(11,"h2",77),s.Xb(12,"span"),s.Tc(13),s.Wb(),s.Tc(14,"\xa0 "),s.Xb(15,"span"),s.Tc(16),s.Wb(),s.Tc(17,"\xa0 "),s.Xb(18,"span"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",78),s.Tc(21,"|"),s.Wb(),s.Xb(22,"div",76),s.Xb(23,"small",49),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",71),s.Rc(26,Eu,3,1,"div",79),s.Rc(27,xu,3,1,"div",80),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",81),s.Xb(30,"div",82),s.Xb(31,"small",48),s.Tc(32,"Date of Birth"),s.Wb(),s.Sb(33,"br"),s.Xb(34,"p",49),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div",82),s.Xb(37,"small",48),s.Tc(38,"Email ID"),s.Wb(),s.Sb(39,"br"),s.Xb(40,"p",49),s.Tc(41),s.Wb(),s.Wb(),s.Xb(42,"div",82),s.Xb(43,"small",48),s.Tc(44,"Mobile Number"),s.Wb(),s.Sb(45,"br"),s.Xb(46,"p",49),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",82),s.Xb(49,"small",48),s.Tc(50,"Phone Number"),s.Wb(),s.Sb(51,"br"),s.Xb(52,"p",49),s.Tc(53),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc();s.Eb(13),s.Uc(null==a?null:a.firstName),s.Eb(3),s.Uc(null==a?null:a.middleName),s.Eb(3),s.Uc(null==a?null:a.lastName),s.Eb(5),s.Vc("Last Updated On ",null!=a&&a.modifiedTime?a.modifiedTime:a.createdTime,""),s.Eb(2),s.rc("ngIf",!n.isApprovedSreen),s.Eb(1),s.rc("ngIf",n.isApprovedSreen),s.Eb(8),s.Uc(null==a?null:a.dateOfBirth),s.Eb(6),s.Uc(null==a?null:a.primaryEmailAdress),s.Eb(6),s.Uc(a.phoneNumber),s.Eb(6),s.Uc(null==a?null:a.landlineNumber)}}function Au(t,e){if(1&t&&s.Sb(0,"apx-chart",95),2&t){var a=s.jc(2);s.rc("series",a.chartOptions.series)("chart",a.chartOptions.chart)("plotOptions",a.chartOptions.plotOptions)("labels",a.chartOptions.labels)}}function Ou(t,e){if(1&t&&s.Sb(0,"apx-chart",96),2&t){var a=s.jc(2);s.rc("series",a.chartOptions1.series1)("chart",a.chartOptions1.chart1)("yaxis",a.chartOptions1.yaxis1)("xaxis",a.chartOptions1.xaxis1)("labels",a.chartOptions1.labels1)("stroke",a.chartOptions1.stroke1)("markers",a.chartOptions1.markers1)("fill",a.chartOptions1.fill1)("tooltip",a.chartOptions1.tooltip1)}}function Du(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Financial Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc().editFinancialDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(7,"hr"),s.Xb(8,"mat-card"),s.Xb(9,"div",75),s.Xb(10,"mat-card"),s.Xb(11,"h4"),s.Tc(12,"Assets and Liabilities"),s.Wb(),s.Rc(13,Au,1,4,"apx-chart",86),s.Wb(),s.Xb(14,"mat-card"),s.Xb(15,"h4"),s.Tc(16,"Income and Expenses"),s.Wb(),s.Rc(17,Ou,1,9,"apx-chart",87),s.Wb(),s.Wb(),s.Xb(18,"mat-card"),s.Xb(19,"mat-card-header",88),s.Xb(20,"div",89),s.Xb(21,"div",90),s.Xb(22,"div",91),s.Xb(23,"mat-icon"),s.Tc(24,"perm_identity"),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div"),s.Xb(26,"mat-card-title",92),s.Tc(27),s.Wb(),s.Xb(28,"mat-card-subtitle",93),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div",94),s.Xb(31,"div"),s.Xb(32,"div",36),s.Tc(33,"Employment Type"),s.Wb(),s.Xb(34,"div",37),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div"),s.Xb(37,"div",36),s.Tc(38,"Employment Category"),s.Wb(),s.Xb(39,"div",37),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(8),s.rc("ngIf",n.chartOptions),s.Eb(4),s.rc("ngIf",n.chartOptions1),s.Eb(10),s.Uc(n.designation),s.Eb(2),s.Wc("",n.employeeNumber,",",n.officeName," "),s.Eb(6),s.Uc(n.employmentType),s.Eb(5),s.Uc(n.employmentCategory)}}function Ru(t,e){if(1&t&&(s.Xb(0,"div",33),s.Sb(1,"div",34),s.Xb(2,"div",35),s.Xb(3,"div",36),s.Tc(4,"Limit Type"),s.Wb(),s.Xb(5,"div",37),s.Tc(6),s.Wb(),s.Wb(),s.Xb(7,"div",35),s.Xb(8,"div",36),s.Tc(9,"Daily Limit"),s.Wb(),s.Xb(10,"div",37),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"div",35),s.Xb(13,"div",36),s.Tc(14,"Limit Per Transaction"),s.Wb(),s.Xb(15,"div",37),s.Tc(16),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(6),s.Uc(a.limitType),s.Eb(5),s.Uc(a.dailyLimit),s.Eb(5),s.Uc(a.limitPerTransaction)}}function Su(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Card Preferences Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc().editCardPreferenceDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(7,"hr"),s.Xb(8,"mat-card"),s.Xb(9,"mat-card-content"),s.Rc(10,Ru,17,3,"div",97),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(5),s.rc("ngForOf",n.preferenceDetails)}}function ku(t,e){if(1&t&&(s.Xb(0,"div",37),s.Xb(1,"a",98),s.Tc(2,"link"),s.Wb(),s.Sb(3,"link"),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.sc("href",a.documentUrl,s.Jc)}}function Nu(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4"),s.Tc(3,"Fixed Interest"),s.Wb(),s.Wb(),s.Xb(4,"div",100),s.Xb(5,"div"),s.Xb(6,"mat-card",101),s.Xb(7,"div"),s.Xb(8,"div",36),s.Tc(9,"Interest Type"),s.Wb(),s.Xb(10,"div",37),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div"),s.Xb(13,"mat-card",101),s.Xb(14,"div"),s.Xb(15,"div",36),s.Tc(16,"Applicable Int Rate %"),s.Wb(),s.Xb(17,"div",37),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div"),s.Xb(20,"mat-card",101),s.Xb(21,"div"),s.Xb(22,"div",36),s.Tc(23,"Effective Rate %"),s.Wb(),s.Xb(24,"div",37),s.Tc(25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div"),s.Xb(27,"mat-card",101),s.Xb(28,"div"),s.Xb(29,"div",36),s.Tc(30,"Int Margin In %"),s.Wb(),s.Xb(31,"div",37),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(11),s.Uc(a.intrestType),s.Eb(7),s.Uc(a.intrestRateApplicable),s.Eb(7),s.Uc(a.effectiveRate),s.Eb(7),s.Uc(a.marginIn)}}function Pu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Interest Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc(2).editInterestDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(7,Nu,33,4,"mat-card",99),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(2),s.rc("ngForOf",n.intrestDetails)}}function Fu(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4"),s.Tc(3,"Handling Charge"),s.Wb(),s.Wb(),s.Xb(4,"div"),s.Xb(5,"div"),s.Xb(6,"mat-card",102),s.Xb(7,"div"),s.Xb(8,"div",36),s.Tc(9,"Amount"),s.Wb(),s.Xb(10,"div",37),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(11),s.Uc(a.amount)}}function Lu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Charge Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc(2).editChargeDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(7,Fu,12,1,"mat-card",99),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(2),s.rc("ngForOf",n.chargeDetails)}}function _u(t,e){if(1&t&&(s.Xb(0,"div",25),s.Xb(1,"div",26),s.Xb(2,"div",27),s.Tc(3,"3"),s.Wb(),s.Xb(4,"div",28),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"div",29),s.Xb(7,"h2"),s.Tc(8,"Application Enrichment"),s.Wb(),s.Sb(9,"hr"),s.Rc(10,Pu,8,2,"mat-card",51),s.Sb(11,"br"),s.Sb(12,"hr"),s.Rc(13,Lu,8,2,"mat-card",51),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(10),s.rc("ngIf",(null==a.intrestDetails?null:a.intrestDetails.length)>0),s.Eb(3),s.rc("ngIf",(null==a.chargeDetails?null:a.chargeDetails.length)>0)}}function wu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",25),s.Xb(1,"div",26),s.Xb(2,"div",27),s.Tc(3,"4"),s.Wb(),s.Xb(4,"div",28),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Sb(6,"br"),s.Xb(7,"div",29),s.Xb(8,"h2"),s.Tc(9,"Underwriting Stage"),s.Wb(),s.Sb(10,"hr"),s.Xb(11,"div"),s.Xb(12,"div",30),s.Xb(13,"h3"),s.Tc(14,"Credit Score Details"),s.Wb(),s.Xb(15,"span"),s.Xb(16,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc().editCreditScoreDetails()}),s.Tc(17,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",39),s.Xb(19,"div",42),s.Xb(20,"div",43),s.Xb(21,"mat-card",103),s.Xb(22,"mat-card-content"),s.Xb(23,"div",38),s.Xb(24,"div",104),s.Xb(25,"div",105),s.Vb(26),s.Xb(27,"div",106),s.Xb(28,"mat-hint",36),s.Tc(29,"Customer Name"),s.Wb(),s.Sb(30,"br"),s.Xb(31,"mat-hint",37),s.Tc(32),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(33,"div",39),s.Xb(34,"div",42),s.Xb(35,"div",43),s.Xb(36,"mat-card",103),s.Xb(37,"mat-card-content"),s.Xb(38,"div",38),s.Xb(39,"div",104),s.Xb(40,"div",105),s.Vb(41),s.Sb(42,"div",107),s.Xb(43,"div",108),s.Xb(44,"mat-card",109),s.Xb(45,"h3"),s.Tc(46,"Score"),s.Wb(),s.Sb(47,"br"),s.Xb(48,"div",110),s.Xb(49,"div",105),s.Vb(50),s.Xb(51,"div",111),s.Xb(52,"mat-hint",36),s.Tc(53,"Agency"),s.Wb(),s.Sb(54,"br"),s.Xb(55,"mat-hint",37),s.Tc(56),s.Wb(),s.Wb(),s.Xb(57,"div",111),s.Xb(58,"mat-hint",36),s.Tc(59,"Score"),s.Wb(),s.Sb(60,"br"),s.Xb(61,"mat-hint",37),s.Tc(62),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Sb(63,"br"),s.Xb(64,"div",104),s.Xb(65,"div",105),s.Vb(66),s.Xb(67,"div",111),s.Xb(68,"mat-hint",36),s.Tc(69,"Remarks"),s.Wb(),s.Sb(70,"br"),s.Xb(71,"mat-hint",37),s.Tc(72),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(73,"hr"),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(16),s.rc("hidden",n.editScreen),s.Eb(16),s.Uc(n.customerName),s.Eb(24),s.Uc(n.agencyName),s.Eb(6),s.Uc(n.ratings),s.Eb(10),s.Vc("",n.remarks," ")}}function Uu(t,e){if(1&t&&(s.Xb(0,"div",37),s.Xb(1,"a",98),s.Tc(2,"link"),s.Wb(),s.Sb(3,"link"),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.sc("href",a.signatureDataForCard.fileUrl,s.Jc)}}var Mu,Gu=function(t,e){return{disabledbtn:t,continueBtn:e}},Vu=function(t,e){return{disabledbtn:t,rejectbtn:e}},ju=function(t,e){return{disabledbtn:t,approvebtn:e}},Bu=((Mu=function(){function t(e,a,o,i,r,c,l,s,b,u,d,m){n(this,t),this.router=e,this.tasksummaryService=a,this.ls=o,this.dialogRef=i,this.appApiService=r,this.api=c,this.sanitizer=l,this.data=s,this.cdr=b,this.snack=u,this.dialog=d,this.jwtService=m,this.chart=new h.a,this.isOnGoing="",this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0,this.document_type=["6","7","8"],this.cardDocumentArray=[]}return i(t,[{key:"ngOnInit",value:function(){this.cardInfo=this.data,console.log(this.cardInfo),localStorage.setItem("cardId",this.cardInfo.cardId),this.cardId=this.ls.getItem(""),this.ls.setItem("CIF_NUM_PRIMARY",this.cardInfo.customerId),this.ls.setItem("NAME",this.cardInfo.firstName+" "+this.cardInfo.lastName),this.getProfileImage(this.cardInfo.customerId),this.getSign(this.cardInfo.cardId),"REJECTED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!1):"ONGOING"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"==this.cardInfo.status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0),this.getAccountInfoByAccountId(this.cardInfo.cardId),this.getCustomerInfoDetails(this.cardInfo.cardId),this.getCustomerDocumentsDetails(this.cardInfo.customerId),this.getCardAccountServiceDetails(this.cardInfo.cardId),this.getQalitativeDetails(this.cardInfo.cardId)}},{key:"getQalitativeDetails",value:function(t){var e=this;this.api.getCardQualitativeScorecardDetails(t).subscribe(function(t){e.cardQualitativeDetails=t})}},{key:"getCardDocument",value:function(t){var e=this;for(var a in this.document_type)this.api.getCustomerDocuments(t,this.document_type[a]).subscribe(function(t){e.cardDocumentArray.push(t),console.log(e.cardDocumentArray)})}},{key:"getCardAccountServiceDetails",value:function(t){var e=this;this.api.gettingCardAccountServiceDetails(t).subscribe(function(t){e.cardAccountService=t})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:this.cardInfo.status})}},{key:"getProfileImage",value:function(t){var e=this;this.image=null,null!=this.cardInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.imageUrl=t.profileImage,e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){console.log(t)})}},{key:"getSign",value:function(t){var e=this;this.api.getDigitalsignByCardId(t).subscribe(function(t){console.log(t),null!=t&&(console.log(t[t.length-1]),e.signatureDataForCard=t[t.length-1])},function(t){})}},{key:"goToCardAccount",value:function(){var t=this;console.log("Navigating to edit screen"),this.ls.setItem("EDIT-CARDINFO",this.cardAccountInfo),this.api.updateCardStatus({cardId:this.cardInfo.cardId,status:"ONGOING"}).subscribe(function(t){}),console.log("acc data :: ",this.cardInfo),setTimeout(function(){t.router.navigateByUrl("/cardaccount/applicationEntryStage/list")},1e3),this.dialogRef.close({message:"Confirm"})}},{key:"getAccountInfoByAccountId",value:function(t){var e=this;this.tasksummaryService.getCardAccountInfoById(t).subscribe(function(t){if(t)for(var a in e.cardAccountInfo=t,e.getCardDocument(e.cardAccountInfo.initiationInfo.customerId),console.log("backend data",e.cardAccountInfo),e.initiationDetails=e.cardAccountInfo.initiationInfo,console.log(e.initiationDetails),e.cardAccountInfo.financialInfo&&(e.financialDetails=e.cardAccountInfo.financialInfo[0],e.income=e.cardAccountInfo.financialInfo[0].applicantTotalIncome,e.expense=e.cardAccountInfo.financialInfo[0].applicantTotalExpense,e.designation=e.cardAccountInfo.financialInfo[0].designation,e.office=e.cardAccountInfo.financialInfo[0].office,e.employeeNumber=e.cardAccountInfo.financialInfo[0].employeeNumber,e.employmentType=e.cardAccountInfo.financialInfo[0].employmentType,e.employmentCategory=e.cardAccountInfo.financialInfo[0].employmentCategory),e.cardAccountInfo.creditRatingInfo&&(e.creditRatingDetails=e.cardAccountInfo.creditRatingInfo,e.customerName=e.cardAccountInfo.creditRatingInfo.customerName,e.cardAccountInfo.creditRatingInfo.agencyRating&&(e.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName&&(e.agencyName=e.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName),e.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings&&(e.ratings=e.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings),e.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks&&(e.remarks=e.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks))),e.intrestDetails=e.cardAccountInfo.interestInfo,e.chargeDetails=e.cardAccountInfo.chargeInfo,e.signatureData=e.cardAccountInfo.documentInfo,e.assessmentDetails=e.cardAccountInfo.assessmentInfo,e.approvalDetails=e.cardAccountInfo.approvalInfo,e.preferenceDetails=e.cardAccountInfo.preferenceInfo,e.assignValues(e.cardAccountInfo.initiationInfo,e.cardAccountInfo.financialInfo[0],e.cardAccountInfo.creditRatingInfo,e.cardAccountInfo.interestInfo,e.cardAccountInfo.chargeInfo,e.cardAccountInfo.documentInfo,e.cardAccountInfo.assessmentInfo,e.cardAccountInfo.approvalInfo,e.cardAccountInfo.preferenceInfo),e.cardAccountInfo)Object.prototype.hasOwnProperty.call(e.cardAccountInfo,a)})}},{key:"assignValues",value:function(t,e,a,n,o,i,r,c,l){this.approvalDetails=c,this.assessmentDetails=r,this.initiationDetails=t,this.creditRatingDetails=a,this.financialDetails=e,this.interestDetails=n,this.chargeDetails=o,this.signatureData=i,this.preferenceDetails=l,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.expense,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.api.getCustomerAllDocuments(t,[6,7,8]).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName,e.documentUrl=e.custOtherDoc_array[0].fileUrl)})}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("formData::",t);var n=e;this.accStatus=e,console.log(this.accStatus),this.tasksummaryService.updateCardAccountStatus({status:this.accStatus,cardId:t.cardId}).subscribe(function(t){null!=t.cardId||""!=t.cardId||""!=t.cardId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"openEditScreen",value:function(t,e){var a=this;this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){a.cardInfo.status=t.status,"BACKLOG"==a.cardInfo.status&&(a.approvedStatus=!1,a.rejectedStatus=!1),a.getAccountInfoByAccountId(a.cardInfo.cardId),a.getSign(a.cardInfo.cardId),a.cdr.markForCheck()})}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(vu,this.custOtherDoc_array)}},{key:"editInitiationDetails",value:function(){this.openEditScreen(Eb,this.initiationDetails)}},{key:"editFinancialDetails",value:function(){this.openEditScreen(bu,this.cardAccountInfo)}},{key:"editCardPreferenceDetails",value:function(){this.openEditScreen(hu,{preferanceInfo:this.preferenceDetails,cardId:this.cardInfo.cardId})}},{key:"editInterestDetails",value:function(){this.openEditScreen(Qb,{interestInfo:this.interestDetails,cardId:this.cardInfo.cardId})}},{key:"editChargeDetails",value:function(){this.openEditScreen($b,{chargeInfo:this.chargeDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editCreditScoreDetails",value:function(){this.openEditScreen(Kb,{creditScore:this.creditRatingDetails,cardId:this.cardInfo.cardId})}},{key:"editAssessmentReport",value:function(){this.openEditScreen(Gb,{assessmentInfo:this.assessmentDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editApprovalDetails",value:function(){this.openEditScreen(_b,{approvalInfo:this.approvalDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editDigitalSign",value:function(){this.ls.setItem("cardSignedImage",null!=this.signatureDataForCard?this.signatureDataForCard.fileUrl:"not_available"),this.ls.setItem("cId",this.cardInfo.customerId),this.openEditScreen(gu.a,this.cardInfo)}},{key:"getCustomerInfoDetails",value:function(t){var e=this;this.appApiService.fetchCardCustomersByCardId(t,"cardOrigin").subscribe(function(t){t.data&&(e.customerInfoDetails=t.data,e.ownership=e.customerInfoDetails[0].ownership,e.noOfApplicants=e.customerInfoDetails[0].numOfApplicants,e.ownership=e.ls.getItem("cardownership_value"),e.noOfApplicants=e.ls.getItem("CardNoOfApplicants"))},function(t){})}},{key:"continue",value:function(){var t,e,a,n,o,i,r,c,l,s,b,u,d,m,p,f,h,g,v;this.ls.setItem("cardId",null===(t=this.initiationDetails)||void 0===t?void 0:t.cardId),this.ls.setItem("CARD_INITIATION_DONE",!!this.initiationDetails),this.ls.setItem("Card_Customer_Done",0!=(null===(a=null===(e=this.customerInfoDetails)||void 0===e?void 0:e.data)||void 0===a?void 0:a.length)),this.ls.setItem("CARD_FINANCIAL_DONE",0!=(null===(n=this.cardAccountInfo.financialInfo)||void 0===n?void 0:n.lenght)),this.ls.setItem("card_prefrence_done",0!=(null===(o=this.cardAccountInfo.preferenceInfo)||void 0===o?void 0:o.length)),this.ls.setItem("CARD_ACC_SERVICE_DONE",!!this.cardAccountService),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",0!=(this.initiationDetails&&0!=(null===(r=null===(i=this.customerInfoDetails)||void 0===i?void 0:i.data)||void 0===r?void 0:r.length)&&0!=(null===(c=this.cardAccountInfo.financialInfo)||void 0===c?void 0:c.lenght)&&(null===(l=this.cardAccountInfo.preferenceInfo)||void 0===l?void 0:l.length)&&this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!(!this.initiationDetails||0==(null===(b=null===(s=this.customerInfoDetails)||void 0===s?void 0:s.data)||void 0===b?void 0:b.length)||0==(null===(u=this.cardAccountInfo.financialInfo)||void 0===u?void 0:u.lenght)||0==(null===(d=this.cardAccountInfo.preferenceInfo)||void 0===d?void 0:d.length)||!this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_ENRICHMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!(0==(null===(m=this.cardAccountInfo.interestInfo)||void 0===m?void 0:m.length)||!this.cardAccountInfo.interestInfo)),this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!(0==(null===(p=this.cardAccountInfo.chargeInfo)||void 0===p?void 0:p.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_UNDERWRITING_DONE",!(0==(null===(f=this.cardAccountInfo.interestInfo)||void 0===f?void 0:f.length)||!this.cardAccountInfo.interestInfo||0==(null===(h=this.cardAccountInfo.chargeInfo)||void 0===h?void 0:h.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!(0==(null===(g=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===g?void 0:g.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating||!this.cardQualitativeDetails)),this.ls.setItem("CARD_CREDIT_RATING_DONE",!(0==(null===(v=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===v?void 0:v.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating)),this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!!this.cardQualitativeDetails),this.ls.setItem("CARD_ASSESSMENT_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_SUPERVISOR_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_APPROVAL_DONE",!!this.cardAccountInfo.approvalInfo),this.ls.setItem("CARD_DIGITAL_STAGE_DONE",!!this.cardAccountInfo.approvalInfo),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=CARDACC&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Mu)(s.Rb(Ze.h),s.Rb(g.a),s.Rb(m.a),s.Rb(p.g),s.Rb(f.a),s.Rb(b.b),s.Rb(so.b),s.Rb(p.a),s.Rb(s.h),s.Rb(W.a),s.Rb(p.b),s.Rb(lo.a))},Mu.\u0275cmp=s.Lb({type:Mu,selectors:[["app-card-account-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad(yu,!0),2&t&&s.Cc(a=s.gc())&&(e.chart=a.first)},decls:350,vars:65,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[4,"ngIf"],["class","labelval",4,"ngIf"],["fxLayout","row","class","flex-container",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row",1,"rowbord","nobord"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","20px"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","15",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"continueBtn",3,"hidden","ngClass","click"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row wrap",1,"full-width"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[3,"series","chart","plotOptions","labels",4,"ngIf"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip",4,"ngIf"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[1,"circle"],[1,"content1"],[1,"matCardTitle"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"matCardTitle","col"],[3,"series","chart","plotOptions","labels"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","class","rowbord",4,"ngFor","ngForOf"],["download","",1,"linkColor",3,"href"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"appersoninfocard",2,"width","100px"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"div",0),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"mat-icon",4),s.fc("click",function(){return e.close(e.data)}),s.Tc(6," close "),s.Wb(),s.Wb(),s.Wb(),s.Sb(7,"div",5),s.Xb(8,"div",6),s.Xb(9,"div",7),s.Xb(10,"div",8),s.Xb(11,"div",9),s.Rc(12,Wu,2,1,"span",10),s.Wb(),s.Xb(13,"div",11),s.Xb(14,"div",12),s.Sb(15,"img",13),s.Tc(16,"\xa0 "),s.Xb(17,"div"),s.Xb(18,"span",14),s.Tc(19),s.Wb(),s.Sb(20,"br"),s.Xb(21,"span",15),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div",16),s.Xb(24,"mat-icon",17),s.Tc(25,"phone "),s.Wb(),s.Tc(26,"\xa0\xa0\xa0 "),s.Xb(27,"span",18),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",16),s.Xb(30,"mat-icon",17),s.Tc(31," mail_outline"),s.Wb(),s.Tc(32,"\xa0\xa0 \xa0 "),s.Xb(33,"span",19),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",20),s.Xb(36,"div",21),s.Rc(37,Xu,7,16,"div",22),s.Rc(38,Iu,2,1,"div",23),s.Wb(),s.Wb(),s.Sb(39,"br"),s.Sb(40,"br"),s.Sb(41,"br"),s.Sb(42,"br"),s.Xb(43,"div",24),s.Xb(44,"h2"),s.Tc(45),s.Wb(),s.Wb(),s.Xb(46,"div",25),s.Xb(47,"div",26),s.Xb(48,"div",27),s.Tc(49,"1"),s.Wb(),s.Xb(50,"div",28),s.Tc(51,"\xa0"),s.Wb(),s.Wb(),s.Xb(52,"div",29),s.Xb(53,"h2"),s.Tc(54,"Application Entry Stage"),s.Wb(),s.Sb(55,"hr"),s.Xb(56,"div",30),s.Xb(57,"h3"),s.Tc(58,"Card Initiation Details"),s.Wb(),s.Xb(59,"span"),s.Xb(60,"mat-icon",31),s.fc("click",function(){return e.editInitiationDetails()}),s.Tc(61,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"mat-card",32),s.Xb(63,"mat-card-content"),s.Xb(64,"div",33),s.Sb(65,"div",34),s.Xb(66,"div",35),s.Xb(67,"div",36),s.Tc(68,"Existing Customer"),s.Wb(),s.Xb(69,"div",37),s.Tc(70),s.Wb(),s.Wb(),s.Xb(71,"div",35),s.Xb(72,"div",36),s.Tc(73,"Card Type"),s.Wb(),s.Xb(74,"div",37),s.Tc(75),s.Wb(),s.Wb(),s.Xb(76,"div",35),s.Xb(77,"div",36),s.Tc(78,"Customer Account"),s.Wb(),s.Xb(79,"div",37),s.Tc(80),s.Wb(),s.Wb(),s.Wb(),s.Xb(81,"div",33),s.Sb(82,"div",34),s.Xb(83,"div",35),s.Xb(84,"div",36),s.Tc(85,"Applicant Name"),s.Wb(),s.Xb(86,"div",37),s.Tc(87),s.Wb(),s.Wb(),s.Xb(88,"div",35),s.Xb(89,"div",36),s.Tc(90,"Currency"),s.Wb(),s.Xb(91,"div",37),s.Tc(92),s.Wb(),s.Wb(),s.Xb(93,"div",35),s.Xb(94,"div",36),s.Tc(95,"Employment Type"),s.Wb(),s.Xb(96,"div",37),s.Tc(97),s.Wb(),s.Wb(),s.Wb(),s.Xb(98,"div",33),s.Sb(99,"div",34),s.Xb(100,"div",35),s.Xb(101,"div",36),s.Tc(102,"Affinity Program"),s.Wb(),s.Xb(103,"div",37),s.Tc(104),s.Wb(),s.Wb(),s.Xb(105,"div",35),s.Xb(106,"div",36),s.Tc(107,"Status"),s.Wb(),s.Xb(108,"div",37),s.Tc(109),s.Wb(),s.Wb(),s.Xb(110,"div",35),s.Xb(111,"div",36),s.Tc(112,"Modification No"),s.Wb(),s.Xb(113,"div",37),s.Tc(114),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(115,"mat-card",32),s.Xb(116,"div",38),s.Xb(117,"div",39),s.Xb(118,"div",40),s.Xb(119,"h4",41),s.Tc(120,"Customer Information"),s.Wb(),s.Wb(),s.Xb(121,"div",42),s.Xb(122,"div",43),s.Xb(123,"div",38),s.Xb(124,"div",44),s.Xb(125,"div",45),s.Xb(126,"div"),s.Xb(127,"mat-card"),s.Xb(128,"div",46),s.Xb(129,"div",47),s.Xb(130,"small",48),s.Tc(131,"Holding Pattern"),s.Wb(),s.Xb(132,"h3",49),s.Tc(133),s.Wb(),s.Wb(),s.Xb(134,"div",47),s.Xb(135,"small",48),s.Tc(136,"Ownership"),s.Wb(),s.Xb(137,"h3",49),s.Tc(138),s.Wb(),s.Wb(),s.Xb(139,"div",47),s.Xb(140,"small",48),s.Tc(141,"Number of Applicant"),s.Wb(),s.Xb(142,"h3",49),s.Tc(143),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(144,Cu,54,10,"div",50),s.Wb(),s.Wb(),s.Sb(145,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(146,Du,42,8,"div",51),s.Rc(147,Su,11,2,"div",51),s.Wb(),s.Wb(),s.Xb(148,"div",25),s.Xb(149,"div",26),s.Xb(150,"div",27),s.Tc(151,"2"),s.Wb(),s.Xb(152,"div",28),s.Tc(153,"\xa0"),s.Wb(),s.Wb(),s.Xb(154,"div",29),s.Xb(155,"h2"),s.Tc(156,"Document Type"),s.Wb(),s.Sb(157,"hr"),s.Xb(158,"div",30),s.Xb(159,"h3"),s.Tc(160,"Document Type"),s.Wb(),s.Xb(161,"span"),s.Xb(162,"mat-icon",31),s.fc("click",function(){return e.editProofOfIdentity()}),s.Tc(163,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(164,"mat-card",32),s.Xb(165,"mat-card-content"),s.Xb(166,"div",33),s.Sb(167,"div",34),s.Xb(168,"div",35),s.Xb(169,"div",36),s.Tc(170,"Document Name"),s.Wb(),s.Xb(171,"div",37),s.Tc(172),s.Wb(),s.Wb(),s.Xb(173,"div",35),s.Xb(174,"div",36),s.Tc(175,"Download"),s.Wb(),s.Rc(176,ku,4,1,"div",52),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(177,"hr"),s.Wb(),s.Wb(),s.Rc(178,_u,14,2,"div",53),s.Rc(179,wu,74,5,"div",53),s.Xb(180,"div",25),s.Xb(181,"div",26),s.Xb(182,"div",27),s.Tc(183,"5"),s.Wb(),s.Xb(184,"div",28),s.Tc(185,"\xa0"),s.Wb(),s.Wb(),s.Xb(186,"div",29),s.Xb(187,"h2"),s.Tc(188,"Assessment Stage"),s.Wb(),s.Sb(189,"hr"),s.Xb(190,"div",30),s.Xb(191,"h3"),s.Tc(192,"Assessment Report"),s.Wb(),s.Xb(193,"span"),s.Xb(194,"mat-icon",31),s.fc("click",function(){return e.editAssessmentReport()}),s.Tc(195,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(196,"mat-card",32),s.Xb(197,"mat-card-content"),s.Xb(198,"div",33),s.Sb(199,"div",34),s.Xb(200,"div",35),s.Xb(201,"div",36),s.Tc(202,"Requested Card Limit"),s.Wb(),s.Xb(203,"div",37),s.Tc(204),s.Wb(),s.Wb(),s.Xb(205,"div",35),s.Xb(206,"div",36),s.Tc(207,"System Recommendation"),s.Wb(),s.Xb(208,"div",37),s.Tc(209),s.Wb(),s.Wb(),s.Xb(210,"div",35),s.Xb(211,"div",36),s.Tc(212,"User Recommendation"),s.Wb(),s.Xb(213,"div",37),s.Tc(214),s.Wb(),s.Wb(),s.Wb(),s.Xb(215,"div",33),s.Sb(216,"div",34),s.Xb(217,"div",35),s.Xb(218,"div",36),s.Tc(219,"Recommended Card Limit"),s.Wb(),s.Xb(220,"div",37),s.Tc(221),s.Wb(),s.Wb(),s.Xb(222,"div",35),s.Xb(223,"div",36),s.Tc(224,"Approved Card Limit"),s.Wb(),s.Xb(225,"div",37),s.Tc(226),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(227,"div",25),s.Xb(228,"div",26),s.Xb(229,"div",27),s.Tc(230,"6"),s.Wb(),s.Xb(231,"div",28),s.Tc(232,"\xa0"),s.Wb(),s.Wb(),s.Xb(233,"div",29),s.Xb(234,"h2"),s.Tc(235,"Approval Stage"),s.Wb(),s.Sb(236,"hr"),s.Xb(237,"div",30),s.Xb(238,"h3"),s.Tc(239,"Approval Details"),s.Wb(),s.Xb(240,"span"),s.Xb(241,"mat-icon",31),s.fc("click",function(){return e.editApprovalDetails()}),s.Tc(242,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(243,"mat-card",32),s.Xb(244,"mat-card-content"),s.Xb(245,"div",33),s.Sb(246,"div",34),s.Xb(247,"div",35),s.Xb(248,"div",36),s.Tc(249,"Account Type"),s.Wb(),s.Xb(250,"div",37),s.Tc(251),s.Wb(),s.Wb(),s.Xb(252,"div",35),s.Xb(253,"div",36),s.Tc(254,"Account Branch"),s.Wb(),s.Xb(255,"div",37),s.Tc(256),s.Wb(),s.Wb(),s.Xb(257,"div",35),s.Xb(258,"div",36),s.Tc(259,"Product Code"),s.Wb(),s.Xb(260,"div",37),s.Tc(261),s.Wb(),s.Wb(),s.Wb(),s.Xb(262,"div",33),s.Sb(263,"div",34),s.Xb(264,"div",35),s.Xb(265,"div",36),s.Tc(266,"Product Name"),s.Wb(),s.Xb(267,"div",37),s.Tc(268),s.Wb(),s.Wb(),s.Xb(269,"div",35),s.Xb(270,"div",36),s.Tc(271,"Account Currency"),s.Wb(),s.Xb(272,"div",37),s.Tc(273),s.Wb(),s.Wb(),s.Xb(274,"div",35),s.Xb(275,"div",36),s.Tc(276,"Existing Value"),s.Wb(),s.Xb(277,"div",37),s.Tc(278),s.Wb(),s.Wb(),s.Wb(),s.Xb(279,"div",33),s.Xb(280,"div",35),s.Xb(281,"mat-card",54),s.Xb(282,"div",55),s.Xb(283,"div",56),s.Xb(284,"div",57),s.Xb(285,"div",58),s.Xb(286,"mat-icon"),s.Tc(287,"done"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(288,"div",59),s.Xb(289,"div",36),s.Tc(290,"User Recommendation"),s.Wb(),s.Xb(291,"div",37),s.Tc(292),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(293,"div",34),s.Xb(294,"div",35),s.Xb(295,"div",36),s.Tc(296,"Remarks"),s.Wb(),s.Xb(297,"div",37),s.Tc(298),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(299,"div",60),s.Xb(300,"div",61),s.Xb(301,"div",27),s.Tc(302,"7"),s.Wb(),s.Xb(303,"div",28),s.Tc(304,"\xa0"),s.Wb(),s.Wb(),s.Xb(305,"div",29),s.Xb(306,"h2"),s.Tc(307,"Digital Sign"),s.Wb(),s.Sb(308,"hr"),s.Xb(309,"div",30),s.Xb(310,"h3"),s.Tc(311,"Digital Sign"),s.Wb(),s.Xb(312,"span"),s.Xb(313,"mat-icon",31),s.fc("click",function(){return e.editDigitalSign()}),s.Tc(314,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(315,"mat-card",32),s.Xb(316,"mat-card-content"),s.Xb(317,"div",33),s.Sb(318,"div",34),s.Xb(319,"div",35),s.Xb(320,"div",36),s.Tc(321,"Document Name"),s.Wb(),s.Xb(322,"div",37),s.Tc(323),s.Wb(),s.Wb(),s.Xb(324,"div",35),s.Xb(325,"div",36),s.Tc(326,"File Type"),s.Wb(),s.Xb(327,"div",37),s.Tc(328),s.Wb(),s.Wb(),s.Xb(329,"div",35),s.Xb(330,"div",36),s.Tc(331,"File Name"),s.Wb(),s.Xb(332,"div",37),s.Tc(333,"Signature"),s.Wb(),s.Wb(),s.Xb(334,"div",35),s.Xb(335,"div",36),s.Tc(336,"Download"),s.Wb(),s.Rc(337,Uu,4,1,"div",52),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(338,"hr"),s.Wb(),s.Wb(),s.Xb(339,"div",62),s.Xb(340,"div"),s.Xb(341,"button",63),s.fc("click",function(){return e.continue()}),s.Tc(342," Cotinue "),s.Wb(),s.Tc(343,"\xa0\xa0 "),s.Xb(344,"button",64),s.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"REJECTED")}),s.Tc(345," Reject "),s.Wb(),s.Tc(346," \xa0\xa0 "),s.Xb(347,"button",65),s.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"APPROVED")}),s.Tc(348,"Approve"),s.Wb(),s.Tc(349," \xa0\xa0 "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(12),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=e.imageUrl),s.Eb(7),s.Xc("",e.cardInfo.prefix,"\xa0",e.cardInfo.firstName,"\xa0",e.cardInfo.lastName,""),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.initiationDetails?null:e.initiationDetails.existingCustomer),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.cardType),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.customerAccount),s.Eb(7),s.Uc(null==e.initiationDetails?null:e.initiationDetails.applicantName),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.currency),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.employmentType),s.Eb(7),s.Uc(null==e.initiationDetails?null:e.initiationDetails.affinityProgram),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.status),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.modificationNo),s.Eb(19),s.Uc(e.ownership),s.Eb(5),s.Uc(e.ownership),s.Eb(5),s.Uc(e.noOfApplicants),s.Eb(1),s.rc("ngForOf",e.customerInfoDetails),s.Eb(2),s.rc("ngIf",null!=e.financialDetails),s.Eb(1),s.rc("ngIf",null!=e.preferenceDetails),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(e.documentName),s.Eb(4),s.rc("ngIf",e.documentUrl),s.Eb(2),s.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0||(null==e.chargeDetails?null:e.chargeDetails.length)>0),s.Eb(1),s.rc("ngIf",(null==e.creditRatingDetails||null==e.creditRatingDetails.agencyRating?null:e.creditRatingDetails.agencyRating.length)>0),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.requestedCardLimit),s.Eb(5),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.systemRecommendation),s.Eb(5),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.userRecommendation),s.Eb(7),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.recommendedCardLimit),s.Eb(5),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.approvedCardLimit),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.approvalDetails?null:e.approvalDetails.accountType),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.accountBranch),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.productCode),s.Eb(7),s.Uc(null==e.approvalDetails?null:e.approvalDetails.productName),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.accountCurrency),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.existingValues),s.Eb(14),s.Uc(null==e.approvalDetails?null:e.approvalDetails.userRecommendation),s.Eb(6),s.Uc(null==e.approvalDetails?null:e.approvalDetails.remarks),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.documentName),s.Eb(5),s.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.fileType),s.Eb(9),s.rc("ngIf",null==e.signatureDataForCard?null:e.signatureDataForCard.fileUrl),s.Eb(4),s.rc("hidden",e.continueStatus)("ngClass",s.yc(56,Gu,e.continueStatus,!e.continueStatus)),s.Eb(3),s.rc("hidden",e.rejectedStatus)("ngClass",s.yc(59,Vu,e.rejectedStatus,!e.rejectedStatus)),s.Eb(3),s.rc("hidden",e.approvedStatus)("ngClass",s.yc(62,ju,e.approvedStatus,!e.approvedStatus)))},directives:[X.e,X.d,T.a,c.m,E.c,c.n,X.b,E.a,E.d,X.f,c.l,bo.a,E.e,E.h,E.g,h.a,I.f],pipes:[c.v,c.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%;margin-left:22%}.closeIcon[_ngcontent-%COMP%]{color:#a9a9a9;cursor:pointer;margin-right:30px}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px}.num[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.qtncrd[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:40px;padding:10px}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:7%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%}.appersoninfocard1[_ngcontent-%COMP%]{width:90%}.interstcard[_ngcontent-%COMP%]{width:100px;height:80px;border:1px solid}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:10px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.6rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.matCardTitle[_ngcontent-%COMP%]{font-size:16px;padding-top:1%}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:150px;height:30px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),Mu);function zu(t,e){1&t&&s.Sb(0,"mat-spinner",19),2&t&&s.rc("diameter",15)}function qu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",20),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"mat-icon"),s.Tc(2,"close"),s.Wb(),s.Wb()}}function Ku(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Ju(t,e){if(1&t&&s.Sb(0,"img",34),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Hu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",21),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"BACKLOG",o.getRandomColor(n+3))}),s.Xb(1,"mat-icon",22),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",23),s.Xb(4,"div",24),s.Rc(5,Ku,2,1,"div",25),s.Rc(6,Ju,1,1,"ng-template",null,26,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",27),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",28),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",29),s.Xb(13,"table"),s.Xb(14,"thead",30),s.Xb(15,"th",31),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",31),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",32),s.Xb(20,"tr"),s.Xb(21,"td",31),s.Tc(22),s.Wb(),s.Xb(23,"td",31),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.cardId),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}function $u(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Yu(t,e){if(1&t&&s.Sb(0,"img",34),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Zu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",21),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"ONGOING",o.getRandomColor(n+6))}),s.Xb(1,"mat-icon",35),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",23),s.Xb(4,"div",24),s.Rc(5,$u,2,1,"div",25),s.Rc(6,Yu,1,1,"ng-template",null,26,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",27),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",28),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",29),s.Xb(13,"table"),s.Xb(14,"thead",30),s.Xb(15,"th",36),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",36),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",32),s.Xb(20,"tr"),s.Xb(21,"td",31),s.Tc(22),s.Wb(),s.Xb(23,"td",31),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc("",null==n?null:n.prefix," ",n.firstName," ",n.middleName," ",n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.cardId),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}function Qu(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function td(t,e){if(1&t&&s.Sb(0,"img",34),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function ed(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",21),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"APPROVED",o.getRandomColor(n+9))}),s.Xb(1,"mat-icon",37),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",23),s.Xb(4,"div",24),s.Rc(5,Qu,2,1,"div",25),s.Rc(6,td,1,1,"ng-template",null,26,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",27),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",28),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",29),s.Xb(13,"table"),s.Xb(14,"thead",30),s.Xb(15,"th",36),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",36),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",32),s.Xb(20,"tr"),s.Xb(21,"td",31),s.Tc(22),s.Wb(),s.Xb(23,"td",31),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc("",null==n?null:n.prefix," ",n.firstName," ",n.middleName," ",n.lastName,""),s.Eb(2),s.Vc(" ",null==n?null:n.cardId,""),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}function ad(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function nd(t,e){if(1&t&&s.Sb(0,"img",34),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function od(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",21),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"REJECTED",o.getRandomColor(n+12))}),s.Xb(1,"mat-icon",38),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",23),s.Xb(4,"div",24),s.Rc(5,ad,2,1,"div",25),s.Rc(6,nd,1,1,"ng-template",null,26,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",39),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",28),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",29),s.Xb(13,"table"),s.Xb(14,"thead",30),s.Xb(15,"th",36),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",36),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",32),s.Xb(20,"tr"),s.Xb(21,"td",31),s.Tc(22),s.Wb(),s.Xb(23,"td",31),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",n.middleName," ",n.lastName," "),s.Eb(2),s.Uc(null==n?null:n.cardId),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}var id,rd=((id=function(){function t(e,a,o,i,r,c){n(this,t),this.dialog=e,this.sanitizer=a,this.tasksummaryService=o,this.apiService=i,this.cdr=r,this.route=c,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new s.o,this._searchSubject=new u.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.route.queryParamMap.subscribe(function(e){e.get("searchTerm")?(t.redirectedFromTellerSearch=!0,t.searchText=e.get("searchTerm"),t.updateSearch(t.searchText),setTimeout(function(){t.openSearchedApprover()},3e3)):t.getDataOnLoad()})}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){t.searchKycid(e)})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}},{key:"getAllAccDetails",value:function(t,e,a){var n=this;this.tasksummaryService.getCardAccDetails(t).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"ONGOING"==t?(this.ONGOINGArr=e.cardList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.cardList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.cardList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.cardList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllCardAccDetailOnScroll(t,e).subscribe(function(e){n.updateDataOnScroll(t,e.cardList),n.cdr.markForCheck()}):console.log("No scroll requied")}},{key:"gotoapproverpage",value:function(t,e,a){var n=this;this.tasksummaryService.cardStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(Bu,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){"REJECTED"!==t.data&&"APPROVED"!==t.data&&"BACKLOG"!==t.data&&"ONGOING"!==t.data||(1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad())})}},{key:"searchKycid",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cardId"),e=this.searchText.trim(),this.tasksummaryService.getCardAccSearchData1(e).subscribe(function(t){console.log(t),null!=t?(a="cardId="+e,console.log("loan",a)):(console.log("not a loan"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getAccountData(a)},100),this.isScroll=!1}},{key:"getAccountData",value:function(t){var e=this;this.loading=!0;for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"BACKLOG"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.BACKLOGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.BACKLOGArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.BACKLOGArr.push(null==t?void 0:t.cardList[a])}):"ONGOING"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.ONGOINGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.ONGOINGArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.ONGOINGArr.push(t.cardList[a])}):"APPROVED"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.APPROVEDArr.push(t.cardList[a])}):"REJECTED"==n&&this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.REJECTEDArr.push(t.cardList[a])})}}},{key:"resetSearchData",value:function(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"searchResponseUpdate",value:function(t,e){console.log("status::",t),"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"updateDataOnScroll",value:function(t,e){if("ONGOING"==t){var a=Qt.unionBy(this.ONGOINGArr,e,"cardId");this.ONGOINGArr=a}else if("BACKLOG"==t){var n=Qt.unionBy(this.BACKLOGArr,e,"cardId");this.BACKLOGArr=n}else if("APPROVED"==t){var o=Qt.unionBy(this.APPROVEDArr,e,"cardId");this.APPROVEDArr=o}else if("REJECTED"==t){var i=Qt.unionBy(this.REJECTEDArr,e,"cardId");this.REJECTEDArr=i}this.cdr.markForCheck()}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||id)(s.Rb(p.b),s.Rb(so.b),s.Rb(g.a),s.Rb(b.b),s.Rb(s.h),s.Rb(Ze.a))},id.\u0275cmp=s.Lb({type:id,selectors:[["app-card-origination-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:54,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryDetails"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchTopDetails"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Card ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","detailedView",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"detailedView",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","14px"],[2,"color","green"],[1,"head1"],[1,"col1"],[1,"fs-11"],[1,"col2"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMarkOngoing"],[1,"fs-10"],[1,"fill-color-blue","bookMark","bookMarkApproved"],[1,"fill-color-blue","bookMark","bookMarkRejected"],[2,"font-size","16px"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"h2",4),s.Tc(7," Card Origination Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-label"),s.Tc(11,"Search"),s.Wb(),s.Xb(12,"div",7),s.Xb(13,"input",8),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Rc(14,zu,1,1,"mat-spinner",9),s.Wb(),s.Xb(15,"mat-icon",10),s.Tc(16,"search"),s.Wb(),s.Rc(17,qu,3,0,"button",11),s.Xb(18,"mat-hint"),s.Tc(19,"Search Card ID or Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",12),s.Xb(21,"div",13),s.Xb(22,"mat-card",14),s.Xb(23,"div",15),s.Xb(24,"span",16),s.Xb(25,"h2",17),s.Tc(26),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div"),s.Rc(28,Hu,25,8,"div",18),s.Wb(),s.Sb(29,"br"),s.Wb(),s.Xb(30,"mat-card",14),s.Xb(31,"div",15),s.Xb(32,"span",16),s.Xb(33,"h2",17),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Rc(36,Zu,25,9,"div",18),s.Wb(),s.Sb(37,"br"),s.Wb(),s.Xb(38,"mat-card",14),s.Xb(39,"div",15),s.Xb(40,"span",16),s.Xb(41,"h2",17),s.Tc(42),s.Wb(),s.Wb(),s.Wb(),s.Xb(43,"div"),s.Rc(44,ed,25,9,"div",18),s.Wb(),s.Sb(45,"br"),s.Wb(),s.Xb(46,"mat-card",14),s.Xb(47,"div",15),s.Xb(48,"span",16),s.Xb(49,"h2",17),s.Tc(50),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div"),s.Rc(52,od,25,8,"div",18),s.Wb(),s.Sb(53,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(12),s.rc("ngModel",e.searchText),s.Eb(1),s.rc("ngIf",e.loading),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(9),s.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.BACKLOGArr),s.Eb(6),s.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.ONGOINGArr),s.Eb(6),s.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.APPROVEDArr),s.Eb(6),s.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.REJECTEDArr))},directives:[oi.a,X.e,X.d,X.f,X.b,I.c,I.g,x.b,v.c,v.r,v.u,c.n,T.a,I.i,I.f,E.a,c.m,R.b,D.b,I.j,E.e,E.c,E.h,E.g,v.A,v.s,v.t],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.bookMarkOngoing[_ngcontent-%COMP%]{color:orange}.bookMarkApproved[_ngcontent-%COMP%]{color:#1fbfa9}.bookMarkRejected[_ngcontent-%COMP%]{color:red}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.summaryDetails[_ngcontent-%COMP%]{padding-left:29px}.searchTopDetails[_ngcontent-%COMP%]{padding-right:5%}.detailedView[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:30vh}.fs-10[_ngcontent-%COMP%]{font-size:10px;color:grey}.fs-11[_ngcontent-%COMP%]{font-size:11px}"]}),id);function cd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ld(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Uc(a.branchName)}}function sd(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.Xb(1,"div",5),s.Xb(2,"mat-label"),s.Tc(3,"loan Amount "),s.Wb(),s.Xb(4,"mat-form-field",6),s.Xb(5,"input",23),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",5),s.Xb(7,"mat-label"),s.Tc(8,"Business Product Name "),s.Wb(),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-select",24),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().getAccountType(t.value)}),s.Rc(11,cd,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",5),s.Xb(13,"mat-label"),s.Tc(14,"Account Branch"),s.Wb(),s.Xb(15,"mat-form-field",6),s.Xb(16,"mat-select",25),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onChangeBranch(t)}),s.Rc(17,ld,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(11),s.rc("ngForOf",n.arrayAccountBranch),s.Eb(6),s.rc("ngForOf",n.screenArray)}}function bd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function ud(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function dd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}var md,pd=((md=function(){function t(e,a,o,i,r,c,l,s,b,u,d){n(this,t),this.data=e,this.dialogue=a,this.taskSumService=o,this.dialogRef=i,this.fb=r,this.cdr=c,this.apiService=l,this.ls=s,this.snack=b,this.router=u,this.loader=d,this.updateLoanDetails=!1,this.updateAsset=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.minDate=new Date,this.maxDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.ifEdit=!1,this.showEditOption=!1,this.flag=!1,this.flag1=!1,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){console.log("mat dialog data -- ",this.data),this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.getLoanDetails(),this.buildMenuForm(this.data),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state")}},{key:"getAssetDetails",value:function(){var t=this;this.loader.open(),this.apiService.getAssetails(this.loanaccountID).subscribe(function(e){t.loader.close(),t.assetDetails=e,t.getStateName(t.assetDetails.country),t.getCityName(t.assetDetails.state),console.log(t.assetDetails),t.buildAssetForm(t.assetDetails)},function(e){t.loader.close()})}},{key:"buildMenuForm",value:function(t){var e,a,n,o,i,r,c,l,s,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanUpdateForm=this.fb.group({loanAccountId:[this.loanaccountID],businessProductName:[t?null===(e=null==t?void 0:t.info)||void 0===e?void 0:e.businessProductName:""],accountBranch:[t?null===(a=null==t?void 0:t.info)||void 0===a?void 0:a.accountBranch:""],applicationDate:[t?null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.applicationDate:""],accountType:[t?null===(o=null==t?void 0:t.info)||void 0===o?void 0:o.accountType:""],estimatedCost:[t?null===(i=null==t?void 0:t.info)||void 0===i?void 0:i.estimatedCost:""],customerContribution:[t?null===(r=null==t?void 0:t.info)||void 0===r?void 0:r.customerContribution:""],loanAmount:[t?null===(c=null==t?void 0:t.info)||void 0===c?void 0:c.loanAmount:""],purposeOfLoan:[t?null===(l=null==t?void 0:t.info)||void 0===l?void 0:l.purposeOfLoan:""],accountCurrency:[t?null===(s=null==t?void 0:t.info)||void 0===s?void 0:s.accountCurrency:""],loanTenure:[t?null===(b=null==t?void 0:t.info)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(u=null==t?void 0:t.info)||void 0===u?void 0:u.loanTenure.split("-")[2]):""],month:[t?null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanTenure.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.info)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}},{key:"save",value:function(){var t=this;console.log("save check"),this.loanUpdateForm.value,this.apiService.saveLoanDetails(this.loanUpdateForm.value).subscribe(function(e){t.snack.open("Data Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close(!0)},function(e){t.snack.open("Unable to Save!","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close(!1)})}},{key:"close",value:function(){this.dialogRef.close(!1)}},{key:"getAccountType",value:function(t){var e=this;console.log("State -- ",t),this.apiService.getAccount(t).subscribe(function(t){console.log("data.accountType",t),e.accountType=t.accountTypeName,console.log("this.accountType",e.accountType),e.loanUpdateForm.get("accountType").setValue(t.accountTypeName)})}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.screenArray.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.itemForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"getLoanDetails",value:function(){var t=this;console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanUpdateForm.value),t.loanUpdateForm.controls.businessProductName.setValue(t.loanAccountDetails.businessProductName),t.loanUpdateForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanUpdateForm.value.accountType)),t.ls.setItem("accountType",t.loanUpdateForm.value.accountType),t.loanUpdateForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanUpdateForm.value.loanAmount=t.loanAccountDetails.loanAmount})}},{key:"buildAssetForm",value:function(t){var e,a,n,o,i,r,c,l,s,b,u,d;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.city:""],assetStatus:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.assetStatus:""],estimatedCost:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.estimatedCost:""],dimensions:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.dimensions:""],locality:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.locality:""],marketValue:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.marketValue:""],building:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.building:""],zipCode:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.homeType:""],mortgagedBranch:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.mortgagedBranch:""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"next",value:function(){console.log("this.accountType",this.accountType),this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(function(t){console.log("data",t)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"submitForm1",value:function(){var t=this,e=new Date;e=this.loanUpdateForm.value.applicationDate,console.log("applicationDate",this.loanUpdateForm.value.applicationDate);var a=y(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=new Date(a);console.log("ck",n);var o=this.loanUpdateForm.value.loanAmount;o=parseInt(o);var i=this.loanUpdateForm.value.estimatedCost;i=parseInt(i);var r=this.loanUpdateForm.value.year+"-"+this.loanUpdateForm.value.month+"-"+this.loanUpdateForm.value.day;this.loanUpdateForm.get("loanTenure").setValue(r),delete this.loanUpdateForm.value.year,delete this.loanUpdateForm.value.month,delete this.loanUpdateForm.value.day;var c={loanAccountId:this.data.loanAccountId,businessProductName:this.loanUpdateForm.value.businessProductName,accountBranch:this.loanUpdateForm.value.accountBranch,applicationDate:a,accountType:this.loanUpdateForm.value.accountType,estimatedCost:i,customerContribution:this.loanUpdateForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanUpdateForm.value.purposeOfLoan,loanTenure:this.loanUpdateForm.value.loanTenure,accountCurrency:this.loanUpdateForm.value.accountCurrency};console.log("payload",c),this.apiService.saveLoanDetails(c).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),null!==e&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),e||(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.loader.open(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanUpdateForm.value),t.loanUpdateForm.controls.businessProductName.setValue(t.loanAccountDetails.businessProductName),t.loanUpdateForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanUpdateForm.value.accountType)),t.ls.setItem("accountType",t.loanUpdateForm.value.accountType),t.loanUpdateForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanUpdateForm.value.loanAmount=t.loanAccountDetails.loanAmount,t.loader.close()})}},{key:"submitForm",value:function(){var t=this,e=new Date;e=this.loanForm.value.applicationDate,console.log("applicationDate",this.loanForm.value.applicationDate);var a=y(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=new Date(a);console.log("ck",n);var o=this.loanForm.value.loanAmount;o=parseInt(o);var i=this.loanForm.value.estimatedCost;i=parseInt(i);var r=this.loanForm.value.year+"-"+this.loanForm.value.month+"-"+this.loanForm.value.day;this.loanForm.get("loanTenure").setValue(r),delete this.loanForm.value.year,delete this.loanForm.value.month,delete this.loanForm.value.day;var c={loanAccountId:this.showEditOption?this.loanaccountID:null,businessProductName:this.loanForm.value.businessProductName,accountBranch:this.loanForm.value.accountBranch,applicationDate:a,accountType:this.loanForm.value.accountType,estimatedCost:i,customerContribution:this.loanForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanForm.value.purposeOfLoan,loanTenure:this.loanForm.value.loanTenure,accountCurrency:this.loanForm.value.accountCurrency};console.log("payload",c),this.apiService.saveLoanDetails(c).subscribe(function(e){console.log("data",e.loanAccountId),t.loanAccountId=e.loanAccountId,console.log("loanAccountid",t.loanAccountId),t.assign(e.loanAccountId),null!==e&&(t.apiService.updateLoanDetailsStatus({loanAccountId:e.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),sessionStorage.setItem("loanAccountId",t.loanAccountId),t.ls.setItem("fundByStatus",{loanAccountid:t.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("loanAccountId",e.loanAccountId),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.ls.getItem("loanAccountid"),console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),e||(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.next()})}}]),t}()).\u0275fac=function(t){return new(t||md)(s.Rb(p.a),s.Rb(p.b),s.Rb(g.a),s.Rb(p.g),s.Rb(v.f),s.Rb(s.h),s.Rb(b.b),s.Rb(m.a),s.Rb(W.a),s.Rb(Ze.h),s.Rb(J.a))},md.\u0275cmp=s.Lb({type:md,selectors:[["app-loan-account-details-update"]],decls:63,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","estimatedCost","formControlName","estimatedCost",3,"keypress"],["matInput","","name","customerContribution","formControlName","customerContribution",3,"keypress"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","date","formControlName","applicationDate","placeholder","DD/MM/YYYY",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","name","purposeOfLoan","formControlName","purposeOfLoan",1,"alignment"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["name","account_branch","formControlName","businessProductName",3,"selectionChange"],["name","mod","formControlName","accountBranch",3,"selectionChange"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Account Details"),s.Wb(),s.Xb(7,"form",2),s.Rc(8,sd,18,2,"div",3),s.Xb(9,"div",4),s.Xb(10,"div",5),s.Xb(11,"mat-label"),s.Tc(12,"Estimated Cost"),s.Wb(),s.Xb(13,"mat-form-field",6),s.Xb(14,"input",7),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",5),s.Xb(16,"mat-label"),s.Tc(17,"Customer Contribution"),s.Wb(),s.Xb(18,"mat-form-field",6),s.Xb(19,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",5),s.Xb(21,"mat-label"),s.Tc(22,"Account Type"),s.Wb(),s.Xb(23,"mat-form-field",6),s.Sb(24,"input",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",4),s.Xb(26,"div",5),s.Xb(27,"mat-label"),s.Tc(28,"Loan Tenure"),s.Wb(),s.Xb(29,"div",10),s.Xb(30,"div",11),s.Xb(31,"div"),s.Xb(32,"mat-form-field",6),s.Xb(33,"mat-select",12),s.Rc(34,bd,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Xb(36,"mat-form-field",6),s.Xb(37,"mat-select",14),s.Rc(38,ud,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div"),s.Xb(40,"mat-form-field",6),s.Xb(41,"mat-select",15),s.Rc(42,dd,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(43,"div",5),s.Xb(44,"div",5),s.Xb(45,"mat-label"),s.Tc(46,"Application Date"),s.Wb(),s.Xb(47,"mat-form-field",6),s.Sb(48,"input",16),s.Sb(49,"mat-datepicker-toggle",17),s.Sb(50,"mat-datepicker",null,18),s.Wb(),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"div",5),s.Xb(54,"mat-label"),s.Tc(55,"Purpose of Loan"),s.Wb(),s.Xb(56,"mat-form-field",6),s.Sb(57,"input",19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(58,"mat-dialog-actions",20),s.Xb(59,"button",21),s.fc("click",function(){return e.submitForm1()}),s.Tc(60," Update "),s.Wb(),s.Xb(61,"button",21),s.fc("click",function(){return e.close()}),s.Tc(62,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(51);s.Eb(7),s.rc("formGroup",e.loanUpdateForm),s.Eb(1),s.rc("ngIf","loanAccount_array"===e.data.editType),s.Eb(16),s.rc("readonly",!0),s.Eb(10),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days),s.Eb(6),s.rc("matDatepicker",a),s.Eb(1),s.rc("for",a)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,c.n,X.b,I.g,I.c,x.b,v.c,v.r,v.i,X.f,X.d,C.a,c.m,A.e,A.g,I.j,A.d,p.c,D.b,S.n],styles:[".selectOption[_ngcontent-%COMP%]{background-color:#fdfdff;border:transparent}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}"]}),md),fd=r("iiaH");function hd(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function gd(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1,"")}}function vd(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Uc(a.value1)}}var yd,Wd=((yd=function(){function t(e,a,o,i,r,c,l,s,b,u){n(this,t),this.router=e,this.data=a,this.snack=o,this.dataService=i,this.ls=r,this.fb=c,this.taskSumService=l,this.apiService=s,this.dialogRef=b,this.cdr=u,this.isEdit=!1,this.minDate=new Date,this.maxDate=new Date,this.showEditOption=!1,this.appEntrySummaryView=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.buildAssetForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city")}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getAssetDetails",value:function(){var t=this;this.apiService.getAssetails(this.loanaccountID).subscribe(function(e){t.assetDetails=e,t.buildAssetForm(t.assetDetails),t.getStateName(t.assetDetails.country),t.getCityName(t.assetDetails.state),console.log(t.assetDetails)},function(t){})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,country:this.loanAssetForm.value.country,state:this.loanAssetForm.value.state,city:this.loanAssetForm.value.city,assetStatus:this.loanAssetForm.value.assetStatus,estimatedCost:this.loanAssetForm.value.estimatedCost,dimensions:this.loanAssetForm.value.dimensions,street:this.loanAssetForm.value.street,locality:this.loanAssetForm.value.locality,marketValue:this.loanAssetForm.value.marketValue,mortgagedBranch:this.loanAssetForm.value.marketValue,building:this.loanAssetForm.value.building,homeType:this.loanAssetForm.value.homeType,zipCode:this.loanAssetForm.value.zipCode};console.log("payload",e),this.apiService.upsertAssetDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),null!==e&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.cdr.markForCheck(),t.cdr.detectChanges(),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),e||(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"goBack",value:function(){this.dialogRef.close()}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"buildAssetForm",value:function(t){var e,a,n,o,i,r,c,l,s,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city"),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],street:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.street:""],country:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.country:""],state:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.state:""],city:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.city:""],assetStatus:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.assetStatus:""],estimatedCost:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.estimatedCost:""],dimensions:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.dimensions:""],locality:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.locality:""],marketValue:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.marketValue:""],building:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.building:""],zipCode:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.zipCode:""],homeType:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.homeType:""],mortgagedBranch:[t?null===(m=null==t?void 0:t.assetInfo)||void 0===m?void 0:m.mortgagedBranch:""]}),console.log("form before",this.loanAssetForm),console.log("form aftr",this.loanAssetForm.value)}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"goToEdit",value:function(){this.dialogRef.close(),this.dataService.sendNavParam(this.accountDetails),this.router.navigate(["loan/account/loan-details"])}},{key:"goToClose",value:function(){this.dialogRef.close(),this.getDataOnLoad()}}]),t}()).\u0275fac=function(t){return new(t||yd)(s.Rb(Ze.h),s.Rb(p.a),s.Rb(W.a),s.Rb(fd.a),s.Rb(m.a),s.Rb(v.f),s.Rb(g.a),s.Rb(b.b),s.Rb(p.g),s.Rb(s.h))},yd.\u0275cmp=s.Lb({type:yd,selectors:[["app-loan-account-details-edit"]],inputs:{loanDetailsInfo:"loanDetailsInfo"},decls:108,vars:4,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","mod","formControlName","assetStatus"],["value",""],["value","Under Construction"],["value","Completed Construction"],["matInput","","name","building","formControlName","building"],["name","mortgagedBranch","formControlName","mortgagedBranch"],["value","test"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","mod","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["name","dimensions","formControlName","dimensions"],["value","Sq.Ft"],["name","mod","formControlName","homeType"],["value","Villa"],["value","Flat"],["value","Apartment"],["matInput","","name","locality","formControlName","locality"],["matInput","","name","street","formControlName","street"],["matInput","","name","marketValue","formControlName","marketValue",3,"keypress"],["matInput","","name","amt","formControlName","zipCode",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Asset Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Asset Status "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Xb(14,"mat-option",7),s.Tc(15,"Select"),s.Wb(),s.Xb(16,"mat-option",8),s.Tc(17,"Under Construction"),s.Wb(),s.Xb(18,"mat-option",9),s.Tc(19,"Completed Construction"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-label"),s.Tc(22,"Building "),s.Wb(),s.Xb(23,"mat-form-field",5),s.Sb(24,"input",10),s.Wb(),s.Wb(),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Mortgaged Branch"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",11),s.Xb(30,"mat-option",7),s.Tc(31,"Select"),s.Wb(),s.Xb(32,"mat-option",12),s.Tc(33,"test"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",13),s.Xb(35,"div",4),s.Xb(36,"mat-label"),s.Tc(37,"Country"),s.Wb(),s.Xb(38,"mat-form-field",5),s.Xb(39,"mat-select",14),s.fc("selectionChange",function(t){return e.getStateName(t.value)}),s.Xb(40,"mat-option",7),s.Tc(41,"Select"),s.Wb(),s.Rc(42,hd,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(43,"div",4),s.Xb(44,"mat-label"),s.Tc(45,"State"),s.Wb(),s.Xb(46,"mat-form-field",5),s.Xb(47,"mat-select",16),s.fc("selectionChange",function(t){return e.getCityName(t.value)}),s.Xb(48,"mat-option",7),s.Tc(49,"Select"),s.Wb(),s.Rc(50,gd,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"City"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Xb(55,"mat-select",17),s.Xb(56,"mat-option",7),s.Tc(57,"Select"),s.Wb(),s.Rc(58,vd,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(59,"div",13),s.Xb(60,"div",4),s.Xb(61,"mat-label"),s.Tc(62,"Dimensions"),s.Wb(),s.Xb(63,"mat-form-field",5),s.Xb(64,"mat-select",18),s.Xb(65,"mat-option",7),s.Tc(66,"Select"),s.Wb(),s.Xb(67,"mat-option",19),s.Tc(68,"Sq.Ft"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(69,"div",4),s.Xb(70,"mat-label"),s.Tc(71,"Home Type"),s.Wb(),s.Xb(72,"mat-form-field",5),s.Xb(73,"mat-select",20),s.Xb(74,"mat-option",7),s.Tc(75,"Select"),s.Wb(),s.Xb(76,"mat-option",21),s.Tc(77,"Villa"),s.Wb(),s.Xb(78,"mat-option",22),s.Tc(79,"Flat"),s.Wb(),s.Xb(80,"mat-option",23),s.Tc(81,"Apartment"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(82,"div",4),s.Xb(83,"mat-label"),s.Tc(84,"Locality"),s.Wb(),s.Xb(85,"mat-form-field",5),s.Sb(86,"input",24),s.Wb(),s.Wb(),s.Wb(),s.Xb(87,"div",13),s.Xb(88,"div",4),s.Xb(89,"mat-label"),s.Tc(90,"Street"),s.Wb(),s.Xb(91,"mat-form-field",5),s.Sb(92,"input",25),s.Wb(),s.Wb(),s.Xb(93,"div",4),s.Xb(94,"mat-label"),s.Tc(95,"Market Value"),s.Wb(),s.Xb(96,"mat-form-field",5),s.Xb(97,"input",26),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(98,"div",4),s.Xb(99,"mat-label"),s.Tc(100,"Zip Code"),s.Wb(),s.Xb(101,"mat-form-field",5),s.Xb(102,"input",27),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(103,"mat-dialog-actions",28),s.Xb(104,"button",29),s.fc("click",function(){return e.submitForm1()}),s.Tc(105," Update "),s.Wb(),s.Xb(106,"button",29),s.fc("click",function(){return e.goToClose()}),s.Tc(107,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanAssetForm),s.Eb(35),s.rc("ngForOf",e.arrayCountry),s.Eb(8),s.rc("ngForOf",e.arrayState),s.Eb(8),s.rc("ngForOf",e.arrayCity))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.a,v.r,v.i,S.n,x.b,v.c,c.m,p.c,D.b],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),yd);function Xd(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",12),s.Xb(1,"div",5),s.Xb(2,"mat-label"),s.Tc(3,"Number of Applicants "),s.Wb(),s.Xb(4,"mat-form-field",6),s.Xb(5,"input",13),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",5),s.Xb(7,"mat-label"),s.Tc(8,"Registered "),s.Wb(),s.Sb(9,"mat-form-field",6),s.Wb(),s.Wb()}}var Td,Id=((Td=function(){function t(e,a,o,i,r,c,l,s,b,u){n(this,t),this.fb=e,this.router=a,this.data=o,this.snack=i,this.dataService=r,this.ls=c,this.taskSumService=l,this.apiService=s,this.dialogRef=b,this.cdr=u,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.getMandateDetails(),this.buildMandateForm()}},{key:"buildMandateForm",value:function(t){this.loanMandateUpdate=this.fb.group({applicantName:[t?null==t?void 0:t.applicantName:""],registered:[t?null==t?void 0:t.registered:""],numberOfApplicant:[t?null==t?void 0:t.numberOfApplicant:""],collateralPercentage:[t?null==t?void 0:t.collateralPercentage:""],repaymentSharePercentage:[t?null==t?void 0:t.repaymentSharePercentage:""]})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,applicantName:this.loanMandateUpdate.value.applicantName,collateralShare:this.loanMandateUpdate.value.collateralShare,repaymentShare:this.loanMandateUpdate.value.repaymentShare};console.log("payload",e),this.apiService.upsertMandateDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getMandateDetails",value:function(){var t=this;this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe(function(e){t.mandateDetails=e,console.log(t.mandateDetails),t.buildMandateForm(t.mandateDetails)},function(t){})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"next",value:function(){this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(function(t){console.log("data",t)})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"goToClose",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Td)(s.Rb(v.f),s.Rb(Ze.h),s.Rb(p.a),s.Rb(W.a),s.Rb(fd.a),s.Rb(m.a),s.Rb(g.a),s.Rb(b.b),s.Rb(p.g),s.Rb(s.h))},Td.\u0275cmp=s.Lb({type:Td,selectors:[["app-loan-mandate-details-update"]],decls:30,vars:2,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","collateralPercentage","formControlName","collateralPercentage",3,"keypress"],["matInput","","name","repaymentSharePercentage","formControlName","repaymentSharePercentage",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","amt","formControlName","numberOfApplicant",3,"keypress"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Mandate Details"),s.Wb(),s.Xb(7,"form",2),s.Rc(8,Xd,10,0,"div",3),s.Xb(9,"div",4),s.Xb(10,"div",5),s.Xb(11,"mat-label"),s.Tc(12,"Applicant Name"),s.Wb(),s.Xb(13,"mat-form-field",6),s.Sb(14,"input",7),s.Wb(),s.Wb(),s.Xb(15,"div",5),s.Xb(16,"mat-label"),s.Tc(17,"Collateral Percentage"),s.Wb(),s.Xb(18,"mat-form-field",6),s.Xb(19,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",5),s.Xb(21,"mat-label"),s.Tc(22,"Repayment Share Percentage"),s.Wb(),s.Xb(23,"mat-form-field",6),s.Xb(24,"input",9),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"mat-dialog-actions",10),s.Xb(26,"button",11),s.fc("click",function(){return e.submitForm1()}),s.Tc(27," Update "),s.Wb(),s.Xb(28,"button",11),s.fc("click",function(){return e.goToClose()}),s.Tc(29,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanMandateUpdate),s.Eb(1),s.rc("ngIf","loanAccount_array"===e.data.editType))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,c.n,X.b,I.g,I.c,x.b,v.c,v.r,v.i,p.c,D.b],styles:[""]}),Td);function Ed(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function xd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Cd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ad(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1," ")}}function Od(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc("",a.value1," ")}}var Dd,Rd=((Dd=function(){function t(e,a,o,i,r,c,l,s,b,u,d){n(this,t),this.fb=e,this.data=a,this.dialogue=o,this.taskSumService=i,this.cdr=r,this.dialogRef=c,this.apiService=l,this.ls=s,this.snack=b,this.router=u,this.loader=d,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,this.buildCollateralForm(),this.getCountryName("country"),this.getCollateralType("collateral_type"),this.getCollateralDetails(),this.getRateValue("currency")}},{key:"buildCollateralForm",value:function(t){var e,a,n,o,i,r,c,l,s,b,u,d,m;console.log("item",t),t&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanCollateralForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.collateralInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.collateralInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.collateralInfo)||void 0===n?void 0:n.city:""],collateralType:[t?null===(o=null==t?void 0:t.collateralInfo)||void 0===o?void 0:o.collateralType:""],collateralCurrency:[t?null===(i=null==t?void 0:t.collateralInfo)||void 0===i?void 0:i.collateralCurrency:""],collateralValue:[t?null===(r=null==t?void 0:t.collateralInfo)||void 0===r?void 0:r.collateralValue:""],locality:[t?null===(c=null==t?void 0:t.collateralInfo)||void 0===c?void 0:c.locality:""],street:[t?null===(l=null==t?void 0:t.collateralInfo)||void 0===l?void 0:l.street:""],building:[t?null===(s=null==t?void 0:t.collateralInfo)||void 0===s?void 0:s.building:""],zipCode:[t?null===(b=null==t?void 0:t.collateralInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.collateralInfo)||void 0===u?void 0:u.homeType:""],attributes:[t?null===(d=null==t?void 0:t.collateralInfo)||void 0===d?void 0:d.attributes:""],thirdPartyCollateral:[t?null===(m=null==t?void 0:t.collateralInfo)||void 0===m?void 0:m.thirdPartyCollateral:""]}),console.log("form before",this.loanCollateralForm),console.log("form aftr",this.loanCollateralForm.value)}},{key:"getRateValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayRateValue=t})}},{key:"getCollateralDetails",value:function(){var t=this;this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(function(e){t.collateralDetails=e,console.log(t.collateralDetails.collateralDetails.length),console.log(t.collateralDetails),t.buildCollateralForm(t.collateralDetails)},function(t){})}},{key:"getCollateralType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCollateralType=t})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,attributes:this.loanCollateralForm.value.attributes,building:this.loanCollateralForm.value.building,city:this.loanCollateralForm.value.city,zipCode:this.loanCollateralForm.value.zipCode,country:this.loanCollateralForm.value.country,state:this.loanCollateralForm.value.state,dimensions:this.loanCollateralForm.value.dimensions,locality:this.loanCollateralForm.value.locality,thirdpartyCollateral:this.loanCollateralForm.value.thirdPartyCollateral,collateralValue:this.loanCollateralForm.value.collateralValue,collateralType:this.loanCollateralForm.value.collateralType,collateralCurrency:this.loanCollateralForm.value.collateralCurrency};console.log("payload",e),this.apiService.upsertCollateralDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanCollateralDetails=e,console.log("this.loanCollateralDetails",t.loanCollateralDetails),console.log("form",t.loanCollateralForm.value),t.loanCollateralForm.value.building=t.loanCollateralDetails.building,t.loanCollateralForm.value.dimensions=t.loanCollateralDetails.dimensions,t.loanCollateralForm.value.attributes=t.loanCollateralDetails.attributes,t.loanCollateralForm.value.collateralCurrency=t.loanCollateralDetails.collateralCurrency,t.loader.close()})}}]),t}()).\u0275fac=function(t){return new(t||Dd)(s.Rb(v.f),s.Rb(p.a),s.Rb(p.b),s.Rb(g.a),s.Rb(s.h),s.Rb(p.g),s.Rb(b.b),s.Rb(m.a),s.Rb(W.a),s.Rb(Ze.h),s.Rb(J.a))},Dd.\u0275cmp=s.Lb({type:Dd,selectors:[["app-loan-collateral-details-update"]],decls:94,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["name","collateralCurrency","formControlName","collateralCurrency"],["matInput","","name","collateralValue","formControlName","collateralValue",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","thirdPartyCollateral","formControlName","thirdPartyCollateral"],["name","attributes","formControlName","attributes","required",""],["value","1"],["value","2"],["matInput","","name","dimensions","formControlName","dimensions",1,"alignment",3,"keypress"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","locality","formControlName","locality",1,"alignment"],["name","country","formControlName","country","required","",3,"selectionChange"],["name","state","formControlName","state","required","",3,"selectionChange"],["name","city","formControlName","city","required",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","6","maxlength","10",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Collateral Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Collateral Type "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Rc(14,Ed,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",4),s.Xb(16,"mat-label"),s.Tc(17,"Collateral Currency "),s.Wb(),s.Xb(18,"mat-form-field",5),s.Xb(19,"mat-select",8),s.Rc(20,xd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",4),s.Xb(22,"mat-label"),s.Tc(23,"Collateral Value"),s.Wb(),s.Xb(24,"mat-form-field",5),s.Xb(25,"input",9),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div",10),s.Xb(27,"div",4),s.Xb(28,"mat-label"),s.Tc(29,"Third Party Collateral"),s.Wb(),s.Xb(30,"mat-form-field",5),s.Sb(31,"input",11),s.Wb(),s.Wb(),s.Xb(32,"div",4),s.Xb(33,"mat-label"),s.Tc(34,"Attributes"),s.Wb(),s.Xb(35,"mat-form-field",5),s.Xb(36,"mat-select",12),s.Xb(37,"mat-option",13),s.Tc(38,"Attributes 1"),s.Wb(),s.Xb(39,"mat-option",14),s.Tc(40,"Attributes 2"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Dimensions"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Xb(45,"input",15),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",10),s.Xb(47,"div",4),s.Xb(48,"mat-label"),s.Tc(49,"Building"),s.Wb(),s.Xb(50,"mat-form-field",5),s.Sb(51,"input",16),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Street"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Sb(56,"input",17),s.Wb(),s.Wb(),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Locality"),s.Wb(),s.Xb(60,"mat-form-field",5),s.Sb(61,"input",18),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"div",10),s.Xb(63,"div",4),s.Xb(64,"mat-label"),s.Tc(65,"Country"),s.Wb(),s.Xb(66,"mat-form-field",5),s.Xb(67,"mat-select",19),s.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),s.Rc(68,Cd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(69,"div",4),s.Xb(70,"mat-label"),s.Tc(71,"State"),s.Wb(),s.Xb(72,"mat-form-field",5),s.Xb(73,"mat-select",20),s.fc("selectionChange",function(t){return e.getCityName(t.value)}),s.Rc(74,Ad,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(75,"div",4),s.Xb(76,"mat-label"),s.Tc(77,"City"),s.Wb(),s.Xb(78,"mat-form-field",5),s.Xb(79,"mat-select",21),s.Rc(80,Od,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(81,"div",10),s.Xb(82,"div",4),s.Xb(83,"mat-label"),s.Tc(84,"Zip Code"),s.Wb(),s.Xb(85,"mat-form-field",5),s.Xb(86,"input",22),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(87,"div",4),s.Sb(88,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(89,"mat-dialog-actions",23),s.Xb(90,"button",24),s.fc("click",function(){return e.submitForm1()}),s.Tc(91," Update "),s.Wb(),s.Xb(92,"button",24),s.fc("click",function(){return e.goToClose()}),s.Tc(93,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanCollateralForm),s.Eb(7),s.rc("ngForOf",e.arrayCollateralType),s.Eb(6),s.rc("ngForOf",e.arrayRateValue),s.Eb(48),s.rc("ngForOf",e.arrayCountry),s.Eb(6),s.rc("ngForOf",e.arrayState),s.Eb(6),s.rc("ngForOf",e.arrayCity))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.a,v.r,v.i,c.m,x.b,v.c,v.y,S.n,v.n,v.m,p.c,D.b],styles:[""]}),Dd);function Sd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function kd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Nd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1,"")}}function Pd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Uc(a.value1)}}var Fd,Ld,_d=((Ld=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.fb=e,this.loader=a,this.ls=o,this.snack=i,this.taskSumService=r,this.cdr=c,this.data=l,this.apiService=s,this.dialogRef=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.buildGuarantorForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getPrefixValue("prefix")}},{key:"buildGuarantorForm",value:function(t){var e,a,n,o,i,r,c,l,s,b,u,d;console.log("item",t),t&&t.country&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanGuarantorForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.gurantorInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.gurantorInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.gurantorInfo)||void 0===n?void 0:n.city:""],prefix:[t?null===(o=null==t?void 0:t.gurantorInfo)||void 0===o?void 0:o.prefix:""],firstName:[t?null===(i=null==t?void 0:t.gurantorInfo)||void 0===i?void 0:i.firstName:""],lastName:[t?null===(r=null==t?void 0:t.gurantorInfo)||void 0===r?void 0:r.lastName:""],mobileNumber:[t?null===(c=null==t?void 0:t.gurantorInfo)||void 0===c?void 0:c.mobileNumber:""],building:[t?null===(l=null==t?void 0:t.gurantorInfo)||void 0===l?void 0:l.building:t.gurantorInfo.address1],street:[t?null===(s=null==t?void 0:t.gurantorInfo)||void 0===s?void 0:s.street:t.gurantorInfo.address2],zipCode:[t?null===(b=null==t?void 0:t.gurantorInfo)||void 0===b?void 0:b.zipCode:""],emailAddress:[t?null===(u=null==t?void 0:t.gurantorInfo)||void 0===u?void 0:u.emailAddress:""],dateOfBirth:[t?null===(d=null==t?void 0:t.gurantorInfo)||void 0===d?void 0:d.dateOfBirth:""]})}},{key:"getGuarantorDetails",value:function(){var t=this;this.loader.open(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(function(e){t.loader.close(),t.guarantorDetails=e,console.log("this.guarantorDetails::",t.guarantorDetails),t.getStateName(t.guarantorDetails.country),t.getCityName(t.guarantorDetails.state),t.buildGuarantorForm(t.guarantorDetails),t.guarantorDetails.address1=t.loanGuarantorForm.value.building,t.guarantorDetails.address2=t.loanGuarantorForm.value.street},function(e){t.loader.close()})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t,console.log("data",e.arrayPrefix)})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.guarantorDetails=e,console.log("this.accountDetails",t.guarantorDetails),console.log("form",t.loanGuarantorForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,country:this.loanGuarantorForm.value.country,state:this.loanGuarantorForm.value.state,city:this.loanGuarantorForm.value.city,address1:this.loanGuarantorForm.value.building,address2:this.loanGuarantorForm.value.street,zipCode:this.loanGuarantorForm.value.zipCode,mobileNumber:this.loanGuarantorForm.value.mobileNumber};console.log("payload",e),this.apiService.upsertGuarantorDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Ld)(s.Rb(v.f),s.Rb(J.a),s.Rb(m.a),s.Rb(W.a),s.Rb(g.a),s.Rb(s.h),s.Rb(p.a),s.Rb(b.b),s.Rb(p.g))},Ld.\u0275cmp=s.Lb({type:Ld,selectors:[["app-loan-guarantor-details-update"]],decls:90,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","prefix","formControlName","prefix","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","firstName","formControlName","firstName"],["matInput","","name","lastName","formControlName","lastName"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],["value",""],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","zipCode","formControlName","zipCode","maxlength","6",3,"keypress"],["matInput","","name","dateOfBirth","formControlName","dateOfBirth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB",""],["matInput","","name","emailAddress","formControlName","emailAddress"],["matInput","","name","mobileNumber","formControlName","mobileNumber","maxlength","10",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Guarantor Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Prefix "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Rc(14,Sd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",4),s.Xb(16,"mat-label"),s.Tc(17,"First Name "),s.Wb(),s.Xb(18,"mat-form-field",5),s.Sb(19,"input",8),s.Wb(),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-label"),s.Tc(22,"Last Name"),s.Wb(),s.Xb(23,"mat-form-field",5),s.Sb(24,"input",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",10),s.Xb(26,"div",4),s.Xb(27,"mat-label"),s.Tc(28,"Country"),s.Wb(),s.Xb(29,"mat-form-field",5),s.Xb(30,"mat-select",11),s.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),s.Xb(31,"mat-option",12),s.Tc(32,"Select"),s.Wb(),s.Rc(33,kd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",4),s.Xb(35,"mat-label"),s.Tc(36,"State"),s.Wb(),s.Xb(37,"mat-form-field",5),s.Xb(38,"mat-select",13),s.fc("selectionChange",function(t){return e.getCityName(t.value)}),s.Xb(39,"mat-option",12),s.Tc(40,"Select"),s.Wb(),s.Rc(41,Nd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(42,"div",4),s.Xb(43,"mat-label"),s.Tc(44,"City"),s.Wb(),s.Xb(45,"mat-form-field",5),s.Xb(46,"mat-select",14),s.Xb(47,"mat-option",12),s.Tc(48,"Select"),s.Wb(),s.Rc(49,Pd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",10),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Building"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Sb(55,"input",15),s.Wb(),s.Wb(),s.Xb(56,"div",4),s.Xb(57,"mat-label"),s.Tc(58,"Street"),s.Wb(),s.Xb(59,"mat-form-field",5),s.Sb(60,"input",16),s.Wb(),s.Wb(),s.Xb(61,"div",4),s.Xb(62,"mat-label"),s.Tc(63,"Zip Code"),s.Wb(),s.Xb(64,"mat-form-field",5),s.Xb(65,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"div",10),s.Xb(67,"div",4),s.Xb(68,"mat-label"),s.Tc(69,"Date Of Birth"),s.Wb(),s.Xb(70,"mat-form-field",5),s.Sb(71,"input",18),s.Sb(72,"mat-datepicker-toggle",19),s.Sb(73,"mat-datepicker",null,20),s.Wb(),s.Wb(),s.Xb(75,"div",4),s.Xb(76,"mat-label"),s.Tc(77,"Email Address"),s.Wb(),s.Xb(78,"mat-form-field",5),s.Sb(79,"input",21),s.Wb(),s.Wb(),s.Xb(80,"div",4),s.Xb(81,"mat-label"),s.Tc(82,"Phone Number"),s.Wb(),s.Xb(83,"mat-form-field",5),s.Xb(84,"input",22),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(85,"mat-dialog-actions",23),s.Xb(86,"button",24),s.fc("click",function(){return e.submitForm1()}),s.Tc(87," Update "),s.Wb(),s.Xb(88,"button",24),s.fc("click",function(){return e.goToClose()}),s.Tc(89,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(74);s.Eb(7),s.rc("formGroup",e.loanGuarantorForm),s.Eb(7),s.rc("ngForOf",e.arrayPrefix),s.Eb(19),s.rc("ngForOf",e.arrayCountry),s.Eb(8),s.rc("ngForOf",e.arrayState),s.Eb(8),s.rc("ngForOf",e.arrayCity),s.Eb(22),s.rc("matDatepicker",a)("max",e.tomorrow),s.Eb(1),s.rc("for",a)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.a,v.r,v.i,v.y,c.m,x.b,v.c,S.n,v.m,A.e,A.g,I.j,A.d,p.c,D.b],styles:[""]}),Ld),wd=((Fd=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=l,this.dialogRef=s,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildDisbursementForm",value:function(t){var e,a,n,o,i,r,c,l;console.log("item",t),this.loanDisbursementForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.disbursementInfo)||void 0===e?void 0:e.disbursementMode:""],totalDisbursement:[t?null===(a=null==t?void 0:t.disbursementInfo)||void 0===a?void 0:a.totalDisbursement:""],numberOfDisbursement:[t?null===(n=null==t?void 0:t.disbursementInfo)||void 0===n?void 0:n.numberOfDisbursement:""],multipleDisbursementRequired:[!t||(null===(o=null==t?void 0:t.disbursementInfo)||void 0===o?void 0:o.multipleDisbursementRequired)],branchCode:[t?null===(i=null==t?void 0:t.disbursementInfo)||void 0===i?void 0:i.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.disbursementInfo)||void 0===r?void 0:r.customerAccount:""],loanAmount:[t?null===(c=null==t?void 0:t.disbursementInfo)||void 0===c?void 0:c.loanAmount:""],marginIn:[t?null===(l=null==t?void 0:t.disbursementInfo)||void 0===l?void 0:l.marginIn:""]})}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){t.disbursementDetails=e,console.log("this.disbursementDetails::",t.disbursementDetails),t.buildDisbursementForm(t.disbursementDetails),t.loanDisbursementForm.value.numberOfDisbursement=t.disbursementDetails.numberOfDisbursement,t.loanDisbursementForm.value.totalDisbursement=t.disbursementDetails.totalDisbursement,t.loanDisbursementForm.value.loanAmount=t.disbursementDetails.loanAmount,t.loanDisbursementForm.value.branchCode=t.disbursementDetails.branchCode,t.loanDisbursementForm.value.customerAccount=t.disbursementDetails.customerAccount,t.loanDisbursementForm.value.marginIn=t.disbursementDetails.marginIn,t.loanDisbursementForm.value.multipleDisbursementRequired=t.disbursementDetails.multipleDisbursementRequired},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.disbursementDetails=e,console.log("this.accountDetails",t.disbursementDetails),console.log("form",t.loanDisbursementForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,disbursementMode:this.loanDisbursementForm.value.disbursementMode,totalDisbursement:this.loanDisbursementForm.value.totalDisbursement,numberOfDisbursement:this.loanDisbursementForm.value.numberOfDisbursement,multipleDisbursementRequired:this.loanDisbursementForm.value.multipleDisbursementRequired,branchCode:this.loanDisbursementForm.value.branchCode,customerAccount:this.loanDisbursementForm.value.customerAccount,loanAmount:this.loanDisbursementForm.value.loanAmount,marginIn:this.loanDisbursementForm.value.marginIn};console.log("payload",e),this.apiService.loanDisbursementSave(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Fd)(s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(J.a),s.Rb(g.a),s.Rb(s.h),s.Rb(m.a),s.Rb(p.g),s.Rb(W.a))},Fd.\u0275cmp=s.Lb({type:Fd,selectors:[["app-loan-disbursement-details-update"]],decls:63,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["placeholder","Disbursement Mode","formControlName","disbursementMode"],["value",""],["value","mode1"],["value","mode12"],["matInput","","name","numberOfDisbursement","formControlName","numberOfDisbursement","maxlength","6",3,"keypress"],["matInput","","name","totalDisbursement","formControlName","totalDisbursement","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["matInput","","name","branchCode","formControlName","branchCode",3,"keypress"],["matInput","","name","customerAccount","formControlName","customerAccount"],["matInput","","name","multipleDisbursementRequired","formControlName","multipleDisbursementRequired"],["matInput","","name","marginIn","formControlName","marginIn",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Disbursement Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Disbursement Mode "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Xb(14,"mat-option",7),s.Tc(15,"Select"),s.Wb(),s.Xb(16,"mat-option",8),s.Tc(17,"Auto Disbursement"),s.Wb(),s.Xb(18,"mat-option",9),s.Tc(19,"Manual Disbursement "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-label"),s.Tc(22,"Number of Disbursement"),s.Wb(),s.Xb(23,"mat-form-field",5),s.Xb(24,"input",10),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Total Disbursement"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"input",11),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div",12),s.Xb(31,"div",4),s.Xb(32,"mat-label"),s.Tc(33,"Loan Amount"),s.Wb(),s.Xb(34,"mat-form-field",5),s.Xb(35,"input",13),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",4),s.Xb(37,"mat-label"),s.Tc(38,"Branch Code "),s.Wb(),s.Xb(39,"mat-form-field",5),s.Xb(40,"input",14),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Customer Account"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Sb(45,"input",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",12),s.Xb(47,"div",4),s.Xb(48,"mat-label"),s.Tc(49,"Multiple Disbursement Required?"),s.Wb(),s.Xb(50,"mat-form-field",5),s.Sb(51,"input",16),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Margin In"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Xb(56,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(57,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(58,"mat-dialog-actions",18),s.Xb(59,"button",19),s.fc("click",function(){return e.submitForm1()}),s.Tc(60," Update "),s.Wb(),s.Xb(61,"button",19),s.fc("click",function(){return e.goToClose()}),s.Tc(62,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanDisbursementForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.a,v.r,v.i,S.n,x.b,v.c,v.m,p.c,D.b],styles:[""]}),Fd);function Ud(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Md(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Gd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}var Vd,jd,Bd,zd,qd=((zd=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=l,this.dialogRef=s,this.snack=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}return i(t,[{key:"ngOnInit",value:function(){this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildRepaymentForm(this.data)}},{key:"getRepaymenttDetails",value:function(){var t=this;this.loader.open(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(function(e){t.loader.close(),t.repaymentDetails=e,t.buildRepaymentForm(t.repaymentDetails),t.loanRepaymentForm.value.loanTenure=t.repaymentDetails.loanTenure,t.loanRepaymentForm.value.maturityeDate=t.repaymentDetails.maturityeDate,t.loanRepaymentForm.value.firstRepaymentDate=t.repaymentDetails.firstRepaymentDate,t.loanRepaymentForm.value.moratariumPeriod=t.repaymentDetails.moratariumPeriod,t.loanRepaymentForm.value.branchCode=t.repaymentDetails.branchCode,t.loanRepaymentForm.value.customerAccount=t.repaymentDetails.customerAccount,t.loanRepaymentForm.value.bankName=t.repaymentDetails.bankName,t.loanRepaymentForm.value.typeOfRepayment=t.repaymentDetails.typeOfRepayment,t.loanRepaymentForm.value.repaymentMode=t.repaymentDetails.repaymentMode,t.loanRepaymentForm.value.repaymentFrequency=t.repaymentDetails.repaymentFrequency},function(e){t.loader.close()})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildRepaymentForm",value:function(t){var e,a,n,o,i,r,c,l,s,b,u,d,m;console.log("item",t),this.loanRepaymentForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.loanRepaymentInfo)||void 0===e?void 0:e.disbursementMode:""],firstRepaymentDate:[t?null===(a=null==t?void 0:t.loanRepaymentInfo)||void 0===a?void 0:a.firstRepaymentDate:""],moraturioumPeriod:[t?null===(n=null==t?void 0:t.loanRepaymentInfo)||void 0===n?void 0:n.moraturioumPeriod:""],typeOfRepayment:[t?null===(o=null==t?void 0:t.loanRepaymentInfo)||void 0===o?void 0:o.typeOfRepayment:""],branchCode:[t?null===(i=null==t?void 0:t.loanRepaymentInfo)||void 0===i?void 0:i.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.loanRepaymentInfo)||void 0===r?void 0:r.customerAccount:""],bankName:[t?null===(c=null==t?void 0:t.loanRepaymentInfo)||void 0===c?void 0:c.bankName:""],repaymentMode:[t?null===(l=null==t?void 0:t.loanRepaymentInfo)||void 0===l?void 0:l.repaymentMode:""],repaymentFrequency:[t?null===(s=null==t?void 0:t.loanRepaymentInfo)||void 0===s?void 0:s.repaymentFrequency:""],loanTenure:[t?null===(b=null==t?void 0:t.loanRepaymentInfo)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(u=null==t?void 0:t.loanRepaymentInfo)||void 0===u?void 0:u.loanTenure.split("-")[2]):""],month:[t?null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanRepaymentInfo.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.loanRepaymentInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.repaymentDetails=e,console.log("this.accountDetails",t.repaymentDetails),console.log("form",t.loanRepaymentForm.value)})}},{key:"submitForm1",value:function(){var t=this,e=new Date;e=this.loanRepaymentForm.value.firstDisbursementDate,console.log("firstDisbursementDate",this.loanRepaymentForm.value.firstDisbursementDate);var a=y(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=this.loanRepaymentForm.value.year+"-"+this.loanRepaymentForm.value.month+"-"+this.loanRepaymentForm.value.day;this.loanRepaymentForm.get("loanTenure").setValue(n),delete this.loanRepaymentForm.value.year,delete this.loanRepaymentForm.value.month,delete this.loanRepaymentForm.value.day;var o={loanAccountId:this.data.loanAccountId,typeOfRepayment:this.loanRepaymentForm.value.typeOfRepayment,loanTenure:this.loanRepaymentForm.value.loanTenure,maturityeDate:this.loanRepaymentForm.value.maturityeDate,firstRepaymentDate:this.loanRepaymentForm.value.firstRepaymentDate,moratariumPeriod:this.loanRepaymentForm.value.moratariumPeriod,branchCode:this.loanRepaymentForm.value.branchCode,customerAccount:this.loanRepaymentForm.value.customerAccount,bankName:this.loanRepaymentForm.value.bankName,repaymentMode:this.loanRepaymentForm.value.repaymentMode,repaymentFrequency:this.loanRepaymentForm.value.repaymentFrequency};console.log("payload",o),this.apiService.loanRepaymentSave(o).subscribe(function(e){t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||zd)(s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(J.a),s.Rb(g.a),s.Rb(s.h),s.Rb(m.a),s.Rb(p.g),s.Rb(W.a))},zd.\u0275cmp=s.Lb({type:zd,selectors:[["app-loan-repayment-details-update"]],decls:80,vars:7,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankName","formControlName","bankName"],["matInput","","name","branchCode","formControlName","branchCode"],["matInput","","name","customerAccount","formControlName","customerAccount"],["fxLayout","row wrap"],["matInput","","name","firstRepaymentDate","formControlName","firstRepaymentDate",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB1",""],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","moraturioumPeriod","formControlName","moraturioumPeriod","maxlength","6",3,"keypress"],["name","typeOfRepayment","formControlName","typeOfRepayment"],["value","EMI"],["matInput","","name","repaymentMode","formControlName","repaymentMode"],["matInput","","name","repaymentFrequency","formControlName","repaymentFrequency"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Repayment Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Bank Name"),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Branch Code "),s.Wb(),s.Xb(17,"mat-form-field",5),s.Sb(18,"input",7),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Customer Account"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Sb(23,"input",8),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"First Repayment Date"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Sb(29,"input",10),s.Sb(30,"mat-datepicker-toggle",11),s.Sb(31,"mat-datepicker",null,12),s.Wb(),s.Wb(),s.Xb(33,"div",4),s.Xb(34,"mat-label"),s.Tc(35,"Loan Tenure"),s.Wb(),s.Xb(36,"div",13),s.Xb(37,"div",14),s.Xb(38,"div"),s.Xb(39,"mat-form-field",5),s.Xb(40,"mat-select",15),s.Rc(41,Ud,2,2,"mat-option",16),s.Wb(),s.Wb(),s.Wb(),s.Xb(42,"div"),s.Xb(43,"mat-form-field",5),s.Xb(44,"mat-select",17),s.Rc(45,Md,2,2,"mat-option",16),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div"),s.Xb(47,"mat-form-field",5),s.Xb(48,"mat-select",18),s.Rc(49,Gd,2,2,"mat-option",16),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(50,"div",4),s.Wb(),s.Xb(51,"div",9),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Moratorium Period"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Xb(56,"input",19),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Type Of Repayment "),s.Wb(),s.Xb(60,"mat-form-field",5),s.Xb(61,"mat-select",20),s.Xb(62,"mat-option",21),s.Tc(63,"EMI"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(64,"div",4),s.Xb(65,"mat-label"),s.Tc(66,"Repayment Mode"),s.Wb(),s.Xb(67,"mat-form-field",5),s.Sb(68,"input",22),s.Wb(),s.Wb(),s.Wb(),s.Xb(69,"div",9),s.Xb(70,"div",4),s.Xb(71,"mat-label"),s.Tc(72,"Repayment Frequency"),s.Wb(),s.Xb(73,"mat-form-field",5),s.Sb(74,"input",23),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(75,"mat-dialog-actions",24),s.Xb(76,"button",25),s.fc("click",function(){return e.submitForm1()}),s.Tc(77," Update "),s.Wb(),s.Xb(78,"button",25),s.fc("click",function(){return e.goToClose()}),s.Tc(79,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(32);s.Eb(7),s.rc("formGroup",e.loanRepaymentForm),s.Eb(22),s.rc("matDatepicker",a)("max",e.tomorrow),s.Eb(1),s.rc("for",a),s.Eb(11),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.b,v.c,v.r,v.i,A.e,A.g,I.j,A.d,X.f,X.d,C.a,c.m,v.m,S.n,p.c,D.b],styles:[""]}),zd),Kd=((Bd=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=l,this.dialogRef=s,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanCreditForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanCreditForm",value:function(t){var e,a,n,o,i,r,c;console.log("item",t),this.loanCreditForm=this.fb.group({loanAccountId:[this.loanaccountID],customerName:[t?null===(e=null==t?void 0:t.loanCreditInfo)||void 0===e?void 0:e.customerName:""],agencyName:[t?null===(n=null===(a=null==t?void 0:t.loanCreditInfo)||void 0===a?void 0:a.agencyRating[0])||void 0===n?void 0:n.agencyName:""],remarks:[t?null===(i=null===(o=null==t?void 0:t.loanCreditInfo)||void 0===o?void 0:o.agencyRating[0])||void 0===i?void 0:i.remarks:""],ratings:[t?null===(c=null===(r=null==t?void 0:t.loanCreditInfo)||void 0===r?void 0:r.agencyRating[0])||void 0===c?void 0:c.ratings:""]})}},{key:"getLoanCreditDetails",value:function(){var t=this;this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(function(e){t.creditDetails=e,console.log("this.creditDetails::",t.creditDetails),t.buildLoanCreditForm(t.creditDetails),t.loanCreditForm.value.customerName=t.creditDetails.customerName,t.loanCreditForm.value.agencyName=t.creditDetails.agencyRating.agencyName,t.loanCreditForm.value.ratings=t.creditDetails.agencyRating.ratings,t.loanCreditForm.value.remarks=t.creditDetails.agencyRating.remarks},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.creditDetails=e,console.log("this.accountDetails",t.creditDetails),console.log("form",t.loanCreditForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={accountType:"loan",loanAccountId:this.data.loanAccountId,customerName:this.loanCreditForm.value.customerName,agencyName:this.loanCreditForm.value.agencyName,ratings:this.loanCreditForm.value.ratings,remarks:this.loanCreditForm.value.remarks};console.log("payload",e),this.apiService.saveCreditDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}]),t}()).\u0275fac=function(t){return new(t||Bd)(s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(J.a),s.Rb(g.a),s.Rb(s.h),s.Rb(m.a),s.Rb(p.g),s.Rb(W.a))},Bd.\u0275cmp=s.Lb({type:Bd,selectors:[["app-loan-credit-details-update"]],decls:37,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","customerName","formControlName","customerName"],["matInput","","name","agencyName","formControlName","agencyName"],["matInput","","name","remarks","formControlName","remarks"],["fxLayout","row wrap"],["matInput","","name","ratings","formControlName","ratings"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Credit Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Customer Name "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Agency Name"),s.Wb(),s.Xb(17,"mat-form-field",5),s.Sb(18,"input",7),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Remarks"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Sb(23,"input",8),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Ratings"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Sb(29,"input",10),s.Wb(),s.Wb(),s.Sb(30,"div",4),s.Sb(31,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(32,"mat-dialog-actions",11),s.Xb(33,"button",12),s.fc("click",function(){return e.submitForm1()}),s.Tc(34," Update "),s.Wb(),s.Xb(35,"button",12),s.fc("click",function(){return e.goToClose()}),s.Tc(36,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanCreditForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.b,v.c,v.r,v.i,p.c,D.b],styles:[""]}),Bd),Jd=((jd=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=l,this.dialogRef=s,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanValuationForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanValuationForm",value:function(t){var e,a,n,o,i,r,c,l,s,b;console.log("item",t),this.loanValuationForm=this.fb.group({loanAccountId:[this.loanaccountID],valuationDate:[t?null===(e=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===e?void 0:e.valuationDate:""],forcedSaleValue:[t?null===(a=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===a?void 0:a.forcedSaleValue:""],propertyAreaSize:[t?null===(n=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===n?void 0:n.propertyAreaSize:""],bankValuation:[t?null===(o=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===o?void 0:o.bankValuation:""],assetType:[t?null===(i=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===i?void 0:i.assetType:""],actualPropertyAreaSize:[t?null===(r=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===r?void 0:r.actualPropertyAreaSize:""],borrowersMktValOfAsset:[t?null===(c=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===c?void 0:c.borrowersMktValOfAsset:""],faceValOfAsset:[t?null===(l=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===l?void 0:l.faceValOfAsset:""],mktValOfAsset:[t?null===(s=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===s?void 0:s.mktValOfAsset:""],propertyAreaInUnits:[t?null===(b=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===b?void 0:b.propertyAreaInUnits:""]})}},{key:"getLoanCreditDetails",value:function(){var t=this;this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(function(e){t.valuationOfAssetDetails=e,console.log("this.creditDetails::",t.valuationOfAssetDetails),t.buildLoanValuationForm(t.valuationOfAssetDetails),t.loanValuationForm.value.faceValOfAsset=t.valuationOfAssetDetails.faceValOfAsset,t.loanValuationForm.value.forcedSaleValue=t.valuationOfAssetDetails.forcedSaleValue,t.loanValuationForm.value.bankValuation=t.valuationOfAssetDetails.bankValuation,t.loanValuationForm.value.mktValOfAsset=t.valuationOfAssetDetails.mktValOfAsset,t.loanValuationForm.value.borrowersMktValOfAsset=t.valuationOfAssetDetails.borrowersMktValOfAsset,t.loanValuationForm.value.propertyAreaSize=t.valuationOfAssetDetails.propertyAreaSize,t.loanValuationForm.value.propertyAreaInUnits=t.valuationOfAssetDetails.propertyAreaInUnits,t.loanValuationForm.value.assetType=t.valuationOfAssetDetails.assetType,t.loanValuationForm.value.actualPropertyAreaSize=t.valuationOfAssetDetails.actualPropertyAreaSize},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.valuationOfAssetDetails=e,console.log("this.accountDetails",t.valuationOfAssetDetails),console.log("form",t.loanValuationForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,bankValuation:this.loanValuationForm.value.bankValuation,assetType:this.loanValuationForm.value.assetType,propertyAreaSize:this.loanValuationForm.value.propertyAreaSize,actualPropertySizeArea:this.loanValuationForm.value.actualPropertySizeArea,borrowersMktValOfAsset:this.loanValuationForm.value.borrowersMktValOfAsset,faceValOfAsset:this.loanValuationForm.value.faceValOfAsset,mktValOfAsset:this.loanValuationForm.value.mktValOfAsset,propertyAreaInSize:this.loanValuationForm.value.propertyAreaInSize,propertyAreaInUnits:this.loanValuationForm.value.propertyAreaInUnits,valuationDate:this.loanValuationForm.value.valuationDate,forcedSaleValue:this.loanValuationForm.value.forcedSaleValue,actualPropertyAreaSize:this.loanValuationForm.value.actualPropertyAreaSize};console.log("payload",e),this.apiService.saveValuationDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||jd)(s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(J.a),s.Rb(g.a),s.Rb(s.h),s.Rb(m.a),s.Rb(p.g),s.Rb(W.a))},jd.\u0275cmp=s.Lb({type:jd,selectors:[["app-loan-valuation-of-asset-update"]],decls:69,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankValuation","formControlName","bankValuation"],["matInput","","name","assetType","formControlName","assetType"],["matInput","","name","propertyAreaSize","formControlName","propertyAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","actualPropertyAreaSize","formControlName","actualPropertyAreaSize",3,"keypress"],["matInput","","name","borrowersMktValOfAsset","formControlName","borrowersMktValOfAsset",3,"keypress"],["matInput","","name","faceValOfAsset","formControlName","faceValOfAsset",3,"keypress"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","propertyAreaInUnits","formControlName","propertyAreaInUnits",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate"],["matInput","","name","forcedSaleValue","formControlName","forcedSaleValue",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Credit Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Bank Valuation "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Asset Type"),s.Wb(),s.Xb(17,"mat-form-field",5),s.Sb(18,"input",7),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Property Size Area"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Xb(23,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Actual Property Size Area"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"input",10),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div",4),s.Xb(31,"mat-label"),s.Tc(32,"Borrower's Market Value "),s.Wb(),s.Xb(33,"mat-form-field",5),s.Xb(34,"input",11),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",4),s.Xb(36,"mat-label"),s.Tc(37,"Face Value Of Asset"),s.Wb(),s.Xb(38,"mat-form-field",5),s.Xb(39,"input",12),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(40,"div",9),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Market Value of Asset"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Xb(45,"input",13),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",4),s.Xb(47,"mat-label"),s.Tc(48,"Property Area In Units "),s.Wb(),s.Xb(49,"mat-form-field",5),s.Xb(50,"input",14),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Valuation Date"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Sb(55,"input",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"div",9),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Forced Sale Value"),s.Wb(),s.Xb(60,"mat-form-field",5),s.Xb(61,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(62,"div",4),s.Sb(63,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(64,"mat-dialog-actions",17),s.Xb(65,"button",18),s.fc("click",function(){return e.submitForm1()}),s.Tc(66," Update "),s.Wb(),s.Xb(67,"button",18),s.fc("click",function(){return e.goToClose()}),s.Tc(68,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanValuationForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.b,v.c,v.r,v.i,p.c,D.b],styles:[""]}),jd),Hd=((Vd=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=l,this.dialogRef=s,this.snack=b,this.showEditOption=!1,this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLegalOpinionForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLegalOpinionForm",value:function(t){var e,a,n,o,i,r,c,l;console.log("item",t),this.loanLegalForm=this.fb.group({loanAccountId:[this.loanaccountID],opinion:[t?null===(e=null==t?void 0:t.loanLegalInfo)||void 0===e?void 0:e.opinion:""],lawyerName:[t?null===(a=null==t?void 0:t.loanLegalInfo)||void 0===a?void 0:a.lawyerName:""],isDecisionFavorable:[t?null===(n=null==t?void 0:t.loanLegalInfo)||void 0===n?void 0:n.isDecisionFavorable:""],mktValOfAsset:[t?null===(o=null==t?void 0:t.loanLegalInfo)||void 0===o?void 0:o.mktValOfAsset:""],opinionDate:[t?null===(i=null==t?void 0:t.loanLegalInfo)||void 0===i?void 0:i.opinionDate:""],validationDate:[t?null===(r=null==t?void 0:t.loanLegalInfo)||void 0===r?void 0:r.validationDate:""],description:[t?null===(c=null==t?void 0:t.loanLegalInfo)||void 0===c?void 0:c.description:""],assetAreaSize:[t?null===(l=null==t?void 0:t.loanLegalInfo)||void 0===l?void 0:l.assetAreaSize:""]})}},{key:"gettingLegalOpinionDetail",value:function(){var t=this;this.loader.open(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(function(e){t.loader.close(),console.log(e),t.buildLegalOpinionForm(e)},function(e){t.loader.close()})}},{key:"toggle",value:function(t){console.log("value",t),"Not Favourable"==t?(this.disabled=!1,this.isChecked=!1,this.disabledToggle=!1):"Favourable"==t?(this.disabled=!0,this.isChecked=!0,this.disabledToggle=!0):this.isChecked=!1}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){t.legalDetails=e,console.log("this.legalDetails::",t.legalDetails),t.buildLegalOpinionForm(t.legalDetails),t.loanLegalForm.value.opinion=t.legalDetails.opinion,t.loanLegalForm.value.opinionDate=t.legalDetails.opinionDate,t.loanLegalForm.value.validationDate=t.legalDetails.validationDate,t.loanLegalForm.value.mktValOfAsset=t.legalDetails.mktValOfAsset,t.loanLegalForm.value.lawyerName=t.legalDetails.lawyerName,t.loanLegalForm.value.description=t.legalDetails.description,t.loanLegalForm.value.isDecisionFavorable=t.legalDetails.isDecisionFavorable,t.loanLegalForm.value.assetAreaSize=t.legalDetails.assetAreaSize},function(e){t.loader.close()})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.legalDetails=e,console.log("this.accountDetails",t.legalDetails),console.log("form",t.loanLegalForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,description:this.loanLegalForm.value.description,mktValOfAsset:this.loanLegalForm.value.mktValOfAsset,opinion:this.loanLegalForm.value.opinion,opinionDate:this.loanLegalForm.value.opinionDate,valuationDate:this.loanLegalForm.value.valuationDate,lawyerName:this.loanLegalForm.value.lawyerName,isDecisionFavorable:this.loanLegalForm.value.isDecisionFavorable,assetAreaSize:this.loanLegalForm.value.assetAreaSize};console.log("payload",e),this.apiService.saveLegalOpinion(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}]),t}()).\u0275fac=function(t){return new(t||Vd)(s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(J.a),s.Rb(g.a),s.Rb(s.h),s.Rb(m.a),s.Rb(p.g),s.Rb(W.a))},Vd.\u0275cmp=s.Lb({type:Vd,selectors:[["app-loan-legal-opinion-updates"]],decls:61,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","opinion","formControlName","opinion"],["value","Favorable"],["value","Non Favorable"],["matInput","","name","description","formControlName","description"],["matInput","","name","assetAreaSize","formControlName","assetAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","lawyerName","formControlName","lawyerName"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","opinionDate","formControlName","opinionDate"],["matInput","","name","valuationDate","formControlName","isDecisionFavorable"],["matInput","","name","valuationDate","formControlName","valuationDate",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Legal Opinion Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Opinion "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Xb(14,"mat-option",7),s.Tc(15,"Favorable"),s.Wb(),s.Xb(16,"mat-option",8),s.Tc(17,"Non Favorable "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",4),s.Xb(19,"mat-label"),s.Tc(20,"Description"),s.Wb(),s.Xb(21,"mat-form-field",5),s.Sb(22,"input",9),s.Wb(),s.Wb(),s.Xb(23,"div",4),s.Xb(24,"mat-label"),s.Tc(25,"Asset Area Size"),s.Wb(),s.Xb(26,"mat-form-field",5),s.Xb(27,"input",10),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div",11),s.Xb(29,"div",4),s.Xb(30,"mat-label"),s.Tc(31,"Lawyer Name"),s.Wb(),s.Xb(32,"mat-form-field",5),s.Sb(33,"input",12),s.Wb(),s.Wb(),s.Xb(34,"div",4),s.Xb(35,"mat-label"),s.Tc(36,"Market Value of Asset "),s.Wb(),s.Xb(37,"mat-form-field",5),s.Xb(38,"input",13),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",4),s.Xb(40,"mat-label"),s.Tc(41,"Opinion Date"),s.Wb(),s.Xb(42,"mat-form-field",5),s.Sb(43,"input",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",11),s.Xb(45,"div",4),s.Xb(46,"mat-label"),s.Tc(47,"is Decision Favorable?"),s.Wb(),s.Xb(48,"mat-form-field",5),s.Sb(49,"input",15),s.Wb(),s.Wb(),s.Xb(50,"div",4),s.Xb(51,"mat-label"),s.Tc(52,"Valuation Date"),s.Wb(),s.Xb(53,"mat-form-field",5),s.Xb(54,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(55,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"mat-dialog-actions",17),s.Xb(57,"button",18),s.fc("click",function(){return e.submitForm1()}),s.Tc(58," Update "),s.Wb(),s.Xb(59,"button",18),s.fc("click",function(){return e.goToClose()}),s.Tc(60,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanLegalForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.a,v.r,v.i,S.n,x.b,v.c,p.c,D.b],styles:[""]}),Vd);function $d(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Yd(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Zd(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Qd(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function tm(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var em,am,nm=((am=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.loader=e,this.apiService=a,this.data=o,this.fb=i,this.ls=r,this.dialogRef=c,this.snack=l,this.taskSumService=s,this.cdr=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildDisbursementForm",value:function(t){var e,a,n,o,i,r,c,l,s,b;console.log("item",t),this.loanAssessmentUpdate=this.fb.group({loanAccountId:[this.loanaccountID],loanAmountRecommendation:[t?null===(e=null==t?void 0:t.loanAssessmentInfo)||void 0===e?void 0:e.loanAmountRecommendation:""],approvedLoanAmount:[t?null===(a=null==t?void 0:t.loanAssessmentInfo)||void 0===a?void 0:a.approvedLoanAmount:""],systemRecommendation:[t?null===(n=null==t?void 0:t.loanAssessmentInfo)||void 0===n?void 0:n.systemRecommendation:""],userRecommendation:[t?null===(o=null==t?void 0:t.loanAssessmentInfo)||void 0===o?void 0:o.userRecommendation:""],rateOfInterest:[t?null===(i=null==t?void 0:t.loanAssessmentInfo)||void 0===i?void 0:i.rateOfInterest:""],requestedLoanAmount:[t?null===(r=null==t?void 0:t.loanAssessmentInfo)||void 0===r?void 0:r.requestedLoanAmount:""],loanTenure:[t?null===(c=null==t?void 0:t.loanAssessmentInfo)||void 0===c?void 0:c.loanTenure:""],day:[t?null===(l=null==t?void 0:t.loanAssessmentInfo)||void 0===l?void 0:l.loanTenure.split("-")[2]:""],month:[t?null===(s=null==t?void 0:t.loanAssessmentInfo)||void 0===s?void 0:s.loanTenure.split("-")[1]:""],year:[t?null===(b=null==t?void 0:t.loanAssessmentInfo)||void 0===b?void 0:b.loanTenure.split("-")[0]:""]})}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(e){t.assessmentDetails=e,console.log("this.assessmentDetails::",t.assessmentDetails),t.buildDisbursementForm(t.disbursementDetails),t.loanAssessmentUpdate.value.requestedLoanAmount=t.assessmentDetails.requestedLoanAmount,t.loanAssessmentUpdate.value.rateOfInterest=t.assessmentDetails.rateOfInterest,t.loanAssessmentUpdate.value.userRecommendation=t.assessmentDetails.userRecommendation,t.loanAssessmentUpdate.value.systemRecommendation=t.assessmentDetails.systemRecommendation,t.loanAssessmentUpdate.value.loanTenure=t.assessmentDetails.loanTenure,t.loanAssessmentUpdate.value.approvedLoanAmount=t.assessmentDetails.approvedLoanAmount,t.loanAssessmentUpdate.value.loanAmountRecommendation=t.assessmentDetails.loanAmountRecommendation},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.assessmentDetails=e,console.log("this.assessmentDetails",t.assessmentDetails),console.log("form",t.loanAssessmentUpdate.value)})}},{key:"submitForm1",value:function(){var t=this,e=this.loanAssessmentUpdate.value.year+"-"+this.loanAssessmentUpdate.value.month+"-"+this.loanAssessmentUpdate.value.day;this.loanAssessmentUpdate.get("loanTenure").setValue(e),delete this.loanAssessmentUpdate.value.year,delete this.loanAssessmentUpdate.value.month,delete this.loanAssessmentUpdate.value.day;var a={loanAccountId:this.data.loanAccountId,rateOfInterest:this.loanAssessmentUpdate.value.rateOfInterest,requestedLoanAmount:this.loanAssessmentUpdate.value.requestedLoanAmount,loanTenure:this.loanAssessmentUpdate.value.loanTenure,userRecommendation:this.loanAssessmentUpdate.value.userRecommendation,systemRecommendation:this.loanAssessmentUpdate.value.systemRecommendation,approvedLoanAmount:this.loanAssessmentUpdate.value.approvedLoanAmount,loanAmountRecommendation:this.loanAssessmentUpdate.value.loanAmountRecommendation};console.log("payload",a),this.apiService.updateAssessmentDetails(a).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||am)(s.Rb(J.a),s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(m.a),s.Rb(p.g),s.Rb(W.a),s.Rb(g.a),s.Rb(s.h))},am.\u0275cmp=s.Lb({type:am,selectors:[["app-loan-assessment-details-update"]],decls:67,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount",3,"keypress"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],["formControlName","userRecommendation","placeholder","User Recommendation"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","requestedLoanAmount","formControlName","requestedLoanAmount",1,"alignment",3,"keypress"],["matInput","","name","loanAmountRecommendation","formControlName","loanAmountRecommendation",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Assessment Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Approved Loan Amount "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"input",6),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Loan Tenure"),s.Wb(),s.Xb(17,"div",7),s.Xb(18,"div",8),s.Xb(19,"div"),s.Xb(20,"mat-form-field",5),s.Xb(21,"mat-select",9),s.Rc(22,$d,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-select",11),s.Rc(26,Yd,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div"),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",12),s.Rc(30,Zd,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"div",4),s.Wb(),s.Xb(32,"div",13),s.Xb(33,"div",4),s.Xb(34,"mat-label"),s.Tc(35,"System Recommendation "),s.Wb(),s.Xb(36,"mat-form-field",5),s.Xb(37,"mat-select",14),s.Rc(38,Qd,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",4),s.Xb(40,"mat-label"),s.Tc(41,"User Recommendation"),s.Wb(),s.Xb(42,"mat-form-field",5),s.Xb(43,"mat-select",15),s.Rc(44,tm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(45,"div",4),s.Xb(46,"mat-label"),s.Tc(47,"Rate Of Interest"),s.Wb(),s.Xb(48,"mat-form-field",5),s.Xb(49,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",13),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Requested Loan Amount"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Xb(55,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"div",4),s.Xb(57,"mat-label"),s.Tc(58,"Loan Amount Recommended"),s.Wb(),s.Xb(59,"mat-form-field",5),s.Xb(60,"input",18),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(61,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"mat-dialog-actions",19),s.Xb(63,"button",20),s.fc("click",function(){return e.submitForm1()}),s.Tc(64," Update "),s.Wb(),s.Xb(65,"button",20),s.fc("click",function(){return e.goToClose()}),s.Tc(66,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanAssessmentUpdate),s.Eb(15),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days),s.Eb(8),s.rc("ngForOf",e.arraySystemRecommendation),s.Eb(6),s.rc("ngForOf",e.arrayUserRecommendation))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.b,v.c,v.r,v.i,X.f,X.d,C.a,c.m,p.c,D.b,S.n],styles:[""]}),am),om=((em=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=l,this.dialogRef=s,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanOfferIssueForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanOfferIssueForm",value:function(t){var e,a,n,o,i,r,c,l,s,b;console.log("item",t),this.loanOfferIssueForm=this.fb.group({loanAccountId:[this.loanaccountID],applicantName:[t?null===(e=null==t?void 0:t.loanOfferIssueInfo)||void 0===e?void 0:e.applicantName:""],interest:[t?null===(a=null==t?void 0:t.loanOfferIssueInfo)||void 0===a?void 0:a.interest:""],rateOfInterest:[t?null===(n=null==t?void 0:t.loanOfferIssueInfo)||void 0===n?void 0:n.rateOfInterest:""],principal:[t?null===(o=null==t?void 0:t.loanOfferIssueInfo)||void 0===o?void 0:o.principal:""],installmentType:[t?null===(i=null==t?void 0:t.loanOfferIssueInfo)||void 0===i?void 0:i.installmentType:""],installmentFrequency:[t?null===(r=null==t?void 0:t.loanOfferIssueInfo)||void 0===r?void 0:r.installmentFrequency:""],approvedLoanAmount:[t?null===(c=null==t?void 0:t.loanOfferIssueInfo)||void 0===c?void 0:c.approvedLoanAmount:""],generateOffer:[t?null===(l=null==t?void 0:t.loanOfferIssueInfo)||void 0===l?void 0:l.generateOffer:""],charges:[t?null===(s=null==t?void 0:t.loanOfferIssueInfo)||void 0===s?void 0:s.charges:""],loanTenure:[t?null===(b=null==t?void 0:t.loanOfferIssueInfo)||void 0===b?void 0:b.loanTenure:""]})}},{key:"getLoanOfferIssue",value:function(){var t=this;this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(function(e){t.offerIssueDetails=e,console.log("this.offerIssueDetails::",t.offerIssueDetails),t.buildLoanOfferIssueForm(t.offerIssueDetails),t.loanOfferIssueForm.value.applicantName=t.offerIssueDetails.applicantName,t.loanOfferIssueForm.value.rateOfInterest=t.offerIssueDetails.rateOfInterest,t.loanOfferIssueForm.value.installmentType=t.offerIssueDetails.installmentType,t.loanOfferIssueForm.value.installmentFrequency=t.offerIssueDetails.installmentFrequency,t.loanOfferIssueForm.value.generateOffer=t.offerIssueDetails.generateOffer,t.loanOfferIssueForm.value.charges=t.offerIssueDetails.charges,t.loanOfferIssueForm.value.loanTenure=t.offerIssueDetails.loanTenure,t.loanOfferIssueForm.value.principal=t.offerIssueDetails.principal,t.loanOfferIssueForm.value.interest=t.offerIssueDetails.interest,t.loanOfferIssueForm.value.offerIssueDate=t.offerIssueDetails.offerIssueDate,t.loanOfferIssueForm.value.approvedLoanAmount=t.offerIssueDetails.approvedLoanAmount},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.offerIssueDetails=e,console.log("this.accountDetails",t.offerIssueDetails),console.log("form",t.loanOfferIssueForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,applicantName:this.loanOfferIssueForm.value.applicantName,charges:this.loanOfferIssueForm.value.charges,rateOfInterest:this.loanOfferIssueForm.value.rateOfInterest,installmentType:this.loanOfferIssueForm.value.installmentType,installmentFrequency:this.loanOfferIssueForm.value.installmentFrequency,generateOffer:this.loanOfferIssueForm.value.generateOffer,loanTenure:this.loanOfferIssueForm.value.loanTenure,approvedLoanAmount:this.loanOfferIssueForm.value.approvedLoanAmount,principal:this.loanOfferIssueForm.value.principal,interest:this.loanOfferIssueForm.value.interest,offerIssueDate:this.loanOfferIssueForm.value.offerIssueDate};console.log("payload",e),this.apiService.upsertOfferIssue(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||em)(s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(J.a),s.Rb(g.a),s.Rb(s.h),s.Rb(m.a),s.Rb(p.g),s.Rb(W.a))},em.\u0275cmp=s.Lb({type:em,selectors:[["app-loan-offer-issue-details-update"]],decls:81,vars:3,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount","maxlength","6",3,"keypress"],["matInput","","name","charges","formControlName","charges","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["placeholder","Generate Offer","formControlName","generateOffer"],["value",""],["value","With Schedule"],["value","Without Schedule"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","installmentFrequency","formControlName","installmentFrequency",3,"keypress"],["matInput","","name","installmentType","formControlName","installmentType",3,"keypress"],["matInput","","name","interest","formControlName","interest",3,"keypress"],["matInput","","name","loanTenure","formControlName","loanTenure","maxlength","10",3,"keypress"],["matInput","","name","principal","formControlName","principal","maxlength","10",3,"keypress"],["matInput","","name","offerIssueDate","formControlName","offerIssueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDOB",""],["align","end"],["mat-button","",3,"click"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Offer Issue Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Applicant Name "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Approved Loan Amount"),s.Wb(),s.Xb(17,"mat-form-field",5),s.Xb(18,"input",7),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Charges"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Xb(23,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Generate Offer"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",10),s.Xb(30,"mat-option",11),s.Tc(31,"Select"),s.Wb(),s.Xb(32,"mat-option",12),s.Tc(33,"With Schedule"),s.Wb(),s.Xb(34,"mat-option",13),s.Tc(35,"Without Schedule "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",4),s.Xb(37,"mat-label"),s.Tc(38,"Rate Of Interest "),s.Wb(),s.Xb(39,"mat-form-field",5),s.Xb(40,"input",14),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Installment frequency"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Xb(45,"input",15),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",9),s.Xb(47,"div",4),s.Xb(48,"mat-label"),s.Tc(49,"Installment Type"),s.Wb(),s.Xb(50,"mat-form-field",5),s.Xb(51,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Interest"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Xb(56,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Loan Tenure"),s.Wb(),s.Xb(60,"mat-form-field",5),s.Xb(61,"input",18),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"div",9),s.Xb(63,"div",4),s.Xb(64,"mat-label"),s.Tc(65,"Principal"),s.Wb(),s.Xb(66,"mat-form-field",5),s.Xb(67,"input",19),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(68,"div",4),s.Xb(69,"mat-label"),s.Tc(70,"Offer Issue Date"),s.Wb(),s.Xb(71,"mat-form-field",5),s.Sb(72,"input",20),s.Sb(73,"mat-datepicker-toggle",21),s.Sb(74,"mat-datepicker",null,22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(76,"mat-dialog-actions",23),s.Xb(77,"button",24),s.fc("click",function(){return e.submitForm1()}),s.Tc(78," Update "),s.Wb(),s.Xb(79,"button",24),s.fc("click",function(){return e.goToClose()}),s.Tc(80,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(75);s.Eb(7),s.rc("formGroup",e.loanOfferIssueForm),s.Eb(65),s.rc("matDatepicker",a),s.Eb(1),s.rc("for",a)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.b,v.c,v.r,v.i,v.m,C.a,S.n,A.e,A.g,I.j,A.d,p.c,D.b],styles:[""]}),em);function im(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function rm(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function cm(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function lm(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Uc(a.branchName)}}function sm(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function bm(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var um,dm=((um=function(){function t(e,a,o,i,r,c,l,s,b){n(this,t),this.loader=e,this.apiService=a,this.data=o,this.fb=i,this.ls=r,this.dialogRef=c,this.cdr=l,this.taskSumService=s,this.snack=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,this.buildLoanApprovalForm(this.data),this.getLoanDetails(),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID)}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"buildLoanApprovalForm",value:function(t){var e,a,n,o,i,r,c,l,s,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanApprovalForm=this.fb.group({loanAccountId:[this.loanaccountID],productName:[t?null===(e=null==t?void 0:t.loanApprovalInfo)||void 0===e?void 0:e.productName:""],accountBranch:[t?null===(a=null==t?void 0:t.loanApprovalInfo)||void 0===a?void 0:a.accountBranch:""],accountType:[t?null===(n=null==t?void 0:t.loanApprovalInfo)||void 0===n?void 0:n.accountType:""],applicantName:[t?null===(o=null==t?void 0:t.loanApprovalInfo)||void 0===o?void 0:o.applicantName:""],approvedLoanAccount:[t?null===(i=null==t?void 0:t.loanApprovalInfo)||void 0===i?void 0:i.approvedLoanAccount:""],userRecommendation:[t?null===(r=null==t?void 0:t.loanApprovalInfo)||void 0===r?void 0:r.userRecommendation:""],rateOfInterest:[t?null===(c=null==t?void 0:t.loanApprovalInfo)||void 0===c?void 0:c.rateOfInterest:""],margin:[t?null===(l=null==t?void 0:t.loanApprovalInfo)||void 0===l?void 0:l.margin:""],loanTenure:[t?null===(s=null==t?void 0:t.loanApprovalInfo)||void 0===s?void 0:s.loanTenure:""],effectiveRate:[t?null===(b=null==t?void 0:t.loanApprovalInfo)||void 0===b?void 0:b.effectiveRate:""],day:[t?null===(u=null==t?void 0:t.loanApprovalInfo)||void 0===u?void 0:u.loanTenure.split("-")[2]:""],month:[t?null===(d=null==t?void 0:t.loanApprovalInfo)||void 0===d?void 0:d.loanTenure.split("-")[1]:""],year:[t?null===(m=null==t?void 0:t.loanApprovalInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]:""]})}},{key:"getAccountType",value:function(t){var e=this;console.log("State -- ",t),this.apiService.getAccount(t).subscribe(function(t){console.log("data.accountType",t),e.accountType=t.accountTypeName,console.log("this.accountType",e.accountType),e.loanApprovalForm.get("accountType").setValue(t.accountTypeName)})}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.screenArray.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.loanApprovalForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"submitForm1",value:function(){var t=this,e=this.loanApprovalForm.value.year+"-"+this.loanApprovalForm.value.month+"-"+this.loanApprovalForm.value.day;this.loanApprovalForm.get("loanTenure").setValue(e),delete this.loanApprovalForm.value.year,delete this.loanApprovalForm.value.month,delete this.loanApprovalForm.value.day;var a={loanAccountId:this.data.loanAccountId,productName:this.loanApprovalForm.value.productName,accountBranch:this.loanApprovalForm.value.accountBranch,accountType:this.loanApprovalForm.value.accountType,applicantName:this.loanApprovalForm.value.applicantName,margin:this.loanApprovalForm.value.margin,rateOfInterest:this.loanApprovalForm.value.rateOfInterest,userRecommendation:this.loanApprovalForm.value.userRecommendation,effectiveRate:this.loanApprovalForm.value.effectiveRate,loanTenure:this.loanApprovalForm.value.loanTenure,accountCurrency:this.loanApprovalForm.value.accountCurrency,approvedLoanAccount:this.loanApprovalForm.value.approvedLoanAccount};console.log("payload",a),this.apiService.saveLoanDetails(a).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),null!==e&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),e||(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getLoanDetails",value:function(){var t=this;console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.buildLoanApprovalForm(t.loanAccountDetails),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanApprovalForm.value),t.loanApprovalForm.controls.productName.setValue(t.loanAccountDetails.productName),t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanApprovalForm.value.accountType)),t.ls.setItem("accountType",t.loanApprovalForm.value.accountType),t.loanApprovalForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanApprovalForm.value.userRecommendation=t.loanAccountDetails.userRecommendation,t.loanApprovalForm.value.loanTenure=t.loanAccountDetails.loanTenure,t.loanApprovalForm.value.applicantName=t.loanAccountDetails.applicantName,t.loanApprovalForm.value.margin=t.loanAccountDetails.margin,t.loanApprovalForm.value.approvedLoanAccount=t.loanAccountDetails.approvedLoanAccount,t.loanApprovalForm.value.effectiveRate=t.loanAccountDetails.effectiveRate,t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,t.loanApprovalForm.value.productName=t.loanAccountDetails.productName,t.loanApprovalForm.value.rateOfInterest=t.loanAccountDetails.rateOfInterest})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.buildLoanApprovalForm(t.loanAccountDetails),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanApprovalForm.value),t.loanApprovalForm.controls.productName.setValue(t.loanAccountDetails.productName),t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanApprovalForm.value.accountType)),t.ls.setItem("accountType",t.loanApprovalForm.value.accountType),t.loanApprovalForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanApprovalForm.value.userRecommendation=t.loanAccountDetails.userRecommendation,t.loanApprovalForm.value.loanTenure=t.loanAccountDetails.loanTenure,t.loanApprovalForm.value.applicantName=t.loanAccountDetails.applicantName,t.loanApprovalForm.value.margin=t.loanAccountDetails.margin,t.loanApprovalForm.value.approvedLoanAccount=t.loanAccountDetails.approvedLoanAccount,t.loanApprovalForm.value.effectiveRate=t.loanAccountDetails.effectiveRate,t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,t.loanApprovalForm.value.productName=t.loanAccountDetails.productName,t.loanApprovalForm.value.rateOfInterest=t.loanAccountDetails.rateOfInterest})}}]),t}()).\u0275fac=function(t){return new(t||um)(s.Rb(J.a),s.Rb(b.b),s.Rb(p.a),s.Rb(v.f),s.Rb(m.a),s.Rb(p.g),s.Rb(s.h),s.Rb(g.a),s.Rb(W.a))},um.\u0275cmp=s.Lb({type:um,selectors:[["app-loan-approval-details-update"]],decls:84,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["name","mod","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],["name","account_branch","formControlName","productName",3,"selectionChange"],["matInput","","name","approvedLoanAccount","formControlName","approvedLoanAccount",1,"alignment",3,"keypress"],["matInput","","name","effectiveRate","formControlName","effectiveRate",1,"alignment",3,"keypress"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",1,"alignment",3,"keypress"],["matInput","","name","margin","formControlName","margin",1,"alignment",3,"keypress"],["formControlName","userRecommendation","placeholder","User Recommendation"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Approval Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Applicant Name "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Loan Tenure"),s.Wb(),s.Xb(17,"div",7),s.Xb(18,"div",8),s.Xb(19,"div"),s.Xb(20,"mat-form-field",5),s.Xb(21,"mat-select",9),s.Rc(22,im,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-select",11),s.Rc(26,rm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div"),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",12),s.Rc(30,cm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"div",4),s.Wb(),s.Xb(32,"div",13),s.Xb(33,"div",4),s.Xb(34,"mat-label"),s.Tc(35,"Account Branch "),s.Wb(),s.Xb(36,"mat-form-field",5),s.Xb(37,"mat-select",14),s.fc("selectionChange",function(t){return e.onChangeBranch(t)}),s.Rc(38,lm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",4),s.Xb(40,"mat-label"),s.Tc(41,"Account Type"),s.Wb(),s.Xb(42,"mat-form-field",5),s.Sb(43,"input",15),s.Wb(),s.Wb(),s.Xb(44,"div",4),s.Xb(45,"mat-label"),s.Tc(46,"Product Name"),s.Wb(),s.Xb(47,"mat-form-field",5),s.Xb(48,"mat-select",16),s.fc("selectionChange",function(t){return e.getAccountType(t.value)}),s.Rc(49,sm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",13),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Approved Loan Amount"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Xb(55,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"div",4),s.Xb(57,"mat-label"),s.Tc(58,"Effective Rate"),s.Wb(),s.Xb(59,"mat-form-field",5),s.Xb(60,"input",18),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(61,"div",4),s.Xb(62,"mat-label"),s.Tc(63,"Rate Of Interest"),s.Wb(),s.Xb(64,"mat-form-field",5),s.Xb(65,"input",19),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"div",13),s.Xb(67,"div",4),s.Xb(68,"mat-label"),s.Tc(69,"Margin"),s.Wb(),s.Xb(70,"mat-form-field",5),s.Xb(71,"input",20),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(72,"div",4),s.Xb(73,"mat-label"),s.Tc(74,"User Recommendation"),s.Wb(),s.Xb(75,"mat-form-field",5),s.Xb(76,"mat-select",21),s.Rc(77,bm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Sb(78,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(79,"mat-dialog-actions",22),s.Xb(80,"button",23),s.fc("click",function(){return e.submitForm1()}),s.Tc(81," Update "),s.Wb(),s.Xb(82,"button",23),s.fc("click",function(){return e.goToClose()}),s.Tc(83,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanApprovalForm),s.Eb(15),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days),s.Eb(8),s.rc("ngForOf",e.screenArray),s.Eb(5),s.rc("readonly",!0),s.Eb(6),s.rc("ngForOf",e.arrayAccountBranch),s.Eb(28),s.rc("ngForOf",e.arrayUserRecommendation))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.b,v.c,v.r,v.i,X.f,X.d,C.a,c.m,p.c,D.b,S.n],styles:[""]}),um);function mm(t,e){if(1&t&&(s.Xb(0,"span",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function pm(t,e){if(1&t&&(s.Xb(0,"div",77),s.Xb(1,"h1",78),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.loanInfo.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.loanInfo.lastName),0,1),"")}}function fm(t,e){if(1&t&&s.Sb(0,"img",80),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function hm(t,e){if(1&t&&(s.Xb(0,"div",77),s.Rc(1,fm,1,1,"img",79),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl)}}function gm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().onEdit("loanAccount_array")}),s.Tc(1,"edit"),s.Wb()}}function vm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().onEdit("loanAccount_array")}),s.Tc(1,"edit"),s.Wb()}}function ym(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().onEdit("loanAccount_array")}),s.Tc(1,"edit"),s.Wb()}}function Wm(t,e){if(1&t&&(s.Xb(0,"div",93),s.Xb(1,"small",94),s.Tc(2),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==a?null:a.cifNumber,"")}}function Xm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",95),s.fc("click",function(){return s.Hc(a),s.jc(2).goTo360Dashboard()}),s.Xb(1,"small",94),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==n?null:n.cifNumber,"")}}function Tm(t,e){if(1&t&&(s.Xb(0,"div",62),s.Xb(1,"div",38),s.Xb(2,"mat-card"),s.Xb(3,"div",62),s.Xb(4,"div",82),s.Sb(5,"img",83),s.Wb(),s.Xb(6,"div",84),s.Xb(7,"div",85),s.Xb(8,"div"),s.Xb(9,"div",62),s.Xb(10,"div",86),s.Xb(11,"h2",87),s.Xb(12,"span"),s.Tc(13),s.Wb(),s.Tc(14,"\xa0 "),s.Xb(15,"span"),s.Tc(16),s.Wb(),s.Tc(17,"\xa0 "),s.Xb(18,"span"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",88),s.Tc(21,"|"),s.Wb(),s.Xb(22,"div",86),s.Xb(23,"small",48),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",62),s.Rc(26,Wm,3,1,"div",89),s.Rc(27,Xm,3,1,"div",90),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",91),s.Xb(30,"div",92),s.Xb(31,"small",47),s.Tc(32,"Date of Birth"),s.Wb(),s.Sb(33,"br"),s.Xb(34,"p",48),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div",92),s.Xb(37,"small",47),s.Tc(38,"Email ID"),s.Wb(),s.Sb(39,"br"),s.Xb(40,"p",48),s.Tc(41),s.Wb(),s.Wb(),s.Xb(42,"div",92),s.Xb(43,"small",47),s.Tc(44,"Mobile Number"),s.Wb(),s.Sb(45,"br"),s.Xb(46,"p",48),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",92),s.Xb(49,"small",47),s.Tc(50,"Landline Number"),s.Wb(),s.Sb(51,"br"),s.Xb(52,"p",48),s.Tc(53),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc();s.Eb(13),s.Uc(null==a?null:a.firstName),s.Eb(3),s.Uc(null==a?null:a.middleName),s.Eb(3),s.Uc(null==a?null:a.lastName),s.Eb(5),s.Vc("Last Updated On ",null!=a&&a.modifiedTime?a.modifiedTime:a.createdTime,""),s.Eb(2),s.rc("ngIf",!n.isApprovedSreen),s.Eb(1),s.rc("ngIf",n.isApprovedSreen),s.Eb(8),s.Uc(null==a?null:a.dateOfBirth),s.Eb(6),s.Uc(null==a?null:a.primaryEmailAdress),s.Eb(6),s.Uc(null==a?null:a.phoneNumber),s.Eb(6),s.Uc(null==a?null:a.landlineNumber)}}function Im(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editMandate()}),s.Tc(1,"edit"),s.Wb()}}function Em(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",96),s.Xb(1,"mat-accordion",97),s.Xb(2,"mat-expansion-panel",98),s.fc("opened",function(){return s.Hc(a),s.jc().panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc().panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",52),s.Vb(8),s.Xb(9,"div",53),s.Xb(10,"mat-hint",35),s.Tc(11,"Applicant Name"),s.Wb(),s.Sb(12,"br"),s.Xb(13,"mat-hint",36),s.Tc(14),s.Wb(),s.Wb(),s.Xb(15,"div",53),s.Xb(16,"mat-hint",35),s.Tc(17,"Collateral Share Percentage"),s.Wb(),s.Sb(18,"br"),s.Xb(19,"mat-hint",36),s.Tc(20),s.Wb(),s.Wb(),s.Xb(21,"div",53),s.Xb(22,"mat-hint",35),s.Tc(23,"Repayment Share Percentage"),s.Wb(),s.Sb(24,"br"),s.Xb(25,"mat-hint",36),s.Tc(26),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index;s.Eb(5),s.Vc(" Mandate ",o+1," "),s.Eb(9),s.Uc(n.applicantName),s.Eb(6),s.Uc(n.collateralShare),s.Eb(6),s.Uc(n.repaymentShare)}}function xm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editCollateral()}),s.Tc(1,"edit"),s.Wb()}}function Cm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",53),s.Xb(1,"mat-hint",47),s.Tc(2,"Secondary Charge Allowed ?"),s.Wb(),s.Sb(3,"br"),s.Xb(4,"div",100),s.Xb(5,"mat-slide-toggle",101),s.fc("change",function(){return s.Hc(a),s.jc(3).stayTrue1()}),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc().$implicit;s.Eb(5),s.rc("checked",n.secondaryChargeAllowed)}}function Am(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",96),s.Xb(1,"mat-accordion",97),s.Xb(2,"mat-expansion-panel",98),s.fc("opened",function(){return s.Hc(a),s.jc(2).panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc(2).panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",52),s.Vb(8),s.Xb(9,"div",53),s.Xb(10,"div",35),s.Tc(11,"Number Of Collateral"),s.Wb(),s.Sb(12,"br"),s.Xb(13,"div",36),s.Tc(14),s.Wb(),s.Wb(),s.Xb(15,"div",53),s.Xb(16,"div",35),s.Tc(17,"Total Collateral Value"),s.Wb(),s.Sb(18,"br"),s.Xb(19,"div",36),s.Tc(20),s.Wb(),s.Wb(),s.Xb(21,"div",53),s.Xb(22,"div",35),s.Tc(23,"Utilized Previously"),s.Wb(),s.Sb(24,"br"),s.Xb(25,"div",36),s.Tc(26),s.Wb(),s.Wb(),s.Xb(27,"div",53),s.Xb(28,"div",35),s.Tc(29,"Cover Available"),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",36),s.Tc(32),s.Wb(),s.Wb(),s.Rc(33,Cm,6,1,"div",99),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index;s.Eb(5),s.Vc(" Collateral ",o+1," "),s.Eb(9),s.Uc(n.noOfCollateral),s.Eb(6),s.Uc(n.totalCollateralValue),s.Eb(6),s.Uc(n.utilizedPreviously),s.Eb(6),s.Uc(n.coverAvailable),s.Eb(1),s.rc("ngIf",null!=n)}}function Om(t,e){if(1&t&&(s.Xb(0,"div",54),s.Rc(1,Am,34,6,"div",55),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngForOf",a.colateral_array.collateralDetails)}}function Dm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editGuarantor()}),s.Tc(1,"edit"),s.Wb()}}function Rm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().onEdit()}),s.Tc(1,"edit"),s.Wb()}}function Sm(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",102),s.Xb(2,"div"),s.Xb(3,"mat-card",103),s.Xb(4,"div"),s.Xb(5,"div",35),s.Tc(6,"Interest Type"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div"),s.Xb(10,"mat-card",103),s.Xb(11,"div"),s.Xb(12,"div",35),s.Tc(13,"Effective Rate"),s.Wb(),s.Xb(14,"div",36),s.Tc(15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"mat-card",103),s.Xb(18,"div"),s.Xb(19,"div",35),s.Tc(20,"Applicable Interest Rate"),s.Wb(),s.Xb(21,"div",36),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-card",103),s.Xb(25,"div"),s.Xb(26,"div",35),s.Tc(27,"Margin In %"),s.Wb(),s.Xb(28,"div",36),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(8),s.Uc(null==a?null:a.intrestType),s.Eb(7),s.Uc(null==a?null:a.effectiveRate),s.Eb(7),s.Uc(null==a?null:a.intrestRateApplicable),s.Eb(7),s.Uc(null==a?null:a.marginIn)}}function km(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editDisbursement("loanDisbusment_array")}),s.Tc(1,"edit"),s.Wb()}}function Nm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editRepaymentInfo("loanRepayment_array")}),s.Tc(1,"edit"),s.Wb()}}function Pm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().onEdit()}),s.Tc(1,"edit"),s.Wb()}}function Fm(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",102),s.Xb(2,"div"),s.Xb(3,"mat-card",103),s.Xb(4,"div"),s.Xb(5,"div",35),s.Tc(6,"Amount"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div"),s.Xb(10,"mat-card",103),s.Xb(11,"div"),s.Xb(12,"div",35),s.Tc(13,"Charge Details ID"),s.Wb(),s.Xb(14,"div",36),s.Tc(15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"mat-card",103),s.Xb(18,"div"),s.Xb(19,"div",35),s.Tc(20,"Interest Type"),s.Wb(),s.Xb(21,"div",36),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-card",103),s.Xb(25,"div"),s.Xb(26,"div",35),s.Tc(27,"Waiver"),s.Wb(),s.Xb(28,"div",36),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(8),s.Uc(null==a?null:a.amout),s.Eb(7),s.Uc(null==a?null:a.chargeDetailsId),s.Eb(7),s.Uc(null==a?null:a.intrestType),s.Eb(7),s.Uc(null==a?null:a.waiver)}}function Lm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editCreditInfo("loanCreditScore_array")}),s.Tc(1,"edit"),s.Wb()}}function _m(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",32),s.Sb(2,"div",33),s.Xb(3,"div",34),s.Xb(4,"div",35),s.Tc(5,"Customer Name"),s.Wb(),s.Xb(6,"div",36),s.Tc(7),s.Wb(),s.Wb(),s.Xb(8,"div",34),s.Xb(9,"div",35),s.Tc(10,"Agency Name"),s.Wb(),s.Xb(11,"div",36),s.Tc(12),s.Wb(),s.Wb(),s.Xb(13,"div",34),s.Xb(14,"div",35),s.Tc(15,"Remarks"),s.Wb(),s.Xb(16,"div",36),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"div",34),s.Xb(19,"div",35),s.Tc(20,"Ratings"),s.Wb(),s.Xb(21,"div",36),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc(2);s.Eb(7),s.Uc(null==n.loanCreditScore_array?null:n.loanCreditScore_array.customerName),s.Eb(5),s.Uc(a.agencyName),s.Eb(5),s.Uc(a.remarks),s.Eb(5),s.Uc(a.ratings)}}function wm(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Rc(2,_m,23,4,"div",58),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(2),s.rc("ngForOf",a.loanCreditScore_array.agencyRating)}}function Um(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editValuationOfAsset("valueofassest_array")}),s.Tc(1,"edit"),s.Wb()}}function Mm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editLegalOpinion("legaopninio_array")}),s.Tc(1,"edit"),s.Wb()}}function Gm(t,e){if(1&t&&(s.Xb(0,"div",107),s.Xb(1,"mat-card",108),s.Xb(2,"div"),s.Tc(3),s.Wb(),s.Xb(4,"div",109),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"mat-card",108),s.Xb(7,"div"),s.Tc(8,"Score"),s.Wb(),s.Xb(9,"div",109),s.Tc(10),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(3),s.Wc("",n+1,".",a.scorecardQuestion,""),s.Eb(2),s.Uc(a.scorecardAnswer),s.Eb(5),s.Uc(a.scoreData)}}function Vm(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",104),s.Tc(2),s.Wb(),s.Xb(3,"div",105),s.Rc(4,Gm,11,4,"div",106),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index,o=s.jc();s.Eb(2),s.Vc("Applicant ",a.applicantId,""),s.Eb(2),s.rc("ngForOf",null==o.qualitativeScoreboardSummary?null:o.qualitativeScoreboardSummary.scoreCardMapping[n].scoreCardDetails)}}function jm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editAssessmentInfo("loanassement_array")}),s.Tc(1,"edit"),s.Wb()}}function Bm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editOfferIssueInfo("offerissue_array")}),s.Tc(1,"edit"),s.Wb()}}function zm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",81),s.fc("click",function(){return s.Hc(a),s.jc().editOfferIssueInfo("offerissue_array")}),s.Tc(1,"edit"),s.Wb()}}function qm(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Xb(2,"div",32),s.Sb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"div",35),s.Tc(6,"Applicant Name"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div",34),s.Xb(10,"div",35),s.Tc(11,"Approved Loan Amount"),s.Wb(),s.Xb(12,"div",36),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div",34),s.Xb(15,"div",35),s.Tc(16,"Loan Tenure"),s.Wb(),s.Xb(17,"div",36),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",32),s.Sb(20,"div",33),s.Xb(21,"div",34),s.Xb(22,"div",35),s.Tc(23,"Installment Type"),s.Wb(),s.Xb(24,"div",36),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",34),s.Xb(27,"div",35),s.Tc(28,"Installment Frequency"),s.Wb(),s.Xb(29,"div",36),s.Tc(30),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Xb(32,"div",35),s.Tc(33,"Rate Of Interest(in %)"),s.Wb(),s.Xb(34,"div",36),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",32),s.Sb(37,"div",33),s.Xb(38,"div",34),s.Xb(39,"div",35),s.Tc(40,"Offer Issue Date"),s.Wb(),s.Xb(41,"div",36),s.Tc(42),s.Wb(),s.Wb(),s.Xb(43,"div",34),s.Xb(44,"div",35),s.Tc(45,"Generate Offer"),s.Wb(),s.Xb(46,"div",36),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",34),s.Xb(49,"div",35),s.Tc(50,"Offer Expiry Date"),s.Wb(),s.Xb(51,"div",36),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",32),s.Sb(54,"div",33),s.Xb(55,"div",34),s.Xb(56,"div",35),s.Tc(57,"Date Of Offer Accept/Reject"),s.Wb(),s.Xb(58,"div",36),s.Tc(59),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(8),s.Uc(a.offerDetails.applicantName),s.Eb(5),s.Uc(null==a.offerDetails?null:a.offerDetails.approvedLoanAmount),s.Eb(5),s.Uc(null==a.offerDetails?null:a.offerDetails.loanTenure),s.Eb(7),s.Uc(a.offerDetails.installmentType),s.Eb(5),s.Uc(a.offerDetails.installmentFrequency),s.Eb(5),s.Uc(a.offerDetails.rateOfInterest),s.Eb(7),s.Uc(a.offerDetails.offerIssueDate),s.Eb(5),s.Uc(a.offerDetails.generateOffer),s.Eb(5),s.Uc(a.offerDetails.offerExpiryDate),s.Eb(7),s.Uc(a.offerDetails.dateOfOfferAcceptOrReject)}}function Km(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Xb(2,"div",32),s.Sb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"div",35),s.Tc(6,"Applicant Name"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div",34),s.Xb(10,"div",35),s.Tc(11,"Offer Issue Date"),s.Wb(),s.Xb(12,"div",36),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div",34),s.Xb(15,"div",35),s.Tc(16,"Offer Exipiry Date"),s.Wb(),s.Xb(17,"div",36),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",32),s.Sb(20,"div",33),s.Xb(21,"div",34),s.Xb(22,"div",35),s.Tc(23,"Offer Amend Date"),s.Wb(),s.Xb(24,"div",36),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",34),s.Xb(27,"div",35),s.Tc(28,"Approved Loan Amount"),s.Wb(),s.Xb(29,"div",36),s.Tc(30),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Xb(32,"div",35),s.Tc(33,"Loan Amount Recommended"),s.Wb(),s.Xb(34,"div",36),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",32),s.Sb(37,"div",33),s.Xb(38,"div",34),s.Xb(39,"div",35),s.Tc(40,"Loan Tenure"),s.Wb(),s.Xb(41,"div",36),s.Tc(42),s.Wb(),s.Wb(),s.Xb(43,"div",34),s.Xb(44,"div",35),s.Tc(45,"Installment Type"),s.Wb(),s.Xb(46,"div",36),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",34),s.Xb(49,"div",35),s.Tc(50,"Rate Of Interest(%)"),s.Wb(),s.Xb(51,"div",36),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",32),s.Sb(54,"div",33),s.Xb(55,"div",34),s.Xb(56,"div",35),s.Tc(57,"Margin(%))"),s.Wb(),s.Xb(58,"div",36),s.Tc(59),s.Wb(),s.Wb(),s.Xb(60,"div",34),s.Xb(61,"div",35),s.Tc(62,"Effective Rate(%)"),s.Wb(),s.Xb(63,"div",36),s.Tc(64),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(8),s.Uc(a.postOfferDetails.applicantName),s.Eb(5),s.Uc(a.postOfferDetails.offerIssueDate),s.Eb(5),s.Uc(a.postOfferDetails.offerExpiryDate),s.Eb(7),s.Uc(a.postOfferDetails.offerAmendDate),s.Eb(5),s.Uc(a.postOfferDetails.approvedLoanAmount),s.Eb(5),s.Uc(a.postOfferDetails.loanAmmountRecommended),s.Eb(7),s.Uc(a.postOfferDetails.loanTenure),s.Eb(5),s.Uc(a.postOfferDetails.installmentType),s.Eb(5),s.Uc(a.postOfferDetails.rateOfInterest),s.Eb(7),s.Uc(a.postOfferDetails.margin),s.Eb(5),s.Uc(a.postOfferDetails.effectiveRate)}}function Jm(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Xb(2,"div",32),s.Sb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"div",35),s.Tc(6,"Applicant Name"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div",34),s.Xb(10,"div",35),s.Tc(11,"Approved Loan Amount"),s.Wb(),s.Xb(12,"div",36),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div",34),s.Xb(15,"div",35),s.Tc(16,"Offer Issue Date"),s.Wb(),s.Xb(17,"div",36),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",32),s.Sb(20,"div",33),s.Xb(21,"div",34),s.Xb(22,"div",35),s.Tc(23,"Offer Accepted Date"),s.Wb(),s.Xb(24,"div",36),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",34),s.Xb(27,"div",35),s.Tc(28,"Loan Tenure"),s.Wb(),s.Xb(29,"div",36),s.Tc(30),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Xb(32,"div",35),s.Tc(33,"Installment Type"),s.Wb(),s.Xb(34,"div",36),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",32),s.Sb(37,"div",33),s.Xb(38,"div",34),s.Xb(39,"div",35),s.Tc(40,"Installment Frequency"),s.Wb(),s.Xb(41,"div",36),s.Tc(42),s.Wb(),s.Wb(),s.Xb(43,"div",34),s.Xb(44,"div",35),s.Tc(45,"Rate of Interest"),s.Wb(),s.Xb(46,"div",36),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",34),s.Xb(49,"div",35),s.Tc(50,"Principal"),s.Wb(),s.Xb(51,"div",36),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",32),s.Sb(54,"div",33),s.Xb(55,"div",34),s.Xb(56,"div",35),s.Tc(57,"Interest"),s.Wb(),s.Xb(58,"div",36),s.Tc(59),s.Wb(),s.Wb(),s.Xb(60,"div",34),s.Xb(61,"div",35),s.Tc(62,"Installment Amount"),s.Wb(),s.Xb(63,"div",36),s.Tc(64),s.Wb(),s.Wb(),s.Xb(65,"div",34),s.Xb(66,"div",35),s.Tc(67,"Charges"),s.Wb(),s.Xb(68,"div",36),s.Tc(69),s.Wb(),s.Wb(),s.Wb(),s.Xb(70,"div",32),s.Sb(71,"div",33),s.Xb(72,"div",34),s.Xb(73,"div",35),s.Tc(74,"Disbursement Amount"),s.Wb(),s.Xb(75,"div",36),s.Tc(76),s.Wb(),s.Wb(),s.Xb(77,"div",34),s.Xb(78,"div",35),s.Tc(79,"Repayment Amount"),s.Wb(),s.Xb(80,"div",36),s.Tc(81),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(8),s.Uc(a.accountCreateValue.applicantName),s.Eb(5),s.Uc(a.accountCreateValue.approvedLoanAmount),s.Eb(5),s.Uc(a.accountCreateValue.offerIssueDate.slice(0,12)),s.Eb(7),s.Uc(a.accountCreateValue.offerAcceptedDate.slice(0,12)),s.Eb(5),s.Uc(a.accountCreateValue.loanTenure),s.Eb(5),s.Uc(a.accountCreateValue.installmentType),s.Eb(7),s.Uc(a.accountCreateValue.installmentFrequency),s.Eb(5),s.Uc(a.accountCreateValue.rateOfInterest),s.Eb(5),s.Uc(a.accountCreateValue.principal),s.Eb(7),s.Uc(a.accountCreateValue.interest),s.Eb(5),s.Uc(a.accountCreateValue.installmentAmount),s.Eb(5),s.Uc(a.accountCreateValue.charges),s.Eb(7),s.Uc(a.accountCreateValue.disbursementAmount),s.Eb(5),s.Uc(a.accountCreateValue.repaymentAmount)}}function Hm(t,e){if(1&t&&(s.Xb(0,"div",36),s.Xb(1,"a",110),s.Tc(2,"link"),s.Wb(),s.Sb(3,"link"),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.sc("href",a.signatureData.fileUrl,s.Jc)}}var $m,Ym=function(t,e){return{disabledbtn:t,continueBtn:e}},Zm=function(t,e){return{disabledbtn:t,rejectButton:e}},Qm=function(t,e){return{disabledbtn:t,approveButton:e}},tp=(($m=function(){function t(e,a,o,i,r,c,l,s,b,u,d,m,p,f,h,g){n(this,t),this.taskSumService=e,this.ls=a,this.api=o,this.dialogService=i,this.router=r,this.cdr=c,this.dialog=l,this.snack=s,this.tasksummaryService=b,this.appApiService=u,this.loader=d,this.apiService=m,this.sanitizer=p,this.dataResponse=f,this.dialogRef=h,this.jwtService=g,this.updateLoanDetails=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}return i(t,[{key:"ngOnInit",value:function(){var t;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,console.log("dataResponse.dataResp.loanAccountId",this.dataResponse.dataResp.loanAccountId),this.loanAccountId=this.dataResponse.dataResp.loanAccountId,this.status=this.dataResponse.dataResp.status,this.loanInfo=this.dataResponse.dataResp,this.ls.setItem("CIF_NUM_PRIMARY",this.loanInfo.customerId),this.ls.setItem("NAME",this.loanInfo.firstName+" "+this.loanInfo.lastName),this.getCustomerInfoDetails(),this.getMandateDetails(),this.fetchOfferAcceptRejectDetails(this.loanAccountId),this.fetchPostOfferAmendmentDetails(),this.getAccountCreateDetails(),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId),this.getProfileImage(this.loanInfo.customerId)}},{key:"getAllData",value:function(t){var e=this;this.api.getLoanQualitativeScorecardDetails(this.loanAccountId).subscribe(function(t){e.qualitativeScoreboardSummary=t})}},{key:"getLoanAccountInfo",value:function(t){var e=this;this.taskSumService.getLoanAccountDetails(t).subscribe(function(t){console.log("data",t),e.loanTaskDetails=t,e.loanAccount_array=t,e.createDataInfo=Object.values(t)[20],console.log(Object.values(t)),console.log(Object.values(t)[0]),e.loanAccount_array=Object.values(t)[0],e.assest_array=Object.values(t)[1],e.mandate_array=Object.values(t)[4],console.log("mandate_array",e.mandate_array.mandateId),e.colateral_array=Object.values(t)[6],console.log("collateral",e.colateral_array),console.log("collateral obj",Object.values(t)[6]),console.log(Object.values(t)),e.guranator_array=Object.values(t)[7],e.loanInterest_array=Object.values(t)[8],e.loanDisbusment_array=Object.values(t)[9],e.loanRepayment_array=Object.values(t)[10],e.loanCharge_array=Object.values(t)[11],e.accountService_array=Object.values(t)[12],e.loanCreditScore_array=Object.values(t)[13],e.valueofassest_array=Object.values(t)[14],e.legaopninio_array=Object.values(t)[15],e.loanassement_array=Object.values(t)[16],e.loanapproval_array=Object.values(t)[17],e.offerissue_array=Object.values(t)[18],"REJECTED"===Object.values(t)[0].status||"APPROVED"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!0,e.editScreen=!1,e.continueStatus=!0):"ONGOING"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!1,e.editScreen=!0,e.continueStatus=!1):"BACKLOG"===Object.values(t)[0].status&&(e.approvedStatus=!1,e.rejectedStatus=!1,e.editScreen=!1,e.continueStatus=!0)})}},{key:"goToLoanAccount",value:function(){console.log("Navigating to edit screen"),this.ls.setItem("LOAN_ACC_ARRAY",this.loanAccount_array),console.log(this.loanAccount_array),this.api.updateLoanDetailsStatus({loanAccountId:this.loanAccount_array.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),this.router.navigateByUrl("/loan/account/list"),this.dialogRef.close({message:"Confirm"})}},{key:"editAsset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openPopUp1(t)}},{key:"editGuarantor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openGuarantor(t)}},{key:"openGuarantor",value:function(t){var e=this;this.dialog.open(_d,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,gurantorInfo:this.guranator_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editDisbursement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openDisbursement(t)}},{key:"openDisbursement",value:function(t){var e=this;this.dialog.open(wd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,disbursementInfo:this.loanDisbusment_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editRepaymentInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openRepaymentInfo(t)}},{key:"openRepaymentInfo",value:function(t){var e=this;this.dialog.open(qd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanRepaymentInfo:this.loanRepayment_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editValuationOfAsset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openValuationOfAssetInfo(t)}},{key:"openValuationOfAssetInfo",value:function(t){var e=this;this.dialog.open(Jd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanValuationOfAssetInfo:this.valueofassest_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editLegalOpinion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openLegalOpnionInfo(t)}},{key:"openLegalOpnionInfo",value:function(t){var e=this;this.dialog.open(Hd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanLegalInfo:this.legaopninio_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editAssessmentInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openAssessmentInfo(t)}},{key:"openAssessmentInfo",value:function(t){var e=this;this.dialog.open(nm,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanAssessmentInfo:this.loanassement_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editOfferIssueInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openOfferIssueInfo(t)}},{key:"openOfferIssueInfo",value:function(t){var e=this;this.dialog.open(om,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanOfferIssueInfo:this.offerissue_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editApprovalInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openApprovalInfo(t)}},{key:"openApprovalInfo",value:function(t){var e=this;this.dialog.open(dm,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanApprovalInfo:this.loanapproval_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editCreditInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openCreditInfo(t)}},{key:"openCreditInfo",value:function(t){var e=this;this.dialog.open(Kd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanCreditInfo:this.loanCreditScore_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"onEdit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.loanAccount_array&&this.openPopUp(t)}},{key:"openPopUp",value:function(t){var e=this;this.dialog.open(pd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,info:this.loanAccount_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"openPopUp1",value:function(t){var e=this;this.dialog.open(Wd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,assetInfo:this.assest_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"openCollateralPopup",value:function(t){var e=this;this.dialog.open(Rd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,collateralInfo:this.colateral_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editCollateral",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.openCollateralPopup(t)}},{key:"editMandate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.openMandate(t)}},{key:"openMandate",value:function(t){var e=this;this.dialog.open(Id,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,mandateInfo:this.mandate_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:t})}},{key:"getCustomerInfoDetails",value:function(){var t=this;this.appApiService.fetchCustomersByLoanAccId(this.loanAccountId,"loan").subscribe(function(e){e.data&&(t.customerInfoDetails=e.data,t.ownership=t.customerInfoDetails[0].ownership,t.noOfApplicants=t.customerInfoDetails[0].numOfApplicants)},function(e){t.loader.close()})}},{key:"getProfileImage",value:function(t){var e=this;this.image=null,null!=this.loanInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.imageUrl=t.profileImage,e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(e.signatureData=t.signatures[0],e.ls.setItem("signedImage",e.signatureData.fileUrl))},function(t){console.log(t)})}},{key:"getMandateDetails",value:function(){var t=this;this.apiService.getMandateDetailsByLoanAccId(this.loanAccountId).subscribe(function(e){t.mandateDetails=e,t.mandateDetailsArray=e.mandateDetails},function(t){})}},{key:"stayTrue1",value:function(){this.colateral_array.collateralDetails.secondaryChargeAllowed=!0}},{key:"fetchOfferAcceptRejectDetails",value:function(t){var e=this;this.apiService.getofferDetails(t).subscribe(function(t){e.offerDetails=t})}},{key:"fetchPostOfferAmendmentDetails",value:function(){var t=this;this.apiService.getOfferAmendmentDetails(this.loanAccountId).subscribe(function(e){t.postOfferDetails=e,console.log("details",t.postOfferDetails)})}},{key:"getAccountCreateDetails",value:function(){var t=this;this.api.getAccountCreateDetails(this.loanAccountId).subscribe(function(e){t.accountCreateValue=e})}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("data : ",t),console.log("status : ",e),console.log("loanAccountId : ",this.loanAccountId);var n=e,o={status:e,loanAccountId:this.loanAccountId};console.log("formDt : ",o),this.tasksummaryService.updateLoanAccStatus(o).subscribe(function(t){null!=t.loanAccountId||""!=t.loanAccountId||""!=t.loanAccountId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"continue",value:function(){var t,e,a,n,o,i,r;this.ls.setItem("loanAccountId",null===(t=this.loanAccount_array)||void 0===t?void 0:t.loanAccountId),this.ls.setItem("LOAN_DETAIL_DONE",!!this.loanAccount_array),this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!!this.customerInfoDetails),this.ls.setItem("COLLATERAL_DETAIL_DONE",!!this.loanTaskDetails.collateralInfo.collateralId),this.ls.setItem("MANDATE_DETAIL_DONE",0!=(null===(e=this.mandateDetailsArray)||void 0===e?void 0:e.length)),this.ls.setItem("GUARANTOR_DETAIL_DONE",!!this.loanTaskDetails.guarantorInfo.guarantorId),this.ls.setItem("FINANCIAL_DETAIL_DONE",!!this.loanTaskDetails.financialInfo),this.ls.setItem("ADMISSION_DETAIL_DONE",!!this.loanTaskDetails.admissionInfo.admissionId),this.ls.setItem("ASSET_DETAIL_DONE",!!this.loanTaskDetails.assessInfo.assetId),this.ls.setItem("VEHICLE_DETAIL_DONE",!!this.loanTaskDetails.vehicleInfo.vehicleId),this.ls.setItem("LoanEntryStage",!!(this.loanAccount_array&&this.customerInfoDetails&&this.loanTaskDetails.collateralInfo.collateralId&&0!=(null===(a=this.mandateDetailsArray)||void 0===a?void 0:a.length)&&this.loanTaskDetails.guarantorInfo.guarantorId&&this.loanTaskDetails.financialInfo&&(this.loanTaskDetails.admissionInfo.admissionId||this.loanTaskDetails.assessInfo.assetId||this.loanTaskDetails.vehicleInfo.vehicleId))),this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!!this.loanTaskDetails.interestInfo),this.ls.setItem("LOAN_CHARGE_DETAILS",!!this.loanTaskDetails.chargeInfo),this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!!this.loanTaskDetails.repaymentInfo.loanRepaymentId),this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!!(null===(n=this.loanTaskDetails.disbursementInfo)||void 0===n?void 0:n.loanDisbursementId)),this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!!this.loanTaskDetails.accountServiceInfo.accServiceId),this.ls.setItem("LOAN_ENRICHMENT_DONE",!!(this.loanTaskDetails.interestInfo&&this.loanTaskDetails.chargeInfo&&this.loanTaskDetails.repaymentInfo.loanRepaymentId&&(null===(o=this.loanTaskDetails.disbursementInfo)||void 0===o?void 0:o.loanDisbursementId)&&this.loanTaskDetails.accountServiceInfo.accServiceId)),this.ls.setItem("CREDIT_RATING_DONE",!!this.loanTaskDetails.creditRatingInfo.agencyRating),this.ls.setItem("LEGAL_OPINION_DONE",!!this.loanTaskDetails.legalOpionInfo),this.ls.setItem("VALUATION_OF_ASSET_DONE",!!this.loanTaskDetails.valAssetInfo),this.ls.setItem("underWritingStage",!!(this.loanTaskDetails.creditRatingInfo.agencyRating&&this.loanTaskDetails.legalOpionInfo&&this.loanTaskDetails.valAssetInfo)),this.ls.setItem("isLoanQualitativeScoreboard",!!this.qualitativeScoreboardSummary),this.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!!(null===(i=this.loanTaskDetails.assessInfo)||void 0===i?void 0:i.assetId)),this.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!(!this.qualitativeScoreboardSummary||!(null===(r=this.loanTaskDetails.assessInfo)||void 0===r?void 0:r.assetId))),this.ls.setItem("APPROVED_DETAILS",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("OfferIssue",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueStageDone",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueRejectScreen",!!this.offerDetails),this.ls.setItem("OfferIssueRejectStageScreen",!!this.offerDetails),this.ls.setItem("PostOfferAmmendementScreen",!!this.postOfferDetails),this.ls.setItem("PostOfferAmmendementStageScreen",!!this.postOfferDetails),this.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!!this.accountCreateValue),this.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!!this.accountCreateValue),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=LOANACC&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||$m)(s.Rb(g.a),s.Rb(m.a),s.Rb(b.b),s.Rb(Ei.a),s.Rb(Ze.h),s.Rb(s.h),s.Rb(p.b),s.Rb(W.a),s.Rb(g.a),s.Rb(f.a),s.Rb(J.a),s.Rb(b.b),s.Rb(so.b),s.Rb(p.a),s.Rb(p.g),s.Rb(lo.a))},$m.\u0275cmp=s.Lb({type:$m,selectors:[["app-loan-account-approver"]],decls:1062,vars:170,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],["visible","true"],["class","edit_icon",3,"click",4,"ngIf"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[1,"paraFont"],[1,"chequecard"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","50%"],["fxLayout","row wrap"],["class","full-width pt-16",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["label","Application Enrichment Stage",2,"border-radius","0px","width","900px"],[4,"ngFor","ngForOf"],[2,"width","800px"],["class","mtcd",4,"ngIf"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],["fxLayout","row","fxLayoutAlign","space between center"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],[1,"edit_icon",3,"click"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[1,"full-width","pt-16"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","border","border-primary",3,"opened","closed"],["fxFlex","33%","fxFlex.xs","50%",4,"ngIf"],[1,"toggle"],[3,"checked","change"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","style","max-width:100%","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50",1,"full-width",2,"max-width","100%"],[1,"qtncard","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"],["download","",1,"linkColor",3,"href"]],template:function(t,e){if(1&t){s.Xb(0,"div"),s.Xb(1,"div",0),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"div"),s.Xb(5,"mat-icon",3),s.fc("click",function(){return e.close(e.dataResponse)}),s.Tc(6," close"),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Rc(11,mm,2,1,"span",8),s.Wb(),s.Xb(12,"div",9),s.Xb(13,"div",10),s.Sb(14,"img",11),s.Tc(15,"\xa0 "),s.Xb(16,"div"),s.Xb(17,"span",12),s.Tc(18),s.Wb(),s.Sb(19,"br"),s.Xb(20,"span",13),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",14),s.Xb(23,"mat-icon",15),s.Tc(24,"phone "),s.Wb(),s.Tc(25,"\xa0\xa0\xa0 "),s.Xb(26,"span",16),s.Tc(27),s.Wb(),s.Wb(),s.Xb(28,"div",14),s.Xb(29,"mat-icon",15),s.Tc(30," mail_outline"),s.Wb(),s.Tc(31,"\xa0\xa0 \xa0 "),s.Xb(32,"span",17),s.Tc(33),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",18),s.Xb(35,"div",19),s.Rc(36,pm,7,16,"div",20),s.Rc(37,hm,2,1,"div",21),s.Wb(),s.Wb(),s.Sb(38,"br"),s.Sb(39,"br"),s.Sb(40,"br"),s.Sb(41,"br"),s.Xb(42,"div",22),s.Xb(43,"h2"),s.Tc(44),s.Wb(),s.Wb(),s.Xb(45,"div",23),s.Xb(46,"div",24),s.Xb(47,"div",25),s.Tc(48,"1"),s.Wb(),s.Xb(49,"div",26),s.Tc(50,"\xa0"),s.Wb(),s.Wb(),s.Xb(51,"div",27),s.Xb(52,"h2"),s.Tc(53,"Application Entry Stage"),s.Wb(),s.Sb(54,"mat-divider"),s.Xb(55,"div",28),s.Xb(56,"fieldset"),s.Xb(57,"legend",29),s.Tc(58,"Loan Account Details"),s.Wb(),s.Wb(),s.Xb(59,"span"),s.Rc(60,gm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(61,"mat-card",31),s.Xb(62,"mat-card-content"),s.Xb(63,"div",32),s.Sb(64,"div",33),s.Xb(65,"div",34),s.Xb(66,"div",35),s.Tc(67,"Account Currency"),s.Wb(),s.Xb(68,"div",36),s.Tc(69),s.Wb(),s.Wb(),s.Xb(70,"div",34),s.Xb(71,"div",35),s.Tc(72,"Account Branch"),s.Wb(),s.Xb(73,"div",36),s.Tc(74),s.Wb(),s.Wb(),s.Xb(75,"div",34),s.Xb(76,"div",35),s.Tc(77,"Loan Account ID"),s.Wb(),s.Xb(78,"div",36),s.Tc(79),s.Wb(),s.Wb(),s.Wb(),s.Xb(80,"div",32),s.Sb(81,"div",33),s.Xb(82,"div",34),s.Xb(83,"div",35),s.Tc(84,"Application Date"),s.Wb(),s.Xb(85,"div",36),s.Tc(86),s.Wb(),s.Wb(),s.Xb(87,"div",34),s.Xb(88,"div",35),s.Tc(89,"Customer Contribution"),s.Wb(),s.Xb(90,"div",36),s.Tc(91),s.Wb(),s.Wb(),s.Xb(92,"div",34),s.Xb(93,"div",35),s.Tc(94,"Estimated Cost"),s.Wb(),s.Xb(95,"div",36),s.Tc(96),s.Wb(),s.Wb(),s.Wb(),s.Xb(97,"div",32),s.Sb(98,"div",33),s.Xb(99,"div",34),s.Xb(100,"div",35),s.Tc(101,"Loan Amount"),s.Wb(),s.Xb(102,"div",36),s.Tc(103),s.Wb(),s.Wb(),s.Xb(104,"div",34),s.Xb(105,"div",35),s.Tc(106,"Loan Tenure"),s.Wb(),s.Xb(107,"div",36),s.Tc(108),s.Wb(),s.Wb(),s.Xb(109,"div",34),s.Xb(110,"div",35),s.Tc(111,"Purpose of Loan"),s.Wb(),s.Xb(112,"div",36),s.Tc(113),s.Wb(),s.Wb(),s.Wb(),s.Xb(114,"div",32),s.Sb(115,"div",33),s.Xb(116,"div",34),s.Xb(117,"div",35),s.Tc(118,"Status"),s.Wb(),s.Xb(119,"div",36),s.Tc(120),s.Wb(),s.Wb(),s.Xb(121,"div",34),s.Xb(122,"div",35),s.Tc(123,"Business Product Name"),s.Wb(),s.Xb(124,"div",36),s.Tc(125),s.Wb(),s.Wb(),s.Xb(126,"div",34),s.Xb(127,"div",35),s.Tc(128,"Modification Number"),s.Wb(),s.Xb(129,"div",36),s.Tc(130),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(131,"div",28),s.Xb(132,"fieldset"),s.Xb(133,"legend",29),s.Tc(134,"Asset Information"),s.Wb(),s.Wb(),s.Xb(135,"span"),s.Rc(136,vm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(137,"mat-card",31),s.Xb(138,"mat-card-content"),s.Xb(139,"div",32),s.Sb(140,"div",33),s.Xb(141,"div",34),s.Xb(142,"div",35),s.Tc(143,"Asset Status"),s.Wb(),s.Xb(144,"div",36),s.Tc(145),s.Wb(),s.Wb(),s.Xb(146,"div",34),s.Xb(147,"div",35),s.Tc(148,"Building"),s.Wb(),s.Xb(149,"div",36),s.Tc(150),s.Wb(),s.Wb(),s.Xb(151,"div",34),s.Xb(152,"div",35),s.Tc(153,"Mortgaged Branch"),s.Wb(),s.Xb(154,"div",36),s.Tc(155),s.Wb(),s.Wb(),s.Wb(),s.Xb(156,"div",32),s.Sb(157,"div",33),s.Xb(158,"div",34),s.Xb(159,"div",35),s.Tc(160,"City"),s.Wb(),s.Xb(161,"div",36),s.Tc(162),s.Wb(),s.Wb(),s.Xb(163,"div",34),s.Xb(164,"div",35),s.Tc(165,"Country"),s.Wb(),s.Xb(166,"div",36),s.Tc(167),s.Wb(),s.Wb(),s.Xb(168,"div",34),s.Xb(169,"div",35),s.Tc(170,"Dimensions"),s.Wb(),s.Xb(171,"div",36),s.Tc(172),s.Wb(),s.Wb(),s.Wb(),s.Xb(173,"div",32),s.Sb(174,"div",33),s.Xb(175,"div",34),s.Xb(176,"div",35),s.Tc(177,"Home Type"),s.Wb(),s.Xb(178,"div",36),s.Tc(179),s.Wb(),s.Wb(),s.Xb(180,"div",34),s.Xb(181,"div",35),s.Tc(182,"Locality"),s.Wb(),s.Xb(183,"div",36),s.Tc(184),s.Wb(),s.Wb(),s.Xb(185,"div",34),s.Xb(186,"div",35),s.Tc(187,"Market Value"),s.Wb(),s.Xb(188,"div",36),s.Tc(189),s.Wb(),s.Wb(),s.Wb(),s.Xb(190,"div",32),s.Sb(191,"div",33),s.Xb(192,"div",34),s.Xb(193,"div",35),s.Tc(194,"State"),s.Wb(),s.Xb(195,"div",36),s.Tc(196),s.Wb(),s.Wb(),s.Xb(197,"div",34),s.Xb(198,"div",35),s.Tc(199,"City"),s.Wb(),s.Xb(200,"div",36),s.Tc(201),s.Wb(),s.Wb(),s.Xb(202,"div",34),s.Xb(203,"div",35),s.Tc(204,"Zip code"),s.Wb(),s.Xb(205,"div",36),s.Tc(206),s.Wb(),s.Wb(),s.Wb(),s.Xb(207,"div",37),s.Sb(208,"div",33),s.Wb(),s.Wb(),s.Wb(),s.Xb(209,"div"),s.Xb(210,"div",28),s.Xb(211,"fieldset"),s.Xb(212,"legend",29),s.Tc(213,"Customer Information Details"),s.Wb(),s.Wb(),s.Xb(214,"span"),s.Rc(215,ym,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(216,"mat-card",31),s.Xb(217,"div",38),s.Xb(218,"div",39),s.Sb(219,"div",40),s.Xb(220,"div",41),s.Xb(221,"div",42),s.Xb(222,"div",38),s.Xb(223,"div",43),s.Xb(224,"div",44),s.Xb(225,"div"),s.Xb(226,"mat-card"),s.Xb(227,"div",45),s.Xb(228,"div",46),s.Xb(229,"small",47),s.Tc(230,"Holding Pattern"),s.Wb(),s.Xb(231,"h3",48),s.Tc(232),s.Wb(),s.Wb(),s.Xb(233,"div",46),s.Xb(234,"small",47),s.Tc(235,"Ownership"),s.Wb(),s.Xb(236,"h3",48),s.Tc(237),s.Wb(),s.Wb(),s.Xb(238,"div",46),s.Xb(239,"small",47),s.Tc(240,"Number of Applicant"),s.Wb(),s.Xb(241,"h3",48),s.Tc(242),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(243,Tm,54,10,"div",49),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(244,"div"),s.Xb(245,"div",28),s.Xb(246,"fieldset"),s.Xb(247,"legend",29),s.Tc(248,"Mandate Details"),s.Wb(),s.Wb(),s.Xb(249,"span"),s.Rc(250,Im,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(251,"mat-card"),s.Xb(252,"div",38),s.Xb(253,"div",39),s.Xb(254,"div",40),s.Xb(255,"h4",50),s.Tc(256,"Mandate Details"),s.Wb(),s.Wb(),s.Xb(257,"div",41),s.Xb(258,"div",42),s.Xb(259,"mat-card",51),s.Xb(260,"mat-card-content"),s.Xb(261,"div",38),s.Xb(262,"div",43),s.Xb(263,"div",52),s.Vb(264),s.Xb(265,"div",53),s.Xb(266,"mat-hint",35),s.Tc(267,"Number of Applicants"),s.Wb(),s.Sb(268,"br"),s.Xb(269,"mat-hint",36),s.Tc(270),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Xb(271,"div",54),s.Rc(272,Em,27,4,"div",55),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(273,"div"),s.Xb(274,"div",28),s.Xb(275,"fieldset"),s.Xb(276,"legend",29),s.Tc(277,"Collateral Details"),s.Wb(),s.Wb(),s.Xb(278,"span"),s.Rc(279,xm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(280,"mat-card",31),s.Xb(281,"mat-card-content"),s.Xb(282,"div",32),s.Sb(283,"div",33),s.Xb(284,"div",34),s.Xb(285,"div",35),s.Tc(286,"Attributes"),s.Wb(),s.Xb(287,"div",36),s.Tc(288),s.Wb(),s.Wb(),s.Xb(289,"div",34),s.Xb(290,"div",35),s.Tc(291,"Building"),s.Wb(),s.Xb(292,"div",36),s.Tc(293),s.Wb(),s.Wb(),s.Xb(294,"div",34),s.Xb(295,"div",35),s.Tc(296,"City"),s.Wb(),s.Xb(297,"div",36),s.Tc(298),s.Wb(),s.Wb(),s.Wb(),s.Xb(299,"div",32),s.Sb(300,"div",33),s.Xb(301,"div",34),s.Xb(302,"div",35),s.Tc(303,"Collateral Currency"),s.Wb(),s.Xb(304,"div",36),s.Tc(305),s.Wb(),s.Wb(),s.Xb(306,"div",34),s.Xb(307,"div",35),s.Tc(308,"Collateral Type"),s.Wb(),s.Xb(309,"div",36),s.Tc(310),s.Wb(),s.Wb(),s.Xb(311,"div",34),s.Xb(312,"div",35),s.Tc(313,"Collateral Value"),s.Wb(),s.Xb(314,"div",36),s.Tc(315),s.Wb(),s.Wb(),s.Wb(),s.Xb(316,"div",32),s.Sb(317,"div",33),s.Xb(318,"div",34),s.Xb(319,"div",35),s.Tc(320,"Country"),s.Wb(),s.Xb(321,"div",36),s.Tc(322),s.Wb(),s.Wb(),s.Xb(323,"div",34),s.Xb(324,"div",35),s.Tc(325,"Dimensions"),s.Wb(),s.Xb(326,"div",36),s.Tc(327),s.Wb(),s.Wb(),s.Xb(328,"div",34),s.Xb(329,"div",35),s.Tc(330,"Locality"),s.Wb(),s.Xb(331,"div",36),s.Tc(332),s.Wb(),s.Wb(),s.Wb(),s.Xb(333,"div",32),s.Sb(334,"div",33),s.Xb(335,"div",34),s.Xb(336,"div",35),s.Tc(337,"State"),s.Wb(),s.Xb(338,"div",36),s.Tc(339),s.Wb(),s.Wb(),s.Xb(340,"div",34),s.Xb(341,"div",35),s.Tc(342,"Third Party Collateral"),s.Wb(),s.Xb(343,"div",36),s.Tc(344),s.Wb(),s.Wb(),s.Xb(345,"div",34),s.Xb(346,"div",35),s.Tc(347,"Street"),s.Wb(),s.Xb(348,"div",36),s.Tc(349),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(350,"mat-card",31),s.Rc(351,Om,2,1,"div",56),s.Wb(),s.Wb(),s.Xb(352,"div"),s.Xb(353,"div",28),s.Xb(354,"fieldset"),s.Xb(355,"legend",29),s.Tc(356,"Guarantor Details"),s.Wb(),s.Wb(),s.Xb(357,"span"),s.Rc(358,Dm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(359,"mat-card",31),s.Xb(360,"mat-card-content"),s.Xb(361,"div",32),s.Sb(362,"div",33),s.Xb(363,"div",34),s.Xb(364,"div",35),s.Tc(365,"Prefix"),s.Wb(),s.Xb(366,"div",36),s.Tc(367),s.Wb(),s.Wb(),s.Xb(368,"div",34),s.Xb(369,"div",35),s.Tc(370,"First Name"),s.Wb(),s.Xb(371,"div",36),s.Tc(372),s.Wb(),s.Wb(),s.Xb(373,"div",34),s.Xb(374,"div",35),s.Tc(375,"Last Name"),s.Wb(),s.Xb(376,"div",36),s.Tc(377),s.Wb(),s.Wb(),s.Wb(),s.Xb(378,"div",32),s.Sb(379,"div",33),s.Xb(380,"div",34),s.Xb(381,"div",35),s.Tc(382,"CIF Number"),s.Wb(),s.Xb(383,"div",36),s.Tc(384),s.Wb(),s.Wb(),s.Xb(385,"div",34),s.Xb(386,"div",35),s.Tc(387,"Relationship with Customer"),s.Wb(),s.Xb(388,"div",36),s.Tc(389),s.Wb(),s.Wb(),s.Xb(390,"div",34),s.Xb(391,"div",35),s.Tc(392,"Country"),s.Wb(),s.Xb(393,"div",36),s.Tc(394),s.Wb(),s.Wb(),s.Wb(),s.Xb(395,"div",32),s.Sb(396,"div",33),s.Xb(397,"div",34),s.Xb(398,"div",35),s.Tc(399,"Date Of Birth"),s.Wb(),s.Xb(400,"div",36),s.Tc(401),s.Wb(),s.Wb(),s.Xb(402,"div",34),s.Xb(403,"div",35),s.Tc(404,"Email address"),s.Wb(),s.Xb(405,"div",36),s.Tc(406),s.Wb(),s.Wb(),s.Xb(407,"div",34),s.Xb(408,"div",35),s.Tc(409,"Mobile Number"),s.Wb(),s.Xb(410,"div",36),s.Tc(411),s.Wb(),s.Wb(),s.Wb(),s.Xb(412,"div",32),s.Sb(413,"div",33),s.Xb(414,"div",34),s.Xb(415,"div",35),s.Tc(416,"Address 1"),s.Wb(),s.Xb(417,"div",36),s.Tc(418),s.Wb(),s.Wb(),s.Xb(419,"div",34),s.Xb(420,"div",35),s.Tc(421,"Address 2"),s.Wb(),s.Xb(422,"div",36),s.Tc(423),s.Wb(),s.Wb(),s.Xb(424,"div",34),s.Xb(425,"div",35),s.Tc(426,"City"),s.Wb(),s.Xb(427,"div",36),s.Tc(428),s.Wb(),s.Wb(),s.Wb(),s.Xb(429,"div",32),s.Sb(430,"div",33),s.Xb(431,"div",34),s.Xb(432,"div",35),s.Tc(433,"State"),s.Wb(),s.Xb(434,"div",36),s.Tc(435),s.Wb(),s.Wb(),s.Xb(436,"div",34),s.Xb(437,"div",35),s.Tc(438,"Phone Number"),s.Wb(),s.Xb(439,"div",36),s.Tc(440),s.Wb(),s.Wb(),s.Xb(441,"div",34),s.Xb(442,"div",35),s.Tc(443,"Zip Code"),s.Wb(),s.Xb(444,"div",36),s.Tc(445),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(446,"div",23),s.Xb(447,"div",24),s.Xb(448,"div",25),s.Tc(449,"2"),s.Wb(),s.Xb(450,"div",26),s.Tc(451,"\xa0"),s.Wb(),s.Wb(),s.Xb(452,"div",27),s.Xb(453,"h2"),s.Tc(454,"Loan Application Enrichment"),s.Wb(),s.Sb(455,"hr"),s.Xb(456,"mat-card",57),s.Xb(457,"div",27),s.Sb(458,"hr"),s.Xb(459,"mat-card"),s.Xb(460,"div",28),s.Xb(461,"fieldset"),s.Xb(462,"legend",29),s.Tc(463,"Interest Details"),s.Wb(),s.Wb(),s.Xb(464,"span"),s.Rc(465,Rm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Rc(466,Sm,30,4,"mat-card",58),s.Wb(),s.Sb(467,"br"),s.Sb(468,"hr"),s.Wb(),s.Wb(),s.Sb(469,"br"),s.Xb(470,"mat-card",59),s.Xb(471,"div",28),s.Xb(472,"fieldset"),s.Xb(473,"legend",29),s.Tc(474,"Loan Disbursement Details"),s.Wb(),s.Wb(),s.Xb(475,"span"),s.Rc(476,km,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(477,"mat-card",31),s.Xb(478,"mat-card-content"),s.Xb(479,"div",32),s.Sb(480,"div",33),s.Xb(481,"div",34),s.Xb(482,"div",35),s.Tc(483,"Branch Code"),s.Wb(),s.Xb(484,"div",36),s.Tc(485),s.Wb(),s.Wb(),s.Xb(486,"div",34),s.Xb(487,"div",35),s.Tc(488,"Customer Account"),s.Wb(),s.Xb(489,"div",36),s.Tc(490),s.Wb(),s.Wb(),s.Xb(491,"div",34),s.Xb(492,"div",35),s.Tc(493,"Disbursement Mode"),s.Wb(),s.Xb(494,"div",36),s.Tc(495),s.Wb(),s.Wb(),s.Wb(),s.Xb(496,"div",32),s.Sb(497,"div",33),s.Xb(498,"div",34),s.Xb(499,"div",35),s.Tc(500,"First Disbursement Date"),s.Wb(),s.Xb(501,"div",36);s.Tc(502),s.Wb(),s.Wb(),s.Xb(503,"div",34),s.Xb(504,"div",35),s.Tc(505,"Loan Amount"),s.Wb(),s.Xb(506,"div",36),s.Tc(507),s.Wb(),s.Wb(),s.Xb(508,"div",34),s.Xb(509,"div",35),s.Tc(510,"Multiple Disbursement Required"),s.Wb(),s.Xb(511,"div",36),s.Tc(512),s.Wb(),s.Wb(),s.Wb(),s.Xb(513,"div",32),s.Sb(514,"div",33),s.Xb(515,"div",34),s.Xb(516,"div",35),s.Tc(517,"Number Of Disbursement"),s.Wb(),s.Xb(518,"div",36),s.Tc(519),s.Wb(),s.Wb(),s.Xb(520,"div",34),s.Xb(521,"div",35),s.Tc(522,"Total Disbursement"),s.Wb(),s.Xb(523,"div",36),s.Tc(524),s.Wb(),s.Wb(),s.Sb(525,"div",34),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(526,"br"),s.Xb(527,"mat-card",59),s.Xb(528,"div",28),s.Xb(529,"fieldset"),s.Xb(530,"legend",29),s.Tc(531,"Loan Repayment Details"),s.Wb(),s.Wb(),s.Xb(532,"span"),s.Rc(533,Nm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(534,"mat-card",31),s.Xb(535,"mat-card-content"),s.Xb(536,"div",32),s.Sb(537,"div",33),s.Xb(538,"div",34),s.Xb(539,"div",35),s.Tc(540,"Bank Name"),s.Wb(),s.Xb(541,"div",36),s.Tc(542),s.Wb(),s.Wb(),s.Xb(543,"div",34),s.Xb(544,"div",35),s.Tc(545,"Branch Code"),s.Wb(),s.Xb(546,"div",36),s.Tc(547),s.Wb(),s.Wb(),s.Xb(548,"div",34),s.Xb(549,"div",35),s.Tc(550,"Customer Account"),s.Wb(),s.Xb(551,"div",36),s.Tc(552),s.Wb(),s.Wb(),s.Wb(),s.Xb(553,"div",32),s.Sb(554,"div",33),s.Xb(555,"div",34),s.Xb(556,"div",35),s.Tc(557,"First Repayment Date"),s.Wb(),s.Xb(558,"div",36),s.Tc(559),s.Wb(),s.Wb(),s.Xb(560,"div",34),s.Xb(561,"div",35),s.Tc(562,"Loan Tenure"),s.Wb(),s.Xb(563,"div",36),s.Tc(564),s.Wb(),s.Wb(),s.Xb(565,"div",34),s.Xb(566,"div",35),s.Tc(567,"Maturity Date"),s.Wb(),s.Xb(568,"div",36),s.Tc(569),s.Wb(),s.Wb(),s.Wb(),s.Xb(570,"div",32),s.Sb(571,"div",33),s.Xb(572,"div",34),s.Xb(573,"div",35),s.Tc(574,"Moraturioum Period"),s.Wb(),s.Xb(575,"div",36),s.Tc(576),s.Wb(),s.Wb(),s.Xb(577,"div",34),s.Xb(578,"div",35),s.Tc(579,"Type Of Repayment"),s.Wb(),s.Xb(580,"div",36),s.Tc(581),s.Wb(),s.Wb(),s.Xb(582,"div",34),s.Xb(583,"div",35),s.Tc(584,"Repayment Frequency"),s.Wb(),s.Xb(585,"div",36),s.Tc(586),s.Wb(),s.Wb(),s.Wb(),s.Xb(587,"div",32),s.Sb(588,"div",33),s.Xb(589,"div",34),s.Xb(590,"div",35),s.Tc(591,"Repayment Mode"),s.Wb(),s.Xb(592,"div",36),s.Tc(593),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(594,"br"),s.Xb(595,"mat-card"),s.Xb(596,"div",28),s.Xb(597,"fieldset"),s.Xb(598,"legend",29),s.Tc(599,"Loan Charge Details"),s.Wb(),s.Wb(),s.Xb(600,"span"),s.Rc(601,Pm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Rc(602,Fm,30,4,"mat-card",58),s.Wb(),s.Xb(603,"mat-card"),s.Xb(604,"div",28),s.Xb(605,"fieldset"),s.Xb(606,"legend",29),s.Tc(607,"Account Service Details"),s.Wb(),s.Wb(),s.Sb(608,"span"),s.Wb(),s.Xb(609,"mat-card",31),s.Xb(610,"mat-card-content"),s.Xb(611,"div",32),s.Sb(612,"div",33),s.Xb(613,"div",34),s.Xb(614,"div",35),s.Tc(615,"Statement Cycle"),s.Wb(),s.Xb(616,"div",36),s.Tc(617),s.Wb(),s.Wb(),s.Xb(618,"div",34),s.Xb(619,"div",35),s.Tc(620,"Statement Type"),s.Wb(),s.Xb(621,"div",36),s.Tc(622),s.Wb(),s.Wb(),s.Xb(623,"div",34),s.Xb(624,"div",35),s.Tc(625,"start Date"),s.Wb(),s.Xb(626,"div",36),s.Tc(627),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(628,"br"),s.Xb(629,"div",23),s.Xb(630,"div",24),s.Xb(631,"div",25),s.Tc(632,"3"),s.Wb(),s.Xb(633,"div",26),s.Tc(634,"\xa0"),s.Wb(),s.Wb(),s.Xb(635,"div",27),s.Xb(636,"h2"),s.Tc(637,"Loan Underwriting Stage"),s.Wb(),s.Sb(638,"hr"),s.Xb(639,"mat-card",59),s.Xb(640,"div",28),s.Xb(641,"fieldset"),s.Xb(642,"legend",29),s.Tc(643,"Loan Credit Score Details"),s.Wb(),s.Wb(),s.Xb(644,"span"),s.Rc(645,Lm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Rc(646,wm,3,1,"mat-card",60),s.Wb(),s.Sb(647,"br"),s.Xb(648,"mat-card",59),s.Xb(649,"div",28),s.Xb(650,"fieldset"),s.Xb(651,"legend",29),s.Tc(652,"Valuation of Asset Details"),s.Wb(),s.Wb(),s.Xb(653,"span"),s.Rc(654,Um,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(655,"mat-card",31),s.Xb(656,"mat-card-content"),s.Xb(657,"div",32),s.Sb(658,"div",33),s.Xb(659,"div",34),s.Xb(660,"div",35),s.Tc(661,"Bank Valuation"),s.Wb(),s.Xb(662,"div",36),s.Tc(663),s.Wb(),s.Wb(),s.Xb(664,"div",34),s.Xb(665,"div",35),s.Tc(666,"Asset Type"),s.Wb(),s.Xb(667,"div",36),s.Tc(668),s.Wb(),s.Wb(),s.Xb(669,"div",34),s.Xb(670,"div",35),s.Tc(671,"Property Area Size"),s.Wb(),s.Xb(672,"div",36),s.Tc(673),s.Wb(),s.Wb(),s.Wb(),s.Xb(674,"div",32),s.Sb(675,"div",33),s.Xb(676,"div",34),s.Xb(677,"div",35),s.Tc(678,"Actual Property Area Size"),s.Wb(),s.Xb(679,"div",36),s.Tc(680),s.Wb(),s.Wb(),s.Xb(681,"div",34),s.Xb(682,"div",35),s.Tc(683,"Borrower's Market Value"),s.Wb(),s.Xb(684,"div",36),s.Tc(685),s.Wb(),s.Wb(),s.Xb(686,"div",34),s.Xb(687,"div",35),s.Tc(688,"Face Value Of Asset"),s.Wb(),s.Xb(689,"div",36),s.Tc(690),s.Wb(),s.Wb(),s.Wb(),s.Xb(691,"div",32),s.Sb(692,"div",33),s.Xb(693,"div",34),s.Xb(694,"div",35),s.Tc(695,"Market Value Of Asset"),s.Wb(),s.Xb(696,"div",36),s.Tc(697),s.Wb(),s.Wb(),s.Xb(698,"div",34),s.Xb(699,"div",35),s.Tc(700,"Asset Valuer"),s.Wb(),s.Xb(701,"div",36),s.Tc(702),s.Wb(),s.Wb(),s.Xb(703,"div",34),s.Xb(704,"div",35),s.Tc(705,"Forced Sale Value"),s.Wb(),s.Xb(706,"div",36),s.Tc(707),s.Wb(),s.Wb(),s.Wb(),s.Xb(708,"div",32),s.Sb(709,"div",33),s.Xb(710,"div",34),s.Xb(711,"div",35),s.Tc(712,"Valuation Date"),s.Wb(),s.Xb(713,"div",36),s.Tc(714),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(715,"br"),s.Xb(716,"mat-card",59),s.Xb(717,"div",28),s.Xb(718,"fieldset"),s.Xb(719,"legend",29),s.Tc(720,"Legal Opinion Details"),s.Wb(),s.Wb(),s.Xb(721,"span"),s.Rc(722,Mm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(723,"mat-card",31),s.Xb(724,"mat-card-content"),s.Xb(725,"div",32),s.Sb(726,"div",33),s.Xb(727,"div",34),s.Xb(728,"div",35),s.Tc(729,"Opinion"),s.Wb(),s.Xb(730,"div",36),s.Tc(731),s.Wb(),s.Wb(),s.Xb(732,"div",34),s.Xb(733,"div",35),s.Tc(734,"Asset Area Size"),s.Wb(),s.Xb(735,"div",36),s.Tc(736),s.Wb(),s.Wb(),s.Xb(737,"div",34),s.Xb(738,"div",35),s.Tc(739,"Description"),s.Wb(),s.Xb(740,"div",36),s.Tc(741),s.Wb(),s.Wb(),s.Wb(),s.Xb(742,"div",32),s.Sb(743,"div",33),s.Xb(744,"div",34),s.Xb(745,"div",35),s.Tc(746,"Lawyer Name"),s.Wb(),s.Xb(747,"div",36),s.Tc(748),s.Wb(),s.Wb(),s.Xb(749,"div",34),s.Xb(750,"div",35),s.Tc(751,"Market Value Of Asset"),s.Wb(),s.Xb(752,"div",36),s.Tc(753),s.Wb(),s.Wb(),s.Xb(754,"div",34),s.Xb(755,"div",35),s.Tc(756,"Opinion Date"),s.Wb(),s.Xb(757,"div",36),s.Tc(758),s.Wb(),s.Wb(),s.Wb(),s.Xb(759,"div",32),s.Sb(760,"div",33),s.Xb(761,"div",34),s.Xb(762,"div",35),s.Tc(763,"Is Decision Favorable?"),s.Wb(),s.Xb(764,"div",36),s.Tc(765),s.Wb(),s.Wb(),s.Xb(766,"div",34),s.Xb(767,"div",35),s.Tc(768,"Valuation Date"),s.Wb(),s.Xb(769,"div",36),s.Tc(770),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(771,"br"),s.Xb(772,"div",23),s.Xb(773,"div",24),s.Xb(774,"div",25),s.Tc(775,"4"),s.Wb(),s.Xb(776,"div",26),s.Tc(777,"\xa0"),s.Wb(),s.Wb(),s.Xb(778,"div",27),s.Xb(779,"h2"),s.Tc(780,"Loan Assessment Details"),s.Wb(),s.Sb(781,"hr"),s.Xb(782,"mat-card",59),s.Xb(783,"div",28),s.Xb(784,"fieldset"),s.Xb(785,"legend",29),s.Tc(786,"Qualitative Scoreboard"),s.Wb(),s.Wb(),s.Sb(787,"span"),s.Wb(),s.Xb(788,"mat-card",31),s.Xb(789,"mat-card-content"),s.Xb(790,"div",32),s.Sb(791,"div",33),s.Xb(792,"div",34),s.Xb(793,"div",35),s.Tc(794,"ScoreCard Id"),s.Wb(),s.Xb(795,"div",36),s.Tc(796),s.Wb(),s.Wb(),s.Xb(797,"div",34),s.Xb(798,"div",35),s.Tc(799,"Number Of Applicants"),s.Wb(),s.Xb(800,"div",36),s.Tc(801),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(802,"mat-card",31),s.Xb(803,"mat-card-content"),s.Xb(804,"div",61),s.Xb(805,"div",62),s.Rc(806,Vm,5,2,"div",58),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(807,"mat-card",59),s.Xb(808,"div",28),s.Xb(809,"fieldset"),s.Xb(810,"legend",29),s.Tc(811,"Assessment Details"),s.Wb(),s.Wb(),s.Xb(812,"span"),s.Rc(813,jm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(814,"mat-card",31),s.Xb(815,"mat-card-content"),s.Xb(816,"div",32),s.Sb(817,"div",33),s.Xb(818,"div",34),s.Xb(819,"div",35),s.Tc(820,"Approved Loan Amount"),s.Wb(),s.Xb(821,"div",36),s.Tc(822),s.Wb(),s.Wb(),s.Xb(823,"div",34),s.Xb(824,"div",35),s.Tc(825,"Loan Tenure"),s.Wb(),s.Xb(826,"div",36),s.Tc(827),s.Wb(),s.Wb(),s.Xb(828,"div",34),s.Xb(829,"div",35),s.Tc(830,"Rate Of Interest"),s.Wb(),s.Xb(831,"div",36),s.Tc(832),s.Wb(),s.Wb(),s.Wb(),s.Xb(833,"div",32),s.Sb(834,"div",33),s.Xb(835,"div",34),s.Xb(836,"div",35),s.Tc(837,"Loan Amount Recommended"),s.Wb(),s.Xb(838,"div",36),s.Tc(839),s.Wb(),s.Wb(),s.Xb(840,"div",34),s.Xb(841,"div",35),s.Tc(842,"System Recommendation"),s.Wb(),s.Xb(843,"div",36),s.Tc(844),s.Wb(),s.Wb(),s.Xb(845,"div",34),s.Xb(846,"div",35),s.Tc(847,"User Recommendation"),s.Wb(),s.Xb(848,"div",36),s.Tc(849),s.Wb(),s.Wb(),s.Wb(),s.Xb(850,"div",32),s.Sb(851,"div",33),s.Xb(852,"div",34),s.Xb(853,"div",35),s.Tc(854,"Requested Loan Amount"),s.Wb(),s.Xb(855,"div",36),s.Tc(856),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(857,"br"),s.Wb(),s.Wb(),s.Sb(858,"br"),s.Xb(859,"div",23),s.Xb(860,"div",24),s.Xb(861,"div",25),s.Tc(862,"5"),s.Wb(),s.Xb(863,"div",26),s.Tc(864,"\xa0"),s.Wb(),s.Wb(),s.Xb(865,"div",27),s.Xb(866,"h2"),s.Tc(867,"Loan Offer Issue"),s.Wb(),s.Sb(868,"hr"),s.Sb(869,"br"),s.Xb(870,"mat-card",59),s.Xb(871,"div",28),s.Xb(872,"fieldset"),s.Xb(873,"legend",29),s.Tc(874,"Offer Issue Details"),s.Wb(),s.Wb(),s.Xb(875,"span"),s.Rc(876,Bm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Xb(877,"mat-card",31),s.Xb(878,"mat-card-content"),s.Xb(879,"div",32),s.Sb(880,"div",33),s.Xb(881,"div",34),s.Xb(882,"div",35),s.Tc(883,"Applicant Name"),s.Wb(),s.Xb(884,"div",36),s.Tc(885),s.Wb(),s.Wb(),s.Xb(886,"div",34),s.Xb(887,"div",35),s.Tc(888,"Approved Loan Amount"),s.Wb(),s.Xb(889,"div",36),s.Tc(890),s.Wb(),s.Wb(),s.Xb(891,"div",34),s.Xb(892,"div",35),s.Tc(893,"Charges"),s.Wb(),s.Xb(894,"div",36),s.Tc(895),s.Wb(),s.Wb(),s.Wb(),s.Xb(896,"div",32),s.Sb(897,"div",33),s.Xb(898,"div",34),s.Xb(899,"div",35),s.Tc(900,"Generate Offer"),s.Wb(),s.Xb(901,"div",36),s.Tc(902),s.Wb(),s.Wb(),s.Xb(903,"div",34),s.Xb(904,"div",35),s.Tc(905,"Installment Amount"),s.Wb(),s.Xb(906,"div",36),s.Tc(907),s.Wb(),s.Wb(),s.Xb(908,"div",34),s.Xb(909,"div",35),s.Tc(910,"Installment Type"),s.Wb(),s.Xb(911,"div",36),s.Tc(912),s.Wb(),s.Wb(),s.Wb(),s.Xb(913,"div",32),s.Sb(914,"div",33),s.Xb(915,"div",34),s.Xb(916,"div",35),s.Tc(917,"Interest"),s.Wb(),s.Xb(918,"div",36),s.Tc(919),s.Wb(),s.Wb(),s.Xb(920,"div",34),s.Xb(921,"div",35),s.Tc(922,"Loan Tenure"),s.Wb(),s.Xb(923,"div",36),s.Tc(924),s.Wb(),s.Wb(),s.Xb(925,"div",34),s.Xb(926,"div",35),s.Tc(927,"Offer Issue Date"),s.Wb(),s.Xb(928,"div",36),s.Tc(929),s.Wb(),s.Wb(),s.Wb(),s.Xb(930,"div",32),s.Sb(931,"div",33),s.Xb(932,"div",34),s.Xb(933,"div",35),s.Tc(934,"Principal"),s.Wb(),s.Xb(935,"div",36),s.Tc(936),s.Wb(),s.Wb(),s.Xb(937,"div",34),s.Xb(938,"div",35),s.Tc(939,"Rate Of Interest"),s.Wb(),s.Xb(940,"div",36),s.Tc(941),s.Wb(),s.Wb(),s.Sb(942,"div",34),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(943,"br"),s.Wb(),s.Wb(),s.Sb(944,"br"),s.Xb(945,"div",23),s.Xb(946,"div",24),s.Xb(947,"div",25),s.Tc(948,"6"),s.Wb(),s.Xb(949,"div",26),s.Tc(950,"\xa0"),s.Wb(),s.Wb(),s.Xb(951,"div",27),s.Xb(952,"h2"),s.Tc(953,"Offer Accept/Reject Stage"),s.Wb(),s.Sb(954,"hr"),s.Sb(955,"br"),s.Xb(956,"mat-card",59),s.Xb(957,"div",28),s.Xb(958,"fieldset"),s.Xb(959,"legend",29),s.Tc(960,"Offer Accept Details"),s.Wb(),s.Wb(),s.Xb(961,"span"),s.Rc(962,zm,2,0,"mat-icon",30),s.Wb(),s.Wb(),s.Rc(963,qm,60,10,"mat-card",60),s.Wb(),s.Sb(964,"br"),s.Wb(),s.Wb(),s.Sb(965,"br"),s.Xb(966,"div",23),s.Xb(967,"div",24),s.Xb(968,"div",25),s.Tc(969,"7"),s.Wb(),s.Xb(970,"div",26),s.Tc(971,"\xa0"),s.Wb(),s.Wb(),s.Xb(972,"div",27),s.Xb(973,"h2"),s.Tc(974,"Post Offer Amend Stage"),s.Wb(),s.Sb(975,"hr"),s.Sb(976,"br"),s.Xb(977,"mat-card",59),s.Xb(978,"div",28),s.Xb(979,"fieldset"),s.Xb(980,"legend",29),s.Tc(981,"Post Offer Amend Stage"),s.Wb(),s.Wb(),s.Sb(982,"span"),s.Wb(),s.Rc(983,Km,65,11,"mat-card",60),s.Wb(),s.Sb(984,"br"),s.Wb(),s.Wb(),s.Sb(985,"br"),s.Xb(986,"div",23),s.Xb(987,"div",24),s.Xb(988,"div",25),s.Tc(989,"8"),s.Wb(),s.Xb(990,"div",26),s.Tc(991,"\xa0"),s.Wb(),s.Wb(),s.Xb(992,"div",27),s.Xb(993,"h2"),s.Tc(994,"Account Credit Details Stage"),s.Wb(),s.Sb(995,"hr"),s.Sb(996,"br"),s.Xb(997,"mat-card",59),s.Xb(998,"div",28),s.Xb(999,"fieldset"),s.Xb(1e3,"legend",29),s.Tc(1001,"Account Create Details Stage"),s.Wb(),s.Wb();s.Sb(1002,"span"),s.Wb(),s.Rc(1003,Jm,82,14,"mat-card",60),s.Wb(),s.Sb(1004,"br"),s.Wb(),s.Wb(),s.Sb(1005,"br"),s.Sb(1006,"br"),s.Xb(1007,"div",63),s.Xb(1008,"div",24),s.Xb(1009,"div",25),s.Tc(1010,"9"),s.Wb(),s.Xb(1011,"div",26),s.Tc(1012,"\xa0"),s.Wb(),s.Wb(),s.Xb(1013,"div",64),s.Xb(1014,"h2"),s.Tc(1015,"Digital Sign"),s.Wb(),s.Xb(1016,"div",65),s.Xb(1017,"fieldset"),s.Xb(1018,"legend",29),s.Tc(1019,"Digital Sign"),s.Wb(),s.Wb(),s.Wb(),s.Xb(1020,"mat-card",31),s.Xb(1021,"mat-card-content"),s.Xb(1022,"div",32),s.Sb(1023,"div",33),s.Xb(1024,"div",34),s.Xb(1025,"div",35),s.Tc(1026,"Document Name"),s.Wb(),s.Xb(1027,"div",36),s.Tc(1028),s.Wb(),s.Wb(),s.Xb(1029,"div",34),s.Xb(1030,"div",35),s.Tc(1031,"File Type"),s.Wb(),s.Xb(1032,"div",36),s.Tc(1033),s.Wb(),s.Wb(),s.Xb(1034,"div",34),s.Xb(1035,"div",35),s.Tc(1036,"File Name"),s.Wb(),s.Xb(1037,"div",36),s.Tc(1038),s.Wb(),s.Wb(),s.Xb(1039,"div",34),s.Xb(1040,"div",35),s.Tc(1041,"Download"),s.Wb(),s.Rc(1042,Hm,4,1,"div",66),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(1043,"div"),s.Xb(1044,"div",67),s.Xb(1045,"div",68),s.fc("click",function(){return e.continue()}),s.Xb(1046,"label",69),s.Tc(1047,"Cotinue"),s.Wb(),s.Wb(),s.Xb(1048,"div",70),s.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"REJECTED")}),s.Xb(1049,"mat-icon",71),s.Tc(1050," highlight_off "),s.Wb(),s.Tc(1051,"\xa0\xa0\xa0 "),s.Xb(1052,"label",72),s.Tc(1053,"Reject"),s.Wb(),s.Wb(),s.Tc(1054," \xa0\xa0 "),s.Xb(1055,"div",73),s.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"APPROVED")}),s.Xb(1056,"mat-icon",74),s.Tc(1057,"check_circle"),s.Wb(),s.Tc(1058,"\xa0\xa0\xa0 "),s.Xb(1059,"label",75),s.Tc(1060,"Approve"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(1061,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}2&t&&(s.Eb(11),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.createDataInfo?null:e.createDataInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.createDataInfo?null:e.createDataInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!==e.imageUrl),s.Eb(7),s.Xc("",e.loanInfo.prefix,"\xa0",e.loanInfo.firstName,"\xa0",e.loanInfo.lastName,""),s.Eb(16),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountCurrency),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountBranch),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAccountId),s.Eb(7),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.applicationDate.slice(0,12)),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.customerContribution),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.estimatedCost),s.Eb(7),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAmount),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanTenure),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.purposeOfLoan),s.Eb(7),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.status),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.businessProductName),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.modificationNo),s.Eb(6),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.assest_array?null:e.assest_array.assetStatus),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.building),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.mortgagedBranch),s.Eb(7),s.Uc(null==e.assest_array?null:e.assest_array.city),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.country),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.dimensions),s.Eb(7),s.Uc(null==e.assest_array?null:e.assest_array.homeType),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.locality),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.marketValue),s.Eb(7),s.Uc(null==e.assest_array?null:e.assest_array.state),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.city),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.zipCode),s.Eb(9),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(17),s.Uc(e.ownership),s.Eb(5),s.Uc(e.ownership),s.Eb(5),s.Uc(e.noOfApplicants),s.Eb(1),s.rc("ngForOf",e.customerInfoDetails),s.Eb(7),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(20),s.Uc(null==e.mandateDetails?null:e.mandateDetails.noOfApplicants),s.Eb(2),s.rc("ngForOf",e.mandateDetailsArray),s.Eb(7),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.colateral_array?null:e.colateral_array.attributes),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.building),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.city),s.Eb(7),s.Uc(null==e.colateral_array?null:e.colateral_array.collateralCurrency),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.collateralType),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.collateralValue),s.Eb(7),s.Uc(null==e.colateral_array?null:e.colateral_array.country),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.dimensions),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.locality),s.Eb(7),s.Uc(null==e.colateral_array?null:e.colateral_array.state),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.thirdPartyCollateral),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.street),s.Eb(2),s.rc("ngIf",e.colateral_array),s.Eb(7),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.guranator_array?null:e.guranator_array.prefix),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.firstName),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.lastName),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.cifNumber),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.relationWithCustomer),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.country),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.dateOfBirth),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.emailAddress),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.mobileNumber),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.address1),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.address2),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.city),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.state),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.phoneNumber),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.zipCode),s.Eb(20),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(1),s.rc("ngForOf",e.loanInterest_array),s.Eb(10),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.branchCode),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.customerAccount),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.disbursementMode),s.Eb(7),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.firstDisbursementDate),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.loanAmount),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.mutipleDisbursementRequired),s.Eb(7),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.numberOfDisbursement),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.totalDisbursement),s.Eb(9),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.bankName),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.branchCode),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.customerAccount),s.Eb(7),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.firstRepaymentDate),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.loanTenure),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.maturityDate),s.Eb(7),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.moraturioumPeriod),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.typeOfRepayment),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentFrequency),s.Eb(7),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentMode),s.Eb(8),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(1),s.rc("ngForOf",e.loanCharge_array),s.Eb(15),s.Uc(null==e.accountService_array?null:e.accountService_array.statementCycle),s.Eb(5),s.Uc(null==e.accountService_array?null:e.accountService_array.statementType),s.Eb(5),s.Uc(null==e.accountService_array?null:e.accountService_array.startDate),s.Eb(18),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(1),s.rc("ngIf",e.loanCreditScore_array),s.Eb(8),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.bankValuation),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetType),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.propertyAreaSize),s.Eb(7),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.actualPropertyAreaSize),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.borrowersMktValOfAsset),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.faceValOfAsset),s.Eb(7),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.mktValOfAsset),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetValue),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.forcedSaleValue),s.Eb(7),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.valuationDate.slice(0,12)),s.Eb(8),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinion),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.assetAreaSize),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.description),s.Eb(7),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.lawyerName),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.mktValOfAsset),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinionDate),s.Eb(7),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.isDecisionFavorable),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.valuationDate),s.Eb(26),s.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardId),s.Eb(5),s.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.numberOfApplicant),s.Eb(5),s.rc("ngForOf",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardMapping),s.Eb(7),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.loanassement_array?null:e.loanassement_array.approvedLoanAmount),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.loanTenure),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.rateOfInterest),s.Eb(7),s.Uc(null==e.loanassement_array?null:e.loanassement_array.loanAmountRecommendation),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.systemRecommendation),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.userRecommendation),s.Eb(7),s.Uc(null==e.loanassement_array?null:e.loanassement_array.requestedLoanAmount),s.Eb(20),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(9),s.Uc(null==e.offerissue_array?null:e.offerissue_array.applicantName),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.approvedLoanAmount),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.charges),s.Eb(7),s.Uc(null==e.offerissue_array?null:e.offerissue_array.generateOffer),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentAmount),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentType),s.Eb(7),s.Uc(null==e.offerissue_array?null:e.offerissue_array.interest),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.loanTenure),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.offerIssueDate),s.Eb(7),s.Uc(null==e.offerissue_array?null:e.offerissue_array.principal),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.rateOfInterest),s.Eb(21),s.rc("ngIf",e.editScreen&&"TELLER_DEP_LOAN"==e.userType),s.Eb(1),s.rc("ngIf",e.offerDetails),s.Eb(20),s.rc("ngIf",e.postOfferDetails),s.Eb(20),s.rc("ngIf",e.accountCreateValue),s.Eb(25),s.Uc(null==e.signatureData?null:e.signatureData.documentName),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileType),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileName),s.Eb(4),s.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),s.Eb(3),s.rc("hidden",e.continueStatus||"TELLER_DEP_LOAN"!=e.userType)("ngClass",s.yc(161,Ym,e.continueStatus,!e.continueStatus)),s.Eb(3),s.rc("hidden",e.rejectedStatus)("hidden",e.rejectedStatus||"TELLER_MANAGER_TASK_SUMMARY"!=e.userType)("ngClass",s.yc(164,Zm,e.rejectedStatus,!e.rejectedStatus)),s.Eb(7),s.rc("hidden",e.approvedStatus)("ngClass",s.yc(167,Qm,e.approvedStatus,!e.approvedStatus)))},directives:[X.e,X.d,T.a,c.m,E.c,c.n,X.b,Ba.a,E.a,E.d,X.f,I.f,c.l,bo.a,H.a,H.c,H.e,H.f,O.a],pipes:[c.v,c.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;border-style:1px solid transparent;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:78px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{border-style:1px solid transparent;margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:50%;height:53px;padding-top:15px;background-color:#fff}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{border:.5px groove;margin-right:2%}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:1%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;border:1px solid}.appersoninfocard1[_ngcontent-%COMP%]{width:90%;border:1px solid}.interstcard[_ngcontent-%COMP%]{background-color:#e5e5e5;width:100px;height:80px}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.7rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{width:150px}.editbtn[_ngcontent-%COMP%], .editScreen[_ngcontent-%COMP%]{color:#fff;background-color:#0e7cc5;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;border-color:#0e57c5;height:30px}.editScreen[_ngcontent-%COMP%]{width:100px}.qtncrd[_ngcontent-%COMP%]{background-color:#f7f7f7;margin-left:12%;margin-bottom:40px;padding:10px;width:100%;box-shadow:#f7f7f7;block-size:70px;height:80px}.qtnval[_ngcontent-%COMP%]{padding-top:8px;width:100%;color:#696969}.qtncard1[_ngcontent-%COMP%]{height:80px;block-size:80px;background-color:#f7f7f7;margin-left:12%}.qtncard[_ngcontent-%COMP%], .qtncard1[_ngcontent-%COMP%]{width:100%}.qtnhd[_ngcontent-%COMP%]{margin:20px}.applicanthd[_ngcontent-%COMP%]{text-align:left;padding:42px;font-size:medium;font-family:sans-serif;color:rgba(0,0,0,.7411764705882353)}.edit_icon[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px;float:right}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),$m),ep=function(t,e,a,n){return new(a||(a=Promise))(function(o,i){function r(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}l((n=n.apply(t,e||[])).next())})};function ap(t,e){1&t&&s.Sb(0,"mat-spinner",21),2&t&&s.rc("diameter",15)}function np(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",18),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"div",19),s.Rc(2,ap,1,1,"mat-spinner",20),s.Wb(),s.Xb(3,"mat-icon"),s.Tc(4,"close"),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(2),s.rc("ngIf",n.loading)}}function op(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function ip(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function rp(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",23),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,op,2,1,"div",26),s.Rc(11,ip,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"div",32),s.Xb(21,"span",33),s.Tc(22,"Account Branch "),s.Wb(),s.Xb(23,"span",34),s.Tc(24),s.Wb(),s.Wb(),s.Xb(25,"div",32),s.Xb(26,"span",33),s.Tc(27,"Account Type "),s.Wb(),s.Xb(28,"span",34),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",31),s.Xb(32,"div",32),s.Xb(33,"span",33),s.Tc(34,"Business Product Name"),s.Wb(),s.Xb(35,"span",34),s.Tc(36),s.Wb(),s.Wb(),s.Xb(37,"div",32),s.Xb(38,"span",33),s.Tc(39,"Status"),s.Wb(),s.Xb(40,"span",34),s.Tc(41),s.Wb(),s.Wb(),s.Wb(),s.Sb(42,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),s.Eb(3),s.Vc("#",null==n?null:n.loanAccountId,""),s.Eb(7),s.Uc(null==n?null:n.accountBranch),s.Eb(5),s.Uc(null==n?null:n.accountType),s.Eb(7),s.Uc(null==n?null:n.businessProductName),s.Eb(5),s.Uc(null==n?null:n.status)}}function cp(t,e){if(1&t&&(s.Xb(0,"mat-card",13),s.Xb(1,"div",14),s.Xb(2,"span",15),s.Xb(3,"h2",16),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,rp,43,14,"div",17),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Pending for approval (",null==a.BACKLOGArr?null:a.BACKLOGArr.length,"/",a.BACKLOGTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.BACKLOGArr)}}function lp(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function sp(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function bp(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",37),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,lp,2,1,"div",26),s.Rc(11,sp,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"div",32),s.Xb(21,"span",33),s.Tc(22,"Account Branch "),s.Wb(),s.Xb(23,"span",34),s.Tc(24),s.Wb(),s.Wb(),s.Xb(25,"div",32),s.Xb(26,"span",33),s.Tc(27,"Account Type "),s.Wb(),s.Xb(28,"span",34),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",31),s.Xb(32,"div",32),s.Xb(33,"span",33),s.Tc(34,"Business Product Name"),s.Wb(),s.Xb(35,"span",34),s.Tc(36),s.Wb(),s.Wb(),s.Xb(37,"div",32),s.Xb(38,"span",33),s.Tc(39,"Status"),s.Wb(),s.Xb(40,"span",34),s.Tc(41),s.Wb(),s.Wb(),s.Wb(),s.Sb(42,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),s.Eb(3),s.Vc("#",null==n?null:n.loanAccountId,""),s.Eb(7),s.Uc(null==n?null:n.accountBranch),s.Eb(5),s.Uc(null==n?null:n.accountType),s.Eb(7),s.Uc(null==n?null:n.businessProductName),s.Eb(5),s.Uc(null==n?null:n.status)}}function up(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+(null==a?null:a.lastName))}}function dp(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",null==a?null:a.profileImage,s.Jc)}}function mp(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",38),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,up,2,1,"div",26),s.Rc(11,dp,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"div",32),s.Xb(21,"span",33),s.Tc(22,"Account Branch "),s.Wb(),s.Xb(23,"span",34),s.Tc(24),s.Wb(),s.Wb(),s.Xb(25,"div",32),s.Xb(26,"span",33),s.Tc(27,"Account Type "),s.Wb(),s.Xb(28,"span",34),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",31),s.Xb(32,"div",32),s.Xb(33,"span",33),s.Tc(34,"Business Product Name"),s.Wb(),s.Xb(35,"span",34),s.Tc(36),s.Wb(),s.Wb(),s.Xb(37,"div",32),s.Xb(38,"span",33),s.Tc(39,"Status"),s.Wb(),s.Xb(40,"span",34),s.Tc(41),s.Wb(),s.Wb(),s.Wb(),s.Sb(42,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.loanAccountId,""),s.Eb(7),s.Uc(n.accountBranch),s.Eb(5),s.Uc(n.accountType),s.Eb(7),s.Uc(n.businessProductName),s.Eb(5),s.Uc(n.status)}}function pp(t,e){if(1&t&&(s.Xb(0,"mat-card",13),s.Xb(1,"div",14),s.Xb(2,"span",15),s.Xb(3,"h2",16),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,mp,43,14,"div",17),s.Wb(),s.Sb(7,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Approved (",null==a.APPROVEDArr?null:a.APPROVEDArr.length,"/",a.APPROVEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.APPROVEDArr)}}function fp(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function hp(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function gp(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc(2);return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",39),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,fp,2,1,"div",26),s.Rc(11,hp,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"div",32),s.Xb(21,"span",33),s.Tc(22,"Account Branch "),s.Wb(),s.Xb(23,"span",34),s.Tc(24),s.Wb(),s.Wb(),s.Xb(25,"div",32),s.Xb(26,"span",33),s.Tc(27,"Account Type "),s.Wb(),s.Xb(28,"span",34),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",31),s.Xb(32,"div",32),s.Xb(33,"span",33),s.Tc(34,"Business Product Name"),s.Wb(),s.Xb(35,"span",34),s.Tc(36),s.Wb(),s.Wb(),s.Xb(37,"div",32),s.Xb(38,"span",33),s.Tc(39,"Status"),s.Wb(),s.Xb(40,"span",34),s.Tc(41),s.Wb(),s.Wb(),s.Wb(),s.Sb(42,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.loanAccountId,""),s.Eb(7),s.Uc(n.accountBranch),s.Eb(5),s.Uc(n.accountType),s.Eb(7),s.Uc(n.businessProductName),s.Eb(5),s.Uc(n.status)}}function vp(t,e){if(1&t&&(s.Xb(0,"mat-card",13),s.Xb(1,"div",14),s.Xb(2,"span",15),s.Xb(3,"h2",16),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Rc(6,gp,43,14,"div",17),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(4),s.Wc("Rejected (",null==a.REJECTEDArr?null:a.REJECTEDArr.length,"/",a.REJECTEDTotalRecords,")"),s.Eb(2),s.rc("ngForOf",a.REJECTEDArr)}}var yp,Wp,Xp=[{path:""},{path:"task-summary",component:Ii},{path:"kyc-task-summary",component:$i},{path:"cust-on-boarding-task-summary",component:Yi.a},{path:"cust-on-boarding-approver",component:Nc},{path:"corporate-task-summary",component:hb},{path:"loan-account-task-summary",component:(yp=function(){function t(e,a,o,i,r,c,l,b,d){n(this,t),this.dialog=e,this.ls=a,this.taskSumService=o,this.cdr=i,this.apiService=r,this.snack=c,this.sanitizer=l,this.route=b,this.jwtService=d,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="loan",this.isScroll=!0,this.setValue=new s.o,this._searchSubject=new u.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.route.queryParamMap.subscribe(function(t){t.get("searchTerm")?(e.redirectedFromTellerSearch=!0,e.searchText=t.get("searchTerm"),console.log(e.searchText),setTimeout(function(){e.openSearchedApprover()},3e3)):e.getDataOnLoad()}),this.listOfOptions.filter(function(t){t.checked&&(e.radioButtonSelected=t.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchcorporateID(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return ep(this,void 0,void 0,a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"BACKLOG"==t?(this.BACKLOGArr=null==e?void 0:e.loanList,this.BACKLOGTotalPages=null==e?void 0:e.totalPages,this.BACKLOGTotalRecords=null==e?void 0:e.totalNoOfElements):"ONGOING"==t?(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.loanList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.loanList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.taskSumService.getAllLoanDetailOnScroll(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.loanList)}):console.log("No scroll requied")}},{key:"goToLoanAccountSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open(tp,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad()})}},{key:"searchcorporateID",value:function(t){var e;e=this.isNum(t)?"loanAccountId="+this.searchText.trim():"customerName="+this.searchText.trim(),this.isScroll=!1,this.getCustomerData(e)}},{key:"getCustomerData",value:function(t){var e=this;this.loading=!0,console.log("params :: ",t),this.taskSumService.getLoanAccountSearchSummary(t).subscribe(function(t){e.loading=!1,console.log("resp data :: ",t),e.resetSearchData();for(var a=0;a<t.loanList.length;a++){var n=t.loanList[a];console.log("element ::",n),e.searchResponseUpdate(n.status,t.loanList[a])}})}},{key:"resetSearchData",value:function(){this.BACKLOGArr=[],this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getcorporateIDData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(console.log("resp data :: ",t),e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.BACKLOGArr=[],this.BACKLOGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.ONGOINGPage=0,this.BACKLOGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.ONGOINGTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return ep(this,void 0,void 0,a().mark(function n(){var o,i,r,c;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"BACKLOG"==t?(o=Qt.unionBy(this.BACKLOGArr,e,"loanAccountId"),this.BACKLOGArr=o):"ONGOING"==t?(i=Qt.unionBy(this.ONGOINGArr,e,"loanAccountId"),this.ONGOINGArr=i):"APPROVED"==t?(r=Qt.unionBy(this.APPROVEDArr,e,"loanAccountId"),this.APPROVEDArr=r):"REJECTED"==t&&(c=Qt.unionBy(this.REJECTEDArr,e,"loanAccountId"),this.REJECTEDArr=c),this.cdr.markForCheck();case 2:case"end":return a.stop()}},n,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.goToLoanAccountSummary(t[0][0],t[0][0].custStatus)}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}(),yp.\u0275fac=function(t){return new(t||yp)(s.Rb(p.b),s.Rb(m.a),s.Rb(g.a),s.Rb(s.h),s.Rb(b.b),s.Rb(W.a),s.Rb(so.b),s.Rb(Ze.a),s.Rb(lo.a))},yp.\u0275cmp=s.Lb({type:yp,selectors:[["app-loan-account-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:31,vars:11,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"heading"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"topSection"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Loan Account Id",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","colorChange",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[3,"diameter",4,"ngIf"],[3,"diameter"],[1,"colorChange",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"loanIdText"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45",1,"pr2"],[1,"col3"],[1,"labelValue","col4"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","book2"],[1,"fill-color-blue","bookMark","book3"],[1,"fill-color-blue","bookMark","book4"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"span",4),s.Tc(7," Loan Account Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-label"),s.Tc(11,"Search"),s.Wb(),s.Xb(12,"input",7),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Xb(13,"mat-icon",8),s.Tc(14,"search"),s.Wb(),s.Rc(15,np,5,1,"button",9),s.Xb(16,"mat-hint"),s.Tc(17,"Search Loan Account ID"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",10),s.Xb(19,"div",11),s.Rc(20,cp,8,3,"mat-card",12),s.Xb(21,"mat-card",13),s.Xb(22,"div",14),s.Xb(23,"span",15),s.Xb(24,"h2",16),s.Tc(25),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div"),s.Rc(27,bp,43,14,"div",17),s.Wb(),s.Wb(),s.Rc(28,pp,8,3,"mat-card",12),s.Rc(29,vp,7,3,"mat-card",12),s.Wb(),s.Sb(30,"br"),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(11),s.rc("ngModel",e.searchText),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(5),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(5),s.Wc("Ongoing (",null==e.ONGOINGArr?null:e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),s.Eb(2),s.rc("ngForOf",e.ONGOINGArr),s.Eb(1),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),s.Eb(1),s.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType))},directives:[oi.a,X.e,X.d,X.f,X.b,I.c,I.g,x.b,v.c,v.r,v.u,T.a,I.i,c.n,I.f,E.a,c.m,D.b,I.j,R.b,E.e,E.c,E.h,E.g,v.A,v.s,v.t],pipes:[Si.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#0f0f0f}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.topSection[_ngcontent-%COMP%]{padding-right:5.35%;margin-top:2%}.heading[_ngcontent-%COMP%]{padding-left:3.7%;margin-top:3%}.headingss[_ngcontent-%COMP%]{font-size:17px}.colorChange[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:38vh}.book2[_ngcontent-%COMP%]{color:#ff8c00}.book3[_ngcontent-%COMP%]{color:#1fbfa9}.book4[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px;overflow-wrap:anywhere}.loanIdText[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:12px}.imgData[_ngcontent-%COMP%]{width:150px;height:50px;border-radius:50%}.labelValue[_ngcontent-%COMP%]{overflow-wrap:anywhere}.pr2[_ngcontent-%COMP%]{padding-right:2%}"]}),yp)},{path:"corporate-approver",component:zs},{path:"card-account-task-summary",component:rd},{path:"card-account-approver",component:Bu},{path:"loan-account-task-summary/loan-account-approver",component:pd}],Tp=r("rJgo"),Ip=r("hzfI"),Ep=r("5QHs"),xp=r("KeVr"),Cp=r("zMWy"),Ap=r("mnDI"),Op=r("WRcG"),Dp=r("KVVp"),Rp=r("Svv8"),Sp=r("Gp04"),kp=((Wp=i(function t(){n(this,t)})).\u0275mod=s.Pb({type:Wp}),Wp.\u0275inj=s.Ob({factory:function(t){return new(t||Wp)},providers:[{provide:p.g,useValue:{}},{provide:p.a,useValue:[]}],imports:[[c.c,v.l,v.x,Tp.c,x.c,l.a,T.b,E.f,xp.a,Ip.c,Ba.b,I.e,Ap.a,A.f,te.c,R.a,oi.b,Ep.b,O.b,h.b,Cp.a,Ze.l.forChild(Xp),Op.OnboardingCorporateModule,Dp.OthersModule,Sp.a]]}),Wp);s.Kc(Rp.a,[X.e,X.d,T.a,E.a,Ur.a,X.f,D.b],[])}}])}();