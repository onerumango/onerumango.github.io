(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{X7Rc:function(t,e,a){"use strict";a.r(e),a.d(e,"TasksModule",function(){return lm});var o=a("SVse"),n=a("u9T3"),i=a("8Y7J"),r=a("nm5K"),c=a("XNiG"),s=a("Kj3r"),l=a("tZUg"),b=a("iELJ"),d=a("qMRc"),u=a("Tczp"),m=a("6rwl"),p=a("s7LF"),h=a("wd/R"),f=a("zHaW"),g=a("VDRc"),v=a("Tj54"),W=a("Q2Ze"),X=a("PDjf"),y=a("e6WT"),T=a("ZTz/"),I=a("TN/R"),x=a("jMqV"),C=a("Dxy4"),E=a("pu8Q"),O=a("UhP/");function D(t,e){1&t&&i.Sb(0,"mat-spinner",34),2&t&&i.rc("diameter",80)}function A(t,e){if(1&t&&(i.Xb(0,"mat-option",35),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function R(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," Account Type is Required! "),i.Wb())}function S(t,e){if(1&t&&(i.Xb(0,"mat-option",35),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.branchName),i.Eb(1),i.Vc(" ",t.branchName," ")}}function N(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," Account Branch is Required! "),i.Wb())}function P(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," Account Currency is Required! "),i.Wb())}function k(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," Business Product Name is Required! "),i.Wb())}function F(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," Product Description is Required! "),i.Wb())}function L(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," Application Date is Required! "),i.Wb())}function _(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," Please enter valid Application Date! "),i.Wb())}function w(t,e){1&t&&(i.Xb(0,"mat-error",36),i.Tc(1," SWIFT Code is Required! "),i.Wb())}function U(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," SWIFT Code should be a combination of minimum of 8 alphanumeric characters"),i.Wb())}function M(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",5),i.Xb(1,"mat-hint",6),i.Tc(2,"SWIFT Code"),i.Wb(),i.Xb(3,"mat-card",7),i.Xb(4,"input",37),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress1(e)}),i.Wb(),i.Wb(),i.Rc(5,w,2,0,"mat-error",13),i.Rc(6,U,2,0,"mat-error",38),i.Wb()}if(2&t){const t=i.jc();i.Eb(5),i.rc("ngIf",t.accountUpdateForm.get("swiftCode").hasError("required")&&t.accountUpdateForm.get("swiftCode").touched),i.Eb(1),i.rc("ngIf",t.accountUpdateForm.get("swiftCode").value&&!t.accountUpdateForm.get("swiftCode").hasError("required"))}}let G=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.data=t,this.dialogRef=e,this.appApiService=a,this.formBuilder=o,this.api=n,this.cdr=i,this.snack=r,this.apiService=c,this.ls=s,this.minDate=new Date,this.maxDate=new Date,this.validDate=new Date,this.invalidDate=!1,this.validDate.setDate(this.validDate.getDate())}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getAccountBranchDetails(),this.getAccountType("account_type"),this.data&&this.data.accountId?this.buildAccountUpdateForm(this.data):this.buildAccountUpdateForm()}buildAccountUpdateForm(t){console.log(t);let e=t?h(t.applicationDate).format():"";this.flag=!(!t||!t.swiftCodeEnable),t&&null!=t.fundTheAccount&&(this.disableFundTheAccount=!0),t.applicationDate<h(new Date).format("YYYY-MM-DD")&&(this.invalidDate=!0),this.accountUpdateForm=this.formBuilder.group({cifNumber:[t&&t.customerId?t.customerId:"",[p.z.required,p.z.minLength(5)]],customerName:[t?t.customerName:""],accountId:[this.accountId],accountType:[t?t.accountType:"",p.z.required],businessProductName:[t?t.businessProductName:"",p.z.required],productImage:[t?t.productImage:""],productDescription:[t?t.productDescription:"",p.z.required],accountBranch:[t?t.accountBranch:"",p.z.required],accountCurrency:[t?t.accountCurrency:"",p.z.required],applicationDate:[t?e:"",p.z.required],fundTheAccount:[t?t.fundTheAccount:"0"],fundBy:[!!t&&t.fundBy],amount:[t?t.amount:"0"],overDraftRequested:[!!t&&t.overDraftRequested],status:[t?t.status:""],swiftCodeEnable:[!!t&&t.swiftCodeEnable],swiftCode:[t?t.swiftCode:"",p.z.pattern("(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+){8,8}$")]})}onSubmit(){let t={accountId:this.accountId,accountType:this.accountUpdateForm.value.accountType,businessProductName:this.accountUpdateForm.value.businessProductName,customerId:this.accountUpdateForm.value.customerId,productImage:this.accountUpdateForm.value.productImage,productDescription:this.accountUpdateForm.value.productDescription,accountBranch:this.accountUpdateForm.value.accountBranch,accountCurrency:this.accountUpdateForm.value.accountCurrency,applicationDate:this.convertDate(this.accountUpdateForm.value.applicationDate),fundTheAccount:this.accountUpdateForm.value.fundTheAccount,fundBy:this.accountUpdateForm.value.fundBy,amount:this.accountUpdateForm.value.amount,overDraftRequested:this.accountUpdateForm.value.overDraftRequested,status:this.accountUpdateForm.value.status,swiftCode:this.accountUpdateForm.value.swiftCode,swiftCodeEnable:this.accountUpdateForm.value.swiftCodeEnable,customerName:this.accountUpdateForm.value.customerName};0!=this.isCifValid?this.apiService.saveProductAccountInfo(t).subscribe(t=>{200===t||null!==t?(this.snack.open("Account Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})):500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))}):this.snack.open("Kindly Enter Valid CifNumber to proceed!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}fetchByCif(t){this.showSpinn=!0,this.apiService.fetchByCif(t).subscribe(e=>{if("APPROVED"!=e.customerInfoList[0].custStatus&&(this.isCifValid=!1,this.snack.open("CIF Number is not Approved :"+t,"",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),this.accountUpdateForm.controls.cifNumber.setValue(t),this.currencyData=this.arrayAccountBranch.find(t=>t.branchName==this.branchName),this.accountUpdateForm.get("accountBranch").setValue(this.branchName),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy),this.accountUpdateForm.get("amount").setValue(0),this.accountUpdateForm.get("swiftCode").setValue(null),this.showSpinn=!1,!e)return this.isCifValid=!1,void this.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});"APPROVED"==e.customerInfoList[0].custStatus&&(this.isCifValid=!0),null!=this.accountUpdateForm.value.swiftCode&&null!=this.accountUpdateForm.value.swiftCodeEnable||(console.log(this.accountUpdateForm.value.swiftCode),this.flag=!1),"APPROVED"==e.customerInfoList[0].custStatus&&(e.customerInfoList[0].middleName?this.accountUpdateForm.get("customerName").setValue(e.customerInfoList[0].firstName+" "+e.customerInfoList[0].middleName+" "+e.customerInfoList[0].lastName):this.accountUpdateForm.get("customerName").setValue(e.customerInfoList[0].firstName+" "+e.customerInfoList[0].lastName),this.cifNumberPrimary=t),this.cdr.markForCheck()})}onToggle(t){1==t.checked?this.flag=!0:(this.flag=!1,this.accountUpdateForm.controls.swiftCode.reset(),this.cdr.detectChanges(),this.cdr.markForCheck())}onKeyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t.target.value).subscribe(t=>{console.log(t),t&&(this.listOfCustByCif=t.customerInfoList)})},1e3):this.listOfCustByCif=[]}_keyPress(t){console.log("gghhhhhhhhhhhhhhhh");let e=String.fromCharCode(t.charCode);/^[A-Za-z\s]*$/.test(e)||t.preventDefault()}_keyPress1(t){let e=String.fromCharCode(t.charCode);/[a-zA-Z0-9]/.test(e)||t.preventDefault()}keyUpevent(t){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1}getAccountType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getAccountBranchDetails(){this.api.getAccountBranch().subscribe(t=>{this.arrayAccountBranch=t,this.currencyData=this.arrayAccountBranch.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy)})}onChangeBranch(t){this.currencyData=this.arrayAccountBranch.find(e=>e.branchName==t.value),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}convertDate(t){let e=h(t).format("YYYY-MMM-DD");if(e)return e}close(){this.dialogRef.close({status:"ONGOING"})}addevent(t){this.invalidDate=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(d.a),i.Rb(p.f),i.Rb(r.b),i.Rb(i.h),i.Rb(f.a),i.Rb(d.a),i.Rb(l.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-details-update"]],decls:94,vars:17,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"keypress","change","keyup"],["class","spinner",3,"diameter",4,"ngIf"],["matInput","","readonly","","required","","formControlName","customerName","name","customerName","placeholder","Customer Name",3,"keypress","keyup"],["name","accountType","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","account_branch","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","currency","placeholder","Account Currency","formControlName","accountCurrency",3,"readonly"],["matInput","","name","product_image","formControlName","productImage","placeholder","Product Image","value",""],["matInput","","name","business","formControlName","businessProductName","placeholder","Business Product Name"],["matInput","","name","business","placeholder","Product Description","formControlName","productDescription"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","applicationDate","placeholder","Application Date",3,"matDatepicker","min","dateChange"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row"],["formControlName","swiftCodeEnable",3,"change"],[1,"pb-1"],[1,"ml-12"],["formControlName","fundBy"],["formControlName","overDraftRequested"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"spinner",3,"diameter"],[3,"value"],[1,"errorClass"],["minlength","8","maxlength","11","matInput","","name","swift_code","required","","formControlName","swiftCode","placeholder","SWIFT Code","value","",3,"keypress"],[4,"ngIf"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Account Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",3),i.Xb(7,"div",4),i.Xb(8,"div",5),i.Xb(9,"mat-hint",6),i.Tc(10,"CIF Number"),i.Wb(),i.Xb(11,"mat-card",7),i.Xb(12,"input",8),i.fc("keypress",function(t){return e._keyPress(t)})("change",function(){return e.fetchByCif(e.accountUpdateForm.get("cifNumber").value)})("keyup",function(t){return e.onKeyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Rc(13,D,1,1,"mat-spinner",9),i.Xb(14,"div",5),i.Xb(15,"mat-hint",6),i.Tc(16,"Customer Name"),i.Wb(),i.Xb(17,"mat-card",7),i.Xb(18,"input",10),i.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(t){return e.keyUpevent(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",5),i.Xb(20,"mat-hint",6),i.Tc(21,"Account Type*"),i.Wb(),i.Xb(22,"mat-card",7),i.Xb(23,"mat-select",11),i.Rc(24,A,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(25,R,2,0,"mat-error",13),i.Wb(),i.Xb(26,"div",5),i.Xb(27,"mat-hint",6),i.Tc(28,"Account Branch*"),i.Wb(),i.Xb(29,"mat-card",7),i.Xb(30,"mat-select",14),i.fc("selectionChange",function(t){return e.onChangeBranch(t)}),i.Rc(31,S,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(32,N,2,0,"mat-error",13),i.Wb(),i.Xb(33,"div",5),i.Xb(34,"mat-hint",6),i.Tc(35,"Account Currency*"),i.Wb(),i.Xb(36,"mat-card",7),i.Sb(37,"input",15),i.Wb(),i.Rc(38,P,2,0,"mat-error",13),i.Wb(),i.Xb(39,"div",5),i.Xb(40,"mat-hint",6),i.Tc(41,"Product Image"),i.Wb(),i.Xb(42,"mat-card",7),i.Sb(43,"input",16),i.Wb(),i.Wb(),i.Xb(44,"div",5),i.Xb(45,"mat-hint",6),i.Tc(46,"Business Product Name*"),i.Wb(),i.Xb(47,"mat-card",7),i.Sb(48,"input",17),i.Wb(),i.Rc(49,k,2,0,"mat-error",13),i.Wb(),i.Xb(50,"div",5),i.Xb(51,"mat-hint",6),i.Tc(52,"Product Description*"),i.Wb(),i.Xb(53,"mat-card",7),i.Sb(54,"input",18),i.Wb(),i.Rc(55,F,2,0,"mat-error",13),i.Wb(),i.Xb(56,"div",5),i.Xb(57,"mat-hint",6),i.Tc(58,"Application Date*"),i.Wb(),i.Xb(59,"mat-card",7),i.Xb(60,"div",19),i.Xb(61,"input",20),i.fc("dateChange",function(t){return e.addevent(t)}),i.Wb(),i.Wb(),i.Xb(62,"div",21),i.Sb(63,"mat-datepicker-toggle",22),i.Wb(),i.Wb(),i.Rc(64,L,2,0,"mat-error",13),i.Rc(65,_,2,0,"mat-error",13),i.Sb(66,"mat-datepicker",null,23),i.Wb(),i.Wb(),i.Xb(68,"div"),i.Xb(69,"div"),i.Rc(70,M,7,2,"div",24),i.Wb(),i.Xb(71,"div",25),i.Xb(72,"div"),i.Tc(73," Want to add SWIFT Code ? "),i.Xb(74,"mat-slide-toggle",26),i.fc("change",function(t){return e.onToggle(t)}),i.Wb(),i.Wb(),i.Sb(75,"br"),i.Wb(),i.Xb(76,"div"),i.Xb(77,"div",27),i.Xb(78,"label"),i.Tc(79,"Initial Funding?"),i.Wb(),i.Sb(80,"div",28),i.Sb(81,"mat-slide-toggle",29),i.Wb(),i.Wb(),i.Xb(82,"div"),i.Xb(83,"div",27),i.Xb(84,"label"),i.Tc(85,"Overdraft Requested?"),i.Wb(),i.Sb(86,"div",28),i.Sb(87,"mat-slide-toggle",30),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(88,"div",31),i.Xb(89,"button",32),i.fc("click",function(){return e.onSubmit()}),i.Tc(90,"Save"),i.Wb(),i.Tc(91," \xa0\xa0\xa0 "),i.Xb(92,"button",33),i.fc("click",function(){return e.close()}),i.Tc(93," Cancel "),i.Wb(),i.Wb()),2&t){const t=i.Dc(67);i.Eb(6),i.rc("formGroup",e.accountUpdateForm),i.Eb(7),i.rc("ngIf",e.showSpinn),i.Eb(11),i.rc("ngForOf",e.arrayAccountType),i.Eb(1),i.rc("ngIf",e.accountUpdateForm.get("accountType").hasError("required")&&e.accountUpdateForm.get("accountType").touched),i.Eb(6),i.rc("ngForOf",e.arrayAccountBranch),i.Eb(1),i.rc("ngIf",e.accountUpdateForm.get("accountBranch").hasError("required")&&e.accountUpdateForm.get("accountBranch").touched),i.Eb(5),i.rc("readonly",!0),i.Eb(1),i.rc("ngIf",e.accountUpdateForm.get("accountCurrency").hasError("required")&&e.accountUpdateForm.get("accountCurrency").touched),i.Eb(11),i.rc("ngIf",e.accountUpdateForm.get("businessProductName").hasError("required")&&e.accountUpdateForm.get("businessProductName").touched),i.Eb(6),i.rc("ngIf",e.accountUpdateForm.get("productDescription").hasError("required")&&e.accountUpdateForm.get("productDescription").touched),i.Eb(6),i.rc("matDatepicker",t)("min",e.validDate),i.Eb(2),i.rc("for",t),i.Eb(1),i.rc("ngIf",e.accountUpdateForm.get("applicationDate").hasError("required")&&e.accountUpdateForm.get("applicationDate").touched),i.Eb(1),i.rc("ngIf",e.invalidDate),i.Eb(5),i.rc("ngIf",e.flag),i.Eb(19),i.rc("disabled",e.accountUpdateForm.invalid)}},directives:[g.e,g.f,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,y.b,p.c,p.r,p.i,o.n,p.y,T.a,o.m,I.e,I.g,W.j,I.d,x.a,C.b,E.b,O.n,W.b,p.n,p.m],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var V=a("3kSh"),B=a("3sEA"),j=a("o4Yh"),z=a("f44v"),q=a("2Goh");function K(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function J(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Ownership is Required! "),i.Wb())}function $(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"mat-form-field",20),i.Xb(2,"mat-label"),i.Tc(3,"Number of Applicants*"),i.Wb(),i.Xb(4,"mat-select",21),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).onChangeApplicantNo(e)}),i.Xb(5,"mat-option",18),i.Tc(6,"1"),i.Wb(),i.Xb(7,"mat-option",18),i.Tc(8,"2"),i.Wb(),i.Xb(9,"mat-option",18),i.Tc(10,"3"),i.Wb(),i.Xb(11,"mat-option",18),i.Tc(12,"4"),i.Wb(),i.Xb(13,"mat-option",18),i.Tc(14,"5"),i.Wb(),i.Wb(),i.Wb(),i.Ub()}2&t&&(i.Eb(5),i.rc("value",1),i.Eb(2),i.rc("value",2),i.Eb(2),i.rc("value",3),i.Eb(2),i.rc("value",4),i.Eb(2),i.rc("value",5))}function H(t,e){if(1&t&&(i.Xb(0,"mat-chip",65),i.Tc(1),i.Wb()),2&t){const t=i.jc().$implicit,e=i.jc(2);i.rc("color","warn")("selected",t.value.primaryCustomer),i.Eb(1),i.Uc(e.account.value.primaryCustomer?"primary":"")}}function Y(t,e){1&t&&i.Tb(0)}const Z=function(t){return{$implicit:t}};function Q(t,e){if(1&t&&(i.Vb(0),i.Rc(1,Y,1,0,"ng-container",66),i.Ub()),2&t){const t=i.jc().$implicit,e=i.jc(2);i.Eb(1),i.rc("ngTemplateOutlet",e.detailApplicant)("ngTemplateOutletContext",i.xc(2,Z,t))}}function tt(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function et(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Prefix is Required! "),i.Wb())}function at(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," First Name is Required! "),i.Wb())}function ot(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Last Name is Required! "),i.Wb())}function nt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Date of Birth is Required! "),i.Wb())}function it(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function rt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Gender is Required! "),i.Wb())}function ct(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function st(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Resident Status is Required! "),i.Wb())}function lt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Birth Place is Required! "),i.Wb())}function bt(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function dt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Country of Residence is Required! "),i.Wb())}function ut(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function mt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Citizenship By is Required! "),i.Wb())}function pt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Occupation Type is Required! "),i.Wb())}function ht(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ft(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," ID Type is Required! "),i.Wb())}function gt(t,e){1&t&&(i.Xb(0,"div"),i.Tc(1,"Unique ID Number is Required!"),i.Wb())}function vt(t,e){1&t&&(i.Xb(0,"div"),i.Tc(1,"This is a numeric field "),i.Wb())}function Wt(t,e){if(1&t&&(i.Xb(0,"mat-error",19),i.Rc(1,gt,2,0,"div",33),i.Rc(2,vt,2,0,"div",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("ngIf",t.get("idNumber").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("idNumber").hasError("pattern"))}}function Xt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," ID Type Valid Till is Required! "),i.Wb())}function yt(t,e){if(1&t&&(i.Xb(0,"div",39),i.Xb(1,"mat-hint",10),i.Tc(2,"ID Type Valid Till*"),i.Wb(),i.Xb(3,"mat-card",71),i.Xb(4,"div",72),i.Sb(5,"input",73),i.Wb(),i.Xb(6,"div",74),i.Sb(7,"mat-datepicker-toggle",46),i.Wb(),i.Wb(),i.Rc(8,Xt,2,0,"mat-error",13),i.Sb(9,"mat-datepicker",null,75),i.Wb()),2&t){const t=i.Dc(10),e=i.jc().$implicit,a=i.jc(3);i.Eb(5),i.rc("matDatepicker",t)("min",a.validDate),i.Eb(2),i.rc("for",t),i.Eb(1),i.rc("ngIf",e.get("expiryDate").hasError("required"))}}function Tt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",67),i.Xb(1,"div",39),i.Xb(2,"mat-hint",10),i.Tc(3,"ID Type*"),i.Wb(),i.Xb(4,"mat-card",40),i.Xb(5,"mat-select",68),i.fc("selectionChange",function(){i.Hc(t);const a=e.$implicit;return i.jc(3).changeIdType(a.get("idType").value)}),i.Rc(6,ht,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(7,ft,2,0,"mat-error",13),i.Wb(),i.Xb(8,"div",39),i.Xb(9,"mat-hint",10),i.Tc(10,"Unique ID Number *"),i.Wb(),i.Xb(11,"mat-card",40),i.Sb(12,"input",69),i.Wb(),i.Rc(13,Wt,3,2,"mat-error",13),i.Wb(),i.Rc(14,yt,11,4,"div",70),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc(3);i.rc("formGroupName",a),i.Eb(6),i.rc("ngForOf",o.arrayDocumentType),i.Eb(1),i.rc("ngIf",t.get("idType").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("idNumber").touched&&!t.get("idNumber").valid),i.Eb(1),i.rc("ngIf","Passport"==t.get("idType").value||"DL"==t.get("idType").value)}}function It(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Address 1 is Required! "),i.Wb())}function xt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Please Enter Valid Address "),i.Wb())}function Ct(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Address 2 is Required! "),i.Wb())}function Et(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Please Enter Valid Address "),i.Wb())}function Ot(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Dt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Residence Type is Required! "),i.Wb())}function At(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Rt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Country is Required! "),i.Wb())}function St(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName,"")}}function Nt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," State is Required! "),i.Wb())}function Pt(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc("",t," ")}}function kt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," City is Required! "),i.Wb())}function Ft(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Please enter valid Zip Code!(5-10 digits) "),i.Wb())}function Lt(t,e){1&t&&(i.Xb(0,"h5",85),i.Tc(1,"Please enter valid Zip Code! "),i.Wb())}function _t(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",76),i.Xb(1,"div",77),i.Xb(2,"div",39),i.Xb(3,"mat-hint",10),i.Tc(4,"Address Line 1*"),i.Wb(),i.Xb(5,"mat-card",40),i.Sb(6,"textarea",78),i.Wb(),i.Rc(7,It,2,0,"mat-error",13),i.Rc(8,xt,2,0,"mat-error",13),i.Wb(),i.Xb(9,"div",39),i.Xb(10,"mat-hint",10),i.Tc(11,"Address 2*"),i.Wb(),i.Xb(12,"mat-card",40),i.Sb(13,"textarea",79),i.Wb(),i.Rc(14,Ct,2,0,"mat-error",13),i.Rc(15,Et,2,0,"mat-error",13),i.Wb(),i.Xb(16,"div",39),i.Xb(17,"mat-hint",10),i.Tc(18,"Residence Type*"),i.Wb(),i.Xb(19,"mat-card",40),i.Xb(20,"mat-select"),i.Rc(21,Ot,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(22,Dt,2,0,"mat-error",13),i.Wb(),i.Xb(23,"div",39),i.Xb(24,"mat-hint",10),i.Tc(25,"Country*"),i.Wb(),i.Xb(26,"mat-card",40),i.Xb(27,"mat-select",80),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(3).getStateName(e.value)}),i.Rc(28,At,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(29,Rt,2,0,"mat-error",13),i.Wb(),i.Xb(30,"div",39),i.Xb(31,"mat-hint",10),i.Tc(32,"State*"),i.Wb(),i.Xb(33,"mat-card",40),i.Xb(34,"mat-select",81),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(3).getCityName(e.value)}),i.Rc(35,St,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(36,Nt,2,0,"mat-error",13),i.Wb(),i.Xb(37,"div",39),i.Xb(38,"mat-hint",10),i.Tc(39,"City*"),i.Wb(),i.Xb(40,"mat-card",40),i.Xb(41,"mat-select",82),i.Rc(42,Pt,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(43,kt,2,0,"mat-error",13),i.Wb(),i.Xb(44,"div",39),i.Xb(45,"mat-hint",10),i.Tc(46,"Zip Code*"),i.Wb(),i.Xb(47,"mat-card",40),i.Xb(48,"input",83),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).onKeyPress(e)})("keyup",function(e){return i.Hc(t),i.jc(3).isAllSameDigit(e)}),i.Wb(),i.Wb(),i.Rc(49,Ft,2,0,"mat-error",13),i.Rc(50,Lt,2,0,"h5",84),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc(3);i.rc("formGroupName",a),i.Eb(7),i.rc("ngIf",t.get("address1").touched&&t.get("address1").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("address2").touched&&t.get("address1").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("address2").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("address2").touched&&t.get("address2").hasError("pattern")),i.Eb(6),i.rc("ngForOf",o.arrayAddressType),i.Eb(1),i.rc("ngIf",t.get("addressType").hasError("required")),i.Eb(6),i.rc("ngForOf",o.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("country").hasError("required")),i.Eb(6),i.rc("ngForOf",o.arrayState),i.Eb(1),i.rc("ngIf",t.get("state").hasError("required")),i.Eb(6),i.rc("ngForOf",o.arrayCity),i.Eb(1),i.rc("ngIf",t.get("city").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("zipCode").hasError("required")&&!t.controls.zipCode.valid&&(null==t.controls.zipCode?null:t.controls.zipCode.touched)),i.Eb(1),i.rc("ngIf",o.isAllSameDigitVal)}}function wt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Please, Enter 10 digit Mobile Number! "),i.Wb())}function Ut(t,e){1&t&&(i.Xb(0,"mat-error",86),i.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),i.Wb())}function Mt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Landline Number is Required! "),i.Wb())}function Gt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Please, Enter 10 digit Landline Number! "),i.Wb())}function Vt(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," E-mail is Required! "),i.Wb())}function Bt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",22),i.Xb(1,"mat-accordion",23),i.Xb(2,"mat-expansion-panel"),i.Xb(3,"mat-expansion-panel-header"),i.Xb(4,"mat-panel-title"),i.Xb(5,"mat-icon",24),i.Tc(6,"check_circle"),i.Wb(),i.Xb(7,"span",25),i.Tc(8),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"mat-card"),i.Xb(10,"mat-card-header"),i.Xb(11,"div",26),i.Sb(12,"app-avatar-photo",27),i.Wb(),i.Xb(13,"mat-card-title"),i.Xb(14,"div",28),i.Xb(15,"h6",29),i.Tc(16),i.Wb(),i.Sb(17,"span",30),i.Rc(18,H,2,3,"mat-chip",31),i.Wb(),i.Wb(),i.Xb(19,"mat-card-subtitle"),i.Xb(20,"span",32),i.Tc(21),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"mat-card-container"),i.Rc(23,Q,2,4,"ng-container",33),i.Wb(),i.Xb(24,"div"),i.Xb(25,"div",34),i.Xb(26,"div",35),i.Xb(27,"label"),i.Tc(28,"Is the applicant an existing customer?"),i.Wb(),i.Tc(29," \xa0\xa0 "),i.Sb(30,"mat-slide-toggle",36),i.Wb(),i.Xb(31,"div",35),i.Xb(32,"label"),i.Tc(33,"Is the applicant a primary customer?"),i.Wb(),i.Tc(34," \xa0\xa0 "),i.Sb(35,"mat-slide-toggle",37),i.Sb(36,"div",38),i.Wb(),i.Xb(37,"div",39),i.Xb(38,"mat-hint",10),i.Tc(39,"Customer Prefix*"),i.Wb(),i.Xb(40,"mat-card",40),i.Xb(41,"mat-select",41),i.Rc(42,tt,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(43,et,2,0,"mat-error",13),i.Wb(),i.Xb(44,"div",39),i.Xb(45,"mat-hint",10),i.Tc(46,"First Name*"),i.Wb(),i.Xb(47,"mat-card",40),i.Xb(48,"input",42),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(49,at,2,0,"mat-error",13),i.Wb(),i.Xb(50,"div",39),i.Xb(51,"mat-hint",10),i.Tc(52,"Middle Name"),i.Wb(),i.Xb(53,"mat-card",40),i.Xb(54,"input",43),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(55,"div",39),i.Xb(56,"mat-hint",10),i.Tc(57,"Last Name*"),i.Wb(),i.Xb(58,"mat-card",40),i.Xb(59,"input",44),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(60,ot,2,0,"mat-error",13),i.Wb(),i.Xb(61,"div",39),i.Xb(62,"mat-hint",10),i.Tc(63,"Date of Birth*"),i.Wb(),i.Xb(64,"mat-card",40),i.Sb(65,"input",45),i.Sb(66,"mat-datepicker-toggle",46),i.Wb(),i.Rc(67,nt,2,0,"mat-error",13),i.Sb(68,"mat-datepicker",null,47),i.Wb(),i.Xb(70,"div",39),i.Xb(71,"mat-hint",10),i.Tc(72,"Gender*"),i.Wb(),i.Xb(73,"mat-card",40),i.Xb(74,"mat-select",48),i.Rc(75,it,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(76,rt,2,0,"mat-error",13),i.Wb(),i.Xb(77,"div",39),i.Xb(78,"mat-hint",10),i.Tc(79,"Resident Status*"),i.Wb(),i.Xb(80,"mat-card",40),i.Xb(81,"mat-select",49),i.Rc(82,ct,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(83,st,2,0,"mat-error",13),i.Wb(),i.Xb(84,"div",39),i.Xb(85,"mat-hint",10),i.Tc(86,"Birth Place*"),i.Wb(),i.Xb(87,"mat-card",40),i.Sb(88,"input",50),i.Wb(),i.Rc(89,lt,2,0,"mat-error",13),i.Wb(),i.Xb(90,"div",39),i.Xb(91,"mat-hint",10),i.Tc(92,"Country of Residence*"),i.Wb(),i.Xb(93,"mat-card",40),i.Xb(94,"mat-select",51),i.Rc(95,bt,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(96,dt,2,0,"mat-error",13),i.Wb(),i.Xb(97,"div",39),i.Xb(98,"mat-hint",10),i.Tc(99,"Citizenship By*"),i.Wb(),i.Xb(100,"mat-card",40),i.Xb(101,"mat-select",52),i.Rc(102,ut,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(103,mt,2,0,"mat-error",13),i.Wb(),i.Xb(104,"div",39),i.Xb(105,"mat-hint",10),i.Tc(106,"Occupation Type*"),i.Wb(),i.Xb(107,"mat-card",40),i.Sb(108,"input",53),i.Wb(),i.Rc(109,pt,2,0,"mat-error",13),i.Wb(),i.Xb(110,"div",54),i.Rc(111,Tt,15,5,"div",55),i.Wb(),i.Wb(),i.Xb(112,"mat-accordion"),i.Xb(113,"mat-expansion-panel",56),i.Xb(114,"mat-expansion-panel-header"),i.Xb(115,"mat-panel-title"),i.Tc(116,"Contact Information "),i.Wb(),i.Wb(),i.Xb(117,"div",57),i.Rc(118,_t,51,15,"div",58),i.Wb(),i.Wb(),i.Wb(),i.Xb(119,"mat-accordion"),i.Xb(120,"mat-expansion-panel",56),i.Xb(121,"mat-expansion-panel-header"),i.Xb(122,"mat-panel-title"),i.Tc(123,"Contact Information "),i.Wb(),i.Wb(),i.Xb(124,"div",34),i.Xb(125,"div",39),i.Xb(126,"mat-hint",10),i.Tc(127,"Mobile Number*"),i.Wb(),i.Xb(128,"mat-card",40),i.Xb(129,"input",59),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).onKeyPress(e)}),i.Wb(),i.Wb(),i.Rc(130,wt,2,0,"mat-error",13),i.Rc(131,Ut,2,0,"mat-error",60),i.Wb(),i.Xb(132,"div",39),i.Xb(133,"mat-hint",10),i.Tc(134,"Landline Number"),i.Wb(),i.Xb(135,"mat-card",40),i.Xb(136,"input",61),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).onKeyPress(e)}),i.Wb(),i.Wb(),i.Rc(137,Mt,2,0,"mat-error",13),i.Rc(138,Gt,2,0,"mat-error",13),i.Wb(),i.Xb(139,"div",39),i.Xb(140,"mat-hint",10),i.Tc(141,"E-mail*"),i.Wb(),i.Xb(142,"mat-card",40),i.Sb(143,"input",62),i.Wb(),i.Rc(144,Vt,2,0,"mat-error",13),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(145,"div",63),i.Xb(146,"button",64),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc(2).onSubmit(a.value,o)}),i.Tc(147," UPDATE APPLICANT "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.Dc(69),n=i.jc(2);i.rc("item",n.account)("formGroupName",a),i.Eb(8),i.Vc("Applicant ",a+1,""),i.Eb(4),i.rc("name",t.value.firstName+" "+t.value.lastName),i.Eb(4),i.Uc(t.value.firstName+" "+t.value.lastName),i.Eb(2),i.rc("ngIf",t.primaryCustomer),i.Eb(3),i.Vc("CIF ",null!=t.value.cifNumber?"#"+t.value.cifNumber:"-n/a",""),i.Eb(2),i.rc("ngIf",(null==n.selectedApplicant?null:n.selectedApplicant._id)===t._id),i.Eb(19),i.rc("ngForOf",n.arrayPrefix),i.Eb(1),i.rc("ngIf",t.get("prefix").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("firstName").hasError("required")),i.Eb(11),i.rc("ngIf",t.get("lastName").hasError("required")),i.Eb(5),i.rc("matDatepicker",o)("max",n.tomorrow)("max",n.maxDate),i.Eb(1),i.rc("for",o),i.Eb(1),i.rc("ngIf",t.get("dateOfBirth").hasError("required")),i.Eb(8),i.rc("ngForOf",n.arrayGender),i.Eb(1),i.rc("ngIf",t.get("gender").hasError("required")),i.Eb(6),i.rc("ngForOf",n.arrayResidence),i.Eb(1),i.rc("ngIf",t.get("residenceStatus").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("placeOfBirth").hasError("required")),i.Eb(6),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("countryOfResidence").hasError("required")),i.Eb(6),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("nationality").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("occupationType").hasError("required")),i.Eb(2),i.rc("ngForOf",t.get("custIdProofs").controls),i.Eb(7),i.rc("ngForOf",t.get("userAddress").controls),i.Eb(12),i.rc("ngIf",t.get("phoneNumber").hasError("pattern")),i.Eb(1),i.rc("ngIf","0000000000"==t.get("phoneNumber").value),i.Eb(6),i.rc("ngIf",t.get("landlineNumber").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("landlineNumber").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("primaryEmailAdress").hasError("required")),i.Eb(2),i.rc("disabled",t.invalid)}}function jt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",7),i.Xb(1,"div"),i.Xb(2,"div",8),i.Xb(3,"div",9),i.Xb(4,"mat-hint",10),i.Tc(5,"Ownership"),i.Wb(),i.Xb(6,"mat-card"),i.Xb(7,"mat-select",11),i.fc("selectionChange",function(){return i.Hc(t),i.jc().changeOwner()}),i.Rc(8,K,2,2,"mat-option",12),i.Wb(),i.Wb(),i.Rc(9,J,2,0,"mat-error",13),i.Wb(),i.Xb(10,"div",14),i.Rc(11,$,15,5,"ng-container",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",16),i.Rc(13,Bt,148,35,"div",17),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.rc("formGroup",t.customerInfoUpdateForm),i.Eb(8),i.rc("ngForOf",t.arrayOwnership),i.Eb(1),i.rc("ngIf",t.customerInfoUpdateForm.get("ownership").hasError("required")),i.Eb(2),i.rc("ngIf","Join"==t.customerInfoUpdateForm.get("ownership").value)("ngIfElse",t.showAdd),i.Eb(2),i.rc("ngForOf",t.applicant.controls)}}let zt=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b){this.data=t,this.dialogRef=e,this.appApiService=a,this.formBuilder=o,this.apiService=n,this.tasksummaryService=i,this.ls=r,this.snack=c,this.cdr=s,this.loader=l,this.confirmService=b,this.listOfAccounts=[],this.arrayCountry=[],this.arrayCity=[],this.arrayState=[]}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.productCustomerId=this.ls.getItem("accountDetails.customerId"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getOwnershipValue("ownership"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getDocumentType("document_type"),this.getAdressType("address_type"),this.data?(this.getStateValueArray(this.data.data[0].userAddress[0].country),this.getAllAuthCities(),this.buildCustomerForm(this.data.data),this.addCustFormGroup(this.data.data,this.data.data.length)):(this.buildCustomerForm(),this.addCustFormGroup(null,1)),console.log(this.customerInfoUpdateForm)}get f(){return this.customerInfoUpdateForm.controls}get applicantCount(){return this.f.numOfApplicants}get applicant(){return this.f.applicantDetails}buildCustomerForm(t){this.customerInfoUpdateForm=this.formBuilder.group({productAccountId:this.accountId,ownership:t&&t.length>1?"Join":"Self",numOfApplicants:t?t.length.toString():1,applicantDetails:this.formBuilder.array([])})}getStateValueArray(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getAllAuthCities(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>this.arrayCity.push(t.cityName)))}convertDate(t){let e=h(t).format("YYYY-MM-DD");if(console.log("date",e),e)return e}addCustFormGroup(t,e){for(let a=0;a<e;a++)this.applicant.push(this.formBuilder.group({existingCustomer:[t[a]?t[a].existingCustomer:""],primaryCustomer:[t[a]?t[a].primaryCustomer:""],cifNumber:[t[a]?t[a].cifNumber:""],prefix:[t[a]?t[a].prefix:"",p.z.required],firstName:[t[a]?t[a].firstName:"",p.z.required],middleName:[t[a]?t[a].middleName:""],lastName:[t[a]?t[a].lastName:"",p.z.required],gender:[t[a]?t[a].gender:"",p.z.required],dateOfBirth:[t[a]?t[a].dateOfBirth:"",p.z.required],placeOfBirth:[t[a]?t[a].placeOfBirth:"",p.z.required],residenceStatus:[t[a]?t[a].residenceStatus:"",p.z.required],nationality:[t[a]?t[a].nationality:"",p.z.required],countryOfResidence:[t[a]?t[a].countryOfResidence:"",p.z.required],occupationType:[t[a]?t[a].occupationType:"",p.z.required],phoneNumber:[t[a]?t[a].phoneNumber:"",[p.z.required,p.z.minLength(3),p.z.maxLength(10),p.z.pattern("^[0-9]{10,12}$")]],landlineNumber:[t[a]?t[a].landlineNumber:"",[p.z.required,p.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:[t[a]?t[a].primaryEmailAdress:"",[p.z.required,p.z.email]],userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([])})),this.addCustIdProofs(a,t[a].custIdProofs[0]),this.addAddress(a,t[a].userAddress[0])}addAddress(t,e){this.applicant.controls[t].get("userAddress").push(this.formBuilder.group({address1:[e?e.address1:"",[p.z.required]],address2:[e?e.address2:"",[p.z.required]],addressType:[e?e.addressType:"",[p.z.required]],city:[e?e.city:"",[p.z.required]],state:[e?e.state:"",[p.z.required]],country:[e?e.country:"",[p.z.required]],zipCode:[e?e.zipCode:"",[p.z.required]]}))}addCustIdProofs(t,e){this.applicant.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:"",p.z.required],idType:[e?e.idType:"",p.z.required],expiryDate:[e?e.expiryDate:""]}))}changeOwner(){"Join"==this.customerInfoUpdateForm.get("ownership").value?this.customerInfoUpdateForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}):this.customerInfoUpdateForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1})}onChangeApplicantNo(t){let e=t.target.value,a=this.customerInfoUpdateForm.get("numOfApplicants").value;if(e>a)this.addCustFormGroup(null,e-a);else for(let o=a-1;o>=e;o++)this.applicant.removeAt(o);this.customerInfoUpdateForm.get("numOfApplicants").setValue(e)}changeIdType(t){console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs);let e=this.customerIdProofs.filter(e=>e.idType==t);console.log("idProofs::",e),e.length>0?(this.applicant.get("idNumber").patchValue(e[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(e[0].expiryDate))):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getOwnershipValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayOwnership=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName===t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayState.push(t[e].stateName)});break}})}getCityName(t){console.log(t),this.apiService.getDropDownValues1("city",t).subscribe(t=>{this.arrayCity=t})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getDocumentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayDocumentType=t})}getAdressType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAddressType=t})}onSubmit(t,e){console.log(t),this.isCifValid=!1,this.customerInfoUpdateForm.invalid||(this.loader.open(),"Passport"==t.value.idType&&(t.value.idType=this.convertDate(t.value.idType)),this.appApiService.createAndUpdateAccountants(t).subscribe(t=>{console.log("data::",t),this.closeDetails(),this.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(this.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.customerInfoUpdateForm.get("ownership").patchValue(t.custDependentModel.ownership),this.customerInfoUpdateForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"!=this.customerInfoUpdateForm.get("ownership").value&&this.applicant.controls.length-1!=e||this.dialogRef.close({status:"BACKLOG"}))},t=>{console.log(t),this.loader.close(),this.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}))}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var o=0;o<a.length;o++)0==a[o]&&e++;console.log("number :: ",a),console.log("isAllSameDigitVal :: ",e,a.length),e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}validateNumber(t){const e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}onSave(){this.dialogRef.close({status:"BACKLOG"})}closeDetails(){this.selectedApplicant=null,this.applicant.reset(),this.customerInfoUpdateForm.get("numOfApplicants").enable({onlySelf:!0})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(d.a),i.Rb(p.f),i.Rb(r.b),i.Rb(m.a),i.Rb(l.a),i.Rb(f.a),i.Rb(i.h),i.Rb(B.a),i.Rb(V.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-customer-info-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","50"],[1,"hintClass"],["formControlName","ownership","name","owner","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","50","fxFlex.gt-xs","50"],[4,"ngIf","ngIfElse"],["formArrayName","applicantDetails"],[3,"item","formGroupName",4,"ngFor","ngForOf"],[3,"value"],[1,"errorClass"],["appearance","outline",1,"full-width"],["formControlName","numOfApplicants","name","account",3,"selectionChange"],[3,"item","formGroupName"],["multi","true"],[1,"check-circle"],[1,"ml-8"],["mat-card-avatar",""],[3,"name"],["fxLayout","row"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%"],["formControlName","existingCustomer"],["formControlName","primaryCustomer"],[1,"mb-16"],["fxFlex","30%","fxFlex.xs","100%"],[1,"inputCard"],["name","prefix","formControlName","prefix"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],["name","gender","formControlName","gender"],["name","residenceType","formControlName","residenceStatus"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],["name","resident","formControlName","countryOfResidence"],["name","citizen","formControlName","nationality"],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type"],["formArrayName","custIdProofs","fxFlex","100%"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["expanded","true",1,"mb-8"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["class","errorClass","style","margin-top:-20px",4,"ngIf"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],[1,"pb-1"],["mat-button","","color","primary",1,"place_1",3,"disabled","click"],["mat-sm-chip","",3,"color","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName"],["name","idtype","formControlName","idType",3,"selectionChange"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["fxFlex","30%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"matDatepicker","min"],["fxFlex","15%"],["appDatepicker1",""],[3,"formGroupName"],["fxLayout","row wrap"],["matInput","","formControlName","address1","placeholder","Address 1"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],[2,"color","#E74C3C"],[1,"errorClass",2,"margin-top","-20px"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Customer Information Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Rc(6,jt,14,6,"form",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSave()}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("ngIf",e.customerInfoUpdateForm),i.Eb(2),i.rc("disabled",e.customerInfoUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,p.y,o.m,p.e,O.n,W.b,W.c,W.g,p.k,j.a,j.c,j.e,j.f,X.e,X.c,X.h,X.g,x.a,y.b,p.c,I.e,I.g,W.j,I.d,p.m,z.a,o.s,p.w,p.n,q.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var qt=a("YS3K"),Kt=a("LvDl"),Jt=a("zQhy"),$t=a("pMoy");function Ht(t,e){if(1&t){const t=i.Yb();i.Xb(0,"p",31),i.Xb(1,"mat-checkbox",32),i.fc("change",function(a){i.Hc(t);const o=e.$implicit;return i.jc(2).onChecklistChange(a.checked,o)}),i.Tc(2),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("value",t)("checked",t.checked),i.Eb(1),i.Vc("",t.name," ")}}function Yt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",33),i.Xb(1,"mat-checkbox",32),i.fc("change",function(a){i.Hc(t);const o=e.$implicit;return i.jc(2).onCheckbankChange(a.checked,o)}),i.Tc(2),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("value",t)("checked",t.checked),i.Eb(1),i.Vc("",t.name," ")}}function Zt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",34),i.Xb(1,"mat-checkbox",32),i.fc("change",function(a){i.Hc(t);const o=e.$implicit;return i.jc(2).onCheckComChange(a.checked,o)}),i.Tc(2),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("value",t)("checked",t.checked),i.Eb(1),i.Vc("",t.name," ")}}function Qt(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function te(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"table",41),i.Xb(2,"thead",42),i.Xb(3,"tr"),i.Xb(4,"th"),i.Tc(5,"Card Type"),i.Wb(),i.Xb(6,"th"),i.Tc(7,"Daily Limit"),i.Wb(),i.Xb(8,"th"),i.Tc(9,"Domestic Limit"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"International Limit"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"ATM Limit"),i.Wb(),i.Xb(14,"th"),i.Tc(15,"POS Limit "),i.Wb(),i.Xb(16,"th"),i.Tc(17,"Internet Limit "),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"tbody"),i.Xb(19,"tr"),i.Xb(20,"td"),i.Tc(21,"Normal"),i.Wb(),i.Xb(22,"td"),i.Tc(23,"20,000"),i.Wb(),i.Xb(24,"td"),i.Tc(25,"20,000"),i.Wb(),i.Xb(26,"td"),i.Tc(27,"Nil"),i.Wb(),i.Xb(28,"td"),i.Tc(29,"10,000"),i.Wb(),i.Sb(30,"td"),i.Sb(31,"td"),i.Wb(),i.Wb(),i.Wb(),i.Wb())}function ee(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"table",41),i.Xb(2,"thead",42),i.Xb(3,"tr"),i.Xb(4,"th"),i.Tc(5,"Card Type"),i.Wb(),i.Xb(6,"th"),i.Tc(7,"Daily Limit"),i.Wb(),i.Xb(8,"th"),i.Tc(9,"Domestic Limit"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"International Limit"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"ATM Limit"),i.Wb(),i.Xb(14,"th"),i.Tc(15,"POS Limit "),i.Wb(),i.Xb(16,"th"),i.Tc(17,"Internet Limit "),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"tbody"),i.Xb(19,"tr"),i.Xb(20,"td"),i.Tc(21,"Silver"),i.Wb(),i.Xb(22,"td"),i.Tc(23,"40,000"),i.Wb(),i.Xb(24,"td"),i.Tc(25,"40,000"),i.Wb(),i.Xb(26,"td"),i.Tc(27,"20,000"),i.Wb(),i.Xb(28,"td"),i.Tc(29,"40,000"),i.Wb(),i.Sb(30,"td"),i.Sb(31,"td"),i.Wb(),i.Wb(),i.Wb(),i.Wb())}function ae(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"table",41),i.Xb(2,"thead",42),i.Xb(3,"tr"),i.Xb(4,"th"),i.Tc(5,"Card Type"),i.Wb(),i.Xb(6,"th"),i.Tc(7,"Daily Limit"),i.Wb(),i.Xb(8,"th"),i.Tc(9,"Domestic Limit"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"International Limit"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"ATM Limit"),i.Wb(),i.Xb(14,"th"),i.Tc(15,"POS Limit "),i.Wb(),i.Xb(16,"th"),i.Tc(17,"Internet Limit "),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"tbody"),i.Xb(19,"tr"),i.Xb(20,"td"),i.Tc(21,"Gold"),i.Wb(),i.Xb(22,"td"),i.Tc(23,"50,000"),i.Wb(),i.Xb(24,"td"),i.Tc(25,"50,000"),i.Wb(),i.Xb(26,"td"),i.Tc(27,"30,000"),i.Wb(),i.Xb(28,"td"),i.Tc(29,"50,000"),i.Wb(),i.Sb(30,"td"),i.Sb(31,"td"),i.Wb(),i.Wb(),i.Wb(),i.Wb())}function oe(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"table",41),i.Xb(2,"thead",42),i.Xb(3,"tr"),i.Xb(4,"th"),i.Tc(5,"Card Type"),i.Wb(),i.Xb(6,"th"),i.Tc(7,"Daily Limit"),i.Wb(),i.Xb(8,"th"),i.Tc(9,"Domestic Limit"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"International Limit"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"ATM Limit"),i.Wb(),i.Xb(14,"th"),i.Tc(15,"POS Limit "),i.Wb(),i.Xb(16,"th"),i.Tc(17,"Internet Limit "),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"tbody"),i.Xb(19,"tr"),i.Xb(20,"td"),i.Tc(21,"Diamond"),i.Wb(),i.Xb(22,"td"),i.Tc(23,"75,000"),i.Wb(),i.Xb(24,"td"),i.Tc(25,"75,000"),i.Wb(),i.Xb(26,"td"),i.Tc(27,"50,000"),i.Wb(),i.Xb(28,"td"),i.Tc(29,"75,000"),i.Wb(),i.Sb(30,"td"),i.Sb(31,"td"),i.Wb(),i.Wb(),i.Wb(),i.Wb())}function ne(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"table",41),i.Xb(2,"thead",42),i.Xb(3,"tr"),i.Xb(4,"th"),i.Tc(5,"Card Type"),i.Wb(),i.Xb(6,"th"),i.Tc(7,"Daily Limit"),i.Wb(),i.Xb(8,"th"),i.Tc(9,"Domestic Limit"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"International Limit"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"ATM Limit"),i.Wb(),i.Xb(14,"th"),i.Tc(15,"POS Limit "),i.Wb(),i.Xb(16,"th"),i.Tc(17,"Internet Limit "),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"tbody"),i.Xb(19,"tr"),i.Xb(20,"td"),i.Tc(21,"Platinum"),i.Wb(),i.Xb(22,"td"),i.Tc(23,"1,00,000"),i.Wb(),i.Xb(24,"td"),i.Tc(25,"1,00,000"),i.Wb(),i.Xb(26,"td"),i.Tc(27,"1,00,000"),i.Wb(),i.Xb(28,"td"),i.Tc(29,"1,00,000"),i.Wb(),i.Sb(30,"td"),i.Sb(31,"td"),i.Wb(),i.Wb(),i.Wb(),i.Wb())}function ie(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",35),i.Xb(1,"mat-form-field",36),i.Xb(2,"mat-label"),i.Tc(3,"Card Type"),i.Wb(),i.Xb(4,"mat-select",37),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).cards(e)}),i.Rc(5,Qt,2,2,"mat-option",38),i.Wb(),i.Wb(),i.Xb(6,"div"),i.Rc(7,te,32,0,"div",39),i.Rc(8,ee,32,0,"div",39),i.Rc(9,ae,32,0,"div",39),i.Rc(10,oe,32,0,"div",39),i.Rc(11,ne,32,0,"div",39),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(5),i.rc("ngForOf",t.arrayCardType),i.Eb(2),i.rc("ngIf",t.Normal),i.Eb(1),i.rc("ngIf",t.Silver),i.Eb(1),i.rc("ngIf",t.Gold),i.Eb(1),i.rc("ngIf",t.Diamond),i.Eb(1),i.rc("ngIf",t.Platinum)}}function re(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",7),i.Xb(1,"div",8),i.Xb(2,"div"),i.Xb(3,"div"),i.Xb(4,"mat-label"),i.Tc(5," Account Statement Frequency "),i.Wb(),i.Wb(),i.Xb(6,"div"),i.Xb(7,"mat-radio-group",9),i.fc("change",function(e){return i.Hc(t),i.jc().statementFrequency(e.value)}),i.Xb(8,"mat-radio-button",10),i.Tc(9," Monthly "),i.Wb(),i.Xb(10,"mat-radio-button",11),i.Tc(11," Bi-Annual "),i.Wb(),i.Xb(12,"mat-radio-button",12),i.Tc(13," Quaterly "),i.Wb(),i.Xb(14,"mat-radio-button",13),i.Tc(15," Annual "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div"),i.Xb(17,"div"),i.Xb(18,"mat-label"),i.Tc(19," Account Statement Preference* "),i.Wb(),i.Wb(),i.Xb(20,"div"),i.Rc(21,Ht,3,3,"p",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div",15),i.Xb(23,"button",16),i.Tc(24," MORE PREFERENCE "),i.Wb(),i.Wb(),i.Xb(25,"div"),i.Xb(26,"div",8),i.Xb(27,"div",17),i.Xb(28,"div",18),i.Xb(29,"mat-label"),i.Tc(30," Banking Channel Preferences* "),i.Wb(),i.Wb(),i.Xb(31,"div",18),i.Rc(32,Yt,3,3,"div",19),i.Wb(),i.Wb(),i.Xb(33,"div",17),i.Xb(34,"div",18),i.Xb(35,"mat-label"),i.Tc(36,"Communication Channel Preferences*"),i.Wb(),i.Wb(),i.Xb(37,"div",18),i.Rc(38,Zt,3,3,"div",20),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",21),i.Xb(40,"div",22),i.Sb(41,"div",23),i.Xb(42,"div",24),i.Tc(43," Do you need a cheque book? "),i.Sb(44,"mat-slide-toggle",25),i.Wb(),i.Wb(),i.Xb(45,"div",26),i.Xb(46,"div",24),i.Tc(47," Do you need a passbook book? "),i.Sb(48,"mat-slide-toggle",27),i.Wb(),i.Wb(),i.Wb(),i.Xb(49,"div",21),i.Xb(50,"div",28),i.Sb(51,"div",23),i.Xb(52,"div",24),i.Tc(53," Do you need a debit card? "),i.Xb(54,"mat-slide-toggle",29),i.fc("change",function(e){return i.Hc(t),i.jc().onToggle(e)}),i.Wb(),i.Wb(),i.Wb(),i.Rc(55,ie,12,6,"div",30),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.rc("formGroup",t.serviceUpdateForm),i.Eb(21),i.rc("ngForOf",t.statementList),i.Eb(11),i.rc("ngForOf",t.bankList),i.Eb(6),i.rc("ngForOf",t.communicationList),i.Eb(17),i.rc("ngIf",t.isDebitLimit)}}let ce=(()=>{class t{constructor(t,e,a,o,n,i,r,c){this.data=t,this.dialogRef=e,this.ls=a,this.formBuilder=o,this.cdr=n,this.apiService=i,this.snack=r,this.tasksummaryService=c,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.bankList=[{id:1,name:"Phone Banking",checked:!1},{id:2,name:"Kiosk Banking",checked:!1},{id:3,name:"Direct Banking",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.bankChannelPreferencesArray=[],this.arrayCardType=["Normal","Silver","Gold","Diamond","Platinum"],this.arrayModeOfOperation=["25000","50000","100000"],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.Platinum=!1,this.Diamond=!1,this.Normal=!1,this.Silver=!1,this.Gold=!1}ngOnInit(){if(console.log(this.data),this.accountId=this.ls.getItem("accountId"),null!=this.data&&null!=this.data){this.buildServiceForm(this.data),this.statementList=this.data.statementPref,this.communicationList=this.data.commChannelPref,this.bankList=this.data.bankChannelPref,this.data.debitCardRequired&&(this.isDebitLimit=!0),this.cdr.markForCheck();for(var t=0;t<this.bankList.length;t++)this.bankList[t].checked&&this.bankChannelPreferencesArray.push(this.bankList[t].name);for(t=0;t<this.communicationList.length;t++)this.communicationList[t].checked&&this.commChannelPreferencesArray.push(this.communicationList[t].name);for(t=0;t<this.statementList.length;t++)this.statementList[t].checked&&this.AccStatementPreferenceArray.push(this.statementList[t].name)}else this.buildServiceForm(),this.serviceUpdateForm.controls.statementPref.patchValue(this.statementList),this.serviceUpdateForm.controls.commChannelPref.patchValue(this.communicationList)}buildServiceForm(t){this.serviceUpdateForm=this.formBuilder.group({accServiceId:[t?t.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[t?t.statementFrequency:""],statementPref:[t?this.flattenValues(t.statementPref):""],bankChannelPref:[t?t.bankChannelPref:""],commChannelPref:[t?this.flattenValues(t.commChannelPref):""],chequebookNeeded:[!!t&&t.chequebookNeeded],debitcardNeeded:[!!t&&t.debitcardNeeded],passbookNeeded:[!!t&&t.passbookNeeded],cardType:[t?t.cardType:""],modeOfOperation:[t?t.modeOfOperation:""],debitCardRequired:[!!t&&t.debitCardRequired],debitCardLimit:[t?t.debitCardLimit:0],debitCardType:[t?t.debitCardType:""]})}flattenValues(t){return Object(Kt.flow)([Object(qt.filter)(t=>t.checked),Object(qt.flatMap)(t=>t.name)])(t).join(",")}onToggle(t){console.log("event",t.checked),this.isDebitLimit=1==t.checked}cards(t){console.log(t.value),"Normal"==t.value?(console.log(t.value),this.Normal=!0,this.Silver=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Silver"==t.value?(this.Silver=!0,this.Normal=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Gold"==t.value?(this.Gold=!0,this.Silver=!1,this.Normal=!1,this.Diamond=!1,this.Platinum=!1):"Diamond"==t.value?(this.Diamond=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Platinum=!1):"Platinum"==t.value&&(this.Platinum=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Diamond=!1)}onChecklistChange(t,e){e.checked=t,this.serviceUpdateForm.get("statementPref").setValue(this.flattenValues(this.statementList)),t?this.AccStatementPreferenceArray.push(e.name):this.AccStatementPreferenceArray.forEach((t,a)=>{t===e.name&&this.AccStatementPreferenceArray.splice(a,1)})}onCheckComChange(t,e){console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),t?(this.commChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.commChannelPreferencesArray.forEach((t,a)=>{t===e.name&&(this.commChannelPreferencesArray.splice(a,1),console.log("checked",e.name))})}onCheckbankChange(t,e){console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("bankChannelPref").setValue(this.flattenValues(this.bankList)),t?(this.bankChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.bankChannelPreferencesArray.forEach((t,a)=>{t===e.name&&(this.bankChannelPreferencesArray.splice(a,1),console.log("checked",e.name))})}onSubmit(){this.serviceUpdateForm.invalid||this.apiService.createAccountService(this.accountId,{productAccountId:this.accountId,accServiceId:this.serviceUpdateForm.value.accServiceId,statementFrequency:this.serviceUpdateForm.value.statementFrequency,statementPref:this.statementList,bankChannelPref:this.bankList,commChannelPref:this.communicationList,chequebookNeeded:this.serviceUpdateForm.value.chequebookNeeded,debitCardRequired:this.serviceUpdateForm.value.debitCardRequired,passbookNeeded:this.serviceUpdateForm.value.passbookNeeded,debitCardLimit:this.serviceUpdateForm.value.debitCardLimit,debitCardType:this.serviceUpdateForm.value.debitCardType,accountType:"createAccount"}).subscribe(t=>{console.log(t),this.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{console.log(t)})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(l.a),i.Rb(p.f),i.Rb(i.h),i.Rb(r.b),i.Rb(f.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-service-details-update"]],decls:17,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","20%"],["name","statementFreq","formControlName","statementFrequency","required","",3,"change"],["value","MONTHLY","color","primary"],["value","BIANNUAL","color","primary"],["value","QUATERLY","color","primary"],["value","ANNUAL","color","primary"],["formArrayName","statementPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"mt-32"],["mat-button","","rounded","","color","primary"],["fxLayout","row wrap"],["fxFlex","100"],["fxFlex","60","formArrayName","bankChannelPref",4,"ngFor","ngForOf"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"m-32"],[1,"pb-1","mt-32"],["color","primary","name","checqueBook","formControlName","chequebookNeeded"],["fxFlex","100","fxFlex.gt-xs","50"],["color","primary","name","passbook","formControlName","passbookNeeded"],["fxFlex","100","fxFlex.gt-xs","25",1,"pr-1"],["color","primary","name","debitCardRequired","formControlName","debitCardRequired",3,"change"],["fxFlex","100","style","padding-top: 20px;","fxFlex.gt-xs","20","class","pr-1",4,"ngIf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","60","formArrayName","bankChannelPref"],["fxFlex","25","formArrayName","commChannelPref"],["fxFlex","100","fxFlex.gt-xs","20",1,"pr-1",2,"padding-top","20px"],["appearance","outline",1,"full-width"],["formControlName","debitCardType","name","debitCardType","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"table","table-bordered"],[2,"color","#03a9f4"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Account Service Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"mat-card-title"),i.Tc(8," Account Statement "),i.Wb(),i.Xb(9,"mat-card-content"),i.Rc(10,re,56,5,"form",3),i.Wb(),i.Wb(),i.Wb(),i.Xb(11,"div",4),i.Xb(12,"button",5),i.fc("click",function(){return e.onSubmit()}),i.Tc(13,"Save"),i.Wb(),i.Tc(14," \xa0\xa0\xa0 "),i.Xb(15,"button",6),i.fc("click",function(){return e.close()}),i.Tc(16," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(10),i.rc("ngIf",e.serviceUpdateForm),i.Eb(2),i.rc("disabled",!e.serviceUpdateForm.valid||0==e.bankChannelPreferencesArray.length||0==e.commChannelPreferencesArray.length||0==e.AccStatementPreferenceArray.length))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,X.a,X.h,X.d,o.n,C.b,p.A,p.s,p.j,W.g,Jt.b,p.r,p.i,p.y,Jt.a,o.m,g.b,x.a,p.e,$t.a,W.c,T.a,O.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function se(t,e){if(1&t&&(i.Xb(0,"mat-option",43),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function le(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Prefix is Required! "),i.Wb())}function be(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," First Name is Required! "),i.Wb())}function de(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Only Alphabets allowed "),i.Wb())}function ue(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Only Alphabets allowed "),i.Wb())}function me(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Last Name is Required! "),i.Wb())}function pe(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Only Alphabets allowed "),i.Wb())}function he(t,e){if(1&t&&(i.Xb(0,"mat-option",43),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function fe(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Relationship Type is Required! "),i.Wb())}function ge(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Date of Birth is Required! "),i.Wb())}function ve(t,e){if(1&t&&(i.Xb(0,"mat-option",43),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function We(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Prefix is Required! "),i.Wb())}function Xe(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," First Name is Required! "),i.Wb())}function ye(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Last Name is Required! "),i.Wb())}function Te(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Relationship Type is Required! "),i.Wb())}function Ie(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Date of Birth is Required! "),i.Wb())}function xe(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",45),i.Xb(2,"h3"),i.Xb(3,"strong"),i.Tc(4,"Guardians Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(5,"div",46),i.Xb(6,"div"),i.Xb(7,"div",12),i.Xb(8,"mat-hint"),i.Tc(9,"Prefix*"),i.Wb(),i.Xb(10,"mat-card"),i.Xb(11,"mat-select",47),i.Rc(12,ve,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(13,We,2,0,"mat-error",15),i.Wb(),i.Xb(14,"div",12),i.Xb(15,"mat-hint"),i.Tc(16,"First Name*"),i.Wb(),i.Xb(17,"mat-card"),i.Xb(18,"input",48),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(19,Xe,2,0,"mat-error",15),i.Wb(),i.Xb(20,"div",12),i.Xb(21,"mat-hint"),i.Tc(22,"Middle Name"),i.Wb(),i.Xb(23,"mat-card"),i.Xb(24,"input",49),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",12),i.Xb(26,"mat-hint"),i.Tc(27,"Last Name*"),i.Wb(),i.Xb(28,"mat-card"),i.Xb(29,"input",50),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(30,ye,2,0,"mat-error",15),i.Wb(),i.Xb(31,"div",12),i.Xb(32,"mat-hint"),i.Tc(33,"RelationShip Type*"),i.Wb(),i.Xb(34,"mat-card"),i.Sb(35,"input",51),i.Wb(),i.Rc(36,Te,2,0,"mat-error",15),i.Wb(),i.Xb(37,"div",12),i.Xb(38,"mat-hint"),i.Tc(39,"Date Of Birth*"),i.Wb(),i.Xb(40,"mat-card"),i.Sb(41,"input",52),i.Sb(42,"mat-datepicker-toggle",21),i.Wb(),i.Rc(43,Ie,2,0,"mat-error",15),i.Sb(44,"mat-datepicker",null,53),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.Dc(45),n=i.jc(3);i.Eb(5),i.rc("formGroupName",a),i.Eb(7),i.rc("ngForOf",n.arrayPrefix),i.Eb(1),i.rc("ngIf",t.get("prefix").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("firstName").hasError("required")),i.Eb(11),i.rc("ngIf",t.get("lastName").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("relationshipType").hasError("required")),i.Eb(5),i.rc("matDatepicker",o)("max",n.tomorrow),i.Eb(1),i.rc("for",o),i.Eb(1),i.rc("ngIf",t.get("dateOfBirth").hasError("required"))}}function Ce(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Street is Required! "),i.Wb())}function Ee(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Locality is Required! "),i.Wb())}function Oe(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Building is Required! "),i.Wb())}function De(t,e){if(1&t&&(i.Xb(0,"mat-option",43),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ae(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Country is Required! "),i.Wb())}function Re(t,e){if(1&t&&(i.Xb(0,"mat-option",43),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Uc(t.stateName)}}function Se(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," State is Required! "),i.Wb())}function Ne(t,e){if(1&t&&(i.Xb(0,"mat-option",43),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Uc(t.value1)}}function Pe(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," City is Required! "),i.Wb())}function ke(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Please enter Zip Code! "),i.Wb())}function Fe(t,e){1&t&&(i.Xb(0,"h5",54),i.Tc(1,"Please enter valid Zip Code!"),i.Wb())}function Le(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Mobile number is Required! "),i.Wb())}function _e(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Please Enter 10 Digit Mobile Number! "),i.Wb())}function we(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Email is Required! "),i.Wb())}function Ue(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," Email must be a valid email address! "),i.Wb())}function Me(t,e){1&t&&(i.Xb(0,"mat-error",44),i.Tc(1," It is not a valid Landline number. "),i.Wb())}function Ge(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",9),i.Xb(1,"mat-accordion"),i.Xb(2,"mat-expansion-panel",10),i.fc("opened",function(){return i.Hc(t),i.jc(2).panelOpenState=!0})("closed",function(){return i.Hc(t),i.jc(2).panelOpenState=!1}),i.Xb(3,"mat-expansion-panel-header"),i.Xb(4,"mat-panel-title"),i.Tc(5),i.Wb(),i.Wb(),i.Xb(6,"div",11),i.Xb(7,"div",12),i.Xb(8,"mat-hint"),i.Tc(9,"Prefix*"),i.Wb(),i.Xb(10,"mat-card"),i.Xb(11,"mat-select",13),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).changeClient(e.value)}),i.Rc(12,se,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(13,le,2,0,"mat-error",15),i.Wb(),i.Xb(14,"div",12),i.Xb(15,"mat-hint"),i.Tc(16,"First Name*"),i.Wb(),i.Xb(17,"mat-card"),i.Xb(18,"input",16),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(19,be,2,0,"mat-error",15),i.Rc(20,de,2,0,"mat-error",15),i.Wb(),i.Xb(21,"div",12),i.Xb(22,"mat-hint"),i.Tc(23,"Middle Name"),i.Wb(),i.Xb(24,"mat-card"),i.Xb(25,"input",17),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(26,ue,2,0,"mat-error",15),i.Wb(),i.Xb(27,"div",12),i.Xb(28,"mat-hint"),i.Tc(29,"Last Name*"),i.Wb(),i.Xb(30,"mat-card"),i.Xb(31,"input",18),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(32,me,2,0,"mat-error",15),i.Rc(33,pe,2,0,"mat-error",15),i.Wb(),i.Xb(34,"div",12),i.Xb(35,"mat-hint"),i.Tc(36,"Relationship Type*"),i.Wb(),i.Xb(37,"mat-card"),i.Xb(38,"mat-select",19),i.Rc(39,he,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(40,fe,2,0,"mat-error",15),i.Wb(),i.Xb(41,"div",12),i.Xb(42,"mat-hint"),i.Tc(43,"Date of Birth*"),i.Wb(),i.Xb(44,"mat-card"),i.Xb(45,"input",20),i.fc("dateInput",function(e){return i.Hc(t),i.jc(2).addInput(e)})("dateChange",function(a){i.Hc(t);const o=e.$implicit;return i.jc(2).addevent(o.controls.guardianDetails,a)}),i.Wb(),i.Sb(46,"mat-datepicker-toggle",21),i.Wb(),i.Rc(47,ge,2,0,"mat-error",15),i.Sb(48,"mat-datepicker",null,22),i.Wb(),i.Xb(50,"div",23),i.Tc(51," Is the Nominee a Minor? "),i.Xb(52,"mat-slide-toggle",24),i.fc("change",function(a){i.Hc(t);const o=e.$implicit,n=e.index;return i.jc(2).onChange(o.controls.guardianDetails,a,n)}),i.Wb(),i.Wb(),i.Xb(53,"div",25),i.Rc(54,xe,46,10,"div",26),i.Wb(),i.Xb(55,"div",23),i.Tc(56," Same address as Applicant? "),i.Xb(57,"mat-slide-toggle",27),i.fc("change",function(e){return i.Hc(t),i.jc(2).clickToggle(e)}),i.Wb(),i.Wb(),i.Xb(58,"mat-accordion"),i.Xb(59,"mat-expansion-panel",28),i.Xb(60,"mat-expansion-panel-header"),i.Xb(61,"mat-panel-title"),i.Tc(62,"Nominee Address "),i.Wb(),i.Wb(),i.Xb(63,"div",29),i.Xb(64,"div",12),i.Xb(65,"mat-hint"),i.Tc(66,"Street*"),i.Wb(),i.Xb(67,"mat-card"),i.Sb(68,"input",30),i.Wb(),i.Rc(69,Ce,2,0,"mat-error",15),i.Wb(),i.Xb(70,"div",12),i.Xb(71,"mat-hint"),i.Tc(72,"Locality*"),i.Wb(),i.Xb(73,"mat-card"),i.Sb(74,"input",31),i.Wb(),i.Rc(75,Ee,2,0,"mat-error",15),i.Wb(),i.Xb(76,"div",12),i.Xb(77,"mat-hint"),i.Tc(78,"Building*"),i.Wb(),i.Xb(79,"mat-card"),i.Sb(80,"input",32),i.Wb(),i.Rc(81,Oe,2,0,"mat-error",15),i.Wb(),i.Xb(82,"div",12),i.Xb(83,"mat-hint"),i.Tc(84,"Country*"),i.Wb(),i.Xb(85,"mat-card"),i.Xb(86,"mat-select",33),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).getStateName(e.value)}),i.Rc(87,De,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(88,Ae,2,0,"mat-error",15),i.Wb(),i.Xb(89,"div",12),i.Xb(90,"mat-hint"),i.Tc(91,"State*"),i.Wb(),i.Xb(92,"mat-card"),i.Xb(93,"mat-select",34),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).getCityName(e.value)}),i.Rc(94,Re,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(95,Se,2,0,"mat-error",15),i.Wb(),i.Xb(96,"div",12),i.Xb(97,"mat-hint"),i.Tc(98,"city*"),i.Wb(),i.Xb(99,"mat-card"),i.Xb(100,"mat-select",35),i.Rc(101,Ne,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(102,Pe,2,0,"mat-error",15),i.Wb(),i.Xb(103,"div",12),i.Xb(104,"mat-hint"),i.Tc(105,"Zip Code*"),i.Wb(),i.Xb(106,"mat-card"),i.Xb(107,"input",36),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("keyup",function(e){return i.Hc(t),i.jc(2).isAllSameDigit(e)}),i.Wb(),i.Wb(),i.Rc(108,ke,2,0,"mat-error",15),i.Rc(109,Fe,2,0,"h5",37),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(110,"mat-accordion"),i.Xb(111,"mat-expansion-panel",28),i.Xb(112,"mat-expansion-panel-header"),i.Xb(113,"mat-panel-title"),i.Tc(114,"Contact Information "),i.Wb(),i.Wb(),i.Xb(115,"div",29),i.Xb(116,"div",12),i.Xb(117,"mat-hint"),i.Tc(118,"Mobile Number*"),i.Wb(),i.Xb(119,"mat-card"),i.Xb(120,"input",38),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(121,Le,2,0,"mat-error",15),i.Rc(122,_e,2,0,"mat-error",15),i.Wb(),i.Xb(123,"div",12),i.Xb(124,"mat-hint"),i.Tc(125,"E-mail*"),i.Wb(),i.Xb(126,"mat-card"),i.Sb(127,"input",39),i.Wb(),i.Rc(128,we,2,0,"mat-error",15),i.Rc(129,Ue,2,0,"mat-error",15),i.Wb(),i.Xb(130,"div",12),i.Xb(131,"mat-hint"),i.Tc(132,"Landline Number"),i.Wb(),i.Xb(133,"mat-card"),i.Xb(134,"input",40),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(135,Me,2,0,"mat-error",15),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(136,"button",41),i.fc("click",function(){return i.Hc(t),i.jc(2).addNominee()}),i.Xb(137,"mat-icon"),i.Tc(138,"add"),i.Wb(),i.Tc(139," ADD NOMINEE "),i.Wb(),i.Xb(140,"button",42),i.fc("click",function(){i.Hc(t);const a=e.index;return i.jc(2).removeNominee(a)}),i.Xb(141,"mat-icon"),i.Tc(142,"delete"),i.Wb(),i.Tc(143,"REMOVE "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.Dc(49),n=i.jc(2);i.Eb(5),i.Wc(" ",1==n.showEditOption?"Edit":"Create"," Nominee ",a+1," "),i.Eb(1),i.rc("formGroup",t),i.Eb(6),i.rc("ngForOf",n.arrayPrefix),i.Eb(1),i.rc("ngIf",t.get("prefix").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("firstName").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("firstName").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("middleName").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("lastName").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("lastName").hasError("pattern")),i.Eb(5),i.rc("value",n.relationshipType),i.Eb(1),i.rc("ngForOf",n.arrayRelationshipType),i.Eb(1),i.rc("ngIf",t.get("relationshipType").hasError("required")),i.Eb(5),i.rc("matDatepicker",o)("max",n.tomorrow),i.Eb(1),i.rc("for",o),i.Eb(1),i.rc("ngIf",t.get("dateOfBirth").hasError("required")),i.Eb(7),i.rc("ngForOf",t.get("guardianDetails").controls),i.Eb(15),i.rc("ngIf",t.get("street").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("locality").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("building").hasError("required")),i.Eb(6),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("country").hasError("required")),i.Eb(6),i.rc("ngForOf",n.arrayState),i.Eb(1),i.rc("ngIf",t.get("state").hasError("required")),i.Eb(6),i.rc("ngForOf",n.arrayCity),i.Eb(1),i.rc("ngIf",t.get("city").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("zipCode").hasError("required")&&!t.controls.zipCode.valid&&(null==t.controls.zipCode?null:t.controls.zipCode.touched)),i.Eb(1),i.rc("ngIf",n.isAllSameDigitVal),i.Eb(12),i.rc("ngIf",t.get("phoneNumber").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("phoneNumber").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("email").hasError("required")),i.Eb(1),i.rc("ngIf",t.get("email").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("mobileNumber").hasError("pattern")),i.Eb(1),i.rc("disabled",null==n.nomineeForms?null:n.nomineeForms.invalid)}}function Ve(t,e){if(1&t&&(i.Xb(0,"form",7),i.Rc(1,Ge,144,35,"div",8),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.nomineeUpdateForm),i.Eb(1),i.rc("ngForOf",t.n.controls)}}let Be=(()=>{class t{constructor(t,e,a,o,n,i,r,c){this.data=t,this.dialogRef=e,this.apiService=a,this.formBuilder=o,this.ls=n,this.appApiService=i,this.confirmService=r,this.snack=c,this.arrayState=[],this.arrayCity=[]}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getCountryName("country"),this.getRelationShipType("relationship_type"),this.getPrefixValue("prefix"),this.data?(this.getStateName(this.data[0].country),this.getCityName(this.data[0].state),this.buildNomineeForm(),this.addGroup(this.data),this.showEditOption=!0):(this.showEditOption=!1,this.buildNomineeForm(),this.addGroup())}buildNomineeForm(){this.nomineeUpdateForm=this.formBuilder.group({nominees:this.formBuilder.array([])})}addGroup(t){let e=t?t.length:1;for(let a=0;a<e;a++)this.expandAddress=t[a].isAddrSameAsApplicant,t[a].dateOfBirth=h(t[a].dateOfBirth).format(),t[a].isNomineeMinor&&(t[a].guardianDetails[0].dateOfBirth=h(t[a].guardianDetails[0].dateOfBirth).format()),this.n.push(this.formBuilder.group({prefix:["",p.z.required],firstName:["",p.z.required],middleName:[""],lastName:["",p.z.required],relationshipType:["",p.z.required],dateOfBirth:["",p.z.required],nomineeId:[""],building:["",p.z.required],street:["",p.z.required],locality:["",p.z.required],city:["",p.z.required],state:["",p.z.required],country:["",p.z.required],zipCode:["",[p.z.required,p.z.minLength(5),p.z.maxLength(10)]],phoneNumber:["",[p.z.required,p.z.pattern("^[0-9]{10,12}$")]],mobileNumber:["",[p.z.pattern("^[0-9]{10,12}$")]],isAddrSameAsApplicant:[!1,p.z.required],isNomineeMinor:[!1,p.z.required],email:["",[p.z.required,p.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],guardianDetails:t[a].isNomineeMinor?[this.formBuilder.group({dateOfBirth:["",p.z.required],firstName:["",p.z.required],guardianId:[""],lastName:["",p.z.required],middleName:[""],nomineeId:[""],prefix:["",p.z.required],relationshipType:["",p.z.required]})]:[]})),this.n.at(a).patchValue(t[a])}get f(){return this.nomineeUpdateForm.controls}get n(){return this.f.nominees}addGuardian(t){return t.push(this.formBuilder.group({prefix:["",p.z.required],firstName:["",p.z.required],middleName:[""],nomineeId:[""],guardianId:[""],lastName:["",p.z.required],relationshipType:["",p.z.required],dateOfBirth:["",p.z.required]}))}addevent(t,e){let a=new Date;a=e.target.value,console.log(h(a).format("YYYY-MM-DD"));var o=new Date(h(a).format("YYYY-MM-DD"));if(this.n.controls[0].patchValue({isNomineeMinor:this.underAgeValidate(o)}),!this.underAgeValidate(o))return t.removeAt(0);this.addGuardian(t)}clickToggle(t){if(this.expandAddress=t.checked,1==t.checked)this.getApplicantAddress();else{let t=this.nomineeUpdateForm.controls.nominees,e=t.controls[t.length-1];e.get("zipCode").reset(),e.get("street").reset(),e.get("locality").reset(),e.get("building").reset(),e.get("country").reset(),e.get("state").reset(),e.get("city").reset()}}getApplicantAddress(){this.appApiService.fetchByCif(this.cifNumber).subscribe(t=>{this.address=t.customerInfoList[0].userAddress[0];let e=this.nomineeUpdateForm.controls.nominees,a=e.controls[e.length-1];this.getStateName(this.address.country),this.getCityName(this.address.state),a.get("zipCode").setValue(this.address.zipCode),a.get("street").setValue(this.address.address1),a.get("locality").setValue(this.address.address2),a.get("building").setValue(this.address.address1),a.get("country").setValue(this.address.country),a.get("state").setValue(this.address.state),a.get("city").setValue(this.address.city)})}removeNominee(t){console.log("i",t);let e=this.n.at(t).get("nomineeId").value;console.log("nomineeId ::",e),this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(a=>{console.log("res:: removed ",a),a&&this.apiService.deleteNomineeById(e,"ADMIN").subscribe(t=>{console.log("data",t)},e=>{this.nomineeUpdateForm.controls.nominees.removeAt(t),200===e.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}onSubmit(){for(let e=0;e<this.nomineeUpdateForm.value.nominees.length;e++)this.nomineeUpdateForm.value.nominees[e].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].dateOfBirth),this.nomineeUpdateForm.value.nominees[e].isNomineeMinor&&(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth));let t={productAccountId:this.accountId,nominees:this.nomineeUpdateForm.value.nominees};this.nomineeUpdateForm.invalid||(this.showEditOption?(this.apiService.updateNominee(this.accountId,t).subscribe(t=>{},t=>{console.log(t)}),this.dialogRef.close({status:"BACKLOG"})):this.apiService.createNominee(this.accountId,t).subscribe(t=>{console.log(t),this.snack.open("Nominee Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}))}changeClient(t){console.log(t),this.arrayRelationshipType="Mr"==t?["Father","Brother","Spouse"]:"Mrs"==t?["Mother","Spouse"]:["Sister"]}underAgeValidate(t){const e=Date.now()-t.getTime(),a=new Date(e);return Math.abs(a.getUTCFullYear()-1970)<18}getRelationShipType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayRelationshipType=t})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName===t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayState.push(t[e].stateName)});break}})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var o=0;o<a.length;o++)0==a[o]&&e++;e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}convertDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(r.b),i.Rb(p.f),i.Rb(l.a),i.Rb(d.a),i.Rb(V.a),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-nominee-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],["expanded","true",3,"opened","closed"],["fxLayout","row wrap",1,"full-width",3,"formGroup"],["fxFlex","33.33%","fxFlex.xs","100%"],["name","prefix","formControlName","prefix",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","rtype","formControlName","relationshipType",3,"value"],["matInput","","name","dob","readonly","","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max","dateInput","dateChange"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"pb-1"],["name","isNomineeMinor","formControlName","isNomineeMinor",3,"change"],["formArrayName","guardianDetails"],[4,"ngFor","ngForOf"],["name","isAddrSameAsApplicant","formControlName","isAddrSameAsApplicant",3,"change"],["expanded","true"],["fxLayout","row wrap",1,"full-width"],["matInput","","name","a_street","formControlName","street","placeholder","Street"],["matInput","","name","a_locality","formControlName","locality","placeholder","Locality"],["matInput","","name","a_building","formControlName","building","placeholder","Building"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","a_zip","formControlName","zipCode","placeholder","Zip Code","maxlength","10","onlyNumber","",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number","maxlength","10",3,"keypress"],["matInput","","name","email","formControlName","email","placeholder","e-mail"],["matInput","","formControlName","mobileNumber","maxlength","10",3,"keypress"],["mat-button","","rounded","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click"],[3,"value"],[1,"errorClass"],[1,"card-title-text"],["fxLayout","row","fxLayoutGap","25px",3,"formGroupName"],["name","g_prefix","formControlName","prefix"],["matInput","","name","g_fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","g_mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","g_lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","g_rtype","formControlName","relationshipType","placeholder","Relation Type"],["matInput","","readonly","","name","g_dob","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max"],["appDatepicker1",""],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Nominee Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Rc(6,Ve,2,2,"form",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit()}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("ngIf",e.nomineeUpdateForm),i.Eb(2),i.rc("disabled",e.nomineeUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,o.m,j.a,j.c,j.e,j.f,g.b,W.f,X.a,T.a,p.r,p.i,y.b,p.c,I.e,I.g,W.j,I.d,x.a,p.e,p.m,q.a,O.n,W.b,p.k],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var je=a("iInd");function ze(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",11),i.fc("click",function(){return i.Hc(t),i.jc().addCFormGroup()}),i.Xb(1,"mat-icon"),i.Tc(2,"add"),i.Wb(),i.Tc(3," Add Collateral "),i.Wb()}}function qe(t,e){if(1&t&&(i.Xb(0,"mat-option",55),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ke(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please select Collateral Type "),i.Wb())}function Je(t,e){if(1&t&&(i.Xb(0,"mat-option",55),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.currencyCode),i.Eb(1),i.Vc(" ",t.currencyCode," ")}}function $e(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Collateral Value "),i.Wb())}function He(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Linkage Percentage "),i.Wb())}function Ye(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Available Linkage Amount "),i.Wb())}function Ze(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Overdraft Limit Amount "),i.Wb())}function Qe(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please select Attributes "),i.Wb())}function ta(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please select Dimensions "),i.Wb())}function ea(t,e){1&t&&(i.Xb(0,"mat-icon",57),i.Tc(1,"check_circle"),i.Wb())}function aa(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Security Reference Number "),i.Wb())}function oa(t,e){1&t&&(i.Xb(0,"mat-hint",58),i.Tc(1," Enter valid Security Reference Number!"),i.Wb())}function na(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Branch Code "),i.Wb())}function ia(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please select Rate Value "),i.Wb())}function ra(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Rate "),i.Wb())}function ca(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Spread "),i.Wb())}function sa(t,e){1&t&&(i.Xb(0,"mat-error",56),i.Tc(1," Please enter Final Rate "),i.Wb())}function la(t,e){if(1&t&&(i.Xb(0,"a",59),i.Tc(1),i.Wb()),2&t){const t=i.jc(2);i.sc("href",t.docUrl,i.Jc),i.Eb(1),i.Vc("",t.fileNam," ")}}function ba(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",60),i.fc("click",function(){i.Hc(t);const e=i.jc().index;return i.jc().deleteDoc(e)}),i.Tc(1,"delete"),i.Wb()}}function da(t,e){1&t&&i.Sb(0,"mat-spinner",61),2&t&&i.rc("diameter",30)}function ua(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",62),i.fc("click",function(){i.Hc(t);const e=i.jc().index;return i.jc().removeCollateral(e)}),i.Xb(1,"mat-icon"),i.Tc(2,"delete"),i.Wb(),i.Tc(3," Reset Collateral "),i.Wb()}}function ma(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",62),i.fc("click",function(){i.Hc(t);const e=i.jc(),a=e.$implicit,o=e.index;return i.jc().deleteCollateral(a,o)}),i.Xb(1,"mat-icon"),i.Tc(2,"delete"),i.Wb(),i.Tc(3," Remove Collateral "),i.Wb()}}function pa(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"mat-accordion"),i.Xb(2,"mat-expansion-panel",12),i.fc("opened",function(){return i.Hc(t),i.jc().panelOpenState=!0})("closed",function(){return i.Hc(t),i.jc().panelOpenState=!1}),i.Xb(3,"mat-expansion-panel-header"),i.Xb(4,"mat-panel-title"),i.Tc(5),i.Wb(),i.Wb(),i.Xb(6,"div",13),i.Xb(7,"div",14),i.Xb(8,"div",15),i.Xb(9,"mat-hint",16),i.Tc(10,"Collateral Type"),i.Wb(),i.Xb(11,"mat-card",17),i.Xb(12,"mat-select",18),i.Rc(13,qe,2,2,"mat-option",19),i.Wb(),i.Wb(),i.Rc(14,Ke,2,0,"mat-error",20),i.Wb(),i.Xb(15,"div",15),i.Xb(16,"mat-hint",16),i.Tc(17,"Currency"),i.Wb(),i.Xb(18,"mat-card",17),i.Xb(19,"mat-select",21),i.Rc(20,Je,2,2,"mat-option",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(21,"div",15),i.Xb(22,"mat-hint",16),i.Tc(23,"Collateral Value"),i.Wb(),i.Xb(24,"mat-card",17),i.Xb(25,"input",22),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().calculateLinkagePercent(a.value,o)}),i.Wb(),i.Wb(),i.Rc(26,$e,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(27,"div",14),i.Xb(28,"div",15),i.Xb(29,"mat-hint",16),i.Tc(30,"Linkage Percentage"),i.Wb(),i.Xb(31,"mat-card",17),i.Xb(32,"input",23),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("keydown",function(a){i.Hc(t);const o=e.$implicit;return i.jc().getCollatrl(a,o.get("linkagePercentage"))})("input",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().calculateLinkagePercent(a.value,o)}),i.Wb(),i.Wb(),i.Rc(33,He,2,0,"mat-error",20),i.Wb(),i.Xb(34,"div",15),i.Xb(35,"mat-hint",16),i.Tc(36,"Available Linkage Amount*"),i.Wb(),i.Xb(37,"mat-card",17),i.Xb(38,"input",24),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(39,Ye,2,0,"mat-error",20),i.Wb(),i.Xb(40,"div",15),i.Xb(41,"mat-hint",16),i.Tc(42,"Overdraft Limit Amount*"),i.Wb(),i.Xb(43,"mat-card",17),i.Xb(44,"input",25),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("keyup",function(a){i.Hc(t);const o=e.index;return i.jc().overDraftCondition(a,o)}),i.Wb(),i.Wb(),i.Rc(45,Ze,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(46,"div",14),i.Xb(47,"div",15),i.Xb(48,"mat-hint",16),i.Tc(49,"Limit Start Date"),i.Wb(),i.Xb(50,"mat-card",26),i.Xb(51,"input",27),i.fc("selectedChange",function(){i.Hc(t);const a=e.$implicit;return i.jc().getDate(a.get("limitStartDate"))}),i.Wb(),i.Sb(52,"mat-datepicker-toggle",28),i.Wb(),i.Sb(53,"mat-datepicker",null,29),i.Wb(),i.Xb(55,"div",15),i.Xb(56,"mat-hint",16),i.Tc(57,"Limit End Date"),i.Wb(),i.Xb(58,"mat-card",26),i.Sb(59,"input",30),i.Sb(60,"mat-datepicker-toggle",28),i.Wb(),i.Sb(61,"mat-datepicker",null,31),i.Wb(),i.Xb(63,"div",15),i.Xb(64,"mat-hint",16),i.Tc(65,"Attributes*"),i.Wb(),i.Xb(66,"mat-card",17),i.Xb(67,"mat-select",32),i.Xb(68,"mat-option",33),i.Tc(69,"Attributes 1"),i.Wb(),i.Xb(70,"mat-option",34),i.Tc(71,"Attributes 2"),i.Wb(),i.Xb(72,"mat-option",35),i.Tc(73,"Attributes 3"),i.Wb(),i.Wb(),i.Wb(),i.Rc(74,Qe,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(75,"div",14),i.Xb(76,"div",15),i.Xb(77,"mat-hint",16),i.Tc(78,"Dimensions*"),i.Wb(),i.Xb(79,"mat-card",17),i.Xb(80,"mat-select",36),i.Xb(81,"mat-option",33),i.Tc(82,"Dimensions 1"),i.Wb(),i.Xb(83,"mat-option",34),i.Tc(84,"Dimensions 2"),i.Wb(),i.Xb(85,"mat-option",35),i.Tc(86,"Dimensions 3"),i.Wb(),i.Wb(),i.Wb(),i.Rc(87,ta,2,0,"mat-error",20),i.Wb(),i.Xb(88,"div",15),i.Xb(89,"mat-hint",16),i.Tc(90,"Security reference Number*"),i.Wb(),i.Xb(91,"mat-card",17),i.Xb(92,"input",37),i.fc("keypress",function(e){return i.Hc(t),i.jc().keyPressAlphanumeric(e)})("change",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().fetchBySecurityNum(a.get("securityReferenceNumber").value,o)})("keyup",function(a){i.Hc(t);const o=e.index;return i.jc().keyUpevent(a,o)}),i.Wb(),i.Rc(93,ea,2,0,"mat-icon",38),i.Wb(),i.Rc(94,aa,2,0,"mat-error",20),i.Rc(95,oa,2,0,"mat-hint",39),i.Wb(),i.Xb(96,"div",15),i.Xb(97,"mat-hint",16),i.Tc(98,"Branch Code"),i.Wb(),i.Xb(99,"mat-card",17),i.Xb(100,"input",40),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(101,na,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(102,"div",14),i.Xb(103,"div",15),i.Xb(104,"mat-hint",16),i.Tc(105,"Rate Value"),i.Wb(),i.Xb(106,"mat-card",17),i.Xb(107,"input",41),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(108,ia,2,0,"mat-error",20),i.Wb(),i.Xb(109,"div",15),i.Xb(110,"mat-hint",16),i.Tc(111,"Rate in % *"),i.Wb(),i.Xb(112,"mat-card",17),i.Xb(113,"input",42),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("keydown",function(a){i.Hc(t);const o=e.$implicit;return i.jc().getCollatrl(a,o.get("rate"))})("input",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().calculateFinalrate(a.value,o)}),i.Wb(),i.Wb(),i.Rc(114,ra,2,0,"mat-error",20),i.Wb(),i.Xb(115,"div",15),i.Xb(116,"mat-hint",16),i.Tc(117,"Spread*"),i.Wb(),i.Xb(118,"mat-card",17),i.Xb(119,"input",43),i.fc("input",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().calculateFinalrate(a.value,o)}),i.Wb(),i.Wb(),i.Rc(120,ca,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(121,"div",14),i.Xb(122,"div",15),i.Xb(123,"mat-hint",16),i.Tc(124,"Final Rate in %"),i.Wb(),i.Xb(125,"mat-card",17),i.Xb(126,"input",44),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("keydown",function(a){i.Hc(t);const o=e.$implicit;return i.jc().getCollatrl(a,o.get("finalAmount"))}),i.Wb(),i.Wb(),i.Rc(127,sa,2,0,"mat-error",20),i.Wb(),i.Xb(128,"div",45),i.Xb(129,"input",46,47),i.fc("change",function(a){i.Hc(t);const o=e.index;return i.jc().uploadCollateralType(a,o)}),i.Wb(),i.Xb(131,"div",48),i.Xb(132,"a",49),i.fc("click",function(){return i.Hc(t),i.Dc(130).click()}),i.Tc(133,"Collateral Document Upload"),i.Wb(),i.Tc(134," \xa0 "),i.Xb(135,"mat-hint",50),i.Tc(136),i.Wb(),i.Rc(137,la,2,2,"a",51),i.Tc(138," \xa0 "),i.Rc(139,ba,2,0,"mat-icon",52),i.Rc(140,da,1,1,"mat-spinner",53),i.Wb(),i.Wb(),i.Wb(),i.Xb(141,"div",45),i.Rc(142,ua,4,0,"button",54),i.Rc(143,ma,4,0,"button",54),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.Dc(54),n=i.Dc(62),r=i.jc();i.Eb(5),i.Wc(" ",1==r.showEditOption?"Edit":"Add"," Collateral ",a+1," "),i.Eb(1),i.rc("formGroup",t),i.Eb(7),i.rc("ngForOf",r.arrayCollateralType),i.Eb(1),i.rc("ngIf",t.get("collateralType").touched&&t.get("collateralType").hasError("required")),i.Eb(6),i.rc("ngForOf",r.currency),i.Eb(6),i.rc("ngIf",t.get("collateralType").touched&&t.get("collateralValue").hasError("required")),i.Eb(7),i.rc("ngIf",t.get("linkagePercentage").touched&&t.get("linkagePercentage").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("availableLinkageAccount").touched&&t.get("availableLinkageAccount").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("overdraftLimitAmount").touched&&t.get("overdraftLimitAmount").hasError("required")),i.Eb(6),i.rc("matDatepicker",o)("min",r.minDate),i.Eb(1),i.rc("for",o),i.Eb(7),i.rc("min",t.get("limitStartDate").value)("matDatepicker",n),i.Eb(1),i.rc("for",n),i.Eb(14),i.rc("ngIf",t.get("attributes").touched&&t.get("attributes").hasError("required")&&t.get("attributes").touched),i.Eb(13),i.rc("ngIf",t.get("dimensions").touched&&t.get("dimensions").hasError("required")),i.Eb(6),i.rc("ngIf",r.issecurityValid&&t.get("securityReferenceNumber").value.length>0),i.Eb(1),i.rc("ngIf",t.get("securityReferenceNumber").touched&&t.get("securityReferenceNumber").hasError("required")),i.Eb(1),i.rc("ngIf",!r.issecurityValid&&r.onbackSpace),i.Eb(6),i.rc("ngIf",t.get("branchCode").touched&&t.get("branchCode").hasError("required")),i.Eb(7),i.rc("ngIf",t.get("rateValue").touched&&t.get("rateValue").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("rate").touched&&t.get("rate").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("spread").touched&&t.get("spread").hasError("required")),i.Eb(7),i.rc("ngIf",t.get("finalAmount").touched&&t.get("finalAmount").hasError("required")),i.Eb(9),i.Uc(r.fileName),i.Eb(1),i.rc("ngIf",r.docUrl),i.Eb(2),i.rc("ngIf",r.docUrl&&r.showDelete),i.Eb(1),i.rc("ngIf",r.showSpinn),i.Eb(2),i.rc("ngIf",!r.showEditOption),i.Eb(1),i.rc("ngIf",r.showEditOption)}}let ha=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.data=t,this.dialogRef=e,this.ls=a,this.formBuilder=o,this.api=n,this.snack=i,this.cdr=r,this.confirmService=c,this.tasksummaryService=s,this.showEditOption=!1}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.loggedInUser=this.ls.getItem("userName"),this.getCollateralType("collateral_type"),this.getCurrencyDetails(),this.data?(this.showEditOption=!0,this.buildSecuredOverdraftForm(this.data),this.addFormGroup(this.data)):(this.showEditOption=!1,this.buildSecuredOverdraftForm(),this.addFormGroup())}buildSecuredOverdraftForm(t){this.securedOverdraftUpdateForm=this.formBuilder.group({collaterals:this.formBuilder.array([])})}get f(){return this.securedOverdraftUpdateForm.controls}get c(){return this.f.collaterals}addFormGroup(t){const e=t?t.length:1;console.log("numberOfItems",e);for(let a=0;a<e;a++)this.c.push(this.formBuilder.group({id:[t[a].id],collateralType:[t[a]?t.collateralType:""],collateralCurrency:[t[a]?t.collateralCurrency:""],accountId:this.accountId,collateralValue:[t[a]?t[a].collateralValue:""],attributes:[t[a]?t[a].attributes:""],dimensions:[t[a]?t[a].dimensions:""],securityReferenceNumber:[t[a]?t[a].securityReferenceNumber:""],branchCode:[t[a]?t[a].branchCode:""],availableLinkageAccount:[t[a]?t[a].availableLinkageAccount:""],linkagePercentage:[t[a]?t[a].linkagePercentage:""],overdraftLimitAmount:[t[a]?t[a].overdraftLimitAmount:""],limitStartDate:[t[a]?t[a].limitStartDate:""],limitEndDate:[t[a]?t[a].limitEndDate:""],rateValue:[t[a]?t[a].rateValue:""],rate:[t[a]?t[a].rate:""],spread:[t[a]?t[a].spread:""],finalAmount:[t[a]?t[a].finalAmount:""],documentUrl:[t[a]?t[a].documentUrl:""],fileName:[t[a]?t[a].documentUrl:""]}))}addCFormGroup(){this.c.push(this.formBuilder.group({collateralType:[""],collateralCurrency:[""],accountId:this.accountId,collateralValue:[""],attributes:[""],dimensions:[""],securityReferenceNumber:[""],branchCode:[""],availableLinkageAccount:[""],linkagePercentage:[""],overdraftLimitAmount:[""],limitStartDate:[""],limitEndDate:[""],rateValue:[""],rate:[""],spread:[""],finalAmount:[""],documentUrl:[""],fileName:[""]}))}getCollateralType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayCollateralType=t})}getCurrencyDetails(){this.api.fetchCurrencyMaintAuthRecs().subscribe(t=>{this.currency=t})}overDraftCondition(t,e){let a=t.target.value;console.log(a,this.linkangePercent),a>this.linkangePercent&&(console.log("Bigger"),this.confirmService.confirm({title:"Confirm",message:" Overdraft Limit Amount should be less than Available Linkage Amount. Do you want to Proceed?",ok:"Yes",cancel:"No"}).subscribe(t=>{console.log("Response",t),!0===t?this.cdr.markForCheck():this.c.at(e).get("overdraftLimitAmount").setValue("")}))}fetchBySecurityNum(t,e){t&&(this.showSpinner=!0,console.log("Caling",t),this.api.fetchBySecurityNumber(t).subscribe(t=>{if(console.log(t),this.showSpinner=!1,null==t)return this.issecurityValid=!1,this.snack.open("Invalid Security Reference Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void this.c.at(e).get("securityReferenceNumber").setValue("");this.issecurityValid=!0,this.branchData=t.securedOverDrafts,console.log(this.branchData),this.branchData.forEach((t,e)=>{this.branch=this.branchData[e].branchCode}),this.c.at(e).get("branchCode").setValue(this.branch),this.cdr.markForCheck()}))}uploadCollateralType(t,e){this.showSpinn=!0;const a=t.target.files[0];this.fileName[e]=a.name;const o={accountId:this.accountId,documentName:this.fileName[e]},n=new FormData;n.append("data",JSON.stringify(o)),n.append("file",a),this.api.uploadcollateralDoc(n).subscribe(t=>{console.log("Document Resp",t,t.url),t&&t.url&&(this.showSpinn=!1,this.snack.open("Document Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.c.at(e).get("documentUrl").setValue(t.url),this.c.at(e).get("fileName").setValue(t.fileName))})}deleteDoc(t){this.docUrl=" ",this.fileName=" ",this.c.at(t).get("documentUrl").setValue(""),this.c.at(t).get("fileName").setValue(""),this.showDelete=!1}onSubmit(t){this.c.value.forEach(t=>{""!=t.linkagePercentage&&""!=t.securityReferenceNumber&&""!=t.collateralValue&&""!=t.branchCode||1!=this.securedOverdraftUpdateForm.touched||this.snack.open("mandatory details are not filled so need to be filled!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),null!=t.limitStartDate&&null!=t.limitStartDate._d&&null!=t.limitStartDate._d&&(t.limitStartDate=this.convertDate(t.limitStartDate._d)),null!=t.limitEndDate&&null!=t.limitEndDate._d&&null!=t.limitEndDate._d&&(t.limitEndDate=this.convertDate(t.limitEndDate._d))});let e={securedOverDrafts:this.c.value,loggedInUser:this.loggedInUser};this.securedOverdraftUpdateForm.invalid?console.log("this.securedOverdraftUpdateForm.touched",this.securedOverdraftUpdateForm.touched):this.api.securedDraft(e).subscribe(t=>{this.snack.open("Secured Overdraft Details is already filled, click on Next button to continue!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}onReset(){this.securedOverdraftUpdateForm.reset(),this.c.clear()}removeCollateral(t){this.c.controls[t].reset()}convertDate(t){let e=h(t).format("YYYY-MM-DDThh:mm:ss");if(console.log("date",e),e)return e}keyUpevent(t,e){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.issecurityValid=!1,this.c.at(e).get("branchCode").setValue("")):this.onbackSpace=!1}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}calculateLinkagePercent(t,e){this.linkangePercent=t.collateralValue*(t.linkagePercentage/100),this.c.at(e).get("availableLinkageAccount").setValue(this.linkangePercent.toFixed(2))}calculateFinalrate(t,e){this.finalRatevalue=1*t.rate+1*t.spread,console.log(this.linkangePercent,this.c.controls[e]),this.c.at(e).get("finalAmount").setValue(this.finalRatevalue)}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(l.a),i.Rb(p.f),i.Rb(r.b),i.Rb(f.a),i.Rb(i.h),i.Rb(V.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-secured-overdraft-details-update"]],decls:18,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],["fxLayout","row","fxLayout.lt-sm","column",1,"app-top-toolbar"],["fxFlex",""],["mat-button","","color","primary",3,"click",4,"ngIf"],[3,"formGroup"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["mat-button","","color","primary",3,"click"],["expanded","true",1,"mb-8",3,"opened","closed"],["fxLayout","column",3,"formGroup"],["fxLayout","row","fxFlex","100"],["fxFlex","33.33%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","prefix","formControlName","collateralCurrency"],["matInput","","name","a_sig","id","collateralValue","formControlName","collateralValue","placeholder","Collateral Value","required","",3,"keypress","input"],["matInput","","name","a_sig","formControlName","linkagePercentage","placeholder","Linkage Percentage","required","",3,"keypress","keydown","input"],["readonly","","matInput","","name","a_sig","formControlName","availableLinkageAccount","placeholder","Available Linkage Amount",3,"keypress"],["matInput","","name","a_sig","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress","keyup"],["fxLayout","row",1,"inputCard"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min","selectedChange"],["matSuffix","",3,"for"],["appDatepicker",""],["readonly","","matInput","","name","led","formControlName","limitEndDate","placeholder","Limit End Date",3,"min","matDatepicker"],["appDatepicker1",""],["name","attributes","formControlName","attributes"],["value","1"],["value","2"],["value","3"],["name","dimensions","formControlName","dimensions"],["matInput","","required","","name","a_sig","formControlName","securityReferenceNumber","placeholder","Security Reference Number",3,"keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","hintClass","class","hintColor",4,"ngIf"],["matInput","","name","a_sig","formControlName","branchCode","placeholder","Branch Code","readonly","","required","",3,"keypress"],["matInput","","name","rateValue","formControlName","rateValue","placeholder","Rate Value",3,"keypress"],["matInput","","name","a_sig","formControlName","rate","placeholder","Rate",3,"keypress","keydown","input"],["matInput","","type","number","name","a_sig","formControlName","spread","placeholder","Spread",3,"input"],["matInput","","name","a_sig","formControlName","finalAmount","placeholder","Rate",3,"keypress","keydown"],[1,"pb-1"],["type","file","name","documentUrl",2,"display","none",3,"change"],["documentUrl",""],["fxLayout","row wrap",1,"flex-container","stretch"],[1,"UploadLink",3,"routerLink","click"],[1,"documentHint"],["class","documentlink","download","",3,"href",4,"ngIf"],["class","docIcon",3,"click",4,"ngIf"],["class","spinner",3,"diameter",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[1,"errorClass"],["matSuffix","","color","primary"],[1,"hintColor"],["download","",1,"documentlink",3,"href"],[1,"docIcon",3,"click"],[1,"spinner",3,"diameter"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Secured Overdraft Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"div",3),i.Sb(7,"span",4),i.Rc(8,ze,4,0,"button",5),i.Wb(),i.Xb(9,"mat-card"),i.Xb(10,"form",6),i.Rc(11,pa,144,32,"div",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",8),i.Xb(13,"button",9),i.fc("click",function(){return e.onSubmit(e.securedOverdraftUpdateForm.value)}),i.Tc(14,"Save"),i.Wb(),i.Tc(15," \xa0\xa0\xa0 "),i.Xb(16,"button",10),i.fc("click",function(){return e.close()}),i.Tc(17," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(8),i.rc("ngIf",!e.showEditOption),i.Eb(2),i.rc("formGroup",e.securedOverdraftUpdateForm),i.Eb(1),i.rc("ngForOf",e.c.controls),i.Eb(2),i.rc("disabled",e.securedOverdraftUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,g.b,o.n,X.a,p.A,p.s,p.j,o.m,C.b,j.a,j.c,j.e,j.f,W.f,T.a,p.r,p.i,y.b,p.c,p.y,I.e,I.g,W.j,I.d,O.n,p.v,je.k,W.b,E.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var fa=a("PSD3"),ga=a.n(fa);function va(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please Enter Limit ID "),i.Wb())}function Wa(t,e){if(1&t&&(i.Xb(0,"mat-option",35),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.currencyCode),i.Eb(1),i.Uc(t.currencyCode)}}function Xa(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please select Currency "),i.Wb())}function ya(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please enter Overdraft Limit Amount "),i.Wb())}function Ta(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please select Limit Start Date "),i.Wb())}function Ia(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please select Limit End Date "),i.Wb())}function xa(t,e){if(1&t&&(i.Xb(0,"mat-option",35),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Ca(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please select Year "),i.Wb())}function Ea(t,e){if(1&t&&(i.Xb(0,"mat-option",35),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Oa(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please select Month "),i.Wb())}function Da(t,e){if(1&t&&(i.Xb(0,"mat-option",35),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Aa(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please select Day "),i.Wb())}function Ra(t,e){1&t&&(i.Xb(0,"mat-error",34),i.Tc(1," Please enter Renewal Amount "),i.Wb())}function Sa(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",36),i.Xb(1,"div",37),i.Xb(2,"div",38),i.Xb(3,"mat-hint",11),i.Tc(4,"Renew Period"),i.Wb(),i.Xb(5,"div",39),i.Xb(6,"div"),i.Xb(7,"mat-hint"),i.Tc(8,"Years"),i.Wb(),i.Xb(9,"mat-card",12),i.Xb(10,"mat-select",40),i.fc("[ngModel]",function(){return i.Hc(t),i.jc(2).selectedYear}),i.Rc(11,xa,2,2,"mat-option",18),i.Wb(),i.Wb(),i.Rc(12,Ca,2,0,"mat-error",14),i.Wb(),i.Xb(13,"div"),i.Xb(14,"div",31),i.Xb(15,"div",21),i.Xb(16,"mat-hint",11),i.Tc(17,"Months"),i.Wb(),i.Xb(18,"mat-card",12),i.Xb(19,"mat-select",41),i.fc("[ngModel]",function(){return i.Hc(t),i.jc(2).selectedMonth}),i.Rc(20,Ea,2,2,"mat-option",18),i.Wb(),i.Wb(),i.Rc(21,Oa,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div"),i.Xb(23,"div",31),i.Xb(24,"div",21),i.Xb(25,"mat-hint",11),i.Tc(26,"Days"),i.Wb(),i.Xb(27,"mat-card",12),i.Xb(28,"mat-select",42),i.fc("[ngModel]",function(){return i.Hc(t),i.jc(2).selectedDay}),i.Rc(29,Da,2,2,"mat-option",18),i.Wb(),i.Wb(),i.Rc(30,Aa,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(31,"div",43),i.Xb(32,"mat-hint",11),i.Tc(33,"Renewal Amount"),i.Wb(),i.Xb(34,"mat-card",12),i.Xb(35,"input",44),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(36,Ra,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(11),i.rc("ngForOf",t.years),i.Eb(1),i.rc("ngIf",t.unsecuredUpdateForm.get("year").hasError("required")&&t.unsecuredUpdateForm.get("year").touched),i.Eb(8),i.rc("ngForOf",t.months),i.Eb(1),i.rc("ngIf",t.unsecuredUpdateForm.get("month").hasError("required")&&t.unsecuredUpdateForm.get("month").touched),i.Eb(8),i.rc("ngForOf",t.days),i.Eb(1),i.rc("ngIf",t.unsecuredUpdateForm.get("day").hasError("required")&&t.unsecuredUpdateForm.get("day").touched),i.Eb(6),i.rc("ngIf",t.unsecuredUpdateForm.get("renewalAmount").hasError("required")&&t.unsecuredUpdateForm.get("renewalAmount").touched)}}function Na(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",7),i.Xb(1,"mat-card"),i.Xb(2,"div",8),i.Xb(3,"div",9),i.Xb(4,"div",10),i.Xb(5,"mat-hint",11),i.Tc(6,"Limit ID*"),i.Wb(),i.Xb(7,"mat-card",12),i.Xb(8,"input",13),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(9,va,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Xb(10,"div",15),i.Xb(11,"div",16),i.Xb(12,"mat-hint",11),i.Tc(13,"Currency*"),i.Wb(),i.Xb(14,"mat-card",12),i.Xb(15,"mat-select",17),i.fc("[ngModel]",function(){return i.Hc(t),i.jc().selectedCurrency}),i.Rc(16,Wa,2,2,"mat-option",18),i.Wb(),i.Wb(),i.Rc(17,Xa,2,0,"mat-error",14),i.Wb(),i.Xb(18,"div",16),i.Xb(19,"mat-hint",11),i.Tc(20,"Overdraft Limit Amount*"),i.Wb(),i.Xb(21,"mat-card",12),i.Xb(22,"input",19),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(23,ya,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Xb(24,"div",15),i.Xb(25,"div",20),i.Xb(26,"div",21),i.Xb(27,"mat-hint",11),i.Tc(28,"Limit Start Date*"),i.Wb(),i.Xb(29,"mat-card",12),i.Sb(30,"input",22),i.Sb(31,"mat-datepicker-toggle",23),i.Wb(),i.Rc(32,Ta,2,0,"mat-error",14),i.Wb(),i.Sb(33,"mat-datepicker",null,24),i.Wb(),i.Xb(35,"div",20),i.Xb(36,"div",21),i.Xb(37,"mat-hint",11),i.Tc(38,"Limit End Date*"),i.Wb(),i.Xb(39,"mat-card",12),i.Xb(40,"div",25),i.Sb(41,"input",26),i.Wb(),i.Xb(42,"div",27),i.Sb(43,"mat-datepicker-toggle",23),i.Wb(),i.Wb(),i.Rc(44,Ia,2,0,"mat-error",14),i.Wb(),i.Sb(45,"mat-datepicker",null,28),i.Wb(),i.Wb(),i.Xb(47,"div",29),i.Xb(48,"div",30),i.Xb(49,"div",31),i.Tc(50," Do your Unsecured Overdraft Limit has to be renewed ? "),i.Xb(51,"mat-slide-toggle",32),i.fc("change",function(e){return i.Hc(t),i.jc().onToggle(e)}),i.Wb(),i.Wb(),i.Sb(52,"br"),i.Wb(),i.Wb(),i.Rc(53,Sa,37,7,"div",33),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(34),e=i.Dc(46),a=i.jc();i.rc("formGroup",a.unsecuredUpdateForm),i.Eb(9),i.rc("ngIf",a.unsecuredUpdateForm.get("limitId").hasError("required")),i.Eb(7),i.rc("ngForOf",a.currency),i.Eb(1),i.rc("ngIf",a.unsecuredUpdateForm.get("overdraftCurrency").hasError("required")),i.Eb(6),i.rc("ngIf",a.unsecuredUpdateForm.controls.overdraftLimitAmount.touched),i.Eb(7),i.rc("matDatepicker",t)("min",a.minDate),i.Eb(1),i.rc("for",t),i.Eb(1),i.rc("ngIf",a.unsecuredUpdateForm.get("limitStartDate").hasError("required")),i.Eb(9),i.rc("min",a.unsecuredUpdateForm.get("limitStartDate").value)("matDatepicker",e),i.Eb(2),i.rc("for",e),i.Eb(1),i.rc("ngIf",a.unsecuredUpdateForm.get("limitEndDate").hasError("required")),i.Eb(9),i.rc("ngIf",a.flag)}}let Pa=(()=>{class t{constructor(t,e,a,o,n,i,r,c){this.data=t,this.dialogRef=e,this.ls=a,this.formBuilder=o,this.cdr=n,this.api=i,this.snack=r,this.tasksummaryService=c}ngOnInit(){this.accountId=this.ls.getItem("accountId"),console.log(this.data,this.accountId),this.getCurrencyDetails(),this.data?this.buildUnsecuredForm(this.data):this.buildUnsecuredForm()}buildUnsecuredForm(t,e){if(this.unsecuredUpdateForm=this.formBuilder.group({limitId:[t?t.limitId:"",p.z.required],accountId:null!=this.accountId?this.accountId:"",overdraftCurrency:[t?t.overdraftCurrency:"",p.z.required],overdraftLimitAmount:[t?t.overdraftLimitAmount:"",p.z.required],limitStartDate:[t?new Date(t.limitStartDate):"",p.z.required],limitEndDate:[t?new Date(t.limitEndDate):"",p.z.required],unsecuredLimit:[""],renewPeriod:[t?t.renewPeriod:""],renewalAmount:[t?t.renewalAmount:""],year:[t?t.year:""],month:[t?t.month:""],day:[t?t.day:""],overdraftLimitRenewed:[t?t.overdraftLimitRenewed:""]}),t&&(console.log("values:",t.renewPeriod),t.renewPeriod)){this.selectedYear=t.renewPeriod.substring(0,4);let e=t.renewPeriod.substring(5,8);this.selectedDay=t.renewPeriod.substring(9,11),this.unsecuredUpdateForm.get("year").setValue(Number(this.selectedYear)),this.unsecuredUpdateForm.get("month").setValue(e),this.unsecuredUpdateForm.get("day").setValue(Number(this.selectedDay)),this.cdr.markForCheck()}}onSubmit(){if(this.unsecuredUpdateForm.value.overdraftLimitRenewed&&(null==this.unsecuredUpdateForm.controls.day.value||null==this.unsecuredUpdateForm.controls.year.value||null==this.unsecuredUpdateForm.controls.month.value))return void this.snack.open("Please give Renew Period","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});let t=this.convertDate(this.unsecuredUpdateForm.controls.limitStartDate.value);this.unsecuredUpdateForm.value.limitStartDate=t;let e,a=this.convertDate(this.unsecuredUpdateForm.controls.limitEndDate.value);this.unsecuredUpdateForm.value.limitEndDate=a,e=this.unsecuredUpdateForm.value.overdraftLimitRenewed?this.unsecuredUpdateForm.value.year+"-"+this.unsecuredUpdateForm.value.month+"-"+this.unsecuredUpdateForm.value.day:"";let o={accountId:this.accountId,limitId:this.unsecuredUpdateForm.value.limitId,overdraftCurrency:this.unsecuredUpdateForm.value.overdraftCurrency,overdraftLimitAmount:this.unsecuredUpdateForm.value.overdraftLimitAmount,limitStartDate:this.unsecuredUpdateForm.value.limitStartDate,limitEndDate:this.unsecuredUpdateForm.value.limitEndDate,renewPeriod:e,renewalAmount:this.unsecuredUpdateForm.value.renewalAmount,overdraftLimitRenewed:this.unsecuredUpdateForm.value.overdraftLimitRenewed};if(null==o.limitId||null==o.overdraftLimitAmount)return ga.a.fire("Please Enter The Mandatory Fields !"),!1;""!=this.unsecuredUpdateForm.value.limitId&&this.api.unsecuredDraft(o).subscribe(t=>{this.snack.open("UnSecured Overdraft Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open(t.message,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}getCurrencyDetails(){this.api.fetchCurrencyMaintAuthRecs().subscribe(t=>{this.currency=t})}onToggle(t){!0===t.checked?this.flag=!0:(this.flag=!1,this.unsecuredUpdateForm.get("renewalAmount").setValue(""))}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}convertDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(l.a),i.Rb(p.f),i.Rb(i.h),i.Rb(r.b),i.Rb(f.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-unsecured-overdraft-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100%","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","30%","appearance","outline",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","limitId","formControlName","limitId","name","mod","placeholder","Limit ID",3,"keypress"],["class","errorClass",4,"ngIf"],["fxFlex","100%","fxLayout","row wrap","fxLayoutGap","5%"],["fxFlex","40%","appearance","outline",1,"full-width"],["name","prefix","formControlName","overdraftCurrency",3,"[ngModel]"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","a_sig","maxlength","15","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress"],["fxFlex","40%"],["appearance","outline",1,"full-width"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","85%"],["matInput","","name","dob","formControlName","limitEndDate","placeholder","Limit End Date","readonly","",3,"min","matDatepicker"],["fxFelx","15%"],["appDatepicker1",""],["fxFlex","100","fxLayout","row"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["formControlName","overdraftLimitRenewed",3,"change"],["fxflex","100",4,"ngIf"],[1,"errorClass"],[3,"value"],["fxflex","100"],["fxLayout","row"],["fxFlex","50%"],["fxLayout","row wrap","fxLayoutGap","5px","fxLayout","row"],["required","","formControlName","year",3,"[ngModel]"],["required","","formControlName","month",3,"[ngModel]"],["required","","formControlName","day",3,"[ngModel]"],[1,"full-width"],["matInput","","maxlength","8","name","a_sig","required","","formControlName","renewalAmount","placeholder","Renewal Amount",3,"keypress"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Unsecured Overdraft Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Rc(6,Na,54,14,"form",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit()}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("ngIf",e.unsecuredUpdateForm),i.Eb(2),i.rc("disabled",e.unsecuredUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,X.a,g.b,W.f,y.b,p.c,p.r,p.i,T.a,o.m,p.m,I.e,I.g,W.j,I.d,x.a,W.b,O.n,p.y],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var ka=a("BSbQ");function Fa(t,e){if(1&t&&(i.Xb(0,"mat-option",67),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function La(t,e){1&t&&(i.Xb(0,"mat-error",68),i.Tc(1," Please select the Employment Type "),i.Wb())}function _a(t,e){1&t&&(i.Xb(0,"mat-error",68),i.Tc(1," Please enter the Designation "),i.Wb())}function wa(t,e){1&t&&(i.Xb(0,"mat-error",68),i.Tc(1," Please enter the Employee Number "),i.Wb())}function Ua(t,e){if(1&t&&(i.Xb(0,"mat-option",67),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ma(t,e){1&t&&(i.Xb(0,"mat-error",68),i.Tc(1," Please select the Employment Category "),i.Wb())}function Ga(t,e){1&t&&(i.Xb(0,"mat-error",68),i.Tc(1," Please enter the Office Name "),i.Wb())}function Va(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",7),i.Xb(1,"mat-card"),i.Xb(2,"div",8),i.Xb(3,"mat-card"),i.Xb(4,"div",8),i.Xb(5,"div",9),i.Xb(6,"mat-hint",10),i.Tc(7,"Applicant Name"),i.Wb(),i.Xb(8,"mat-card",11),i.Sb(9,"input",12),i.Wb(),i.Wb(),i.Xb(10,"div",9),i.Xb(11,"mat-hint",10),i.Tc(12,"Total Annual Income*"),i.Wb(),i.Xb(13,"mat-card"),i.Sb(14,"input",13),i.Wb(),i.Wb(),i.Xb(15,"div",9),i.Xb(16,"mat-hint",10),i.Tc(17,"Total Annual Expenses*"),i.Wb(),i.Xb(18,"mat-card"),i.Sb(19,"input",14),i.Wb(),i.Wb(),i.Xb(20,"div",9),i.Xb(21,"div"),i.Xb(22,"mat-hint",10),i.Tc(23,"Last Update On"),i.Wb(),i.Xb(24,"mat-card",15),i.Xb(25,"div",16),i.Sb(26,"input",17),i.Wb(),i.Xb(27,"div",18),i.Sb(28,"mat-datepicker-toggle",19),i.Wb(),i.Wb(),i.Wb(),i.Sb(29,"mat-datepicker",null,20),i.Wb(),i.Wb(),i.Wb(),i.Xb(31,"mat-card"),i.Xb(32,"mat-card-title",21),i.Xb(33,"div",22),i.Tc(34,"Employment Details"),i.Wb(),i.Sb(35,"mat-divider"),i.Wb(),i.Xb(36,"mat-card-content"),i.Xb(37,"div",8),i.Xb(38,"div",23),i.Xb(39,"mat-hint",10),i.Tc(40,"Employment Type*"),i.Wb(),i.Xb(41,"mat-card",11),i.Xb(42,"mat-select",24),i.Rc(43,Fa,2,2,"mat-option",25),i.Wb(),i.Wb(),i.Rc(44,La,2,0,"mat-error",26),i.Wb(),i.Xb(45,"div",23),i.Xb(46,"mat-hint",10),i.Tc(47,"Designation*"),i.Wb(),i.Xb(48,"mat-card",11),i.Sb(49,"input",27),i.Wb(),i.Rc(50,_a,2,0,"mat-error",26),i.Wb(),i.Xb(51,"div",23),i.Xb(52,"mat-hint",10),i.Tc(53,"Employee number*"),i.Wb(),i.Xb(54,"mat-card",11),i.Xb(55,"input",28),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(56,wa,2,0,"mat-error",26),i.Wb(),i.Xb(57,"div",23),i.Xb(58,"mat-hint",10),i.Tc(59,"Employment Category*"),i.Wb(),i.Xb(60,"mat-card",11),i.Xb(61,"mat-select",29),i.Rc(62,Ua,2,2,"mat-option",25),i.Wb(),i.Wb(),i.Rc(63,Ma,2,0,"mat-error",26),i.Wb(),i.Xb(64,"div",9),i.Xb(65,"div"),i.Xb(66,"mat-hint",10),i.Tc(67,"Employment Start Date"),i.Wb(),i.Xb(68,"mat-card",11),i.Xb(69,"div",16),i.Sb(70,"input",30),i.Wb(),i.Xb(71,"div",18),i.Sb(72,"mat-datepicker-toggle",19),i.Wb(),i.Wb(),i.Wb(),i.Sb(73,"mat-datepicker",null,31),i.Wb(),i.Xb(75,"div",9),i.Xb(76,"div"),i.Xb(77,"mat-hint",10),i.Tc(78,"Employment End Date"),i.Wb(),i.Xb(79,"mat-card",11),i.Sb(80,"input",32),i.Sb(81,"mat-datepicker-toggle",19),i.Wb(),i.Wb(),i.Sb(82,"mat-datepicker",null,33),i.Wb(),i.Xb(84,"div",23),i.Xb(85,"mat-hint",10),i.Tc(86,"Office Name*"),i.Wb(),i.Xb(87,"mat-card",11),i.Sb(88,"input",34),i.Wb(),i.Rc(89,Ga,2,0,"mat-error",26),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(90,"mat-card"),i.Xb(91,"mat-card-title",21),i.Xb(92,"div",22),i.Tc(93,"Monthly Income "),i.Xb(94,"div",35),i.Tc(95),i.Wb(),i.Wb(),i.Sb(96,"mat-divider"),i.Wb(),i.Xb(97,"mat-card-content"),i.Xb(98,"div",8),i.Xb(99,"div",23),i.Xb(100,"mat-hint",10),i.Tc(101,"Salary"),i.Wb(),i.Xb(102,"mat-card",11),i.Xb(103,"input",36),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(104,"div",23),i.Xb(105,"mat-hint",10),i.Tc(106,"Business"),i.Wb(),i.Xb(107,"mat-card",11),i.Xb(108,"input",37),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(109,"div",23),i.Xb(110,"mat-hint",10),i.Tc(111,"Interest Income"),i.Wb(),i.Xb(112,"mat-card",11),i.Xb(113,"input",38),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(114,"div",23),i.Xb(115,"mat-hint",10),i.Tc(116,"Pension"),i.Wb(),i.Xb(117,"mat-card",11),i.Xb(118,"input",39),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(119,"div",23),i.Xb(120,"mat-hint",10),i.Tc(121,"Bonus"),i.Wb(),i.Xb(122,"mat-card",11),i.Xb(123,"input",40),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(124,"div",23),i.Xb(125,"mat-hint",10),i.Tc(126,"Cash Gifts"),i.Wb(),i.Xb(127,"mat-card",11),i.Xb(128,"input",41),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(129,"div",23),i.Xb(130,"mat-hint",10),i.Tc(131,"Rentals"),i.Wb(),i.Xb(132,"mat-card",11),i.Xb(133,"input",42),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(134,"div",23),i.Xb(135,"mat-hint",10),i.Tc(136,"Others"),i.Wb(),i.Xb(137,"mat-card",11),i.Xb(138,"input",43),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(139,"div",23),i.Xb(140,"mat-hint",10),i.Tc(141,"Total"),i.Wb(),i.Xb(142,"mat-card",11),i.Sb(143,"input",44),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(144,"mat-card"),i.Xb(145,"mat-card-title",21),i.Xb(146,"div",22),i.Tc(147,"Monthly Expenses "),i.Xb(148,"div",35),i.Tc(149),i.Wb(),i.Wb(),i.Sb(150,"mat-divider"),i.Wb(),i.Xb(151,"mat-card-content"),i.Xb(152,"div",8),i.Xb(153,"div",23),i.Xb(154,"mat-hint",10),i.Tc(155,"Household"),i.Wb(),i.Xb(156,"mat-card",11),i.Xb(157,"input",45),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(158,"div",9),i.Xb(159,"mat-hint",10),i.Tc(160,"Medical"),i.Wb(),i.Xb(161,"mat-card",11),i.Xb(162,"input",46),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(163,"div",9),i.Xb(164,"mat-hint",10),i.Tc(165,"Vehicle Maintenance"),i.Wb(),i.Xb(166,"mat-card",11),i.Xb(167,"input",47),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(168,"div",9),i.Xb(169,"mat-hint",10),i.Tc(170,"Travel"),i.Wb(),i.Xb(171,"mat-card",11),i.Xb(172,"input",48),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(173,"div",9),i.Xb(174,"mat-hint",10),i.Tc(175,"Rentals"),i.Wb(),i.Xb(176,"mat-card",11),i.Xb(177,"input",49),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(178,"div",9),i.Xb(179,"mat-hint",10),i.Tc(180,"Others"),i.Wb(),i.Xb(181,"mat-card",11),i.Xb(182,"input",50),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(183,"div",9),i.Xb(184,"mat-hint",10),i.Tc(185,"Total"),i.Wb(),i.Xb(186,"mat-card",11),i.Sb(187,"input",51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(188,"mat-card"),i.Xb(189,"mat-card-title",21),i.Xb(190,"div",22),i.Tc(191,"Annual Liabilities "),i.Xb(192,"div",35),i.Tc(193),i.Wb(),i.Wb(),i.Sb(194,"mat-divider"),i.Wb(),i.Xb(195,"mat-card-content"),i.Xb(196,"div",8),i.Xb(197,"div",9),i.Xb(198,"mat-hint",10),i.Tc(199,"Property Loans"),i.Wb(),i.Xb(200,"mat-card",11),i.Xb(201,"input",52),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(202,"div",9),i.Xb(203,"mat-hint",10),i.Tc(204,"Personal Loans"),i.Wb(),i.Xb(205,"mat-card",11),i.Xb(206,"input",53),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(207,"div",9),i.Xb(208,"mat-hint",10),i.Tc(209,"Vehicle Loans"),i.Wb(),i.Xb(210,"mat-card",11),i.Xb(211,"input",54),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(212,"div",9),i.Xb(213,"mat-hint",10),i.Tc(214,"Cards Outstanding's"),i.Wb(),i.Xb(215,"mat-card",11),i.Xb(216,"input",55),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(217,"div",9),i.Xb(218,"mat-hint",10),i.Tc(219,"Overdrafts"),i.Wb(),i.Xb(220,"mat-card",11),i.Xb(221,"input",56),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(222,"div",9),i.Xb(223,"mat-hint",10),i.Tc(224,"Others"),i.Wb(),i.Xb(225,"mat-card",11),i.Xb(226,"input",57),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(227,"div",9),i.Xb(228,"mat-hint",10),i.Tc(229,"Total"),i.Wb(),i.Xb(230,"mat-card",11),i.Sb(231,"input",58),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(232,"mat-card"),i.Xb(233,"mat-card-title",21),i.Xb(234,"div",22),i.Tc(235,"Asset "),i.Xb(236,"div",35),i.Tc(237),i.Wb(),i.Wb(),i.Sb(238,"mat-divider"),i.Wb(),i.Xb(239,"mat-card-content"),i.Xb(240,"div",8),i.Xb(241,"div",9),i.Xb(242,"mat-hint",10),i.Tc(243,"Savings Deposits"),i.Wb(),i.Sb(244,"mat-card"),i.Xb(245,"input",59),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Xb(246,"div",9),i.Xb(247,"mat-hint",10),i.Tc(248,"Properties"),i.Wb(),i.Xb(249,"mat-card",11),i.Xb(250,"input",60),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(251,"div",9),i.Xb(252,"mat-hint",10),i.Tc(253,"Fixed Deposits"),i.Wb(),i.Xb(254,"mat-card",11),i.Xb(255,"input",61),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(256,"div",9),i.Xb(257,"mat-hint",10),i.Tc(258,"Stocks/Funds"),i.Wb(),i.Xb(259,"mat-card",11),i.Xb(260,"input",62),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(261,"div",9),i.Xb(262,"mat-hint",10),i.Tc(263,"Auto Mobiles"),i.Wb(),i.Xb(264,"mat-card",11),i.Xb(265,"input",63),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(266,"div",9),i.Xb(267,"mat-hint",10),i.Tc(268,"Lands"),i.Wb(),i.Xb(269,"mat-card",11),i.Xb(270,"input",64),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(271,"div",9),i.Xb(272,"mat-hint",10),i.Tc(273,"Others"),i.Wb(),i.Xb(274,"mat-card",11),i.Xb(275,"input",65),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(276,"div",9),i.Xb(277,"mat-hint",10),i.Tc(278,"Total"),i.Wb(),i.Xb(279,"mat-card"),i.Sb(280,"input",66),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(30),e=i.Dc(74),a=i.Dc(83),o=i.jc();i.rc("formGroup",o.financialDetailsUpdate),i.Eb(26),i.rc("matDatepicker",t)("max",o.tomorrow),i.Eb(2),i.rc("for",t),i.Eb(15),i.rc("ngForOf",o.arrayEmploymentType),i.Eb(1),i.rc("ngIf",o.financialDetailsUpdate.get("employmentType").hasError("required")),i.Eb(6),i.rc("ngIf",o.financialDetailsUpdate.get("designation").hasError("required")),i.Eb(6),i.rc("ngIf",o.financialDetailsUpdate.get("employeeNumber").hasError("required")),i.Eb(6),i.rc("ngForOf",o.arrayEmploymentCategory),i.Eb(1),i.rc("ngIf",o.financialDetailsUpdate.get("employmentCategory").hasError("required")),i.Eb(7),i.rc("matDatepicker",e),i.Eb(2),i.rc("for",e),i.Eb(8),i.rc("min",o.financialDetailsUpdate.get("employmentStartDate").value)("matDatepicker",a),i.Eb(1),i.rc("for",a),i.Eb(8),i.rc("ngIf",o.financialDetailsUpdate.get("officeName").hasError("required")),i.Eb(6),i.Vc("",o.incomeErrMsg," "),i.Eb(54),i.Vc("",o.ExpensesErrMsg," "),i.Eb(44),i.Vc("",o.LiabilitiesErrMsg," "),i.Eb(44),i.Vc("",o.assetErrMsg," ")}}let Ba=(()=>{class t{constructor(t,e,a,o,n,i,r,c){this.data=t,this.dialogRef=e,this.formBuilder=a,this.ls=o,this.cdr=n,this.api=i,this.snack=r,this.tasksummaryService=c}ngOnInit(){console.log(this.data,"AccountId: ",this.ls.getItem("accountId")),this.accountId=this.ls.getItem("accountId"),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.data?this.buildFinacialFormGroup(this.data):this.buildFinacialFormGroup()}buildFinacialFormGroup(t){this.financialDetailsUpdate=this.formBuilder.group({applicantName:[t?t.applicantName:"",p.z.required],applicantTotalIncome:[t?t.applicantTotalIncome:0,p.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,p.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],limit_end_date:[t?new Date(t.limit_end_date):""],employmentType:[t?t.employmentType:"",p.z.required],employmentCategory:[t?t.employmentCategory:"",p.z.required],employeeNumber:[t?t.employeeNumber:"",p.z.required],officeName:[t?t.officeName:"",p.z.required],designation:[t?t.designation:"",p.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):""],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0],accountId:this.ls.getItem("accountId")},{validator:t=>this.validateInputGroups(t)})}validateInputGroups(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}onSubmit(){let t=this.converDate(this.financialDetailsUpdate.controls.employmentStartDate.value);t&&"Invalid date"!=t?(console.log("startDate",t),this.financialDetailsUpdate.value.employmentStartDate=t):this.financialDetailsUpdate.value.employmentStartDate=null;let e=this.converDate(this.financialDetailsUpdate.controls.employmentEndDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.financialDetailsUpdate.value.employmentEndDate=e):this.financialDetailsUpdate.value.employmentEndDate=null;let a=this.converDate(this.financialDetailsUpdate.controls.lastUpdatedon.value);if(a&&"Invalid date"!=a?(console.log("startDate",a),this.financialDetailsUpdate.value.lastUpdatedon=a):this.financialDetailsUpdate.value.lastUpdatedon=null,console.log("submit",this.financialDetailsUpdate.value),!this.financialDetailsUpdate.value.applicantName||!this.financialDetailsUpdate.value.employmentType||!this.financialDetailsUpdate.value.employmentCategory)return console.log("if---\x3e"),ga.a.fire("Please Enter The Mandatory Fields !"),!1;this.api.upsertfinancialDetails(this.financialDetailsUpdate.value).subscribe(t=>{console.log(t),this.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}getEmploymentType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t})}getEmploymentCategory(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentCategory=t})}converDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}calculateTotalMonthlyIncome(t){let e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.financialDetailsUpdate.controls.monthlyIncomeTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalMonthlyExpenses(t){let e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.financialDetailsUpdate.controls.monthlyExpenseTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalLiabilities(t){let e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.financialDetailsUpdate.controls.liabilityTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalAssets(t){let e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.financialDetailsUpdate.controls.assetTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalIncomeAndExpense(t){let e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.financialDetailsUpdate.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.financialDetailsUpdate.controls.applicantTotalExpense.setValue(e),this.cdr.detectChanges()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(l.a),i.Rb(i.h),i.Rb(r.b),i.Rb(f.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-financial-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","submit",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","applicantName","readonly","","placeholder","Applicant Name"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Annual Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total Annual Expenses"],["fxFlexLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","formControlName","lastUpdatedon","placeholder","Last Update On","readonly","",3,"matDatepicker","max"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],[1,""],[1,"card-title-text"],["fxFlex","33.33%","fxFlex.xs","100%","fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","formControlName","employmentStartDate","placeholder","Employment Start Date","readonly","",3,"matDatepicker"],["start",""],["matInput","","name","employmentEndDate","formControlName","employmentEndDate","placeholder","Employment End Date","readonly","",3,"min","matDatepicker"],["end",""],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","autocomplete","off","placeholder","Business",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","MonthlyIncomeTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","monthlyExpenseRentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","monthlyExpenseOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","vehicle Loan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","cardOutstandings",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","overdraft",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","liabilityOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","fixedDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","stocks","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","assetOthers","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","assetTotal","readonly",""],[3,"value"],[1,"errorClass"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Financial Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Rc(6,Va,281,20,"form",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit()}),i.Tc(9," Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("ngIf",e.financialDetailsUpdate),i.Eb(2),i.rc("disabled",!e.financialDetailsUpdate.get("employeeNumber").valid||!e.financialDetailsUpdate.get("employmentType").valid||!e.financialDetailsUpdate.get("designation").valid||e.incomeErrMsg||!e.financialDetailsUpdate.get("officeName").valid||e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,X.a,g.b,W.f,y.b,p.c,p.r,p.i,p.v,I.e,I.g,W.j,I.d,X.h,ka.a,X.d,T.a,o.m,p.m,q.a,O.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}"]}),t})();function ja(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Margin in % is "),i.Xb(2,"strong"),i.Tc(3,"required"),i.Wb(),i.Wb())}function za(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Max value allowed is 100 "),i.Wb())}function qa(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Effective Rate % is required "),i.Wb())}function Ka(t,e){1&t&&(i.Xb(0,"mat-error",19),i.Tc(1," Max value allowed is 100 "),i.Wb())}function Ja(t,e){if(1&t){const t=i.Yb();i.Xb(0,"tr",10),i.Vb(1,7),i.Xb(2,"td"),i.Xb(3,"div"),i.Xb(4,"mat-card",11),i.Sb(5,"input",12),i.Xb(6,"mat-icon",13),i.Tc(7,"credit_card"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"td"),i.Xb(9,"div"),i.Xb(10,"mat-card",14),i.Sb(11,"input",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"td"),i.Xb(13,"div"),i.Xb(14,"mat-card",14),i.Xb(15,"input",16),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(16,ja,4,0,"mat-error",17),i.Rc(17,za,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(18,"td"),i.Xb(19,"div"),i.Xb(20,"mat-card",14),i.Xb(21,"input",18),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(22,qa,2,0,"mat-error",17),i.Rc(23,Ka,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Ub(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("formGroup",t),i.Eb(15),i.rc("ngIf",null==t.controls.marginIn.errors?null:t.controls.marginIn.errors.required),i.Eb(1),i.rc("ngIf",null==t.controls.marginIn.errors?null:t.controls.marginIn.errors.max),i.Eb(5),i.rc("ngIf",null==t.controls.effectiveRate.errors?null:t.controls.effectiveRate.errors.required),i.Eb(1),i.rc("ngIf",null==t.controls.effectiveRate.errors?null:t.controls.effectiveRate.errors.max)}}function $a(t,e){if(1&t&&(i.Xb(0,"form",7),i.Xb(1,"table"),i.Xb(2,"thead"),i.Xb(3,"tr"),i.Xb(4,"th",8),i.Tc(5,"Interest Type"),i.Wb(),i.Xb(6,"th",8),i.Tc(7,"Interest Rate Applicable"),i.Wb(),i.Xb(8,"th",8),i.Tc(9,"Margin in %"),i.Wb(),i.Xb(10,"th",8),i.Tc(11,"Effective Rate %"),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"tbody"),i.Rc(13,Ja,24,5,"tr",9),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.interestUpdateForm),i.Eb(13),i.rc("ngForOf",t.in.controls)}}let Ha=(()=>{class t{constructor(t,e,a,o,n,i,r){this.data=t,this.dialogRef=e,this.api=a,this.ls=o,this.formBuilder=n,this.snack=i,this.tasksummaryService=r}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.interestUpdateForm=this.formBuilder.group({interest:new p.d([])}),null!=this.data&&(this.buildInterestForm(this.data.length),this.in.patchValue(this.data)),this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(t=>{this.buildInterestForm(t.length),this.in.patchValue(t)})}buildInterestForm(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:["",[p.z.required,p.z.max(100),p.z.min(0)]],effectiveRate:["",[p.z.required,p.z.max(100),p.z.min(0)]],accountId:[""],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}get f(){return this.interestUpdateForm.controls}get in(){return this.f.interest}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onSubmit(t){t.interest=t.interest.map(t=>Object.assign(Object.assign({},t),{accountId:this.accountId})),this.api.intrestDetailsSave(t.interest).subscribe(t=>{this.snack.open("Interest Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(r.b),i.Rb(l.a),i.Rb(p.f),i.Rb(f.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-interest-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type","readonly",""],["matSuffix",""],[1,"inputCard"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","placeholder","Interest Rate Applicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","maxlength","3","type","text",1,"input",3,"keypress"],["class","errorClass",4,"ngIf"],["matInput","","formControlName","effectiveRate","name","account_branch","type","text","maxlength","3","value","",1,"input",3,"keypress"],[1,"errorClass"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Interest Details"),i.Wb(),i.Xb(5,"mat-card-content"),i.Rc(6,$a,14,2,"form",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit(e.interestUpdateForm.value)}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("ngIf",e.interestUpdateForm),i.Eb(2),i.rc("disabled",e.interestUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,X.d,o.n,C.b,p.A,p.s,p.j,o.m,X.a,y.b,p.c,p.r,p.i,W.j,p.m,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function Ya(t,e){1&t&&(i.Xb(0,"mat-error",17),i.Tc(1," amount is required "),i.Wb())}function Za(t,e){if(1&t){const t=i.Yb();i.Xb(0,"tr"),i.Vb(1,7),i.Xb(2,"td"),i.Xb(3,"div"),i.Xb(4,"mat-card",10),i.Xb(5,"input",11),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Xb(6,"mat-icon",12),i.Tc(7,"credit_card"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"td"),i.Xb(9,"div"),i.Xb(10,"mat-card",10),i.Sb(11,"input",13),i.Xb(12,"mat-icon",12),i.Tc(13,"class"),i.Wb(),i.Wb(),i.Rc(14,Ya,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Xb(15,"td"),i.Xb(16,"div",15),i.Xb(17,"mat-checkbox",16),i.fc("change",function(e){return i.Hc(t),i.jc(2).checkboxChanged(e)}),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("formGroup",t),i.Eb(13),i.rc("ngIf",(null==t.controls.amount.errors?null:t.controls.amount.errors.required)&&t.controls.amount.touched)}}function Qa(t,e){if(1&t&&(i.Xb(0,"form",7),i.Xb(1,"thead"),i.Xb(2,"tr"),i.Xb(3,"th",8),i.Tc(4,"Interest Type"),i.Wb(),i.Xb(5,"th",8),i.Tc(6,"Amount*"),i.Wb(),i.Xb(7,"th",8),i.Tc(8,"Waiver"),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"tbody"),i.Rc(10,Za,18,2,"tr",9),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.chargeForm),i.Eb(10),i.rc("ngForOf",t.c.controls)}}let to=(()=>{class t{constructor(t,e,a,o,n,i,r){this.data=t,this.dialogRef=e,this.api=a,this.formBuilder=o,this.ls=n,this.snack=i,this.tasksummaryService=r}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.chargeUpdateForm=this.formBuilder.group({charges:new p.d([])}),null!=this.data&&(this.buildChargeForm(this.data.length),this.c.patchValue(this.data)),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.buildChargeForm(t.length),this.c.patchValue(t)})}buildChargeForm(t){const e=t||0;if(this.c.length<e)for(let a=this.c.length;a<e;a++)this.c.push(this.formBuilder.group({intrestType:[""],amount:["",p.z.required],waiver:[!1],accountId:[this.accountId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(let a=this.c.length;a>=e;a--)this.c.removeAt(a)}get f(){return this.chargeUpdateForm.controls}get c(){return this.f.charges}onSubmit(t){t.charges=t.charges.map(t=>Object.assign(Object.assign({},t),{accountId:this.accountId})),t.accountId=this.accountId,this.api.chargeDetailsSave(t.charges).subscribe(t=>{this.snack.open("Account Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}checkboxChanged(t){console.log(t.checked),this.flag=t.checked}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(r.b),i.Rb(p.f),i.Rb(l.a),i.Rb(f.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-charge-details-update"]],decls:14,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type",3,"keypress"],["matSuffix",""],["matInput","","formControlName","amount","type","number","name","account_branch","placeholder","Amount"],["class","errorClass",4,"ngIf"],[1,"waiver-pos",2,"text-align","center"],["formControlName","waiver","color","primary",3,"change"],[1,"errorClass"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Charge Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Rc(7,Qa,11,2,"form",3),i.Wb(),i.Wb(),i.Xb(8,"div",4),i.Xb(9,"button",5),i.fc("click",function(){return e.onSubmit(e.chargeUpdateForm.value)}),i.Tc(10,"Save"),i.Wb(),i.Tc(11," \xa0\xa0\xa0 "),i.Xb(12,"button",6),i.fc("click",function(){return e.close()}),i.Tc(13," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("ngIf",e.chargeUpdateForm),i.Eb(2),i.rc("disabled",e.chargeUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,X.a,o.n,C.b,p.A,p.s,p.j,o.m,y.b,p.c,p.r,p.i,W.j,p.v,$t.a,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function eo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter valid Scorecard ID "),i.Wb())}function ao(t,e){1&t&&i.Sb(0,"input",15)}function oo(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function no(t,e){if(1&t&&(i.Xb(0,"mat-select",16),i.Rc(1,oo,2,2,"mat-option",17),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("ngForOf",t.value.scorecardAnswers)}}function io(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",11),i.Xb(2,"mat-hint"),i.Tc(3),i.Wb(),i.Xb(4,"mat-card"),i.Rc(5,ao,1,0,"input",13),i.Rc(6,no,2,1,"mat-select",14),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index;i.Eb(1),i.rc("formGroupName",a),i.Eb(2),i.Uc(t.value.scorecardQuestion),i.Eb(2),i.rc("ngIf","textbox"==t.value.attributeType),i.Eb(1),i.rc("ngIf","drop-down"==t.value.attributeType)}}function ro(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",11),i.Xb(2,"div",12),i.Rc(3,io,7,4,"div",7),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index;i.Eb(1),i.rc("formGroupName",a),i.Eb(2),i.rc("ngForOf",t.get("scoreCardDetails").controls)}}let co=(()=>{class t{constructor(t,e,a,o,n,i){this.formBuilder=t,this.qualitativeDetails=e,this.ls=a,this.apiService=o,this.dialogRef=n,this.snack=i,this.qualitative=new p.d([])}ngOnInit(){var t,e;console.log(this.qualitativeDetails),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.scoreCardId=null===(t=this.qualitativeDetails)||void 0===t?void 0:t.scorecardId,this.numberOfApplicant=null===(e=this.qualitativeDetails)||void 0===e?void 0:e.numberOfApplicant,this.buildQualitativeForm(),this.apiService.getScorecardQuestions(this.accountType).subscribe(t=>{var e;this.qualitative=this.qualitativeUpdateForm.get("scorecardMapping"),this.qualitative.push(this.addScorecardMappiing());for(let a=0;a<t.length;a++)this.addScorecardDetails(t[a],null===(e=this.qualitativeDetails)||void 0===e?void 0:e.scoreCardMapping[0].scoreCardDetails[a].scorecardAnswer,a)})}buildQualitativeForm(){this.qualitativeUpdateForm=this.formBuilder.group({accountId:this.accountId,accountType:this.accountType,scoreCardId:this.scoreCardId?this.scoreCardId:"",loggedinUser:"123",numberOfApplicant:this.numberOfApplicant,scorecardMapping:this.formBuilder.array([])})}addScorecardMappiing(){return this.formBuilder.group({applicantId:"",scoreCardDetails:this.formBuilder.array([])})}addScorecardDetails(t,e,a){this.qualitative.controls[0].get("scoreCardDetails").push(this.formBuilder.group({scoreCardDetailsId:[t?t.scoreCardDetailsId:""],scoreCardMappingId:[t?t.scoreCardMappingId:""],scoreCardQuestionId:[t?t.scoreCardQuestionId:""],scorecardQuestion:[t?t.scorecardQuestion:""],scorecardAnswer:[t?t.scorecardAnswer:"",[p.z.required]],scorecardAnswers:[t?t.scorecardAnswers:""],attributeType:[t?t.attributeType:""]})),e&&this.qualitative.controls[0].get("scoreCardDetails").at(a).get("scorecardAnswer").setValue(e)}saveReports(t){this.apiService.saveQualitativeScorecard(t).subscribe(t=>{this.snack.open("Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(p.f),i.Rb(b.a),i.Rb(l.a),i.Rb(r.b),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-qualitative-details-update"]],decls:22,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId","formControlName","scoreCardId"],[4,"ngIf"],["formArrayName","scorecardMapping"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroupName"],["formArrayName","scoreCardDetails"],["matInput","","formControlName","scorecardAnswer",4,"ngIf"],["formControlName","scorecardAnswer",4,"ngIf"],["matInput","","formControlName","scorecardAnswer"],["formControlName","scorecardAnswer"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Qualitative Scoreboard"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",3),i.Xb(7,"mat-card"),i.Xb(8,"div"),i.Xb(9,"mat-hint"),i.Tc(10," Scorecard ID "),i.Wb(),i.Xb(11,"mat-card"),i.Sb(12,"input",4),i.Wb(),i.Rc(13,eo,2,0,"mat-error",5),i.Wb(),i.Xb(14,"div",6),i.Rc(15,ro,4,2,"div",7),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div",8),i.Xb(17,"button",9),i.fc("click",function(){return e.saveReports(e.qualitativeUpdateForm.value)}),i.Tc(18,"Save"),i.Wb(),i.Tc(19," \xa0\xa0\xa0 "),i.Xb(20,"button",10),i.fc("click",function(){return e.close()}),i.Tc(21," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("formGroup",e.qualitativeUpdateForm),i.Eb(7),i.rc("ngIf",e.qualitativeUpdateForm.get("scoreCardId").touched&&0==e.qualitativeUpdateForm.get("scoreCardId").value),i.Eb(2),i.rc("ngForOf",e.qualitativeUpdateForm.get("scorecardMapping").controls),i.Eb(2),i.rc("disabled",e.qualitativeUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,p.A,p.s,p.j,X.a,W.f,y.b,p.c,q.a,p.r,p.i,o.n,p.e,o.m,C.b,W.b,p.k,T.a,O.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var so=a("/Pd4"),lo=a("kA6c"),bo=a("Ya7Z");function uo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Enter Fund By "),i.Wb())}function mo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Enter Amount "),i.Wb())}function po(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Enter Teller Transaction Reference Number "),i.Wb())}function ho(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",9),i.Xb(1,"mat-hint",10),i.Tc(2,"Teller Transaction Reference Number"),i.Wb(),i.Xb(3,"mat-card",11),i.Xb(4,"input",19),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(5,po,2,0,"mat-error",16),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(5),i.rc("ngIf",t.fundStageUpdateForm.controls.tellerTrxnRefNo.hasError("required"))}}function fo(t,e){if(1&t&&(i.Xb(0,"mat-hint",10),i.Tc(1),i.kc(2,"currency"),i.Wb()),2&t){const t=i.jc(3);i.Eb(1),i.Vc("Available Balance : ",i.oc(2,1,null==t.accountInfo?null:t.accountInfo.accBalance,null==t.accountInfo?null:t.accountInfo.currency,"symbol","4.2-2"),"")}}function go(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Fund By Account is Required! "),i.Wb())}function vo(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",9),i.Xb(1,"mat-hint",10),i.Tc(2,"Fund By Account"),i.Wb(),i.Xb(3,"mat-card",11),i.Xb(4,"input",20),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("keyup",function(e){return i.Hc(t),i.jc(2).keyUp(e)})("change",function(){i.Hc(t);const e=i.jc(2);return e.onChangeEvent(e.fundStageUpdateForm.get("fundByAccount").value)}),i.Wb(),i.Xb(5,"mat-icon",21),i.Tc(6,"search"),i.Wb(),i.Wb(),i.Rc(7,fo,3,6,"mat-hint",22),i.Rc(8,go,2,0,"mat-error",16),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(7),i.rc("ngIf",null!==t.accountInfo),i.Eb(1),i.rc("ngIf",t.fundStageUpdateForm.get("fundByAccount").hasError("required"))}}function Wo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Enter Branch Code "),i.Wb())}function Xo(t,e){if(1&t&&(i.Xb(0,"div",9),i.Xb(1,"mat-hint",10),i.Tc(2,"Branch Code"),i.Wb(),i.Xb(3,"mat-card",11),i.Sb(4,"input",23),i.Wb(),i.Rc(5,Wo,2,0,"mat-error",16),i.Wb()),2&t){const t=i.jc(2);i.Eb(5),i.rc("ngIf",t.fundStageUpdateForm.controls.branchCode.hasError("required"))}}function yo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Enter Cheque Number "),i.Wb())}function To(t,e){1&t&&(i.Xb(0,"small",26),i.Tc(1," Cheque Number should be minmum 6 digits "),i.Wb())}function Io(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",9),i.Xb(1,"mat-hint",10),i.Tc(2,"Cheque Number"),i.Wb(),i.Xb(3,"mat-card",11),i.Xb(4,"input",24),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(5,yo,2,0,"mat-error",16),i.Rc(6,To,2,0,"small",25),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(5),i.rc("ngIf",t.fundStageUpdateForm.controls.chequeNumber.hasError("required")),i.Eb(1),i.rc("ngIf",t.chequeNoLenCheck)}}function xo(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div"),i.Xb(2,"div"),i.Xb(3,"button",27),i.Tc(4),i.Wb(),i.Wb(),i.Wb(),i.Xb(5,"div"),i.Xb(6,"div"),i.Xb(7,"button",28),i.Tc(8),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",9),i.Xb(10,"mat-hint",10),i.Tc(11,"Amount"),i.Wb(),i.Xb(12,"mat-card",11),i.Xb(13,"span",29),i.Tc(14,"\xa0"),i.Wb(),i.Sb(15,"input",30),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(4),i.Vc(" ReferenceNumber : ",t.fundStageUpdateForm.value.tellerTrxnRefNo," "),i.Eb(4),i.Vc(" Branch Code : ",t.fundStageUpdateForm.value.tellerTrxnStatus," ")}}function Co(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",7),i.Xb(1,"div",8),i.Xb(2,"div",9),i.Xb(3,"mat-hint",10),i.Tc(4,"Fund By*"),i.Wb(),i.Xb(5,"mat-card",11),i.Xb(6,"mat-select",12),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().selected(e.value)}),i.Xb(7,"mat-option",13),i.Tc(8,"Cash"),i.Wb(),i.Xb(9,"mat-option",14),i.Tc(10,"Cheque"),i.Wb(),i.Xb(11,"mat-option",15),i.Tc(12,"Fund Transfer"),i.Wb(),i.Wb(),i.Wb(),i.Rc(13,uo,2,0,"mat-error",16),i.Wb(),i.Xb(14,"div",9),i.Xb(15,"mat-hint",10),i.Tc(16,"Amount"),i.Wb(),i.Xb(17,"mat-card",11),i.Xb(18,"input",17),i.fc("keyup",function(e){return i.Hc(t),i.jc().validateAmount(e)})("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.kc(19,"removeComma"),i.Wb(),i.Wb(),i.Rc(20,mo,2,0,"mat-error",16),i.Wb(),i.Rc(21,ho,6,1,"div",18),i.Rc(22,vo,9,2,"div",18),i.Rc(23,Xo,6,1,"div",18),i.Rc(24,Io,7,2,"div",18),i.Wb(),i.Rc(25,xo,16,2,"mat-card",16),i.Wb()}if(2&t){const t=i.jc();i.rc("formGroup",t.fundStageUpdateForm),i.Eb(13),i.rc("ngIf",t.fundStageUpdateForm.controls.fundBy.hasError("required")),i.Eb(5),i.rc("value",i.lc(19,9,t.fundStageUpdateForm.controls.amount.value)),i.Eb(2),i.rc("ngIf",t.fundStageUpdateForm.controls.amount.hasError("required")),i.Eb(1),i.rc("ngIf",t.disabletellerTrxnRefNo),i.Eb(1),i.rc("ngIf",t.disableFundByAccount),i.Eb(1),i.rc("ngIf",t.disabletellerTrxnStatus),i.Eb(1),i.rc("ngIf",t.disablechequeNumber),i.Eb(1),i.rc("ngIf",t.actionView)}}let Eo=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b){this.data=t,this.dialogRef=e,this.formBuilder=a,this.cdr=o,this.accountService=n,this.ls=i,this.fundingStageService=r,this.snack=c,this.apiService=s,this.loader=l,this.tasksummaryService=b}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountInfo=this.ls.getItem("accountDetails"),this.data?("Fund Transfer"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1),"Cheque"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1),"Cash"==this.data.fundBy&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1),this.buildFundFormGroup(this.data)):this.buildFundFormGroup()}buildFundFormGroup(t){this.fundStageUpdateForm=this.formBuilder.group({fundId:[t?t.fundId:""],fundBy:[t?t.fundBy:"",[p.z.required]],amount:[t?t.amount:""],tellerTrxnRefNo:[t?t.tellerTrxnRefNo:""],fundByAccount:[t?t.fundByAccount:""],chequeNumber:[t?t.chequeNumber:"",[p.z.maxLength]],branchCode:[t?t.branchCode:""],tellerTrxnStatus:[t?t.tellerTrxnStatus:""],createdBy:[t?t.createdBy:""],createdTime:[t?t.createdTime:""],modifiedBy:[t?t.modifiedBy:""],modifiedTime:[t?t.modifiedTime:""],accountId:[this.accountId]}),(null==t?void 0:t.fundByAccount)&&this.fetchAccountBalance(t.fundByAccount)}fetchAccountBalance(t,e){this.loader.open(),this.apiService.fetchAccountBalanceByAccountId(t).subscribe(t=>{console.log("RES",t),this.accountInfo=t,e||"Fund Transfer"==this.fundStageUpdateForm.get("fundBy").value&&(this.fundStageUpdateForm.get("fundByAccount").patchValue(t.accountId),this.fundStageUpdateForm.get("branchCode").patchValue(t.branchCode)),this.loader.close(),this.snack.open("Fetched!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{this.loader.close(),this.snack.open("Invalid AccountId!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}selected(t){console.log(t),"Fund Transfer"==t&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1,null!=this.accountInfo&&(this.fundStageUpdateForm.get("branchCode").patchValue(this.accountInfo.branchCode),this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId)),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cheque"==t&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1,null!=this.accountInfo&&this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId),this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cash"==t&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1,this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),this.fundStageUpdateForm.get("fundBy").setValue(t)}onSubmit(t){t.accountId=this.accountId,this.fundingStageService.saveOrUpdateFundStageDetails(t).subscribe(t=>{null!=t.accountId||""!=t.accountId||""!=t.accountId?(this.fundingStageService.isSubmittedResp(!0),this.snack.open("Funding Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"}),this.cdr.markForCheck()):(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))},t=>{console.log("error :: ",t),this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}_keyPress(t){console.log("PRessed",t);let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onChangeEvent(t){console.log("Onchange event",t),this.fetchAccountBalance(t)}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(i.h),i.Rb(lo.a),i.Rb(l.a),i.Rb(so.a),i.Rb(f.a),i.Rb(r.b),i.Rb(B.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-funding-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["formControlName","fundBy","placeholder","Fund By",1,"full-width",2,"background-color","#FDFDFF","font-size","16px","border","transparent",3,"selectionChange"],["value","Cash"],["value","Cheque"],["value","Fund Transfer"],[4,"ngIf"],["matInput","","formControlName","amount","placeholder","Amount","maxlength","10","minlength","0","required","",3,"value","keyup","keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","tellerTrxnRefNo","placeholder","Teller Transaction Reference Number","maxlength","10","minlength","0",3,"keypress"],["name","account","formControlName","fundByAccount","matInput","","placeholder","Fund By Account","maxlength","10","minlength","0",3,"keypress","keyup","change"],["matSuffix",""],["class","hintClass",4,"ngIf"],["matInput","","formControlName","branchCode","appUppercaseInput","","placeholder","Branch Code","maxlength","11","minlength","0"],["matInput","","formControlName","chequeNumber","placeholder","Cheque Number","maxlength","12","minlength","6",3,"keypress"],["style","color: tomato;",4,"ngIf"],[2,"color","tomato"],["mat-raised-button","","id","referenceNumber","color","primary"],["mat-raised-button","","id","status","type","button",2,"background-color","#1ABC9C"],["matPrefix",""],["matInput","","formControlName","amount","placeholder","Amount","readonly",""]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Funding Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Rc(6,Co,26,11,"form",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit(e.fundStageUpdateForm.value)}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("ngIf",e.fundStageUpdateForm),i.Eb(2),i.rc("disabled",e.fundStageUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,O.n,y.b,p.c,p.m,p.n,p.y,W.b,W.j,bo.a,W.i],pipes:[o.d],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function Oo(t,e){if(1&t&&(i.Xb(0,"mat-option",17),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Do(t,e){if(1&t&&(i.Xb(0,"mat-option",17),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ao(t,e){if(1&t&&(i.Xb(0,"mat-option",17),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let Ro=(()=>{class t{constructor(t,e,a,o,n,i,r){this.data=t,this.dialogRef=e,this.api=a,this.formBuilder=o,this.ls=n,this.snack=i,this.tasksummaryService=r,this.arrayAccountType=[],this.arrayAccountCurrency=[],this.arrayUserRecomendation=[]}ngOnInit(){console.log(this.data),this.buildApprovalForm({}),this.getAccountCurrency("currency"),this.getAccountType("account_type"),this.getUserRecomendation("user_recomendation"),this.data&&this.buildApprovalForm(this.data)}buildApprovalForm(t){this.approvalUpdateForm=this.formBuilder.group({accountId:[this.ls.getItem("accountId")],accountType:[t?t.accountType:""],businessProductName:[t?t.businessProductName:""],productCode:[t?t.businessProductName:""],description:[t?t.description:""],accountBranch:[t?t.accountBranch:""],accountCurrency:[t?t.accountCurrency:""],applicationDate:[t?t.applicationDate:""],fundTheAccount:[t?t.fundTheAccount:""],fundBy:[t?t.fundBy:""],amount:[t?t.amount:""],overDraftRequested:[t?t.overDraftRequested:""],productDescription:[t?t.productDescription:""],userRecommendation:[t?t.userRecommendation:""],createdBy:[this.ls.getItem("userName")]})}onSubmit(t){t.applicationDate=h(t.applicationDate).format("DD-MMM-YYYY"),this.api.approvalUpdate(t).subscribe(t=>{this.snack.open("Approval Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})})}getAccountCurrency(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountCurrency=t})}getAccountType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getUserRecomendation(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayUserRecomendation=t})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(r.b),i.Rb(p.f),i.Rb(l.a),i.Rb(f.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-approval-details-update"]],decls:42,vars:5,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"paddingclass","full-width"],[1,"hintClass"],[1,"inputCard"],["name","account","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","readonly","","placeholder","Account Branch","formControlName","accountBranch"],["name","owner","formControlName","accountCurrency"],["matInput","","name","account_branch","placeholder","Product Image","formControlName","productCode","readonly",""],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Approval Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",3),i.Xb(7,"div",4),i.Xb(8,"div",5),i.Xb(9,"mat-hint",6),i.Tc(10,"Account Type"),i.Wb(),i.Xb(11,"mat-card",7),i.Xb(12,"mat-select",8),i.Rc(13,Oo,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"div",5),i.Xb(15,"mat-hint",6),i.Tc(16,"Account Branch"),i.Wb(),i.Xb(17,"mat-card",7),i.Sb(18,"input",10),i.Wb(),i.Wb(),i.Xb(19,"div",5),i.Xb(20,"mat-hint",6),i.Tc(21,"Account Currency"),i.Wb(),i.Xb(22,"mat-card",7),i.Xb(23,"mat-select",11),i.Rc(24,Do,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",5),i.Xb(26,"mat-hint",6),i.Tc(27,"Product Code"),i.Wb(),i.Xb(28,"mat-card",7),i.Sb(29,"input",12),i.Wb(),i.Wb(),i.Xb(30,"div",5),i.Xb(31,"mat-hint",6),i.Tc(32,"User Recomendation"),i.Wb(),i.Xb(33,"mat-card",7),i.Xb(34,"mat-select",13),i.Rc(35,Ao,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",14),i.Xb(37,"button",15),i.fc("click",function(){return e.onSubmit(e.approvalUpdateForm.value)}),i.Tc(38,"Save"),i.Wb(),i.Tc(39," \xa0\xa0\xa0 "),i.Xb(40,"button",16),i.fc("click",function(){return e.close()}),i.Tc(41," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("formGroup",e.approvalUpdateForm),i.Eb(7),i.rc("ngForOf",e.arrayAccountType),i.Eb(11),i.rc("ngForOf",e.arrayAccountCurrency),i.Eb(11),i.rc("ngForOf",e.arrayUserRecomendation),i.Eb(2),i.rc("disabled",!e.approvalUpdateForm.valid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,o.m,y.b,p.c,C.b,O.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var So=a("h/GN");function No(t,e){if(1&t&&(i.Vb(0),i.Tc(1),i.Ub()),2&t){const t=i.jc().index;i.Eb(1),i.Vc(" Update Mandate ",t+1," ")}}function Po(t,e){if(1&t&&i.Tc(0),2&t){const t=i.jc().index;i.Vc(" Create Mandate ",t+1," ")}}function ko(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Fo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Mode Of Operation is Required! "),i.Wb())}function Lo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Amount From is Required! "),i.Wb())}function _o(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Amount To is Required! "),i.Wb())}function wo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," No of Signatories is Required! "),i.Wb())}function Uo(t,e){1&t&&(i.Xb(0,"small",27),i.Tc(1," No of Signatories can not be more than no of applicants! "),i.Wb())}function Mo(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",28),i.fc("click",function(){i.Hc(t);const e=i.jc().index;return i.jc(2).removeMandate(e)}),i.Sb(1,"mat-icon"),i.Tc(2," REMOVE MANDATE "),i.Wb()}}function Go(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"mat-accordion"),i.Xb(2,"mat-expansion-panel",9),i.fc("opened",function(){return i.Hc(t),i.jc(2).panelOpenState=!0})("closed",function(){return i.Hc(t),i.jc(2).panelOpenState=!1}),i.Xb(3,"mat-expansion-panel-header"),i.Xb(4,"mat-panel-title"),i.Rc(5,No,2,1,"ng-container",10),i.Rc(6,Po,1,1,"ng-template",null,11,i.Sc),i.Wb(),i.Wb(),i.Xb(8,"div",7),i.Xb(9,"div",12),i.Xb(10,"div",13),i.Xb(11,"div"),i.Xb(12,"mat-hint"),i.Tc(13," Mode Of Operation "),i.Wb(),i.Xb(14,"mat-card"),i.Xb(15,"mat-select",14),i.Rc(16,ko,2,2,"mat-option",15),i.Wb(),i.Wb(),i.Rc(17,Fo,2,0,"mat-error",16),i.Wb(),i.Xb(18,"div",17),i.Xb(19,"div"),i.Xb(20,"mat-hint"),i.Tc(21,"Amount From*"),i.Wb(),i.Xb(22,"mat-card"),i.Xb(23,"input",18),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(24,Lo,2,0,"mat-error",16),i.Wb(),i.Xb(25,"div"),i.Xb(26,"mat-hint"),i.Tc(27,"Amount From*"),i.Wb(),i.Xb(28,"mat-card"),i.Xb(29,"input",19),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(30,_o,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(31,"div"),i.Xb(32,"mat-hint"),i.Tc(33,"Required Signatories"),i.Wb(),i.Xb(34,"mat-card"),i.Xb(35,"input",20),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress2(e)}),i.Wb(),i.Wb(),i.Rc(36,wo,2,0,"mat-error",16),i.Xb(37,"div"),i.Rc(38,Uo,2,0,"small",21),i.Wb(),i.Wb(),i.Xb(39,"div"),i.Xb(40,"mat-hint"),i.Tc(41,"Remarks"),i.Wb(),i.Sb(42,"textarea",22),i.Wb(),i.Xb(43,"div",23),i.Xb(44,"button",24),i.fc("click",function(){return i.Hc(t),i.jc(2).addMandateToFormGroup()}),i.Xb(45,"mat-icon"),i.Tc(46,"add"),i.Wb(),i.Tc(47," ADD MANDATE "),i.Wb(),i.Rc(48,Mo,3,0,"button",25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.Dc(7),n=i.jc(2);i.Eb(5),i.rc("ngIf",n.showEditOption)("ngIfElse",o),i.Eb(3),i.rc("formGroup",t),i.Eb(8),i.rc("ngForOf",n.arrayModeOfOperation),i.Eb(1),i.rc("ngIf",t.get("modeOfOperation").touched&&t.get("modeOfOperation").hasError("required")),i.Eb(7),i.rc("ngIf",t.get("amountFrom").touched&&t.get("amountFrom").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("amountTo").touched&&t.get("amountTo").hasError("required")),i.Eb(6),i.rc("ngIf",t.get("totalSignaturesRequired").touched&&t.get("totalSignaturesRequired").hasError("required")),i.Eb(2),i.rc("ngIf",n.flag),i.Eb(6),i.rc("disabled",a<n.m.controls.length-1),i.Eb(4),i.rc("ngIf",null!=t.get("mandateId").value)}}function Vo(t,e){if(1&t&&(i.Xb(0,"form",7),i.Rc(1,Go,49,11,"div",8),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.mandatesUpdateForm),i.Eb(1),i.rc("ngForOf",t.m.controls)}}let Bo=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.data=t,this.dialogRef=e,this.formBuilder=a,this.apiService=o,this.snack=n,this.ls=i,this.api=r,this.confirmService=c,this.tasksummaryService=s}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getModeOfOperation("opr_mode"),this.data?(this.showEditOption=!0,this.buildMandateForm(),this.addMandateToFormGroup(this.data)):(this.showEditOption=!1,this.buildMandateForm(),this.addMandateToFormGroup())}buildMandateForm(){this.mandatesUpdateForm=this.formBuilder.group({mandates:this.formBuilder.array([])})}addMandateToFormGroup(t){const e=t?t.length:1;console.log("numberOfItems",e);for(let a=0;a<e;a++)this.m.push(this.formBuilder.group({mandateId:[t?t.mandateId:""],productAccountId:[this.accountId],modeOfOperation:["",p.z.required],amountFrom:["",p.z.required],amountTo:["",p.z.required],totalSignaturesRequired:[""],remarks:[""]})),this.m.at(a).patchValue(t[a])}removeMandate(t){let e=this.m.at(t).get("mandateId").value;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(a=>{console.log("res:: removed ",a),a&&this.apiService.deleteMandateById(e,"ADMIN").subscribe(t=>{console.log("data",t)},e=>{this.mandatesUpdateForm.controls.mandates.removeAt(t),200===e.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}get f(){return this.mandatesUpdateForm.controls}get m(){return this.f.mandates}getModeOfOperation(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayModeOfOperation=t})}onSubmit(){this.apiService.saveMandateDetails(this.mandatesUpdateForm.value).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Mandate Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}_keyPress2(t){this.no_of_sig=t.key,isNaN(t.key)?console.log("input is invalid"):t.key>this.no_of_applicants?(console.log("no of signatories is more than no of applicants"),this.flag=!0):0==t.key?this.flag1=!0:(this.flag=!1,this.flag1=!1);let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(d.a),i.Rb(f.a),i.Rb(l.a),i.Rb(r.b),i.Rb(V.a),i.Rb(m.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-mandate-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[4,"ngFor","ngForOf"],["expanded","true",3,"opened","closed"],[4,"ngIf","ngIfElse"],["createMandate",""],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["formControlName","modeOfOperation","name","mod","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["matInput","","maxlength","10","name","a_from","formControlName","amountFrom","placeholder","Amount From",3,"keypress"],["matInput","","maxlength","10","name","a_to","formControlName","amountTo","placeholder","Amount To",3,"keypress"],["matInput","","name","a_sig","formControlName","totalSignaturesRequired","maxlength","1","placeholder","Required No of Signatories",3,"keypress"],["style","color: red",4,"ngIf"],["matInput","","name","remark","formControlName","remarks","placeholder","Leave a Remarks"],[1,"pb-1"],["mat-button","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[2,"color","red"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Mandate Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Rc(6,Vo,2,2,"form",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit()}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("ngIf",e.mandatesUpdateForm),i.Eb(2),i.rc("disabled",e.flag||!e.mandatesUpdateForm.valid||e.flag1))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,o.m,j.a,j.c,j.e,j.f,g.b,W.f,X.a,T.a,p.r,p.i,p.y,y.b,p.c,p.m,O.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var jo=a("vSAV"),zo=a("nZzT"),qo=a("cUpR"),Ko=a("ura0");const Jo=["chart"];function $o(t,e){1&t&&i.Sb(0,"mat-spinner")}function Ho(t,e){if(1&t&&(i.Xb(0,"span",56),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(t)}}function Yo(t,e){if(1&t&&(i.Xb(0,"div",57),i.Xb(1,"h1",58),i.Tc(2),i.kc(3,"slice"),i.kc(4,"uppercase"),i.kc(5,"slice"),i.kc(6,"uppercase"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Oc("background",t.customerColorCode),i.Eb(2),i.Wc("",i.nc(3,4,i.lc(4,8,t.accInfo.firstName),0,1),"",i.nc(5,10,i.lc(6,14,t.accInfo.lastName),0,1),"")}}function Zo(t,e){if(1&t&&i.Sb(0,"img",60),2&t){const t=i.jc(2);i.rc("src",t.imageUrl,i.Jc)}}function Qo(t,e){if(1&t&&(i.Xb(0,"div",57),i.Rc(1,Zo,1,1,"img",59),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.rc("ngIf","not_available"!=t.imageUrl)}}function tn(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"mat-card-content"),i.Xb(2,"div",61),i.Xb(3,"div",62),i.Xb(4,"h2",63),i.Tc(5),i.kc(6,"slice"),i.kc(7,"uppercase"),i.kc(8,"slice"),i.kc(9,"uppercase"),i.Wb(),i.Wb(),i.Xb(10,"mat-card",64),i.Xb(11,"div",65),i.Xb(12,"div",66),i.Tc(13),i.Wb(),i.Xb(14,"div",67),i.Tc(15),i.Wb(),i.Xb(16,"div",68),i.Xb(17,"mat-icon",69),i.Tc(18," phone"),i.Wb(),i.Xb(19,"div",70),i.Tc(20),i.Wb(),i.Wb(),i.Xb(21,"div",71),i.Xb(22,"mat-icon",69),i.Tc(23," email"),i.Wb(),i.Xb(24,"div",70),i.Tc(25),i.Wb(),i.Wb(),i.Xb(26,"div",72),i.Xb(27,"mat-icon",69),i.Tc(28," location_on"),i.Wb(),i.Xb(29,"div",70),i.Tc(30),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(31,"mat-card",64),i.Xb(32,"div",73),i.Xb(33,"div",74),i.Xb(34,"h3"),i.Tc(35,"Other Details"),i.Wb(),i.Wb(),i.Xb(36,"div",75),i.Xb(37,"div"),i.Xb(38,"div",37),i.Tc(39,"Date Of Birth"),i.Wb(),i.Xb(40,"div",38),i.Tc(41),i.Wb(),i.Wb(),i.Xb(42,"div"),i.Xb(43,"div",37),i.Tc(44,"Citizenship By"),i.Wb(),i.Xb(45,"div",38),i.Tc(46),i.Wb(),i.Wb(),i.Xb(47,"div"),i.Xb(48,"div",37),i.Tc(49,"Id Type"),i.Wb(),i.Xb(50,"div",38),i.Tc(51),i.Wb(),i.Wb(),i.Wb(),i.Sb(52,"br"),i.Xb(53,"div",76),i.Xb(54,"div"),i.Xb(55,"div",37),i.Tc(56,"Residence Status"),i.Wb(),i.Xb(57,"div",38),i.Tc(58),i.Wb(),i.Wb(),i.Xb(59,"div"),i.Xb(60,"div",37),i.Tc(61,"Occupation Type"),i.Wb(),i.Xb(62,"div",38),i.Tc(63),i.Wb(),i.Wb(),i.Xb(64,"div"),i.Xb(65,"div",37),i.Tc(66,"Unique Id Number"),i.Wb(),i.Xb(67,"div",38),i.Tc(68),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(5),i.Wc("",i.nc(6,14,i.lc(7,18,t.firstName),0,1),"",i.nc(8,20,i.lc(9,24,t.lastName),0,1),""),i.Eb(8),i.Uc(t.prefix+" "+t.firstName+" "+t.lastName),i.Eb(2),i.Vc("CIF ",null!=t.cifNumber?"#"+t.cifNumber:"- n/a",""),i.Eb(5),i.Uc(t.phoneNumber),i.Eb(5),i.Uc(t.primaryEmailAdress),i.Eb(5),i.Wc(" ",t.userAddress[0].address1," ",t.userAddress[0].address," "),i.Eb(11),i.Uc(t.dateOfBirth),i.Eb(5),i.Uc(t.countryOfResidence),i.Eb(5),i.Uc(t.custIdProofs[0].idType),i.Eb(7),i.Uc(t.residenceStatus),i.Eb(5),i.Uc(t.occupationType),i.Eb(5),i.Uc(t.custIdProofs[0].idNumber)}}function en(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"fieldset"),i.Xb(3,"legend",31),i.Tc(4,"Customer Information Details"),i.Wb(),i.Wb(),i.Xb(5,"span"),i.Xb(6,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editCustomerInfo()}),i.Tc(7,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card",33),i.Xb(9,"mat-card-content"),i.Xb(10,"div",39),i.Sb(11,"div",35),i.Xb(12,"div",36),i.Xb(13,"div",37),i.Tc(14,"Ownership"),i.Wb(),i.Xb(15,"div",38),i.Tc(16),i.Wb(),i.Wb(),i.Xb(17,"div",36),i.Xb(18,"div",37),i.Tc(19,"Number of Applicant"),i.Wb(),i.Xb(20,"div",38),i.Tc(21),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(22,tn,69,26,"mat-card",41),i.Wb()}if(2&t){const t=i.jc();i.Eb(6),i.rc("hidden",t.editScreen),i.Eb(10),i.Uc(t.customerInformation.data[0].ownership),i.Eb(5),i.Uc(t.customerInformation.data[0].numOfApplicants),i.Eb(1),i.rc("ngForOf",t.customerInformation.data)}}function an(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"h2",77),i.Xb(2,"span",78),i.Xb(3,"mat-icon",79),i.Tc(4,"done"),i.Wb(),i.Wb(),i.Tc(5),i.Wb(),i.Xb(6,"div",61),i.Sb(7,"div",80),i.Xb(8,"div",81),i.Xb(9,"div",37),i.Tc(10,"Mode Of Operation"),i.Wb(),i.Xb(11,"div",38),i.Tc(12),i.Wb(),i.Wb(),i.Xb(13,"div",81),i.Xb(14,"div",37),i.Tc(15,"Amount From"),i.Wb(),i.Xb(16,"div",38),i.Tc(17),i.Wb(),i.Wb(),i.Xb(18,"div",81),i.Xb(19,"div",37),i.Tc(20,"Amount To"),i.Wb(),i.Xb(21,"div",38),i.Tc(22),i.Wb(),i.Wb(),i.Xb(23,"div",81),i.Xb(24,"div",37),i.Tc(25,"Required No. of Signatures"),i.Wb(),i.Xb(26,"div",38),i.Tc(27),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index;i.Eb(5),i.Vc("Mandate ",a+1,""),i.Eb(7),i.Uc(t.modeOfOperation),i.Eb(5),i.Uc(t.amountFrom),i.Eb(5),i.Uc(t.amountTo),i.Eb(5),i.Uc(t.totalSignaturesRequired)}}function on(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"fieldset"),i.Xb(3,"legend",31),i.Tc(4,"Mandate Details"),i.Wb(),i.Wb(),i.Xb(5,"span"),i.Xb(6,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editMandateDetails()}),i.Tc(7,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(8,an,28,5,"mat-card",41),i.Wb()}if(2&t){const t=i.jc();i.Eb(6),i.rc("hidden",t.editScreen),i.Eb(2),i.rc("ngForOf",t.mandate)}}function nn(t,e){if(1&t&&(i.Xb(0,"span"),i.Tc(1),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.Vc(" ",t.name," ")}}function rn(t,e){if(1&t&&(i.Xb(0,"div",38),i.Rc(1,nn,2,1,"span",5),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.rc("ngIf",t.checked)}}function cn(t,e){if(1&t&&(i.Xb(0,"span"),i.Tc(1),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.Vc(" ",t.name," ")}}function sn(t,e){if(1&t&&(i.Xb(0,"div",38),i.Rc(1,cn,2,1,"span",5),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.rc("ngIf",t.checked)}}function ln(t,e){if(1&t&&(i.Xb(0,"span"),i.Tc(1),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.Vc(" ",t.name," ")}}function bn(t,e){if(1&t&&(i.Xb(0,"div",38),i.Rc(1,ln,2,1,"span",5),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.rc("ngIf",t.checked)}}function dn(t,e){if(1&t&&(i.Xb(0,"div",81),i.Xb(1,"div",37),i.Tc(2,"Debit Card Type"),i.Wb(),i.Xb(3,"div",38),i.Xb(4,"span"),i.Tc(5),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(5),i.Vc(" ",null==t.debitCardDataValue?null:t.debitCardDataValue.cardType," ")}}function un(t,e){if(1&t&&(i.Xb(0,"div",34),i.Xb(1,"table",86),i.Xb(2,"thead",87),i.Xb(3,"tr"),i.Xb(4,"th"),i.Tc(5,"Daily Limit"),i.Wb(),i.Xb(6,"th"),i.Tc(7,"Domestic Limit"),i.Wb(),i.Xb(8,"th"),i.Tc(9,"International Limit"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"ATM Limit"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"POS Limit "),i.Wb(),i.Xb(14,"th"),i.Tc(15,"Internet Limit "),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"tbody"),i.Xb(17,"tr"),i.Xb(18,"td"),i.Tc(19),i.Wb(),i.Xb(20,"td"),i.Tc(21),i.Wb(),i.Xb(22,"td"),i.Tc(23),i.Wb(),i.Xb(24,"td"),i.Tc(25),i.Wb(),i.Xb(26,"td"),i.Tc(27),i.Wb(),i.Xb(28,"td"),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(19),i.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.dailyLimit),i.Eb(2),i.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.domesticLimit),i.Eb(2),i.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.internationalLimit),i.Eb(2),i.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.atmLimit),i.Eb(2),i.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.posLimit),i.Eb(2),i.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.internetLimit)}}function mn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"fieldset"),i.Xb(3,"legend",31),i.Tc(4,"Account Service Details"),i.Wb(),i.Wb(),i.Xb(5,"span"),i.Xb(6,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editServiceDetails()}),i.Tc(7,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card",33),i.Xb(9,"mat-card-content"),i.Xb(10,"div",34),i.Sb(11,"div",35),i.Xb(12,"div",81),i.Xb(13,"div",37),i.Tc(14,"Account Statement Frequency"),i.Wb(),i.Xb(15,"div",38),i.Tc(16),i.Wb(),i.Wb(),i.Xb(17,"div",81),i.Xb(18,"div",37),i.Tc(19,"Account Statement Preferences"),i.Wb(),i.Rc(20,rn,2,1,"div",82),i.Wb(),i.Xb(21,"div",81),i.Xb(22,"div",37),i.Tc(23,"Cheque Book"),i.Wb(),i.Xb(24,"div",38),i.Sb(25,"mat-slide-toggle",83),i.Wb(),i.Wb(),i.Xb(26,"div",81),i.Xb(27,"div",37),i.Tc(28,"Debit Card"),i.Wb(),i.Xb(29,"div",38),i.Sb(30,"mat-slide-toggle",83),i.Wb(),i.Wb(),i.Wb(),i.Xb(31,"div",34),i.Sb(32,"div",35),i.Xb(33,"div",81),i.Xb(34,"div",37),i.Tc(35,"Banking Channel Preferences"),i.Wb(),i.Rc(36,sn,2,1,"div",82),i.Wb(),i.Xb(37,"div",81),i.Xb(38,"div",37),i.Tc(39,"Communication Channel Preferences"),i.Wb(),i.Rc(40,bn,2,1,"div",82),i.Wb(),i.Xb(41,"div",81),i.Xb(42,"div",37),i.Tc(43,"Pass Book"),i.Wb(),i.Xb(44,"div",38),i.Sb(45,"mat-slide-toggle",83),i.Wb(),i.Wb(),i.Rc(46,dn,6,1,"div",84),i.Wb(),i.Rc(47,un,30,6,"div",85),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(6),i.rc("hidden",t.editScreen),i.Eb(10),i.Uc(t.accountServiceDetails.statementFrequency),i.Eb(4),i.rc("ngForOf",t.accountServiceDetails.statementPref),i.Eb(5),i.rc("checked",null==t.accountServiceDetails?null:t.accountServiceDetails.chequebookNeeded),i.Eb(5),i.rc("checked",null==t.accountServiceDetails?null:t.accountServiceDetails.debitCardRequired),i.Eb(6),i.rc("ngForOf",t.accountServiceDetails.bankChannelPref),i.Eb(4),i.rc("ngForOf",t.accountServiceDetails.commChannelPref),i.Eb(5),i.rc("checked",null==t.accountServiceDetails?null:t.accountServiceDetails.passbookNeeded),i.Eb(1),i.rc("ngIf",t.cardType),i.Eb(1),i.rc("ngIf",t.cardType)}}function pn(t,e){if(1&t&&(i.Xb(0,"mat-card",64),i.Xb(1,"div",92),i.Sb(2,"div",74),i.Xb(3,"div",90),i.Xb(4,"h4"),i.Tc(5,"Guardian Details"),i.Wb(),i.Xb(6,"div"),i.Xb(7,"div",66),i.Tc(8),i.Wb(),i.Wb(),i.Xb(9,"div"),i.Xb(10,"div",37),i.Tc(11,"Relationship Type"),i.Wb(),i.Xb(12,"div",38),i.Tc(13),i.Wb(),i.Wb(),i.Xb(14,"div"),i.Xb(15,"div",37),i.Tc(16,"Date Of Birth"),i.Wb(),i.Xb(17,"div",38),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(8),i.Uc(t.prefix+" "+t.firstName+" "+t.lastName),i.Eb(5),i.Uc(t.relationshipType),i.Eb(5),i.Uc(t.dateOfBirth)}}function hn(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"h2",77),i.Xb(2,"span",78),i.Xb(3,"mat-icon",79),i.Tc(4,"done"),i.Wb(),i.Wb(),i.Tc(5),i.Wb(),i.Xb(6,"div"),i.Xb(7,"div",61),i.Xb(8,"mat-card",64),i.Xb(9,"div",88),i.Xb(10,"div",66),i.Tc(11),i.Wb(),i.Xb(12,"div",68),i.Xb(13,"mat-icon",69),i.Tc(14," phone"),i.Wb(),i.Xb(15,"div",70),i.Tc(16),i.Wb(),i.Wb(),i.Xb(17,"div",71),i.Xb(18,"mat-icon",69),i.Tc(19," email"),i.Wb(),i.Xb(20,"div",70),i.Tc(21),i.Wb(),i.Wb(),i.Xb(22,"div",72),i.Xb(23,"mat-icon",69),i.Tc(24," location_on"),i.Wb(),i.Xb(25,"div",70),i.Tc(26),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"mat-card",64),i.Xb(28,"div",89),i.Sb(29,"div",74),i.Xb(30,"div",90),i.Xb(31,"div"),i.Xb(32,"div",37),i.Tc(33,"Date Of Birth"),i.Wb(),i.Xb(34,"div",38),i.Tc(35),i.Wb(),i.Wb(),i.Xb(36,"div"),i.Xb(37,"div",37),i.Tc(38,"Relationship Type"),i.Wb(),i.Xb(39,"div",38),i.Tc(40),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(41,pn,19,3,"mat-card",91),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index;i.Eb(5),i.Vc("Nominee ",a+1,""),i.Eb(6),i.Uc(t.prefix+" "+t.firstName+" "+t.lastName),i.Eb(5),i.Vc(" ",t.phoneNumber,""),i.Eb(5),i.Uc(t.email),i.Eb(5),i.Zc(" ",t.building," ",t.street," ",t.locality," ",t.city," ",t.state," ",t.country," ",t.zipCode," "),i.Eb(9),i.Uc(t.dateOfBirth),i.Eb(5),i.Uc(t.relationshipType),i.Eb(1),i.rc("ngForOf",t.guardianDetails)}}function fn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"fieldset"),i.Xb(3,"legend",31),i.Tc(4,"Nominee Details"),i.Wb(),i.Wb(),i.Xb(5,"span"),i.Xb(6,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editNomineeDetails()}),i.Tc(7,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(8,hn,42,14,"mat-card",41),i.Wb()}if(2&t){const t=i.jc();i.Eb(6),i.rc("hidden",t.editScreen),i.Eb(2),i.rc("ngForOf",t.nomineeDetails)}}function gn(t,e){1&t&&(i.Xb(0,"legend",31),i.Tc(1,"Secured Overdraft Details"),i.Wb())}function vn(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div"),i.Xb(2,"div",37),i.Tc(3),i.Wb(),i.Wb(),i.Sb(4,"br"),i.Xb(5,"div",94),i.Xb(6,"div",74),i.Xb(7,"mat-icon",69),i.Tc(8," home"),i.Wb(),i.Tc(9),i.Wb(),i.Xb(10,"div",95),i.Xb(11,"div"),i.Xb(12,"button",96),i.Tc(13),i.Wb(),i.Wb(),i.Xb(14,"div"),i.Xb(15,"button",97),i.Tc(16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(17,"br"),i.Xb(18,"div"),i.Xb(19,"div",98),i.Xb(20,"div"),i.Xb(21,"div",37),i.Tc(22,"Collateral Value"),i.Wb(),i.Xb(23,"div",38),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div"),i.Xb(26,"div",37),i.Tc(27,"Available Linkage Amount"),i.Wb(),i.Xb(28,"div",38),i.Tc(29),i.Wb(),i.Wb(),i.Xb(30,"div"),i.Xb(31,"div",37),i.Tc(32,"Overdraft Limit Amount"),i.Wb(),i.Xb(33,"div",38),i.Tc(34),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Xb(36,"div",37),i.Tc(37,"Final Rate"),i.Wb(),i.Xb(38,"div",38),i.Tc(39),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(3),i.Vc("Collateral/Reference Number: ",t.securityReferenceNumber,""),i.Eb(6),i.Vc(" ",t.collateralType," "),i.Eb(4),i.Uc(t.dimensions),i.Eb(3),i.Uc(t.attributes),i.Eb(8),i.Uc(t.collateralValue),i.Eb(5),i.Uc(t.availableLinkageAccount),i.Eb(5),i.Uc(t.overdraftLimitAmount),i.Eb(5),i.Uc(t.finalAmount)}}function Wn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"fieldset"),i.Rc(3,gn,2,0,"legend",93),i.Wb(),i.Xb(4,"span"),i.Xb(5,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editSecuredOverdraftDetails()}),i.Tc(6,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(7,vn,40,8,"mat-card",5),i.Wb()}if(2&t){const t=e.$implicit,a=i.jc();i.Eb(3),i.rc("ngIf",null!=t.collateralType&&null!=t.securityReferenceNumber),i.Eb(2),i.rc("hidden",a.editScreen),i.Eb(2),i.rc("ngIf",null!=t.collateralType&&null!=t.securityReferenceNumber)}}function Xn(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",37),i.Tc(2,"Renew Period"),i.Wb(),i.Xb(3,"div",38),i.Tc(4),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(4),i.Uc(t.unsecuredOverdraftDetails.renewPeriod)}}function yn(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",37),i.Tc(2,"Renewal Amount"),i.Wb(),i.Xb(3,"div",38),i.Tc(4),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(4),i.Uc(t.unsecuredOverdraftDetails.renewalAmount)}}function Tn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"fieldset"),i.Xb(3,"legend",31),i.Tc(4,"Unsecured Overdraft Details"),i.Wb(),i.Wb(),i.Xb(5,"span"),i.Xb(6,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editUnsecuredOverdraftDetails()}),i.Tc(7,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card"),i.Xb(9,"div"),i.Xb(10,"div",99),i.Xb(11,"div"),i.Xb(12,"div",37),i.Tc(13,"Limit Id"),i.Wb(),i.Xb(14,"div",38),i.Tc(15),i.Wb(),i.Wb(),i.Xb(16,"div"),i.Xb(17,"div",37),i.Tc(18,"Overdraft Limit Amount"),i.Wb(),i.Xb(19,"div",38),i.Tc(20),i.Wb(),i.Wb(),i.Rc(21,Xn,5,1,"div",5),i.Rc(22,yn,5,1,"div",5),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(6),i.rc("hidden",t.editScreen),i.Eb(4),i.rc("hidden",null==t.unsecuredOverdraftDetails.renewPeriod&&t.unsecuredOverdraftDetails.renewalAmount),i.Eb(5),i.Uc(t.unsecuredOverdraftDetails.limitId),i.Eb(5),i.Uc(t.unsecuredOverdraftDetails.overdraftLimitAmount),i.Eb(1),i.rc("ngIf",null!=t.unsecuredOverdraftDetails.renewPeriod),i.Eb(1),i.rc("ngIf",null!=t.unsecuredOverdraftDetails.renewalAmount)}}function In(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"fieldset"),i.Xb(3,"legend",31),i.Tc(4,"Financial Details"),i.Wb(),i.Wb(),i.Xb(5,"span"),i.Xb(6,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editFinancialDetails()}),i.Tc(7,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",94),i.Xb(9,"mat-card",100),i.Xb(10,"h4"),i.Tc(11,"Assets and Liabilities"),i.Wb(),i.Sb(12,"apx-chart",101),i.Wb(),i.Xb(13,"mat-card",102),i.Xb(14,"h4"),i.Tc(15,"Income and Expenses"),i.Wb(),i.Sb(16,"apx-chart",103),i.Wb(),i.Wb(),i.Xb(17,"mat-card"),i.Xb(18,"mat-card-header",104),i.Xb(19,"div",105),i.Xb(20,"div",62),i.Xb(21,"div",63),i.Xb(22,"mat-icon"),i.Tc(23,"perm_identity"),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div"),i.Xb(25,"mat-card-title",106),i.Tc(26),i.Wb(),i.Xb(27,"mat-card-subtitle",107),i.Tc(28),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",108),i.Xb(30,"div"),i.Xb(31,"div",37),i.Tc(32,"Employment Type"),i.Wb(),i.Xb(33,"div",38),i.Tc(34),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Xb(36,"div",37),i.Tc(37,"Employment Category"),i.Wb(),i.Xb(38,"div",38),i.Tc(39),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(40,"br"),i.Wb()}if(2&t){const t=i.jc();i.Eb(6),i.rc("hidden",t.editScreen),i.Eb(6),i.rc("series",t.chartOptions.series)("chart",t.chartOptions.chart)("plotOptions",t.chartOptions.plotOptions)("labels",t.chartOptions.labels),i.Eb(4),i.rc("series",t.chartOptions1.series1)("chart",t.chartOptions1.chart1)("yaxis",t.chartOptions1.yaxis1)("xaxis",t.chartOptions1.xaxis1)("labels",t.chartOptions1.labels1)("stroke",t.chartOptions1.stroke1)("markers",t.chartOptions1.markers1)("fill",t.chartOptions1.fill1)("tooltip",t.chartOptions1.tooltip1),i.Eb(10),i.Uc(t.financialDetails.designation),i.Eb(2),i.Wc("",t.financialDetails.employeeNumber,",",t.financialDetails.officeName," "),i.Eb(6),i.Uc(t.financialDetails.employmentType),i.Eb(5),i.Uc(t.financialDetails.employmentCategory)}}function xn(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div"),i.Xb(2,"h4"),i.Tc(3,"Fixed Interest"),i.Wb(),i.Wb(),i.Xb(4,"div",109),i.Xb(5,"div"),i.Xb(6,"mat-card",110),i.Xb(7,"div"),i.Xb(8,"div",37),i.Tc(9,"Interest Type"),i.Wb(),i.Xb(10,"div",38),i.Tc(11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div"),i.Xb(13,"mat-card",111),i.Xb(14,"div"),i.Xb(15,"div",37),i.Tc(16,"Applicable Interest Rate"),i.Wb(),i.Xb(17,"div",38),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div"),i.Xb(20,"mat-card",112),i.Xb(21,"div"),i.Xb(22,"div",37),i.Tc(23,"Effective Rate %"),i.Wb(),i.Xb(24,"div",38),i.Tc(25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div"),i.Xb(27,"mat-card",113),i.Xb(28,"div"),i.Xb(29,"div",37),i.Tc(30,"Margin In %"),i.Wb(),i.Xb(31,"div",38),i.Tc(32),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(11),i.Uc(t.intrestType),i.Eb(7),i.Uc(t.intrestType),i.Eb(7),i.Uc(t.effectiveRate),i.Eb(7),i.Uc(t.marginIn)}}function Cn(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Rc(1,xn,33,4,"mat-card",41),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.rc("ngForOf",t.intrestDetails)}}function En(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div"),i.Xb(2,"h4",114),i.Tc(3),i.Wb(),i.Wb(),i.Xb(4,"div"),i.Xb(5,"div"),i.Xb(6,"mat-card",115),i.Xb(7,"div"),i.Xb(8,"div",37),i.Tc(9,"Amount"),i.Wb(),i.Xb(10,"div",38),i.Tc(11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(3),i.Uc(t.intrestType),i.Eb(8),i.Uc(t.amount)}}function On(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Rc(1,En,12,2,"mat-card",41),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.rc("ngForOf",t.chargeDetails)}}function Dn(t,e){if(1&t&&(i.Xb(0,"div",117),i.Xb(1,"div",37),i.Tc(2),i.Wb(),i.Xb(3,"div",38),i.Tc(4),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index;i.Eb(2),i.Wc("",a+1,".",t.scorecardQuestion,""),i.Eb(2),i.Uc(t.scorecardAnswer)}}function An(t,e){if(1&t&&(i.Xb(0,"div"),i.Rc(1,Dn,5,3,"div",116),i.Wb()),2&t){const t=e.index,a=i.jc();i.Eb(1),i.rc("ngForOf",null==a.qualitativeScorecard?null:a.qualitativeScorecard.scoreCardMapping[t].scoreCardDetails)}}function Rn(t,e){if(1&t&&(i.Xb(0,"mat-card",33),i.Xb(1,"fieldset"),i.Xb(2,"legend",31),i.Tc(3,"Assessment Report"),i.Wb(),i.Wb(),i.Xb(4,"mat-card-content"),i.Xb(5,"div",34),i.Sb(6,"div",35),i.Xb(7,"div",36),i.Xb(8,"div",37),i.Tc(9,"Limit Id"),i.Wb(),i.Xb(10,"div",38),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"div",36),i.Xb(13,"div",37),i.Tc(14,"Overdraft Limit Amount"),i.Wb(),i.Xb(15,"div",38),i.Tc(16),i.Wb(),i.Wb(),i.Xb(17,"div",36),i.Xb(18,"div",37),i.Tc(19,"Recommended Overdraft Limit"),i.Wb(),i.Xb(20,"div",38),i.Tc(21),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div",34),i.Sb(23,"div",35),i.Xb(24,"div",36),i.Xb(25,"div",37),i.Tc(26,"Limit Start Date"),i.Wb(),i.Xb(27,"div",38),i.Tc(28),i.Wb(),i.Wb(),i.Xb(29,"div",36),i.Xb(30,"div",37),i.Tc(31,"Limit End Date"),i.Wb(),i.Xb(32,"div",38),i.Tc(33),i.Wb(),i.Wb(),i.Sb(34,"br"),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(11),i.Uc(null==t.assessmentReport?null:t.assessmentReport.limitId),i.Eb(5),i.Uc(null==t.assessmentReport?null:t.assessmentReport.overdraftLimitAmount),i.Eb(5),i.Uc(null==t.assessmentReport?null:t.assessmentReport.recommendedOverdraftLimit),i.Eb(7),i.Uc(null==t.assessmentReport?null:t.assessmentReport.limitStartDate),i.Eb(5),i.Uc(null==t.assessmentReport?null:t.assessmentReport.limitEndDate)}}function Sn(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div",120),i.Xb(2,"div",121),i.Xb(3,"div",122),i.Tc(4,"Branch Code : "),i.Xb(5,"span",123),i.Tc(6),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"div",121),i.Xb(8,"div",124),i.Tc(9,"Fund By Account: "),i.Xb(10,"span",123),i.Tc(11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",120),i.Xb(13,"div",121),i.Xb(14,"div",122),i.Tc(15,"Amount"),i.Xb(16,"span",123),i.Tc(17),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"div",121),i.Xb(19,"div",124),i.Tc(20,"Fund By"),i.Xb(21,"span",123),i.Tc(22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(6),i.Uc(t.createAccFundingStage.branchCode),i.Eb(5),i.Uc(t.createAccFundingStage.fundByAccount),i.Eb(6),i.Uc(t.createAccFundingStage.amount),i.Eb(5),i.Uc(t.createAccFundingStage.fundBy)}}function Nn(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div",120),i.Xb(2,"div",121),i.Xb(3,"button",125),i.Tc(4),i.Wb(),i.Wb(),i.Xb(5,"div",121),i.Xb(6,"button",126),i.Tc(7),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",120),i.Xb(9,"div",121),i.Xb(10,"div",127),i.Tc(11,"Amount"),i.Xb(12,"div",128),i.Xb(13,"b"),i.Tc(14),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",121),i.Xb(16,"div",129),i.Tc(17,"Fund By"),i.Xb(18,"div",123),i.Xb(19,"b"),i.Tc(20),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(4),i.Vc("Reference Number ",t.createAccFundingStage.tellerTrxnRefNo," "),i.Eb(3),i.Vc("",t.createAccFundingStage.tellerTrxnStatus," "),i.Eb(7),i.Uc(t.createAccFundingStage.amount),i.Eb(6),i.Uc(t.createAccFundingStage.fundBy)}}function Pn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",42),i.Xb(1,"div",43),i.Xb(2,"div",27),i.Tc(3,"5"),i.Wb(),i.Xb(4,"div",28),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"div",118),i.Xb(7,"h2",119),i.Tc(8,"Funding Stage"),i.Wb(),i.Xb(9,"div",30),i.Xb(10,"fieldset"),i.Xb(11,"legend",31),i.Tc(12,"Initial Funding Details"),i.Wb(),i.Wb(),i.Xb(13,"span"),i.Xb(14,"mat-icon",32),i.fc("click",function(){return i.Hc(t),i.jc().editFundingStage()}),i.Tc(15,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(16,Sn,23,4,"mat-card",5),i.Rc(17,Nn,21,4,"mat-card",5),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(14),i.rc("hidden",t.editScreen),i.Eb(2),i.rc("ngIf","Fund Transfer"==t.createAccFundingStage.fundBy),i.Eb(1),i.rc("ngIf","Cash"==t.createAccFundingStage.fundBy)}}function kn(t,e){if(1&t&&(i.Xb(0,"div",38),i.Xb(1,"a",130),i.Tc(2,"link"),i.Wb(),i.Sb(3,"link"),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.sc("href",t.signatureData.fileUrl,i.Jc)}}const Fn=function(t,e){return{disabledbtn:t,continueBtn:e}},Ln=function(t,e){return{disabledbtn:t,rejectButton:e}},_n=function(t,e){return{disabledbtn:t,approveButton:e}};function wn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",131),i.Xb(1,"div",132),i.fc("click",function(){return i.Hc(t),i.jc().continue()}),i.Xb(2,"label",133),i.Tc(3,"Cotinue"),i.Wb(),i.Wb(),i.Tc(4," \xa0\xa0 "),i.Xb(5,"div",134),i.fc("click",function(){i.Hc(t);const e=i.jc();return e.updateApplicationStatus(e.accountInfo,"REJECTED")}),i.Xb(6,"mat-icon",135),i.Tc(7," highlight_off "),i.Wb(),i.Tc(8,"\xa0\xa0\xa0 "),i.Xb(9,"label",136),i.Tc(10,"Reject"),i.Wb(),i.Wb(),i.Tc(11," \xa0\xa0 "),i.Xb(12,"div",137),i.fc("click",function(){i.Hc(t);const e=i.jc();return e.updateApplicationStatus(e.accountInfo,"APPROVED")}),i.Xb(13,"mat-icon",138),i.Tc(14,"check_circle"),i.Wb(),i.Tc(15,"\xa0\xa0\xa0 "),i.Xb(16,"label",139),i.Tc(17,"Approve"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(1),i.rc("hidden",t.continueStatus)("ngClass",i.yc(6,Fn,t.continueStatus,!t.continueStatus)),i.Eb(4),i.rc("hidden",t.rejectedStatus)("ngClass",i.yc(9,Ln,t.rejectedStatus,!t.rejectedStatus)),i.Eb(7),i.rc("hidden",t.approvedStatus)("ngClass",i.yc(12,_n,t.approvedStatus,!t.approvedStatus))}}let Un=(()=>{class t{constructor(t,e,a,o,n,r,c,s,l,b,d,m){this.dialogRef=t,this.data=e,this.apiService=a,this.api=o,this.ls=n,this.router=r,this.tasksummaryService=c,this.cdr=s,this.snack=l,this.sanitizer=b,this.dialog=d,this.jwtService=m,this.chart=new u.a,this.submitClicked=new i.o,this.accountInfo=[],this.chargeDetails=[],this.isOnGoing="",this.variable=!0,this.loading=!0,this.loadingApplEnrich=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}ngOnInit(){this.loading=!0,this.loadingApplEnrich=!1,this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.accInfo=this.data,console.log("acc data :: ",this.accInfo),this.cardType=this.ls.getItem("cardInfo"),this.accountId=this.accInfo.accountId,this.ls.setItem("accountId",this.accountId),this.ls.setItem("customerId",this.accInfo.customerId),this.ls.setItem("accountType",this.accInfo.accountType),console.log("accountId :: ",this.accInfo.accountId),this.ls.setItem("CIF_NUM_PRIMARY",this.accInfo.customerId),this.ls.setItem("NAME",this.accInfo.firstName+" "+this.accInfo.lastName),this.tasksummaryService.accountStatus.subscribe(t=>{this.loading=!1,"REJECTED"===t?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"===t?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"ONGOING"===t?(this.approvedStatus=!0,this.rejectedStatus=!1,this.isOnGoing=t,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"===t&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0)}),this.getAccountInfoByAccountId(this.accInfo.accountId),this.getProfileImage(this.accInfo.customerId),this.cardType&&this.debitCardData(this.cardType)}getAccountInfoByAccountId(t){this.tasksummaryService.getAccountInfoByAccId(t).subscribe(t=>{this.accountInfo=t,console.log(this.accountInfo),this.intrestDetails=this.accountInfo.intrestDetails,this.chargeDetails=this.accountInfo.chargeDetails,this.loadingApplEnrich=!0,this.assignValues(this.accountInfo.businessProductAccServices,this.accountInfo.businessProductNominee,this.accountInfo.securedOverdraft,this.accountInfo.unsecuredOverdraft,this.accountInfo.financialDetails,this.accountInfo.intrestDetails,this.accountInfo.chargeDetails,this.accountInfo.qualitativeScorecard,this.accountInfo.assessmentReport,this.accountInfo.createAccFundingStage);for(const e in this.accountInfo)if(Object.prototype.hasOwnProperty.call(this.accountInfo,e)){const t=this.accountInfo[e];if("chargeDetails"===e&&(this.chargeDetails=t,this.accountDetails.applicationDate&&(this.accountDetails.applicationDate=h(this.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductAccount"===e&&(console.log(this.accountDetails),this.accountDetails=t,this.accountDetails.applicationDate&&(this.accountDetails.applicationDate=h(this.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductCustomer"===e){this.customerInformation=t;for(const t in this.customerInformation)if(Object.prototype.hasOwnProperty.call(this.customerInformation,t)){const e=this.customerInformation[t];if("data"===t)for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const a=e[t];e.length>1?a.primaryCustomer&&(this.approverName=a.firstName):this.approverName=a.firstName}}}"businessProductMandate"===e&&(this.mandate=t)}})}goToCreateAccount(t,e){console.log("Navigating to edit screen::",t),this.ls.setItem("EDIT-CREATEACCCIF",this.accountInfo),this.ls.setItem("accountId",t),console.log("acc data :: ",this.accountInfo),this.tasksummaryService.updateCreateAccStatus({accountId:t,status:"ONGOING"}).subscribe(t=>{}),setTimeout(()=>{this.router.navigateByUrl("/home/application/list")},1e3),console.log(this.ls.getItem("EDIT-CREATEACCCIF")),this.dialogRef.close({message:"Confirm"})}assignValues(t,e,a,o,n,i,r,c,s,l){var b;this.accountServiceDetails=t,console.log(this.accountServiceDetails),this.nomineeDetails=e,this.securedOverdraftDetails=a,this.unsecuredOverdraftDetails=o,this.financialDetails=n,this.income=null==n?void 0:n.applicantTotalIncome,this.exepse=null==n?void 0:n.applicantTotalExpense,this.intrestDetails=i,this.chargeDetails=r,this.qualitativeScorecard=c,this.scoreCardMappingArray=null===(b=null==c?void 0:c.scoreCardMapping[0])||void 0===b?void 0:b.scoreCardDetails,this.assessmentReport=s,this.createAccFundingStage=l,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.exepse,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}updateApplicationStatus(t,e){console.log("data : ",t.businessProductAccount.accountId),t.businessProductAccount.status=e;let a=e;this.accInfo.status=e,this.tasksummaryService.updateCreateAccStatus({status:e,accountId:t.businessProductAccount.accountId}).subscribe(t=>{null!=t.accountId||""!=t.accountId||""!=t.accountId?(this.close(a),this.cdr.markForCheck(),this.cdr.detectChanges(),this.dialogRef.close({message:"Confirm",data:a}),this.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck()):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}closeClick(){this.dialogRef.close()}getProfileImage(t){console.log(t),this.image=null,null!=this.accInfo.customerId&&this.api.getProfileDetails(t).subscribe(t=>{console.log(t),null!=t.profileImage&&(this.imageUrl=t.profileImage,console.log("imageurl",this.imageUrl),this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(this.signatureData=t.signatures[0],"undefinedSignature"==this.signatureData.documentName&&(this.signatureData.documentName="Signature"),this.ls.setItem("signedImage",this.signatureData.fileUrl))},t=>{console.log(t)})}getByAccountId(t){this.apiService.getByAccountId(t).subscribe(t=>{this.accountdetailsForStatusUpdate=t,this.updateAccountStatus(t)})}updateAccountStatus(t){t.status=this.appStatus,this.apiService.saveProductAccountInfo(t).subscribe(t=>{console.log("updateResp:: ",t)})}close(t){this.dialogRef.close({message:"Confirm",data:this.accInfo.status})}debitCardData(t){console.log("dardType-- ",t),this.api.getCardType(this.cardType.cardType).subscribe(t=>{console.log("resp-- ",t),this.debitCardDataValue=t,console.log(t)},t=>console.log("ERROR: ",t))}openEditScreen(t,e){this.tasksummaryService.updateCreateAccStatus({status:"ONGOING",accountId:this.accountId}).subscribe(t=>{console.log(t),null!=t&&(this.approvedStatus=!0,this.rejectedStatus=!1)}),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{this.accInfo.status=t.status,"BACKLOG"==this.accInfo.status&&(this.getAccountInfoByAccountId(this.accountId),this.tasksummaryService.updateCreateAccStatus({status:"BACKLOG",accountId:this.accountId}).subscribe(t=>{console.log(t),null!=t&&(this.approvedStatus=!1,this.rejectedStatus=!1)})),1==t&&this.getProfileImage(this.accInfo.customerId),this.cdr.markForCheck()})}editAccountDetails(){var t,e;this.accountDetails&&(this.accountDetails.customerName=(null===(t=this.accInfo)||void 0===t?void 0:t.firstName)+" "+(null===(e=this.accInfo)||void 0===e?void 0:e.lastName)),this.openEditScreen(G,this.accountDetails)}editCustomerInfo(){this.openEditScreen(zt,this.customerInformation)}editMandateDetails(){this.openEditScreen(Bo,this.mandate)}editServiceDetails(){this.openEditScreen(ce,this.accountServiceDetails)}editNomineeDetails(){this.openEditScreen(Be,this.nomineeDetails)}editSecuredOverdraftDetails(){this.openEditScreen(ha,this.securedOverdraftDetails)}editUnsecuredOverdraftDetails(){this.openEditScreen(Pa,this.unsecuredOverdraftDetails)}editFinancialDetails(){this.openEditScreen(Ba,this.financialDetails)}editInterestDetails(){this.openEditScreen(Ha,this.intrestDetails)}editChargeDetails(){this.openEditScreen(to,this.chargeDetails)}editQualitativeDetails(){this.openEditScreen(co,this.qualitativeScorecard)}editFundingStage(){this.openEditScreen(Eo,this.createAccFundingStage)}editApprovalDetails(){console.log(this.accountDetails),this.openEditScreen(Ro,this.accountDetails)}editDigitalSign(){this.openEditScreen(So.a,this.signatureData)}continue(){var t,e,a,o,n,i,r,c,s,l,b,d,u,m,p,h,f,g;console.log("customer Id-----\x3e",null===(t=this.accountInfo)||void 0===t?void 0:t.businessProductNominee),this.ls.setItem("accountId",null===(e=this.accountInfo.businessProductAccount)||void 0===e?void 0:e.accountId),this.ls.setItem("appEntryStage",!(!this.accountInfo.businessProductAccount||!this.accountInfo.businessProductAccServices||0==(null===(a=this.accountInfo.businessProductCustomer.data)||void 0===a?void 0:a.length)||0==(null===(o=this.accountInfo.businessProductMandate)||void 0===o?void 0:o.length)||0==(null===(n=this.accountInfo.businessProductNominee)||void 0===n?void 0:n.length))),this.ls.setItem("ACC_DONE",!!this.accountInfo.businessProductAccount),this.ls.setItem("ACC_SERVICE_DONE",!!this.accountInfo.businessProductAccServices),this.ls.setItem("ACC_OPEN_DONE",0!=(null===(c=null===(r=null===(i=this.accountInfo)||void 0===i?void 0:i.businessProductCustomer)||void 0===r?void 0:r.data)||void 0===c?void 0:c.length)),this.ls.setItem("ACC_MANDATE_DONE",0!=(null===(s=this.accountInfo.businessProductMandate)||void 0===s?void 0:s.length)),this.ls.setItem("ACC_NOMINEE_DONE",0!=(null===(l=this.accountInfo.businessProductNominee)||void 0===l?void 0:l.length)),this.ls.setItem("limitEntryStage",!(!this.accountInfo.financialDetails||0==(null===(b=this.accountInfo.securedOverdraft)||void 0===b?void 0:b.length)&&!this.accountInfo.unsecuredOverdraft)),this.ls.setItem("LIMIT_FIN_DONE",!!this.accountInfo.financialDetails),this.ls.setItem("LIMIT_SECURED_DONE",!(0==(null===(d=this.accountInfo.securedOverdraft)||void 0===d?void 0:d.length)||!this.accountInfo.securedOverdraft)),this.ls.setItem("LIMIT_UNSECURED_DONE",!!this.accountInfo.unsecuredOverdraft),this.ls.setItem("enrichmentStage",!(!this.accountInfo.chargeDetails||0==(null===(u=this.accountInfo.intrestDetails)||void 0===u?void 0:u.length))),this.ls.setItem("ENRICHMENT_CHARGES_DONE",!!this.accountInfo.chargeDetails),this.ls.setItem("ENRICHMENT_INTEREST_DONE",0!=(null===(m=this.accountInfo.intrestDetails)||void 0===m?void 0:m.length)),this.ls.setItem("ASSESSMENT_QA_DONE",!(0==(null===(f=null===(h=null===(p=this.accountInfo)||void 0===p?void 0:p.qualitativeScorecard)||void 0===h?void 0:h.scoreCardMapping)||void 0===f?void 0:f.length)||!(null===(g=this.accountInfo)||void 0===g?void 0:g.qualitativeScorecard))),this.ls.setItem("ASSESSMENT_REPORT_DONE",!!this.accountInfo.assessmentReport),this.ls.setItem("FUNDING_INI_DONE",!!this.accountInfo.createAccFundingStage),this.ls.setItem("approvalStage",!!this.accountDetails),this.ls.setItem("APPROVAL_DETAILS_DONE",!!this.accountDetails),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=CUSTACC&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.g),i.Rb(b.a),i.Rb(d.a),i.Rb(r.b),i.Rb(l.a),i.Rb(je.h),i.Rb(m.a),i.Rb(i.h),i.Rb(f.a),i.Rb(qo.b),i.Rb(b.b),i.Rb(zo.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-approver"]],viewQuery:function(t,e){if(1&t&&i.ad(Jo,!0),2&t){let t;i.Cc(t=i.gc())&&(e.chart=t.first)}},outputs:{submitClicked:"submitClicked"},decls:316,vars:57,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85",1,"margin1"],["fxLayout","row","fxLayoutAlign","space between center"],["visible","true"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[3,"checked","disabled"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","10",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["class","mtcd",4,"ngIf"],["fxLayout","row","class","flex-container","style","flex-direction: row; box-sizing: border-box; display: flex;",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","30px"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row"],[1,"circle"],[1,"content1"],[1,"appersoninfocard"],["fxFlex","200px",1,"size1"],[1,"namecard",2,"font-size","20px"],[1,"cifnum","label"],[1,"phoneno","label"],[1,"maticon"],[1,"textsize"],[1,"email","label"],[1,"address","label"],["fxFlex","300px",2,"font-size","12px"],[2,"font-size","20px"],["fxLayout","row","fxLayoutGap","40px",2,"font-size","12px"],["fxLayout","row","fxLayoutGap","20px",2,"font-size","12px"],[1,"btnleft"],[1,"circle3"],[1,"done1"],["fxFlex","5"],["fxFlex","30"],["class","labelval",4,"ngFor","ngForOf"],["disabled","",3,"checked"],["fxFlex","30",4,"ngIf"],["fxLayout","row","class","rowbord",4,"ngIf"],[1,"table","table-bordered","dataStyle"],[2,"color","#03a9f4"],["fxFlex","200px",2,"font-size","10px"],["fxFlex","100px",2,"font-size","12px"],["fxLayout","column","fxLayoutGap","10px",2,"font-size","12px"],["class","appersoninfocard",4,"ngFor","ngForOf"],["fxFlex","130px",2,"font-size","12px"],["visible","true",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutGap","40px"],["type","button",1,"sqftbtn"],["type","button",1,"acbtn"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","24px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","20px",3,"hidden"],[1,"box"],[3,"series","chart","plotOptions","labels"],[1,"box2"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[2,"font-size","16px","padding-top","30px"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","16px","padding-top","30px"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"interstcard2"],[1,"interstcard3"],[1,"interstcard4"],[1,"nom"],[1,"appersoninfocard",2,"width","100px"],["fxFlex","47","class","qtncrd","fxFlex.xs","100",4,"ngFor","ngForOf"],["fxFlex","47","fxFlex.xs","100",1,"qtncrd"],["fxFlex","85",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"marginn"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mt-12"],["fxFlex","100"],[1,"mat-heading-label","ml-48"],[1,"mat-body-1"],[1,"mat-heading-label","right-text"],["type","button",1,"refnum"],["type","button",1,"suces"],[1,"ml-48","btttn",2,"font-family","Manrope,SemiBold"],[1,"mat-body-1","btttn"],[1,"right-text","btttn"],["download","",1,"linkColor",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"div",0),i.Xb(2,"div",1),i.Xb(3,"div",2),i.Xb(4,"div"),i.Xb(5,"mat-icon",3),i.fc("click",function(){return e.close(e.accStatus)}),i.Tc(6," close"),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"div",4),i.Rc(8,$o,1,0,"mat-spinner",5),i.Wb(),i.Xb(9,"div",6),i.Xb(10,"div",7),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Rc(13,Ho,2,1,"span",10),i.Wb(),i.Xb(14,"div",11),i.Xb(15,"div",12),i.Sb(16,"img",13),i.Tc(17,"\xa0 "),i.Xb(18,"div"),i.Xb(19,"span",14),i.Tc(20),i.Wb(),i.Sb(21,"br"),i.Xb(22,"span",15),i.Tc(23),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",16),i.Xb(25,"mat-icon",17),i.Tc(26,"phone "),i.Wb(),i.Tc(27,"\xa0\xa0\xa0 "),i.Xb(28,"span",18),i.Tc(29),i.Wb(),i.Wb(),i.Xb(30,"div",16),i.Xb(31,"mat-icon",17),i.Tc(32," mail_outline"),i.Wb(),i.Tc(33,"\xa0\xa0 \xa0 "),i.Xb(34,"span",19),i.Tc(35),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",20),i.Xb(37,"div",21),i.Rc(38,Yo,7,16,"div",22),i.Rc(39,Qo,2,1,"div",23),i.Wb(),i.Wb(),i.Sb(40,"br"),i.Sb(41,"br"),i.Sb(42,"br"),i.Sb(43,"br"),i.Sb(44,"br"),i.Xb(45,"div",24),i.Xb(46,"h2"),i.Xb(47,"b"),i.Tc(48),i.Wb(),i.Wb(),i.Wb(),i.Sb(49,"br"),i.Sb(50,"br"),i.Xb(51,"div",25),i.Xb(52,"div",26),i.Xb(53,"div",27),i.Tc(54,"1"),i.Wb(),i.Sb(55,"div",28),i.Wb(),i.Xb(56,"div",29),i.Xb(57,"h2"),i.Tc(58,"Application Entry Stage"),i.Wb(),i.Xb(59,"div",30),i.Xb(60,"fieldset"),i.Xb(61,"legend",31),i.Tc(62,"Account Details"),i.Wb(),i.Wb(),i.Xb(63,"span"),i.Xb(64,"mat-icon",32),i.fc("click",function(){return e.editAccountDetails()}),i.Tc(65,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(66,"mat-card",33),i.Xb(67,"mat-card-content"),i.Xb(68,"div",34),i.Sb(69,"div",35),i.Xb(70,"div",36),i.Xb(71,"div",37),i.Tc(72,"CIF Number"),i.Wb(),i.Xb(73,"div",38),i.Tc(74),i.Wb(),i.Wb(),i.Xb(75,"div",36),i.Xb(76,"div",37),i.Tc(77,"Customer Name"),i.Wb(),i.Xb(78,"div",38),i.Tc(79),i.Wb(),i.Wb(),i.Xb(80,"div",36),i.Xb(81,"div",37),i.Tc(82,"Account ID"),i.Wb(),i.Xb(83,"div",38),i.Tc(84),i.Wb(),i.Wb(),i.Wb(),i.Xb(85,"div",34),i.Sb(86,"div",35),i.Xb(87,"div",36),i.Xb(88,"div",37),i.Tc(89,"Account Type"),i.Wb(),i.Xb(90,"div",38),i.Tc(91),i.Wb(),i.Wb(),i.Xb(92,"div",36),i.Xb(93,"div",37),i.Tc(94,"Business Product Name"),i.Wb(),i.Xb(95,"div",38),i.Tc(96),i.Wb(),i.Wb(),i.Xb(97,"div",36),i.Xb(98,"div",37),i.Tc(99,"Account Branch"),i.Wb(),i.Xb(100,"div",38),i.Tc(101),i.Wb(),i.Wb(),i.Wb(),i.Xb(102,"div",34),i.Sb(103,"div",35),i.Xb(104,"div",36),i.Xb(105,"div",37),i.Tc(106,"Account Currency"),i.Wb(),i.Xb(107,"div",38),i.Tc(108),i.Wb(),i.Wb(),i.Xb(109,"div",36),i.Xb(110,"div",37),i.Tc(111,"Application Date"),i.Wb(),i.Xb(112,"div",38),i.Tc(113),i.Wb(),i.Wb(),i.Xb(114,"div",36),i.Xb(115,"div",37),i.Tc(116,"Modification No"),i.Wb(),i.Xb(117,"div",38),i.Tc(118),i.Wb(),i.Wb(),i.Wb(),i.Xb(119,"div",39),i.Sb(120,"div",35),i.Xb(121,"div",36),i.Xb(122,"div",37),i.Tc(123,"OverDraft Requested?"),i.Wb(),i.Xb(124,"div",38),i.Sb(125,"mat-slide-toggle",40),i.Wb(),i.Wb(),i.Xb(126,"div",36),i.Xb(127,"div",37),i.Tc(128,"Swift Code"),i.Wb(),i.Xb(129,"div",38),i.Sb(130,"mat-slide-toggle",40),i.Wb(),i.Wb(),i.Xb(131,"div",36),i.Xb(132,"div",37),i.Tc(133,"Initial Funding "),i.Wb(),i.Xb(134,"div",38),i.Sb(135,"mat-slide-toggle",40),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(136,en,23,4,"div",5),i.Rc(137,on,9,2,"div",5),i.Rc(138,mn,48,10,"div",5),i.Rc(139,fn,9,2,"div",5),i.Wb(),i.Wb(),i.Xb(140,"div",25),i.Xb(141,"div",26),i.Xb(142,"div",27),i.Tc(143,"2"),i.Wb(),i.Xb(144,"div",28),i.Tc(145,"\xa0"),i.Wb(),i.Wb(),i.Xb(146,"div",29),i.Xb(147,"h2"),i.Tc(148,"Limit Entry Stage"),i.Wb(),i.Rc(149,Wn,8,3,"div",41),i.Sb(150,"br"),i.Rc(151,Tn,23,6,"div",5),i.Sb(152,"br"),i.Rc(153,In,41,19,"div",5),i.Wb(),i.Wb(),i.Sb(154,"br"),i.Xb(155,"div",25),i.Xb(156,"div",26),i.Xb(157,"div",27),i.Tc(158,"3"),i.Wb(),i.Xb(159,"div",28),i.Tc(160,"\xa0"),i.Wb(),i.Wb(),i.Xb(161,"div",29),i.Xb(162,"h2"),i.Tc(163,"Application Enrichment"),i.Wb(),i.Xb(164,"div",30),i.Xb(165,"fieldset"),i.Xb(166,"legend",31),i.Tc(167,"Interest Details"),i.Wb(),i.Wb(),i.Xb(168,"span"),i.Xb(169,"mat-icon",32),i.fc("click",function(){return e.editInterestDetails()}),i.Tc(170,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(171,Cn,2,1,"mat-card",5),i.Sb(172,"br"),i.Xb(173,"div",30),i.Xb(174,"fieldset"),i.Xb(175,"legend",31),i.Tc(176,"Charge Details"),i.Wb(),i.Wb(),i.Xb(177,"span"),i.Xb(178,"mat-icon",32),i.fc("click",function(){return e.editChargeDetails()}),i.Tc(179,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(180,On,2,1,"mat-card",5),i.Wb(),i.Wb(),i.Xb(181,"div",42),i.Xb(182,"div",43),i.Xb(183,"div",27),i.Tc(184,"4"),i.Wb(),i.Xb(185,"div",28),i.Tc(186,"\xa0"),i.Wb(),i.Wb(),i.Xb(187,"div",44),i.Xb(188,"h2"),i.Tc(189,"Application Assessment"),i.Wb(),i.Xb(190,"div",30),i.Xb(191,"fieldset"),i.Xb(192,"legend",31),i.Tc(193,"Qualitative Scorecard"),i.Wb(),i.Wb(),i.Xb(194,"span"),i.Xb(195,"mat-icon",32),i.fc("click",function(){return e.editQualitativeDetails()}),i.Tc(196,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(197,"mat-card",33),i.Xb(198,"mat-card-content"),i.Xb(199,"div"),i.Xb(200,"div",34),i.Xb(201,"div",36),i.Xb(202,"div",37),i.Tc(203,"Scorecard Id"),i.Wb(),i.Xb(204,"div",38),i.Tc(205),i.Wb(),i.Wb(),i.Xb(206,"div",36),i.Xb(207,"div",37),i.Tc(208,"Number of Applicants"),i.Wb(),i.Xb(209,"div",38),i.Tc(210),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(211,"div"),i.Xb(212,"div",45),i.Xb(213,"div"),i.Xb(214,"div",46),i.Rc(215,An,2,1,"div",41),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(216,"br"),i.Rc(217,Rn,35,5,"mat-card",47),i.Wb(),i.Sb(218,"br"),i.Sb(219,"br"),i.Wb(),i.Rc(220,Pn,18,3,"div",48),i.Xb(221,"div",42),i.Xb(222,"div",43),i.Xb(223,"div",27),i.Tc(224,"6"),i.Wb(),i.Xb(225,"div",28),i.Tc(226,"\xa0"),i.Wb(),i.Wb(),i.Xb(227,"div",44),i.Xb(228,"h2"),i.Tc(229,"Approval Stage"),i.Wb(),i.Xb(230,"div",30),i.Xb(231,"fieldset"),i.Xb(232,"legend",31),i.Tc(233,"Approval Details "),i.Wb(),i.Wb(),i.Xb(234,"span"),i.Xb(235,"mat-icon",32),i.fc("click",function(){return e.editApprovalDetails()}),i.Tc(236,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(237,"mat-card",33),i.Xb(238,"mat-card-content"),i.Xb(239,"div",34),i.Sb(240,"div",35),i.Xb(241,"div",36),i.Xb(242,"div",37),i.Tc(243,"Account Type"),i.Wb(),i.Xb(244,"div",38),i.Tc(245),i.Wb(),i.Wb(),i.Xb(246,"div",36),i.Xb(247,"div",37),i.Tc(248,"Account Branch"),i.Wb(),i.Xb(249,"div",38),i.Tc(250),i.Wb(),i.Wb(),i.Xb(251,"div",36),i.Xb(252,"div",37),i.Tc(253,"Product Code"),i.Wb(),i.Xb(254,"div",38),i.Tc(255),i.Wb(),i.Wb(),i.Wb(),i.Xb(256,"div",34),i.Sb(257,"div",35),i.Xb(258,"div",36),i.Xb(259,"div",37),i.Tc(260,"Account Currency"),i.Wb(),i.Xb(261,"div",38),i.Tc(262),i.Wb(),i.Wb(),i.Wb(),i.Xb(263,"mat-card",49),i.Xb(264,"div",39),i.Xb(265,"div",50),i.Xb(266,"div",51),i.Xb(267,"div",52),i.Xb(268,"mat-icon"),i.Tc(269,"done"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(270,"div",53),i.Xb(271,"div",37),i.Tc(272,"User Recommendation"),i.Wb(),i.Xb(273,"div",38),i.Tc(274),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(275,"div",42),i.Xb(276,"div",43),i.Xb(277,"div",27),i.Tc(278,"7"),i.Wb(),i.Wb(),i.Xb(279,"div",44),i.Xb(280,"h2"),i.Tc(281,"Digital Sign"),i.Wb(),i.Xb(282,"div",30),i.Xb(283,"fieldset"),i.Xb(284,"legend",31),i.Tc(285,"Digital Sign"),i.Wb(),i.Wb(),i.Xb(286,"span"),i.Xb(287,"mat-icon",32),i.fc("click",function(){return e.editDigitalSign()}),i.Tc(288,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(289,"mat-card",33),i.Xb(290,"mat-card-content"),i.Xb(291,"div",34),i.Sb(292,"div",35),i.Xb(293,"div",36),i.Xb(294,"div",37),i.Tc(295,"Document Name"),i.Wb(),i.Xb(296,"div",38),i.Tc(297),i.Wb(),i.Wb(),i.Xb(298,"div",36),i.Xb(299,"div",37),i.Tc(300,"File Type"),i.Wb(),i.Xb(301,"div",38),i.Tc(302),i.Wb(),i.Wb(),i.Xb(303,"div",36),i.Xb(304,"div",37),i.Tc(305,"File Name"),i.Wb(),i.Xb(306,"div",38),i.Tc(307),i.Wb(),i.Wb(),i.Xb(308,"div",36),i.Xb(309,"div",37),i.Tc(310,"Download"),i.Wb(),i.Rc(311,kn,4,1,"div",54),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(312,"br"),i.Xb(313,"div"),i.Rc(314,wn,18,15,"div",55),i.Wb(),i.Sb(315,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(8),i.rc("ngIf",e.loading),i.Eb(5),i.rc("ngForOf",e.nameCreater),i.Eb(7),i.Vc("",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.createdBy," "),i.Eb(3),i.Vc("EID #",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.creatorId,""),i.Eb(6),i.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.mobile," "),i.Eb(6),i.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.email," "),i.Eb(3),i.rc("ngIf","not_available"==e.imageUrl),i.Eb(1),i.rc("ngIf","not_available"!=e.imageUrl),i.Eb(9),i.Xc("",e.accInfo.prefix,"\xa0",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),i.Eb(16),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.accountDetails?null:e.accountDetails.customerId),i.Eb(5),i.Wc("",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),i.Eb(5),i.Vc("",e.accountId," "),i.Eb(7),i.Uc(null==e.accountDetails?null:e.accountDetails.accountType),i.Eb(5),i.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),i.Eb(5),i.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),i.Eb(7),i.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),i.Eb(5),i.Uc(null==e.accountDetails?null:e.accountDetails.applicationDate),i.Eb(5),i.Uc(null==e.accountDetails?null:e.accountDetails.modificationNo),i.Eb(7),i.rc("checked",null==e.accountDetails?null:e.accountDetails.overDraftRequested)("disabled",e.variable),i.Eb(5),i.rc("checked",null==e.accountDetails?null:e.accountDetails.swiftCodeEnable)("disabled",e.variable),i.Eb(5),i.rc("checked",null==e.accountDetails?null:e.accountDetails.fundBy)("disabled",e.variable),i.Eb(1),i.rc("ngIf",null!=e.customerInformation),i.Eb(1),i.rc("ngIf",(null==e.mandate?null:e.mandate.length)>0),i.Eb(1),i.rc("ngIf",null!=e.accountServiceDetails),i.Eb(1),i.rc("ngIf",(null==e.nomineeDetails?null:e.nomineeDetails.length)>0),i.Eb(10),i.rc("ngForOf",e.securedOverdraftDetails),i.Eb(2),i.rc("ngIf",null!=e.unsecuredOverdraftDetails),i.Eb(2),i.rc("ngIf",null!=e.financialDetails),i.Eb(16),i.rc("hidden",e.editScreen),i.Eb(2),i.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0),i.Eb(7),i.rc("hidden",e.editScreen),i.Eb(2),i.rc("ngIf",(null==e.chargeDetails?null:e.chargeDetails.length)>0),i.Eb(15),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardId),i.Eb(5),i.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.numberOfApplicant),i.Eb(5),i.rc("ngForOf",null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardMapping),i.Eb(2),i.rc("ngIf",null!=e.assessmentReport),i.Eb(3),i.rc("ngIf",null!=e.createAccFundingStage),i.Eb(15),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.accountDetails?null:e.accountDetails.accountType),i.Eb(5),i.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),i.Eb(5),i.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),i.Eb(7),i.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),i.Eb(12),i.Uc(null==e.accountDetails?null:e.accountDetails.userRecommendation),i.Eb(13),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.signatureData?null:e.signatureData.documentName),i.Eb(5),i.Uc(null==e.signatureData?null:e.signatureData.fileType),i.Eb(5),i.Uc(null==e.signatureData?null:e.signatureData.fileName),i.Eb(4),i.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),i.Eb(3),i.rc("ngIf",!e.loading))},directives:[g.e,g.d,v.a,o.n,o.m,X.c,g.b,X.a,X.d,x.a,E.b,g.f,u.a,X.e,X.h,X.g,o.l,Ko.a],pipes:[o.v,o.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.approvebtn[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{border-style:1px solid transparent}.approvebtn[_ngcontent-%COMP%]{margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:52%;height:52px;padding-top:16px;background:#fff;margin-left:15px}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{background-color:#f6f8fc;border:.5px;padding:10px;margin:40px 2% 40px 50px;border-color:#b2b2b2}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center;margin-left:38px;margin-right:7%}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem;display:flex;align-items:center;font-family:Manrope,Medium}.textsize[_ngcontent-%COMP%]{padding:0 10px;margin-top:10px}.labelval[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.dataStyle[_ngcontent-%COMP%]{width:99%;margin-left:4%;margin-right:13%}.btttn[_ngcontent-%COMP%], .dataStyle[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.btttn[_ngcontent-%COMP%]{font-weight:700}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;margin-bottom:20px!important;background:#f4f6f8;margin-left:32px}.appersoninfocard1[_ngcontent-%COMP%]{width:100%}.interstcard[_ngcontent-%COMP%]{width:97%}.interstcard[_ngcontent-%COMP%], .interstcard2[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard2[_ngcontent-%COMP%]{width:75%}.interstcard3[_ngcontent-%COMP%]{width:97%;right:29%}.interstcard3[_ngcontent-%COMP%], .interstcard4[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard4[_ngcontent-%COMP%]{width:100%;right:35%}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:38%;max-width:9%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{background-color:#fff;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.cancelIcon[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{color:red;cursor:pointer}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;opacity:1;padding-top:7px}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:63px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{color:#fff;background-color:#0ec588;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;border-color:#0ec588;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;background-color:grey;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:20px;width:100px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin-right:15px;margin-top:21%;position:relative;margin-bottom:14px}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px;margin-left:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;position:relative;margin:auto 40px auto auto}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:10px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-top:44px;margin-left:44px}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-top:10px}.refnum[_ngcontent-%COMP%]{background-color:#0e7cc5;border-color:#0e57c5;height:30px;width:250px}.refnum[_ngcontent-%COMP%], .suces[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;margin-right:60px}.suces[_ngcontent-%COMP%]{background-color:#24cca7;border-color:#0dab4e;height:25px;width:150px;margin-left:204px}.btttn[_ngcontent-%COMP%]{font-family:Manrope,Medium!important;color:#9aa1b0}.margin1[_ngcontent-%COMP%]{margin-top:18px}.margin1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:20px}h2[_ngcontent-%COMP%]{margin-left:13px;font-family:montserrat,bold}.height1[_ngcontent-%COMP%]{margin-left:32px}legend[_ngcontent-%COMP%]{width:auto;margin-right:25px;color:#5f5c5c;font-size:18px;font-family:Montserrat,Medium}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:13px;margin-right:20px;margin-top:20px;flex-grow:1}.size1[_ngcontent-%COMP%]{font-size:10px;height:165px}.maticon[_ngcontent-%COMP%]{margin-top:10px}.box[_ngcontent-%COMP%]{height:295px;width:29%}.box2[_ngcontent-%COMP%]{width:62%}.nom[_ngcontent-%COMP%]{margin-left:30px}.marginn[_ngcontent-%COMP%]{margin-top:22px}.done1[_ngcontent-%COMP%]{top:50%;text-align:center;color:#fff;margin-top:5px;width:inherit;height:auto;font-size:19px}.circle3[_ngcontent-%COMP%]{width:25px;height:3rem;background-color:#0ec588;border-radius:50%;margin-right:10px;margin-left:5px}.btnleft[_ngcontent-%COMP%]{margin-left:0}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),t})();var Mn=a("MNke");function Gn(t,e){1&t&&i.Sb(0,"mat-spinner",19),2&t&&i.rc("diameter",15)}function Vn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",20),i.fc("click",function(){return i.Hc(t),i.jc().clear()}),i.Xb(1,"mat-icon"),i.Tc(2,"close"),i.Wb(),i.Wb()}}function Bn(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",38),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function jn(t,e){if(1&t&&i.Sb(0,"img",39),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function zn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"BACKLOG",n.getRandomColor(o+3))}),i.Xb(1,"mat-icon",22),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,Bn,2,1,"div",25),i.Rc(6,jn,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",27),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"div",30),i.Xb(14,"div",31),i.Xb(15,"div",32),i.Xb(16,"div",33),i.Xb(17,"span",34),i.Tc(18,"Application Date"),i.Wb(),i.Wb(),i.Xb(19,"div",33),i.Xb(20,"span",34),i.Tc(21,"Applicaton Branch"),i.Wb(),i.Wb(),i.Xb(22,"div",33),i.Xb(23,"span",34),i.Tc(24,"Product"),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",35),i.Xb(26,"div",33),i.Xb(27,"span",36),i.Tc(28),i.Wb(),i.Wb(),i.Xb(29,"div",33),i.Xb(30,"span",37),i.Tc(31),i.Wb(),i.Wb(),i.Xb(32,"div",33),i.Xb(33,"span",37),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Sb(35,"br"),i.Wb(),i.Xb(36,"div",31),i.Xb(37,"div",34),i.Xb(38,"div",33),i.Xb(39,"span",34),i.Tc(40,"Account Type"),i.Wb(),i.Wb(),i.Xb(41,"div",33),i.Xb(42,"span",34),i.Tc(43,"Application By"),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",36),i.Xb(45,"div"),i.Xb(46,"div",33),i.Xb(47,"span",37),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",33),i.Xb(50,"span",37),i.Tc(51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Xc("",null==t?null:t.firstName," ",null==t?null:t.middleName," ",null==t?null:t.lastName,""),i.Eb(2),i.Uc(null==t?null:t.accountId),i.Eb(17),i.Uc(null==t?null:t.applicationDate),i.Eb(3),i.Uc(null==t?null:t.accountBranch),i.Eb(3),i.Uc(null==t?null:t.businessProductName),i.Eb(14),i.Uc(null==t?null:t.accountType),i.Eb(3),i.Uc(null==t?null:t.createdBy)}}function qn(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",38),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Kn(t,e){if(1&t&&i.Sb(0,"img",39),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function Jn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"ONGOING",n.getRandomColor(o+6))}),i.Xb(1,"mat-icon",40),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,qn,2,1,"div",25),i.Rc(6,Kn,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",27),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"div",30),i.Xb(14,"div",31),i.Xb(15,"div",32),i.Xb(16,"div",33),i.Xb(17,"span",34),i.Tc(18,"Application Date"),i.Wb(),i.Wb(),i.Xb(19,"div",33),i.Xb(20,"span",34),i.Tc(21,"Applicaton Branch"),i.Wb(),i.Wb(),i.Xb(22,"div",33),i.Xb(23,"span",34),i.Tc(24,"Product"),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",35),i.Xb(26,"div",33),i.Xb(27,"span",36),i.Tc(28),i.Wb(),i.Wb(),i.Xb(29,"div",33),i.Xb(30,"span",37),i.Tc(31),i.Wb(),i.Wb(),i.Xb(32,"div",33),i.Xb(33,"span",37),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Sb(35,"br"),i.Wb(),i.Xb(36,"div",31),i.Xb(37,"div",34),i.Xb(38,"div",33),i.Xb(39,"span",34),i.Tc(40,"Account Type"),i.Wb(),i.Wb(),i.Xb(41,"div",33),i.Xb(42,"span",34),i.Tc(43,"Application By"),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",36),i.Xb(45,"div"),i.Xb(46,"div",33),i.Xb(47,"span",37),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",33),i.Xb(50,"span",37),i.Tc(51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Xc("",t.firstName," ",t.middleName," ",t.lastName,""),i.Eb(2),i.Uc(t.accountId),i.Eb(17),i.Uc(t.applicationDate),i.Eb(3),i.Uc(t.accountBranch),i.Eb(3),i.Uc(t.businessProductName),i.Eb(14),i.Uc(t.accountType),i.Eb(3),i.Uc(t.createdBy)}}function $n(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",38),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Hn(t,e){if(1&t&&i.Sb(0,"img",39),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function Yn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"APPROVED",n.getRandomColor(o+9))}),i.Xb(1,"mat-icon",41),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,$n,2,1,"div",25),i.Rc(6,Hn,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",27),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"div",30),i.Xb(14,"div",31),i.Xb(15,"div",32),i.Xb(16,"div",33),i.Xb(17,"span",34),i.Tc(18,"Application Date"),i.Wb(),i.Wb(),i.Xb(19,"div",33),i.Xb(20,"span",34),i.Tc(21,"Applicaton Branch"),i.Wb(),i.Wb(),i.Xb(22,"div",33),i.Xb(23,"span",34),i.Tc(24,"Product"),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",35),i.Xb(26,"div",33),i.Xb(27,"span",36),i.Tc(28),i.Wb(),i.Wb(),i.Xb(29,"div",33),i.Xb(30,"span",37),i.Tc(31),i.Wb(),i.Wb(),i.Xb(32,"div",33),i.Xb(33,"span",37),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Sb(35,"br"),i.Wb(),i.Xb(36,"div",31),i.Xb(37,"div",34),i.Xb(38,"div",33),i.Xb(39,"span",34),i.Tc(40,"Account Type"),i.Wb(),i.Wb(),i.Xb(41,"div",33),i.Xb(42,"span",34),i.Tc(43,"Application By"),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",36),i.Xb(45,"div"),i.Xb(46,"div",33),i.Xb(47,"span",37),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",33),i.Xb(50,"span",37),i.Tc(51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Xc("",t.firstName," ",t.middleName," ",t.lastName,""),i.Eb(2),i.Uc(t.accountId),i.Eb(17),i.Uc(null==t?null:t.applicationDate),i.Eb(3),i.Uc(null==t?null:t.accountBranch),i.Eb(3),i.Uc(null==t?null:t.businessProductName),i.Eb(14),i.Uc(null==t?null:t.accountType),i.Eb(3),i.Uc(null==t?null:t.createdBy)}}function Zn(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",38),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Qn(t,e){if(1&t&&i.Sb(0,"img",39),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function ti(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"REJECTED",n.getRandomColor(o+12))}),i.Xb(1,"mat-icon",42),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,Zn,2,1,"div",25),i.Rc(6,Qn,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",27),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"div",30),i.Xb(14,"div",31),i.Xb(15,"div",32),i.Xb(16,"div",33),i.Xb(17,"span",34),i.Tc(18,"Application Date"),i.Wb(),i.Wb(),i.Xb(19,"div",33),i.Xb(20,"span",34),i.Tc(21,"Applicaton Branch"),i.Wb(),i.Wb(),i.Xb(22,"div",33),i.Xb(23,"span",34),i.Tc(24,"Product"),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",35),i.Xb(26,"div",33),i.Xb(27,"span",36),i.Tc(28),i.Wb(),i.Wb(),i.Xb(29,"div",33),i.Xb(30,"span",37),i.Tc(31),i.Wb(),i.Wb(),i.Xb(32,"div",33),i.Xb(33,"span",37),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Sb(35,"br"),i.Wb(),i.Xb(36,"div",31),i.Xb(37,"div",34),i.Xb(38,"div",33),i.Xb(39,"span",34),i.Tc(40,"Account Type"),i.Wb(),i.Wb(),i.Xb(41,"div",33),i.Xb(42,"span",34),i.Tc(43,"Application By"),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",36),i.Xb(45,"div"),i.Xb(46,"div",33),i.Xb(47,"span",37),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",33),i.Xb(50,"span",37),i.Tc(51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Xc("",t.firstName," ",t.middleName," ",t.lastName," "),i.Eb(2),i.Uc(t.accountId),i.Eb(17),i.Uc(null==t?null:t.applicationDate),i.Eb(3),i.Uc(null==t?null:t.accountBranch),i.Eb(3),i.Uc(null==t?null:t.businessProductName),i.Eb(14),i.Uc(null==t?null:t.accountType),i.Eb(3),i.Uc(null==t?null:t.createdBy)}}let ei=(()=>{class t{constructor(t,e,a,o,n,r){this.dialog=t,this.sanitizer=e,this.tasksummaryService=a,this.apiService=o,this.cdr=n,this.route=r,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new i.o,this._searchSubject=new c.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}onScroll(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),this.updateSearch(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()})}updateSearch(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{this.searchKycid(t)})}getDataOnLoad(){for(let t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}getAllAccDetails(t,e,a){this.tasksummaryService.getAllAccDetails(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"ONGOING"==t?(this.ONGOINGArr=e.accountList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.accountList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.accountList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.accountList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllAccDetailOnScroll(t,e).subscribe(e=>{this.updateDataOnScroll(t,e.accountList),this.cdr.markForCheck()}):console.log("No scroll requied")}gotoapproverpage(t,e,a){this.tasksummaryService.accountStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(Un,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{"REJECTED"!==t.data&&"APPROVED"!==t.data&&"ONGOING"!=t.data&&"BACKLOG"!==t.data||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}searchKycid(t){let e,a;if(""===t)return console.log("empty"),this.isScroll=!0,void this.getDataOnLoad();this.isNum(t)?(e=this.searchText.trim(),a="accountId="+e):(e=this.searchText.trim(),a="customerName="+e),this.isScroll=!1,this.getAccountData(a)}getAccountData(t){this.loading=!0,console.log("params :: ",t),this.tasksummaryService.getSearchData(t).subscribe(t=>{this.loading=!1,console.log("resp data :: ",t),this.resetSearchData();for(let e=0;e<t.accountList.length;e++){const a=t.accountList[e];console.log("element ::",a),this.searchResponseUpdate(a.status,t.accountList[e])}})}resetSearchData(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}isNum(t){return!isNaN(t)}searchResponseUpdate(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}updateDataOnScroll(t,e){if("ONGOING"==t){console.log("sdsklsdk",e);const t=Kt.unionBy(this.ONGOINGArr,e,"accountId");console.log("result---------------\x3e",t),this.ONGOINGArr=t}else if("BACKLOG"==t){const t=Kt.unionBy(this.BACKLOGArr,e,"accountId");this.BACKLOGArr=t}else if("APPROVED"==t){const t=Kt.unionBy(this.APPROVEDArr,e,"accountId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Kt.unionBy(this.REJECTEDArr,e,"accountId");this.REJECTEDArr=t}this.cdr.markForCheck()}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}ngOnDestroy(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.b),i.Rb(qo.b),i.Rb(m.a),i.Rb(r.b),i.Rb(i.h),i.Rb(je.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-task-summary"]],hostBindings:function(t,e){1&t&&i.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:55,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"headingtext"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchfield"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search AccountID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","matCardbox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"matCardbox",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","16px"],[2,"color","green"],[1,"head1"],["fxLayout","column"],["fxLayout","column","fxFlex","100"],["fxLayout","row",1,"col1"],["fxFlex","33",1,"pr3"],[1,"col3"],[1,"col2"],[1,"col4"],[1,"col4","breakWord"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(i.Sb(0,"br"),i.Xb(1,"div",0),i.fc("scrolled",function(t){return e.onScroll(t)}),i.Sb(2,"br"),i.Xb(3,"div",1),i.Xb(4,"div",2),i.Xb(5,"div",3),i.Xb(6,"span",4),i.Tc(7," Create Account Task Summary "),i.Wb(),i.Wb(),i.Xb(8,"div",5),i.Xb(9,"mat-form-field",6),i.Xb(10,"mat-label"),i.Tc(11,"Search"),i.Wb(),i.Xb(12,"div",7),i.Xb(13,"input",8),i.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),i.Wb(),i.Rc(14,Gn,1,1,"mat-spinner",9),i.Wb(),i.Xb(15,"mat-icon",10),i.Tc(16,"search"),i.Wb(),i.Rc(17,Vn,3,0,"button",11),i.Xb(18,"mat-hint"),i.Tc(19,"Search AccountID or Name"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",12),i.Xb(21,"div",13),i.Xb(22,"mat-card",14),i.Xb(23,"div",15),i.Xb(24,"span",16),i.Xb(25,"h2",17),i.Tc(26),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div"),i.Rc(28,zn,52,11,"div",18),i.Wb(),i.Sb(29,"br"),i.Wb(),i.Xb(30,"mat-card",14),i.Xb(31,"div",15),i.Xb(32,"span",16),i.Xb(33,"h2",17),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Rc(36,Jn,52,11,"div",18),i.Wb(),i.Sb(37,"br"),i.Wb(),i.Xb(38,"mat-card",14),i.Xb(39,"div",15),i.Xb(40,"span",16),i.Xb(41,"h2",17),i.Tc(42),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"div"),i.Rc(44,Yn,52,11,"div",18),i.Wb(),i.Sb(45,"br"),i.Wb(),i.Xb(46,"mat-card",14),i.Xb(47,"div",15),i.Xb(48,"span",16),i.Xb(49,"h2",17),i.Tc(50),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div"),i.Rc(52,ti,52,11,"div",18),i.Wb(),i.Sb(53,"br"),i.Wb(),i.Wb(),i.Sb(54,"br"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),i.Eb(12),i.rc("ngModel",e.searchText),i.Eb(1),i.rc("ngIf",e.loading),i.Eb(3),i.rc("ngIf",e.searchText),i.Eb(9),i.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.BACKLOGArr),i.Eb(6),i.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.ONGOINGArr),i.Eb(6),i.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.APPROVEDArr),i.Eb(6),i.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.REJECTEDArr))},directives:[Mn.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,o.n,v.a,W.i,W.f,X.a,o.m,E.b,C.b,W.j,X.e,X.c,X.h,X.g,p.A,p.s,p.t],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.headingtext[_ngcontent-%COMP%]{padding-left:2.2%;padding-top:1%}.searchfield[_ngcontent-%COMP%]{padding-right:5%}.matCardbox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:37vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.pr3[_ngcontent-%COMP%]{padding-right:3%}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),t})();var ai=a("laYw"),oi=a("yAWA"),ni=a("JC+M");function ii(t,e){1&t&&i.Sb(0,"mat-spinner",20),2&t&&i.rc("diameter",15)}function ri(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",21),i.fc("click",function(){return i.Hc(t),i.jc().clear()}),i.Xb(1,"mat-icon"),i.Tc(2,"close"),i.Wb(),i.Wb()}}function ci(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",40),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function si(t,e){if(1&t&&i.Sb(0,"img",41),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function li(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",22),i.fc("click",function(){i.Hc(t);const a=e.$implicit;return i.jc().goToKycSummary(a.customerId)}),i.Xb(1,"div",23),i.Xb(2,"div",24),i.Xb(3,"mat-icon",25),i.Tc(4,"bookmark"),i.Wb(),i.Xb(5,"span"),i.Xb(6,"small"),i.Tc(7),i.kc(8,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"mat-card-header",26),i.Xb(10,"div",27),i.Rc(11,ci,2,1,"div",28),i.Rc(12,si,1,1,"ng-template",null,29,i.Sc),i.Wb(),i.Xb(14,"mat-card-title",30),i.Tc(15),i.Wb(),i.Xb(16,"mat-card-subtitle"),i.Xb(17,"span",31),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"form",32),i.Xb(20,"div",33),i.Xb(21,"div",34),i.Xb(22,"span"),i.Tc(23,"Verification Type"),i.Wb(),i.Xb(24,"span",35),i.Tc(25,"Biometric"),i.Wb(),i.Wb(),i.Xb(26,"div",34),i.Xb(27,"span"),i.Tc(28,"KYC Status"),i.Wb(),i.Xb(29,"span",35),i.Tc(30),i.Wb(),i.Wb(),i.Wb(),i.Sb(31,"br"),i.Xb(32,"div",36),i.Xb(33,"div",37),i.Xb(34,"span",38),i.Tc(35,"Mobile Number"),i.Wb(),i.Xb(36,"span",39),i.Tc(37),i.Wb(),i.Wb(),i.Xb(38,"div",37),i.Xb(39,"span",38),i.Tc(40,"Email"),i.Wb(),i.Xb(41,"span",39),i.Tc(42),i.Wb(),i.Wb(),i.Wb(),i.Sb(43,"br"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(13);i.Eb(7),i.Uc(i.lc(8,11,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.customerAdditionalInfo.kycReference,""),i.Eb(12),i.Uc(t.customerAdditionalInfo.kycStatus),i.Eb(7),i.Uc(t.phoneNumber),i.Eb(5),i.Uc(t.primaryEmailAdress)}}function bi(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",40),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function di(t,e){if(1&t&&i.Sb(0,"img",41),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function ui(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",22),i.fc("click",function(){i.Hc(t);const a=e.$implicit;return i.jc().goToKycSummary(a.customerId)}),i.Xb(1,"div",23),i.Xb(2,"div",24),i.Xb(3,"mat-icon",42),i.Tc(4,"bookmark"),i.Wb(),i.Xb(5,"span"),i.Xb(6,"small"),i.Tc(7),i.kc(8,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"mat-card-header",26),i.Xb(10,"div",27),i.Rc(11,bi,2,1,"div",28),i.Rc(12,di,1,1,"ng-template",null,29,i.Sc),i.Wb(),i.Xb(14,"mat-card-title",43),i.Tc(15),i.Wb(),i.Xb(16,"mat-card-subtitle"),i.Xb(17,"span",31),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"form",32),i.Xb(20,"div",33),i.Xb(21,"div",34),i.Xb(22,"span"),i.Tc(23,"Verification Type"),i.Wb(),i.Xb(24,"span",35),i.Tc(25,"Biometric"),i.Wb(),i.Wb(),i.Xb(26,"div",34),i.Xb(27,"span"),i.Tc(28,"KYC Status"),i.Wb(),i.Xb(29,"span",35),i.Tc(30),i.Wb(),i.Wb(),i.Wb(),i.Sb(31,"br"),i.Xb(32,"div",36),i.Xb(33,"div",37),i.Xb(34,"span",38),i.Tc(35,"Mobile Number"),i.Wb(),i.Xb(36,"span",39),i.Tc(37),i.Wb(),i.Wb(),i.Xb(38,"div",37),i.Xb(39,"span",38),i.Tc(40,"Email"),i.Wb(),i.Xb(41,"span",39),i.Tc(42),i.Wb(),i.Wb(),i.Wb(),i.Sb(43,"br"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(13);i.Eb(7),i.Uc(i.lc(8,11,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.customerAdditionalInfo.kycReference,""),i.Eb(12),i.Uc(t.customerAdditionalInfo.kycStatus),i.Eb(7),i.Uc(t.phoneNumber),i.Eb(5),i.Uc(t.primaryEmailAdress)}}function mi(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",40),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function pi(t,e){if(1&t&&i.Sb(0,"img",41),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function hi(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",22),i.fc("click",function(){i.Hc(t);const a=e.$implicit;return i.jc().goToKycSummary(a.customerId)}),i.Xb(1,"div",23),i.Xb(2,"div",24),i.Xb(3,"mat-icon",44),i.Tc(4,"bookmark"),i.Wb(),i.Xb(5,"span"),i.Xb(6,"small"),i.Tc(7),i.kc(8,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"mat-card-header",26),i.Xb(10,"div",27),i.Rc(11,mi,2,1,"div",28),i.Rc(12,pi,1,1,"ng-template",null,29,i.Sc),i.Wb(),i.Xb(14,"mat-card-title",43),i.Tc(15),i.Wb(),i.Xb(16,"mat-card-subtitle"),i.Xb(17,"span",31),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"form",32),i.Xb(20,"div",33),i.Xb(21,"div",34),i.Xb(22,"span"),i.Tc(23,"Verification Type"),i.Wb(),i.Xb(24,"span",35),i.Tc(25,"Biometric"),i.Wb(),i.Wb(),i.Xb(26,"div",34),i.Xb(27,"span"),i.Tc(28,"KYC Status"),i.Wb(),i.Xb(29,"span",35),i.Tc(30),i.Wb(),i.Wb(),i.Wb(),i.Sb(31,"br"),i.Xb(32,"div",36),i.Xb(33,"div",37),i.Xb(34,"span",38),i.Tc(35,"Mobile Number"),i.Wb(),i.Xb(36,"span",39),i.Tc(37),i.Wb(),i.Wb(),i.Xb(38,"div",37),i.Xb(39,"span",38),i.Tc(40,"Email"),i.Wb(),i.Xb(41,"span",39),i.Tc(42),i.Wb(),i.Wb(),i.Wb(),i.Sb(43,"br"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(13);i.Eb(7),i.Uc(i.lc(8,11,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.customerAdditionalInfo.kycReference,""),i.Eb(12),i.Uc(t.customerAdditionalInfo.kycStatus),i.Eb(7),i.Uc(t.phoneNumber),i.Eb(5),i.Uc(t.primaryEmailAdress)}}function fi(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",40),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function gi(t,e){if(1&t&&i.Sb(0,"img",41),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function vi(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",22),i.fc("click",function(){i.Hc(t);const a=e.$implicit;return i.jc().goToKycSummary(a.customerId)}),i.Xb(1,"div",23),i.Xb(2,"div",24),i.Xb(3,"mat-icon",45),i.Tc(4,"bookmark"),i.Wb(),i.Xb(5,"span"),i.Xb(6,"small"),i.Tc(7),i.kc(8,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"mat-card-header",26),i.Xb(10,"div",27),i.Rc(11,fi,2,1,"div",28),i.Rc(12,gi,1,1,"ng-template",null,29,i.Sc),i.Wb(),i.Xb(14,"mat-card-title",43),i.Tc(15),i.Wb(),i.Xb(16,"mat-card-subtitle"),i.Xb(17,"span",31),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"form",32),i.Xb(20,"div",33),i.Xb(21,"div",34),i.Xb(22,"span"),i.Tc(23,"Verification Type"),i.Wb(),i.Xb(24,"span",35),i.Tc(25,"Biometric"),i.Wb(),i.Wb(),i.Xb(26,"div",34),i.Xb(27,"span"),i.Tc(28,"KYC Status"),i.Wb(),i.Xb(29,"span",35),i.Tc(30),i.Wb(),i.Wb(),i.Wb(),i.Sb(31,"br"),i.Xb(32,"div",36),i.Xb(33,"div",37),i.Xb(34,"span",38),i.Tc(35,"Mobile Number"),i.Wb(),i.Xb(36,"span",39),i.Tc(37),i.Wb(),i.Wb(),i.Xb(38,"div",37),i.Xb(39,"span",38),i.Tc(40,"Email"),i.Wb(),i.Xb(41,"span",39),i.Tc(42),i.Wb(),i.Wb(),i.Wb(),i.Sb(43,"br"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(13);i.Eb(7),i.Uc(i.lc(8,11,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.customerAdditionalInfo.kycReference,""),i.Eb(12),i.Uc(t.customerAdditionalInfo.kycStatus),i.Eb(7),i.Uc(t.phoneNumber),i.Eb(5),i.Uc(t.primaryEmailAdress)}}let Wi=(()=>{class t{constructor(t,e,a,o,n,r,s,l,b){this.dialog=t,this.dialogService=e,this.apiService=a,this.cdr=o,this.tasSumService=n,this.snack=r,this.sanitizer=s,this.route=b,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.setValue=new i.o,this._searchSubject=new c.a,this.nodataFound=!1,this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.searchable=!1,this.isScroll=!0,this.redirectedFromTellerSearch=!1,this._setSearchSubscription(),l.addSvgIconLiteral("filter_icon",s.bypassSecurityTrustHtml('\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10,13,3,3H21L14,13v6l-4,3Z" fill="none" stroke="#000" stroke-miterlimit="10"/></svg>\n'))}onScroll(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),this.updateSearch(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()})}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{this.searchKycid(t),console.log("searchValue :: ",t)})}goToKycSummary(t){localStorage.setItem("customerId",t),this.dialog.open(oi.a,{width:"80%",maxHeight:"100%",backdropClass:"dialog-bg-trans",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed",t),"REJECTED"!==t.data&&"APPROVED"!==t.data&&"INITIATED"!==t.data&&"INITIATED"!==t.data||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}getDataOnLoad(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerByStatus(this.statusArr[t],0,0)}fetchCustomerByStatus(t,e,a){this.apiService.getKycTaskSummaryList(t,e,a).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(e=>{console.log("count data :: ",e),this.cdr.markForCheck(),this.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}searchKycid(t){let e,a;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("kycId"),e="kyc_"+this.searchText.trim(),this.apiService.getKycDetails2(e).subscribe(t=>{console.log(t),null!=t?(a="kycReference="+e,console.log("cif",a)):(console.log("not a cif"),e=this.searchText.trim(),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(()=>{this.getKycData(a)},1e3),this.isScroll=!1}getKycData(t){this.loading=!0;for(let e=0;e<this.statusArr.length;e++){const a=this.statusArr[e];"INITIATED"==a?this.apiService.getKycDetails(t,a).subscribe(t=>{this.INITIATEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.INITIATEDArr=[];for(let e=0;e<t.customerInfoList.length;e++)this.INITIATEDArr.push(null==t?void 0:t.customerInfoList[e])}):"UNDER_PROCESS"==a?this.apiService.getKycDetails(t,a).subscribe(t=>{this.UNDER_PROCESSTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.UNDER_PROCESSArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++)this.UNDER_PROCESSArr.push(t.customerInfoList[e])}):"APPROVED"==a?this.apiService.getKycDetails(t,a).subscribe(t=>{this.APPROVEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.APPROVEDArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++)this.APPROVEDArr.push(t.customerInfoList[e])}):"REJECTED"==a&&this.apiService.getKycDetails(t,a).subscribe(t=>{this.REJECTEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.REJECTEDArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++)this.REJECTEDArr.push(t.customerInfoList[e])})}}resetSearchData(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}clear(){this.searchText="",this.getDataOnLoad(),this.isScroll=!0}updateDataOnScroll(t,e){if("INITIATED"==t){const t=Kt.unionBy(this.INITIATEDArr,e,"customerId");this.INITIATEDArr=t}else if("UNDER_PROCESS"==t){const t=Kt.unionBy(this.UNDER_PROCESSArr,e,"customerId");this.UNDER_PROCESSArr=t}else if("APPROVED"==t){const t=Kt.unionBy(this.APPROVEDArr,e,"customerId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Kt.unionBy(this.REJECTEDArr,e,"customerId");this.REJECTEDArr=t}this.cdr.markForCheck()}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.goToKycSummary(t[0][0].customerId)}ngOnDestroy(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}isNum(t){return!isNaN(t)}isString(t){return t}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.b),i.Rb(ai.a),i.Rb(r.b),i.Rb(i.h),i.Rb(m.a),i.Rb(f.a),i.Rb(qo.b),i.Rb(v.c),i.Rb(je.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-kyc-task-summary"]],hostBindings:function(t,e){1&t&&i.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:57,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","60",1,"pl-50"],[1,"task","ml-24"],["fxLayoutAlign","end center","fxFlex","100","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px",1,"search"],["appearance","outline",1,"full-width","search_field"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[3,"click"],[1,"graymatcard"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"breakWord",2,"font-size","15px"],[1,"KYCtxt"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxFlex","50","fxLayout","column",1,"pr2"],[1,"col4","breakWord"],["fxLayout","row","fxLayoutGap","10"],["fxLayout","column","fxFlex","50",1,"pr2"],[1,"col3"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark",2,"color","darkorange"],[1,"breakWord",2,"font-size","16px"],[1,"fill-color-blue","bookMark",2,"color","#1FBFA9"],[1,"fill-color-blue","bookMark",2,"color","red"]],template:function(t,e){1&t&&(i.Sb(0,"br"),i.Xb(1,"div",0),i.fc("scrolled",function(t){return e.onScroll(t)}),i.Sb(2,"br"),i.Xb(3,"div",1),i.Xb(4,"div",2),i.Xb(5,"div",3),i.Xb(6,"span",4),i.Tc(7," KYC Task Summary "),i.Wb(),i.Wb(),i.Xb(8,"div",5),i.Xb(9,"div",6),i.Xb(10,"mat-form-field",7),i.Xb(11,"mat-label"),i.Tc(12,"Search Records"),i.Wb(),i.Xb(13,"div",8),i.Xb(14,"input",9),i.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),i.Wb(),i.Rc(15,ii,1,1,"mat-spinner",10),i.Wb(),i.Xb(16,"mat-icon",11),i.Tc(17,"search"),i.Wb(),i.Rc(18,ri,3,0,"button",12),i.Xb(19,"mat-hint"),i.Tc(20,"Search ID or Name"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(21,"br"),i.Xb(22,"div",13),i.Xb(23,"div",14),i.Xb(24,"mat-card",15),i.Xb(25,"div",16),i.Xb(26,"span",17),i.Xb(27,"h2",18),i.Tc(28),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div"),i.Rc(30,li,44,13,"div",19),i.Wb(),i.Sb(31,"br"),i.Wb(),i.Xb(32,"mat-card",15),i.Xb(33,"div",16),i.Xb(34,"span",17),i.Xb(35,"h2",18),i.Tc(36),i.Wb(),i.Wb(),i.Wb(),i.Xb(37,"div"),i.Rc(38,ui,44,13,"div",19),i.Wb(),i.Sb(39,"br"),i.Wb(),i.Xb(40,"mat-card",15),i.Xb(41,"div",16),i.Xb(42,"span",17),i.Xb(43,"h2",18),i.Tc(44),i.Wb(),i.Wb(),i.Wb(),i.Xb(45,"div"),i.Rc(46,hi,44,13,"div",19),i.Wb(),i.Sb(47,"br"),i.Wb(),i.Xb(48,"mat-card",15),i.Xb(49,"div",16),i.Xb(50,"span",17),i.Xb(51,"h2",18),i.Tc(52),i.Wb(),i.Wb(),i.Wb(),i.Xb(53,"div"),i.Rc(54,vi,44,13,"div",19),i.Wb(),i.Sb(55,"br"),i.Wb(),i.Wb(),i.Sb(56,"br"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),i.Eb(13),i.rc("ngModel",e.searchText),i.Eb(1),i.rc("ngIf",e.loading),i.Eb(3),i.rc("ngIf",e.searchText),i.Eb(10),i.Wc("Pending for approval (",e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.INITIATEDArr),i.Eb(6),i.Wc("Ongoing (",e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.UNDER_PROCESSArr),i.Eb(6),i.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.APPROVEDArr),i.Eb(6),i.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.REJECTEDArr))},directives:[Mn.a,g.e,g.f,g.b,g.d,W.c,W.g,y.b,p.c,p.r,p.u,o.n,v.a,W.i,W.f,X.a,o.m,E.b,C.b,W.j,X.e,X.c,X.h,X.g,p.A,p.s,p.t],pipes:[ni.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.KYCtxt[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:11px}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.boldClass[_ngcontent-%COMP%]{font-weight:bolder}.innerMatCard[_ngcontent-%COMP%]{width:97%;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.titleName[_ngcontent-%COMP%]{top:289px;left:492px;width:94px;height:15px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-600) 12px/15px Montserrat;font:normal normal 600 12px/15px Montserrat;color:#000}.fieldName[_ngcontent-%COMP%], .titleName[_ngcontent-%COMP%]{text-align:left;letter-spacing:0;opacity:1}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;font:normal normal medium 9px/11px Montserrat;color:#0f0f0f}.search[_ngcontent-%COMP%]{height:73%;border-radius:5px;margin-left:37.7%}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}.mt-12[_ngcontent-%COMP%]{margin-top:12px}.search_field[_ngcontent-%COMP%]{height:100%;width:259px!important;left:60px;background:#fff}.pl-50[_ngcontent-%COMP%]{padding-left:3.8%;padding-top:1%}.graymatcard[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:42vh}.pr2[_ngcontent-%COMP%]{padding-right:2%}","[_nghost-%COMP%] {\n      \n      background-color: #F5F5F5;\n    }"]}),t})();var Xi=a("Va2r");function yi(t,e){if(1&t&&(i.Xb(0,"mat-option",32),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ti(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0Please Select the Prefix! "),i.Wb())}function Ii(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0Enter the First Name "),i.Wb())}function xi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0Enter the Last Name "),i.Wb())}function Ci(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0Please Select Date Of Birth "),i.Wb())}function Ei(t,e){if(1&t&&(i.Xb(0,"mat-option",32),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Oi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0Select Marital Status "),i.Wb())}function Di(t,e){if(1&t&&(i.Xb(0,"mat-option",32),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ai(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0 Select Gender "),i.Wb())}function Ri(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 Prefix and Gender does not match! "),i.Wb())}function Si(t,e){if(1&t&&(i.Xb(0,"mat-option",32),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ni(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0 Select Nationality "),i.Wb())}function Pi(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-hint",34),i.fc("click",function(){i.Hc(t);const e=i.jc();return e.getOtp(e.primaryInfoForm.value)}),i.Tc(1),i.Wb()}if(2&t){const t=i.jc();i.Eb(1),i.Uc(t.emailVerify)}}function ki(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0 Enter the Primary Email "),i.Wb())}function Fi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," Please Enter valid email address! "),i.Wb())}function Li(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-hint",34),i.fc("click",function(){i.Hc(t);const e=i.jc();return e.getOtpMobile(e.primaryInfoForm.value)}),i.Tc(1),i.Wb()}if(2&t){const t=i.jc();i.Eb(1),i.Uc(t.verify)}}function _i(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0 Enter the Mobile Number(maximum 10 digits) "),i.Wb())}function wi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," Please Enter Mobile Number "),i.Wb())}function Ui(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," Mobile number must be 10 digits. "),i.Wb())}function Mi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),i.Wb())}let Gi=(()=>{class t{constructor(t,e,a,o,n){this.primaryInfo=t,this.dialogRef=e,this.apiService=a,this.snack=o,this.formBuilder=n,this.arrayCountry=[],this.arrayState=[],this.prefixFlag=!1,this.maxDate=new Date}ngOnInit(){console.log(this.primaryInfo),this.customerId=this.primaryInfo.customerId,this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getMaritalStatus("maritial_Status"),this.getCountryName("country"),this.getNationality("nationality"),this.getResidenceDetails("residence"),this.primaryInfo&&this.buildPrimaryInfoForm(this.primaryInfo)}buildPrimaryInfoForm(t){this.primaryInfoForm=this.formBuilder.group({customerId:[this.customerId],prefix:[t?t.prefix:"",[p.z.required]],firstName:[t?t.firstName:"",[p.z.required]],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",[p.z.required]],dateOfBirth:[t?t.dateOfBirth:"",[p.z.required]],maritalStatus:[t?t.maritalStatus:"",[p.z.required]],gender:[t?t.gender:"",[p.z.required]],nationality:[t?t.nationality:"",[p.z.required]],primaryEmailAdress:[t?t.primaryEmailAdress:"",[p.z.required,p.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],phoneNumber:[t?t.phoneNumber:"",[p.z.required]]})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getMaritalStatus(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayMaritalStatus=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName===t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayState.push(t[e].stateName)});break}})}getNationality(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.nationalityArray=t})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}onChangePrefix(t){""!=this.primaryInfoForm.value.gender&&("Mr"==t.value&&"Male"==this.primaryInfoForm.value.gender||("Ms"==t.value||"Mrs"==t.value)&&"Female"==this.primaryInfoForm.value.gender?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}onChangeGender(t){"Mr"==this.primaryInfoForm.value.prefix&&"Male"==t.value||("Ms"==this.primaryInfoForm.value.prefix||"Mrs"==this.primaryInfoForm.value.prefix)&&"Female"==t.value?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}onSubmit(){const t=new o.f("en-US").transform(this.primaryInfoForm.value.dateOfBirth,"yyyy-MMM-dd");this.primaryInfoForm.value.dateOfBirth=t,this.primaryInfoForm.value.customerSubmit=!1,this.apiService.insertNewUserOnboarding(this.primaryInfoForm.value).subscribe(t=>{console.log(t),this.dialogRef.close({status:"INITIATED",resp:this.primaryInfoForm.value})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(r.b),i.Rb(f.a),i.Rb(p.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-primary-info"]],decls:97,vars:25,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],[1,"full-width"],[1,"hintClass"],[1,"inputClass",2,"max-width","20%"],["formControlName","prefix","required","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"inputClass"],["type","text","matInput","","formControlName","firstName","required","",3,"keypress"],["type","text","matInput","","formControlName","middleName",3,"keypress"],["type","text","matInput","","formControlName","lastName","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","fxlayoutAlign","start start",1,"full-width"],["fxFlex","90%"],["matInput","","readonly","","formControlName","dateOfBirth","required","",1,"default-background",3,"matDatepicker","max"],["fxFlex","10%"],["matSuffix","",2,"height","0px","line-height","0px",3,"for"],["picker",""],["formControlName","maritalStatus","required",""],["formControlName","gender","required","",3,"selectionChange"],["formControlName","nationality","required",""],["fxFlex","90%","type","email","matInput","","formControlName","primaryEmailAdress","required",""],["fxFlex","10%","class","verification",3,"click",4,"ngIf"],["fxFlex","90%","type","text","onlyNumber","","maxlength","10","minlength","10","matInput","","formControlName","phoneNumber","required","","maxlength","10"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[1,"errorClass"],["fxFlex","10%",1,"verification",3,"click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h5",2),i.Tc(4,"Primary Information"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",3),i.Xb(7,"div",4),i.Xb(8,"div",5),i.Xb(9,"mat-hint",6),i.Tc(10,"Prefix*"),i.Wb(),i.Xb(11,"mat-card",7),i.Xb(12,"mat-select",8),i.fc("selectionChange",function(t){return e.onChangePrefix(t)}),i.Xb(13,"mat-option",9),i.Tc(14,"Select"),i.Wb(),i.Rc(15,yi,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Rc(16,Ti,2,0,"mat-error",11),i.Wb(),i.Xb(17,"div",12),i.Xb(18,"mat-hint",6),i.Tc(19,"First Name*"),i.Wb(),i.Xb(20,"mat-card",13),i.Xb(21,"input",14),i.fc("keypress",function(t){return e.letterOnly(t)}),i.Wb(),i.Wb(),i.Rc(22,Ii,2,0,"mat-error",11),i.Wb(),i.Xb(23,"div",12),i.Xb(24,"mat-hint",6),i.Tc(25,"Middle Name"),i.Wb(),i.Xb(26,"mat-card",13),i.Xb(27,"input",15),i.fc("keypress",function(t){return e.letterOnly(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"div",12),i.Xb(29,"mat-hint",6),i.Tc(30,"Last Name"),i.Wb(),i.Xb(31,"mat-card",13),i.Xb(32,"input",16),i.fc("keypress",function(t){return e.letterOnly(t)}),i.Wb(),i.Wb(),i.Rc(33,xi,2,0,"mat-error",11),i.Wb(),i.Xb(34,"div",17),i.Xb(35,"mat-hint",6),i.Tc(36,"Date of Birth*"),i.Wb(),i.Xb(37,"mat-card",13),i.Xb(38,"div",18),i.Sb(39,"input",19),i.Wb(),i.Xb(40,"div",20),i.Sb(41,"mat-datepicker-toggle",21),i.Wb(),i.Wb(),i.Rc(42,Ci,2,0,"mat-error",11),i.Sb(43,"mat-datepicker",null,22),i.Wb(),i.Xb(45,"div",12),i.Xb(46,"mat-hint",6),i.Tc(47,"Marital Status*"),i.Wb(),i.Xb(48,"mat-card",13),i.Xb(49,"mat-select",23),i.Xb(50,"mat-option",9),i.Tc(51,"Select"),i.Wb(),i.Rc(52,Ei,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Rc(53,Oi,2,0,"mat-error",11),i.Wb(),i.Xb(54,"div",12),i.Xb(55,"mat-hint",6),i.Tc(56,"Gender*"),i.Wb(),i.Xb(57,"mat-card",13),i.Xb(58,"mat-select",24),i.fc("selectionChange",function(t){return e.onChangeGender(t)}),i.Xb(59,"mat-option",9),i.Tc(60,"Select"),i.Wb(),i.Rc(61,Di,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Rc(62,Ai,2,0,"mat-error",11),i.Rc(63,Ri,2,0,"mat-error",11),i.Wb(),i.Xb(64,"div",12),i.Xb(65,"mat-hint",6),i.Tc(66,"Nationality*"),i.Wb(),i.Xb(67,"mat-card",13),i.Xb(68,"mat-select",25),i.Xb(69,"mat-option",9),i.Tc(70,"Select"),i.Wb(),i.Rc(71,Si,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Rc(72,Ni,2,0,"mat-error",11),i.Wb(),i.Xb(73,"div",12),i.Xb(74,"mat-hint",6),i.Tc(75,"Primary Email*"),i.Wb(),i.Xb(76,"mat-card",13),i.Sb(77,"input",26),i.Rc(78,Pi,2,1,"mat-hint",27),i.Wb(),i.Rc(79,ki,2,0,"mat-error",11),i.Rc(80,Fi,2,0,"mat-error",11),i.Wb(),i.Xb(81,"div",12),i.Xb(82,"mat-hint",6),i.Tc(83,"Mobile Number*"),i.Wb(),i.Xb(84,"mat-card",13),i.Sb(85,"input",28),i.Rc(86,Li,2,1,"mat-hint",27),i.Wb(),i.Rc(87,_i,2,0,"mat-error",11),i.Rc(88,wi,2,0,"mat-error",11),i.Rc(89,Ui,2,0,"mat-error",11),i.Rc(90,Mi,2,0,"mat-error",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(91,"div",29),i.Xb(92,"button",30),i.fc("click",function(){return e.onSubmit()}),i.Tc(93,"Save"),i.Wb(),i.Tc(94," \xa0\xa0\xa0 "),i.Xb(95,"button",31),i.fc("click",function(){return e.close()}),i.Tc(96," Cancel "),i.Wb(),i.Wb()),2&t){const t=i.Dc(44);i.Eb(6),i.rc("formGroup",e.primaryInfoForm),i.Eb(9),i.rc("ngForOf",e.arrayPrefix),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("prefix").touched&&!e.primaryInfoForm.get("prefix").valid),i.Eb(6),i.rc("ngIf",e.primaryInfoForm.get("firstName")&&e.primaryInfoForm.get("firstName").touched&&!e.primaryInfoForm.get("firstName").valid),i.Eb(11),i.rc("ngIf",e.primaryInfoForm.get("lastName")&&e.primaryInfoForm.get("lastName").touched&&!e.primaryInfoForm.get("lastName").valid),i.Eb(6),i.rc("matDatepicker",t)("max",e.maxDate),i.Eb(2),i.rc("for",t),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("dateOfBirth")&&e.primaryInfoForm.get("dateOfBirth").touched&&!e.primaryInfoForm.get("dateOfBirth").valid),i.Eb(10),i.rc("ngForOf",e.arrayMaritalStatus),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("maritalStatus")&&e.primaryInfoForm.get("maritalStatus").touched&&!e.primaryInfoForm.get("maritalStatus").valid),i.Eb(8),i.rc("ngForOf",e.arrayGender),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("gender")&&e.primaryInfoForm.get("gender").touched&&!e.primaryInfoForm.get("gender").valid),i.Eb(1),i.rc("ngIf",e.prefixFlag),i.Eb(8),i.rc("ngForOf",e.nationalityArray),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("nationality")&&e.primaryInfoForm.get("nationality").touched&&!e.primaryInfoForm.get("nationality").valid),i.Eb(6),i.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").valid),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress")&&e.primaryInfoForm.get("primaryEmailAdress").touched&&!e.primaryInfoForm.get("primaryEmailAdress").valid),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").hasError("pattern")),i.Eb(6),i.rc("ngIf",e.primaryInfoForm.get("phoneNumber").valid),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("phoneNumber").touched&&!e.primaryInfoForm.get("phoneNumber").valid&&!e.primaryInfoForm.get("phoneNumber").hasError("minlength")),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("required")&&e.primaryInfoForm.get("phoneNumber").touched),i.Eb(1),i.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("pattern")),i.Eb(1),i.rc("ngIf","0000000000"==e.primaryInfoForm.get("phoneNumber").value),i.Eb(2),i.rc("disabled",e.primaryInfoForm.invalid)}},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,W.f,X.a,T.a,p.r,p.i,p.y,O.n,o.m,o.n,g.b,y.b,p.c,I.e,I.g,W.j,I.d,q.a,p.m,p.n,g.f,C.b,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}"]}),t})();function Vi(t,e){1&t&&(i.Xb(0,"h2",32),i.Tc(1,"Comminucation Address"),i.Wb())}function Bi(t,e){1&t&&(i.Xb(0,"h2"),i.Tc(1,"Permanent Address"),i.Wb())}function ji(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),i.Wb())}function zi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),i.Wb())}function qi(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ki(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0\xa0 Select Residence Type "),i.Wb())}function Ji(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function $i(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0\xa0 Select Country "),i.Wb())}function Hi(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName," ")}}function Yi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0\xa0 Please Select State "),i.Wb())}function Zi(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Qi(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0\xa0 Please Select City "),i.Wb())}function tr(t,e){1&t&&(i.Xb(0,"mat-error",33),i.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!(5-10 digits) "),i.Wb())}function er(t,e){1&t&&(i.Xb(0,"h5",35),i.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!"),i.Wb())}function ar(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",8),i.Rc(2,Vi,2,0,"h2",9),i.Rc(3,Bi,2,0,"h2",10),i.Xb(4,"div",11),i.Xb(5,"div",12),i.Xb(6,"mat-hint",13),i.Tc(7,"Address Line 1 *"),i.Wb(),i.Xb(8,"mat-card",14),i.Sb(9,"textarea",15),i.Wb(),i.Rc(10,ji,2,0,"mat-error",16),i.Wb(),i.Xb(11,"div",12),i.Xb(12,"mat-hint",13),i.Tc(13,"Address Line 2 *"),i.Wb(),i.Xb(14,"mat-card",14),i.Sb(15,"textarea",17),i.Wb(),i.Rc(16,zi,2,0,"mat-error",16),i.Wb(),i.Xb(17,"div",12),i.Xb(18,"mat-hint",13),i.Tc(19,"Residence Type *"),i.Wb(),i.Xb(20,"mat-card",14),i.Xb(21,"mat-select",18),i.Xb(22,"mat-option",19),i.Tc(23," Select"),i.Wb(),i.Rc(24,qi,2,2,"mat-option",20),i.Wb(),i.Wb(),i.Rc(25,Ki,2,0,"mat-error",21),i.Wb(),i.Xb(26,"div",12),i.Xb(27,"mat-hint",13),i.Tc(28,"Country *"),i.Wb(),i.Xb(29,"mat-card",14),i.Xb(30,"mat-select",22,23),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getStateName(e.value,"Communication")})("selectionChange",function(e){return i.Hc(t),i.jc().getCityName(e.value)}),i.Xb(32,"mat-option",19),i.Tc(33," Select"),i.Wb(),i.Rc(34,Ji,2,2,"mat-option",20),i.Wb(),i.Wb(),i.Rc(35,$i,2,0,"mat-error",24),i.Wb(),i.Xb(36,"div",12),i.Xb(37,"mat-hint",13),i.Tc(38,"State*"),i.Wb(),i.Xb(39,"mat-card",14),i.Xb(40,"mat-select",25,26),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getCityName(e.value,"Communication")}),i.Xb(42,"mat-option",19),i.Tc(43,"Select "),i.Wb(),i.Rc(44,Hi,2,2,"mat-option",20),i.Wb(),i.Wb(),i.Rc(45,Yi,2,0,"mat-error",16),i.Wb(),i.Xb(46,"div",12),i.Xb(47,"mat-hint",13),i.Tc(48,"City*"),i.Wb(),i.Xb(49,"mat-card",14),i.Xb(50,"mat-select",27,28),i.Xb(52,"mat-option",19),i.Tc(53,"Select "),i.Wb(),i.Rc(54,Zi,2,2,"mat-option",20),i.Wb(),i.Wb(),i.Rc(55,Qi,2,0,"mat-error",16),i.Wb(),i.Xb(56,"div",12),i.Xb(57,"mat-hint",13),i.Tc(58,"Zip Code*"),i.Wb(),i.Xb(59,"mat-card",14),i.Xb(60,"input",29,30),i.fc("keyup",function(a){i.Hc(t);const o=e.index;return i.jc().isAllSameDigit(a,o)}),i.Wb(),i.Wb(),i.Rc(62,tr,2,0,"mat-error",24),i.Rc(63,er,2,0,"h5",31),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc();i.Eb(1),i.rc("formGroupName",a),i.Eb(1),i.rc("ngIf",0==a),i.Eb(1),i.rc("ngIf",a>0),i.Eb(7),i.rc("ngIf",t.controls.address1&&t.controls.address1.touched&&!t.controls.address1.valid||t.controls.address1.touched&&t.controls.address1.hasError("pattern")),i.Eb(6),i.rc("ngIf",t.controls.address2&&t.controls.address2.touched&&!t.controls.address2.valid||t.controls.address2.touched&&t.controls.address2.hasError("pattern")),i.Eb(8),i.rc("ngForOf",o.arrayResidence),i.Eb(1),i.rc("ngIf",t.controls.residenceType&&t.controls.residenceType.touched&&!t.controls.residenceType.valid),i.Eb(9),i.rc("ngForOf",o.arrayCountry),i.Eb(1),i.rc("ngIf",t.controls.country&&t.controls.country.touched&&!t.controls.country.valid),i.Eb(9),i.rc("ngForOf",o.arrayState),i.Eb(1),i.rc("ngIf",t.controls.state&&t.controls.state.touched&&!t.controls.state.valid),i.Eb(9),i.rc("ngForOf",o.arrayCity),i.Eb(1),i.rc("ngIf",t.controls.city&&t.controls.city.touched&&!t.controls.city.valid),i.Eb(7),i.rc("ngIf",t.controls.zipCode&&t.controls.zipCode.touched&&!t.controls.zipCode.valid),i.Eb(1),i.rc("ngIf",o.isAllSameDigitVal&&a==o.zipCodeIndex)}}let or=(()=>{class t{constructor(t,e,a,o,n,i,r){this.dialogRef=t,this.contactInfo=e,this.formBuilder=a,this.ls=o,this.apiService=n,this.snack=i,this.cdr=r,this.userAddress_array=new p.d([]),this.arrayCity=[],this.arrayState=[],this.arrayCityPerm=[],this.arrayStatePerm=[],this.arrayCountryPerm=[],this.arrayCountry=[]}ngOnInit(){if(console.log(this.contactInfo),this.customerId=this.ls.getItem("customerId"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.contactInfo){this.buildContactInfoForm(),this.userAddress_array=this.contactInfoUpdateForm.get("userAddress_array");for(let t=0;t<this.contactInfo.length;t++)this.getStateName(this.contactInfo[t].country,this.contactInfo[t].addressType),this.getCityName(),this.userAddress_array.push(this.createUserAddress(this.contactInfo[t]))}else this.buildContactInfoForm(),this.userAddress_array.push(this.createUserAddress())}buildContactInfoForm(){this.contactInfoUpdateForm=this.formBuilder.group({userAddress_array:this.formBuilder.array([])})}createUserAddress(t){return this.formBuilder.group({addressType:["Communication",[p.z.required]],address1:[t?t.address1:[""],[p.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[p.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountryPerm.push(t[e].countryName))})}getStateName(t,e){this.apiService.getAllCountries().subscribe(a=>{for(let o=0;o<a.length;o++)if(a[o].countryName==t){this.apiService.getStateByCountryId(a[o].id).subscribe(t=>{"Communication"===e?this.arrayState=t:"Permanent"===e&&(this.arrayStatePerm=t)});break}})}getCityName(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>{this.arrayCity.push(t.cityName)}))}onSubmit(){var t={};t.customerId=this.customerId,t.userAddress=this.userAddress_array.value,t.userAddress&&2==t.userAddress.length&&(t.userAddress[1].addressType="Permanent"),this.apiService.insertNewUserOnboarding(t).subscribe(e=>{this.dialogRef.close({status:"INITIATED",resp:t.userAddress})},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}isAllSameDigit(t,e){console.log("zipIndex :: ",e),this.zipCodeIndex=e,this.cdr.detectChanges();let a=0,o=t.target.value;if(""!=o){for(var n=0;n<o.length;n++)0==o[n]&&a++;console.log("number :: ",o),console.log("isAllSameDigitVal :: ",a,o.length),a==o.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.g),i.Rb(b.a),i.Rb(p.f),i.Rb(l.a),i.Rb(r.b),i.Rb(f.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-contact-info"]],decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["formArrayName","userAddress_array","fxLayout","row wrap",1,"full-width"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row wrap",1,"full-width",3,"formGroupName"],["style","font-size: 18px;",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","address1","formControlName","address1","maxlength","255","required",""],["style","color: errorColor;",4,"ngIf"],["matInput","","name","address2","formControlName","address2","maxlength","255","required",""],["name","residenceType","formControlName","residenceType","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","color: errorColor",4,"ngIf"],["name","country","formControlName","country","required","",3,"selectionChange"],["country",""],["style","color: errorColor; ",4,"ngIf"],["name","state","required","","formControlName","state",1,"full-width","default-background",3,"selectionChange"],["state",""],["name","city","required","","formControlName","city",1,"full-width","default-background"],["city",""],["type","text","matInput","","name","zipCode","onlyNumber","","required","","minlength","5","maxlength","10","formControlName","zipCode",1,"full-width","default-background",3,"keyup"],["zipCode",""],["style","color: #E74C3C;",4,"ngIf"],[2,"font-size","18px"],[2,"color","errorColor"],[3,"value"],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1"),i.Tc(4,"Contact Information"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",2),i.Xb(7,"div",3),i.Rc(8,ar,64,15,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",5),i.Xb(10,"button",6),i.fc("click",function(){return e.onSubmit()}),i.Tc(11,"Save"),i.Wb(),i.Tc(12," \xa0\xa0\xa0 "),i.Xb(13,"button",7),i.fc("click",function(){return e.close()}),i.Tc(14," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("formGroup",e.contactInfoUpdateForm),i.Eb(2),i.rc("ngForOf",e.contactInfoUpdateForm.get("userAddress_array").controls),i.Eb(2),i.rc("disabled",e.contactInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.e,p.A,p.s,p.j,p.e,o.m,g.f,C.b,p.k,o.n,g.b,W.f,X.a,y.b,p.c,p.r,p.i,p.m,p.y,T.a,O.n,q.a,p.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var nr=a("ZbbW"),ir=a("35u7");let rr=(()=>{class t{constructor(t,e,a,o,n){this.ls=t,this.data=e,this.formBuilder=a,this.dialogRef=o,this.doOcrService=n,this.screenInfo={screenName:"onboarding",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}ngOnInit(){this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"onboarding",data:this.data,customerId:this.customerId,isEdit:!0},this.doOcrService.getenableNext().subscribe(t=>{console.log("data disableNextAtIndex1 :: ",t),this.disableNextAtIndex1=t})}createDocItemOthers(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}onSubmit(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(l.a),i.Rb(b.a),i.Rb(p.f),i.Rb(b.g),i.Rb(nr.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-proof-of-identity"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h3",2),i.Tc(4,"Proof Of Identity"),i.Wb(),i.Xb(5,"mat-card"),i.Sb(6,"app-genric-document-upload",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit()}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("screenInfo",e.screenInfo),i.Eb(2),i.rc("disabled",e.disableNextAtIndex1))},directives:[g.e,g.d,v.a,X.a,ir.a,g.f,C.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function cr(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function sr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 \xa0 Select Employment Type "),i.Wb())}function lr(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function br(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 \xa0 Select Employment Name "),i.Wb())}function dr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 \xa0 Enter the Employer Name "),i.Wb())}function ur(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",4),i.Xb(1,"mat-hint",5),i.Tc(2," Other Employer Name*"),i.Wb(),i.Xb(3,"mat-card",6),i.Xb(4,"input",20),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(5,dr,2,0,"mat-error",10),i.Wb()}if(2&t){const t=i.jc();i.Eb(5),i.rc("ngIf",t.additionalInfoUpdateForm.controls.otherEmployerName&&t.additionalInfoUpdateForm.controls.otherEmployerName.touched&&!t.additionalInfoUpdateForm.controls.otherEmployerName.valid)}}function mr(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let pr=(()=>{class t{constructor(t,e,a,o,n){this.additionalInfo=t,this.dialogRef=e,this.formBuilder=a,this.apiService=o,this.ls=n,this.kycList=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED","VERIFIED"]}ngOnInit(){console.log(this.additionalInfo),this.customerId=this.ls.getItem("customerId"),this.getEmploymentType("employment_type"),this.getEmployerName("employer_name"),this.additionalInfo?(this.buildAdditionalInfoForm(this.additionalInfo),this.OnInput(this.additionalInfoUpdateForm.get("salary").value)):this.buildAdditionalInfoForm()}buildAdditionalInfoForm(t){this.additionalInfoUpdateForm=this.formBuilder.group({employmentType:[t?t.employmentType:"",[p.z.required]],employerName:[t?t.employerName:"",[p.z.required]],otherEmployerName:[t?t.otherEmployerName:""],salary:[t?t.salary:"",[p.z.required]],kycReference:[t?t.kycReference:"",[p.z.required]],kycStatus:[t?t.kycStatus:"",[p.z.required]]})}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t,console.log(this.arrayEmploymentType)})}getEmployerName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmployerName=t})}OnInput(t){let e=t.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let a=e.join(".");console.log("final",a),this.additionalInfoUpdateForm.controls.salary.setValue(a)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}onSubmit(){let t={};t.customerId=this.customerId,t.customerAdditionalInfo=this.additionalInfoUpdateForm.value,t.customerAdditionalInfo.salary=t.customerAdditionalInfo.salary.replaceAll(",",""),this.apiService.insertNewUserOnboarding(t).subscribe(t=>{console.log(t),this.dialogRef.close({status:"INITIATED",resp:this.additionalInfoUpdateForm.value})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(r.b),i.Rb(l.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-additional-info"]],decls:57,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],[2,"font-size","18px"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","employmentType","required","","formControlName","employmentType"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employerName","formControlName","employerName","required",""],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["type","text","formControlName","salary","maxLength","14","required","","matInput","","name","salary",3,"keypress","keyup"],["readonly","true","type","text","formControlName","kycReference","matInput","","name","kycReference","maxLength","4"],["formControlName","kycStatus","read",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["required","","type","text","matInput","","formControlName","otherEmployerName",3,"keypress"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1"),i.Tc(4,"Additional Information"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",2),i.Xb(7,"div"),i.Xb(8,"h3",3),i.Tc(9,"Employment Information"),i.Wb(),i.Xb(10,"div"),i.Xb(11,"div",4),i.Xb(12,"mat-hint",5),i.Tc(13,"Employment Type*"),i.Wb(),i.Xb(14,"mat-card",6),i.Xb(15,"mat-select",7),i.Xb(16,"mat-option",8),i.Tc(17,"Select"),i.Wb(),i.Rc(18,cr,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Rc(19,sr,2,0,"mat-error",10),i.Wb(),i.Xb(20,"div",4),i.Xb(21,"mat-hint",5),i.Tc(22,"Employer Name*"),i.Wb(),i.Xb(23,"mat-card",6),i.Xb(24,"mat-select",11),i.Xb(25,"mat-option",8),i.Tc(26,"Select"),i.Wb(),i.Rc(27,lr,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Rc(28,br,2,0,"mat-error",10),i.Wb(),i.Rc(29,ur,6,1,"div",12),i.Xb(30,"div",4),i.Xb(31,"mat-hint",5),i.Tc(32,"Salary*"),i.Wb(),i.Xb(33,"mat-card",6),i.Xb(34,"input",13),i.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.OnInput(t.target.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"h3",3),i.Tc(36,"KYC Information"),i.Wb(),i.Xb(37,"div"),i.Xb(38,"div",4),i.Xb(39,"mat-hint",5),i.Tc(40,"KYC Reference"),i.Wb(),i.Xb(41,"mat-card",6),i.Sb(42,"input",14),i.Wb(),i.Wb(),i.Xb(43,"div",4),i.Xb(44,"mat-hint",5),i.Tc(45,"KYC Status"),i.Wb(),i.Xb(46,"mat-card",6),i.Xb(47,"mat-select",15),i.Xb(48,"mat-option",8),i.Tc(49,"Select "),i.Wb(),i.Rc(50,mr,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div",16),i.Xb(52,"button",17),i.fc("click",function(){return e.onSubmit()}),i.Tc(53,"Save"),i.Wb(),i.Tc(54,"\n\xa0\xa0\xa0\n"),i.Xb(55,"button",18),i.fc("click",function(){return e.close()}),i.Tc(56,"\nCancel\n"),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("formGroup",e.additionalInfoUpdateForm),i.Eb(12),i.rc("ngForOf",e.arrayEmploymentType),i.Eb(1),i.rc("ngIf",e.additionalInfoUpdateForm.controls.employmentType&&e.additionalInfoUpdateForm.controls.employmentType.touched&&!e.additionalInfoUpdateForm.controls.employmentType.valid),i.Eb(8),i.rc("ngForOf",e.arrayEmployerName),i.Eb(1),i.rc("ngIf",e.additionalInfoUpdateForm.controls.employerName&&e.additionalInfoUpdateForm.controls.employerName.touched&&!e.additionalInfoUpdateForm.controls.employerName.valid),i.Eb(1),i.rc("ngIf","Others"==(null==e.additionalInfoUpdateForm.controls.employerName?null:e.additionalInfoUpdateForm.controls.employerName.value)),i.Eb(21),i.rc("ngForOf",e.kycList),i.Eb(2),i.rc("disabled",e.additionalInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.y,p.r,p.i,O.n,o.m,o.n,p.c,y.b,g.f,C.b,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var hr=a("IheW"),fr=a("zdtB"),gr=a("JVXa");function vr(t,e){if(1&t&&(i.Xb(0,"mat-option",18),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Wr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 \xa0 Enter No of Signatures "),i.Wb())}function Xr(t,e){1&t&&(i.Xb(0,"div"),i.Sb(1,"img",31),i.Wb()),2&t&&(i.Eb(1),i.rc("src","assets/images/no-image.jpg",i.Jc))}function yr(t,e){if(1&t&&i.Sb(0,"img",32),2&t){const t=i.jc().$implicit;i.rc("src",t.value.imageURL1,i.Jc)}}function Tr(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",19),i.Xb(2,"div",20),i.Xb(3,"div",6),i.Xb(4,"div",21),i.Xb(5,"div"),i.Xb(6,"div",22),i.Xb(7,"div"),i.Xb(8,"button",23),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().openPopUp(a.value,o)}),i.Tc(9,"Digital Sign"),i.Wb(),i.Xb(10,"button",24),i.Tc(11," Upload "),i.Xb(12,"input",25),i.fc("change",function(a){i.Hc(t);const o=e.$implicit,n=e.index;return i.jc().onFileSelect(o.value,a,n)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"div",26),i.Rc(14,Xr,2,1,"div",27),i.Rc(15,yr,1,1,"ng-template",null,28,i.Sc),i.Wb(),i.Xb(17,"button",29),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().deleteSignature(a.value,o,"delete")}),i.Xb(18,"mat-icon",30),i.Tc(19," delete "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.index,a=i.Dc(16),o=i.jc();i.Eb(1),i.rc("formGroupName",t),i.Eb(13),i.rc("ngIf","not_available"==o.imageURL1)("ngIfElse",a)}}let Ir=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l){this.dialogRef=t,this.formBuilder=e,this.signatures=a,this.apiService=o,this.corporateService=n,this.ls=i,this.dialog=r,this.dialogService=c,this.snack=s,this.cdr=l,this.values=[1,2,3,4,5],this.listOfSignatures=[],this.progressValOthers=0,this.deleteRecord=[]}ngOnInit(){if(this.ls.getItem("corporateId"),this.signatures){this.buildSignatureForm(),this.noOfSignSelect=this.signatures.length,this.signatureUpdateForm.get("noOfSignatures").setValue(this.signatures.length);for(let t=0;t<this.signatures.length;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(this.signatures[t]))}}buildSignatureForm(t){this.signatureUpdateForm=this.formBuilder.group({noOfSignatures:[t?t.noOfSignatures:"",[p.z.required]],sign_array:this.formBuilder.array([])})}createSignatureBoxes(t){return this.formBuilder.group({accountSignatureId:t?t.accountSignatureId:0,imageURL1:[t?t.fileUrl:"assets/images/no-image.jpg",p.z.required],documentName:t?t.documentName:"Signature",documentType:t?t.documentType:"",fileType:t.fileType,fileName:t.fileName,verificationType:t?t.verificationType:"New Customer Signature"})}get getSignArray(){return this.signatureUpdateForm.get("sign_array")}changeValue(t){let e;if(this.noOfSignSelect=t.value,this.enableButton=!1,null==this.signatureUpdateForm.get("sign_array")||null==this.getSignArray)if(0!=this.signatureUpdateForm.get("sign_array").length){if(this.noOfSignSelect>this.signatureUpdateForm.get("sign_array").length){var a=this.noOfSignSelect-this.signatureUpdateForm.get("sign_array").length;for(let t=0;t<a;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}else if(this.noOfSignSelect<this.signatureUpdateForm.get("sign_array").length){a=this.signatureUpdateForm.get("sign_array").length-this.noOfSignSelect;for(let t=0;t<a;t++)this.signatureUpdateForm.get("sign_array").controls.pop()}}else for(let o=0;o<t.value;o++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(0==this.getSignArray.length)for(let o=0;o<t.value;o++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(t.value<this.getSignArray.length)this.dialogService.doConfirmDialog("Are you sure, value is less than no. of signs?").subscribe(a=>{if("Yes"===a){e=this.getSignArray.length;for(let a=e;a>=t.value;a--)this.removeSign(a),a>t.value&&this.deleteSignature(this.signatureUpdateForm.get("sign_array").at(a-1).value,a,"noOfSignChange",t.value)}});else if(t.value>this.getSignArray.length){console.log("2nd if",t.value),this.difference=t.value-this.getSignArray.length;for(let t=0;t<this.difference;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}}removeSign(t){this.signatureUpdateForm.get("sign_array").removeAt(t)}deleteSignature(t,e,a,o){"delete"===a?this.dialogService.doConfirmDialog("").subscribe(o=>{"Yes"===o?(console.log("yes => ",o),this.confirmDelete(t,e,a,this.signatureUpdateForm.controls.noOfSignatures.value-1)):console.log("no => ",o)}):this.confirmDelete(t,e,a,this.signatureUpdateForm.controls.noOfSignatures.value-1)}confirmDelete(t,e,a,o){this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(a=>{if(console.log(a),this.listOfSignatures=a||[],this.deleteRecord=a,this.apiService.getSignData().subscribe(t=>{this.signatureUpdateForm.get("sign_array").controls[e].accountSignatureId=t.uploadModel.accountSignatureId}),t.imageURL1.toString().includes("no-image.jpg"))return this.signatureUpdateForm.get("sign_array").controls.splice(e,1),this.signatureUpdateForm.controls.noOfSignatures.setValue(this.signatureUpdateForm.controls.noOfSignatures.value-1),this.noOfSignSelect=this.signatureUpdateForm.controls.noOfSignatures.value,void(this.enableButton=this.sign_array.length==this.signatureUpdateForm.controls.noOfSignatures.value);0!=this.deleteRecord[e].accountSignatureId&&null!=this.deleteRecord[e].accountSignatureId&&null!=this.deleteRecord[e].accountSignatureId&&""!=this.deleteRecord[e].accountSignatureId&&(this.apiService.deleteCustomerSign(this.deleteRecord[e].accountSignatureId).subscribe(t=>{},t=>{this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(t=>{this.listOfSignatures=t||[],this.sign_array=t,this.enableButton=this.sign_array.length==this.signatureUpdateForm.controls.noOfSignatures.value&&(0!==this.listOfSignatures.length||0!==this.signatureUpdateForm.controls.noOfSignatures.value)})}),this.signatureUpdateForm.get("sign_array").controls.splice(e,1),this.signatureUpdateForm.controls.noOfSignatures.setValue(this.signatureUpdateForm.controls.noOfSignatures.value-1),this.noOfSignSelect=this.signatureUpdateForm.controls.noOfSignatures.value)})}openPopUp(t,e,a){var o;this.signIndex=e,this.customerId=localStorage.getItem("customerId"),this.signCount=localStorage.getItem("noOfSign"),this.accountSignatureId=t.accountSignatureId?t.accountSignatureId:null,this.enableButton=!1,1==this.listOfSignatures.length&&0==e?this.accountSignatureId=this.listOfSignatures[e].accountSignatureId:e>=0&&this.listOfSignatures.length>1?this.accountSignatureId=(null===(o=this.listOfSignatures[e])||void 0===o?void 0:o.accountSignatureId)?this.listOfSignatures[e].accountSignatureId:0:(console.log("else"),this.accountSignatureId=0),this.show||this.dialog.open(fr.a,{width:"720px",disableClose:!0,data:{screen:"NewCustomerOnboarding",customerId:this.customerId,signCount:this.signatureUpdateForm.get("noOfSignatures").value,accountSignatureId:this.accountSignatureId,signatureType:"DigitalSign"}}).afterClosed().subscribe(t=>{null!=t.image?(this.enableButton=!0,this.signatureUpdateForm.get("sign_array").at(e).get("imageURL1").patchValue(t.image),this.show=!t.enable,this.getListOfSignatures(this.customerId,"Yes")):this.enableButton=!1})}getListOfSignatures(t,e){this.apiService.fetchSignatureInfo(t).subscribe(t=>{"Yes"===e&&(this.signatureUpdateForm.get("sign_array").controls[this.signIndex].accountSignatureId=t[t.length-1].accountSignatureId),this.listOfSignatures=t||[],this.cdr.detectChanges(),this.signatureUpdateForm.get("noOfSignatures").setValue(this.noOfSignSelect),this.enableButton=this.listOfSignatures.length==this.noOfSignSelect})}onFileSelect(t,e,a){if(this.apiService.fetchSignatureInfo(this.customerId).subscribe(t=>{}),this.selectedFiles=e.target.files[0],e.target.files){var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=t=>{this.signatureimg=t.target.result,console.log(this.signatureimg,"Upload image")},console.log(this.signatureimg),this.uploadDoc(t,e.target.files[0],this.selectedFiles,a,e),console.log("sign array -- ",this.signatureUpdateForm.get("sign_array"))}}uploadDoc(t,e,a,o,n){if(n.target.files){var i=new FileReader;i.readAsDataURL(n.target.files[0]),i.onload=t=>{this.signatureimg=t.target.result,this.customerId=localStorage.getItem("customerId"),this.signCount=this.signatureUpdateForm.get("noOfSignatures").value;const n=new FormData,i=new FormData;1==this.listOfSignatures.length&&0==o?(console.log("if"),this.accountSignatureId=this.listOfSignatures[o].accountSignatureId):o>=0&&1!=this.listOfSignatures.length?(console.log(" else if"),this.accountSignatureId=this.listOfSignatures[o].accountSignatureId):(console.log("else"),this.accountSignatureId=0);const r={noOfSignatures:this.signCount,accountSignatureId:this.accountSignatureId,documentName:"Signature",customerId:this.customerId,documentType:"10",fileType:e.type,fileName:e.name,verificationType:"New Customer Signature",signatureType:"Uploaded Sign"};n.append("noOfSignatures",this.signCount),n.append("uploadModel",JSON.stringify(r)),n.append("file",a);const c='{"noOfSignatures":'+this.signCount+', "uploadModel":'+JSON.stringify(r)+" } ";i.append("data",c),i.append("file",a),this.signatureUpdateForm.get("sign_array").at(o).get("imageURL1").patchValue(this.signatureimg),this.uploadSub=this.apiService.uploadSignature(i).subscribe(t=>{null!==t&&(this.signatureUpdateForm.get("sign_array").at(o).get("accountSignatureId").patchValue(t.accountSignatureId),this.signatureUpdateForm.get("sign_array").at(o).get("documentName").patchValue(t.documentName),this.signatureUpdateForm.get("sign_array").at(o).get("documentType").patchValue(t.documentType),this.signatureUpdateForm.get("sign_array").at(o).get("fileType").patchValue(t.fileType),this.signatureUpdateForm.get("sign_array").at(o).get("fileName").patchValue(t.fileName),this.signatureUpdateForm.get("sign_array").at(o).get("verificationType").patchValue(t.verificationType),this.signatureUpdateForm.get("noOfSignatures").patchValue(t.noOfSignatures),console.log(this.signatureUpdateForm)),this.getListOfSignatures(this.customerId,"No"),t.type==hr.e.UploadProgress?this.progressValOthers=Math.round(t.loaded/t.total*100):t.type==hr.e.Response&&(this.progressValOthers=0)},t=>{201==t.status?this.shotToast("Document Uploaded!"):(this.signatureUpdateForm.get("sign_array").at(o).get("imageURL1").patchValue(""),this.shotToast(t.message))})}}}onSubmit(){this.snack.open("Signature Updated","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.signatureUpdateForm.get("sign_array").value,screen:"signatureUpload"})}shotToast(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.g),i.Rb(p.f),i.Rb(b.a),i.Rb(r.b),i.Rb(gr.a),i.Rb(l.a),i.Rb(b.b),i.Rb(ai.a),i.Rb(f.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-mandate-info"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[2,"font-size","16px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","36%","fxFlex.xs","100%"],[2,"padding-left","0.8rem","font-size","10px"],[1,"inputCard"],["name","noOfSignatures","formControlName","noOfSignatures","placeholder","Choose No. of Signatures","required","",1,"full-width","default-background",2,"font-size","16px","border","transparent",3,"selectionChange"],["noOfSignatures",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","sign_array"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],[1,"form"],[1,"flex-grow-2"],["appearence","outline",1,"scanButton",3,"click"],[1,"Upload","scanButton"],["type","file","accept","image/*","required","",1,"changeInput",3,"change"],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","",2,"margin-left","10px","margin-top","30px",3,"click"],[2,"color","red"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Mandate Information"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"h3",3),i.Tc(7," Signatures "),i.Wb(),i.Xb(8,"form",4),i.Xb(9,"div",5),i.Xb(10,"div",6),i.Xb(11,"mat-hint",7),i.Tc(12," No. of Signatures* "),i.Wb(),i.Xb(13,"mat-card",8),i.Xb(14,"mat-select",9,10),i.fc("selectionChange",function(t){return e.changeValue(t)}),i.Rc(16,vr,2,2,"mat-option",11),i.Wb(),i.Wb(),i.Rc(17,Wr,2,0,"mat-error",12),i.Wb(),i.Wb(),i.Xb(18,"div",13),i.Rc(19,Tr,20,3,"div",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",15),i.Xb(21,"button",16),i.fc("click",function(){return e.onSubmit()}),i.Tc(22,"Save"),i.Wb(),i.Tc(23," \xa0\xa0\xa0 "),i.Xb(24,"button",17),i.fc("click",function(){return e.close()}),i.Tc(25," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(8),i.rc("formGroup",e.signatureUpdateForm),i.Eb(8),i.rc("ngForOf",e.values),i.Eb(1),i.rc("ngIf",e.signatureUpdateForm.controls.noOfSignatures&&e.signatureUpdateForm.controls.noOfSignatures.touched&&!e.signatureUpdateForm.controls.noOfSignatures.valid),i.Eb(2),i.rc("ngForOf",e.signatureUpdateForm.get("sign_array").controls))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,p.y,o.m,o.n,p.e,g.f,C.b,O.n,W.b,p.k],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}.padding[_ngcontent-%COMP%]{padding:10px}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.formImg[_ngcontent-%COMP%]{background-color:#f8f8f8}.closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();const xr=["ncForm"];function Cr(t,e){1&t&&i.Sb(0,"mat-spinner")}function Er(t,e){if(1&t&&(i.Xb(0,"span",27),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(t)}}function Or(t,e){if(1&t&&(i.Xb(0,"div",28),i.Xb(1,"h1",29),i.Tc(2),i.kc(3,"slice"),i.kc(4,"uppercase"),i.kc(5,"slice"),i.kc(6,"uppercase"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Oc("background",t.customerColorCode),i.Eb(2),i.Wc("",i.nc(3,4,i.lc(4,8,t.dataResponse.dataResp.firstName),0,1),"",i.nc(5,10,i.lc(6,14,t.dataResponse.dataResp.lastName),0,1),"")}}function Dr(t,e){if(1&t&&i.Sb(0,"img",31),2&t){const t=i.jc(2);i.rc("src",t.imageUrl,i.Jc)}}function Ar(t,e){if(1&t&&(i.Xb(0,"div",28),i.Rc(1,Dr,1,1,"img",30),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.rc("ngIf",null!=t.image)}}function Rr(t,e){if(1&t&&(i.Xb(0,"div",53),i.Xb(1,"mat-hint",51),i.Tc(2," Middle Name "),i.Wb(),i.Xb(3,"mat-card",52),i.Xb(4,"div"),i.Tc(5),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(5),i.Uc(t.dataResponse.dataResp.middleName)}}function Sr(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",32),i.Xb(1,"div",33),i.Xb(2,"div",34),i.Tc(3,"1"),i.Wb(),i.Xb(4,"div",35),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",36),i.Xb(7,"div",37),i.Xb(8,"div",38),i.Xb(9,"div",39),i.Xb(10,"h2",40),i.Tc(11,"Primary Information"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",41),i.fc("click",function(){return i.Hc(t),i.jc().editPrimaryInfo()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",42),i.Wb(),i.Xb(16,"div",43),i.Xb(17,"div",44),i.Xb(18,"div",45),i.Xb(19,"div",46),i.Xb(20,"div",47),i.Xb(21,"div",48),i.Xb(22,"div",49),i.Xb(23,"div",50),i.Xb(24,"mat-hint",51),i.Tc(25," Customer Id "),i.Wb(),i.Xb(26,"mat-card",52),i.Xb(27,"div"),i.Tc(28),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",50),i.Xb(30,"mat-hint",51),i.Tc(31," Customer Status "),i.Wb(),i.Xb(32,"mat-card",52),i.Xb(33,"div"),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",50),i.Xb(36,"mat-hint",51),i.Tc(37," CIF Number "),i.Wb(),i.Xb(38,"mat-card",52),i.Xb(39,"div"),i.Tc(40),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(41,"div",49),i.Xb(42,"div",53),i.Xb(43,"mat-hint",51),i.Tc(44," Prefix* "),i.Wb(),i.Xb(45,"mat-card",52),i.Xb(46,"div"),i.Tc(47),i.Wb(),i.Wb(),i.Wb(),i.Xb(48,"div",53),i.Xb(49,"mat-hint",51),i.Tc(50," First Name* "),i.Wb(),i.Xb(51,"mat-card",52),i.Xb(52,"div"),i.Tc(53),i.Wb(),i.Wb(),i.Wb(),i.Rc(54,Rr,6,1,"div",54),i.Xb(55,"div",53),i.Xb(56,"mat-hint",51),i.Tc(57," Last Name* "),i.Wb(),i.Xb(58,"mat-card",52),i.Xb(59,"div"),i.Tc(60),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(61,"div",49),i.Xb(62,"div",53),i.Xb(63,"mat-hint",51),i.Tc(64," Gender* "),i.Wb(),i.Xb(65,"mat-card",52),i.Xb(66,"div"),i.Tc(67),i.Wb(),i.Wb(),i.Wb(),i.Xb(68,"div",53),i.Xb(69,"mat-hint",51),i.Tc(70," Date of Birth* "),i.Wb(),i.Xb(71,"mat-card",52),i.Xb(72,"div"),i.Tc(73),i.Wb(),i.Wb(),i.Wb(),i.Xb(74,"div",53),i.Xb(75,"mat-hint",51),i.Tc(76," Marital Status* "),i.Wb(),i.Xb(77,"mat-card",52),i.Xb(78,"div"),i.Tc(79),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(80,"div",43),i.Xb(81,"div",53),i.Xb(82,"mat-hint",51),i.Tc(83," Nationality*"),i.Wb(),i.Xb(84,"mat-card",52),i.Xb(85,"div"),i.Tc(86),i.Wb(),i.Wb(),i.Wb(),i.Xb(87,"div",53),i.Xb(88,"mat-hint",51),i.Tc(89," Mobile Number* "),i.Wb(),i.Xb(90,"mat-card",52),i.Xb(91,"div"),i.Tc(92),i.Wb(),i.Wb(),i.Wb(),i.Xb(93,"div",53),i.Xb(94,"mat-hint",51),i.Tc(95," Email* "),i.Wb(),i.Xb(96,"mat-card",52),i.Xb(97,"div"),i.Tc(98),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(99,"div",43),i.Xb(100,"div",53),i.Xb(101,"mat-hint",51),i.Tc(102," Modification No"),i.Wb(),i.Xb(103,"mat-card",52),i.Xb(104,"div"),i.Tc(105),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(15),i.Uc(t.dataResponse.dataResp.customerId),i.Eb(6),i.Uc(t.dataResponse.dataResp.custStatus),i.Eb(6),i.Uc(t.dataResponse.dataResp.cifNumber),i.Eb(7),i.Uc(t.dataResponse.dataResp.prefix),i.Eb(6),i.Uc(t.dataResponse.dataResp.firstName),i.Eb(1),i.rc("ngIf",t.dataResponse.dataResp.middleName),i.Eb(6),i.Uc(t.dataResponse.dataResp.lastName),i.Eb(7),i.Uc(t.dataResponse.dataResp.gender),i.Eb(6),i.Uc(t.dataResponse.dataResp.dateOfBirth),i.Eb(6),i.Uc(t.dataResponse.dataResp.maritalStatus),i.Eb(7),i.Uc(t.dataResponse.dataResp.nationality),i.Eb(6),i.Uc(t.dataResponse.dataResp.phoneNumber),i.Eb(6),i.Vc("",t.dataResponse.dataResp.primaryEmailAdress," "),i.Eb(7),i.Uc(t.dataResponse.dataResp.modificationNo)}}function Nr(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",43),i.Xb(2,"div",44),i.Xb(3,"div",59),i.Xb(4,"div",43),i.Xb(5,"div",60),i.Xb(6,"h2",61),i.Tc(7),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",43),i.Xb(9,"div",62),i.Xb(10,"mat-hint",51),i.Tc(11," Address Line 1* "),i.Wb(),i.Xb(12,"mat-card",52),i.Xb(13,"div"),i.Tc(14),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",62),i.Xb(16,"mat-hint",51),i.Tc(17," Address Line 2* "),i.Wb(),i.Xb(18,"mat-card",52),i.Xb(19,"div"),i.Tc(20),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(21,"div",43),i.Xb(22,"div",63),i.Xb(23,"mat-hint",51),i.Tc(24," Country* "),i.Wb(),i.Xb(25,"mat-card",52),i.Xb(26,"div"),i.Tc(27),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"div",63),i.Xb(29,"mat-hint",51),i.Tc(30," State* "),i.Wb(),i.Xb(31,"mat-card",52),i.Xb(32,"div"),i.Tc(33),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"div",63),i.Xb(35,"mat-hint",51),i.Tc(36," City* "),i.Wb(),i.Xb(37,"mat-card",52),i.Xb(38,"div"),i.Tc(39),i.Wb(),i.Wb(),i.Wb(),i.Xb(40,"div",63),i.Xb(41,"mat-hint",51),i.Tc(42," Zipcode* "),i.Wb(),i.Xb(43,"mat-card",52),i.Xb(44,"div"),i.Tc(45),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",63),i.Xb(47,"mat-hint",51),i.Tc(48," Residence Type* "),i.Wb(),i.Xb(49,"mat-card",52),i.Xb(50,"div"),i.Tc(51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(7),i.Uc(t.addressType),i.Eb(7),i.Uc(t.address1),i.Eb(6),i.Uc(t.address2),i.Eb(7),i.Uc(t.country),i.Eb(6),i.Uc(t.state),i.Eb(6),i.Uc(t.city),i.Eb(6),i.Uc(t.zipCode),i.Eb(6),i.Uc(t.residenceType)}}function Pr(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",32),i.Xb(1,"div",33),i.Xb(2,"div",34),i.Tc(3,"2"),i.Wb(),i.Xb(4,"div",35),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",55),i.Xb(7,"div",37),i.Xb(8,"div",56),i.Xb(9,"div",57),i.Xb(10,"div",39),i.Xb(11,"h2",40),i.Tc(12,"Contact Information"),i.Wb(),i.Xb(13,"span"),i.Xb(14,"mat-icon",41),i.fc("click",function(){return i.Hc(t),i.jc().editContactInfo()}),i.Tc(15,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(16,"mat-divider",42),i.Wb(),i.Rc(17,Nr,52,8,"div",58),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(14),i.rc("hidden",t.editScreen),i.Eb(3),i.rc("ngForOf",t.userAddress_array)}}function kr(t,e){1&t&&(i.Xb(0,"small",67),i.Tc(1,"No Data Found"),i.Wb())}function Fr(t,e){if(1&t&&(i.Xb(0,"div",46),i.Xb(1,"div",53),i.Xb(2,"mat-hint",51),i.Tc(3," Document type* "),i.Wb(),i.Xb(4,"mat-card",52),i.Xb(5,"div"),i.Tc(6),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"div",53),i.Xb(8,"div",69),i.Sb(9,"img",70),i.Xb(10,"div"),i.Tc(11),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",53),i.Xb(13,"div",71),i.Xb(14,"a",72),i.Tc(15,"Download "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(6),i.Uc(t.documentName),i.Eb(3),i.rc("src",t.fileUrl,i.Jc),i.Eb(2),i.Uc(t.fileName),i.Eb(3),i.sc("href",t.fileUrl,i.Jc)}}function Lr(t,e){if(1&t&&(i.Xb(0,"div"),i.Rc(1,Fr,16,4,"div",68),i.Wb()),2&t){const t=i.jc(2);i.Eb(1),i.rc("ngForOf",t.custOtherDoc_array)}}function _r(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",32),i.Xb(1,"div",33),i.Xb(2,"div",34),i.Tc(3,"3"),i.Wb(),i.Xb(4,"div",35),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",64),i.Xb(7,"div",56),i.Xb(8,"div",57),i.Xb(9,"div",39),i.Xb(10,"h2",40),i.Tc(11,"Proof Of Identity"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",41),i.fc("click",function(){return i.Hc(t),i.jc().editProofOfIdentity()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",42),i.Wb(),i.Xb(16,"div"),i.Xb(17,"div",65),i.Xb(18,"div",59),i.Rc(19,kr,2,0,"small",66),i.Rc(20,Lr,2,1,"div",1),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(6),i.rc("ngIf",null==t.custOtherDoc_array),i.Eb(1),i.rc("ngIf",null!=t.custOtherDoc_array&&(null==t.custOtherDoc_array?null:t.custOtherDoc_array.length)>0)}}function wr(t,e){if(1&t&&(i.Xb(0,"div",79),i.Xb(1,"mat-hint",51),i.Tc(2," Other Employer name* "),i.Wb(),i.Xb(3,"mat-card",52),i.Tc(4),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(4),i.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName," ")}}function Ur(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",32),i.Xb(1,"div",33),i.Xb(2,"div",34),i.Tc(3,"4"),i.Wb(),i.Xb(4,"div",35),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",73),i.Xb(7,"div",56),i.Xb(8,"div",57),i.Xb(9,"div",39),i.Xb(10,"h2",40),i.Tc(11,"Additional Information"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",41),i.fc("click",function(){return i.Hc(t),i.jc().editAdditionalInfo()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",42),i.Wb(),i.Xb(16,"div"),i.Xb(17,"div",65),i.Xb(18,"div",47),i.Xb(19,"div",74),i.Xb(20,"div",43),i.Xb(21,"div",60),i.Xb(22,"h2",61),i.Tc(23,"Employment Information "),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",43),i.Xb(25,"div",53),i.Xb(26,"mat-hint",51),i.Tc(27," Employment Type* "),i.Wb(),i.Xb(28,"mat-card",52),i.Xb(29,"div"),i.Tc(30),i.Wb(),i.Wb(),i.Wb(),i.Xb(31,"div",53),i.Xb(32,"mat-hint",51),i.Tc(33," Employer Name* "),i.Wb(),i.Xb(34,"mat-card",52),i.Xb(35,"div"),i.Tc(36),i.Wb(),i.Wb(),i.Wb(),i.Rc(37,wr,5,1,"div",75),i.Xb(38,"div",53),i.Xb(39,"mat-hint",51),i.Tc(40," Salary* "),i.Wb(),i.Xb(41,"mat-card",52),i.Xb(42,"div"),i.Tc(43),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Tc(44,"\xa0\xa0\xa0\xa0 "),i.Xb(45,"div",76),i.Xb(46,"div",43),i.Xb(47,"div",60),i.Xb(48,"h2",61),i.Tc(49,"KYC Information"),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",43),i.Xb(51,"div",62),i.Xb(52,"mat-hint",51),i.Tc(53," KYC Reference* "),i.Wb(),i.Xb(54,"mat-card",52),i.Xb(55,"div"),i.Tc(56),i.Wb(),i.Wb(),i.Wb(),i.Xb(57,"div",62),i.Xb(58,"mat-hint",51),i.Tc(59," KYC Status* "),i.Wb(),i.Xb(60,"mat-card",77),i.Xb(61,"div",78),i.Tc(62),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(17),i.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.employmentType," "),i.Eb(6),i.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.employerName," "),i.Eb(1),i.rc("ngIf",t.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName),i.Eb(6),i.Vc("",t.dataResponse.dataResp.customerAdditionalInfo.salary," "),i.Eb(13),i.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.kycReference," "),i.Eb(6),i.Vc(" ",t.kycStatus," ")}}function Mr(t,e){1&t&&(i.Xb(0,"small",67),i.Tc(1,"No Signatures Available "),i.Wb())}function Gr(t,e){1&t&&(i.Xb(0,"div"),i.Sb(1,"img",87),i.Wb()),2&t&&(i.Eb(1),i.rc("src","assets/images/no-image.jpg",i.Jc))}function Vr(t,e){if(1&t&&i.Sb(0,"img",88),2&t){const t=i.jc().$implicit;i.rc("src",t.fileUrl,i.Jc)}}function Br(t,e){if(1&t&&(i.Xb(0,"div",43),i.Xb(1,"div"),i.Tc(2),i.Wb(),i.Xb(3,"div",84),i.Rc(4,Gr,2,1,"div",85),i.Rc(5,Vr,1,1,"ng-template",null,86,i.Sc),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=i.Dc(6);i.Eb(2),i.Vc(" ",t.signatureType," "),i.Eb(2),i.rc("ngIf",null==t.fileUrl)("ngIfElse",a)}}function jr(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div"),i.Xb(2,"div"),i.Xb(3,"div"),i.Rc(4,Br,7,3,"div",83),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Eb(4),i.rc("ngForOf",t.signatureDetails_array)}}function zr(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",32),i.Xb(1,"div",33),i.Xb(2,"div",34),i.Tc(3,"5"),i.Wb(),i.Xb(4,"div",35),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",73),i.Xb(7,"div",56),i.Xb(8,"div",57),i.Xb(9,"div",39),i.Xb(10,"h2",40),i.Tc(11,"Mandate Information"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",41),i.fc("click",function(){return i.Hc(t),i.jc().editMandateInfo()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",42),i.Wb(),i.Xb(16,"div"),i.Xb(17,"div",65),i.Xb(18,"div",47),i.Xb(19,"div",74),i.Sb(20,"div",43),i.Xb(21,"div",43),i.Xb(22,"div",53),i.Xb(23,"mat-hint",51),i.Tc(24," No of Signatures* "),i.Wb(),i.Xb(25,"mat-card",52),i.Xb(26,"div"),i.Tc(27),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Tc(28,"\xa0\xa0\xa0\xa0 "),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",65),i.Xb(30,"div",80),i.Xb(31,"div",81),i.Xb(32,"div",82),i.Xb(33,"h2",61),i.Tc(34,"Signatures"),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Rc(36,Mr,2,0,"small",66),i.Rc(37,jr,5,1,"div",1),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(14),i.Vc(" ",t.noOFSigns," "),i.Eb(9),i.rc("ngIf",null==t.signatureDetails_array),i.Eb(1),i.rc("ngIf",null!=t.signatureDetails_array&&(null==t.signatureDetails_array?null:t.signatureDetails_array.length)>0)}}const qr=function(t,e){return{disabledbtn:t,continueBtn:e}},Kr=function(t,e){return{disabledbtn:t,rejectButton:e}},Jr=function(t,e){return{disabledbtn:t,approveButton:e}};function $r(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",89),i.Xb(1,"div",90),i.fc("click",function(){return i.Hc(t),i.jc().continue()}),i.Xb(2,"label",91),i.Tc(3,"Cotinue"),i.Wb(),i.Wb(),i.Xb(4,"div",92),i.fc("click",function(){i.Hc(t);const e=i.jc();return e.updateApplicationStatus(e.dataResponse,"REJECTED")}),i.Xb(5,"mat-icon",93),i.Tc(6," highlight_off "),i.Wb(),i.Tc(7,"\xa0\xa0\xa0 "),i.Xb(8,"label",94),i.Tc(9,"Reject"),i.Wb(),i.Wb(),i.Tc(10," \xa0\xa0 "),i.Xb(11,"div",95),i.fc("click",function(){i.Hc(t);const e=i.jc();return e.updateApplicationStatus(e.dataResponse,"APPROVED")}),i.Xb(12,"mat-icon",96),i.Tc(13,"check_circle"),i.Wb(),i.Tc(14,"\xa0\xa0\xa0 "),i.Xb(15,"label",97),i.Tc(16,"Approve"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(1),i.rc("hidden",t.continueStatus)("ngClass",i.yc(7,qr,t.continueStatus,!t.continueStatus)),i.Eb(3),i.rc("hidden",t.rejectedStatus)("hidden",t.rejectedStatus)("ngClass",i.yc(10,Kr,t.rejectedStatus,!t.rejectedStatus)),i.Eb(7),i.rc("hidden",t.approvedStatus)("ngClass",i.yc(13,Jr,t.approvedStatus,!t.approvedStatus))}}let Hr=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b){this.tasSumService=t,this.cdr=e,this.router=a,this.apiService=o,this.ls=n,this.dialogRef=i,this.dataResponse=r,this.sanitizer=c,this.snack=s,this.dialog=l,this.jwtService=b,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}ngOnInit(){console.log("resp------\x3e",this.dataResponse),setTimeout(()=>{this.loading=!0,console.log("dataResponse.dataResp.customerId",this.dataResponse.dataResp.customerId),console.log("dataResponse.dataResp.accountId",this.dataResponse.dataResp.accountId),this.customerId=this.dataResponse.dataResp.customerId,this.ls.setItem("customerId",this.customerId),this.getCustomerDocumentsDetails(this.customerId),console.log(this.customerId),this.phoneNum=this.dataResponse.dataResp.phoneNumber,this.emailID=this.dataResponse.dataResp.primaryEmailAdress,console.log("Dataas",this.dataResponse,this.phoneNum,this.emailID),this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.imageUrl=this.dataResponse.dataResp.profileImage,this.status=this.dataResponse.dataResp.custStatus,this.errorStatus=this.dataResponse.dataResp.custStatus,this.userAddress_array=this.dataResponse.dataResp.userAddress,this.custIdProofs_array=this.dataResponse.dataResp.custIdProofs,console.log("result::",this.custIdProofs_array),"REJECTED"===this.status?(this.rejectedStatus=!0,this.approvedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"INITIATED"===this.status?(this.rejectedStatus=!1,this.approvedStatus=!1,this.editScreen=!1,this.continueStatus=!0):"APPROVED"===this.status?(this.rejectedStatus=!0,this.approvedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"UNDER_PROCESS"===this.status&&(this.rejectedStatus=!1,this.approvedStatus=!0,this.editScreen=!1,this.continueStatus=!1),this.getProfileImage(this.dataResponse.dataResp.customerId),this.fetchSignatureDetails(this.dataResponse.dataResp.customerId)},5e3),"NULL"!==this.dataResponse.dataResp.customerAdditionalInfo.kycStatus&&(this.kycStatus=this.dataResponse.dataResp.customerAdditionalInfo.kycStatus)}goToCustOnboarding(){console.log("Navigating to edit screen"),this.apiService.updateKycStatusByCustId(this.dataResponse.dataResp.customerId,"","UNDER_PROCESS").subscribe(t=>{}),this.router.navigateByUrl("/others/newCustomerOnboarding"),console.log(this.dataResponse);var t=this.dataResponse.dataResp.kycReference.split("KYC_");console.log(t[1]),this.ls.setItem("EDIT-KYCDETAILS",t[1]),console.log(this.ls.getItem("EDIT-KYCDETAILS")),this.dialogRef.close({message:"Confirm"})}getCustomerDocumentsDetails(t){this.apiService.getCustomerAllDocuments(t,[6,7,8]).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName,console.log("custOtherDoc_array::",this.custOtherDoc_array))})}updateApplicationStatus(t,e,a){t.dataResp.customerAdditionalInfo.kycStatus=e,this.statusUpdate=e,this.apiService.updateKycStatusByCustId(t.dataResp.customerId,"",e).subscribe(t=>{null!=t&&(this.cdr.markForCheck(),this.cdr.detectChanges(),1!=a&&this.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),this.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{null!=t.profileImage&&(this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},t=>{})}fetchSignatureDetails(t){console.log("inside fetchSignatureDetails method"),this.apiService.getSignatureDocuments(t).subscribe(t=>{console.log(t),console.log(t.length),this.noOFSigns=t.length,this.signatureDetails_array=t},t=>{console.log(t)})}openEditScreen(t,e){this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{console.log(t),this.status=t.status,"INITIATED"==t.status&&(this.updateApplicationStatus(this.dataResponse,"INITIATED",!0),t.screen||Object.assign(e,t.resp),"documentUpload"==t.screen&&this.getCustomerDocumentsDetails(this.customerId),"signatureUpload"==t.screen&&this.fetchSignatureDetails(this.customerId)),this.cdr.markForCheck(),this.cdr.detectChanges()})}editPrimaryInfo(){this.openEditScreen(Gi,this.dataResponse.dataResp)}editContactInfo(){this.openEditScreen(or,this.userAddress_array)}editProofOfIdentity(){this.openEditScreen(rr,this.proofDoc_array)}editAdditionalInfo(){this.openEditScreen(pr,this.dataResponse.dataResp.customerAdditionalInfo)}editMandateInfo(){this.openEditScreen(Ir,this.signatureDetails_array)}continue(){this.ls.setItem("customerId",this.dataResponse.dataResp.customerId),this.ls.setItem("currentKycTabIndex",0),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=INDIVIDUALONBOARDING&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(m.a),i.Rb(i.h),i.Rb(je.h),i.Rb(r.b),i.Rb(l.a),i.Rb(b.g),i.Rb(b.a),i.Rb(qo.b),i.Rb(f.a),i.Rb(b.b),i.Rb(zo.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-cust-on-boarding-approver"]],viewQuery:function(t,e){if(1&t&&i.ad(xr,!0),2&t){let t;i.Cc(t=i.gc())&&(e.ncForm=t.first)}},inputs:{initiatedArr:"initiatedArr"},decls:55,vars:18,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Primary Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","31%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["label","Contact Information",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["class","full-width",4,"ngFor","ngForOf"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["label","Other Information",2,"border-radius","0px","width","800px"],["fxFlex","59%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","39%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],[1,"mat1",2,"width","98%"],[1,"mat11"],["fxFlex","40%","fxFlex.xs","100%"],["fxFlex","100%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxLayout","row","fxLayoutAlign","space-between center",2,"padding","1rem 0"],["fxFlex","15%","fxFlex.xs","50%"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],[1,"imgCard"],[4,"ngIf","ngIfElse"],["showAvatar",""],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(i.Xb(0,"form"),i.Xb(1,"div",0),i.Rc(2,Cr,1,0,"mat-spinner",1),i.Wb(),i.Xb(3,"div",2),i.Xb(4,"div",3),i.Xb(5,"div",4),i.Xb(6,"div"),i.Xb(7,"mat-icon",5),i.fc("click",function(){return e.close(e.dataResponse)}),i.Tc(8," close"),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",6),i.Xb(10,"div",7),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Rc(13,Er,2,1,"span",10),i.Wb(),i.Xb(14,"div",11),i.Xb(15,"div",12),i.Sb(16,"img",13),i.Tc(17,"\xa0 "),i.Xb(18,"div"),i.Xb(19,"span",14),i.Tc(20),i.Wb(),i.Sb(21,"br"),i.Xb(22,"span",15),i.Tc(23),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",16),i.Xb(25,"mat-icon",17),i.Tc(26,"phone "),i.Wb(),i.Tc(27,"\xa0\xa0\xa0 "),i.Xb(28,"span",18),i.Tc(29),i.Wb(),i.Wb(),i.Xb(30,"div",16),i.Xb(31,"mat-icon",17),i.Tc(32," mail_outline"),i.Wb(),i.Tc(33,"\xa0\xa0 \xa0 "),i.Xb(34,"span",19),i.Tc(35),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",20),i.Xb(37,"div",21),i.Rc(38,Or,7,16,"div",22),i.Rc(39,Ar,2,1,"div",23),i.Wb(),i.Wb(),i.Sb(40,"br"),i.Sb(41,"br"),i.Sb(42,"br"),i.Sb(43,"br"),i.Xb(44,"div",24),i.Xb(45,"h2"),i.Tc(46),i.Wb(),i.Wb(),i.Rc(47,Sr,106,15,"div",25),i.Rc(48,Pr,18,2,"div",25),i.Sb(49,"br"),i.Rc(50,_r,21,3,"div",25),i.Rc(51,Ur,63,7,"div",25),i.Rc(52,zr,38,4,"div",25),i.Rc(53,$r,17,16,"div",26),i.Sb(54,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(2),i.rc("ngIf",e.loading),i.Eb(11),i.rc("ngForOf",e.nameCreater),i.Eb(7),i.Vc("",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.createdBy," "),i.Eb(3),i.Vc("EID #",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.creatorId,""),i.Eb(6),i.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.mobile," "),i.Eb(6),i.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.email," "),i.Eb(3),i.rc("ngIf","not_available"==e.imageUrl),i.Eb(1),i.rc("ngIf","not_available"!=e.imageUrl),i.Eb(7),i.Yc("",e.dataResponse.dataResp.prefix,"\xa0",e.dataResponse.dataResp.firstName,"\xa0",e.dataResponse.dataResp.middleName,"\xa0",e.dataResponse.dataResp.lastName," "),i.Eb(1),i.rc("ngIf",!e.loading),i.Eb(1),i.rc("ngIf",!e.loading),i.Eb(2),i.rc("ngIf",!e.loading),i.Eb(1),i.rc("ngIf",!e.loading),i.Eb(1),i.rc("ngIf",!e.loading),i.Eb(1),i.rc("ngIf",!e.loading))},directives:[p.A,p.s,p.t,g.d,o.n,g.e,v.a,o.m,X.c,E.b,g.b,X.a,ka.a,W.f,g.f,o.l,Ko.a],pipes:[o.v,o.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.editbtn{color:#0e7cc5;cursor:pointer}.num{background-color:#fff;border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;margin-top:15px}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:15%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.hint1{padding:13px}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:2%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:1px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),t})();function Yr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Company Name is Required! "),i.Wb())}function Zr(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Qr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please select Category! "),i.Wb())}function tc(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ec(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please select Country! "),i.Wb())}let ac=(()=>{class t{constructor(t,e,a,o,n,i,r){this.basicInfo=t,this.dialogRef=e,this.apiService=a,this.ls=o,this.formBuilder=n,this.snack=i,this.corporateService=r,this.countryArr=[],this.categoryArr=["Privileged","Un Privileged"]}ngOnInit(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.basicInfo),this.getCountryName("country"),this.basicInfo&&this.buildBasicForm(this.basicInfo)}buildBasicForm(t){this.corporateInfoUpdateForm=this.formBuilder.group({corporateId:[t.corporateId],companyName:[t?t.companyName:"",[p.z.required]],category:[t?t.category:"",[p.z.required]],country:[t?t.country:"",[p.z.required]]})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.countryArr.push(t[e].countryName)})}onSubmit(){this.corporateService.saveOrUpdateCorporateAccountInfo(this.corporateInfoUpdateForm.value).subscribe(t=>{null!=t?(this.snack.open("Basic Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:t})):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(r.b),i.Rb(l.a),i.Rb(p.f),i.Rb(f.a),i.Rb(gr.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-corporate-basic-info"]],decls:42,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","20%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","corporateId","formControlName","corporateId","placeholder","Corporate Id","readonly","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["matInput","","name","companyName","formControlName","companyName","placeholder","Company Name"],[4,"ngIf"],["formControlName","category","id","forCategory","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country","id","forCountry","required",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Sb(3,"h1",2),i.Xb(4,"mat-dialog-content"),i.Xb(5,"form",3),i.Xb(6,"div",4),i.Xb(7,"div",5),i.Xb(8,"mat-hint",6),i.Tc(9,"CoporateId"),i.Wb(),i.Xb(10,"mat-card",7),i.Sb(11,"input",8),i.Wb(),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"mat-hint",6),i.Tc(14,"Company Name* "),i.Wb(),i.Xb(15,"mat-card",7),i.Sb(16,"input",10),i.Wb(),i.Rc(17,Yr,2,0,"mat-error",11),i.Wb(),i.Xb(18,"div",9),i.Xb(19,"mat-hint",6),i.Tc(20,"Category*"),i.Wb(),i.Xb(21,"mat-card",7),i.Xb(22,"mat-select",12),i.Xb(23,"mat-option",13),i.Tc(24,"Select Category"),i.Wb(),i.Rc(25,Zr,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(26,Qr,2,0,"mat-error",11),i.Wb(),i.Xb(27,"div",9),i.Xb(28,"mat-hint",6),i.Tc(29,"Country*"),i.Wb(),i.Xb(30,"mat-card",7),i.Xb(31,"mat-select",15),i.Xb(32,"mat-option",13),i.Tc(33,"Select Country"),i.Wb(),i.Rc(34,tc,2,2,"mat-option",14),i.Wb(),i.Wb(),i.Rc(35,ec,2,0,"mat-error",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",16),i.Xb(37,"button",17),i.fc("click",function(){return e.onSubmit()}),i.Tc(38,"Save"),i.Wb(),i.Tc(39," \xa0\xa0\xa0 "),i.Xb(40,"button",18),i.fc("click",function(){return e.close()}),i.Tc(41," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(5),i.rc("formGroup",e.corporateInfoUpdateForm),i.Eb(12),i.rc("ngIf",e.corporateInfoUpdateForm.get("companyName").touched&&!e.corporateInfoUpdateForm.get("companyName").valid),i.Eb(8),i.rc("ngForOf",e.categoryArr),i.Eb(1),i.rc("ngIf",e.corporateInfoUpdateForm.get("category").touched&&!e.corporateInfoUpdateForm.get("category").valid),i.Eb(8),i.rc("ngForOf",e.countryArr),i.Eb(1),i.rc("ngIf",e.corporateInfoUpdateForm.get("country").touched&&!e.corporateInfoUpdateForm.get("country").valid),i.Eb(2),i.rc("disabled",e.corporateInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,y.b,p.c,p.r,p.i,o.n,T.a,p.y,O.n,o.m,g.f,C.b,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var oc=a("vrAh"),nc=a("SqCe");function ic(t,e){if(1&t&&(i.Xb(0,"mat-panel-title"),i.Tc(1),i.Wb()),2&t){const t=i.jc(2);i.Eb(1),i.Vc(" Create Director ",t.item," ")}}function rc(t,e){if(1&t&&(i.Xb(0,"mat-panel-title"),i.Xb(1,"mat-icon",58),i.Tc(2,"check_circle"),i.Wb(),i.Tc(3),i.Wb()),2&t){const t=i.jc(2);i.Eb(3),i.Vc(" \xa0 Director \xa0 ",t.item,". ")}}function cc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-card",29),i.Xb(1,"input",59),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb()}}function sc(t,e){if(1&t&&(i.Xb(0,"div",72),i.Xb(1,"h3",73),i.Tc(2),i.kc(3,"uppercase"),i.kc(4,"slice"),i.Wb(),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(2),i.Vc(" ",i.lc(3,1,i.nc(4,3,null==t?null:t.firstName,0,1))," ")}}function lc(t,e){if(1&t&&(i.Xb(0,"div",74),i.Sb(1,"img",75),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("src",null==t?null:t.profileImage,i.Jc)}}function bc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-option",65),i.fc("click",function(){i.Hc(t);const a=e.$implicit;return i.jc(3).selectCif(a)}),i.Xb(1,"div",66),i.Xb(2,"div",67),i.Rc(3,sc,5,7,"div",68),i.Rc(4,lc,2,1,"div",69),i.Xb(5,"div",22),i.Xb(6,"h5",70),i.Tc(7),i.kc(8,"uppercase"),i.kc(9,"uppercase"),i.kc(10,"uppercase"),i.Wb(),i.Xb(11,"h6",71),i.Tc(12),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.rc("value",null==t?null:t.cifNumber),i.Eb(3),i.rc("ngIf","not_available"==(null==t?null:t.profileImage)),i.Eb(1),i.rc("ngIf","not_available"!=(null==t?null:t.profileImage)),i.Eb(3),i.Xc(" ",i.lc(8,7,null==t?null:t.firstName)," ",i.lc(9,9,null==t?null:t.middleName)," ",i.lc(10,11,null==t?null:t.lastName),""),i.Eb(5),i.Vc("#",null==t?null:t.cifNumber,"")}}function dc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-card",29),i.Xb(1,"input",60,61),i.fc("keyup",function(e){return i.Hc(t),i.jc(2).ngAfterViewInit(e.target.value)})("ngModelChange",function(e){return i.Hc(t),i.jc(2).updatedVal(e)}),i.Wb(),i.Xb(3,"mat-autocomplete",62,63),i.Rc(5,bc,13,13,"mat-option",64),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(4),e=i.jc(2);i.Eb(1),i.rc("matAutocomplete",t),i.Eb(4),i.rc("ngForOf",e.customerInfoList)}}function uc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"CIF Number is Required!"),i.Wb(),i.Wb())}function mc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function pc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Prefix!"),i.Wb(),i.Wb())}function hc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"First Name is Required!"),i.Wb(),i.Wb())}function fc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Last Name is Required!"),i.Wb(),i.Wb())}function gc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function vc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Gender!"),i.Wb(),i.Wb())}function Wc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 Prefix and Gender does not match! "),i.Wb())}function Xc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Date Of Birth is Required!"),i.Wb(),i.Wb())}function yc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Place Of Birth is Required!!"),i.Wb(),i.Wb())}function Tc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ic(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Residence Type!"),i.Wb(),i.Wb())}function xc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Cc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Citizenship By!"),i.Wb(),i.Wb())}function Ec(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Oc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Country Of Residence"),i.Wb(),i.Wb())}function Dc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ac(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select ID Type!"),i.Wb(),i.Wb())}function Rc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Unique Id Number is Required"),i.Wb(),i.Wb())}function Sc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Valid Till!"),i.Wb(),i.Wb())}function Nc(t,e){if(1&t&&(i.Xb(0,"div",27),i.Sb(1,"mat-hint",6),i.Xb(2,"mat-card",29),i.Sb(3,"input",81),i.Sb(4,"mat-datepicker-toggle",38),i.Sb(5,"mat-datepicker",null,82),i.Wb(),i.Rc(7,Sc,3,0,"mat-error",18),i.Wb()),2&t){const t=i.Dc(6),e=i.jc().$implicit,a=i.jc(2);i.Eb(3),i.rc("min",a.minDate)("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(3),i.rc("ngIf",e.get("expiryDate").touched&&!e.get("expiryDate").valid)}}function Pc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",77),i.Xb(1,"div",26),i.Xb(2,"div",27),i.Xb(3,"mat-hint",6),i.Tc(4,"Id Type"),i.Wb(),i.Xb(5,"mat-card",29),i.Xb(6,"mat-select",78),i.Xb(7,"mat-option",31),i.Tc(8,"select---"),i.Wb(),i.Rc(9,Dc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(10,Ac,3,0,"mat-error",18),i.Wb(),i.Xb(11,"div",27),i.Xb(12,"mat-hint",6),i.Tc(13,"ID Number"),i.Wb(),i.Xb(14,"mat-card",29),i.Xb(15,"input",79),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(16,Rc,3,0,"mat-error",18),i.Wb(),i.Rc(17,Nc,8,4,"div",80),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc(2);i.rc("formGroupName",a),i.Eb(9),i.rc("ngForOf",o.idTypeList),i.Eb(1),i.rc("ngIf",t.get("idType").touched&&!t.get("idType").valid),i.Eb(6),i.rc("ngIf",t.get("idNumber").touched&&!t.get("idNumber").valid),i.Eb(1),i.rc("ngIf","Passport"==t.get("idType").value||"DL"==t.get("idType").value)}}function kc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Enter Valid Address Line 1"),i.Wb(),i.Wb())}function Fc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Enter Valid Address Line 2"),i.Wb(),i.Wb())}function Lc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function _c(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please select country"),i.Wb(),i.Wb())}function wc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName," ")}}function Uc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please select state"),i.Wb(),i.Wb())}function Mc(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Vc(" ",t.value1," ")}}function Gc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please select city"),i.Wb(),i.Wb())}function Vc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Zip Code!(5-10 digits)"),i.Wb(),i.Wb())}function Bc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter valid Zip Code!(5-10 digits)"),i.Wb(),i.Wb())}function jc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",83),i.Xb(1,"legend",48),i.Tc(2,"Communication Address"),i.Wb(),i.Sb(3,"hr"),i.Xb(4,"div",26),i.Xb(5,"div",27),i.Xb(6,"mat-hint",6),i.Tc(7,"Address Line 1*"),i.Wb(),i.Xb(8,"mat-card",29),i.Sb(9,"input",84),i.Wb(),i.Rc(10,kc,3,0,"mat-error",18),i.Wb(),i.Xb(11,"div",27),i.Xb(12,"mat-hint",6),i.Tc(13,"Address Line 2*"),i.Wb(),i.Xb(14,"mat-card",29),i.Sb(15,"input",85),i.Wb(),i.Rc(16,Fc,3,0,"mat-error",18),i.Wb(),i.Xb(17,"div",27),i.Xb(18,"mat-hint",6),i.Tc(19,"Country*"),i.Wb(),i.Xb(20,"mat-card",29),i.Xb(21,"mat-select",86),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).getStateName(e.value)}),i.Xb(22,"mat-option",31),i.Tc(23,"select---"),i.Wb(),i.Rc(24,Lc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(25,_c,3,0,"mat-error",18),i.Wb(),i.Xb(26,"div",27),i.Xb(27,"mat-hint",6),i.Tc(28,"State*"),i.Wb(),i.Xb(29,"mat-card",29),i.Xb(30,"mat-select",87),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).getCityName(e.value)}),i.Xb(31,"mat-option",31),i.Tc(32,"select---"),i.Wb(),i.Rc(33,wc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(34,Uc,3,0,"mat-error",18),i.Wb(),i.Xb(35,"div",27),i.Xb(36,"mat-hint",6),i.Tc(37,"City*"),i.Wb(),i.Xb(38,"mat-card",29),i.Xb(39,"mat-select",88),i.Xb(40,"mat-option",31),i.Tc(41,"select---"),i.Wb(),i.Rc(42,Mc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(43,Gc,3,0,"mat-error",18),i.Wb(),i.Xb(44,"div",27),i.Xb(45,"mat-hint",6),i.Tc(46,"Zip Code*"),i.Wb(),i.Xb(47,"mat-card",29),i.Xb(48,"input",89),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("keyup",function(e){return i.Hc(t),i.jc(2).isAllSameDigit(e)}),i.Wb(),i.Wb(),i.Rc(49,Vc,3,0,"mat-error",18),i.Rc(50,Bc,3,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc(2);i.rc("formGroupName",a),i.Eb(10),i.rc("ngIf",t.get("address1").touched&&!t.get("address1").valid||t.get("address1").touched&&t.get("address1").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("address2").touched&&!t.get("address2").valid||t.get("address2").touched&&t.get("address2").hasError("pattern")),i.Eb(8),i.rc("ngForOf",o.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("country").touched&&!t.get("country").valid),i.Eb(8),i.rc("ngForOf",o.arrayState),i.Eb(1),i.rc("ngIf",t.get("state").touched&&!t.get("state").valid),i.Eb(8),i.rc("ngForOf",o.arrayCity),i.Eb(1),i.rc("ngIf",t.get("city").touched&&!t.get("city").valid),i.Eb(6),i.rc("ngIf",t.get("zipCode").touched&&t.get("zipCode").hasError("required")),i.Eb(1),i.rc("ngIf",o.isAllSameDigitVal||t.get("zipCode").hasError("pattern"))}}function zc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Enter Mobile Number(Maximum 10 digits)!"),i.Wb(),i.Wb())}function qc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2," \xa0 \xa0 Please Enter Correct Mobile Number "),i.Wb(),i.Wb())}function Kc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2," \xa0 \xa0 Please Enter Correct Landline Number"),i.Wb(),i.Wb())}function Jc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Tax Id is Required with only numbers!"),i.Wb(),i.Wb())}function $c(t,e){if(1&t&&(i.Xb(0,"mat-option",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Hc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Country Of Issue!"),i.Wb(),i.Wb())}function Yc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",90),i.Xb(1,"legend",48),i.Tc(2,"Additional Tax ID Details"),i.Wb(),i.Sb(3,"hr"),i.Xb(4,"div",91),i.Xb(5,"div",27),i.Xb(6,"mat-hint",6),i.Tc(7,"Tax ID*"),i.Wb(),i.Xb(8,"mat-card",29),i.Xb(9,"input",92),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).omit_special_char(e)}),i.Wb(),i.Wb(),i.Rc(10,Jc,3,0,"mat-error",18),i.Wb(),i.Xb(11,"div",27),i.Xb(12,"mat-hint",6),i.Tc(13,"Country Of Issue*"),i.Wb(),i.Xb(14,"mat-card",29),i.Xb(15,"mat-select",93),i.Xb(16,"mat-option",31),i.Tc(17,"select---"),i.Wb(),i.Rc(18,$c,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(19,Hc,3,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc(2);i.rc("formGroupName",a),i.Eb(10),i.rc("ngIf",t.get("taxId").touched&&!t.get("taxId").valid),i.Eb(8),i.rc("ngForOf",o.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("countryOfIssue").touched&&!t.get("countryOfIssue").valid)}}function Zc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-card",16),i.Xb(1,"mat-expansion-panel",17),i.fc("opened",function(){return i.Hc(t),i.jc().openClose("OPEN")})("closed",function(){return i.Hc(t),i.jc().openClose("CLOSE")}),i.Xb(2,"mat-expansion-panel-header"),i.Rc(3,ic,2,1,"mat-panel-title",18),i.Rc(4,rc,4,1,"mat-panel-title",18),i.Wb(),i.Xb(5,"div",4),i.Xb(6,"div",19),i.Xb(7,"div",20),i.Xb(8,"div",21),i.Xb(9,"div",22),i.Xb(10,"span"),i.Xb(11,"b"),i.Tc(12,"Is the applicant an existing customer?"),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"div",23),i.Xb(14,"mat-slide-toggle",24),i.fc("change",function(e){i.Hc(t);const a=i.jc();return a.toggleChanges(e.checked,a.formDirective)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",21),i.Xb(16,"div",22),i.Xb(17,"span"),i.Xb(18,"b"),i.Tc(19,"Is the applicant an primary customer?"),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",23),i.Sb(21,"mat-slide-toggle",25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(22,"br"),i.Xb(23,"div",26),i.Xb(24,"div",27),i.Xb(25,"mat-hint",6),i.Tc(26,"CIF Number"),i.Wb(),i.Rc(27,cc,2,0,"mat-card",28),i.Rc(28,dc,6,2,"mat-card",28),i.Rc(29,uc,3,0,"mat-error",18),i.Wb(),i.Xb(30,"div",27),i.Xb(31,"mat-hint",6),i.Tc(32,"Prefix*"),i.Wb(),i.Xb(33,"mat-card",29),i.Xb(34,"mat-select",30),i.Xb(35,"mat-option",31),i.Tc(36,"select---"),i.Wb(),i.Rc(37,mc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(38,pc,3,0,"mat-error",18),i.Wb(),i.Xb(39,"div",27),i.Xb(40,"mat-hint",6),i.Tc(41,"First Name*"),i.Wb(),i.Xb(42,"mat-card",29),i.Xb(43,"input",33),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(44,hc,3,0,"mat-error",18),i.Wb(),i.Xb(45,"div",27),i.Xb(46,"mat-hint",6),i.Tc(47,"Middle Name"),i.Wb(),i.Xb(48,"mat-card",29),i.Xb(49,"input",34),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",27),i.Xb(51,"mat-hint",6),i.Tc(52,"Last Name*"),i.Wb(),i.Xb(53,"mat-card",29),i.Xb(54,"input",35),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(55,fc,3,0,"mat-error",18),i.Wb(),i.Xb(56,"div",27),i.Xb(57,"mat-hint",6),i.Tc(58,"Gender*"),i.Wb(),i.Xb(59,"mat-card",29),i.Xb(60,"mat-select",36),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().onChangeGender(e)}),i.Xb(61,"mat-option",31),i.Tc(62,"select---"),i.Wb(),i.Rc(63,gc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(64,vc,3,0,"mat-error",18),i.Rc(65,Wc,2,0,"mat-error",18),i.Wb(),i.Xb(66,"div",27),i.Xb(67,"mat-hint",6),i.Tc(68,"Date Of Birth*"),i.Wb(),i.Xb(69,"mat-card",29),i.Sb(70,"input",37),i.Xb(71,"div",23),i.Sb(72,"mat-datepicker-toggle",38),i.Wb(),i.Sb(73,"mat-datepicker",null,39),i.Wb(),i.Rc(75,Xc,3,0,"mat-error",18),i.Wb(),i.Xb(76,"div",27),i.Xb(77,"mat-hint",6),i.Tc(78,"Place Of Birth "),i.Wb(),i.Xb(79,"mat-card",29),i.Xb(80,"input",40),i.fc("keypress.space",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Wb(),i.Rc(81,yc,3,0,"mat-error",18),i.Wb(),i.Xb(82,"div",27),i.Xb(83,"mat-hint",6),i.Tc(84,"Residence Type*"),i.Wb(),i.Xb(85,"mat-card",29),i.Xb(86,"mat-select",41),i.Xb(87,"mat-option",31),i.Tc(88,"select---"),i.Wb(),i.Rc(89,Tc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(90,Ic,3,0,"mat-error",18),i.Wb(),i.Xb(91,"div",27),i.Xb(92,"mat-hint",6),i.Tc(93,"Citizenship By*"),i.Wb(),i.Xb(94,"mat-card",29),i.Xb(95,"mat-select",42),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().onSelectionCitizionship(e.value)}),i.Xb(96,"mat-option",31),i.Tc(97,"--Select--"),i.Wb(),i.Rc(98,xc,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(99,Cc,3,0,"mat-error",18),i.Wb(),i.Xb(100,"div",27),i.Xb(101,"mat-hint",6),i.Tc(102,"Country Of Residence*"),i.Wb(),i.Xb(103,"mat-card",29),i.Xb(104,"mat-select",43),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().onSelectionResidance(e.value)}),i.Xb(105,"mat-option",31),i.Tc(106,"--Select--"),i.Wb(),i.Rc(107,Ec,2,2,"mat-option",32),i.Wb(),i.Wb(),i.Rc(108,Oc,3,0,"mat-error",18),i.Wb(),i.Wb(),i.Xb(109,"div",44),i.Rc(110,Pc,18,5,"div",45),i.Wb(),i.Sb(111,"br"),i.Xb(112,"div",46),i.Rc(113,jc,51,11,"div",47),i.Wb(),i.Sb(114,"br"),i.Xb(115,"div"),i.Xb(116,"legend",48),i.Tc(117,"Contact Information"),i.Wb(),i.Sb(118,"hr"),i.Xb(119,"div",49),i.Xb(120,"div",27),i.Xb(121,"mat-hint",6),i.Tc(122,"Mobile Number*"),i.Wb(),i.Xb(123,"mat-card",29),i.Xb(124,"input",50),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(125,zc,3,0,"mat-error",18),i.Rc(126,qc,3,0,"mat-error",18),i.Wb(),i.Xb(127,"div",27),i.Xb(128,"mat-hint",6),i.Tc(129,"Landline Number*"),i.Wb(),i.Xb(130,"mat-card",29),i.Xb(131,"input",51),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(132,Kc,3,0,"mat-error",18),i.Wb(),i.Xb(133,"div",27),i.Xb(134,"mat-hint",6),i.Tc(135,"Email*"),i.Wb(),i.Xb(136,"mat-card",29),i.Sb(137,"input",52),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(138,"br"),i.Xb(139,"div",53),i.Rc(140,Yc,20,4,"div",54),i.Wb(),i.Xb(141,"div",26),i.Xb(142,"div",55),i.Xb(143,"div",56),i.Xb(144,"button",57),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=i.jc();return o.saveDirector(a.value,o.item),o.openClose("CLOSE")}),i.Xb(145,"mat-icon"),i.Tc(146,"add"),i.Wb(),i.Tc(147," ADD DIRECTOR "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.Dc(74),n=i.jc();i.rc("item",t)("formGroupName",a),i.Eb(1),i.rc("expanded",n.panelOpenState),i.Eb(2),i.rc("ngIf",1==n.panelOpenState),i.Eb(1),i.rc("ngIf",0==n.panelOpenState),i.Eb(17),i.rc("disabled",n.disabledToggle),i.Eb(6),i.rc("ngIf",1!=t.get("existingCustomer").value),i.Eb(1),i.rc("ngIf",1==t.get("existingCustomer").value),i.Eb(1),i.rc("ngIf",t.get("cifNumber").touched&&!t.get("cifNumber").valid&&1==t.get("existingCustomer").value),i.Eb(8),i.rc("ngForOf",n.prefixList),i.Eb(1),i.rc("ngIf",t.get("prefix").touched&&!t.get("prefix").valid),i.Eb(6),i.rc("ngIf",t.get("firstName").touched&&!t.get("firstName").valid),i.Eb(11),i.rc("ngIf",t.get("lastName").touched&&!t.get("lastName").valid),i.Eb(8),i.rc("ngForOf",n.genderList),i.Eb(1),i.rc("ngIf",t.get("gender").touched&&!t.get("gender").valid),i.Eb(1),i.rc("ngIf",n.prefixFlag),i.Eb(5),i.rc("matDatepicker",o)("max",n.maxDate),i.Eb(2),i.rc("for",o),i.Eb(3),i.rc("ngIf",t.get("dateOfBirth").touched&&!t.get("dateOfBirth").valid),i.Eb(6),i.rc("ngIf",t.get("placeOfBirth").touched&&!t.get("placeOfBirth").valid),i.Eb(8),i.rc("ngForOf",n.arrayResidence),i.Eb(1),i.rc("ngIf",t.get("residenceStatus").touched&&!t.get("residenceStatus").valid),i.Eb(8),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("citizenship").touched&&!t.get("citizenship").valid),i.Eb(8),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("countryOfResidence").touched&&!t.get("countryOfResidence").valid),i.Eb(2),i.rc("ngForOf",t.get("custIdProofs").controls),i.Eb(3),i.rc("ngForOf",t.get("userAddress").controls),i.Eb(12),i.rc("ngIf",t.get("phoneNumber").touched&&!t.get("phoneNumber").valid&&!t.controls.phoneNumber.hasError("minLength")),i.Eb(1),i.rc("ngIf","0000000000"==t.controls.phoneNumber.value),i.Eb(6),i.rc("ngIf","0000000000"==t.controls.landlineNumber.value),i.Eb(8),i.rc("ngForOf",t.get("custTaxInfo").controls),i.Eb(4),i.rc("disabled",t.invalid||!n.prefixFlag)}}let Qc=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.data=t,this.dialogRef=e,this.formBuilder=a,this.ls=o,this.apiService=n,this.corporateService=i,this.snack=r,this.cdr=c,this.appApiService=s,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.isDirectorSaved=!1,this.directors=new p.d([])}ngOnInit(){if(this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getDoc(),this.getCountryName("country"),null!=this.data){this.buildDirectorForm(this.data),this.directors=this.directorUpdateForm.get("directors");for(let t=0;t<this.data.length;t++){this.directors.push(this.addDirectors(this.data[t]));for(let e=0;e<this.data[t].userAddress.length;e++)this.getStateName(this.data[t].userAddress[e].country),this.getCityName(this.data[t].userAddress[e].state),this.addAddress(t,this.data[t].userAddress[e]);this.addIdProof(t,this.data[t].custIdProofs[0]),this.addCustTaxInfo(t,this.data[t].custTaxInfo[0])}}else this.buildDirectorForm(),this.directors=this.directorUpdateForm.get("directors"),this.directors.push(this.addDirectors()),this.addAddress(0),this.addIdProof(0),this.addCustTaxInfo(0)}buildDirectorForm(t){this.directorUpdateForm=this.formBuilder.group({noOfDirector:[t?this.data.length:"1"],directors:this.formBuilder.array([])})}addDirectors(t){return this.formBuilder.group({customerId:this.customerId,citizenship:[t?t.citizenship:""],cifNumber:[t?t.cifNumber:""],corporateId:[t?t.corporateId:""],countryOfResidence:[t?t.countryOfResidence:""],dateOfBirth:[t?t.dateOfBirth:""],existingCustomer:[t?t.existingCustomer:""],firstName:[t?t.firstName:""],gender:[t?t.gender:""],landlineNumber:[t?t.landlineNumber:"",[p.z.minLength(10),p.z.maxLength(10)]],lastName:[t?t.lastName:""],middleName:[t?t.middleName:""],phoneNumber:[t?t.phoneNumber:"",[p.z.minLength(10),p.z.maxLength(10)]],placeOfBirth:[t?t.placeOfBirth:""],prefix:[t?t.prefix:""],primaryCustomer:[!1],primaryEmailAdress:[t?t.primaryEmailAdress:""],residenceStatus:[t?t.residenceStatus:""],verificationType:"onboarding",userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([]),custTaxInfo:this.formBuilder.array([])})}addAddress(t,e){this.directors.controls[t].get("userAddress").push(this.formBuilder.group({addressType:[e?e.addressType:""],address1:[[e?e.address1:""],[p.z.pattern(".*[a-zA-Z].*")]],address2:[[e?e.address2:""],[p.z.pattern(".*[a-zA-Z].*")]],city:[e?e.city:""],state:[e?e.state:""],country:[e?e.country:""],zipCode:[e?e.zipCode:"",[p.z.required,p.z.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]}))}addIdProof(t,e){this.directors.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:""],idType:[e?e.idType:""],expiryDate:[e?e.expiryDate:""]}))}addCustTaxInfo(t,e){this.directors.controls[t].get("custTaxInfo").push(this.formBuilder.group({taxId:[e?e.taxId:"",[p.z.required,p.z.pattern("^[0-9]*$")]],countryOfIssue:[e?e.countryOfIssue:""]}))}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.arrayState=[],this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"==t[a].authStatus&&this.arrayState.push(t[a].stateName)});break}})}getCityName(t){this.apiService.getDropDownValues1("city",t).subscribe(t=>{this.arrayCity=t})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getDoc(){this.apiService.getDropDownValues("gender").subscribe(t=>{this.genderList=t}),this.apiService.getDropDownValues("prefix").subscribe(t=>{this.prefixList=t}),this.apiService.getDropDownValues("document_name").subscribe(t=>{this.idTypeList=t}),this.apiService.getDropDownValues("address_type").subscribe(t=>{this.addressTypeList=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}editDirector(t){this.panelOpenState=!this.panelOpenState}updatedVal(t){this.showAutocomplete=!!(t&&t.length>=3)}selectCif(t){this.getStateName(t.userAddress[0].country),this.getCityName(t.userAddress[0].state),null!=t.citizenship&&this.onSelectionCitizionship(t.citizenship),null!=t.countryOfResidence&&this.onSelectionResidance(t.countryOfResidence),this.customerInfoList=t.customerInfoList,this.cifNumberForPayload=t.cifNumber,this.customerIdForPayload=t.customerId,delete t.cifNumber,this.autocomplete.closePanel(),this.directorUpdateForm.patchValue(t),this.directorUpdateForm.get("existingCustomer").setValue(!0)}fetchByCif(t){console.log(null==t?void 0:t.length),0==(null==t?void 0:t.length)&&this.autocomplete.closePanel(),this.directorUpdateForm.reset({cifNumber:this.directorUpdateForm.get("cifNumber").value,existingCustomer:this.directorUpdateForm.get("existingCustomer").value}),this.showAutocomplete=!1,t&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t).subscribe(t=>{console.log("settimeout"),console.log("res::",t),t&&(this.showAutocomplete=!0,this.customerInfoList=t.customerInfoList),null!=this.customerInfoList[0].citizenship&&this.onSelectionCitizionship(this.customerInfoList[0].citizenship),null!=this.customerInfoList[0].countryOfResidence?this.onSelectionResidance(this.customerInfoList[0].countryOfResidence):(null==t?void 0:t.customerInfoList.length)>1?this.customerInfoList=t.customerInfoList:0!=(null==t?void 0:t.customerInfoList.length)&&t||this.snack.open("Kindly Enter Valid CifNumber to proceed","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.error(t)})},1e3))}toggleChanges(t,e){console.log(t),!0===t?this.directorUpdateForm.get("cifNumber").enable():!1===t&&(this.directorUpdateForm.get("cifNumber").disable(),this.customerId=null)}onSelectionResidance(t){console.log(t),this.apiService.countryFlaglists(t).subscribe(t=>{console.log(t.currencyCode),this.Currency=t.currencyCode.toLowerCase(),console.log(this.Currency)})}onSelectionCitizionship(t){console.log(t),this.apiService.countryFlaglists(t).subscribe(t=>{console.log(t.currencyCode),this.currencyCode=t.currencyCode.toLowerCase(),console.log(this.currencyCode)})}onChangeGender(t){let e=this.directorUpdateForm.value.prefix;"Mr"==e&&"Male"==t.value||("Ms"==e||"Mrs"==e)&&"Female"==t.value?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}noOfDirector(){let t=Number(this.directorUpdateForm.get("noOfDirector").value);if(this.directors.length<t)for(let e=this.directors.length;e<t;e++)this.directors.push(this.addDirectors()),this.addAddress(e),this.addIdProof(e),this.addCustTaxInfo(e);else if(t<this.directors.length)for(let e=this.directors.length-1;e>=t;e--)this.directors.removeAt(e)}omit_special_char(t){var e;return(e=t.charCode)>64&&e<91||e>96&&e<123||8==e||32==e||e>=48&&e<=57}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var o=0;o<a.length;o++)0==a[o]&&e++;this.isAllSameDigitVal=e==a.length}else this.isAllSameDigitVal=!1}saveDirector(t,e){t.cifNumber=this.cifNumberForPayload,t.customerId=this.customerIdForPayload,t.corporateId=this.corporateId;let a={corporateId:this.corporateId,customerInfo:[t]};if(this.noOfDir>0){this.saveStatus=[];for(let t=0;t<this.noOfDir;t++)this.saveStatus.push(!0);this.corporateService.setfinishSave(this.saveStatus)}this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(t=>{null!=t?(null!=t.customerInfo&&null!=t.customerInfo[0].cifNumber&&(this.cifNumber=t.customerInfo[0].cifNumber),this.snack.open(`Director ${this.item} profile created !`,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck(),this.noOfDir<=1&&this.dialogRef.close({status:"INITIATED",resp:this.data})):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.isDirectorSaved=!0}onSubmit(){this.dialogRef.close({status:"INITIATED"})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(l.a),i.Rb(r.b),i.Rb(gr.a),i.Rb(f.a),i.Rb(i.h),i.Rb(d.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-director-details"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100",1,"full-width"],[1,"hintClass"],["fxFlex","33.33%","fxFlex.xs","100%",1,"inputCard"],["formControlName","noOfDirector","matInput","","id","forNoOfDirectors","placeholder","Enter no of directors",3,"keypress","keyup"],["visible","true",2,"font-weight","600"],[1,"custom-accordion"],["formArrayName","directors"],[3,"item","formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"item","formGroupName"],[1,"mat-elevation-z0",3,"expanded","opened","closed"],[4,"ngIf"],["fxLayout","row wrap",2,"margin-top","20px","margin-left","20px"],["fxFlex","100"],["fxFlex","50"],["fxFlex","80"],["fxFlex","20"],["formControlName","existingCustomer",3,"change"],["formControlName","primaryCustomer",3,"disabled"],["fxLayout","row wrap"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["class","inputCard",4,"ngIf"],[1,"inputCard"],["formControlName","prefix","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","firstName","id","forFirstName","required","","placeholder","First Name",3,"keypress"],["matInput","","formControlName","middleName","id","forMiddleName","placeholder","Middle Name",3,"keypress"],["matInput","","formControlName","lastName","id","forLastName","required","","placeholder","Last Name",3,"keypress"],["formControlName","gender","id","forGender","required","",3,"selectionChange"],["fxFlex","80","matInput","","formControlName","dateOfBirth","required","","readonly","",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","placeOfBirth","id","forplaceOfBirth","required","",3,"keypress.space"],["formControlName","residenceStatus","id","forResidenceStatus","required",""],["formControlName","citizenship","id","forcitizenship","required","",3,"selectionChange"],["formControlName","countryOfResidence","id","forcountryOfResidence","required","",3,"selectionChange"],["formArrayName","custIdProofs"],["fxFlex","100%",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["visible","true"],["fxFlex","row wrap","fxFlex","100"],["matInput","","formControlName","phoneNumber","id","forPhoneNumber","maxLength","10","minLength","10","onlyNumber","","required","",3,"keypress"],["matInput","","formControlName","landlineNumber","maxLength","10","minLength","10","onlyNumber","","id","forlandlineNumber","required","",3,"keypress"],["matInput","","formControlName","primaryEmailAdress","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$","id","forprimaryEmailAdress","required",""],["formArrayName","custTaxInfo"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin-left","13px"],["fxFlex","20",1,"form-group"],["mat-raised-button","","color","primary",2,"background-color","rgb(77, 114, 248)",3,"disabled","click"],[2,"color","#24CCA7"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"keypress"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"matAutocomplete","keyup","ngModelChange"],["input",""],[2,"background-color","black"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],[3,"value"],["fxFlex","100%",3,"formGroupName"],["formControlName","idType","id","forIdType","required",""],["matInput","","formControlName","idNumber","id","foridNumber","maxlength","15","minLength","11","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","expiryDate","id","forIdexpiryDate","readonly","","required","",3,"min","matDatepicker"],["expiryDate",""],[3,"formGroupName"],["matInput","","id","foraddress1","formControlName","address1","required",""],["matInput","","id","foraddress2","formControlName","address2","required",""],["id","forcountry","formControlName","country","required","",3,"selectionChange"],["id","forstate","formControlName","state","required","",3,"selectionChange"],["id","forCity","formControlName","city","required",""],["matInput","","formControlName","zipCode","id","forZipCode","onlyNumber","","maxlength","10","minLength","5","required","",3,"keypress","keyup"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxFlex","row wrap"],["matInput","","onlyNumber","","formControlName","taxId","id","forTaxId","maxlength","10","required","",3,"keypress"],["formControlName","countryOfIssue","id","forCountryOfIssue","required",""]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Director Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",3),i.Xb(7,"div",4),i.Xb(8,"div",5),i.Xb(9,"mat-hint",6),i.Tc(10,"Number of Directors"),i.Wb(),i.Xb(11,"mat-card",7),i.Xb(12,"input",8),i.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(){return e.noOfDirector()}),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"h3",9),i.Tc(14,"Details Of the Director"),i.Wb(),i.Xb(15,"div",4),i.Xb(16,"mat-accordion",10),i.Xb(17,"div",11),i.Rc(18,Zc,148,34,"mat-card",12),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",13),i.Xb(20,"button",14),i.fc("click",function(){return e.onSubmit()}),i.Tc(21,"Save"),i.Wb(),i.Tc(22," \xa0\xa0\xa0 "),i.Xb(23,"button",15),i.fc("click",function(){return e.close()}),i.Tc(24," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("formGroup",e.directorUpdateForm),i.Eb(12),i.rc("ngForOf",e.directorUpdateForm.get("directors").controls),i.Eb(2),i.rc("disabled",e.directorUpdateForm.invalid||!e.isDirectorSaved))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,p.c,y.b,p.r,p.i,j.a,p.e,o.m,g.f,C.b,p.k,j.c,j.e,o.n,x.a,T.a,p.y,O.n,I.e,I.g,W.j,I.d,q.a,p.w,j.f,oc.c,oc.a,X.c,nc.b,W.b,p.m],pipes:[o.w,o.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();function ts(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Incorporation Number is Required! "),i.Wb())}function es(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Valid Incorporation Number! "),i.Wb())}function as(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Date of Issue"),i.Wb(),i.Wb())}function os(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Date of Expiry"),i.Wb(),i.Wb())}function ns(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-radio-group",25),i.Xb(1,"mat-radio-button",26),i.fc("change",function(e){return i.Hc(t),i.jc().radioSelection(e.value)}),i.Tc(2),i.Wb(),i.Tc(3,"\xa0 "),i.Wb()}if(2&t){const t=e.$implicit,a=i.jc();i.Eb(1),i.rc("value",t)("checked",t==a.identityUpdateForm.value.isAnotherIdProofRequired),i.Eb(1),i.Vc("",t," ")}}function is(t,e){if(1&t&&(i.Xb(0,"mat-option",45),i.Tc(1),i.Wb()),2&t){const t=e.$implicit,a=i.jc(3);i.rc("disabled",a.isDocumentOptionDisabled(t))("value",t),i.Eb(1),i.Vc(" ",t," ")}}function rs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Id Type"),i.Wb(),i.Wb())}function cs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Enter Id Number"),i.Wb(),i.Wb())}function ss(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",30),i.Xb(1,"fieldset",31),i.Xb(2,"div",32),i.Xb(3,"div",33),i.Xb(4,"div",34),i.Xb(5,"label",35),i.Tc(6,"Id Type "),i.Wb(),i.Xb(7,"mat-form-field",36),i.Xb(8,"mat-select",37),i.fc("valueChange",function(a){i.Hc(t);const o=e.index;return i.jc(2).changeValue2(a,o)}),i.Xb(9,"mat-option",38),i.Tc(10,"select---"),i.Wb(),i.Rc(11,is,2,3,"mat-option",39),i.Wb(),i.Xb(12,"mat-placeholder",40),i.Tc(13,"Select Id Type* "),i.Wb(),i.Wb(),i.Rc(14,rs,3,0,"mat-error",9),i.Wb(),i.Xb(15,"div",34),i.Xb(16,"label",41),i.Tc(17,"Id Number "),i.Wb(),i.Xb(18,"mat-form-field",36),i.Sb(19,"input",42),i.Xb(20,"mat-placeholder",40),i.Tc(21,"Enter Id Number* "),i.Wb(),i.Wb(),i.Rc(22,cs,3,0,"mat-error",9),i.Wb(),i.Xb(23,"button",43),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc(2).deleteDocument(a,o)}),i.Xb(24,"mat-icon",44),i.Tc(25,"delete_outline"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc(2);i.rc("formGroupName",a),i.Eb(11),i.rc("ngForOf",o.idTypeList),i.Eb(3),i.rc("ngIf",t.get("idType").touched&&!t.get("idType").valid),i.Eb(8),i.rc("ngIf",t.get("idNumber").touched&&!t.get("idNumber").valid)}}function ls(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",27),i.Rc(1,ss,26,4,"div",28),i.Xb(2,"button",29),i.fc("click",function(e){return i.Hc(t),i.jc().addDocument(e)}),i.Xb(3,"mat-icon"),i.Tc(4,"add"),i.Wb(),i.Tc(5," ADD "),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(1),i.rc("ngForOf",t.identityUpdateForm.get("idProofList").controls),i.Eb(1),i.rc("disabled",3==t.selectedOptions.length)}}const bs=function(){return["YES","NO"]};let ds=(()=>{class t{constructor(t,e,a,o,n,i,r){this.dialogRef=t,this.data=e,this.formBuilder=a,this.ls=o,this.apiService=n,this.corporateService=i,this.snack=r,this.minDate=new Date,this.validDate=new Date,this.maxDate=new Date}ngOnInit(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.data?(this.buildIdentityForm(),this.identityUpdateForm.patchValue(this.data)):this.buildIdentityForm()}buildIdentityForm(){this.identityUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],incorporationNumber:["",[p.z.required,p.z.pattern("^[a-zA-Z0-9]{0,35}$")]],dateOfIssue:["",[p.z.required]],dateOfExpiry:["",[p.z.required]],isAnotherIdProofRequired:["NO"],idProofList:this.formBuilder.array([])})}get getDocumentList(){return this.identityUpdateForm.get("idProofList")}addDocument(){this.getDocumentList.push(this.formBuilder.group({idType:["",[p.z.required]],idNumber:["",[p.z.required]]}))}deleteDocument(t,e){console.log("delete record :: ",t," index :: ",e),this.getDocumentList.removeAt(e)}onSubmit(t){let e={};Object.keys(t).map(function(a,o){"dateOfIssue"===a||"dateOfExpiry"===a?(t[a]=h(t[a]).format("YYYY-MM-DD"),e[a]=t[a]):"isAnotherIdProofRequired"!=a&&"idProofList"!=a&&(e[a]=t[a])}),this.corporateService.saveOrUpdateCorporateAccountInfo(e).subscribe(t=>{console.log("data :: ",t),null!=t?(this.snack.open("Proof of identity Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:e})):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.g),i.Rb(b.a),i.Rb(p.f),i.Rb(l.a),i.Rb(r.b),i.Rb(gr.a),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-corporate-identity"]],decls:50,vars:15,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["visible","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","incorporationNumber","placeholder","Incorporation Number","maxLength","35","minLength","0","onlyNumber",""],[4,"ngIf"],["matInput","","id","forIddateOfIssue","readonly","","formControlName","dateOfIssue",3,"matDatepicker","max"],["matSuffix","",3,"for"],["dateOfIssue",""],["matInput","","id","forIddateOfExpiry","readonly","","formControlName","dateOfExpiry",3,"matDatepicker","min"],["dateOfExpiry",""],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","20px"],["fxFlex","28"],[2,"padding-left","10px"],["fxFlex","50"],["formControlName","isAnotherIdProofRequired",4,"ngFor","ngForOf"],["formArrayName","idProofList",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["formControlName","isAnotherIdProofRequired"],[3,"value","checked","change"],["formArrayName","idProofList"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],[3,"formGroupName"],[2,"border-top","1px solid lightgray","margin-left","20px","margin-right","20px"],["fxLayout","row wrap",1,"top"],["fxFlex","100","fxLayoutGap","30px"],["fxFlex","30",1,"form-group"],["for","forIdType",1,"hint"],["floatLabel","never"],["formControlName","idType","id","forIdType",3,"valueChange"],["disabled",""],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"placeholder"],["for","forIdNumber",1,"hint"],["matInput","","formControlName","idNumber","id","forIdNumber","maxLength","12","minLength","6"],["mat-button","",3,"click"],[2,"color","tomato"],[3,"disabled","value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Proof Of Identity"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",3),i.Xb(7,"div"),i.Xb(8,"legend",4),i.Tc(9,"Certificate of Incorporation Details"),i.Wb(),i.Xb(10,"div"),i.Xb(11,"div",5),i.Xb(12,"mat-hint",6),i.Tc(13,"Incorporation Number*"),i.Wb(),i.Xb(14,"mat-card",7),i.Sb(15,"input",8),i.Wb(),i.Rc(16,ts,2,0,"mat-error",9),i.Rc(17,es,2,0,"mat-error",9),i.Wb(),i.Xb(18,"div",5),i.Xb(19,"mat-hint",6),i.Tc(20,"Date of Issue*"),i.Wb(),i.Xb(21,"mat-card",7),i.Sb(22,"input",10),i.Sb(23,"mat-datepicker-toggle",11),i.Sb(24,"mat-datepicker",null,12),i.Wb(),i.Rc(26,as,3,0,"mat-error",9),i.Wb(),i.Xb(27,"div",5),i.Xb(28,"mat-hint",6),i.Tc(29,"Date of Expiry*"),i.Wb(),i.Xb(30,"mat-card",7),i.Sb(31,"input",13),i.Sb(32,"mat-datepicker-toggle",11),i.Sb(33,"mat-datepicker",null,14),i.Wb(),i.Rc(35,os,3,0,"mat-error",9),i.Wb(),i.Wb(),i.Xb(36,"div",15),i.Xb(37,"div",16),i.Xb(38,"div",17),i.Xb(39,"mat-label",18),i.Tc(40," Do you want add another proof of ID? "),i.Wb(),i.Wb(),i.Xb(41,"div",19),i.Rc(42,ns,4,3,"mat-radio-group",20),i.Wb(),i.Wb(),i.Wb(),i.Rc(43,ls,6,2,"div",21),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",22),i.Xb(45,"button",23),i.fc("click",function(){return e.onSubmit(e.identityUpdateForm.value)}),i.Tc(46,"Save"),i.Wb(),i.Tc(47," \xa0\xa0\xa0 "),i.Xb(48,"button",24),i.fc("click",function(){return e.close()}),i.Tc(49," Cancel "),i.Wb(),i.Wb()),2&t){const t=i.Dc(25),a=i.Dc(34);i.Eb(6),i.rc("formGroup",e.identityUpdateForm),i.Eb(10),i.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").touched&&e.identityUpdateForm.get("incorporationNumber").hasError("required")),i.Eb(1),i.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").hasError("pattern")),i.Eb(5),i.rc("matDatepicker",t)("max",e.maxDate),i.Eb(1),i.rc("for",t),i.Eb(3),i.rc("ngIf",e.identityUpdateForm.get("dateOfIssue").touched&&!e.identityUpdateForm.get("dateOfIssue").valid),i.Eb(5),i.rc("matDatepicker",a)("min",e.validDate),i.Eb(1),i.rc("for",a),i.Eb(3),i.rc("ngIf",e.identityUpdateForm.get("dateOfExpiry").touched&&!e.identityUpdateForm.get("dateOfExpiry").valid),i.Eb(7),i.rc("ngForOf",i.wc(14,bs)),i.Eb(1),i.rc("ngIf","YES"==e.identityUpdateForm.get("isAnotherIdProofRequired").value),i.Eb(2),i.rc("disabled",e.identityUpdateForm.invalid)}},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,y.b,p.c,p.r,p.i,q.a,o.n,I.e,I.g,W.j,I.d,g.f,W.g,o.m,C.b,W.b,Jt.b,Jt.a,p.e,p.k,W.c,T.a,O.n,W.h],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();function us(t,e){if(1&t&&(i.Xb(0,"mat-option",23),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ms(t,e){if(1&t&&(i.Xb(0,"mat-option",23),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ps(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Type Of Ownership is Required! "),i.Wb())}function hs(t,e){1&t&&(i.Xb(0,"legend",38),i.Tc(1,"Document Upload"),i.Wb())}function fs(t,e){if(1&t&&(i.Xb(0,"mat-option",39),i.Tc(1),i.Wb()),2&t){const t=e.$implicit,a=i.jc(2);i.rc("disabled",a.isDocumentOptionDisabled(t))("value",t),i.Eb(1),i.Vc(" ",t," ")}}function gs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Document Type is Required!"),i.Wb(),i.Wb())}function vs(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",24),i.Rc(1,hs,2,0,"legend",25),i.Xb(2,"div",3),i.Xb(3,"div",26),i.Xb(4,"div",27),i.Xb(5,"mat-hint",5),i.Tc(6,"Document Type*"),i.Wb(),i.Xb(7,"mat-card",6),i.Xb(8,"mat-select",28),i.fc("valueChange",function(a){i.Hc(t);const o=e.index;return i.jc().changeValue(a,o)}),i.Xb(9,"mat-option",8),i.Tc(10,"select"),i.Wb(),i.Rc(11,fs,2,3,"mat-option",29),i.Wb(),i.Wb(),i.Rc(12,gs,3,0,"mat-error",12),i.Wb(),i.Xb(13,"div",30),i.Sb(14,"img",31),i.Wb(),i.Xb(15,"div",32),i.Xb(16,"input",33,34),i.fc("change",function(a){i.Hc(t);const o=e.index,n=i.Dc(17);return i.jc().onOtherDocSelect(a.target.files,o,n.files[0].name)}),i.Wb(),i.Xb(18,"button",35),i.fc("click",function(){return i.Hc(t),i.Dc(17).click()}),i.Tc(19,"Browse"),i.Wb(),i.Xb(20,"button",36),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index;return i.jc().deleteDocument(a,o)}),i.Xb(21,"mat-icon",37),i.Tc(22,"delete_outline"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc();i.rc("formGroupName",a),i.Eb(1),i.rc("ngIf",0==a),i.Eb(10),i.rc("ngForOf",o.documentTypeList),i.Eb(1),i.rc("ngIf",t.get("documentType").touched&&!t.get("documentType").valid),i.Eb(2),i.rc("src",t.controls.fileData.value,i.Jc)}}let Ws=(()=>{class t{constructor(t,e,a,o,n,i,r){this.dialogRef=t,this.formBuilder=e,this.data=a,this.ls=o,this.apiService=n,this.corporateService=i,this.snack=r,this.organizationTypeList=["Public","Private"],this.typeOfOwnershipList=["Independent","Dependent"],this.kycStatusList=["APPROVED","BACKLOG","INITIATED","REJECTED"],this.otherDocumentArray=[],this.selectedOptions=[],this.selectedDocumentTypes=[],this.corporateDocs=[],this.isDocumentOptionDisabled=t=>this.selectedOptions.includes(t)}ngOnInit(){if(console.log(this.data),this.corporateId=this.ls.getItem("corporateId"),this.apiService.getDropDownValues("document_type").subscribe(t=>{this.documentTypeList=t}),this.data){this.data.corporateDocs=this.data.corporateDocs.filter(t=>"Profile"!=t.documentName),this.buildOtherFormGroup(this.data);for(let t=0;t<this.data.corporateDocs.length;t++)this.addDocument(),this.otherInfoUpdateForm.controls.corporateDocs.controls[t].controls.documentType.setValue(this.data.corporateDocs[t].documentName),this.otherInfoUpdateForm.controls.corporateDocs.controls[t].controls.fileData.setValue(this.data.corporateDocs[t].fileUrl),this.otherInfoUpdateForm.controls.corporateDocs.controls[t].controls.documentName.setValue(this.data.corporateDocs[t].fileName)}}buildOtherFormGroup(t){this.otherInfoUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],organizationType:[t?t.organizationType:"",p.z.required],typeOfOwnership:[t?t.typeOfOwnership:"",p.z.required],kycReference:[t?t.kycReference:""],KycStatus:[t?t.kycStatus:""],corporateDocs:this.formBuilder.array([])})}get getDocumentList(){return this.otherInfoUpdateForm.get("corporateDocs")}addDocument(){this.getDocumentList.push(this.formBuilder.group({documentType:["",[p.z.required]],documentName:["",[p.z.required]],fileData:[""]}))}deleteDocument(t,e){this.getDocumentList.removeAt(e)}changeValue(t,e){console.log(e),this.selectedDocumentTypes[e]&&(this.selectedOptions=this.selectedOptions.filter(t=>t!==this.selectedDocumentTypes[e])),this.selectedDocumentTypes[e]=t,console.log(t),this.selectedOptions.push(t)}onOtherDocSelect(t,e,a){this.otherDocumentArray.push(t.item(0)),this.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.documentName.setValue(a);let o=new FileReader;o.readAsDataURL(t.item(0)),o.onload=t=>{this.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.fileData.setValue(o.result)}}onSubmit(t){let e={};Object.keys(t).map(function(a,o){"corporateDocs"!=a&&(e[a]=t[a])}),this.corporateService.saveOrUpdateCorporateAccountInfo(e).subscribe(t=>{if(null!=t){for(let e=0;e<this.otherInfoUpdateForm.get("corporateDocs").value.length;e++)if(this.otherDocumentArray.length>0){let a={};a.documentName=this.otherInfoUpdateForm.get("corporateDocs").value[e].documentType,a.documentType=2,a.fileType=this.otherDocumentArray[e].type,a.fileName=this.otherDocumentArray[e].name,a.corporateId=t.corporateId,a.id=this.otherDocumentArray[e].id;const o=new FormData;o.append("data",JSON.stringify(a)),o.append("file",this.otherDocumentArray[e]),this.apiService.uploadCorporateDocument(o).subscribe(t=>{console.log(t),this.corporateDocs.push(t)})}}else this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});this.dialogRef.close({status:"INITIATED",resp:{typeOfOwnership:t.typeOfOwnership,organizationType:t.organizationType,corporateDocs:this.corporateDocs}})},t=>{console.log("error resp :: ",t),this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.g),i.Rb(p.f),i.Rb(b.a),i.Rb(l.a),i.Rb(r.b),i.Rb(gr.a),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-corporate-addititonal-info"]],decls:45,vars:6,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFl50ex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["id","forOrganizationType","formControlName","organizationType","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33%","fxFlex.xs","100%",1,"full-width"],["id","forTypeOfOwnership","formControlName","typeOfOwnership","required",""],[4,"ngIf"],["formArrayName","corporateDocs"],[3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","1px"],["fxFlex","1"],["fxFlex","20"],["mat-button","","color","primary",3,"click"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["visible","true",4,"ngIf"],["fxFlex","100","fxLayoutGap","20px",1,"padding"],["fxFlex","50","fxFlex.xs","100%",1,"full-width"],["id","forDocumentType","formControlName","documentType","required","",3,"valueChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.xs","100%",1,"pt20"],["height","80px","width","85px",3,"src"],["fxFlex","30","fxLayoutGap","5px",2,"display","flex","margin-top","20px","align-content","center","margin-left","30px"],["type","file","name","fileData","formControlName","fileData",1,"default-background",2,"display","none","margin-top","20px",3,"change"],["fileData",""],["mat-button","",2,"text-decoration","underline","color","#456EFE",3,"routerLink","click"],["mat-button","",3,"click"],[2,"color","tomato"],["visible","true"],[3,"disabled","value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1"),i.Tc(4,"Other Information"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",2),i.Xb(7,"div"),i.Xb(8,"h3"),i.Tc(9,"Organization Information"),i.Wb(),i.Sb(10,"hr"),i.Xb(11,"div",3),i.Xb(12,"div",4),i.Xb(13,"mat-hint",5),i.Tc(14,"Organization Type"),i.Wb(),i.Xb(15,"mat-card",6),i.Xb(16,"mat-select",7),i.Xb(17,"mat-option",8),i.Tc(18,"select"),i.Wb(),i.Rc(19,us,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",10),i.Xb(21,"mat-hint",5),i.Tc(22,"Type of Ownership"),i.Wb(),i.Xb(23,"mat-card",6),i.Xb(24,"mat-select",11),i.Xb(25,"mat-option",8),i.Tc(26,"select"),i.Wb(),i.Rc(27,ms,2,2,"mat-option",9),i.Wb(),i.Wb(),i.Rc(28,ps,2,0,"mat-error",12),i.Wb(),i.Xb(29,"div",13),i.Rc(30,vs,23,5,"div",14),i.Xb(31,"div",15),i.Xb(32,"div",16),i.Sb(33,"div",17),i.Xb(34,"div",18),i.Xb(35,"button",19),i.fc("click",function(){return e.addDocument()}),i.Xb(36,"mat-icon"),i.Tc(37,"add"),i.Wb(),i.Tc(38," ADD DOCUMENT "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",20),i.Xb(40,"button",21),i.fc("click",function(){return e.onSubmit(e.otherInfoUpdateForm.value)}),i.Tc(41,"Save"),i.Wb(),i.Tc(42," \xa0\xa0\xa0 "),i.Xb(43,"button",22),i.fc("click",function(){return e.close()}),i.Tc(44," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("formGroup",e.otherInfoUpdateForm),i.Eb(13),i.rc("ngForOf",e.organizationTypeList),i.Eb(8),i.rc("ngForOf",e.typeOfOwnershipList),i.Eb(1),i.rc("ngIf",e.otherInfoUpdateForm.get("typeOfOwnership").touched&&!e.otherInfoUpdateForm.get("typeOfOwnership").valid),i.Eb(2),i.rc("ngForOf",e.otherInfoUpdateForm.get("corporateDocs").controls),i.Eb(10),i.rc("disabled",e.otherInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,p.y,O.n,o.m,o.n,p.e,g.f,C.b,W.b,p.k,p.c,je.i],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}legend[_ngcontent-%COMP%]{width:auto;color:grey;font-size:20px;padding-right:20px;font-family:Montserrat,Courier,monospace}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();function Xs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Enter Valid Address "),i.Wb())}function ys(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Enter Valid Address "),i.Wb())}function Ts(t,e){if(1&t&&(i.Xb(0,"mat-option",30),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Is(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country is Required! "),i.Wb())}function xs(t,e){if(1&t&&(i.Xb(0,"mat-option",30),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName," ")}}function Cs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," State is Required! "),i.Wb())}function Es(t,e){if(1&t&&(i.Xb(0,"mat-option",30),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Vc(" ",t.value1," ")}}function Os(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," City is Required! "),i.Wb())}function Ds(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter valid Zip code"),i.Wb(),i.Wb())}function As(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter valid ZipCode!"),i.Wb(),i.Wb())}function Rs(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",20),i.Xb(1,"h3",7),i.Tc(2,"Company Address"),i.Wb(),i.Sb(3,"hr"),i.Xb(4,"div",21),i.Xb(5,"div",8),i.Xb(6,"mat-hint",9),i.Tc(7,"Address Line 1*"),i.Wb(),i.Xb(8,"mat-card",10),i.Sb(9,"input",22),i.Wb(),i.Rc(10,Xs,2,0,"mat-error",12),i.Wb(),i.Xb(11,"div",8),i.Xb(12,"mat-hint",9),i.Tc(13,"Address Line 2*"),i.Wb(),i.Xb(14,"mat-card",10),i.Sb(15,"input",23),i.Wb(),i.Rc(16,ys,2,0,"mat-error",12),i.Wb(),i.Xb(17,"div",8),i.Xb(18,"mat-hint",9),i.Tc(19,"Country*"),i.Wb(),i.Xb(20,"mat-card",10),i.Xb(21,"mat-select",24),i.fc("selectionChange",function(a){i.Hc(t);const o=e.index;return i.jc().getStateName(a.value,o)}),i.Xb(22,"mat-option",25),i.Tc(23,"select"),i.Wb(),i.Rc(24,Ts,2,2,"mat-option",26),i.Wb(),i.Wb(),i.Rc(25,Is,2,0,"mat-error",12),i.Wb(),i.Xb(26,"div",8),i.Xb(27,"mat-hint",9),i.Tc(28,"State*"),i.Wb(),i.Xb(29,"mat-card",10),i.Xb(30,"mat-select",27),i.fc("selectionChange",function(a){i.Hc(t);const o=e.index;return i.jc().getCityName(a.value,o)}),i.Xb(31,"mat-option",25),i.Tc(32,"select---"),i.Wb(),i.Rc(33,xs,2,2,"mat-option",26),i.Wb(),i.Wb(),i.Rc(34,Cs,2,0,"mat-error",12),i.Wb(),i.Xb(35,"div",8),i.Xb(36,"mat-hint",9),i.Tc(37,"City*"),i.Wb(),i.Xb(38,"mat-card",10),i.Xb(39,"mat-select",28),i.Xb(40,"mat-option",25),i.Tc(41,"select---"),i.Wb(),i.Rc(42,Es,2,2,"mat-option",26),i.Wb(),i.Wb(),i.Rc(43,Os,2,0,"mat-error",12),i.Wb(),i.Xb(44,"div",8),i.Xb(45,"mat-hint",9),i.Tc(46,"Zip code*"),i.Wb(),i.Xb(47,"mat-card",10),i.Xb(48,"input",29),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("keyup",function(a){i.Hc(t);const o=e.index;return i.jc().isAllSameDigit(a,o)}),i.Wb(),i.Wb(),i.Rc(49,Ds,3,0,"mat-error",12),i.Rc(50,As,3,0,"mat-error",12),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=i.jc();i.rc("formGroupName",a),i.Eb(10),i.rc("ngIf",t.get("address1").touched&&!t.get("address1").valid||t.get("address1").touched&&t.get("address1").hasError("pattern")),i.Eb(6),i.rc("ngIf",t.get("address2").touched&&!t.get("address2").valid||t.get("address2").touched&&t.get("address2").hasError("pattern")),i.Eb(8),i.rc("ngForOf",o.arrayCountry),i.Eb(1),i.rc("ngIf",t.get("country").touched&&!t.get("country").valid),i.Eb(8),i.rc("ngForOf",o.arrayState),i.Eb(1),i.rc("ngIf",t.get("state").touched&&!t.get("state").valid),i.Eb(8),i.rc("ngForOf",o.arrayCity),i.Eb(1),i.rc("ngIf",t.get("city").touched&&!t.get("city").valid),i.Eb(6),i.rc("ngIf",t.get("zipCode").touched&&!t.get("zipCode").valid&&!t.controls.zipCode.hasError("minLength")),i.Eb(1),i.rc("ngIf",o.isAllSameDigitVal&&a==o.zipIndex)}}function Ss(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Primary Email is Required! "),i.Wb())}let Ns=(()=>{class t{constructor(t,e,a,o,n,i,r){this.data=t,this.dialogRef=e,this.formBuilder=a,this.corporateService=o,this.ls=n,this.snack=i,this.apiService=r,this.arrayState=[],this.arrayCountry=[],this.arrayCity=[],this.isAllSameDigitVal=!1,this.corporateAddress=new p.d([])}ngOnInit(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getCountryName("country"),this.data?(this.buildContactForm(this.data[0]),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress(this.data[0])),this.getStateName(this.corporateAddress.get("country").value),this.getStateName(this.corporateAddress.get("state").value)):(this.buildContactForm(),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress()))}buildContactForm(t){this.updateContactInfoForm=this.formBuilder.group({corporateId:[this.corporateId],primaryEmail:[t?t.primaryEmail:"",[p.z.required]],secondaryEmail:[t?t.secondaryEmail:""],mobileNumber:[t?t.mobileNumber:"",[p.z.minLength(10),p.z.maxLength(10)]],landLine:[t?t.landlineNumber:"",[p.z.maxLength,p.z.minLength]],isMailingAddressSame:["YES"],corporateAddress:this.formBuilder.array([])})}createUserAddress(t){return this.formBuilder.group({addressType:["Communication",[p.z.required]],address1:[t?t.address1:[""],[p.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[p.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}isAllSameDigit(t,e){this.zipIndex=e;let a=0,o=t.target.value;if(""!=o){for(var n=0;n<o.length;n++)0==o[n]&&a++;this.isAllSameDigitVal=a==o.length}else this.isAllSameDigitVal=!1}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.arrayState=[],this.arrayCity=[],this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getCityName(t){this.apiService.getDropDownValues1("city",t).subscribe(t=>{this.arrayCity=t})}onSubmit(t){"NO"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company",t.corporateAddress[1].addressType="Mailing"),"YES"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company"),this.corporateService.saveOrUpdateCorporateAccountInfo(t).subscribe(t=>{null!=t&&(this.corporateService.sendCorporateAccountId(t.corporateId),this.snack.open("Contact Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.updateContactInfoForm.value}))})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(gr.a),i.Rb(l.a),i.Rb(f.a),i.Rb(r.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-corporate-contact-info"]],decls:45,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title","",2,"font-size","18px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["formArrayName","corporateAddress"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],[1,"heading",2,"font-weight","600"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","forPrimaryEmail","formControlName","primaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],[4,"ngIf"],["matInput","","id","forSecondaryEmail","formControlName","secondaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],["FxLayout","row wrap",1,"full-width"],["matInput","","placeholder","Mobile Number","formControlName","mobileNumber","maxLength","10","minlength","10","onlyNumber","","required","",3,"keypress"],["matInput","","placeholder","Landline Number","formControlName","landLine","maxLength","10","minLength","10","onlyNumber","",3,"keypress"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxLayout","row wrap"],["matInput","","placeholder","Address Line 1","formControlName","address1","id","forAddress1"],["matInput","","placeholder","Address Line 2","formControlName","address2","id","forAddress2"],["id","forcountry","formControlName","country",3,"selectionChange"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","forstate","formControlName","state",3,"selectionChange"],["id","forCity","formControlName","city"],["minlength","6","placeholder","Zip Code","maxlength","10","matInput","","id","forZipCode","onlyNumber","","formControlName","zipCode",3,"keypress","keyup"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h2",2),i.Tc(4,"Contact Information"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"form",3),i.Xb(7,"div",4),i.Xb(8,"div",5),i.Rc(9,Rs,51,11,"div",6),i.Wb(),i.Xb(10,"h3",7),i.Tc(11,"Email"),i.Wb(),i.Sb(12,"hr"),i.Xb(13,"div",4),i.Xb(14,"div",8),i.Xb(15,"mat-hint",9),i.Tc(16,"Primary Email*"),i.Wb(),i.Xb(17,"mat-card",10),i.Sb(18,"input",11),i.Wb(),i.Rc(19,Ss,2,0,"mat-error",12),i.Wb(),i.Xb(20,"div",8),i.Xb(21,"mat-hint",9),i.Tc(22,"Secondary Email"),i.Wb(),i.Xb(23,"mat-card",10),i.Sb(24,"input",13),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"h3",7),i.Tc(26,"Contact Number"),i.Wb(),i.Sb(27,"hr"),i.Xb(28,"div",14),i.Xb(29,"div",8),i.Xb(30,"mat-hint",9),i.Tc(31,"Mobile Number*"),i.Wb(),i.Xb(32,"mat-card",10),i.Xb(33,"input",15),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"div",8),i.Xb(35,"mat-hint",9),i.Tc(36,"Landline Number"),i.Wb(),i.Xb(37,"mat-card",10),i.Xb(38,"input",16),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",17),i.Xb(40,"button",18),i.fc("click",function(){return e.onSubmit(e.updateContactInfoForm.value)}),i.Tc(41,"Save"),i.Wb(),i.Tc(42," \xa0\xa0\xa0 "),i.Xb(43,"button",19),i.fc("click",function(){return e.close()}),i.Tc(44," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("formGroup",e.updateContactInfoForm),i.Eb(3),i.rc("ngForOf",e.updateContactInfoForm.get("corporateAddress").controls),i.Eb(10),i.rc("ngIf",e.updateContactInfoForm.get("primaryEmail").touched&&!e.updateContactInfoForm.get("primaryEmail").valid),i.Eb(21),i.rc("disabled",e.updateContactInfoForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,p.e,o.m,g.b,W.f,X.a,y.b,p.c,p.r,p.i,p.w,o.n,p.n,q.a,p.y,g.f,C.b,p.k,T.a,O.n,p.m,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();const Ps=["ncForm"];function ks(t,e){1&t&&i.Sb(0,"mat-spinner")}function Fs(t,e){if(1&t&&(i.Xb(0,"div",15),i.Xb(1,"h1",16),i.Tc(2),i.kc(3,"slice"),i.kc(4,"uppercase"),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.Oc("background",t.customerColorCode),i.Eb(2),i.Vc("",i.nc(3,3,i.lc(4,7,null==t.dataResponse||null==t.dataResponse.dataResp?null:t.dataResponse.dataResp.companyName),0,1)," ")}}function Ls(t,e){if(1&t&&i.Sb(0,"img",18),2&t){const t=i.jc(3);i.rc("src",t.imageUrl,i.Jc)}}function _s(t,e){if(1&t&&(i.Xb(0,"div",15),i.Rc(1,Ls,1,1,"img",17),i.Wb()),2&t){const t=i.jc(2);i.Eb(1),i.rc("ngIf",null!=t.image)}}function ws(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"div",20),i.Xb(2,"div",21),i.Tc(3,"1"),i.Wb(),i.Xb(4,"div",22),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",23),i.Xb(7,"div",24),i.Xb(8,"div",25),i.Xb(9,"div",26),i.Xb(10,"h2",27),i.Tc(11,"Basic Information"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",28),i.fc("click",function(){return i.Hc(t),i.jc(2).editBasicInfo()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",29),i.Wb(),i.Xb(16,"div",30),i.Xb(17,"div",31),i.Xb(18,"div",32),i.Xb(19,"div",33),i.Xb(20,"div",34),i.Xb(21,"div",35),i.Xb(22,"div",36),i.Xb(23,"div",37),i.Xb(24,"mat-hint",38),i.Tc(25," Corporate ID "),i.Wb(),i.Xb(26,"mat-card",39),i.Xb(27,"div"),i.Tc(28),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",37),i.Xb(30,"mat-hint",38),i.Tc(31," Company Name "),i.Wb(),i.Xb(32,"mat-card",39),i.Xb(33,"div"),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",37),i.Xb(36,"mat-hint",38),i.Tc(37," Category "),i.Wb(),i.Xb(38,"mat-card",39),i.Xb(39,"div"),i.Tc(40),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(41,"div",36),i.Xb(42,"div",37),i.Xb(43,"mat-hint",38),i.Tc(44," Country "),i.Wb(),i.Xb(45,"mat-card",39),i.Xb(46,"div"),i.Tc(47),i.Wb(),i.Wb(),i.Wb(),i.Xb(48,"div",37),i.Xb(49,"mat-hint",38),i.Tc(50," Corporate Status "),i.Wb(),i.Xb(51,"mat-card",39),i.Xb(52,"div"),i.Tc(53),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(15),i.Uc(t.dataResponse.dataResp.corporateId),i.Eb(6),i.Uc(t.dataResponse.dataResp.companyName),i.Eb(6),i.Uc(t.dataResponse.dataResp.category),i.Eb(7),i.Uc(t.dataResponse.dataResp.country),i.Eb(6),i.Uc(t.dataResponse.dataResp.corporateStatus)}}function Us(t,e){if(1&t&&(i.Xb(0,"div",51),i.Xb(1,"mat-hint",38),i.Tc(2," No Of Directors "),i.Wb(),i.Xb(3,"mat-card",39),i.Xb(4,"div"),i.Tc(5),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(4);i.Eb(5),i.Uc(t.dataResponse.dataResp.noOfDirectors)}}function Ms(t,e){if(1&t&&(i.Xb(0,"div",51),i.Xb(1,"mat-hint",38),i.Tc(2," Middle Name "),i.Wb(),i.Xb(3,"mat-card",39),i.Xb(4,"div"),i.Tc(5),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(5),i.Uc(t.middleName)}}function Gs(t,e){if(1&t&&(i.Xb(0,"div",30),i.Xb(1,"div",31),i.Xb(2,"div",32),i.Xb(3,"div",33),i.Xb(4,"div",34),i.Xb(5,"div",35),i.Xb(6,"div",36),i.Rc(7,Us,6,1,"div",44),i.Xb(8,"div",37),i.Xb(9,"mat-hint",38),i.Tc(10," CIF Number "),i.Wb(),i.Xb(11,"mat-card",39),i.Xb(12,"div"),i.Tc(13),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"div",37),i.Xb(15,"mat-hint",38),i.Tc(16," Customer ID "),i.Wb(),i.Xb(17,"mat-card",39),i.Xb(18,"div"),i.Tc(19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",36),i.Xb(21,"div",37),i.Xb(22,"mat-hint",38),i.Tc(23," Prefix* "),i.Wb(),i.Xb(24,"mat-card",39),i.Xb(25,"div"),i.Tc(26),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",37),i.Xb(28,"mat-hint",38),i.Tc(29," First Name* "),i.Wb(),i.Xb(30,"mat-card",39),i.Xb(31,"div"),i.Tc(32),i.Wb(),i.Wb(),i.Wb(),i.Rc(33,Ms,6,1,"div",44),i.Xb(34,"div",37),i.Xb(35,"mat-hint",38),i.Tc(36," Last Name* "),i.Wb(),i.Xb(37,"mat-card",39),i.Xb(38,"div"),i.Tc(39),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(40,"div",36),i.Xb(41,"div",37),i.Xb(42,"mat-hint",38),i.Tc(43," Gender* "),i.Wb(),i.Xb(44,"mat-card",39),i.Xb(45,"div"),i.Tc(46),i.Wb(),i.Wb(),i.Wb(),i.Xb(47,"div",37),i.Xb(48,"mat-hint",38),i.Tc(49," Date of Birth* "),i.Wb(),i.Xb(50,"mat-card",39),i.Xb(51,"div"),i.Tc(52),i.Wb(),i.Wb(),i.Wb(),i.Xb(53,"div",37),i.Xb(54,"mat-hint",38),i.Tc(55," Place of Birth* "),i.Wb(),i.Xb(56,"mat-card",39),i.Xb(57,"div"),i.Tc(58),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(59,"div",30),i.Xb(60,"div",37),i.Xb(61,"mat-hint",38),i.Tc(62," Residence type*"),i.Wb(),i.Xb(63,"mat-card",39),i.Xb(64,"div"),i.Tc(65),i.Wb(),i.Wb(),i.Wb(),i.Xb(66,"div",37),i.Xb(67,"mat-hint",38),i.Tc(68," Citizenship*"),i.Wb(),i.Xb(69,"mat-card",39),i.Xb(70,"div"),i.Tc(71),i.Wb(),i.Wb(),i.Wb(),i.Xb(72,"div",37),i.Xb(73,"mat-hint",38),i.Tc(74," Country of Residence*"),i.Wb(),i.Xb(75,"mat-card",39),i.Xb(76,"div"),i.Tc(77),i.Wb(),i.Wb(),i.Wb(),i.Xb(78,"div",37),i.Xb(79,"mat-hint",38),i.Tc(80," ID Type*"),i.Wb(),i.Xb(81,"mat-card",39),i.Xb(82,"div"),i.Tc(83),i.Wb(),i.Wb(),i.Wb(),i.Xb(84,"div",37),i.Xb(85,"mat-hint",38),i.Tc(86," ID Number*"),i.Wb(),i.Xb(87,"mat-card",39),i.Xb(88,"div"),i.Tc(89),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(90,"div",34),i.Xb(91,"div",45),i.Xb(92,"h1",46),i.Tc(93,"Communication Address"),i.Wb(),i.Wb(),i.Wb(),i.Sb(94,"hr",47),i.Xb(95,"div",30),i.Xb(96,"div",48),i.Xb(97,"mat-hint",38),i.Tc(98," Address Line 1* "),i.Wb(),i.Xb(99,"mat-card",39),i.Xb(100,"div"),i.Tc(101),i.Wb(),i.Wb(),i.Wb(),i.Xb(102,"div",48),i.Xb(103,"mat-hint",38),i.Tc(104," Address Line 2* "),i.Wb(),i.Xb(105,"mat-card",39),i.Xb(106,"div"),i.Tc(107),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(108,"div",30),i.Xb(109,"div",49),i.Xb(110,"mat-hint",38),i.Tc(111," Country* "),i.Wb(),i.Xb(112,"mat-card",39),i.Xb(113,"div"),i.Tc(114),i.Wb(),i.Wb(),i.Wb(),i.Xb(115,"div",49),i.Xb(116,"mat-hint",38),i.Tc(117," State* "),i.Wb(),i.Xb(118,"mat-card",39),i.Xb(119,"div"),i.Tc(120),i.Wb(),i.Wb(),i.Wb(),i.Xb(121,"div",49),i.Xb(122,"mat-hint",38),i.Tc(123," City* "),i.Wb(),i.Xb(124,"mat-card",39),i.Xb(125,"div"),i.Tc(126),i.Wb(),i.Wb(),i.Wb(),i.Xb(127,"div",49),i.Xb(128,"mat-hint",38),i.Tc(129," Zipcode* "),i.Wb(),i.Xb(130,"mat-card",39),i.Xb(131,"div"),i.Tc(132),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(133,"div",34),i.Xb(134,"div",45),i.Xb(135,"h1",46),i.Tc(136,"Contact Information"),i.Wb(),i.Wb(),i.Wb(),i.Sb(137,"hr",47),i.Xb(138,"div",30),i.Xb(139,"div",37),i.Xb(140,"mat-hint",38),i.Tc(141," Mobile Number* "),i.Wb(),i.Xb(142,"mat-card",39),i.Xb(143,"div"),i.Tc(144),i.Wb(),i.Wb(),i.Wb(),i.Xb(145,"div",37),i.Xb(146,"mat-hint",38),i.Tc(147," Landline Number* "),i.Wb(),i.Xb(148,"mat-card",39),i.Xb(149,"div"),i.Tc(150),i.Wb(),i.Wb(),i.Wb(),i.Xb(151,"div",37),i.Xb(152,"mat-hint",38),i.Tc(153," Email* "),i.Wb(),i.Xb(154,"mat-card",39),i.Xb(155,"div"),i.Tc(156),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(157,"div",30),i.Xb(158,"div",50),i.Xb(159,"h1",46),i.Tc(160,"Additional Tax ID Details"),i.Wb(),i.Wb(),i.Wb(),i.Sb(161,"hr",47),i.Xb(162,"div",30),i.Xb(163,"div",48),i.Xb(164,"mat-hint",38),i.Tc(165," Tax ID* "),i.Wb(),i.Xb(166,"mat-card",39),i.Xb(167,"div"),i.Tc(168),i.Wb(),i.Wb(),i.Wb(),i.Xb(169,"div",48),i.Xb(170,"mat-hint",38),i.Tc(171," Country of Issue* "),i.Wb(),i.Xb(172,"mat-card",39),i.Xb(173,"div"),i.Tc(174),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=i.jc(3);i.Eb(7),i.rc("ngIf",a.dataResponse.dataResp.middleName),i.Eb(6),i.Uc(t.cifNumber),i.Eb(6),i.Uc(t.custStatus),i.Eb(7),i.Uc(t.prefix),i.Eb(6),i.Uc(t.firstName),i.Eb(1),i.rc("ngIf",a.dataResponse.dataResp.middleName),i.Eb(6),i.Uc(t.lastName),i.Eb(7),i.Uc(t.gender),i.Eb(6),i.Uc(t.dateOfBirth),i.Eb(6),i.Uc(t.placeOfBirth),i.Eb(7),i.Uc(t.residenceStatus),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].citizenship),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].countryOfResidence),i.Eb(6),i.Uc(null==a.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:a.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idType),i.Eb(6),i.Uc(null==a.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:a.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idNumber),i.Eb(12),i.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].address1),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].address2),i.Eb(7),i.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].country),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].state),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].city),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].zipCode),i.Eb(12),i.Uc(a.dataResponse.dataResp.customerInfo[0].phoneNumber),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].landlineNumber),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].primaryEmailAdress),i.Eb(12),i.Uc(a.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].taxId),i.Eb(6),i.Uc(a.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].countryOfIssue)}}function Vs(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"div",20),i.Xb(2,"div",21),i.Tc(3,"2"),i.Wb(),i.Xb(4,"div",22),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",40),i.Xb(7,"div",41),i.Xb(8,"div",42),i.Xb(9,"div",26),i.Xb(10,"h2",27),i.Tc(11,"Director Details"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",28),i.fc("click",function(){return i.Hc(t),i.jc(2).editDirectorDetails()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",29),i.Wb(),i.Rc(16,Gs,175,26,"div",43),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(3),i.rc("ngForOf",t.directorsInfo_array)}}function Bs(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"div",31),i.Xb(3,"div",54),i.Xb(4,"div",34),i.Xb(5,"div",45),i.Xb(6,"h1",46),i.Tc(7,"Company Address"),i.Wb(),i.Wb(),i.Wb(),i.Sb(8,"hr",47),i.Xb(9,"div",30),i.Xb(10,"div",48),i.Xb(11,"mat-hint",38),i.Tc(12," Address Line 1* "),i.Wb(),i.Xb(13,"mat-card",39),i.Xb(14,"div"),i.Tc(15),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div",48),i.Xb(17,"mat-hint",38),i.Tc(18," Address Line 2* "),i.Wb(),i.Xb(19,"mat-card",39),i.Xb(20,"div"),i.Tc(21),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div",30),i.Xb(23,"div",49),i.Xb(24,"mat-hint",38),i.Tc(25," Country* "),i.Wb(),i.Xb(26,"mat-card",39),i.Xb(27,"div"),i.Tc(28),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",49),i.Xb(30,"mat-hint",38),i.Tc(31," State* "),i.Wb(),i.Xb(32,"mat-card",39),i.Xb(33,"div"),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",49),i.Xb(36,"mat-hint",38),i.Tc(37," City* "),i.Wb(),i.Xb(38,"mat-card",39),i.Xb(39,"div"),i.Tc(40),i.Wb(),i.Wb(),i.Wb(),i.Xb(41,"div",49),i.Xb(42,"mat-hint",38),i.Tc(43," Zipcode* "),i.Wb(),i.Xb(44,"mat-card",39),i.Xb(45,"div"),i.Tc(46),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(47,"div",34),i.Xb(48,"div",45),i.Xb(49,"h1",46),i.Tc(50,"Email"),i.Wb(),i.Wb(),i.Wb(),i.Sb(51,"hr",47),i.Xb(52,"div",30),i.Xb(53,"div",49),i.Xb(54,"mat-hint",38),i.Tc(55," Primary Email* "),i.Wb(),i.Xb(56,"mat-card",39),i.Xb(57,"div"),i.Tc(58),i.Wb(),i.Wb(),i.Wb(),i.Xb(59,"div",49),i.Xb(60,"mat-hint",38),i.Tc(61," Secondary Email "),i.Wb(),i.Xb(62,"mat-card",39),i.Xb(63,"div"),i.Tc(64),i.Wb(),i.Wb(),i.Wb(),i.Xb(65,"div",34),i.Xb(66,"div",45),i.Xb(67,"h1",46),i.Tc(68,"Contact Number"),i.Wb(),i.Wb(),i.Wb(),i.Sb(69,"hr",47),i.Xb(70,"div",49),i.Xb(71,"mat-hint",38),i.Tc(72," Mobile Number* "),i.Wb(),i.Xb(73,"mat-card",39),i.Xb(74,"div"),i.Tc(75),i.Wb(),i.Wb(),i.Wb(),i.Xb(76,"div",49),i.Xb(77,"mat-hint",38),i.Tc(78," Landline Number* "),i.Wb(),i.Xb(79,"mat-card",39),i.Xb(80,"div"),i.Tc(81),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(3);i.Eb(15),i.Uc(t.dataResponse.dataResp.corporateAddress[0].address1),i.Eb(6),i.Uc(t.dataResponse.dataResp.corporateAddress[0].address2),i.Eb(7),i.Uc(t.dataResponse.dataResp.corporateAddress[0].country),i.Eb(6),i.Uc(t.dataResponse.dataResp.corporateAddress[0].state),i.Eb(6),i.Uc(t.dataResponse.dataResp.corporateAddress[0].city),i.Eb(6),i.Uc(t.dataResponse.dataResp.corporateAddress[0].zipCode),i.Eb(12),i.Uc(t.dataResponse.dataResp.primaryEmail),i.Eb(6),i.Uc(t.dataResponse.dataResp.secondaryEmail),i.Eb(11),i.Uc(t.dataResponse.dataResp.mobileNumber),i.Eb(6),i.Uc(t.dataResponse.dataResp.customerInfo[0].landlineNumber)}}function js(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"div",20),i.Xb(2,"div",21),i.Tc(3,"3"),i.Wb(),i.Xb(4,"div",22),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",52),i.Xb(7,"div",24),i.Xb(8,"div",41),i.Xb(9,"div",42),i.Xb(10,"div",26),i.Xb(11,"h2",27),i.Tc(12,"Contact Information"),i.Wb(),i.Xb(13,"span"),i.Xb(14,"mat-icon",28),i.fc("click",function(){return i.Hc(t),i.jc(2).editContactInfo()}),i.Tc(15,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(16,"mat-divider",29),i.Wb(),i.Rc(17,Bs,82,10,"div",53),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(14),i.rc("hidden",t.editScreen),i.Eb(3),i.rc("ngForOf",t.userAddress_array)}}function zs(t,e){1&t&&(i.Xb(0,"small",58),i.Tc(1,"No Data Found"),i.Wb())}function qs(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",36),i.Xb(2,"div",37),i.Xb(3,"mat-hint",38),i.Tc(4," Incorporation Number "),i.Wb(),i.Xb(5,"mat-card",39),i.Xb(6,"div"),i.Tc(7),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",37),i.Xb(9,"mat-hint",38),i.Tc(10," Date Of Issue "),i.Wb(),i.Xb(11,"mat-card",39),i.Xb(12,"div"),i.Tc(13),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"div",37),i.Xb(15,"mat-hint",38),i.Tc(16," Date Of Expiry "),i.Wb(),i.Xb(17,"mat-card",39),i.Xb(18,"div"),i.Tc(19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc(3);i.Eb(7),i.Uc(t.dataResponse.dataResp.incorporationNumber),i.Eb(6),i.Uc(t.dataResponse.dataResp.dateOfIssue),i.Eb(6),i.Uc(t.dataResponse.dataResp.dateOfExpiry)}}function Ks(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"div",20),i.Xb(2,"div",21),i.Tc(3,"4"),i.Wb(),i.Xb(4,"div",22),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",55),i.Xb(7,"div",41),i.Xb(8,"div",42),i.Xb(9,"div",26),i.Xb(10,"h2",27),i.Tc(11,"Proof Of Identity"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",28),i.fc("click",function(){return i.Hc(t),i.jc(2).editProofOfIdentity()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",29),i.Wb(),i.Xb(16,"div"),i.Xb(17,"div",56),i.Xb(18,"div",54),i.Rc(19,zs,2,0,"small",57),i.Rc(20,qs,20,3,"div",1),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(6),i.rc("ngIf",null==t.custDoc_array),i.Eb(1),i.rc("ngIf",null!=t.custDoc_array&&(null==t.custDoc_array?null:t.custDoc_array.length)>0)}}function Js(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",37),i.Xb(2,"mat-hint",38),i.Tc(3," Document Type* "),i.Wb(),i.Xb(4,"mat-card",39),i.Xb(5,"div"),i.Tc(6),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"div",37),i.Xb(8,"mat-hint",61),i.Tc(9," \xa0\xa0 Document Name* "),i.Wb(),i.Xb(10,"div",62),i.Sb(11,"img",63),i.Xb(12,"div"),i.Tc(13),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"div",37),i.Xb(15,"div",64),i.Xb(16,"a",65),i.Tc(17,"Download "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(6),i.Uc(t.documentName),i.Eb(5),i.rc("src",t.fileUrl,i.Jc),i.Eb(2),i.Uc(t.fileName),i.Eb(3),i.sc("href",t.fileUrl,i.Jc)}}function $s(t,e){if(1&t&&(i.Xb(0,"div",33),i.Rc(1,Js,18,4,"div",1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.rc("ngIf","Profile"!=t.documentName)}}function Hs(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"div",20),i.Xb(2,"div",21),i.Tc(3,"5"),i.Wb(),i.Xb(4,"div",22),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"mat-card",59),i.Xb(7,"div",41),i.Xb(8,"div",42),i.Xb(9,"div",26),i.Xb(10,"h2",27),i.Tc(11,"Other Information"),i.Wb(),i.Xb(12,"span"),i.Xb(13,"mat-icon",28),i.fc("click",function(){return i.Hc(t),i.jc(2).editOtherInfo()}),i.Tc(14,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(15,"mat-divider",29),i.Wb(),i.Xb(16,"div",30),i.Xb(17,"div",31),i.Xb(18,"div",32),i.Xb(19,"div",33),i.Xb(20,"div",34),i.Xb(21,"div",45),i.Xb(22,"h1",46),i.Tc(23,"Organization Information"),i.Wb(),i.Wb(),i.Sb(24,"hr",47),i.Xb(25,"div",35),i.Xb(26,"div",36),i.Xb(27,"div",37),i.Xb(28,"mat-hint",38),i.Tc(29," Organization Type "),i.Wb(),i.Xb(30,"mat-card",39),i.Xb(31,"div"),i.Tc(32),i.Wb(),i.Wb(),i.Wb(),i.Xb(33,"div",37),i.Xb(34,"mat-hint",38),i.Tc(35," Type of Ownership "),i.Wb(),i.Xb(36,"mat-card",39),i.Xb(37,"div"),i.Tc(38),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",34),i.Rc(40,$s,2,1,"div",60),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(13),i.rc("hidden",t.editScreen),i.Eb(19),i.Uc(t.dataResponse.dataResp.organizationType),i.Eb(6),i.Uc(t.dataResponse.dataResp.typeOfOwnership),i.Eb(2),i.rc("ngForOf",t.custDoc_array)}}const Ys=function(t,e){return{disabledbtn:t,continueBtn:e}},Zs=function(t,e){return{disabledbtn:t,rejectButton:e}},Qs=function(t,e){return{disabledbtn:t,approveButton:e}};function tl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",66),i.Xb(1,"div",67),i.fc("click",function(){return i.Hc(t),i.jc(2).continue()}),i.Xb(2,"label",68),i.Tc(3,"Cotinue"),i.Wb(),i.Wb(),i.Tc(4," \xa0\xa0 "),i.Xb(5,"div",69),i.fc("click",function(){i.Hc(t);const e=i.jc(2);return e.updateApplicationStatus(e.dataResponse,"REJECTED")}),i.Xb(6,"mat-icon",70),i.Tc(7," highlight_off "),i.Wb(),i.Tc(8,"\xa0\xa0\xa0 "),i.Xb(9,"label",71),i.Tc(10,"Reject"),i.Wb(),i.Wb(),i.Tc(11," \xa0\xa0 "),i.Xb(12,"div",72),i.fc("click",function(){i.Hc(t);const e=i.jc(2);return e.updateApplicationStatus(e.dataResponse,"APPROVED")}),i.Xb(13,"mat-icon",73),i.Tc(14,"check_circle"),i.Wb(),i.Tc(15,"\xa0\xa0\xa0 "),i.Xb(16,"label",74),i.Tc(17,"Approve"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(1),i.rc("hidden",t.continueStatus)("ngClass",i.yc(6,Ys,t.continueStatus,!t.continueStatus)),i.Eb(4),i.rc("hidden",t.rejectedStatus)("ngClass",i.yc(9,Zs,t.rejectedStatus,!t.rejectedStatus)),i.Eb(7),i.rc("hidden",t.approvedStatus)("ngClass",i.yc(12,Qs,t.approvedStatus,!t.approvedStatus))}}function el(t,e){if(1&t&&(i.Xb(0,"div",7),i.Xb(1,"div",8),i.Xb(2,"div",9),i.Rc(3,Fs,5,9,"div",10),i.Rc(4,_s,2,1,"div",11),i.Wb(),i.Wb(),i.Sb(5,"br"),i.Sb(6,"br"),i.Sb(7,"br"),i.Sb(8,"br"),i.Xb(9,"div",12),i.Xb(10,"h2"),i.Tc(11),i.Wb(),i.Wb(),i.Rc(12,ws,54,6,"div",13),i.Rc(13,Vs,17,2,"div",13),i.Rc(14,js,18,2,"div",13),i.Sb(15,"br"),i.Rc(16,Ks,21,3,"div",13),i.Rc(17,Hs,41,4,"div",13),i.Rc(18,tl,18,15,"div",14),i.Sb(19,"br"),i.Wb()),2&t){const t=i.jc();i.Eb(3),i.rc("ngIf","not_available"==t.imageUrl),i.Eb(1),i.rc("ngIf","not_available"!=t.imageUrl),i.Eb(7),i.Vc("",null==t.dataResponse||null==t.dataResponse.dataResp?null:t.dataResponse.dataResp.companyName,"\xa0 "),i.Eb(1),i.rc("ngIf",!t.loading),i.Eb(1),i.rc("ngIf",!t.loading),i.Eb(1),i.rc("ngIf",!t.loading),i.Eb(2),i.rc("ngIf",!t.loading),i.Eb(1),i.rc("ngIf",!t.loading),i.Eb(1),i.rc("ngIf",!t.loading)}}let al=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b){this.tasSumService=t,this.cdr=e,this.router=a,this.ls=o,this.apiService=n,this.dialogRef=i,this.dataResponse=r,this.sanitizer=c,this.snack=s,this.dialog=l,this.jwtService=b,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.isOnGoing=""}ngOnInit(){setTimeout(()=>{var t,e,a;this.loading=!0,this.corporateId=this.dataResponse.dataResp.corporateId,this.ls.setItem("corporateId",this.corporateId),this.custDoc_array=this.dataResponse.dataResp.corporateDocs,this.getCustomerDocumentsDetails1(this.corporateId),this.phoneNum=this.dataResponse.dataResp.category,this.emailID=this.dataResponse.dataResp.companyName,this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.apiService.getCoropratedetails(this.corporateId).subscribe(t=>{this.imageUrl=t.profileImage}),this.status=this.dataResponse.dataResp.corporateStatus,this.errorStatus=this.dataResponse.dataResp.custStatus,this.userAddress_array=null===(a=null===(e=null===(t=this.dataResponse)||void 0===t?void 0:t.dataResp)||void 0===e?void 0:e.customerInfo[0])||void 0===a?void 0:a.userAddress,this.custIdProofs_array=this.dataResponse.dataResp.custIdProofs,this.directorsInfo_array=this.dataResponse.dataResp.customerInfo,console.log("status::",this.status),"REJECTED"===this.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1):"APPROVED"===this.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0):"UNDER_PROCESS"===this.status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.isOnGoing=this.status,this.editScreen=!1):"INITIATED"===this.status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1),this.getProfileImage(this.dataResponse.dataResp.corporateId)},5e3)}goToCorporate(){console.log("Navigating to edit screen"),this.router.navigateByUrl("/onboardingCorporate/corporate"),console.log(this.dataResponse),this.ls.setItem("EDIT-CORPORATEID",this.dataResponse.dataResp.corporateId),this.dialogRef.close({message:"Confirm"})}getCustomerDocumentsDetails(t){this.document_type="3",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName)})}getCustomerDocumentsDetails1(t){this.document_type="2",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName)})}updateApplicationStatus(t,e,a){t.dataResp.corporateStatus=e,this.statusUpdate=e,this.apiService.updateCorporateSatatus(t.dataResp.corporateId,e).subscribe(t=>{null!=t&&(this.cdr.markForCheck(),this.cdr.detectChanges(),1!=a&&this.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),this.snack.open(e+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}getProfileImage(t){this.apiService.getCoropratedetails(t).subscribe(t=>{console.log(t),null!=t.profileImage&&(this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},t=>{})}openEditScreen(t,e){this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{console.log(t),this.status=t.status,"INITIATED"==t.status&&(this.status="INITIATED",this.updateApplicationStatus(this.dataResponse,"INITIATED",!0),Object.assign(e,t.resp))})}editBasicInfo(){this.openEditScreen(ac,this.dataResponse.dataResp)}editDirectorDetails(){this.openEditScreen(Qc,this.directorsInfo_array)}editContactInfo(){this.openEditScreen(Ns,this.userAddress_array)}editProofOfIdentity(){this.openEditScreen(ds,this.dataResponse.dataResp)}editOtherInfo(){this.openEditScreen(Ws,this.dataResponse.dataResp)}continue(){this.ls.setItem("corporateId",this.dataResponse.dataResp.corporateId),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=CORPORATE&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(m.a),i.Rb(i.h),i.Rb(je.h),i.Rb(l.a),i.Rb(r.b),i.Rb(b.g),i.Rb(b.a),i.Rb(qo.b),i.Rb(f.a),i.Rb(b.b),i.Rb(zo.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-corporate-approver"]],viewQuery:function(t,e){if(1&t&&i.ad(Ps,!0),2&t){let t;i.Cc(t=i.gc())&&(e.ncForm=t.first)}},inputs:{initiatedArr:"initiatedArr"},decls:10,vars:2,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["class","main",4,"ngIf"],[1,"main"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["class","btngrp","fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Basic Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["label","Director Details",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],[1,"margintop"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["fxFlex","40%","fxFlex.xs","50%"],["fxFlex","40%","fxFlex.xs","100%"],["label","Contact Information",2,"border-radius","0px","width","800px"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["label","Other Information",2,"border-radius","0px","width","800px"],["class","full-width",4,"ngFor","ngForOf"],[1,"hint1",2,"text-align","center"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",1,"btngrp"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(i.Xb(0,"form"),i.Xb(1,"div",0),i.Rc(2,ks,1,0,"mat-spinner",1),i.Wb(),i.Xb(3,"div",2),i.Xb(4,"div",3),i.Xb(5,"div",4),i.Xb(6,"div"),i.Xb(7,"mat-icon",5),i.fc("click",function(){return e.close(e.dataResponse)}),i.Tc(8," close"),i.Wb(),i.Wb(),i.Wb(),i.Rc(9,el,20,9,"div",6),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(2),i.rc("ngIf",e.loading),i.Eb(7),i.rc("ngIf",!e.loading))},directives:[p.A,p.s,p.t,g.d,o.n,g.e,v.a,E.b,X.c,g.b,X.a,ka.a,W.f,o.m,g.f,o.l,Ko.a],pipes:[o.v,o.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:18%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.editbtn{color:#0e7cc5;cursor:pointer}.num{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:8%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:30px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 3.4rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.margintop{margin-top:0;width:732px}.btngrp{float:right}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),t})();var ol=function(t,e,a,o){return new(a||(a=Promise))(function(n,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})};function nl(t,e){1&t&&i.Sb(0,"mat-spinner")}function il(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",18),i.fc("click",function(){return i.Hc(t),i.jc().clear()}),i.Xb(1,"div",19),i.Rc(2,nl,1,0,"mat-spinner",20),i.Wb(),i.Xb(3,"mat-icon"),i.Tc(4,"close"),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(2),i.rc("ngIf",t.loading)}}function rl(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",32),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",t.companyName)}}function cl(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"img",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("src",null==t.corporateDocs[0]?null:t.corporateDocs[0].fileUrl,i.Jc)}}function sl(t,e){if(1&t&&i.Sb(0,"img",33),2&t){const t=i.jc(2).$implicit;i.rc("src",null==t.corporateDocs[0]?null:t.corporateDocs[0].fileUrl,i.Jc)}}function ll(t,e){1&t&&i.Rc(0,sl,1,1,"ng-template",null,34,i.Sc)}function bl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToCorporateOnBoardingSummary(a,"INITATED",n.getRandomColor(o+3))}),i.Xb(1,"div",22),i.Xb(2,"mat-icon",23),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",24),i.Xb(9,"div",25),i.Rc(10,rl,2,1,"div",20),i.Rc(11,cl,2,1,"div",20),i.Rc(12,ll,2,0,void 0,20),i.Wb(),i.Xb(13,"mat-card-title",26),i.Tc(14),i.Wb(),i.Xb(15,"mat-card-subtitle"),i.Tc(16),i.Wb(),i.Wb(),i.Xb(17,"form",27),i.Xb(18,"div",28),i.Xb(19,"span"),i.Tc(20,"Category "),i.Wb(),i.Xb(21,"span"),i.Tc(22,"Organization Type"),i.Wb(),i.Wb(),i.Xb(23,"div",29),i.Xb(24,"span"),i.Tc(25),i.Wb(),i.Xb(26,"span"),i.Tc(27),i.Wb(),i.Wb(),i.Sb(28,"br"),i.Xb(29,"div",30),i.Xb(30,"span"),i.Tc(31,"Date Of Issue"),i.Wb(),i.Xb(32,"span"),i.Tc(33,"Type Of Ownership"),i.Wb(),i.Wb(),i.Xb(34,"div",31),i.Xb(35,"span"),i.Tc(36),i.kc(37,"date"),i.Wb(),i.Xb(38,"span"),i.Tc(39),i.Wb(),i.Wb(),i.Sb(40,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(6),i.Uc(i.lc(7,10,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf",null==t.corporateDocs),i.Eb(1),i.rc("ngIf",1==(null==t.corporateDocs[0]?null:t.corporateDocs[0].documentType)),i.Eb(1),i.rc("ngIf",1==(null==t.corporateDocs[0]?null:t.corporateDocs[0].documentType)),i.Eb(2),i.Vc(" ",t.companyName,"\xa0 "),i.Eb(2),i.Vc("#",t.corporateId,""),i.Eb(9),i.Uc(t.category),i.Eb(2),i.Uc(t.organizationType),i.Eb(9),i.Uc(i.lc(37,12,t.dateOfIssue)),i.Eb(3),i.Uc(t.typeOfOwnership)}}function dl(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",32),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",t.companyName)}}function ul(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"img",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("src",t.profileImage,i.Jc)}}function ml(t,e){if(1&t&&i.Sb(0,"img",36),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function pl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToCorporateOnBoardingSummary(a,"UNDER_PROCESS",n.getRandomColor(o+6))}),i.Xb(1,"div",22),i.Xb(2,"mat-icon",35),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",24),i.Xb(9,"div",25),i.Rc(10,dl,2,1,"div",20),i.Rc(11,ul,2,1,"div",20),i.Rc(12,ml,1,1,"ng-template",null,34,i.Sc),i.Wb(),i.Xb(14,"mat-card-title",26),i.Tc(15),i.Wb(),i.Xb(16,"mat-card-subtitle"),i.Tc(17),i.Wb(),i.Wb(),i.Xb(18,"form",27),i.Xb(19,"div",28),i.Xb(20,"span"),i.Tc(21,"Category "),i.Wb(),i.Xb(22,"span"),i.Tc(23,"Organization Type"),i.Wb(),i.Wb(),i.Xb(24,"div",29),i.Xb(25,"span"),i.Tc(26),i.Wb(),i.Xb(27,"span"),i.Tc(28),i.Wb(),i.Wb(),i.Sb(29,"br"),i.Xb(30,"div",30),i.Xb(31,"span"),i.Tc(32,"Date Of Issue"),i.Wb(),i.Xb(33,"span"),i.Tc(34,"Type Of Ownership"),i.Wb(),i.Wb(),i.Xb(35,"div",31),i.Xb(36,"span"),i.Tc(37),i.kc(38,"date"),i.Wb(),i.Xb(39,"span"),i.Tc(40),i.Wb(),i.Wb(),i.Sb(41,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(6),i.Uc(i.lc(7,9,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf",null==t.profileImage),i.Eb(1),i.rc("ngIf",null!=t.profileImage),i.Eb(4),i.Vc(" ",t.companyName," "),i.Eb(2),i.Vc("#",t.corporateId,""),i.Eb(9),i.Uc(t.category),i.Eb(2),i.Uc(t.organizationType),i.Eb(9),i.Uc(i.lc(38,11,t.dateOfIssue)),i.Eb(3),i.Uc(t.typeOfOwnership)}}function hl(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",32),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",t.companyName)}}function fl(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"img",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("src",t.profileImage,i.Jc)}}function gl(t,e){if(1&t&&i.Sb(0,"img",36),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function vl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToCorporateOnBoardingSummary(a,"APPROVED",n.getRandomColor(o+12))}),i.Xb(1,"div",22),i.Xb(2,"mat-icon",37),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",24),i.Xb(9,"div",25),i.Rc(10,hl,2,1,"div",20),i.Rc(11,fl,2,1,"div",20),i.Rc(12,gl,1,1,"ng-template",null,34,i.Sc),i.Wb(),i.Xb(14,"mat-card-title",26),i.Tc(15),i.Wb(),i.Xb(16,"mat-card-subtitle"),i.Tc(17),i.Wb(),i.Wb(),i.Xb(18,"form",27),i.Xb(19,"div",28),i.Xb(20,"span"),i.Tc(21,"Category "),i.Wb(),i.Xb(22,"span"),i.Tc(23,"Organization Type"),i.Wb(),i.Wb(),i.Xb(24,"div",29),i.Xb(25,"span"),i.Tc(26),i.Wb(),i.Xb(27,"span"),i.Tc(28),i.Wb(),i.Wb(),i.Sb(29,"br"),i.Xb(30,"div",30),i.Xb(31,"span"),i.Tc(32,"Date Of Issue"),i.Wb(),i.Xb(33,"span"),i.Tc(34,"Type Of Ownership"),i.Wb(),i.Wb(),i.Xb(35,"div",31),i.Xb(36,"span"),i.Tc(37),i.kc(38,"date"),i.Wb(),i.Xb(39,"span"),i.Tc(40),i.Wb(),i.Wb(),i.Sb(41,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(6),i.Uc(i.lc(7,9,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf",null==t.profileImage),i.Eb(1),i.rc("ngIf",null!=t.profileImage),i.Eb(4),i.Vc(" ",t.companyName," "),i.Eb(2),i.Vc("#",t.corporateId,""),i.Eb(9),i.Uc(t.category),i.Eb(2),i.Uc(t.organizationType),i.Eb(9),i.Uc(i.lc(38,11,t.dateOfIssue)),i.Eb(3),i.Uc(t.typeOfOwnership)}}function Wl(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",32),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",t.companyName)}}function Xl(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"img",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("src",t.profileImage,i.Jc)}}function yl(t,e){if(1&t&&i.Sb(0,"img",36),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function Tl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToCorporateOnBoardingSummary(a,"REJECTED",n.getRandomColor(o+15))}),i.Xb(1,"div",22),i.Xb(2,"mat-icon",38),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",24),i.Xb(9,"div",25),i.Rc(10,Wl,2,1,"div",20),i.Rc(11,Xl,2,1,"div",20),i.Rc(12,yl,1,1,"ng-template",null,34,i.Sc),i.Wb(),i.Xb(14,"mat-card-title",26),i.Tc(15),i.Wb(),i.Xb(16,"mat-card-subtitle"),i.Tc(17),i.Wb(),i.Wb(),i.Xb(18,"form",27),i.Xb(19,"div",28),i.Xb(20,"span"),i.Tc(21,"Category "),i.Wb(),i.Xb(22,"span"),i.Tc(23,"Organization Type"),i.Wb(),i.Wb(),i.Xb(24,"div",29),i.Xb(25,"span"),i.Tc(26),i.Wb(),i.Xb(27,"span"),i.Tc(28),i.Wb(),i.Wb(),i.Sb(29,"br"),i.Xb(30,"div",30),i.Xb(31,"span"),i.Tc(32,"Date Of Issue"),i.Wb(),i.Xb(33,"span"),i.Tc(34,"Type Of Ownership"),i.Wb(),i.Wb(),i.Xb(35,"div",31),i.Xb(36,"span"),i.Tc(37),i.kc(38,"date"),i.Wb(),i.Xb(39,"span"),i.Tc(40),i.Wb(),i.Wb(),i.Sb(41,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(6),i.Uc(i.lc(7,9,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf",null==t.profileImage),i.Eb(1),i.rc("ngIf",null!=t.profileImage),i.Eb(4),i.Vc(" ",t.companyName," "),i.Eb(2),i.Vc("#",t.corporateId,""),i.Eb(9),i.Uc(t.category),i.Eb(2),i.Uc(t.organizationType),i.Eb(9),i.Uc(i.lc(38,11,t.dateOfIssue)),i.Eb(3),i.Uc(t.typeOfOwnership)}}let Il=(()=>{class t{constructor(t,e,a,o,n,r,s,l){this.dialog=t,this.ls=e,this.tasSumService=a,this.cdr=o,this.apiService=n,this.router=r,this.snack=s,this.sanitizer=l,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="corporate",this.setValue=new i.o,this._searchSubject=new c.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.isScroll=!0,this._setSearchSubscription()}onScroll(t){this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages)}ngOnInit(){this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.getDataOnLoad(),this.listOfOptions.filter(t=>{t.checked&&(this.radioButtonSelected=t.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}radioChange(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{if(this.setValue.emit(t),console.log("search value :: ",t),console.log("search text :: ",this.searchText),null==t||""==t||""==t)return this.noDataFound=!1,this.searchable=!1,void this.getDataOnLoad();this.searchcorporateID(t)})}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}getDataOnLoad(){return ol(this,void 0,void 0,function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t],0,0)})}fetchCustomerInfo(t,e,a){this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"INITIATED"==t?(this.INITIATEDArr=null==e?void 0:e.corporateList,this.INITIATEDTotalPages=null==e?void 0:e.totalPages,this.INITIATEDTotalRecords=null==e?void 0:e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=null==e?void 0:e.corporateList,this.UNDER_PROCESSTotalPages=null==e?void 0:e.totalPages,this.UNDER_PROCESSTotalRecords=null==e?void 0:e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.corporateList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.corporateList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){0!=this.isScroll&&(console.log("---------scrolled----------"),e!==a?this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(e=>{console.log("count data :: ",e),this.cdr.markForCheck(),this.updateDataOnScroll(t,e.corporateList)}):console.log("No scroll requied"))}GoToCustomerOnboarding(){setTimeout(()=>{this.router.navigateByUrl("/tasks/cust-on-boarding-task-summary")},300)}goToCorporateOnBoardingSummary(t,e,a){localStorage.setItem("CustomerColorCode",a),this.dialog.open(al,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(t=>{console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus||this.getDataOnLoad()})}searchcorporateID(t){let e,a;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="mobileNumber="+e):(console.log("kycId"),e=this.searchText.trim(),a="corporateId="+e):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmail="+e):t==t.toUpperCase()?(console.log("name"),e=this.searchText.trim(),a="corporateStatus="+e):(console.log("name"),e=this.searchText.trim(),a="companyName="+e)),this.getCustomerData(a),this.isScroll=!1}getCustomerData(t){this.loading=!0,console.log("params::",t),this.apiService.getcorporateSearchDetails(t).subscribe(t=>{this.loading=!1,console.log("resp data :: ",t),this.resetSearchData();for(let e=0;e<t.corporateList.length;e++){const a=t.corporateList[e];for(let o=0;o<t.corporateList[e].corporateDocs.length;o++)a.profileImage="Profile"==t.corporateList[e].corporateDocs[o].documentName?t.corporateList[e].corporateDocs[o].fileUrl:null;this.searchResponseUpdate(t.corporateList[e].corporateStatus,a)}})}resetSearchData(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){console.log("called ?",t,e),"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{if(console.log(t),console.log(t.profileImage),this.searchable=!1,null!=t.profileImage){let e="data:image/jpeg;base64,"+t.profileImage.fileData;this.searchable=!0,this.image=this.sanitizer.bypassSecurityTrustUrl(e),console.log(this.searchable,"Searchable")}},t=>{console.log(t)})}getcorporateIDData(t){console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(t=>{if(console.log("resp data :: ",t),this.cdr.markForCheck(),this.cdr.detectChanges(),null!=t){var e=t[0].customerAdditionalInfo.kycStatus+"Arr";this[e].splice(0,0,t[0]),this[e]=this[e].slice(),console.log("resp value :: ",this[e])}else this.noDataFound=!0})}ngOnDestroy(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}updateDataOnScroll(t,e){return ol(this,void 0,void 0,function*(){if("INITIATED"==t){const t=Kt.unionBy(this.INITIATEDArr,e,"corporateID");this.INITIATEDArr=t}else if("UNDER_PROCESS"==t){const t=Kt.unionBy(this.UNDER_PROCESSArr,e,"corporateID");this.UNDER_PROCESSArr=t}else if("APPROVED"==t){const t=Kt.unionBy(this.APPROVEDArr,e,"corporateID");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Kt.unionBy(this.REJECTEDArr,e,"corporateID");this.REJECTEDArr=t}this.cdr.markForCheck()})}isNum(t){return!isNaN(t)}isString(t){return t}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.b),i.Rb(l.a),i.Rb(m.a),i.Rb(i.h),i.Rb(r.b),i.Rb(je.h),i.Rb(f.a),i.Rb(qo.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-corporate-task-summary"]],hostBindings:function(t,e){1&t&&i.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:53,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Corporate_id or Company Name",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar",""],[2,"font-size","16px"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","58px",1,"col2"],["fxLayout","row","fxLayoutGap","40px",1,"col3"],["fxLayout","row","fxLayoutGap","44px",1,"col4"],[3,"name"],["alt","",2,"width","150px","height","50px","border-radius","60%",3,"src"],["showAvatar",""],[1,"fill-color-blue","bookMark","bookMark1"],["alt","",2,"width","150px","height","50px","border-radius","50%",3,"src"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(i.Sb(0,"br"),i.Xb(1,"div",0),i.fc("scrolled",function(t){return e.onScroll(t)}),i.Sb(2,"br"),i.Xb(3,"div",1),i.Xb(4,"mat-slide-toggle",2),i.fc("change",function(){return e.GoToCustomerOnboarding()}),i.Tc(5,"Switch to Customer Onboarding "),i.Wb(),i.Xb(6,"div",3),i.Xb(7,"div",4),i.Xb(8,"span",5),i.Tc(9," Corporate Customer Onboarding Task Summary "),i.Wb(),i.Wb(),i.Xb(10,"div",6),i.Xb(11,"mat-form-field",7),i.Xb(12,"mat-label"),i.Tc(13,"Search"),i.Wb(),i.Xb(14,"input",8),i.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),i.Wb(),i.Xb(15,"mat-icon",9),i.Tc(16,"search"),i.Wb(),i.Rc(17,il,5,1,"button",10),i.Xb(18,"mat-hint"),i.Tc(19,"Search Corporate_id or Company Name"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",11),i.Xb(21,"div",12),i.Xb(22,"mat-card",13),i.Xb(23,"div",14),i.Xb(24,"span",15),i.Xb(25,"h2",16),i.Tc(26),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div"),i.Rc(28,bl,41,14,"div",17),i.Wb(),i.Sb(29,"br"),i.Wb(),i.Xb(30,"mat-card",13),i.Xb(31,"div",14),i.Xb(32,"span",15),i.Xb(33,"h2",16),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Rc(36,pl,42,13,"div",17),i.Wb(),i.Wb(),i.Xb(37,"mat-card",13),i.Xb(38,"div",14),i.Xb(39,"span",15),i.Xb(40,"h2",16),i.Tc(41),i.Wb(),i.Wb(),i.Wb(),i.Xb(42,"div"),i.Rc(43,vl,42,13,"div",17),i.Wb(),i.Sb(44,"br"),i.Wb(),i.Xb(45,"mat-card",13),i.Xb(46,"div",14),i.Xb(47,"span",15),i.Xb(48,"h2",16),i.Tc(49),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div"),i.Rc(51,Tl,42,13,"div",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(52,"br"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),i.Eb(13),i.rc("ngModel",e.searchText),i.Eb(3),i.rc("ngIf",e.searchText),i.Eb(9),i.Wc("Pending for approval (",null==e.INITIATEDArr?null:e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.INITIATEDArr),i.Eb(6),i.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.UNDER_PROCESSArr),i.Eb(5),i.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.APPROVEDArr),i.Eb(6),i.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.REJECTEDArr))},directives:[Mn.a,x.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,v.a,W.i,o.n,W.f,X.a,o.m,C.b,W.j,E.b,X.e,X.c,X.h,X.g,p.A,p.s,p.t],pipes:[ni.a,o.f],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}"]}),t})();function xl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Card Type Is Required "),i.Wb())}function Cl(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function El(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0Currency is Required! "),i.Wb())}function Ol(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc("",t," ")}}function Dl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0Employment Type is Required! "),i.Wb())}function Al(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0Affinity Program is Required! "),i.Wb())}let Rl=(()=>{class t{constructor(t,e,a,o,n,i){this.data=t,this.dialogRef=e,this.apiService=a,this.formBuilder=o,this.router=n,this.snack=i,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"]}ngOnInit(){this.getEmploymentType("employment_type"),console.log(this.data),this.data?this.buildInitiationUpdateForm(this.data):this.buildInitiationUpdateForm()}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.employmentTypeArray=t})}buildInitiationUpdateForm(t){this.cardInitiationUpdateForm=this.formBuilder.group({existingCustomer:[t&&t.existingCustomer?t.existingCustomer:""],cardType:[t&&t.cardType?t.cardType:"",[p.z.required]],customerAccount:[t&&t.customerAccount?t.customerAccount:""],applicantName:[t&&t.applicantName?t.applicantName:""],currency:[t&&t.currency?t.currency:"",[p.z.required]],employmentType:[t&&t.employmentType?t.employmentType:"",[p.z.required]],affinityProgram:[t&&t.affinityProgram?t.affinityProgram:"",[p.z.required]]})}close(){this.dialogRef.close({status:"ONGOING"})}onSubmit(){this.apiService.uploadCardInitiation({existingCustomer:this.cardInitiationUpdateForm.value.existingCustomer,cardType:this.cardInitiationUpdateForm.value.cardType,customerAccount:this.cardInitiationUpdateForm.value.customerAccount,applicantName:this.cardInitiationUpdateForm.value.applicantName,currency:this.cardInitiationUpdateForm.value.currency,employmentType:this.cardInitiationUpdateForm.value.employmentType,affinityProgram:this.cardInitiationUpdateForm.value.affinityProgram,nameOnCard:this.data.nameOnCard,status:this.data.status,kycStatus:this.data.kycStatus,kycReference:this.data.kycRefrence,customerId:this.data.customerId,cardId:this.data.cardId}).subscribe(t=>{this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(r.b),i.Rb(p.f),i.Rb(je.h),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-initiation-details-update"]],decls:61,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["readonly","true","matInput","","name","existingCustomer","formControlName","existingCustomer"],["formControlName","cardType"],["value","Debit"],["value","Credit"],["value","Forex"],[4,"ngIf"],["matInput","","formControlName","customerAccount"],["matInput","","formControlName","applicantName"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["formControlName","employmentType","placeholder","Select Employment Type *"],["fxLayout","row"],["formControlName","affinityProgram","placeholder","Select Affinity Program *"],["value","Affinity Program1"],["value","Affinity Program2"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Card Initiation Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"div",4),i.Xb(9,"mat-form-field",5),i.Xb(10,"mat-label"),i.Tc(11,"Existing Customer"),i.Wb(),i.Sb(12,"input",6),i.Wb(),i.Xb(13,"mat-form-field",5),i.Xb(14,"mat-label"),i.Tc(15,"Card Type"),i.Wb(),i.Xb(16,"mat-select",7),i.Xb(17,"mat-option",8),i.Tc(18,"Debit"),i.Wb(),i.Xb(19,"mat-option",9),i.Tc(20,"Credit"),i.Wb(),i.Xb(21,"mat-option",10),i.Tc(22,"Forex"),i.Wb(),i.Wb(),i.Rc(23,xl,2,0,"mat-error",11),i.Wb(),i.Xb(24,"mat-form-field",5),i.Xb(25,"mat-label"),i.Tc(26,"Customer Account"),i.Wb(),i.Sb(27,"input",12),i.Wb(),i.Wb(),i.Xb(28,"div",4),i.Xb(29,"mat-form-field",5),i.Xb(30,"mat-label"),i.Tc(31,"Applicant Name"),i.Wb(),i.Sb(32,"input",13),i.Wb(),i.Xb(33,"mat-form-field",5),i.Xb(34,"mat-label"),i.Tc(35,"Currency"),i.Wb(),i.Xb(36,"mat-select",14),i.Rc(37,Cl,2,2,"mat-option",15),i.Wb(),i.Rc(38,El,2,0,"mat-error",11),i.Wb(),i.Xb(39,"mat-form-field",5),i.Xb(40,"mat-label"),i.Tc(41,"Employment Type"),i.Wb(),i.Xb(42,"mat-select",16),i.Rc(43,Ol,2,2,"mat-option",15),i.Wb(),i.Rc(44,Dl,2,0,"mat-error",11),i.Wb(),i.Wb(),i.Xb(45,"div",17),i.Xb(46,"mat-form-field",5),i.Xb(47,"mat-label"),i.Tc(48,"Affinity Program *"),i.Wb(),i.Xb(49,"mat-select",18),i.Xb(50,"mat-option",19),i.Tc(51,"Affinity Program1"),i.Wb(),i.Xb(52,"mat-option",20),i.Tc(53,"Affinity Program2"),i.Wb(),i.Wb(),i.Rc(54,Al,2,0,"mat-error",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(55,"div",21),i.Xb(56,"button",22),i.fc("click",function(){return e.onSubmit()}),i.Tc(57,"Save"),i.Wb(),i.Tc(58," \xa0\xa0\xa0 "),i.Xb(59,"button",23),i.fc("click",function(){return e.close()}),i.Tc(60," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.cardInitiationUpdateForm),i.Eb(16),i.rc("ngIf",!e.cardInitiationUpdateForm.get("cardType").valid&&e.cardInitiationUpdateForm.get("cardType").touched),i.Eb(14),i.rc("ngForOf",e.localCurrencyArr),i.Eb(1),i.rc("ngIf",!e.cardInitiationUpdateForm.get("currency").valid&&e.cardInitiationUpdateForm.get("currency").touched),i.Eb(5),i.rc("ngForOf",e.employmentTypeArray),i.Eb(1),i.rc("ngIf",!e.cardInitiationUpdateForm.get("employmentType").valid&&e.cardInitiationUpdateForm.get("employmentType").touched),i.Eb(10),i.rc("ngIf",!e.cardInitiationUpdateForm.get("affinityProgram").valid&&e.cardInitiationUpdateForm.get("affinityProgram").touched))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,g.f,W.c,g.b,W.g,y.b,p.c,p.r,p.i,T.a,O.n,o.n,o.m,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function Sl(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Nl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Select Account Type "),i.Wb())}function Pl(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.branchName),i.Eb(1),i.Vc(" ",t.branchName," ")}}function kl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Select Account Branch "),i.Wb())}function Fl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter valid Product ID "),i.Wb())}function Ll(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Product Name "),i.Wb())}function _l(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Existing Value "),i.Wb())}function wl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Account Currency "),i.Wb())}function Ul(t,e){if(1&t&&(i.Xb(0,"mat-option",19),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ml(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Select user Recommendation "),i.Wb())}function Gl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Remarks "),i.Wb())}let Vl=(()=>{class t{constructor(t,e,a,o,n){this.data=t,this.fb=e,this.apiService=a,this.dialogRef=o,this.snack=n}ngOnInit(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),null!=this.data.approvalInfo?this.buildformGroup(this.data.approvalInfo):this.buildformGroup()}buildformGroup(t){this.cardApprovalUpdateForm=this.fb.group({accountType:[t?t.accountType:"",p.z.required],productCode:[t?t.productCode:"",p.z.required],userRecommendation:[t?t.userRecommendation:"",p.z.required],accountBranch:[t?t.accountBranch:"",p.z.required],accountCurrency:[t?t.accountCurrency:"",p.z.required],productName:[t?t.productName:"",p.z.required],existingValues:[t?t.existingValues:"",p.z.required],remarks:[t?t.remarks:""]})}onSubmit(){console.log("data",this.cardApprovalUpdateForm.value),this.apiService.upsertApprovalDetails({cardId:this.data.cardId,accountBranch:this.cardApprovalUpdateForm.value.accountBranch,accountCurrency:this.cardApprovalUpdateForm.value.accountCurrency,accountType:this.cardApprovalUpdateForm.value.accountType,existingValues:this.cardApprovalUpdateForm.value.existingValues,productCode:this.cardApprovalUpdateForm.value.productCode,productName:this.cardApprovalUpdateForm.value.productName,remarks:this.cardApprovalUpdateForm.value.remarks,userRecommendation:this.cardApprovalUpdateForm.value.userRecommendation}).subscribe(t=>{this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}getAccountCurrency(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAccountCurrency=t})}getAccountType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getUserRecomendation(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayUserRecomendation=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(p.f),i.Rb(r.b),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-approval-details-update"]],decls:60,vars:13,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["placeholder","Account Type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Account Branch","formControlName","accountBranch"],["matInput","","placeholder","Product Image","formControlName","productCode"],["matInput","","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["placeholder","Recommended for Approval","formControlName","userRecommendation"],["matInput","","placeholder","Remarks","formControlName","remarks"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Approval Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"div",4),i.Xb(9,"mat-form-field",5),i.Xb(10,"mat-label"),i.Tc(11,"Account Type*"),i.Wb(),i.Xb(12,"mat-select",6),i.Rc(13,Sl,2,2,"mat-option",7),i.Wb(),i.Rc(14,Nl,2,0,"mat-error",8),i.Wb(),i.Xb(15,"mat-form-field",5),i.Xb(16,"mat-label"),i.Tc(17,"Account Branch*"),i.Wb(),i.Xb(18,"mat-select",9),i.Rc(19,Pl,2,2,"mat-option",7),i.Wb(),i.Rc(20,kl,2,0,"mat-error",8),i.Wb(),i.Xb(21,"mat-form-field",5),i.Xb(22,"mat-label"),i.Tc(23,"Product Code*"),i.Wb(),i.Sb(24,"input",10),i.Wb(),i.Rc(25,Fl,2,0,"mat-error",8),i.Wb(),i.Xb(26,"div",4),i.Xb(27,"mat-form-field",5),i.Xb(28,"mat-label"),i.Tc(29,"Product Name*"),i.Wb(),i.Xb(30,"input",11),i.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),i.Wb(),i.Rc(31,Ll,2,0,"mat-error",8),i.Wb(),i.Xb(32,"mat-form-field",5),i.Xb(33,"mat-label"),i.Tc(34,"Existing Value*"),i.Wb(),i.Xb(35,"input",12),i.fc("keypress",function(t){return e.onKeyPress(t)}),i.Wb(),i.Rc(36,_l,2,0,"mat-error",8),i.Wb(),i.Xb(37,"mat-form-field",5),i.Xb(38,"mat-label"),i.Tc(39,"Account Currency*"),i.Wb(),i.Xb(40,"input",13),i.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),i.Wb(),i.Rc(41,wl,2,0,"mat-error",8),i.Wb(),i.Wb(),i.Xb(42,"div",4),i.Xb(43,"mat-form-field",5),i.Xb(44,"mat-label"),i.Tc(45,"User Recomendation*"),i.Wb(),i.Xb(46,"mat-select",14),i.Rc(47,Ul,2,2,"mat-option",7),i.Wb(),i.Rc(48,Ml,2,0,"mat-error",8),i.Wb(),i.Xb(49,"mat-form-field",5),i.Xb(50,"mat-label"),i.Tc(51,"Remarks"),i.Wb(),i.Sb(52,"input",15),i.Rc(53,Gl,2,0,"mat-error",8),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(54,"div",16),i.Xb(55,"button",17),i.fc("click",function(){return e.onSubmit()}),i.Tc(56,"Save"),i.Wb(),i.Tc(57," \xa0\xa0\xa0 "),i.Xb(58,"button",18),i.fc("click",function(){return e.close()}),i.Tc(59," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.cardApprovalUpdateForm),i.Eb(6),i.rc("ngForOf",e.arrayAccountType),i.Eb(1),i.rc("ngIf",e.cardApprovalUpdateForm.get("accountType").hasError("required")),i.Eb(5),i.rc("ngForOf",e.arrayAccountBranch),i.Eb(1),i.rc("ngIf",e.cardApprovalUpdateForm.get("accountBranch").hasError("required")),i.Eb(5),i.rc("ngIf",e.cardApprovalUpdateForm.get("productCode").touched&&0==e.cardApprovalUpdateForm.get("productCode").value),i.Eb(6),i.rc("ngIf",e.cardApprovalUpdateForm.get("productName").hasError("required")),i.Eb(5),i.rc("ngIf",e.cardApprovalUpdateForm.get("existingValues").hasError("required")),i.Eb(5),i.rc("ngIf",e.cardApprovalUpdateForm.get("accountCurrency").hasError("required")),i.Eb(6),i.rc("ngForOf",e.arrayUserRecomendation),i.Eb(1),i.rc("ngIf",e.cardApprovalUpdateForm.get("userRecommendation").hasError("required")),i.Eb(5),i.rc("ngIf",e.cardApprovalUpdateForm.get("remarks").hasError("required")),i.Eb(2),i.rc("disabled",e.cardApprovalUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,W.c,g.b,W.g,T.a,p.r,p.i,o.m,o.n,y.b,p.c,O.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function Bl(t,e){if(1&t&&(i.Xb(0,"mat-option",16),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function jl(t,e){if(1&t&&(i.Xb(0,"mat-option",16),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let zl=(()=>{class t{constructor(t,e,a,o,n,i){this.data=t,this.fb=e,this.dialogRef=a,this.apiService=o,this.snack=n,this.cdr=i,this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"]}ngOnInit(){this.data.assessmentInfo?this.buildAssessmentForm(this.data.assessmentInfo):this.buildAssessmentForm()}buildAssessmentForm(t){this.cardAssessmentUpdateForm=this.fb.group({cardId:[this.data.cardId],assessmentId:[t.assessmentId="1"],requestedCardLimit:[t?t.requestedCardLimit:""],systemRecommendation:[t?t.systemRecommendation:"",p.z.required],approvedCardLimit:[t?t.approvedCardLimit:""],userRecommendation:[t?t.userRecommendation:"",[p.z.required]],recommendedCardLimit:[t?t.recommendedCardLimit:"",[p.z.required]],remark:[t?t.remark:""]})}close(){this.dialogRef.close({status:"ONGOING"})}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}onSubmit(){console.log(this.cardAssessmentUpdateForm),this.apiService.cardAssessmentDetails(this.cardAssessmentUpdateForm.value).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Assessment details Updated successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})}))})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(p.f),i.Rb(b.g),i.Rb(r.b),i.Rb(f.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-assessment-report-update"]],decls:42,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","33.33%","appearance","outline"],["matInput","","formControlName","requestedCardLimit","placeholder","Requested Card Limit","readonly","",3,"keypress"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Recommended for Approval"],["matInput","","formControlName","recommendedCardLimit","required","",3,"keypress"],["matInput","","formControlName","approvedCardLimit","placeholder","Approved Card Limit","required","",3,"keypress"],["matInput","","formControlName","remark","type","text"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Assessment Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"div",4),i.Xb(9,"mat-form-field",5),i.Xb(10,"mat-label"),i.Tc(11,"Requested Card Limit"),i.Wb(),i.Xb(12,"input",6),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Xb(13,"mat-form-field",5),i.Xb(14,"mat-label"),i.Tc(15,"System Recommendation"),i.Wb(),i.Xb(16,"mat-select",7),i.Rc(17,Bl,2,2,"mat-option",8),i.Wb(),i.Wb(),i.Xb(18,"mat-form-field",5),i.Xb(19,"mat-label"),i.Tc(20,"User Recommendation"),i.Wb(),i.Xb(21,"mat-select",9),i.Rc(22,jl,2,2,"mat-option",8),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div",4),i.Xb(24,"mat-form-field",5),i.Xb(25,"mat-label"),i.Tc(26,"Recommended Card Limit"),i.Wb(),i.Xb(27,"input",10),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Xb(28,"mat-form-field",5),i.Xb(29,"mat-label"),i.Tc(30,"Approved Card Limit"),i.Wb(),i.Xb(31,"input",11),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Xb(32,"mat-form-field",5),i.Xb(33,"mat-label"),i.Tc(34,"Remarks"),i.Wb(),i.Sb(35,"input",12),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",13),i.Xb(37,"button",14),i.fc("click",function(){return e.onSubmit()}),i.Tc(38,"Save"),i.Wb(),i.Tc(39," \xa0\xa0\xa0 "),i.Xb(40,"button",15),i.fc("click",function(){return e.close()}),i.Tc(41," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.cardAssessmentUpdateForm),i.Eb(10),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(5),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(15),i.rc("disabled",e.cardAssessmentUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,g.f,W.c,g.b,W.g,y.b,p.c,p.r,p.i,T.a,o.m,p.y,O.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function ql(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Customer Name is Required! "),i.Wb())}function Kl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Agency is Required! "),i.Wb())}function Jl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Ratings is Required! "),i.Wb())}function $l(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-card"),i.Xb(1,"mat-accordion",3),i.Xb(2,"h5"),i.Tc(3,"Score "),i.Wb(),i.Sb(4,"br"),i.Xb(5,"div",11),i.Xb(6,"mat-form-field",4),i.Xb(7,"mat-label"),i.Tc(8,"Select Agency*"),i.Wb(),i.Xb(9,"mat-select",12),i.Xb(10,"mat-option",13),i.Tc(11,"Select"),i.Wb(),i.Xb(12,"mat-option",14),i.fc("click",function(){return i.Hc(t),i.jc().onClick()}),i.Tc(13,"Test Agency"),i.Wb(),i.Xb(14,"mat-option",15),i.fc("click",function(){return i.Hc(t),i.jc().onClick()}),i.Tc(15,"Ujjivan Agency"),i.Wb(),i.Xb(16,"mat-option",16),i.fc("click",function(){return i.Hc(t),i.jc().onClick()}),i.Tc(17,"Fast Track Agency"),i.Wb(),i.Wb(),i.Rc(18,Kl,2,0,"mat-error",6),i.Wb(),i.Xb(19,"mat-form-field",4),i.Xb(20,"mat-label"),i.Tc(21,"Ratings"),i.Wb(),i.Xb(22,"input",17),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(23,Jl,2,0,"mat-error",6),i.Wb(),i.Xb(24,"mat-form-field",4),i.Xb(25,"mat-label"),i.Tc(26,"Remarks"),i.Wb(),i.Sb(27,"input",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"button",19),i.fc("click",function(){return i.Hc(t),i.jc().addFormGroup()}),i.Xb(29,"mat-icon"),i.Tc(30,"add"),i.Wb(),i.Tc(31," ADD AGENCY "),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.jc();i.Eb(1),i.rc("formGroup",t),i.Eb(11),i.rc("disabled",a.disableTest),i.Eb(2),i.rc("disabled",a.disableUjjivan),i.Eb(2),i.rc("disabled",a.disableFastTrack),i.Eb(2),i.rc("ngIf",!t.controls.agencyName.valid&&t.controls.agencyName.touched),i.Eb(5),i.rc("ngIf",!t.controls.ratings.valid&&t.controls.ratings.touched),i.Eb(5),i.rc("disabled",a.disableAddAgency)}}let Hl=(()=>{class t{constructor(t,e,a,o,n,i){this.data=t,this.dialogRef=e,this.formBuilder=a,this.appApiService=o,this.api=n,this.snack=i}ngOnInit(){this.getCustomerInformationDetails(),this.data.creditScore.cardId?this.buildCreditForm(this.data.creditScore):this.buildCreditForm()}getCustomerInformationDetails(){this.customerNames=[],this.appApiService.fetchCustomersByCardAccId(this.data.cardId,"cardOrigin").subscribe(t=>{console.log("resp for customer information names ",t.data);for(let e=0;e<t.data.length;e++)this.customerNames.push(null==t.data[e].middleName?t.data[e].firstName+" "+t.data[e].lastName:t.data[e].firstName+" "+t.data[e].middleName+" "+t.data[e].lastName);console.log("customer name ",this.customerNames),this.customerNames&&(console.log("If condtion"),this.cardCreditScoreUpdateForm.get("customerName").setValue(this.customerNames[0]))},t=>{})}get f(){return this.cardCreditScoreUpdateForm.controls}get c(){return this.f.agencyRating}buildCreditForm(t,e){console.log(t),this.cardCreditScoreUpdateForm=this.formBuilder.group({cardId:this.data.cardId,customerName:t.customerName?t.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.cardCreditScoreUpdateForm)}addModFormGroup(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.data.cardId],agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",p.z.required],ratings:[t?t.agencyRating[0].ratings:"",p.z.required],remarks:[t?t.agencyRating[0].remarks:""]})}addFormGroup(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",p.z.required],ratings:["",p.z.required]}))}submit(t){console.log("val",t),t.accountType="cardOrigin",this.api.saveCreditDetails(t).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Credit Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.api.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)})}onClick(){for(let t=0;t<3;t++)"Test Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableTest=!0),"Ujjivan Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableUjjivan=!0),"Fast Track Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableFastTrack=!0);3==this.cardCreditScoreUpdateForm.value.agencyRating.length&&(this.disableAddAgency=!0)}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onSubmit(){}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(d.a),i.Rb(r.b),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-credit-score-update"]],decls:21,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["appearance","outline","fxFlex","30%"],["matInput","","formControlName","customerName","name","customerName",1,"alignment"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row","fxLayoutGap","5%"],["name","agencyName","formControlName","agencyName"],["value",""],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"],["matInput","","formControlName","remarks","type","text","name","remarks",1,"alignment"],["mat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Credit Score Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"mat-card"),i.Xb(9,"mat-form-field",4),i.Xb(10,"mat-label"),i.Tc(11,"Customer Name*"),i.Wb(),i.Sb(12,"input",5),i.Rc(13,ql,2,0,"mat-error",6),i.Wb(),i.Wb(),i.Rc(14,$l,32,7,"mat-card",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",8),i.Xb(16,"button",9),i.fc("click",function(){return e.submit(e.cardCreditScoreUpdateForm.value)}),i.Tc(17,"Save"),i.Wb(),i.Tc(18," \xa0\xa0\xa0 "),i.Xb(19,"button",10),i.fc("click",function(){return e.close()}),i.Tc(20," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.cardCreditScoreUpdateForm),i.Eb(6),i.rc("ngIf",!e.cardCreditScoreUpdateForm.get("customerName").valid&&e.cardCreditScoreUpdateForm.get("customerName").touched),i.Eb(1),i.rc("ngForOf",e.c.controls),i.Eb(2),i.rc("disabled",!e.cardCreditScoreUpdateForm.valid))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,W.c,g.b,W.g,y.b,p.c,p.r,p.i,o.n,o.m,g.f,W.b,j.a,T.a,O.n,C.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function Yl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"tr",11),i.Vb(1,3),i.Xb(2,"td"),i.Xb(3,"mat-form-field"),i.Sb(4,"input",12),i.Wb(),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-form-field"),i.Xb(7,"input",13),i.fc("keypress",function(e){return i.Hc(t),i.jc().onKeyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"td"),i.Xb(9,"div",14),i.Xb(10,"mat-checkbox",15),i.fc("change",function(e){return i.Hc(t),i.jc().checkbox(e)}),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("formGroup",t)}}let Zl=(()=>{class t{constructor(t,e,a,o,n,i){this.data=t,this.formBuilder=e,this.apiService=a,this.dialogRef=o,this.snack=n,this.api=i,this.accountType="Card Origin"}ngOnInit(){this.data.currencytype=localStorage.getItem("Currency Type"),"INR"===this.data.currencytype?this.currencySymbol="\u20b9":"USD"===this.data.currencytype?this.currencySymbol="$":"CNY"===this.data.currencytype?this.currencySymbol="\xa5":"GBP"===this.data.currencytype?this.currencySymbol="\xa3":"ZAR"===this.data.currencytype&&(this.currencySymbol="R"),this.cardChargeUpdateForm=this.formBuilder.group({chargeInfo:new p.d([])}),this.data.chargeInfo?(this.onChangeInterest(this.data.chargeInfo.length),this.in.patchValue([...this.data.chargeInfo])):this.apiService.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])})}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",p.z.required],waiver:[!1],cardId:[this.data.cardId],chargeDetailsId:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}get f(){return this.cardChargeUpdateForm.controls}get in(){return this.f.chargeInfo}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}checkbox(t){console.log(t.checked)}onSubmit(t){console.log("form",t),this.api.cardChargeDetailsSave(t).subscribe(t=>{this.snack.open("Charge Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",t),this.apiService.updateCardStatus({cardId:this.data.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(p.f),i.Rb(r.b),i.Rb(b.g),i.Rb(f.a),i.Rb(r.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-charge-details-update"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Charge Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"table",4),i.Xb(9,"thead",5),i.Xb(10,"tr",6),i.Xb(11,"th"),i.Tc(12,"Interest Type"),i.Wb(),i.Xb(13,"th"),i.Tc(14,"Amount"),i.Wb(),i.Xb(15,"th"),i.Tc(16,"waiever"),i.Wb(),i.Wb(),i.Wb(),i.Xb(17,"tbody"),i.Rc(18,Yl,11,1,"tr",7),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",8),i.Xb(20,"button",9),i.fc("click",function(){return e.onSubmit(e.cardChargeUpdateForm.value)}),i.Tc(21,"Save"),i.Wb(),i.Tc(22," \xa0\xa0\xa0 "),i.Xb(23,"button",10),i.fc("click",function(){return e.close()}),i.Tc(24," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.cardChargeUpdateForm),i.Eb(11),i.rc("ngForOf",e.in.controls),i.Eb(2),i.rc("disabled",e.cardChargeUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,o.m,g.f,W.c,y.b,p.c,p.r,p.i,p.m,$t.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function Ql(t,e){if(1&t&&(i.Xb(0,"tr",11),i.Vb(1,3),i.Xb(2,"td"),i.Xb(3,"mat-card",12),i.Sb(4,"input",13),i.Wb(),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-card",12),i.Sb(7,"input",14),i.Wb(),i.Wb(),i.Xb(8,"td"),i.Xb(9,"mat-card",12),i.Sb(10,"input",15),i.Wb(),i.Wb(),i.Xb(11,"td"),i.Xb(12,"mat-card",12),i.Sb(13,"input",16),i.Wb(),i.Wb(),i.Ub(),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.rc("formGroup",t)}}let tb=(()=>{class t{constructor(t,e,a,o,n){this.data=t,this.formBuilder=e,this.api=a,this.snack=o,this.dialogRef=n,this.accountType="Card Origin"}ngOnInit(){this.cardInterestUpdateForm=this.formBuilder.group({interestInfo:new p.d([])}),console.log(this.data),this.data.interestInfo?(this.onChangeInterest(this.data.interestInfo.length),this.in.patchValue(this.data.interestInfo)):this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue(t)}),console.log(this.cardInterestUpdateForm)}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",p.z.required],intrestRateApplicable:[5,p.z.required],marginIn:[null,[p.z.required,p.z.max(100),p.z.min(0)]],effectiveRate:[10,[p.z.required,p.z.max(100),p.z.min(0)]],cardInterestId:[""],cardId:[this.data.cardId]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}onSubmit(){console.log(this.cardInterestUpdateForm.value),this.api.cardintrestDetailsSave(this.cardInterestUpdateForm.value).subscribe(t=>{this.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",t)},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}get f(){return this.cardInterestUpdateForm.controls}get in(){return this.f.interestInfo}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(p.f),i.Rb(r.b),i.Rb(f.a),i.Rb(b.g))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-interest-details-update"]],decls:27,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matInput","","formControlName","marginIn","name","margin","type","number","placeholder","Margin","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Interest Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"table",4),i.Xb(9,"thead",5),i.Xb(10,"tr",6),i.Xb(11,"th"),i.Tc(12,"Interest Type"),i.Wb(),i.Xb(13,"th"),i.Tc(14,"Interest Rate Applicable in %"),i.Wb(),i.Xb(15,"th"),i.Tc(16,"Margin in %"),i.Wb(),i.Xb(17,"th"),i.Tc(18,"Effective Rate %"),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"tbody"),i.Rc(20,Ql,14,1,"tr",7),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(21,"div",8),i.Xb(22,"button",9),i.Tc(23,"Save"),i.Wb(),i.Tc(24," \xa0\xa0\xa0 "),i.Xb(25,"button",10),i.fc("click",function(){return e.close()}),i.Tc(26," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.cardInterestUpdateForm),i.Eb(13),i.rc("ngForOf",e.in.controls))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,o.m,g.f,y.b,p.c,p.r,p.i,p.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function eb(t,e){if(1&t&&(i.Xb(0,"mat-option",66),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ab(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please select the Employment Type "),i.Wb())}function ob(t,e){if(1&t&&(i.Xb(0,"mat-option",66),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function nb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please select the Employment Category "),i.Wb())}function ib(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Employee Number "),i.Wb())}function rb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Office Name "),i.Wb())}function cb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Designation "),i.Wb())}function sb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Employment Start Date is Required! "),i.Wb())}function lb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Employment End Date is Required! "),i.Wb())}let bb=(()=>{class t{constructor(t,e,a,o,n,i){this.data=t,this.dialogRef=e,this.formBuilder=a,this.apiService=o,this.cdr=n,this.snack=i,this.maxDate=new Date}ngOnInit(){console.log(this.data),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),this.data&&this.data.financialInfo?this.buildFinacialFormGroup(this.data.financialInfo[0]):this.buildFinacialFormGroup()}buildFinacialFormGroup(t){console.log(t),this.cardFinancialDetailsUpdateForm=this.formBuilder.group({id:[t?t.id:""],applicantName:[this.data.initiationInfo.applicantName,p.z.required],currentlyWorking:[t?t.currentlyWorking:""],applicantTotalIncome:[t?t.applicantTotalIncome:0,p.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,p.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],employmentType:[t?t.employmentType:"",p.z.required],employmentCategory:[t?t.employmentCategory:"",p.z.required],employeeNumber:[t?t.employeeNumber:"",p.z.required],officeName:[t?t.officeName:"",p.z.required],designation:[t?t.designation:"",p.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):"",p.z.required],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0]},{validator:t=>this.validateInputGroups(t)})}validateInputGroups(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}converDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}onSubmit(){let t=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentStartDate.value);t&&"Invalid date"!=t?(console.log("startDate",t),this.cardFinancialDetailsUpdateForm.value.employmentStartDate=t):this.cardFinancialDetailsUpdateForm.value.employmentStartDate=null;let e=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentEndDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.cardFinancialDetailsUpdateForm.value.employmentEndDate=e):this.cardFinancialDetailsUpdateForm.value.employmentEndDate=null;let a=h(this.cardFinancialDetailsUpdateForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");console.log("lastUpdatedon",a),a&&"Invalid date"!=a?(console.log("startDate",a),this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=a):this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=null,this.cardFinancialDetailsUpdateForm.value.accountType="cardOrigin",this.cardFinancialDetailsUpdateForm.value.cardId=this.data.initiationInfo.cardId,console.log("submit",this.cardFinancialDetailsUpdateForm.value),console.log(this.cardFinancialDetailsUpdateForm.value);var o=[];o.push(this.cardFinancialDetailsUpdateForm.value),console.log(o),this.apiService.upsertCardFinancialDetails(o).subscribe(t=>{console.log(t),this.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:this.data.initiationInfo.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}calculateTotalMonthlyIncome(t){let e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.cardFinancialDetailsUpdateForm.controls.monthlyIncomeTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalMonthlyExpenses(t){let e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.cardFinancialDetailsUpdateForm.controls.monthlyExpenseTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalLiabilities(t){let e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.cardFinancialDetailsUpdateForm.controls.liabilityTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalAssets(t){let e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.cardFinancialDetailsUpdateForm.controls.assetTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalIncomeAndExpense(t){let e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.cardFinancialDetailsUpdateForm.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.cardFinancialDetailsUpdateForm.controls.applicantTotalExpense.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges()}close(){this.dialogRef.close({status:"ONGOING"})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t})}getEmploymentCategory(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentCategory=t})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(r.b),i.Rb(i.h),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-financial-details-update"]],decls:264,vars:23,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"keypress"],["fxFlex","31.32%","appearance","outline",1,"full-width"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["fxLayout","row"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,""],[1,"card-title-text"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["fxLayout","row","fxLayoutGap","5%",1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],[1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Financial Details"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"mat-card"),i.Xb(9,"div",4),i.Xb(10,"mat-form-field",5),i.Xb(11,"mat-label"),i.Tc(12,"Applicant Name"),i.Wb(),i.Sb(13,"input",6),i.Wb(),i.Xb(14,"mat-form-field",5),i.Xb(15,"mat-label"),i.Tc(16,"Currently Working"),i.Wb(),i.Sb(17,"input",7),i.Wb(),i.Xb(18,"mat-form-field",5),i.Xb(19,"mat-label"),i.Tc(20,"Total Income*"),i.Wb(),i.Sb(21,"input",8),i.Wb(),i.Wb(),i.Xb(22,"div",4),i.Xb(23,"mat-form-field",5),i.Xb(24,"mat-label"),i.Tc(25,"Total Expenses*"),i.Wb(),i.Sb(26,"input",9),i.Wb(),i.Xb(27,"mat-form-field",5),i.Xb(28,"mat-label"),i.Tc(29,"Last Update On"),i.Wb(),i.Sb(30,"input",10),i.Sb(31,"mat-datepicker-toggle",11),i.Sb(32,"mat-datepicker",null,12),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"mat-card"),i.Xb(35,"mat-card-title"),i.Xb(36,"div"),i.Tc(37,"Employment Details"),i.Wb(),i.Sb(38,"mat-divider"),i.Wb(),i.Xb(39,"mat-card-content"),i.Xb(40,"div",4),i.Xb(41,"mat-form-field",5),i.Xb(42,"mat-label"),i.Tc(43,"Employment Type*"),i.Wb(),i.Xb(44,"mat-select",13),i.Rc(45,eb,2,2,"mat-option",14),i.Wb(),i.Rc(46,ab,2,0,"mat-error",15),i.Wb(),i.Xb(47,"mat-form-field",5),i.Xb(48,"mat-label"),i.Tc(49,"Employment Category*"),i.Wb(),i.Xb(50,"mat-select",16),i.Rc(51,ob,2,2,"mat-option",14),i.Wb(),i.Rc(52,nb,2,0,"mat-error",15),i.Wb(),i.Xb(53,"mat-form-field",5),i.Xb(54,"mat-label"),i.Tc(55,"Employee number*"),i.Wb(),i.Xb(56,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(57,ib,2,0,"mat-error",15),i.Wb(),i.Wb(),i.Xb(58,"div",4),i.Xb(59,"mat-form-field",5),i.Xb(60,"mat-label"),i.Tc(61,"Office Name*"),i.Wb(),i.Xb(62,"input",18),i.fc("keypress",function(t){return e.letterOnly(t)}),i.Wb(),i.Rc(63,rb,2,0,"mat-error",15),i.Wb(),i.Xb(64,"mat-form-field",5),i.Xb(65,"mat-label"),i.Tc(66,"Designation*"),i.Wb(),i.Xb(67,"input",19),i.fc("keypress",function(t){return e.letterOnly(t)}),i.Wb(),i.Rc(68,cb,2,0,"mat-error",15),i.Wb(),i.Xb(69,"mat-form-field",20),i.Xb(70,"mat-label"),i.Tc(71,"Employment Start Date*"),i.Wb(),i.Sb(72,"input",21),i.Sb(73,"mat-datepicker-toggle",11),i.Sb(74,"mat-datepicker",null,22),i.Rc(76,sb,2,0,"mat-error",15),i.Wb(),i.Wb(),i.Xb(77,"div",23),i.Xb(78,"mat-form-field",5),i.Xb(79,"mat-label"),i.Tc(80,"Employment End Date"),i.Wb(),i.Sb(81,"input",24),i.Sb(82,"mat-datepicker-toggle",11),i.Sb(83,"mat-datepicker",null,25),i.Rc(85,lb,2,0,"mat-error",15),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(86,"mat-card"),i.Xb(87,"mat-card-title",26),i.Xb(88,"div",27),i.Tc(89," Monthly Income "),i.Xb(90,"div",28),i.Tc(91),i.Wb(),i.Wb(),i.Sb(92,"mat-divider"),i.Wb(),i.Xb(93,"mat-card-content"),i.Xb(94,"div",4),i.Xb(95,"mat-form-field",5),i.Xb(96,"mat-label"),i.Tc(97,"Bonus"),i.Wb(),i.Xb(98,"input",29),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(99,"mat-form-field",5),i.Xb(100,"mat-label"),i.Tc(101,"Interest Income"),i.Wb(),i.Xb(102,"input",30),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(103,"mat-form-field",5),i.Xb(104,"mat-label"),i.Tc(105,"Salary"),i.Wb(),i.Xb(106,"input",31),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(107,"div",4),i.Xb(108,"mat-form-field",5),i.Xb(109,"mat-label"),i.Tc(110,"Business"),i.Wb(),i.Xb(111,"input",32),i.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Xb(112,"mat-form-field",5),i.Xb(113,"mat-label"),i.Tc(114,"Pension"),i.Wb(),i.Xb(115,"input",33),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(116,"mat-form-field",5),i.Xb(117,"mat-label"),i.Tc(118,"Rentals"),i.Wb(),i.Xb(119,"input",34),i.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(120,"div",4),i.Xb(121,"mat-form-field",5),i.Xb(122,"mat-label"),i.Tc(123,"Cash Gifts"),i.Wb(),i.Xb(124,"input",35),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(125,"mat-form-field",5),i.Xb(126,"mat-label"),i.Tc(127,"Others"),i.Wb(),i.Xb(128,"input",36),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(129,"mat-form-field",5),i.Xb(130,"mat-label"),i.Tc(131,"Total"),i.Wb(),i.Sb(132,"input",37),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(133,"mat-card"),i.Xb(134,"mat-card-title",26),i.Xb(135,"div",27),i.Tc(136," Monthly Expenses "),i.Xb(137,"div",28),i.Tc(138),i.Wb(),i.Wb(),i.Sb(139,"mat-divider"),i.Wb(),i.Xb(140,"mat-card-content"),i.Xb(141,"div",4),i.Xb(142,"mat-form-field",5),i.Xb(143,"mat-label"),i.Tc(144,"Household"),i.Wb(),i.Xb(145,"input",38),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(146,"mat-form-field",5),i.Xb(147,"mat-label"),i.Tc(148,"Education"),i.Wb(),i.Xb(149,"input",39),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(150,"mat-form-field",5),i.Xb(151,"mat-label"),i.Tc(152,"Vehicle Maintenance"),i.Wb(),i.Xb(153,"input",40),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(154,"div",4),i.Xb(155,"mat-form-field",5),i.Xb(156,"mat-label"),i.Tc(157,"Medical"),i.Wb(),i.Xb(158,"input",41),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(159,"mat-form-field",5),i.Xb(160,"mat-label"),i.Tc(161,"Travel"),i.Wb(),i.Xb(162,"input",42),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(163,"mat-form-field",5),i.Xb(164,"mat-label"),i.Tc(165,"Rentals"),i.Wb(),i.Xb(166,"input",43),i.fc("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(167,"div",44),i.Xb(168,"mat-form-field",5),i.Xb(169,"mat-label"),i.Tc(170,"Others"),i.Wb(),i.Xb(171,"input",45),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(172,"mat-form-field",5),i.Xb(173,"mat-label"),i.Tc(174,"Total"),i.Wb(),i.Sb(175,"input",46),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(176,"mat-card"),i.Xb(177,"mat-card-title",26),i.Xb(178,"div",27),i.Tc(179," Annual Liabilities "),i.Xb(180,"div",28),i.Tc(181),i.Wb(),i.Wb(),i.Sb(182,"mat-divider"),i.Wb(),i.Xb(183,"mat-card-content"),i.Xb(184,"div",4),i.Xb(185,"mat-form-field",5),i.Xb(186,"mat-label"),i.Tc(187,"Property Loans"),i.Wb(),i.Xb(188,"input",47),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(189,"mat-form-field",5),i.Xb(190,"mat-label"),i.Tc(191,"Personal Loans"),i.Wb(),i.Xb(192,"input",48),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(193,"mat-form-field",5),i.Xb(194,"mat-label"),i.Tc(195,"Overdrafts"),i.Wb(),i.Xb(196,"input",49),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(197,"div",4),i.Xb(198,"mat-form-field",5),i.Xb(199,"mat-label"),i.Tc(200,"Vehicle Loans"),i.Wb(),i.Xb(201,"input",50),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(202,"mat-form-field",5),i.Xb(203,"mat-label"),i.Tc(204,"Cards Outstanding's"),i.Wb(),i.Xb(205,"input",51),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(206,"mat-form-field",5),i.Xb(207,"mat-label"),i.Tc(208,"Others"),i.Wb(),i.Xb(209,"input",52),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(210,"div",53),i.Xb(211,"mat-form-field",5),i.Xb(212,"mat-label"),i.Tc(213,"Total"),i.Wb(),i.Sb(214,"input",54),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(215,"mat-card"),i.Xb(216,"mat-card-title",26),i.Xb(217,"div",27),i.Tc(218," Asset "),i.Xb(219,"div",28),i.Tc(220),i.Wb(),i.Wb(),i.Sb(221,"mat-divider"),i.Wb(),i.Xb(222,"mat-card-content"),i.Xb(223,"div",4),i.Xb(224,"mat-form-field",5),i.Xb(225,"mat-label"),i.Tc(226,"Savings Deposits"),i.Wb(),i.Xb(227,"input",55),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(228,"mat-form-field",5),i.Xb(229,"mat-label"),i.Tc(230,"Properties"),i.Wb(),i.Xb(231,"input",56),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(232,"mat-form-field",5),i.Xb(233,"mat-label"),i.Tc(234,"Fixed Deposits"),i.Wb(),i.Xb(235,"input",57),i.fc("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(236,"div",4),i.Xb(237,"mat-form-field",5),i.Xb(238,"mat-label"),i.Tc(239,"Stocks/Funds"),i.Wb(),i.Xb(240,"input",58),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(241,"mat-form-field",5),i.Xb(242,"mat-label"),i.Tc(243,"Automobiles"),i.Wb(),i.Xb(244,"input",59),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(245,"mat-form-field",5),i.Xb(246,"mat-label"),i.Tc(247,"Lands"),i.Wb(),i.Xb(248,"input",60),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(249,"div",4),i.Xb(250,"mat-form-field",5),i.Xb(251,"mat-label"),i.Tc(252,"Others"),i.Wb(),i.Xb(253,"input",61),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),i.Wb(),i.Wb(),i.Xb(254,"mat-form-field",5),i.Xb(255,"mat-label"),i.Tc(256,"Total"),i.Wb(),i.Sb(257,"input",62),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(258,"div",63),i.Xb(259,"button",64),i.fc("click",function(){return e.onSubmit()}),i.Tc(260,"Save"),i.Wb(),i.Tc(261," \xa0\xa0\xa0 "),i.Xb(262,"button",65),i.fc("click",function(){return e.close()}),i.Tc(263," Cancel "),i.Wb(),i.Wb()),2&t){const t=i.Dc(33),a=i.Dc(75),o=i.Dc(84);i.Eb(7),i.rc("formGroup",e.cardFinancialDetailsUpdateForm),i.Eb(23),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(14),i.rc("ngForOf",e.arrayEmploymentType),i.Eb(1),i.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentType").hasError("required")),i.Eb(5),i.rc("ngForOf",e.arrayEmploymentCategory),i.Eb(1),i.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentCategory").hasError("required")&&e.cardFinancialDetailsUpdateForm.get("employmentCategory").touched),i.Eb(5),i.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employeeNumber").hasError("required")),i.Eb(6),i.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("officeName").hasError("required")),i.Eb(5),i.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("designation").hasError("required")),i.Eb(4),i.rc("max",e.maxDate)("matDatepicker",a),i.Eb(1),i.rc("for",a),i.Eb(3),i.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").hasError("required")),i.Eb(5),i.rc("matDatepicker",o)("min",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").value),i.Eb(1),i.rc("for",o),i.Eb(3),i.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentEndDate").hasError("required")),i.Eb(6),i.Uc(e.incomeErrMsg),i.Eb(47),i.Uc(e.ExpensesErrMsg),i.Eb(43),i.Uc(e.LiabilitiesErrMsg),i.Eb(39),i.Uc(e.assetErrMsg),i.Eb(39),i.rc("disabled",e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg)}},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,g.f,W.c,g.b,W.g,y.b,p.c,p.r,p.i,p.v,I.e,I.g,W.j,I.d,X.h,ka.a,X.d,T.a,o.m,o.n,p.m,q.a,C.b,O.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}"]}),t})();function db(t,e){if(1&t&&(i.Xb(0,"mat-option",20),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ub(t,e){if(1&t){const t=i.Yb();i.Xb(0,"tr",3),i.Xb(1,"td",13),i.Xb(2,"mat-select",14),i.fc("valueChange",function(a){i.Hc(t);const o=e.index;return i.jc().changeValue2(a,o)}),i.Rc(3,db,2,2,"mat-option",15),i.Wb(),i.Wb(),i.Xb(4,"td"),i.Xb(5,"div"),i.Xb(6,"input",16),i.fc("keyup",function(a){i.Hc(t);const o=e.index;return i.jc().OnInput1(a,!0,o)})("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"td"),i.Xb(8,"div"),i.Xb(9,"input",17),i.fc("keyup",function(a){i.Hc(t);const o=e.index;return i.jc().OnInput(a,!0,o)})("keypress",function(e){return i.Hc(t),i.jc().keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(10,"td",18),i.Xb(11,"div"),i.Xb(12,"button",19),i.fc("click",function(){i.Hc(t);const a=e.index;return i.jc().onclick1(a)}),i.Xb(13,"mat-icon"),i.Tc(14,"delete"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.jc();i.rc("formGroup",t),i.Eb(3),i.rc("ngForOf",a.arraylimitType),i.Eb(3),i.rc("readonly",a.isDLReadOnly),i.Eb(3),i.rc("readonly",a.isLPTReadOnly)}}function mb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Limit per transaction should be less "),i.Wb(),i.Sb(3,"br"),i.Xb(4,"small"),i.Tc(5,"than daily limit"),i.Wb(),i.Wb())}let pb=(()=>{class t{constructor(t,e,a,o,n){this.data=t,this.dialogRef=e,this.fb=a,this.apiService=o,this.snack=n,this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"]}ngOnInit(){if(console.log(this.data),this.buildcardPrefrenceUpdateForm(),this.data.preferanceInfo){this.cardPrefrenceOnLoad=this.data.preferanceInfo,this.isdailylimit=!0,this.isLimitTransaction=!0,this.buildcardPrefrenceUpdateForm(this.data.preferanceInfo,!0);for(let t=0;t<=this.cardPrefrenceOnLoad.length-1;t++)this.selectedOptions2.push(this.cardPrefrenceOnLoad[t].limitType);this.isRowEnds=!0,console.log("All Transaction Details",this.data)}else this.buildcardPrefrenceUpdateForm()}buildcardPrefrenceUpdateForm(t,e){if(this.cardPrefrenceUpdateForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),e){this.addMandateToFormGroup(t),console.log(t);for(let e=0;e<=t.length-1;e++)t[e].dailyLimit=this.addComa(t[e].dailyLimit),t[e].limitPerTransaction=this.addComa(t[e].limitPerTransaction);this.m.patchValue(t)}}addMFormGroup(){return this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:["",[p.z.maxLength(18),p.z.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[p.z.maxLength(18),p.z.pattern("^[0-9]{10,12}$")]]})}addMandateToFormGroup(t){const e=t.length;for(let a=1;a<e;a++)this.m.push(this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}addComa(t){let e=t.toString().replace(/,/g,"").split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}addMandate(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isLPTReadOnly=!0,console.log("this.selectedOptions2",this.selectedOptions2),this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}onSubmit(){var t=[];this.cardPrefrenceUpdateForm.value.cardPrefrences.cardId=this.data.cardId;for(let e=0;e<this.cardPrefrenceUpdateForm.value.cardPrefrences.length;e++){let a=Object.assign({},this.cardPrefrenceUpdateForm.value.cardPrefrences[e],{cardId:this.data.cardId});a.dailyLimit=parseInt(this.removeComma(a.dailyLimit)),a.limitPerTransaction=parseInt(this.removeComma(a.limitPerTransaction)),t.push(a)}this.apiService.uploadCardPrefrence(t).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:this.data.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})}))},t=>{this.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}onclick1(t){this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isLPTReadOnly=!1,this.cardPrefrenceUpdateForm.controls.cardPrefrences.removeAt(t),null==this.cardPrefrenceOnLoad?console.log("deleted"):null!=this.cardPrefrenceOnLoad[t]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[t].preferenceId).subscribe(t=>{},t=>{200==t.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(t,1),console.log("console.log(this.selectedOptions2);",this.selectedOptions2),this.isdailylimit=!0}get f(){return this.cardPrefrenceUpdateForm.controls}get m(){return this.f.cardPrefrences}close(){this.dialogRef.close({status:"ONGOING"})}changeValue2(t,e){this.islimitType=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(t=>t!==this.selectedDocumentTypes2[e])),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.selectedDocumentTypes2.length==this.arraylimitType.length?(this.isRowEnds=!0,console.log("isRowends",this.isRowEnds)):(this.isRowEnds=!1,console.log("isRowends",this.isRowEnds)),this.isDLReadOnly=!1}_keyPress(t){console.log(this.cardPrefrenceUpdateForm);let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isLimitTransaction=!0}OnInput(t,e,a){this.limiPrTrn=t.target.value;var o=this.removeComma(this.cardPrefrenceUpdateForm.value.cardPrefrences[a].dailyLimit),n=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(n)>Number(o)||(Number(n),Number(o),!1);let i={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[a].patchValue(i)}OnInput1(t,e,a){this.limitDaily=t.target.value,this.isdailylimit=!!this.limitDaily;let o={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[a].patchValue(o)}removeComma(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.g),i.Rb(p.f),i.Rb(r.b),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-preference-details-update"]],decls:31,vars:5,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[2,"width","5cm"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","maxlength","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h1",2),i.Tc(4,"Card Preferences"),i.Wb(),i.Xb(5,"mat-dialog-content"),i.Xb(6,"mat-card"),i.Xb(7,"form",3),i.Xb(8,"div",4),i.Xb(9,"table",5),i.Xb(10,"thead"),i.Xb(11,"tr"),i.Xb(12,"th"),i.Tc(13,"Limit Type"),i.Wb(),i.Xb(14,"th"),i.Tc(15,"Daily Limit"),i.Wb(),i.Xb(16,"th"),i.Tc(17,"Limit per transaction"),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"tbody"),i.Rc(19,ub,15,4,"tr",6),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",7),i.Xb(21,"button",8),i.fc("click",function(){return e.addMandate()}),i.Xb(22,"mat-icon"),i.Tc(23,"add"),i.Wb(),i.Wb(),i.Rc(24,mb,6,0,"mat-error",9),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",10),i.Xb(26,"button",11),i.fc("click",function(){return e.onSubmit()}),i.Tc(27,"Save"),i.Wb(),i.Tc(28," \xa0\xa0\xa0 "),i.Xb(29,"button",12),i.fc("click",function(){return e.close()}),i.Tc(30," Cancel "),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.cardPrefrenceUpdateForm),i.Eb(12),i.rc("ngForOf",e.m.controls),i.Eb(2),i.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType&&!e.isRowEnds)||e.isGreaterValue),i.Eb(3),i.rc("ngIf",e.isGreaterValue),i.Eb(2),i.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction||e.islimitType)||e.isGreaterValue||0==e.m.controls.length))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,o.m,g.f,C.b,o.n,T.a,p.r,p.i,p.c,p.m,O.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;margin-left:10px!important;overflow:hidden;text-overflow:ellipsis}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}"]}),t})();var hb=a("I5/J");let fb=(()=>{class t{constructor(t,e,a,o,n){this.ls=t,this.data=e,this.formBuilder=a,this.dialogRef=o,this.doOcrService=n,this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}ngOnInit(){this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.doOcrService.getenableNext().subscribe(t=>{console.log("data disableNextAtIndex1 :: ",t),this.disableNextAtIndex1=t})}createDocItemOthers(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}onSubmit(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(l.a),i.Rb(b.a),i.Rb(p.f),i.Rb(b.g),i.Rb(nr.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-update-doc-upload"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"h3",2),i.Tc(4,"Proof Of Identity"),i.Wb(),i.Xb(5,"mat-card"),i.Sb(6,"app-genric-document-upload",3),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"button",5),i.fc("click",function(){return e.onSubmit()}),i.Tc(9,"Save"),i.Wb(),i.Tc(10," \xa0\xa0\xa0 "),i.Xb(11,"button",6),i.fc("click",function(){return e.close()}),i.Tc(12," Cancel "),i.Wb(),i.Wb()),2&t&&(i.Eb(6),i.rc("screenInfo",e.screenInfo),i.Eb(2),i.rc("disabled",e.disableNextAtIndex1))},directives:[g.e,g.d,v.a,X.a,ir.a,g.f,C.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();const gb=["chart"];function vb(t,e){if(1&t&&(i.Xb(0,"span",66),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(t)}}function Wb(t,e){if(1&t&&(i.Xb(0,"div",67),i.Xb(1,"h1",68),i.Tc(2),i.kc(3,"slice"),i.kc(4,"uppercase"),i.kc(5,"slice"),i.kc(6,"uppercase"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Oc("background",t.customerColorCode),i.Eb(2),i.Wc("",i.nc(3,4,i.lc(4,8,t.cardInfo.firstName),0,1),"",i.nc(5,10,i.lc(6,14,t.cardInfo.lastName),0,1),"")}}function Xb(t,e){if(1&t&&i.Sb(0,"img",70),2&t){const t=i.jc(2);i.rc("src",t.imageUrl,i.Jc)}}function yb(t,e){if(1&t&&(i.Xb(0,"div",67),i.Rc(1,Xb,1,1,"img",69),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.rc("ngIf","not_available"!=t.imageUrl)}}function Tb(t,e){if(1&t&&(i.Xb(0,"div",83),i.Xb(1,"small",84),i.Tc(2),i.Wb(),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(2),i.Vc("CIF #",null==t?null:t.cifNumber,"")}}function Ib(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",85),i.fc("click",function(){return i.Hc(t),i.jc(2).goTo360Dashboard()}),i.Xb(1,"small",84),i.Tc(2),i.Wb(),i.Wb()}if(2&t){const t=i.jc().$implicit;i.Eb(2),i.Vc("CIF #",null==t?null:t.cifNumber,"")}}function xb(t,e){if(1&t&&(i.Xb(0,"div",71),i.Xb(1,"div",38),i.Xb(2,"mat-card"),i.Xb(3,"div",71),i.Xb(4,"div",72),i.Sb(5,"img",73),i.Wb(),i.Xb(6,"div",74),i.Xb(7,"div",75),i.Xb(8,"div"),i.Xb(9,"div",71),i.Xb(10,"div",76),i.Xb(11,"h2",77),i.Xb(12,"span"),i.Tc(13),i.Wb(),i.Tc(14,"\xa0 "),i.Xb(15,"span"),i.Tc(16),i.Wb(),i.Tc(17,"\xa0 "),i.Xb(18,"span"),i.Tc(19),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",78),i.Tc(21,"|"),i.Wb(),i.Xb(22,"div",76),i.Xb(23,"small",49),i.Tc(24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",71),i.Rc(26,Tb,3,1,"div",79),i.Rc(27,Ib,3,1,"div",80),i.Wb(),i.Sb(28,"br"),i.Xb(29,"div",81),i.Xb(30,"div",82),i.Xb(31,"small",48),i.Tc(32,"Date of Birth"),i.Wb(),i.Sb(33,"br"),i.Xb(34,"p",49),i.Tc(35),i.Wb(),i.Wb(),i.Xb(36,"div",82),i.Xb(37,"small",48),i.Tc(38,"Email ID"),i.Wb(),i.Sb(39,"br"),i.Xb(40,"p",49),i.Tc(41),i.Wb(),i.Wb(),i.Xb(42,"div",82),i.Xb(43,"small",48),i.Tc(44,"Mobile Number"),i.Wb(),i.Sb(45,"br"),i.Xb(46,"p",49),i.Tc(47),i.Wb(),i.Wb(),i.Xb(48,"div",82),i.Xb(49,"small",48),i.Tc(50,"Phone Number"),i.Wb(),i.Sb(51,"br"),i.Xb(52,"p",49),i.Tc(53),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=i.jc();i.Eb(13),i.Uc(null==t?null:t.firstName),i.Eb(3),i.Uc(null==t?null:t.middleName),i.Eb(3),i.Uc(null==t?null:t.lastName),i.Eb(5),i.Vc("Last Updated On ",null!=t&&t.modifiedTime?t.modifiedTime:t.createdTime,""),i.Eb(2),i.rc("ngIf",!a.isApprovedSreen),i.Eb(1),i.rc("ngIf",a.isApprovedSreen),i.Eb(8),i.Uc(null==t?null:t.dateOfBirth),i.Eb(6),i.Uc(null==t?null:t.primaryEmailAdress),i.Eb(6),i.Uc(t.phoneNumber),i.Eb(6),i.Uc(null==t?null:t.landlineNumber)}}function Cb(t,e){if(1&t&&i.Sb(0,"apx-chart",95),2&t){const t=i.jc(2);i.rc("series",t.chartOptions.series)("chart",t.chartOptions.chart)("plotOptions",t.chartOptions.plotOptions)("labels",t.chartOptions.labels)}}function Eb(t,e){if(1&t&&i.Sb(0,"apx-chart",96),2&t){const t=i.jc(2);i.rc("series",t.chartOptions1.series1)("chart",t.chartOptions1.chart1)("yaxis",t.chartOptions1.yaxis1)("xaxis",t.chartOptions1.xaxis1)("labels",t.chartOptions1.labels1)("stroke",t.chartOptions1.stroke1)("markers",t.chartOptions1.markers1)("fill",t.chartOptions1.fill1)("tooltip",t.chartOptions1.tooltip1)}}function Ob(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"h3"),i.Tc(3,"Financial Details"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"mat-icon",31),i.fc("click",function(){return i.Hc(t),i.jc().editFinancialDetails()}),i.Tc(6,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(7,"hr"),i.Xb(8,"mat-card"),i.Xb(9,"div",75),i.Xb(10,"mat-card"),i.Xb(11,"h4"),i.Tc(12,"Assets and Liabilities"),i.Wb(),i.Rc(13,Cb,1,4,"apx-chart",86),i.Wb(),i.Xb(14,"mat-card"),i.Xb(15,"h4"),i.Tc(16,"Income and Expenses"),i.Wb(),i.Rc(17,Eb,1,9,"apx-chart",87),i.Wb(),i.Wb(),i.Xb(18,"mat-card"),i.Xb(19,"mat-card-header",88),i.Xb(20,"div",89),i.Xb(21,"div",90),i.Xb(22,"div",91),i.Xb(23,"mat-icon"),i.Tc(24,"perm_identity"),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div"),i.Xb(26,"mat-card-title",92),i.Tc(27),i.Wb(),i.Xb(28,"mat-card-subtitle",93),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",94),i.Xb(31,"div"),i.Xb(32,"div",36),i.Tc(33,"Employment Type"),i.Wb(),i.Xb(34,"div",37),i.Tc(35),i.Wb(),i.Wb(),i.Xb(36,"div"),i.Xb(37,"div",36),i.Tc(38,"Employment Category"),i.Wb(),i.Xb(39,"div",37),i.Tc(40),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(41,"br"),i.Wb()}if(2&t){const t=i.jc();i.Eb(5),i.rc("hidden",t.editScreen),i.Eb(8),i.rc("ngIf",t.chartOptions),i.Eb(4),i.rc("ngIf",t.chartOptions1),i.Eb(10),i.Uc(t.designation),i.Eb(2),i.Wc("",t.employeeNumber,",",t.officeName," "),i.Eb(6),i.Uc(t.employmentType),i.Eb(5),i.Uc(t.employmentCategory)}}function Db(t,e){if(1&t&&(i.Xb(0,"div",33),i.Sb(1,"div",34),i.Xb(2,"div",35),i.Xb(3,"div",36),i.Tc(4,"Limit Type"),i.Wb(),i.Xb(5,"div",37),i.Tc(6),i.Wb(),i.Wb(),i.Xb(7,"div",35),i.Xb(8,"div",36),i.Tc(9,"Daily Limit"),i.Wb(),i.Xb(10,"div",37),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"div",35),i.Xb(13,"div",36),i.Tc(14,"Limit Per Transaction"),i.Wb(),i.Xb(15,"div",37),i.Tc(16),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(6),i.Uc(t.limitType),i.Eb(5),i.Uc(t.dailyLimit),i.Eb(5),i.Uc(t.limitPerTransaction)}}function Ab(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",30),i.Xb(2,"h3"),i.Tc(3,"Card Preferences Details"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"mat-icon",31),i.fc("click",function(){return i.Hc(t),i.jc().editCardPreferenceDetails()}),i.Tc(6,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Sb(7,"hr"),i.Xb(8,"mat-card"),i.Xb(9,"mat-card-content"),i.Rc(10,Db,17,3,"div",97),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(5),i.rc("hidden",t.editScreen),i.Eb(5),i.rc("ngForOf",t.preferenceDetails)}}function Rb(t,e){if(1&t&&(i.Xb(0,"div",37),i.Xb(1,"a",98),i.Tc(2,"link"),i.Wb(),i.Sb(3,"link"),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.sc("href",t.documentUrl,i.Jc)}}function Sb(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div"),i.Xb(2,"h4"),i.Tc(3,"Fixed Interest"),i.Wb(),i.Wb(),i.Xb(4,"div",100),i.Xb(5,"div"),i.Xb(6,"mat-card",101),i.Xb(7,"div"),i.Xb(8,"div",36),i.Tc(9,"Interest Type"),i.Wb(),i.Xb(10,"div",37),i.Tc(11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div"),i.Xb(13,"mat-card",101),i.Xb(14,"div"),i.Xb(15,"div",36),i.Tc(16,"Applicable Int Rate %"),i.Wb(),i.Xb(17,"div",37),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div"),i.Xb(20,"mat-card",101),i.Xb(21,"div"),i.Xb(22,"div",36),i.Tc(23,"Effective Rate %"),i.Wb(),i.Xb(24,"div",37),i.Tc(25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div"),i.Xb(27,"mat-card",101),i.Xb(28,"div"),i.Xb(29,"div",36),i.Tc(30,"Int Margin In %"),i.Wb(),i.Xb(31,"div",37),i.Tc(32),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(11),i.Uc(t.intrestType),i.Eb(7),i.Uc(t.intrestRateApplicable),i.Eb(7),i.Uc(t.effectiveRate),i.Eb(7),i.Uc(t.marginIn)}}function Nb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-card"),i.Xb(1,"div",30),i.Xb(2,"h3"),i.Tc(3,"Interest Details"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"mat-icon",31),i.fc("click",function(){return i.Hc(t),i.jc(2).editInterestDetails()}),i.Tc(6,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(7,Sb,33,4,"mat-card",99),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(5),i.rc("hidden",t.editScreen),i.Eb(2),i.rc("ngForOf",t.intrestDetails)}}function Pb(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div"),i.Xb(2,"h4"),i.Tc(3,"Handling Charge"),i.Wb(),i.Wb(),i.Xb(4,"div"),i.Xb(5,"div"),i.Xb(6,"mat-card",102),i.Xb(7,"div"),i.Xb(8,"div",36),i.Tc(9,"Amount"),i.Wb(),i.Xb(10,"div",37),i.Tc(11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(11),i.Uc(t.amount)}}function kb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-card"),i.Xb(1,"div",30),i.Xb(2,"h3"),i.Tc(3,"Charge Details"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"mat-icon",31),i.fc("click",function(){return i.Hc(t),i.jc(2).editChargeDetails()}),i.Tc(6,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Rc(7,Pb,12,1,"mat-card",99),i.Wb()}if(2&t){const t=i.jc(2);i.Eb(5),i.rc("hidden",t.editScreen),i.Eb(2),i.rc("ngForOf",t.chargeDetails)}}function Fb(t,e){if(1&t&&(i.Xb(0,"div",25),i.Xb(1,"div",26),i.Xb(2,"div",27),i.Tc(3,"3"),i.Wb(),i.Xb(4,"div",28),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Xb(6,"div",29),i.Xb(7,"h2"),i.Tc(8,"Application Enrichment"),i.Wb(),i.Sb(9,"hr"),i.Rc(10,Nb,8,2,"mat-card",51),i.Sb(11,"br"),i.Sb(12,"hr"),i.Rc(13,kb,8,2,"mat-card",51),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(10),i.rc("ngIf",(null==t.intrestDetails?null:t.intrestDetails.length)>0),i.Eb(3),i.rc("ngIf",(null==t.chargeDetails?null:t.chargeDetails.length)>0)}}function Lb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",25),i.Xb(1,"div",26),i.Xb(2,"div",27),i.Tc(3,"4"),i.Wb(),i.Xb(4,"div",28),i.Tc(5,"\xa0"),i.Wb(),i.Wb(),i.Sb(6,"br"),i.Xb(7,"div",29),i.Xb(8,"h2"),i.Tc(9,"Underwriting Stage"),i.Wb(),i.Sb(10,"hr"),i.Xb(11,"div"),i.Xb(12,"div",30),i.Xb(13,"h3"),i.Tc(14,"Credit Score Details"),i.Wb(),i.Xb(15,"span"),i.Xb(16,"mat-icon",31),i.fc("click",function(){return i.Hc(t),i.jc().editCreditScoreDetails()}),i.Tc(17,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"div",39),i.Xb(19,"div",42),i.Xb(20,"div",43),i.Xb(21,"mat-card",103),i.Xb(22,"mat-card-content"),i.Xb(23,"div",38),i.Xb(24,"div",104),i.Xb(25,"div",105),i.Vb(26),i.Xb(27,"div",106),i.Xb(28,"mat-hint",36),i.Tc(29,"Customer Name"),i.Wb(),i.Sb(30,"br"),i.Xb(31,"mat-hint",37),i.Tc(32),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(33,"div",39),i.Xb(34,"div",42),i.Xb(35,"div",43),i.Xb(36,"mat-card",103),i.Xb(37,"mat-card-content"),i.Xb(38,"div",38),i.Xb(39,"div",104),i.Xb(40,"div",105),i.Vb(41),i.Sb(42,"div",107),i.Xb(43,"div",108),i.Xb(44,"mat-card",109),i.Xb(45,"h3"),i.Tc(46,"Score"),i.Wb(),i.Sb(47,"br"),i.Xb(48,"div",110),i.Xb(49,"div",105),i.Vb(50),i.Xb(51,"div",111),i.Xb(52,"mat-hint",36),i.Tc(53,"Agency"),i.Wb(),i.Sb(54,"br"),i.Xb(55,"mat-hint",37),i.Tc(56),i.Wb(),i.Wb(),i.Xb(57,"div",111),i.Xb(58,"mat-hint",36),i.Tc(59,"Score"),i.Wb(),i.Sb(60,"br"),i.Xb(61,"mat-hint",37),i.Tc(62),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Sb(63,"br"),i.Xb(64,"div",104),i.Xb(65,"div",105),i.Vb(66),i.Xb(67,"div",111),i.Xb(68,"mat-hint",36),i.Tc(69,"Remarks"),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",37),i.Tc(72),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(73,"hr"),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(16),i.rc("hidden",t.editScreen),i.Eb(16),i.Uc(t.customerName),i.Eb(24),i.Uc(t.agencyName),i.Eb(6),i.Uc(t.ratings),i.Eb(10),i.Vc("",t.remarks," ")}}function _b(t,e){if(1&t&&(i.Xb(0,"div",37),i.Xb(1,"a",98),i.Tc(2,"link"),i.Wb(),i.Sb(3,"link"),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.sc("href",t.signatureDataForCard.fileUrl,i.Jc)}}const wb=function(t,e){return{disabledbtn:t,continueBtn:e}},Ub=function(t,e){return{disabledbtn:t,rejectbtn:e}},Mb=function(t,e){return{disabledbtn:t,approvebtn:e}};let Gb=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b,d){this.router=t,this.tasksummaryService=e,this.ls=a,this.dialogRef=o,this.appApiService=n,this.api=i,this.sanitizer=r,this.data=c,this.cdr=s,this.snack=l,this.dialog=b,this.jwtService=d,this.chart=new u.a,this.isOnGoing="",this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0,this.document_type=["6","7","8"],this.cardDocumentArray=[]}ngOnInit(){this.cardInfo=this.data,console.log(this.cardInfo),localStorage.setItem("cardId",this.cardInfo.cardId),this.cardId=this.ls.getItem(""),this.ls.setItem("CIF_NUM_PRIMARY",this.cardInfo.customerId),this.ls.setItem("NAME",this.cardInfo.firstName+" "+this.cardInfo.lastName),this.getProfileImage(this.cardInfo.customerId),this.getSign(this.cardInfo.cardId),"REJECTED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!1):"ONGOING"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"==this.cardInfo.status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0),this.getAccountInfoByAccountId(this.cardInfo.cardId),this.getCustomerInfoDetails(this.cardInfo.cardId),this.getCustomerDocumentsDetails(this.cardInfo.customerId),this.getCardAccountServiceDetails(this.cardInfo.cardId),this.getQalitativeDetails(this.cardInfo.cardId)}getQalitativeDetails(t){this.api.getCardQualitativeScorecardDetails(t).subscribe(t=>{this.cardQualitativeDetails=t})}getCardDocument(t){for(const e in this.document_type)this.api.getCustomerDocuments(t,this.document_type[e]).subscribe(t=>{this.cardDocumentArray.push(t),console.log(this.cardDocumentArray)})}getCardAccountServiceDetails(t){this.api.gettingCardAccountServiceDetails(t).subscribe(t=>{this.cardAccountService=t})}close(t){this.dialogRef.close({message:"Confirm",data:this.cardInfo.status})}getProfileImage(t){this.image=null,null!=this.cardInfo.customerId&&this.api.getProfileDetails(t).subscribe(t=>{null!=t.profileImage&&(this.imageUrl=t.profileImage,this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},t=>{console.log(t)})}getSign(t){this.api.getDigitalsignByCardId(t).subscribe(t=>{console.log(t),null!=t&&(console.log(t[t.length-1]),this.signatureDataForCard=t[t.length-1])},t=>{})}goToCardAccount(){console.log("Navigating to edit screen"),this.ls.setItem("EDIT-CARDINFO",this.cardAccountInfo),this.api.updateCardStatus({cardId:this.cardInfo.cardId,status:"ONGOING"}).subscribe(t=>{}),console.log("acc data :: ",this.cardInfo),setTimeout(()=>{this.router.navigateByUrl("/cardaccount/applicationEntryStage/list")},1e3),this.dialogRef.close({message:"Confirm"})}getAccountInfoByAccountId(t){this.tasksummaryService.getCardAccountInfoById(t).subscribe(t=>{if(t){this.cardAccountInfo=t,this.getCardDocument(this.cardAccountInfo.initiationInfo.customerId),console.log("backend data",this.cardAccountInfo),this.initiationDetails=this.cardAccountInfo.initiationInfo,console.log(this.initiationDetails),this.cardAccountInfo.financialInfo&&(this.financialDetails=this.cardAccountInfo.financialInfo[0],this.income=this.cardAccountInfo.financialInfo[0].applicantTotalIncome,this.expense=this.cardAccountInfo.financialInfo[0].applicantTotalExpense,this.designation=this.cardAccountInfo.financialInfo[0].designation,this.office=this.cardAccountInfo.financialInfo[0].office,this.employeeNumber=this.cardAccountInfo.financialInfo[0].employeeNumber,this.employmentType=this.cardAccountInfo.financialInfo[0].employmentType,this.employmentCategory=this.cardAccountInfo.financialInfo[0].employmentCategory),this.cardAccountInfo.creditRatingInfo&&(this.creditRatingDetails=this.cardAccountInfo.creditRatingInfo,this.customerName=this.cardAccountInfo.creditRatingInfo.customerName,this.cardAccountInfo.creditRatingInfo.agencyRating&&(this.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName&&(this.agencyName=this.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName),this.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings&&(this.ratings=this.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings),this.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks&&(this.remarks=this.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks))),this.intrestDetails=this.cardAccountInfo.interestInfo,this.chargeDetails=this.cardAccountInfo.chargeInfo,this.signatureData=this.cardAccountInfo.documentInfo,this.assessmentDetails=this.cardAccountInfo.assessmentInfo,this.approvalDetails=this.cardAccountInfo.approvalInfo,this.preferenceDetails=this.cardAccountInfo.preferenceInfo,this.assignValues(this.cardAccountInfo.initiationInfo,this.cardAccountInfo.financialInfo[0],this.cardAccountInfo.creditRatingInfo,this.cardAccountInfo.interestInfo,this.cardAccountInfo.chargeInfo,this.cardAccountInfo.documentInfo,this.cardAccountInfo.assessmentInfo,this.cardAccountInfo.approvalInfo,this.cardAccountInfo.preferenceInfo);for(const t in this.cardAccountInfo)Object.prototype.hasOwnProperty.call(this.cardAccountInfo,t)}})}assignValues(t,e,a,o,n,i,r,c,s){this.approvalDetails=c,this.assessmentDetails=r,this.initiationDetails=t,this.creditRatingDetails=a,this.financialDetails=e,this.interestDetails=o,this.chargeDetails=n,this.signatureData=i,this.preferenceDetails=s,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.expense,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}getCustomerDocumentsDetails(t){this.api.getCustomerAllDocuments(t,[6,7,8]).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName,this.documentUrl=this.custOtherDoc_array[0].fileUrl)})}updateApplicationStatus(t,e){console.log("formData::",t);let a=e;this.accStatus=e,console.log(this.accStatus),this.tasksummaryService.updateCardAccountStatus({status:this.accStatus,cardId:t.cardId}).subscribe(t=>{null!=t.cardId||""!=t.cardId||""!=t.cardId?(this.close(a),this.cdr.markForCheck(),this.cdr.detectChanges(),this.dialogRef.close({message:"Confirm",data:a}),this.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck()):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}openEditScreen(t,e){this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{this.cardInfo.status=t.status,"BACKLOG"==this.cardInfo.status&&(this.approvedStatus=!1,this.rejectedStatus=!1),this.getAccountInfoByAccountId(this.cardInfo.cardId),this.getSign(this.cardInfo.cardId),this.cdr.markForCheck()})}editProofOfIdentity(){this.openEditScreen(fb,this.custOtherDoc_array)}editInitiationDetails(){this.openEditScreen(Rl,this.initiationDetails)}editFinancialDetails(){this.openEditScreen(bb,this.cardAccountInfo)}editCardPreferenceDetails(){this.openEditScreen(pb,{preferanceInfo:this.preferenceDetails,cardId:this.cardInfo.cardId})}editInterestDetails(){this.openEditScreen(tb,{interestInfo:this.interestDetails,cardId:this.cardInfo.cardId})}editChargeDetails(){this.openEditScreen(Zl,{chargeInfo:this.chargeDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}editCreditScoreDetails(){this.openEditScreen(Hl,{creditScore:this.creditRatingDetails,cardId:this.cardInfo.cardId})}editAssessmentReport(){this.openEditScreen(zl,{assessmentInfo:this.assessmentDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}editApprovalDetails(){this.openEditScreen(Vl,{approvalInfo:this.approvalDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}editDigitalSign(){this.ls.setItem("cardSignedImage",null!=this.signatureDataForCard?this.signatureDataForCard.fileUrl:"not_available"),this.ls.setItem("cId",this.cardInfo.customerId),this.openEditScreen(hb.a,this.cardInfo)}getCustomerInfoDetails(t){this.appApiService.fetchCardCustomersByCardId(t,"cardOrigin").subscribe(t=>{t.data&&(this.customerInfoDetails=t.data,this.ownership=this.customerInfoDetails[0].ownership,this.noOfApplicants=this.customerInfoDetails[0].numOfApplicants,this.ownership=this.ls.getItem("cardownership_value"),this.noOfApplicants=this.ls.getItem("CardNoOfApplicants"))},t=>{})}continue(){var t,e,a,o,n,i,r,c,s,l,b,d,u,m,p,h,f,g,v;this.ls.setItem("cardId",null===(t=this.initiationDetails)||void 0===t?void 0:t.cardId),this.ls.setItem("CARD_INITIATION_DONE",!!this.initiationDetails),this.ls.setItem("Card_Customer_Done",0!=(null===(a=null===(e=this.customerInfoDetails)||void 0===e?void 0:e.data)||void 0===a?void 0:a.length)),this.ls.setItem("CARD_FINANCIAL_DONE",0!=(null===(o=this.cardAccountInfo.financialInfo)||void 0===o?void 0:o.lenght)),this.ls.setItem("card_prefrence_done",0!=(null===(n=this.cardAccountInfo.preferenceInfo)||void 0===n?void 0:n.length)),this.ls.setItem("CARD_ACC_SERVICE_DONE",!!this.cardAccountService),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",0!=(this.initiationDetails&&0!=(null===(r=null===(i=this.customerInfoDetails)||void 0===i?void 0:i.data)||void 0===r?void 0:r.length)&&0!=(null===(c=this.cardAccountInfo.financialInfo)||void 0===c?void 0:c.lenght)&&(null===(s=this.cardAccountInfo.preferenceInfo)||void 0===s?void 0:s.length)&&this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!(!this.initiationDetails||0==(null===(b=null===(l=this.customerInfoDetails)||void 0===l?void 0:l.data)||void 0===b?void 0:b.length)||0==(null===(d=this.cardAccountInfo.financialInfo)||void 0===d?void 0:d.lenght)||0==(null===(u=this.cardAccountInfo.preferenceInfo)||void 0===u?void 0:u.length)||!this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_ENRICHMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!(0==(null===(m=this.cardAccountInfo.interestInfo)||void 0===m?void 0:m.length)||!this.cardAccountInfo.interestInfo)),this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!(0==(null===(p=this.cardAccountInfo.chargeInfo)||void 0===p?void 0:p.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_UNDERWRITING_DONE",!(0==(null===(h=this.cardAccountInfo.interestInfo)||void 0===h?void 0:h.length)||!this.cardAccountInfo.interestInfo||0==(null===(f=this.cardAccountInfo.chargeInfo)||void 0===f?void 0:f.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!(0==(null===(g=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===g?void 0:g.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating||!this.cardQualitativeDetails)),this.ls.setItem("CARD_CREDIT_RATING_DONE",!(0==(null===(v=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===v?void 0:v.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating)),this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!!this.cardQualitativeDetails),this.ls.setItem("CARD_ASSESSMENT_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_SUPERVISOR_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_APPROVAL_DONE",!!this.cardAccountInfo.approvalInfo),this.ls.setItem("CARD_DIGITAL_STAGE_DONE",!!this.cardAccountInfo.approvalInfo),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=CARDACC&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(je.h),i.Rb(m.a),i.Rb(l.a),i.Rb(b.g),i.Rb(d.a),i.Rb(r.b),i.Rb(qo.b),i.Rb(b.a),i.Rb(i.h),i.Rb(f.a),i.Rb(b.b),i.Rb(zo.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-account-approver"]],viewQuery:function(t,e){if(1&t&&i.ad(gb,!0),2&t){let t;i.Cc(t=i.gc())&&(e.chart=t.first)}},decls:350,vars:65,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[4,"ngIf"],["class","labelval",4,"ngIf"],["fxLayout","row","class","flex-container",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row",1,"rowbord","nobord"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","20px"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","15",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"continueBtn",3,"hidden","ngClass","click"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row wrap",1,"full-width"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[3,"series","chart","plotOptions","labels",4,"ngIf"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip",4,"ngIf"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[1,"circle"],[1,"content1"],[1,"matCardTitle"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"matCardTitle","col"],[3,"series","chart","plotOptions","labels"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","class","rowbord",4,"ngFor","ngForOf"],["download","",1,"linkColor",3,"href"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"appersoninfocard",2,"width","100px"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"div",0),i.Xb(2,"div",1),i.Xb(3,"div",2),i.Xb(4,"div",3),i.Xb(5,"mat-icon",4),i.fc("click",function(){return e.close(e.data)}),i.Tc(6," close "),i.Wb(),i.Wb(),i.Wb(),i.Sb(7,"div",5),i.Xb(8,"div",6),i.Xb(9,"div",7),i.Xb(10,"div",8),i.Xb(11,"div",9),i.Rc(12,vb,2,1,"span",10),i.Wb(),i.Xb(13,"div",11),i.Xb(14,"div",12),i.Sb(15,"img",13),i.Tc(16,"\xa0 "),i.Xb(17,"div"),i.Xb(18,"span",14),i.Tc(19),i.Wb(),i.Sb(20,"br"),i.Xb(21,"span",15),i.Tc(22),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div",16),i.Xb(24,"mat-icon",17),i.Tc(25,"phone "),i.Wb(),i.Tc(26,"\xa0\xa0\xa0 "),i.Xb(27,"span",18),i.Tc(28),i.Wb(),i.Wb(),i.Xb(29,"div",16),i.Xb(30,"mat-icon",17),i.Tc(31," mail_outline"),i.Wb(),i.Tc(32,"\xa0\xa0 \xa0 "),i.Xb(33,"span",19),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",20),i.Xb(36,"div",21),i.Rc(37,Wb,7,16,"div",22),i.Rc(38,yb,2,1,"div",23),i.Wb(),i.Wb(),i.Sb(39,"br"),i.Sb(40,"br"),i.Sb(41,"br"),i.Sb(42,"br"),i.Xb(43,"div",24),i.Xb(44,"h2"),i.Tc(45),i.Wb(),i.Wb(),i.Xb(46,"div",25),i.Xb(47,"div",26),i.Xb(48,"div",27),i.Tc(49,"1"),i.Wb(),i.Xb(50,"div",28),i.Tc(51,"\xa0"),i.Wb(),i.Wb(),i.Xb(52,"div",29),i.Xb(53,"h2"),i.Tc(54,"Application Entry Stage"),i.Wb(),i.Sb(55,"hr"),i.Xb(56,"div",30),i.Xb(57,"h3"),i.Tc(58,"Card Initiation Details"),i.Wb(),i.Xb(59,"span"),i.Xb(60,"mat-icon",31),i.fc("click",function(){return e.editInitiationDetails()}),i.Tc(61,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"mat-card",32),i.Xb(63,"mat-card-content"),i.Xb(64,"div",33),i.Sb(65,"div",34),i.Xb(66,"div",35),i.Xb(67,"div",36),i.Tc(68,"Existing Customer"),i.Wb(),i.Xb(69,"div",37),i.Tc(70),i.Wb(),i.Wb(),i.Xb(71,"div",35),i.Xb(72,"div",36),i.Tc(73,"Card Type"),i.Wb(),i.Xb(74,"div",37),i.Tc(75),i.Wb(),i.Wb(),i.Xb(76,"div",35),i.Xb(77,"div",36),i.Tc(78,"Customer Account"),i.Wb(),i.Xb(79,"div",37),i.Tc(80),i.Wb(),i.Wb(),i.Wb(),i.Xb(81,"div",33),i.Sb(82,"div",34),i.Xb(83,"div",35),i.Xb(84,"div",36),i.Tc(85,"Applicant Name"),i.Wb(),i.Xb(86,"div",37),i.Tc(87),i.Wb(),i.Wb(),i.Xb(88,"div",35),i.Xb(89,"div",36),i.Tc(90,"Currency"),i.Wb(),i.Xb(91,"div",37),i.Tc(92),i.Wb(),i.Wb(),i.Xb(93,"div",35),i.Xb(94,"div",36),i.Tc(95,"Employment Type"),i.Wb(),i.Xb(96,"div",37),i.Tc(97),i.Wb(),i.Wb(),i.Wb(),i.Xb(98,"div",33),i.Sb(99,"div",34),i.Xb(100,"div",35),i.Xb(101,"div",36),i.Tc(102,"Affinity Program"),i.Wb(),i.Xb(103,"div",37),i.Tc(104),i.Wb(),i.Wb(),i.Xb(105,"div",35),i.Xb(106,"div",36),i.Tc(107,"Status"),i.Wb(),i.Xb(108,"div",37),i.Tc(109),i.Wb(),i.Wb(),i.Xb(110,"div",35),i.Xb(111,"div",36),i.Tc(112,"Modification No"),i.Wb(),i.Xb(113,"div",37),i.Tc(114),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(115,"mat-card",32),i.Xb(116,"div",38),i.Xb(117,"div",39),i.Xb(118,"div",40),i.Xb(119,"h4",41),i.Tc(120,"Customer Information"),i.Wb(),i.Wb(),i.Xb(121,"div",42),i.Xb(122,"div",43),i.Xb(123,"div",38),i.Xb(124,"div",44),i.Xb(125,"div",45),i.Xb(126,"div"),i.Xb(127,"mat-card"),i.Xb(128,"div",46),i.Xb(129,"div",47),i.Xb(130,"small",48),i.Tc(131,"Holding Pattern"),i.Wb(),i.Xb(132,"h3",49),i.Tc(133),i.Wb(),i.Wb(),i.Xb(134,"div",47),i.Xb(135,"small",48),i.Tc(136,"Ownership"),i.Wb(),i.Xb(137,"h3",49),i.Tc(138),i.Wb(),i.Wb(),i.Xb(139,"div",47),i.Xb(140,"small",48),i.Tc(141,"Number of Applicant"),i.Wb(),i.Xb(142,"h3",49),i.Tc(143),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(144,xb,54,10,"div",50),i.Wb(),i.Wb(),i.Sb(145,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(146,Ob,42,8,"div",51),i.Rc(147,Ab,11,2,"div",51),i.Wb(),i.Wb(),i.Xb(148,"div",25),i.Xb(149,"div",26),i.Xb(150,"div",27),i.Tc(151,"2"),i.Wb(),i.Xb(152,"div",28),i.Tc(153,"\xa0"),i.Wb(),i.Wb(),i.Xb(154,"div",29),i.Xb(155,"h2"),i.Tc(156,"Document Type"),i.Wb(),i.Sb(157,"hr"),i.Xb(158,"div",30),i.Xb(159,"h3"),i.Tc(160,"Document Type"),i.Wb(),i.Xb(161,"span"),i.Xb(162,"mat-icon",31),i.fc("click",function(){return e.editProofOfIdentity()}),i.Tc(163,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(164,"mat-card",32),i.Xb(165,"mat-card-content"),i.Xb(166,"div",33),i.Sb(167,"div",34),i.Xb(168,"div",35),i.Xb(169,"div",36),i.Tc(170,"Document Name"),i.Wb(),i.Xb(171,"div",37),i.Tc(172),i.Wb(),i.Wb(),i.Xb(173,"div",35),i.Xb(174,"div",36),i.Tc(175,"Download"),i.Wb(),i.Rc(176,Rb,4,1,"div",52),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(177,"hr"),i.Wb(),i.Wb(),i.Rc(178,Fb,14,2,"div",53),i.Rc(179,Lb,74,5,"div",53),i.Xb(180,"div",25),i.Xb(181,"div",26),i.Xb(182,"div",27),i.Tc(183,"5"),i.Wb(),i.Xb(184,"div",28),i.Tc(185,"\xa0"),i.Wb(),i.Wb(),i.Xb(186,"div",29),i.Xb(187,"h2"),i.Tc(188,"Assessment Stage"),i.Wb(),i.Sb(189,"hr"),i.Xb(190,"div",30),i.Xb(191,"h3"),i.Tc(192,"Assessment Report"),i.Wb(),i.Xb(193,"span"),i.Xb(194,"mat-icon",31),i.fc("click",function(){return e.editAssessmentReport()}),i.Tc(195,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(196,"mat-card",32),i.Xb(197,"mat-card-content"),i.Xb(198,"div",33),i.Sb(199,"div",34),i.Xb(200,"div",35),i.Xb(201,"div",36),i.Tc(202,"Requested Card Limit"),i.Wb(),i.Xb(203,"div",37),i.Tc(204),i.Wb(),i.Wb(),i.Xb(205,"div",35),i.Xb(206,"div",36),i.Tc(207,"System Recommendation"),i.Wb(),i.Xb(208,"div",37),i.Tc(209),i.Wb(),i.Wb(),i.Xb(210,"div",35),i.Xb(211,"div",36),i.Tc(212,"User Recommendation"),i.Wb(),i.Xb(213,"div",37),i.Tc(214),i.Wb(),i.Wb(),i.Wb(),i.Xb(215,"div",33),i.Sb(216,"div",34),i.Xb(217,"div",35),i.Xb(218,"div",36),i.Tc(219,"Recommended Card Limit"),i.Wb(),i.Xb(220,"div",37),i.Tc(221),i.Wb(),i.Wb(),i.Xb(222,"div",35),i.Xb(223,"div",36),i.Tc(224,"Approved Card Limit"),i.Wb(),i.Xb(225,"div",37),i.Tc(226),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(227,"div",25),i.Xb(228,"div",26),i.Xb(229,"div",27),i.Tc(230,"6"),i.Wb(),i.Xb(231,"div",28),i.Tc(232,"\xa0"),i.Wb(),i.Wb(),i.Xb(233,"div",29),i.Xb(234,"h2"),i.Tc(235,"Approval Stage"),i.Wb(),i.Sb(236,"hr"),i.Xb(237,"div",30),i.Xb(238,"h3"),i.Tc(239,"Approval Details"),i.Wb(),i.Xb(240,"span"),i.Xb(241,"mat-icon",31),i.fc("click",function(){return e.editApprovalDetails()}),i.Tc(242,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(243,"mat-card",32),i.Xb(244,"mat-card-content"),i.Xb(245,"div",33),i.Sb(246,"div",34),i.Xb(247,"div",35),i.Xb(248,"div",36),i.Tc(249,"Account Type"),i.Wb(),i.Xb(250,"div",37),i.Tc(251),i.Wb(),i.Wb(),i.Xb(252,"div",35),i.Xb(253,"div",36),i.Tc(254,"Account Branch"),i.Wb(),i.Xb(255,"div",37),i.Tc(256),i.Wb(),i.Wb(),i.Xb(257,"div",35),i.Xb(258,"div",36),i.Tc(259,"Product Code"),i.Wb(),i.Xb(260,"div",37),i.Tc(261),i.Wb(),i.Wb(),i.Wb(),i.Xb(262,"div",33),i.Sb(263,"div",34),i.Xb(264,"div",35),i.Xb(265,"div",36),i.Tc(266,"Product Name"),i.Wb(),i.Xb(267,"div",37),i.Tc(268),i.Wb(),i.Wb(),i.Xb(269,"div",35),i.Xb(270,"div",36),i.Tc(271,"Account Currency"),i.Wb(),i.Xb(272,"div",37),i.Tc(273),i.Wb(),i.Wb(),i.Xb(274,"div",35),i.Xb(275,"div",36),i.Tc(276,"Existing Value"),i.Wb(),i.Xb(277,"div",37),i.Tc(278),i.Wb(),i.Wb(),i.Wb(),i.Xb(279,"div",33),i.Xb(280,"div",35),i.Xb(281,"mat-card",54),i.Xb(282,"div",55),i.Xb(283,"div",56),i.Xb(284,"div",57),i.Xb(285,"div",58),i.Xb(286,"mat-icon"),i.Tc(287,"done"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(288,"div",59),i.Xb(289,"div",36),i.Tc(290,"User Recommendation"),i.Wb(),i.Xb(291,"div",37),i.Tc(292),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(293,"div",34),i.Xb(294,"div",35),i.Xb(295,"div",36),i.Tc(296,"Remarks"),i.Wb(),i.Xb(297,"div",37),i.Tc(298),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(299,"div",60),i.Xb(300,"div",61),i.Xb(301,"div",27),i.Tc(302,"7"),i.Wb(),i.Xb(303,"div",28),i.Tc(304,"\xa0"),i.Wb(),i.Wb(),i.Xb(305,"div",29),i.Xb(306,"h2"),i.Tc(307,"Digital Sign"),i.Wb(),i.Sb(308,"hr"),i.Xb(309,"div",30),i.Xb(310,"h3"),i.Tc(311,"Digital Sign"),i.Wb(),i.Xb(312,"span"),i.Xb(313,"mat-icon",31),i.fc("click",function(){return e.editDigitalSign()}),i.Tc(314,"edit"),i.Wb(),i.Wb(),i.Wb(),i.Xb(315,"mat-card",32),i.Xb(316,"mat-card-content"),i.Xb(317,"div",33),i.Sb(318,"div",34),i.Xb(319,"div",35),i.Xb(320,"div",36),i.Tc(321,"Document Name"),i.Wb(),i.Xb(322,"div",37),i.Tc(323),i.Wb(),i.Wb(),i.Xb(324,"div",35),i.Xb(325,"div",36),i.Tc(326,"File Type"),i.Wb(),i.Xb(327,"div",37),i.Tc(328),i.Wb(),i.Wb(),i.Xb(329,"div",35),i.Xb(330,"div",36),i.Tc(331,"File Name"),i.Wb(),i.Xb(332,"div",37),i.Tc(333,"Signature"),i.Wb(),i.Wb(),i.Xb(334,"div",35),i.Xb(335,"div",36),i.Tc(336,"Download"),i.Wb(),i.Rc(337,_b,4,1,"div",52),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(338,"hr"),i.Wb(),i.Wb(),i.Xb(339,"div",62),i.Xb(340,"div"),i.Xb(341,"button",63),i.fc("click",function(){return e.continue()}),i.Tc(342," Cotinue "),i.Wb(),i.Tc(343,"\xa0\xa0 "),i.Xb(344,"button",64),i.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"REJECTED")}),i.Tc(345," Reject "),i.Wb(),i.Tc(346," \xa0\xa0 "),i.Xb(347,"button",65),i.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"APPROVED")}),i.Tc(348,"Approve"),i.Wb(),i.Tc(349," \xa0\xa0 "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(12),i.rc("ngForOf",e.nameCreater),i.Eb(7),i.Vc("",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.createdBy," "),i.Eb(3),i.Vc("EID #",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.creatorId,""),i.Eb(6),i.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.mobile," "),i.Eb(6),i.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.email," "),i.Eb(3),i.rc("ngIf","not_available"==e.imageUrl),i.Eb(1),i.rc("ngIf","not_available"!=e.imageUrl),i.Eb(7),i.Xc("",e.cardInfo.prefix,"\xa0",e.cardInfo.firstName,"\xa0",e.cardInfo.lastName,""),i.Eb(15),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.initiationDetails?null:e.initiationDetails.existingCustomer),i.Eb(5),i.Uc(null==e.initiationDetails?null:e.initiationDetails.cardType),i.Eb(5),i.Uc(null==e.initiationDetails?null:e.initiationDetails.customerAccount),i.Eb(7),i.Uc(null==e.initiationDetails?null:e.initiationDetails.applicantName),i.Eb(5),i.Uc(null==e.initiationDetails?null:e.initiationDetails.currency),i.Eb(5),i.Uc(null==e.initiationDetails?null:e.initiationDetails.employmentType),i.Eb(7),i.Uc(null==e.initiationDetails?null:e.initiationDetails.affinityProgram),i.Eb(5),i.Uc(null==e.initiationDetails?null:e.initiationDetails.status),i.Eb(5),i.Uc(null==e.initiationDetails?null:e.initiationDetails.modificationNo),i.Eb(19),i.Uc(e.ownership),i.Eb(5),i.Uc(e.ownership),i.Eb(5),i.Uc(e.noOfApplicants),i.Eb(1),i.rc("ngForOf",e.customerInfoDetails),i.Eb(2),i.rc("ngIf",null!=e.financialDetails),i.Eb(1),i.rc("ngIf",null!=e.preferenceDetails),i.Eb(15),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(e.documentName),i.Eb(4),i.rc("ngIf",e.documentUrl),i.Eb(2),i.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0||(null==e.chargeDetails?null:e.chargeDetails.length)>0),i.Eb(1),i.rc("ngIf",(null==e.creditRatingDetails||null==e.creditRatingDetails.agencyRating?null:e.creditRatingDetails.agencyRating.length)>0),i.Eb(15),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.assessmentDetails?null:e.assessmentDetails.requestedCardLimit),i.Eb(5),i.Uc(null==e.assessmentDetails?null:e.assessmentDetails.systemRecommendation),i.Eb(5),i.Uc(null==e.assessmentDetails?null:e.assessmentDetails.userRecommendation),i.Eb(7),i.Uc(null==e.assessmentDetails?null:e.assessmentDetails.recommendedCardLimit),i.Eb(5),i.Uc(null==e.assessmentDetails?null:e.assessmentDetails.approvedCardLimit),i.Eb(15),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.approvalDetails?null:e.approvalDetails.accountType),i.Eb(5),i.Uc(null==e.approvalDetails?null:e.approvalDetails.accountBranch),i.Eb(5),i.Uc(null==e.approvalDetails?null:e.approvalDetails.productCode),i.Eb(7),i.Uc(null==e.approvalDetails?null:e.approvalDetails.productName),i.Eb(5),i.Uc(null==e.approvalDetails?null:e.approvalDetails.accountCurrency),i.Eb(5),i.Uc(null==e.approvalDetails?null:e.approvalDetails.existingValues),i.Eb(14),i.Uc(null==e.approvalDetails?null:e.approvalDetails.userRecommendation),i.Eb(6),i.Uc(null==e.approvalDetails?null:e.approvalDetails.remarks),i.Eb(15),i.rc("hidden",e.editScreen),i.Eb(10),i.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.documentName),i.Eb(5),i.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.fileType),i.Eb(9),i.rc("ngIf",null==e.signatureDataForCard?null:e.signatureDataForCard.fileUrl),i.Eb(4),i.rc("hidden",e.continueStatus)("ngClass",i.yc(56,wb,e.continueStatus,!e.continueStatus)),i.Eb(3),i.rc("hidden",e.rejectedStatus)("ngClass",i.yc(59,Ub,e.rejectedStatus,!e.rejectedStatus)),i.Eb(3),i.rc("hidden",e.approvedStatus)("ngClass",i.yc(62,Mb,e.approvedStatus,!e.approvedStatus)))},directives:[g.e,g.d,v.a,o.m,X.c,o.n,g.b,X.a,X.d,g.f,o.l,Ko.a,X.e,X.h,X.g,u.a,W.f],pipes:[o.v,o.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%;margin-left:22%}.closeIcon[_ngcontent-%COMP%]{color:#a9a9a9;cursor:pointer;margin-right:30px}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px}.num[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.qtncrd[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:40px;padding:10px}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:7%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%}.appersoninfocard1[_ngcontent-%COMP%]{width:90%}.interstcard[_ngcontent-%COMP%]{width:100px;height:80px;border:1px solid}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:10px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.6rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.matCardTitle[_ngcontent-%COMP%]{font-size:16px;padding-top:1%}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:150px;height:30px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),t})();function Vb(t,e){1&t&&i.Sb(0,"mat-spinner",19),2&t&&i.rc("diameter",15)}function Bb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",20),i.fc("click",function(){return i.Hc(t),i.jc().clear()}),i.Xb(1,"mat-icon"),i.Tc(2,"close"),i.Wb(),i.Wb()}}function jb(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function zb(t,e){if(1&t&&i.Sb(0,"img",34),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function qb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"BACKLOG",n.getRandomColor(o+3))}),i.Xb(1,"mat-icon",22),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,jb,2,1,"div",25),i.Rc(6,zb,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",27),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"table"),i.Xb(14,"thead",30),i.Xb(15,"th",31),i.Tc(16,"Card Type"),i.Wb(),i.Xb(17,"th",31),i.Tc(18,"Applicant name"),i.Wb(),i.Wb(),i.Xb(19,"tbody",32),i.Xb(20,"tr"),i.Xb(21,"td",31),i.Tc(22),i.Wb(),i.Xb(23,"td",31),i.Tc(24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf",null==t.profileImage)("ngIfElse",a),i.Eb(4),i.Xc("",null==t?null:t.firstName," ",null==t?null:t.middleName," ",null==t?null:t.lastName,""),i.Eb(2),i.Uc(null==t?null:t.cardId),i.Eb(11),i.Uc(null==t?null:t.cardType),i.Eb(2),i.Uc(null==t?null:t.applicantName)}}function Kb(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Jb(t,e){if(1&t&&i.Sb(0,"img",34),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function $b(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"ONGOING",n.getRandomColor(o+6))}),i.Xb(1,"mat-icon",35),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,Kb,2,1,"div",25),i.Rc(6,Jb,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",27),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"table"),i.Xb(14,"thead",30),i.Xb(15,"th",36),i.Tc(16,"Card Type"),i.Wb(),i.Xb(17,"th",36),i.Tc(18,"Applicant name"),i.Wb(),i.Wb(),i.Xb(19,"tbody",32),i.Xb(20,"tr"),i.Xb(21,"td",31),i.Tc(22),i.Wb(),i.Xb(23,"td",31),i.Tc(24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf",null==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc("",null==t?null:t.prefix," ",t.firstName," ",t.middleName," ",t.lastName,""),i.Eb(2),i.Uc(null==t?null:t.cardId),i.Eb(11),i.Uc(null==t?null:t.cardType),i.Eb(2),i.Uc(null==t?null:t.applicantName)}}function Hb(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Yb(t,e){if(1&t&&i.Sb(0,"img",34),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function Zb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"APPROVED",n.getRandomColor(o+9))}),i.Xb(1,"mat-icon",37),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,Hb,2,1,"div",25),i.Rc(6,Yb,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",27),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"table"),i.Xb(14,"thead",30),i.Xb(15,"th",36),i.Tc(16,"Card Type"),i.Wb(),i.Xb(17,"th",36),i.Tc(18,"Applicant name"),i.Wb(),i.Wb(),i.Xb(19,"tbody",32),i.Xb(20,"tr"),i.Xb(21,"td",31),i.Tc(22),i.Wb(),i.Xb(23,"td",31),i.Tc(24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf",null==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc("",null==t?null:t.prefix," ",t.firstName," ",t.middleName," ",t.lastName,""),i.Eb(2),i.Vc(" ",null==t?null:t.cardId,""),i.Eb(11),i.Uc(null==t?null:t.cardType),i.Eb(2),i.Uc(null==t?null:t.applicantName)}}function Qb(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",33),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function td(t,e){if(1&t&&i.Sb(0,"img",34),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function ed(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.gotoapproverpage(a,"REJECTED",n.getRandomColor(o+12))}),i.Xb(1,"mat-icon",38),i.Tc(2,"bookmark"),i.Wb(),i.Xb(3,"mat-card-header",23),i.Xb(4,"div",24),i.Rc(5,Qb,2,1,"div",25),i.Rc(6,td,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(8,"mat-card-title",39),i.Tc(9),i.Wb(),i.Xb(10,"mat-card-subtitle",28),i.Tc(11),i.Wb(),i.Wb(),i.Xb(12,"form",29),i.Xb(13,"table"),i.Xb(14,"thead",30),i.Xb(15,"th",36),i.Tc(16,"Card Type"),i.Wb(),i.Xb(17,"th",36),i.Tc(18,"Applicant name"),i.Wb(),i.Wb(),i.Xb(19,"tbody",32),i.Xb(20,"tr"),i.Xb(21,"td",31),i.Tc(22),i.Wb(),i.Xb(23,"td",31),i.Tc(24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(7);i.Eb(5),i.rc("ngIf",null==t.profileImage)("ngIfElse",a),i.Eb(4),i.Xc("",null==t?null:t.firstName," ",t.middleName," ",t.lastName," "),i.Eb(2),i.Uc(null==t?null:t.cardId),i.Eb(11),i.Uc(null==t?null:t.cardType),i.Eb(2),i.Uc(null==t?null:t.applicantName)}}let ad=(()=>{class t{constructor(t,e,a,o,n,r){this.dialog=t,this.sanitizer=e,this.tasksummaryService=a,this.apiService=o,this.cdr=n,this.route=r,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new i.o,this._searchSubject=new c.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}onScroll(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),this.updateSearch(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()})}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{this.searchKycid(t)})}getDataOnLoad(){for(let t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}getAllAccDetails(t,e,a){this.tasksummaryService.getCardAccDetails(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"ONGOING"==t?(this.ONGOINGArr=e.cardList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.cardList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.cardList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.cardList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllCardAccDetailOnScroll(t,e).subscribe(e=>{this.updateDataOnScroll(t,e.cardList),this.cdr.markForCheck()}):console.log("No scroll requied")}gotoapproverpage(t,e,a){this.tasksummaryService.cardStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(Gb,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{"REJECTED"!==t.data&&"APPROVED"!==t.data&&"BACKLOG"!==t.data&&"ONGOING"!==t.data||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}searchKycid(t){let e,a;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cardId"),e=this.searchText.trim(),this.tasksummaryService.getCardAccSearchData1(e).subscribe(t=>{console.log(t),null!=t?(a="cardId="+e,console.log("loan",a)):(console.log("not a loan"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(()=>{this.getAccountData(a)},100),this.isScroll=!1}getAccountData(t){this.loading=!0;for(let e=0;e<this.statusArr.length;e++){const a=this.statusArr[e];"BACKLOG"==a?this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.BACKLOGTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.BACKLOGArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.BACKLOGArr.push(null==t?void 0:t.cardList[e])}):"ONGOING"==a?this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.ONGOINGTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.ONGOINGArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.ONGOINGArr.push(t.cardList[e])}):"APPROVED"==a?this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.APPROVEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.APPROVEDArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.APPROVEDArr.push(t.cardList[e])}):"REJECTED"==a&&this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.REJECTEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.REJECTEDArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.REJECTEDArr.push(t.cardList[e])})}}resetSearchData(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}isNum(t){return!isNaN(t)}isString(t){return t}searchResponseUpdate(t,e){console.log("status::",t),"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}updateDataOnScroll(t,e){if("ONGOING"==t){const t=Kt.unionBy(this.ONGOINGArr,e,"cardId");this.ONGOINGArr=t}else if("BACKLOG"==t){const t=Kt.unionBy(this.BACKLOGArr,e,"cardId");this.BACKLOGArr=t}else if("APPROVED"==t){const t=Kt.unionBy(this.APPROVEDArr,e,"cardId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Kt.unionBy(this.REJECTEDArr,e,"cardId");this.REJECTEDArr=t}this.cdr.markForCheck()}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}ngOnDestroy(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.b),i.Rb(qo.b),i.Rb(m.a),i.Rb(r.b),i.Rb(i.h),i.Rb(je.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-card-origination-task-summary"]],hostBindings:function(t,e){1&t&&i.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:54,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryDetails"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchTopDetails"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Card ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","detailedView",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"detailedView",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","14px"],[2,"color","green"],[1,"head1"],[1,"col1"],[1,"fs-11"],[1,"col2"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMarkOngoing"],[1,"fs-10"],[1,"fill-color-blue","bookMark","bookMarkApproved"],[1,"fill-color-blue","bookMark","bookMarkRejected"],[2,"font-size","16px"]],template:function(t,e){1&t&&(i.Sb(0,"br"),i.Xb(1,"div",0),i.fc("scrolled",function(t){return e.onScroll(t)}),i.Sb(2,"br"),i.Xb(3,"div",1),i.Xb(4,"div",2),i.Xb(5,"div",3),i.Xb(6,"h2",4),i.Tc(7," Card Origination Task Summary "),i.Wb(),i.Wb(),i.Xb(8,"div",5),i.Xb(9,"mat-form-field",6),i.Xb(10,"mat-label"),i.Tc(11,"Search"),i.Wb(),i.Xb(12,"div",7),i.Xb(13,"input",8),i.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),i.Wb(),i.Rc(14,Vb,1,1,"mat-spinner",9),i.Wb(),i.Xb(15,"mat-icon",10),i.Tc(16,"search"),i.Wb(),i.Rc(17,Bb,3,0,"button",11),i.Xb(18,"mat-hint"),i.Tc(19,"Search Card ID or Name"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",12),i.Xb(21,"div",13),i.Xb(22,"mat-card",14),i.Xb(23,"div",15),i.Xb(24,"span",16),i.Xb(25,"h2",17),i.Tc(26),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div"),i.Rc(28,qb,25,8,"div",18),i.Wb(),i.Sb(29,"br"),i.Wb(),i.Xb(30,"mat-card",14),i.Xb(31,"div",15),i.Xb(32,"span",16),i.Xb(33,"h2",17),i.Tc(34),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Rc(36,$b,25,9,"div",18),i.Wb(),i.Sb(37,"br"),i.Wb(),i.Xb(38,"mat-card",14),i.Xb(39,"div",15),i.Xb(40,"span",16),i.Xb(41,"h2",17),i.Tc(42),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"div"),i.Rc(44,Zb,25,9,"div",18),i.Wb(),i.Sb(45,"br"),i.Wb(),i.Xb(46,"mat-card",14),i.Xb(47,"div",15),i.Xb(48,"span",16),i.Xb(49,"h2",17),i.Tc(50),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div"),i.Rc(52,ed,25,8,"div",18),i.Wb(),i.Sb(53,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),i.Eb(12),i.rc("ngModel",e.searchText),i.Eb(1),i.rc("ngIf",e.loading),i.Eb(3),i.rc("ngIf",e.searchText),i.Eb(9),i.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.BACKLOGArr),i.Eb(6),i.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.ONGOINGArr),i.Eb(6),i.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.APPROVEDArr),i.Eb(6),i.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.REJECTEDArr))},directives:[Mn.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,o.n,v.a,W.i,W.f,X.a,o.m,E.b,C.b,W.j,X.e,X.c,X.h,X.g,p.A,p.s,p.t],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.bookMarkOngoing[_ngcontent-%COMP%]{color:orange}.bookMarkApproved[_ngcontent-%COMP%]{color:#1fbfa9}.bookMarkRejected[_ngcontent-%COMP%]{color:red}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.summaryDetails[_ngcontent-%COMP%]{padding-left:29px}.searchTopDetails[_ngcontent-%COMP%]{padding-right:5%}.detailedView[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:30vh}.fs-10[_ngcontent-%COMP%]{font-size:10px;color:grey}.fs-11[_ngcontent-%COMP%]{font-size:11px}"]}),t})();function od(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function nd(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.branchName),i.Eb(1),i.Uc(t.branchName)}}function id(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",22),i.Xb(1,"div",5),i.Xb(2,"mat-label"),i.Tc(3,"loan Amount "),i.Wb(),i.Xb(4,"mat-form-field",6),i.Xb(5,"input",23),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(6,"div",5),i.Xb(7,"mat-label"),i.Tc(8,"Business Product Name "),i.Wb(),i.Xb(9,"mat-form-field",6),i.Xb(10,"mat-select",24),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getAccountType(e.value)}),i.Rc(11,od,2,2,"mat-option",13),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",5),i.Xb(13,"mat-label"),i.Tc(14,"Account Branch"),i.Wb(),i.Xb(15,"mat-form-field",6),i.Xb(16,"mat-select",25),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().onChangeBranch(e)}),i.Rc(17,nd,2,2,"mat-option",13),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(11),i.rc("ngForOf",t.arrayAccountBranch),i.Eb(6),i.rc("ngForOf",t.screenArray)}}function rd(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function cd(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function sd(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}let ld=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b){this.data=t,this.dialogue=e,this.taskSumService=a,this.dialogRef=o,this.fb=n,this.cdr=i,this.apiService=r,this.ls=c,this.snack=s,this.router=l,this.loader=b,this.updateLoanDetails=!1,this.updateAsset=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.minDate=new Date,this.maxDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.ifEdit=!1,this.showEditOption=!1,this.flag=!1,this.flag1=!1,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){console.log("mat dialog data -- ",this.data),this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.getLoanDetails(),this.buildMenuForm(this.data),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state")}getAssetDetails(){this.loader.open(),this.apiService.getAssetails(this.loanaccountID).subscribe(t=>{this.loader.close(),this.assetDetails=t,this.getStateName(this.assetDetails.country),this.getCityName(this.assetDetails.state),console.log(this.assetDetails),this.buildAssetForm(this.assetDetails)},t=>{this.loader.close()})}buildMenuForm(t){var e,a,o,n,i,r,c,s,l,b,d,u,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanUpdateForm=this.fb.group({loanAccountId:[this.loanaccountID],businessProductName:[t?null===(e=null==t?void 0:t.info)||void 0===e?void 0:e.businessProductName:""],accountBranch:[t?null===(a=null==t?void 0:t.info)||void 0===a?void 0:a.accountBranch:""],applicationDate:[t?null===(o=null==t?void 0:t.info)||void 0===o?void 0:o.applicationDate:""],accountType:[t?null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.accountType:""],estimatedCost:[t?null===(i=null==t?void 0:t.info)||void 0===i?void 0:i.estimatedCost:""],customerContribution:[t?null===(r=null==t?void 0:t.info)||void 0===r?void 0:r.customerContribution:""],loanAmount:[t?null===(c=null==t?void 0:t.info)||void 0===c?void 0:c.loanAmount:""],purposeOfLoan:[t?null===(s=null==t?void 0:t.info)||void 0===s?void 0:s.purposeOfLoan:""],accountCurrency:[t?null===(l=null==t?void 0:t.info)||void 0===l?void 0:l.accountCurrency:""],loanTenure:[t?null===(b=null==t?void 0:t.info)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanTenure.split("-")[2]):""],month:[t?null===(u=null==t?void 0:t.info)||void 0===u?void 0:u.loanTenure.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.info)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}save(){console.log("save check");let t={};t=this.loanUpdateForm.value,this.apiService.saveLoanDetails(this.loanUpdateForm.value).subscribe(t=>{this.snack.open("Data Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close(!0)},t=>{this.snack.open("Unable to Save!","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close(!1)})}close(){this.dialogRef.close(!1)}getAccountType(t){console.log("State -- ",t),this.apiService.getAccount(t).subscribe(t=>{console.log("data.accountType",t),this.accountType=t.accountTypeName,console.log("this.accountType",this.accountType),this.loanUpdateForm.get("accountType").setValue(t.accountTypeName)})}getBusinessProductDetails(t){this.apiService.getBusinessProductName(t).subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.screenArray=t,this.screenArrayData=t,0==this.screenArray.length&&this.screenArray.push(this.branchName),console.log("this.branchName::",this.branchName,this.screenArray),this.currencyData=this.screenArray.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData)})}onChangeBranch(t){this.currencyData=this.screenArray.find(e=>e.branchName==t.value),null==this.currencyData&&null==this.currencyData||this.itemForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}getLoanDetails(){console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanUpdateForm.value),this.loanUpdateForm.controls.businessProductName.setValue(this.loanAccountDetails.businessProductName),this.loanUpdateForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanUpdateForm.value.accountType)),this.ls.setItem("accountType",this.loanUpdateForm.value.accountType),this.loanUpdateForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanUpdateForm.value.loanAmount=this.loanAccountDetails.loanAmount})}buildAssetForm(t){var e,a,o,n,i,r,c,s,l,b,d,u;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.state:""],city:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.city:""],assetStatus:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.assetStatus:""],estimatedCost:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.estimatedCost:""],dimensions:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.dimensions:""],locality:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.locality:""],marketValue:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.marketValue:""],building:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.homeType:""],mortgagedBranch:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.mortgagedBranch:""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}next(){console.log("this.accountType",this.accountType),this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(t=>{console.log("data",t)})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}submitForm1(){let t=new Date;t=this.loanUpdateForm.value.applicationDate,console.log("applicationDate",this.loanUpdateForm.value.applicationDate);var e=h(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=new Date(e);console.log("ck",a);var o=this.loanUpdateForm.value.loanAmount;o=parseInt(o);var n=this.loanUpdateForm.value.estimatedCost;n=parseInt(n);const i=this.loanUpdateForm.value.year+"-"+this.loanUpdateForm.value.month+"-"+this.loanUpdateForm.value.day;this.loanUpdateForm.get("loanTenure").setValue(i),delete this.loanUpdateForm.value.year,delete this.loanUpdateForm.value.month,delete this.loanUpdateForm.value.day;let r={loanAccountId:this.data.loanAccountId,businessProductName:this.loanUpdateForm.value.businessProductName,accountBranch:this.loanUpdateForm.value.accountBranch,applicationDate:e,accountType:this.loanUpdateForm.value.accountType,estimatedCost:n,customerContribution:this.loanUpdateForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanUpdateForm.value.purposeOfLoan,loanTenure:this.loanUpdateForm.value.loanTenure,accountCurrency:this.loanUpdateForm.value.accountCurrency};console.log("payload",r),this.apiService.saveLoanDetails(r).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),null!==t&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),t||(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}goToClose(){this.dialogRef.close(),this.loader.open(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanUpdateForm.value),this.loanUpdateForm.controls.businessProductName.setValue(this.loanAccountDetails.businessProductName),this.loanUpdateForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanUpdateForm.value.accountType)),this.ls.setItem("accountType",this.loanUpdateForm.value.accountType),this.loanUpdateForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanUpdateForm.value.loanAmount=this.loanAccountDetails.loanAmount,this.loader.close()})}submitForm(){let t=new Date;t=this.loanForm.value.applicationDate,console.log("applicationDate",this.loanForm.value.applicationDate);var e=h(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=new Date(e);console.log("ck",a);var o=this.loanForm.value.loanAmount;o=parseInt(o);var n=this.loanForm.value.estimatedCost;n=parseInt(n);const i=this.loanForm.value.year+"-"+this.loanForm.value.month+"-"+this.loanForm.value.day;this.loanForm.get("loanTenure").setValue(i),delete this.loanForm.value.year,delete this.loanForm.value.month,delete this.loanForm.value.day;let r={loanAccountId:this.showEditOption?this.loanaccountID:null,businessProductName:this.loanForm.value.businessProductName,accountBranch:this.loanForm.value.accountBranch,applicationDate:e,accountType:this.loanForm.value.accountType,estimatedCost:n,customerContribution:this.loanForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanForm.value.purposeOfLoan,loanTenure:this.loanForm.value.loanTenure,accountCurrency:this.loanForm.value.accountCurrency};console.log("payload",r),this.apiService.saveLoanDetails(r).subscribe(t=>{console.log("data",t.loanAccountId),this.loanAccountId=t.loanAccountId,console.log("loanAccountid",this.loanAccountId),this.assign(t.loanAccountId),null!==t&&(this.apiService.updateLoanDetailsStatus({loanAccountId:t.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),sessionStorage.setItem("loanAccountId",this.loanAccountId),this.ls.setItem("fundByStatus",{loanAccountid:this.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("loanAccountId",t.loanAccountId),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.ls.getItem("loanAccountid"),console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),t||(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.next()})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.a),i.Rb(b.b),i.Rb(m.a),i.Rb(b.g),i.Rb(p.f),i.Rb(i.h),i.Rb(r.b),i.Rb(l.a),i.Rb(f.a),i.Rb(je.h),i.Rb(B.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-account-details-update"]],decls:63,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","estimatedCost","formControlName","estimatedCost",3,"keypress"],["matInput","","name","customerContribution","formControlName","customerContribution",3,"keypress"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","date","formControlName","applicationDate","placeholder","DD/MM/YYYY",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","name","purposeOfLoan","formControlName","purposeOfLoan",1,"alignment"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["name","account_branch","formControlName","businessProductName",3,"selectionChange"],["name","mod","formControlName","accountBranch",3,"selectionChange"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Account Details"),i.Wb(),i.Xb(7,"form",2),i.Rc(8,id,18,2,"div",3),i.Xb(9,"div",4),i.Xb(10,"div",5),i.Xb(11,"mat-label"),i.Tc(12,"Estimated Cost"),i.Wb(),i.Xb(13,"mat-form-field",6),i.Xb(14,"input",7),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",5),i.Xb(16,"mat-label"),i.Tc(17,"Customer Contribution"),i.Wb(),i.Xb(18,"mat-form-field",6),i.Xb(19,"input",8),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",5),i.Xb(21,"mat-label"),i.Tc(22,"Account Type"),i.Wb(),i.Xb(23,"mat-form-field",6),i.Sb(24,"input",9),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",4),i.Xb(26,"div",5),i.Xb(27,"mat-label"),i.Tc(28,"Loan Tenure"),i.Wb(),i.Xb(29,"div",10),i.Xb(30,"div",11),i.Xb(31,"div"),i.Xb(32,"mat-form-field",6),i.Xb(33,"mat-select",12),i.Rc(34,rd,2,2,"mat-option",13),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Xb(36,"mat-form-field",6),i.Xb(37,"mat-select",14),i.Rc(38,cd,2,2,"mat-option",13),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div"),i.Xb(40,"mat-form-field",6),i.Xb(41,"mat-select",15),i.Rc(42,sd,2,2,"mat-option",13),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(43,"div",5),i.Xb(44,"div",5),i.Xb(45,"mat-label"),i.Tc(46,"Application Date"),i.Wb(),i.Xb(47,"mat-form-field",6),i.Sb(48,"input",16),i.Sb(49,"mat-datepicker-toggle",17),i.Sb(50,"mat-datepicker",null,18),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div",4),i.Xb(53,"div",5),i.Xb(54,"mat-label"),i.Tc(55,"Purpose of Loan"),i.Wb(),i.Xb(56,"mat-form-field",6),i.Sb(57,"input",19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(58,"mat-dialog-actions",20),i.Xb(59,"button",21),i.fc("click",function(){return e.submitForm1()}),i.Tc(60," Update "),i.Wb(),i.Xb(61,"button",21),i.fc("click",function(){return e.close()}),i.Tc(62,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(51);i.Eb(7),i.rc("formGroup",e.loanUpdateForm),i.Eb(1),i.rc("ngIf","loanAccount_array"===e.data.editType),i.Eb(16),i.rc("readonly",!0),i.Eb(10),i.rc("ngForOf",e.years),i.Eb(4),i.rc("ngForOf",e.months),i.Eb(4),i.rc("ngForOf",e.days),i.Eb(6),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,o.n,g.b,W.g,W.c,y.b,p.c,p.r,p.i,g.f,g.d,T.a,o.m,I.e,I.g,W.j,I.d,b.c,C.b,O.n],styles:[".selectOption[_ngcontent-%COMP%]{background-color:#fdfdff;border:transparent}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}"]}),t})();var bd=a("iiaH");function dd(t,e){if(1&t&&(i.Xb(0,"mat-option",30),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ud(t,e){if(1&t&&(i.Xb(0,"mat-option",30),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Vc(" ",t.value1,"")}}function md(t,e){if(1&t&&(i.Xb(0,"mat-option",30),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Uc(t.value1)}}let pd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l){this.router=t,this.data=e,this.snack=a,this.dataService=o,this.ls=n,this.fb=i,this.taskSumService=r,this.apiService=c,this.dialogRef=s,this.cdr=l,this.isEdit=!1,this.minDate=new Date,this.maxDate=new Date,this.showEditOption=!1,this.appEntrySummaryView=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.buildAssetForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city")}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}getAssetDetails(){this.apiService.getAssetails(this.loanaccountID).subscribe(t=>{this.assetDetails=t,this.buildAssetForm(this.assetDetails),this.getStateName(this.assetDetails.country),this.getCityName(this.assetDetails.state),console.log(this.assetDetails)},t=>{})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,country:this.loanAssetForm.value.country,state:this.loanAssetForm.value.state,city:this.loanAssetForm.value.city,assetStatus:this.loanAssetForm.value.assetStatus,estimatedCost:this.loanAssetForm.value.estimatedCost,dimensions:this.loanAssetForm.value.dimensions,street:this.loanAssetForm.value.street,locality:this.loanAssetForm.value.locality,marketValue:this.loanAssetForm.value.marketValue,mortgagedBranch:this.loanAssetForm.value.marketValue,building:this.loanAssetForm.value.building,homeType:this.loanAssetForm.value.homeType,zipCode:this.loanAssetForm.value.zipCode};console.log("payload",t),this.apiService.upsertAssetDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),null!==t&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.cdr.markForCheck(),this.cdr.detectChanges(),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),t||(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}goBack(){this.dialogRef.close()}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}getBusinessProductDetails(t){this.apiService.getBusinessProductName(t).subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.screenArray=t,this.screenArrayData=t,0==this.screenArray.length&&this.screenArray.push(this.branchName),console.log("this.branchName::",this.branchName,this.screenArray),this.currencyData=this.screenArray.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData)})}buildAssetForm(t){var e,a,o,n,i,r,c,s,l,b,d,u,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city"),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],street:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.street:""],country:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.country:""],state:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.state:""],city:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.city:""],assetStatus:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.assetStatus:""],estimatedCost:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.estimatedCost:""],dimensions:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.dimensions:""],locality:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.locality:""],marketValue:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.marketValue:""],building:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.building:""],zipCode:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.homeType:""],mortgagedBranch:[t?null===(m=null==t?void 0:t.assetInfo)||void 0===m?void 0:m.mortgagedBranch:""]}),console.log("form before",this.loanAssetForm),console.log("form aftr",this.loanAssetForm.value)}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}goToEdit(){this.dialogRef.close(),this.dataService.sendNavParam(this.accountDetails),this.router.navigate(["loan/account/loan-details"])}goToClose(){this.dialogRef.close(),this.getDataOnLoad()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(je.h),i.Rb(b.a),i.Rb(f.a),i.Rb(bd.a),i.Rb(l.a),i.Rb(p.f),i.Rb(m.a),i.Rb(r.b),i.Rb(b.g),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-account-details-edit"]],inputs:{loanDetailsInfo:"loanDetailsInfo"},decls:108,vars:4,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","mod","formControlName","assetStatus"],["value",""],["value","Under Construction"],["value","Completed Construction"],["matInput","","name","building","formControlName","building"],["name","mortgagedBranch","formControlName","mortgagedBranch"],["value","test"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","mod","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["name","dimensions","formControlName","dimensions"],["value","Sq.Ft"],["name","mod","formControlName","homeType"],["value","Villa"],["value","Flat"],["value","Apartment"],["matInput","","name","locality","formControlName","locality"],["matInput","","name","street","formControlName","street"],["matInput","","name","marketValue","formControlName","marketValue",3,"keypress"],["matInput","","name","amt","formControlName","zipCode",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Asset Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Asset Status "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Xb(13,"mat-select",6),i.Xb(14,"mat-option",7),i.Tc(15,"Select"),i.Wb(),i.Xb(16,"mat-option",8),i.Tc(17,"Under Construction"),i.Wb(),i.Xb(18,"mat-option",9),i.Tc(19,"Completed Construction"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",4),i.Xb(21,"mat-label"),i.Tc(22,"Building "),i.Wb(),i.Xb(23,"mat-form-field",5),i.Sb(24,"input",10),i.Wb(),i.Wb(),i.Xb(25,"div",4),i.Xb(26,"mat-label"),i.Tc(27,"Mortgaged Branch"),i.Wb(),i.Xb(28,"mat-form-field",5),i.Xb(29,"mat-select",11),i.Xb(30,"mat-option",7),i.Tc(31,"Select"),i.Wb(),i.Xb(32,"mat-option",12),i.Tc(33,"test"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"div",13),i.Xb(35,"div",4),i.Xb(36,"mat-label"),i.Tc(37,"Country"),i.Wb(),i.Xb(38,"mat-form-field",5),i.Xb(39,"mat-select",14),i.fc("selectionChange",function(t){return e.getStateName(t.value)}),i.Xb(40,"mat-option",7),i.Tc(41,"Select"),i.Wb(),i.Rc(42,dd,2,2,"mat-option",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"div",4),i.Xb(44,"mat-label"),i.Tc(45,"State"),i.Wb(),i.Xb(46,"mat-form-field",5),i.Xb(47,"mat-select",16),i.fc("selectionChange",function(t){return e.getCityName(t.value)}),i.Xb(48,"mat-option",7),i.Tc(49,"Select"),i.Wb(),i.Rc(50,ud,2,2,"mat-option",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div",4),i.Xb(52,"mat-label"),i.Tc(53,"City"),i.Wb(),i.Xb(54,"mat-form-field",5),i.Xb(55,"mat-select",17),i.Xb(56,"mat-option",7),i.Tc(57,"Select"),i.Wb(),i.Rc(58,md,2,2,"mat-option",15),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(59,"div",13),i.Xb(60,"div",4),i.Xb(61,"mat-label"),i.Tc(62,"Dimensions"),i.Wb(),i.Xb(63,"mat-form-field",5),i.Xb(64,"mat-select",18),i.Xb(65,"mat-option",7),i.Tc(66,"Select"),i.Wb(),i.Xb(67,"mat-option",19),i.Tc(68,"Sq.Ft"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(69,"div",4),i.Xb(70,"mat-label"),i.Tc(71,"Home Type"),i.Wb(),i.Xb(72,"mat-form-field",5),i.Xb(73,"mat-select",20),i.Xb(74,"mat-option",7),i.Tc(75,"Select"),i.Wb(),i.Xb(76,"mat-option",21),i.Tc(77,"Villa"),i.Wb(),i.Xb(78,"mat-option",22),i.Tc(79,"Flat"),i.Wb(),i.Xb(80,"mat-option",23),i.Tc(81,"Apartment"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(82,"div",4),i.Xb(83,"mat-label"),i.Tc(84,"Locality"),i.Wb(),i.Xb(85,"mat-form-field",5),i.Sb(86,"input",24),i.Wb(),i.Wb(),i.Wb(),i.Xb(87,"div",13),i.Xb(88,"div",4),i.Xb(89,"mat-label"),i.Tc(90,"Street"),i.Wb(),i.Xb(91,"mat-form-field",5),i.Sb(92,"input",25),i.Wb(),i.Wb(),i.Xb(93,"div",4),i.Xb(94,"mat-label"),i.Tc(95,"Market Value"),i.Wb(),i.Xb(96,"mat-form-field",5),i.Xb(97,"input",26),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(98,"div",4),i.Xb(99,"mat-label"),i.Tc(100,"Zip Code"),i.Wb(),i.Xb(101,"mat-form-field",5),i.Xb(102,"input",27),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(103,"mat-dialog-actions",28),i.Xb(104,"button",29),i.fc("click",function(){return e.submitForm1()}),i.Tc(105," Update "),i.Wb(),i.Xb(106,"button",29),i.fc("click",function(){return e.goToClose()}),i.Tc(107,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanAssetForm),i.Eb(35),i.rc("ngForOf",e.arrayCountry),i.Eb(8),i.rc("ngForOf",e.arrayState),i.Eb(8),i.rc("ngForOf",e.arrayCity))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,O.n,y.b,p.c,o.m,b.c,C.b],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),t})();function hd(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",12),i.Xb(1,"div",5),i.Xb(2,"mat-label"),i.Tc(3,"Number of Applicants "),i.Wb(),i.Xb(4,"mat-form-field",6),i.Xb(5,"input",13),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(6,"div",5),i.Xb(7,"mat-label"),i.Tc(8,"Registered "),i.Wb(),i.Sb(9,"mat-form-field",6),i.Wb(),i.Wb()}}let fd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l){this.fb=t,this.router=e,this.data=a,this.snack=o,this.dataService=n,this.ls=i,this.taskSumService=r,this.apiService=c,this.dialogRef=s,this.cdr=l,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.getMandateDetails(),this.buildMandateForm()}buildMandateForm(t){this.loanMandateUpdate=this.fb.group({applicantName:[t?null==t?void 0:t.applicantName:""],registered:[t?null==t?void 0:t.registered:""],numberOfApplicant:[t?null==t?void 0:t.numberOfApplicant:""],collateralPercentage:[t?null==t?void 0:t.collateralPercentage:""],repaymentSharePercentage:[t?null==t?void 0:t.repaymentSharePercentage:""]})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,applicantName:this.loanMandateUpdate.value.applicantName,collateralShare:this.loanMandateUpdate.value.collateralShare,repaymentShare:this.loanMandateUpdate.value.repaymentShare};console.log("payload",t),this.apiService.upsertMandateDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getMandateDetails(){this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe(t=>{this.mandateDetails=t,console.log(this.mandateDetails),this.buildMandateForm(this.mandateDetails)},t=>{})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}next(){this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(t=>{console.log("data",t)})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}goToClose(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(p.f),i.Rb(je.h),i.Rb(b.a),i.Rb(f.a),i.Rb(bd.a),i.Rb(l.a),i.Rb(m.a),i.Rb(r.b),i.Rb(b.g),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-mandate-details-update"]],decls:30,vars:2,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","collateralPercentage","formControlName","collateralPercentage",3,"keypress"],["matInput","","name","repaymentSharePercentage","formControlName","repaymentSharePercentage",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","amt","formControlName","numberOfApplicant",3,"keypress"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Mandate Details"),i.Wb(),i.Xb(7,"form",2),i.Rc(8,hd,10,0,"div",3),i.Xb(9,"div",4),i.Xb(10,"div",5),i.Xb(11,"mat-label"),i.Tc(12,"Applicant Name"),i.Wb(),i.Xb(13,"mat-form-field",6),i.Sb(14,"input",7),i.Wb(),i.Wb(),i.Xb(15,"div",5),i.Xb(16,"mat-label"),i.Tc(17,"Collateral Percentage"),i.Wb(),i.Xb(18,"mat-form-field",6),i.Xb(19,"input",8),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",5),i.Xb(21,"mat-label"),i.Tc(22,"Repayment Share Percentage"),i.Wb(),i.Xb(23,"mat-form-field",6),i.Xb(24,"input",9),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"mat-dialog-actions",10),i.Xb(26,"button",11),i.fc("click",function(){return e.submitForm1()}),i.Tc(27," Update "),i.Wb(),i.Xb(28,"button",11),i.fc("click",function(){return e.goToClose()}),i.Tc(29,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanMandateUpdate),i.Eb(1),i.rc("ngIf","loanAccount_array"===e.data.editType))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,o.n,g.b,W.g,W.c,y.b,p.c,p.r,p.i,b.c,C.b],styles:[""]}),t})();function gd(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function vd(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Wd(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Xd(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Vc(" ",t.value1," ")}}function yd(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Vc("",t.value1," ")}}let Td=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b){this.fb=t,this.data=e,this.dialogue=a,this.taskSumService=o,this.cdr=n,this.dialogRef=i,this.apiService=r,this.ls=c,this.snack=s,this.router=l,this.loader=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,this.buildCollateralForm(),this.getCountryName("country"),this.getCollateralType("collateral_type"),this.getCollateralDetails(),this.getRateValue("currency")}buildCollateralForm(t){var e,a,o,n,i,r,c,s,l,b,d,u,m;console.log("item",t),t&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanCollateralForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.collateralInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.collateralInfo)||void 0===a?void 0:a.state:""],city:[t?null===(o=null==t?void 0:t.collateralInfo)||void 0===o?void 0:o.city:""],collateralType:[t?null===(n=null==t?void 0:t.collateralInfo)||void 0===n?void 0:n.collateralType:""],collateralCurrency:[t?null===(i=null==t?void 0:t.collateralInfo)||void 0===i?void 0:i.collateralCurrency:""],collateralValue:[t?null===(r=null==t?void 0:t.collateralInfo)||void 0===r?void 0:r.collateralValue:""],locality:[t?null===(c=null==t?void 0:t.collateralInfo)||void 0===c?void 0:c.locality:""],street:[t?null===(s=null==t?void 0:t.collateralInfo)||void 0===s?void 0:s.street:""],building:[t?null===(l=null==t?void 0:t.collateralInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.collateralInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(d=null==t?void 0:t.collateralInfo)||void 0===d?void 0:d.homeType:""],attributes:[t?null===(u=null==t?void 0:t.collateralInfo)||void 0===u?void 0:u.attributes:""],thirdPartyCollateral:[t?null===(m=null==t?void 0:t.collateralInfo)||void 0===m?void 0:m.thirdPartyCollateral:""]}),console.log("form before",this.loanCollateralForm),console.log("form aftr",this.loanCollateralForm.value)}getRateValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayRateValue=t})}getCollateralDetails(){this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(t=>{this.collateralDetails=t,console.log(this.collateralDetails.collateralDetails.length),console.log(this.collateralDetails),this.buildCollateralForm(this.collateralDetails)},t=>{})}getCollateralType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCollateralType=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}submitForm1(){let t={loanAccountId:this.data.loanAccountId,attributes:this.loanCollateralForm.value.attributes,building:this.loanCollateralForm.value.building,city:this.loanCollateralForm.value.city,zipCode:this.loanCollateralForm.value.zipCode,country:this.loanCollateralForm.value.country,state:this.loanCollateralForm.value.state,dimensions:this.loanCollateralForm.value.dimensions,locality:this.loanCollateralForm.value.locality,thirdpartyCollateral:this.loanCollateralForm.value.thirdPartyCollateral,collateralValue:this.loanCollateralForm.value.collateralValue,collateralType:this.loanCollateralForm.value.collateralType,collateralCurrency:this.loanCollateralForm.value.collateralCurrency};console.log("payload",t),this.apiService.upsertCollateralDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}goToClose(){this.dialogRef.close(),this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.loanCollateralDetails=t,console.log("this.loanCollateralDetails",this.loanCollateralDetails),console.log("form",this.loanCollateralForm.value),this.loanCollateralForm.value.building=this.loanCollateralDetails.building,this.loanCollateralForm.value.dimensions=this.loanCollateralDetails.dimensions,this.loanCollateralForm.value.attributes=this.loanCollateralDetails.attributes,this.loanCollateralForm.value.collateralCurrency=this.loanCollateralDetails.collateralCurrency,this.loader.close()})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(p.f),i.Rb(b.a),i.Rb(b.b),i.Rb(m.a),i.Rb(i.h),i.Rb(b.g),i.Rb(r.b),i.Rb(l.a),i.Rb(f.a),i.Rb(je.h),i.Rb(B.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-collateral-details-update"]],decls:94,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["name","collateralCurrency","formControlName","collateralCurrency"],["matInput","","name","collateralValue","formControlName","collateralValue",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","thirdPartyCollateral","formControlName","thirdPartyCollateral"],["name","attributes","formControlName","attributes","required",""],["value","1"],["value","2"],["matInput","","name","dimensions","formControlName","dimensions",1,"alignment",3,"keypress"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","locality","formControlName","locality",1,"alignment"],["name","country","formControlName","country","required","",3,"selectionChange"],["name","state","formControlName","state","required","",3,"selectionChange"],["name","city","formControlName","city","required",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","6","maxlength","10",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Collateral Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Collateral Type "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Xb(13,"mat-select",6),i.Rc(14,gd,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",4),i.Xb(16,"mat-label"),i.Tc(17,"Collateral Currency "),i.Wb(),i.Xb(18,"mat-form-field",5),i.Xb(19,"mat-select",8),i.Rc(20,vd,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(21,"div",4),i.Xb(22,"mat-label"),i.Tc(23,"Collateral Value"),i.Wb(),i.Xb(24,"mat-form-field",5),i.Xb(25,"input",9),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",10),i.Xb(27,"div",4),i.Xb(28,"mat-label"),i.Tc(29,"Third Party Collateral"),i.Wb(),i.Xb(30,"mat-form-field",5),i.Sb(31,"input",11),i.Wb(),i.Wb(),i.Xb(32,"div",4),i.Xb(33,"mat-label"),i.Tc(34,"Attributes"),i.Wb(),i.Xb(35,"mat-form-field",5),i.Xb(36,"mat-select",12),i.Xb(37,"mat-option",13),i.Tc(38,"Attributes 1"),i.Wb(),i.Xb(39,"mat-option",14),i.Tc(40,"Attributes 2"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(41,"div",4),i.Xb(42,"mat-label"),i.Tc(43,"Dimensions"),i.Wb(),i.Xb(44,"mat-form-field",5),i.Xb(45,"input",15),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",10),i.Xb(47,"div",4),i.Xb(48,"mat-label"),i.Tc(49,"Building"),i.Wb(),i.Xb(50,"mat-form-field",5),i.Sb(51,"input",16),i.Wb(),i.Wb(),i.Xb(52,"div",4),i.Xb(53,"mat-label"),i.Tc(54,"Street"),i.Wb(),i.Xb(55,"mat-form-field",5),i.Sb(56,"input",17),i.Wb(),i.Wb(),i.Xb(57,"div",4),i.Xb(58,"mat-label"),i.Tc(59,"Locality"),i.Wb(),i.Xb(60,"mat-form-field",5),i.Sb(61,"input",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"div",10),i.Xb(63,"div",4),i.Xb(64,"mat-label"),i.Tc(65,"Country"),i.Wb(),i.Xb(66,"mat-form-field",5),i.Xb(67,"mat-select",19),i.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),i.Rc(68,Wd,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(69,"div",4),i.Xb(70,"mat-label"),i.Tc(71,"State"),i.Wb(),i.Xb(72,"mat-form-field",5),i.Xb(73,"mat-select",20),i.fc("selectionChange",function(t){return e.getCityName(t.value)}),i.Rc(74,Xd,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(75,"div",4),i.Xb(76,"mat-label"),i.Tc(77,"City"),i.Wb(),i.Xb(78,"mat-form-field",5),i.Xb(79,"mat-select",21),i.Rc(80,yd,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(81,"div",10),i.Xb(82,"div",4),i.Xb(83,"mat-label"),i.Tc(84,"Zip Code"),i.Wb(),i.Xb(85,"mat-form-field",5),i.Xb(86,"input",22),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Sb(87,"div",4),i.Sb(88,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(89,"mat-dialog-actions",23),i.Xb(90,"button",24),i.fc("click",function(){return e.submitForm1()}),i.Tc(91," Update "),i.Wb(),i.Xb(92,"button",24),i.fc("click",function(){return e.goToClose()}),i.Tc(93,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanCollateralForm),i.Eb(7),i.rc("ngForOf",e.arrayCollateralType),i.Eb(6),i.rc("ngForOf",e.arrayRateValue),i.Eb(48),i.rc("ngForOf",e.arrayCountry),i.Eb(6),i.rc("ngForOf",e.arrayState),i.Eb(6),i.rc("ngForOf",e.arrayCity))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,o.m,y.b,p.c,p.y,O.n,p.n,p.m,b.c,C.b],styles:[""]}),t})();function Id(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function xd(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Cd(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Vc(" ",t.value1,"")}}function Ed(t,e){if(1&t&&(i.Xb(0,"mat-option",25),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Uc(t.value1)}}let Od=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.fb=t,this.loader=e,this.ls=a,this.snack=o,this.taskSumService=n,this.cdr=i,this.data=r,this.apiService=c,this.dialogRef=s,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.buildGuarantorForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getPrefixValue("prefix")}buildGuarantorForm(t){var e,a,o,n,i,r,c,s,l,b,d,u;console.log("item",t),t&&t.country&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanGuarantorForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.gurantorInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.gurantorInfo)||void 0===a?void 0:a.state:""],city:[t?null===(o=null==t?void 0:t.gurantorInfo)||void 0===o?void 0:o.city:""],prefix:[t?null===(n=null==t?void 0:t.gurantorInfo)||void 0===n?void 0:n.prefix:""],firstName:[t?null===(i=null==t?void 0:t.gurantorInfo)||void 0===i?void 0:i.firstName:""],lastName:[t?null===(r=null==t?void 0:t.gurantorInfo)||void 0===r?void 0:r.lastName:""],mobileNumber:[t?null===(c=null==t?void 0:t.gurantorInfo)||void 0===c?void 0:c.mobileNumber:""],building:[t?null===(s=null==t?void 0:t.gurantorInfo)||void 0===s?void 0:s.building:t.gurantorInfo.address1],street:[t?null===(l=null==t?void 0:t.gurantorInfo)||void 0===l?void 0:l.street:t.gurantorInfo.address2],zipCode:[t?null===(b=null==t?void 0:t.gurantorInfo)||void 0===b?void 0:b.zipCode:""],emailAddress:[t?null===(d=null==t?void 0:t.gurantorInfo)||void 0===d?void 0:d.emailAddress:""],dateOfBirth:[t?null===(u=null==t?void 0:t.gurantorInfo)||void 0===u?void 0:u.dateOfBirth:""]})}getGuarantorDetails(){this.loader.open(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(t=>{this.loader.close(),this.guarantorDetails=t,console.log("this.guarantorDetails::",this.guarantorDetails),this.getStateName(this.guarantorDetails.country),this.getCityName(this.guarantorDetails.state),this.buildGuarantorForm(this.guarantorDetails),this.guarantorDetails.address1=this.loanGuarantorForm.value.building,this.guarantorDetails.address2=this.loanGuarantorForm.value.street},t=>{this.loader.close()})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t,console.log("data",this.arrayPrefix)})}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}goToClose(){this.dialogRef.close(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.guarantorDetails=t,console.log("this.accountDetails",this.guarantorDetails),console.log("form",this.loanGuarantorForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,country:this.loanGuarantorForm.value.country,state:this.loanGuarantorForm.value.state,city:this.loanGuarantorForm.value.city,address1:this.loanGuarantorForm.value.building,address2:this.loanGuarantorForm.value.street,zipCode:this.loanGuarantorForm.value.zipCode,mobileNumber:this.loanGuarantorForm.value.mobileNumber};console.log("payload",t),this.apiService.upsertGuarantorDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(p.f),i.Rb(B.a),i.Rb(l.a),i.Rb(f.a),i.Rb(m.a),i.Rb(i.h),i.Rb(b.a),i.Rb(r.b),i.Rb(b.g))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-guarantor-details-update"]],decls:90,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","prefix","formControlName","prefix","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","firstName","formControlName","firstName"],["matInput","","name","lastName","formControlName","lastName"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],["value",""],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","zipCode","formControlName","zipCode","maxlength","6",3,"keypress"],["matInput","","name","dateOfBirth","formControlName","dateOfBirth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB",""],["matInput","","name","emailAddress","formControlName","emailAddress"],["matInput","","name","mobileNumber","formControlName","mobileNumber","maxlength","10",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Guarantor Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Prefix "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Xb(13,"mat-select",6),i.Rc(14,Id,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",4),i.Xb(16,"mat-label"),i.Tc(17,"First Name "),i.Wb(),i.Xb(18,"mat-form-field",5),i.Sb(19,"input",8),i.Wb(),i.Wb(),i.Xb(20,"div",4),i.Xb(21,"mat-label"),i.Tc(22,"Last Name"),i.Wb(),i.Xb(23,"mat-form-field",5),i.Sb(24,"input",9),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",10),i.Xb(26,"div",4),i.Xb(27,"mat-label"),i.Tc(28,"Country"),i.Wb(),i.Xb(29,"mat-form-field",5),i.Xb(30,"mat-select",11),i.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),i.Xb(31,"mat-option",12),i.Tc(32,"Select"),i.Wb(),i.Rc(33,xd,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"div",4),i.Xb(35,"mat-label"),i.Tc(36,"State"),i.Wb(),i.Xb(37,"mat-form-field",5),i.Xb(38,"mat-select",13),i.fc("selectionChange",function(t){return e.getCityName(t.value)}),i.Xb(39,"mat-option",12),i.Tc(40,"Select"),i.Wb(),i.Rc(41,Cd,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(42,"div",4),i.Xb(43,"mat-label"),i.Tc(44,"City"),i.Wb(),i.Xb(45,"mat-form-field",5),i.Xb(46,"mat-select",14),i.Xb(47,"mat-option",12),i.Tc(48,"Select"),i.Wb(),i.Rc(49,Ed,2,2,"mat-option",7),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",10),i.Xb(51,"div",4),i.Xb(52,"mat-label"),i.Tc(53,"Building"),i.Wb(),i.Xb(54,"mat-form-field",5),i.Sb(55,"input",15),i.Wb(),i.Wb(),i.Xb(56,"div",4),i.Xb(57,"mat-label"),i.Tc(58,"Street"),i.Wb(),i.Xb(59,"mat-form-field",5),i.Sb(60,"input",16),i.Wb(),i.Wb(),i.Xb(61,"div",4),i.Xb(62,"mat-label"),i.Tc(63,"Zip Code"),i.Wb(),i.Xb(64,"mat-form-field",5),i.Xb(65,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(66,"div",10),i.Xb(67,"div",4),i.Xb(68,"mat-label"),i.Tc(69,"Date Of Birth"),i.Wb(),i.Xb(70,"mat-form-field",5),i.Sb(71,"input",18),i.Sb(72,"mat-datepicker-toggle",19),i.Sb(73,"mat-datepicker",null,20),i.Wb(),i.Wb(),i.Xb(75,"div",4),i.Xb(76,"mat-label"),i.Tc(77,"Email Address"),i.Wb(),i.Xb(78,"mat-form-field",5),i.Sb(79,"input",21),i.Wb(),i.Wb(),i.Xb(80,"div",4),i.Xb(81,"mat-label"),i.Tc(82,"Phone Number"),i.Wb(),i.Xb(83,"mat-form-field",5),i.Xb(84,"input",22),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(85,"mat-dialog-actions",23),i.Xb(86,"button",24),i.fc("click",function(){return e.submitForm1()}),i.Tc(87," Update "),i.Wb(),i.Xb(88,"button",24),i.fc("click",function(){return e.goToClose()}),i.Tc(89,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(74);i.Eb(7),i.rc("formGroup",e.loanGuarantorForm),i.Eb(7),i.rc("ngForOf",e.arrayPrefix),i.Eb(19),i.rc("ngForOf",e.arrayCountry),i.Eb(8),i.rc("ngForOf",e.arrayState),i.Eb(8),i.rc("ngForOf",e.arrayCity),i.Eb(22),i.rc("matDatepicker",t)("max",e.tomorrow),i.Eb(1),i.rc("for",t)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,p.y,o.m,y.b,p.c,O.n,p.m,I.e,I.g,W.j,I.d,b.c,C.b],styles:[""]}),t})(),Dd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=n,this.cdr=i,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildDisbursementForm(t){var e,a,o,n,i,r,c,s;console.log("item",t),this.loanDisbursementForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.disbursementInfo)||void 0===e?void 0:e.disbursementMode:""],totalDisbursement:[t?null===(a=null==t?void 0:t.disbursementInfo)||void 0===a?void 0:a.totalDisbursement:""],numberOfDisbursement:[t?null===(o=null==t?void 0:t.disbursementInfo)||void 0===o?void 0:o.numberOfDisbursement:""],multipleDisbursementRequired:[!t||(null===(n=null==t?void 0:t.disbursementInfo)||void 0===n?void 0:n.multipleDisbursementRequired)],branchCode:[t?null===(i=null==t?void 0:t.disbursementInfo)||void 0===i?void 0:i.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.disbursementInfo)||void 0===r?void 0:r.customerAccount:""],loanAmount:[t?null===(c=null==t?void 0:t.disbursementInfo)||void 0===c?void 0:c.loanAmount:""],marginIn:[t?null===(s=null==t?void 0:t.disbursementInfo)||void 0===s?void 0:s.marginIn:""]})}getDisbursementDetails(){this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(t=>{this.disbursementDetails=t,console.log("this.disbursementDetails::",this.disbursementDetails),this.buildDisbursementForm(this.disbursementDetails),this.loanDisbursementForm.value.numberOfDisbursement=this.disbursementDetails.numberOfDisbursement,this.loanDisbursementForm.value.totalDisbursement=this.disbursementDetails.totalDisbursement,this.loanDisbursementForm.value.loanAmount=this.disbursementDetails.loanAmount,this.loanDisbursementForm.value.branchCode=this.disbursementDetails.branchCode,this.loanDisbursementForm.value.customerAccount=this.disbursementDetails.customerAccount,this.loanDisbursementForm.value.marginIn=this.disbursementDetails.marginIn,this.loanDisbursementForm.value.multipleDisbursementRequired=this.disbursementDetails.multipleDisbursementRequired},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.disbursementDetails=t,console.log("this.accountDetails",this.disbursementDetails),console.log("form",this.loanDisbursementForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,disbursementMode:this.loanDisbursementForm.value.disbursementMode,totalDisbursement:this.loanDisbursementForm.value.totalDisbursement,numberOfDisbursement:this.loanDisbursementForm.value.numberOfDisbursement,multipleDisbursementRequired:this.loanDisbursementForm.value.multipleDisbursementRequired,branchCode:this.loanDisbursementForm.value.branchCode,customerAccount:this.loanDisbursementForm.value.customerAccount,loanAmount:this.loanDisbursementForm.value.loanAmount,marginIn:this.loanDisbursementForm.value.marginIn};console.log("payload",t),this.apiService.loanDisbursementSave(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(B.a),i.Rb(m.a),i.Rb(i.h),i.Rb(l.a),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-disbursement-details-update"]],decls:63,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["placeholder","Disbursement Mode","formControlName","disbursementMode"],["value",""],["value","mode1"],["value","mode12"],["matInput","","name","numberOfDisbursement","formControlName","numberOfDisbursement","maxlength","6",3,"keypress"],["matInput","","name","totalDisbursement","formControlName","totalDisbursement","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["matInput","","name","branchCode","formControlName","branchCode",3,"keypress"],["matInput","","name","customerAccount","formControlName","customerAccount"],["matInput","","name","multipleDisbursementRequired","formControlName","multipleDisbursementRequired"],["matInput","","name","marginIn","formControlName","marginIn",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Disbursement Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Disbursement Mode "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Xb(13,"mat-select",6),i.Xb(14,"mat-option",7),i.Tc(15,"Select"),i.Wb(),i.Xb(16,"mat-option",8),i.Tc(17,"Auto Disbursement"),i.Wb(),i.Xb(18,"mat-option",9),i.Tc(19,"Manual Disbursement "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",4),i.Xb(21,"mat-label"),i.Tc(22,"Number of Disbursement"),i.Wb(),i.Xb(23,"mat-form-field",5),i.Xb(24,"input",10),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",4),i.Xb(26,"mat-label"),i.Tc(27,"Total Disbursement"),i.Wb(),i.Xb(28,"mat-form-field",5),i.Xb(29,"input",11),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",12),i.Xb(31,"div",4),i.Xb(32,"mat-label"),i.Tc(33,"Loan Amount"),i.Wb(),i.Xb(34,"mat-form-field",5),i.Xb(35,"input",13),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",4),i.Xb(37,"mat-label"),i.Tc(38,"Branch Code "),i.Wb(),i.Xb(39,"mat-form-field",5),i.Xb(40,"input",14),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(41,"div",4),i.Xb(42,"mat-label"),i.Tc(43,"Customer Account"),i.Wb(),i.Xb(44,"mat-form-field",5),i.Sb(45,"input",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",12),i.Xb(47,"div",4),i.Xb(48,"mat-label"),i.Tc(49,"Multiple Disbursement Required?"),i.Wb(),i.Xb(50,"mat-form-field",5),i.Sb(51,"input",16),i.Wb(),i.Wb(),i.Xb(52,"div",4),i.Xb(53,"mat-label"),i.Tc(54,"Margin In"),i.Wb(),i.Xb(55,"mat-form-field",5),i.Xb(56,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Sb(57,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(58,"mat-dialog-actions",18),i.Xb(59,"button",19),i.fc("click",function(){return e.submitForm1()}),i.Tc(60," Update "),i.Wb(),i.Xb(61,"button",19),i.fc("click",function(){return e.goToClose()}),i.Tc(62,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanDisbursementForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,O.n,y.b,p.c,p.m,b.c,C.b],styles:[""]}),t})();function Ad(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Rd(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Sd(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}let Nd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=n,this.cdr=i,this.ls=r,this.dialogRef=c,this.snack=s,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildRepaymentForm(this.data)}getRepaymenttDetails(){this.loader.open(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(t=>{this.loader.close(),this.repaymentDetails=t,this.buildRepaymentForm(this.repaymentDetails),this.loanRepaymentForm.value.loanTenure=this.repaymentDetails.loanTenure,this.loanRepaymentForm.value.maturityeDate=this.repaymentDetails.maturityeDate,this.loanRepaymentForm.value.firstRepaymentDate=this.repaymentDetails.firstRepaymentDate,this.loanRepaymentForm.value.moratariumPeriod=this.repaymentDetails.moratariumPeriod,this.loanRepaymentForm.value.branchCode=this.repaymentDetails.branchCode,this.loanRepaymentForm.value.customerAccount=this.repaymentDetails.customerAccount,this.loanRepaymentForm.value.bankName=this.repaymentDetails.bankName,this.loanRepaymentForm.value.typeOfRepayment=this.repaymentDetails.typeOfRepayment,this.loanRepaymentForm.value.repaymentMode=this.repaymentDetails.repaymentMode,this.loanRepaymentForm.value.repaymentFrequency=this.repaymentDetails.repaymentFrequency},t=>{this.loader.close()})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildRepaymentForm(t){var e,a,o,n,i,r,c,s,l,b,d,u,m;console.log("item",t),this.loanRepaymentForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.loanRepaymentInfo)||void 0===e?void 0:e.disbursementMode:""],firstRepaymentDate:[t?null===(a=null==t?void 0:t.loanRepaymentInfo)||void 0===a?void 0:a.firstRepaymentDate:""],moraturioumPeriod:[t?null===(o=null==t?void 0:t.loanRepaymentInfo)||void 0===o?void 0:o.moraturioumPeriod:""],typeOfRepayment:[t?null===(n=null==t?void 0:t.loanRepaymentInfo)||void 0===n?void 0:n.typeOfRepayment:""],branchCode:[t?null===(i=null==t?void 0:t.loanRepaymentInfo)||void 0===i?void 0:i.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.loanRepaymentInfo)||void 0===r?void 0:r.customerAccount:""],bankName:[t?null===(c=null==t?void 0:t.loanRepaymentInfo)||void 0===c?void 0:c.bankName:""],repaymentMode:[t?null===(s=null==t?void 0:t.loanRepaymentInfo)||void 0===s?void 0:s.repaymentMode:""],repaymentFrequency:[t?null===(l=null==t?void 0:t.loanRepaymentInfo)||void 0===l?void 0:l.repaymentFrequency:""],loanTenure:[t?null===(b=null==t?void 0:t.loanRepaymentInfo)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(d=null==t?void 0:t.loanRepaymentInfo)||void 0===d?void 0:d.loanTenure.split("-")[2]):""],month:[t?null===(u=null==t?void 0:t.info)||void 0===u?void 0:u.loanRepaymentInfo.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.loanRepaymentInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]})}goToClose(){this.dialogRef.close(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.repaymentDetails=t,console.log("this.accountDetails",this.repaymentDetails),console.log("form",this.loanRepaymentForm.value)})}submitForm1(){let t=new Date;t=this.loanRepaymentForm.value.firstDisbursementDate,console.log("firstDisbursementDate",this.loanRepaymentForm.value.firstDisbursementDate);var e=h(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);const a=this.loanRepaymentForm.value.year+"-"+this.loanRepaymentForm.value.month+"-"+this.loanRepaymentForm.value.day;this.loanRepaymentForm.get("loanTenure").setValue(a),delete this.loanRepaymentForm.value.year,delete this.loanRepaymentForm.value.month,delete this.loanRepaymentForm.value.day;let o={loanAccountId:this.data.loanAccountId,typeOfRepayment:this.loanRepaymentForm.value.typeOfRepayment,loanTenure:this.loanRepaymentForm.value.loanTenure,maturityeDate:this.loanRepaymentForm.value.maturityeDate,firstRepaymentDate:this.loanRepaymentForm.value.firstRepaymentDate,moratariumPeriod:this.loanRepaymentForm.value.moratariumPeriod,branchCode:this.loanRepaymentForm.value.branchCode,customerAccount:this.loanRepaymentForm.value.customerAccount,bankName:this.loanRepaymentForm.value.bankName,repaymentMode:this.loanRepaymentForm.value.repaymentMode,repaymentFrequency:this.loanRepaymentForm.value.repaymentFrequency};console.log("payload",o),this.apiService.loanRepaymentSave(o).subscribe(t=>{this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(B.a),i.Rb(m.a),i.Rb(i.h),i.Rb(l.a),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-repayment-details-update"]],decls:80,vars:7,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankName","formControlName","bankName"],["matInput","","name","branchCode","formControlName","branchCode"],["matInput","","name","customerAccount","formControlName","customerAccount"],["fxLayout","row wrap"],["matInput","","name","firstRepaymentDate","formControlName","firstRepaymentDate",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB1",""],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","moraturioumPeriod","formControlName","moraturioumPeriod","maxlength","6",3,"keypress"],["name","typeOfRepayment","formControlName","typeOfRepayment"],["value","EMI"],["matInput","","name","repaymentMode","formControlName","repaymentMode"],["matInput","","name","repaymentFrequency","formControlName","repaymentFrequency"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Repayment Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Bank Name"),i.Wb(),i.Xb(12,"mat-form-field",5),i.Sb(13,"input",6),i.Wb(),i.Wb(),i.Xb(14,"div",4),i.Xb(15,"mat-label"),i.Tc(16,"Branch Code "),i.Wb(),i.Xb(17,"mat-form-field",5),i.Sb(18,"input",7),i.Wb(),i.Wb(),i.Xb(19,"div",4),i.Xb(20,"mat-label"),i.Tc(21,"Customer Account"),i.Wb(),i.Xb(22,"mat-form-field",5),i.Sb(23,"input",8),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",9),i.Xb(25,"div",4),i.Xb(26,"mat-label"),i.Tc(27,"First Repayment Date"),i.Wb(),i.Xb(28,"mat-form-field",5),i.Sb(29,"input",10),i.Sb(30,"mat-datepicker-toggle",11),i.Sb(31,"mat-datepicker",null,12),i.Wb(),i.Wb(),i.Xb(33,"div",4),i.Xb(34,"mat-label"),i.Tc(35,"Loan Tenure"),i.Wb(),i.Xb(36,"div",13),i.Xb(37,"div",14),i.Xb(38,"div"),i.Xb(39,"mat-form-field",5),i.Xb(40,"mat-select",15),i.Rc(41,Ad,2,2,"mat-option",16),i.Wb(),i.Wb(),i.Wb(),i.Xb(42,"div"),i.Xb(43,"mat-form-field",5),i.Xb(44,"mat-select",17),i.Rc(45,Rd,2,2,"mat-option",16),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div"),i.Xb(47,"mat-form-field",5),i.Xb(48,"mat-select",18),i.Rc(49,Sd,2,2,"mat-option",16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(50,"div",4),i.Wb(),i.Xb(51,"div",9),i.Xb(52,"div",4),i.Xb(53,"mat-label"),i.Tc(54,"Moratorium Period"),i.Wb(),i.Xb(55,"mat-form-field",5),i.Xb(56,"input",19),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(57,"div",4),i.Xb(58,"mat-label"),i.Tc(59,"Type Of Repayment "),i.Wb(),i.Xb(60,"mat-form-field",5),i.Xb(61,"mat-select",20),i.Xb(62,"mat-option",21),i.Tc(63,"EMI"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(64,"div",4),i.Xb(65,"mat-label"),i.Tc(66,"Repayment Mode"),i.Wb(),i.Xb(67,"mat-form-field",5),i.Sb(68,"input",22),i.Wb(),i.Wb(),i.Wb(),i.Xb(69,"div",9),i.Xb(70,"div",4),i.Xb(71,"mat-label"),i.Tc(72,"Repayment Frequency"),i.Wb(),i.Xb(73,"mat-form-field",5),i.Sb(74,"input",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(75,"mat-dialog-actions",24),i.Xb(76,"button",25),i.fc("click",function(){return e.submitForm1()}),i.Tc(77," Update "),i.Wb(),i.Xb(78,"button",25),i.fc("click",function(){return e.goToClose()}),i.Tc(79,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(32);i.Eb(7),i.rc("formGroup",e.loanRepaymentForm),i.Eb(22),i.rc("matDatepicker",t)("max",e.tomorrow),i.Eb(1),i.rc("for",t),i.Eb(11),i.rc("ngForOf",e.years),i.Eb(4),i.rc("ngForOf",e.months),i.Eb(4),i.rc("ngForOf",e.days)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,I.e,I.g,W.j,I.d,g.f,g.d,T.a,o.m,p.m,O.n,b.c,C.b],styles:[""]}),t})(),Pd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=n,this.cdr=i,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanCreditForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLoanCreditForm(t){var e,a,o,n,i,r,c;console.log("item",t),this.loanCreditForm=this.fb.group({loanAccountId:[this.loanaccountID],customerName:[t?null===(e=null==t?void 0:t.loanCreditInfo)||void 0===e?void 0:e.customerName:""],agencyName:[t?null===(o=null===(a=null==t?void 0:t.loanCreditInfo)||void 0===a?void 0:a.agencyRating[0])||void 0===o?void 0:o.agencyName:""],remarks:[t?null===(i=null===(n=null==t?void 0:t.loanCreditInfo)||void 0===n?void 0:n.agencyRating[0])||void 0===i?void 0:i.remarks:""],ratings:[t?null===(c=null===(r=null==t?void 0:t.loanCreditInfo)||void 0===r?void 0:r.agencyRating[0])||void 0===c?void 0:c.ratings:""]})}getLoanCreditDetails(){this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(t=>{this.creditDetails=t,console.log("this.creditDetails::",this.creditDetails),this.buildLoanCreditForm(this.creditDetails),this.loanCreditForm.value.customerName=this.creditDetails.customerName,this.loanCreditForm.value.agencyName=this.creditDetails.agencyRating.agencyName,this.loanCreditForm.value.ratings=this.creditDetails.agencyRating.ratings,this.loanCreditForm.value.remarks=this.creditDetails.agencyRating.remarks},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.creditDetails=t,console.log("this.accountDetails",this.creditDetails),console.log("form",this.loanCreditForm.value)})}submitForm1(){let t={accountType:"loan",loanAccountId:this.data.loanAccountId,customerName:this.loanCreditForm.value.customerName,agencyName:this.loanCreditForm.value.agencyName,ratings:this.loanCreditForm.value.ratings,remarks:this.loanCreditForm.value.remarks};console.log("payload",t),this.apiService.saveCreditDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(B.a),i.Rb(m.a),i.Rb(i.h),i.Rb(l.a),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-credit-details-update"]],decls:37,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","customerName","formControlName","customerName"],["matInput","","name","agencyName","formControlName","agencyName"],["matInput","","name","remarks","formControlName","remarks"],["fxLayout","row wrap"],["matInput","","name","ratings","formControlName","ratings"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Credit Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Customer Name "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Sb(13,"input",6),i.Wb(),i.Wb(),i.Xb(14,"div",4),i.Xb(15,"mat-label"),i.Tc(16,"Agency Name"),i.Wb(),i.Xb(17,"mat-form-field",5),i.Sb(18,"input",7),i.Wb(),i.Wb(),i.Xb(19,"div",4),i.Xb(20,"mat-label"),i.Tc(21,"Remarks"),i.Wb(),i.Xb(22,"mat-form-field",5),i.Sb(23,"input",8),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",9),i.Xb(25,"div",4),i.Xb(26,"mat-label"),i.Tc(27,"Ratings"),i.Wb(),i.Xb(28,"mat-form-field",5),i.Sb(29,"input",10),i.Wb(),i.Wb(),i.Sb(30,"div",4),i.Sb(31,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(32,"mat-dialog-actions",11),i.Xb(33,"button",12),i.fc("click",function(){return e.submitForm1()}),i.Tc(34," Update "),i.Wb(),i.Xb(35,"button",12),i.fc("click",function(){return e.goToClose()}),i.Tc(36,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanCreditForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,b.c,C.b],styles:[""]}),t})(),kd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=n,this.cdr=i,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanValuationForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLoanValuationForm(t){var e,a,o,n,i,r,c,s,l,b;console.log("item",t),this.loanValuationForm=this.fb.group({loanAccountId:[this.loanaccountID],valuationDate:[t?null===(e=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===e?void 0:e.valuationDate:""],forcedSaleValue:[t?null===(a=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===a?void 0:a.forcedSaleValue:""],propertyAreaSize:[t?null===(o=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===o?void 0:o.propertyAreaSize:""],bankValuation:[t?null===(n=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===n?void 0:n.bankValuation:""],assetType:[t?null===(i=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===i?void 0:i.assetType:""],actualPropertyAreaSize:[t?null===(r=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===r?void 0:r.actualPropertyAreaSize:""],borrowersMktValOfAsset:[t?null===(c=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===c?void 0:c.borrowersMktValOfAsset:""],faceValOfAsset:[t?null===(s=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===s?void 0:s.faceValOfAsset:""],mktValOfAsset:[t?null===(l=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===l?void 0:l.mktValOfAsset:""],propertyAreaInUnits:[t?null===(b=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===b?void 0:b.propertyAreaInUnits:""]})}getLoanCreditDetails(){this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(t=>{this.valuationOfAssetDetails=t,console.log("this.creditDetails::",this.valuationOfAssetDetails),this.buildLoanValuationForm(this.valuationOfAssetDetails),this.loanValuationForm.value.faceValOfAsset=this.valuationOfAssetDetails.faceValOfAsset,this.loanValuationForm.value.forcedSaleValue=this.valuationOfAssetDetails.forcedSaleValue,this.loanValuationForm.value.bankValuation=this.valuationOfAssetDetails.bankValuation,this.loanValuationForm.value.mktValOfAsset=this.valuationOfAssetDetails.mktValOfAsset,this.loanValuationForm.value.borrowersMktValOfAsset=this.valuationOfAssetDetails.borrowersMktValOfAsset,this.loanValuationForm.value.propertyAreaSize=this.valuationOfAssetDetails.propertyAreaSize,this.loanValuationForm.value.propertyAreaInUnits=this.valuationOfAssetDetails.propertyAreaInUnits,this.loanValuationForm.value.assetType=this.valuationOfAssetDetails.assetType,this.loanValuationForm.value.actualPropertyAreaSize=this.valuationOfAssetDetails.actualPropertyAreaSize},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.valuationOfAssetDetails=t,console.log("this.accountDetails",this.valuationOfAssetDetails),console.log("form",this.loanValuationForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,bankValuation:this.loanValuationForm.value.bankValuation,assetType:this.loanValuationForm.value.assetType,propertyAreaSize:this.loanValuationForm.value.propertyAreaSize,actualPropertySizeArea:this.loanValuationForm.value.actualPropertySizeArea,borrowersMktValOfAsset:this.loanValuationForm.value.borrowersMktValOfAsset,faceValOfAsset:this.loanValuationForm.value.faceValOfAsset,mktValOfAsset:this.loanValuationForm.value.mktValOfAsset,propertyAreaInSize:this.loanValuationForm.value.propertyAreaInSize,propertyAreaInUnits:this.loanValuationForm.value.propertyAreaInUnits,valuationDate:this.loanValuationForm.value.valuationDate,forcedSaleValue:this.loanValuationForm.value.forcedSaleValue,actualPropertyAreaSize:this.loanValuationForm.value.actualPropertyAreaSize};console.log("payload",t),this.apiService.saveValuationDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(B.a),i.Rb(m.a),i.Rb(i.h),i.Rb(l.a),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-valuation-of-asset-update"]],decls:69,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankValuation","formControlName","bankValuation"],["matInput","","name","assetType","formControlName","assetType"],["matInput","","name","propertyAreaSize","formControlName","propertyAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","actualPropertyAreaSize","formControlName","actualPropertyAreaSize",3,"keypress"],["matInput","","name","borrowersMktValOfAsset","formControlName","borrowersMktValOfAsset",3,"keypress"],["matInput","","name","faceValOfAsset","formControlName","faceValOfAsset",3,"keypress"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","propertyAreaInUnits","formControlName","propertyAreaInUnits",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate"],["matInput","","name","forcedSaleValue","formControlName","forcedSaleValue",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Credit Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Bank Valuation "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Sb(13,"input",6),i.Wb(),i.Wb(),i.Xb(14,"div",4),i.Xb(15,"mat-label"),i.Tc(16,"Asset Type"),i.Wb(),i.Xb(17,"mat-form-field",5),i.Sb(18,"input",7),i.Wb(),i.Wb(),i.Xb(19,"div",4),i.Xb(20,"mat-label"),i.Tc(21,"Property Size Area"),i.Wb(),i.Xb(22,"mat-form-field",5),i.Xb(23,"input",8),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",9),i.Xb(25,"div",4),i.Xb(26,"mat-label"),i.Tc(27,"Actual Property Size Area"),i.Wb(),i.Xb(28,"mat-form-field",5),i.Xb(29,"input",10),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",4),i.Xb(31,"mat-label"),i.Tc(32,"Borrower's Market Value "),i.Wb(),i.Xb(33,"mat-form-field",5),i.Xb(34,"input",11),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",4),i.Xb(36,"mat-label"),i.Tc(37,"Face Value Of Asset"),i.Wb(),i.Xb(38,"mat-form-field",5),i.Xb(39,"input",12),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(40,"div",9),i.Xb(41,"div",4),i.Xb(42,"mat-label"),i.Tc(43,"Market Value of Asset"),i.Wb(),i.Xb(44,"mat-form-field",5),i.Xb(45,"input",13),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",4),i.Xb(47,"mat-label"),i.Tc(48,"Property Area In Units "),i.Wb(),i.Xb(49,"mat-form-field",5),i.Xb(50,"input",14),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div",4),i.Xb(52,"mat-label"),i.Tc(53,"Valuation Date"),i.Wb(),i.Xb(54,"mat-form-field",5),i.Sb(55,"input",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",9),i.Xb(57,"div",4),i.Xb(58,"mat-label"),i.Tc(59,"Forced Sale Value"),i.Wb(),i.Xb(60,"mat-form-field",5),i.Xb(61,"input",16),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Sb(62,"div",4),i.Sb(63,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(64,"mat-dialog-actions",17),i.Xb(65,"button",18),i.fc("click",function(){return e.submitForm1()}),i.Tc(66," Update "),i.Wb(),i.Xb(67,"button",18),i.fc("click",function(){return e.goToClose()}),i.Tc(68,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanValuationForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,b.c,C.b],styles:[""]}),t})(),Fd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=n,this.cdr=i,this.ls=r,this.dialogRef=c,this.snack=s,this.showEditOption=!1,this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLegalOpinionForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLegalOpinionForm(t){var e,a,o,n,i,r,c,s;console.log("item",t),this.loanLegalForm=this.fb.group({loanAccountId:[this.loanaccountID],opinion:[t?null===(e=null==t?void 0:t.loanLegalInfo)||void 0===e?void 0:e.opinion:""],lawyerName:[t?null===(a=null==t?void 0:t.loanLegalInfo)||void 0===a?void 0:a.lawyerName:""],isDecisionFavorable:[t?null===(o=null==t?void 0:t.loanLegalInfo)||void 0===o?void 0:o.isDecisionFavorable:""],mktValOfAsset:[t?null===(n=null==t?void 0:t.loanLegalInfo)||void 0===n?void 0:n.mktValOfAsset:""],opinionDate:[t?null===(i=null==t?void 0:t.loanLegalInfo)||void 0===i?void 0:i.opinionDate:""],validationDate:[t?null===(r=null==t?void 0:t.loanLegalInfo)||void 0===r?void 0:r.validationDate:""],description:[t?null===(c=null==t?void 0:t.loanLegalInfo)||void 0===c?void 0:c.description:""],assetAreaSize:[t?null===(s=null==t?void 0:t.loanLegalInfo)||void 0===s?void 0:s.assetAreaSize:""]})}gettingLegalOpinionDetail(){this.loader.open(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(t=>{this.loader.close(),console.log(t),this.buildLegalOpinionForm(t)},t=>{this.loader.close()})}toggle(t){console.log("value",t),"Not Favourable"==t?(this.disabled=!1,this.isChecked=!1,this.disabledToggle=!1):"Favourable"==t?(this.disabled=!0,this.isChecked=!0,this.disabledToggle=!0):this.isChecked=!1}getDisbursementDetails(){this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(t=>{this.legalDetails=t,console.log("this.legalDetails::",this.legalDetails),this.buildLegalOpinionForm(this.legalDetails),this.loanLegalForm.value.opinion=this.legalDetails.opinion,this.loanLegalForm.value.opinionDate=this.legalDetails.opinionDate,this.loanLegalForm.value.validationDate=this.legalDetails.validationDate,this.loanLegalForm.value.mktValOfAsset=this.legalDetails.mktValOfAsset,this.loanLegalForm.value.lawyerName=this.legalDetails.lawyerName,this.loanLegalForm.value.description=this.legalDetails.description,this.loanLegalForm.value.isDecisionFavorable=this.legalDetails.isDecisionFavorable,this.loanLegalForm.value.assetAreaSize=this.legalDetails.assetAreaSize},t=>{this.loader.close()})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}goToClose(){this.dialogRef.close(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.legalDetails=t,console.log("this.accountDetails",this.legalDetails),console.log("form",this.loanLegalForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,description:this.loanLegalForm.value.description,mktValOfAsset:this.loanLegalForm.value.mktValOfAsset,opinion:this.loanLegalForm.value.opinion,opinionDate:this.loanLegalForm.value.opinionDate,valuationDate:this.loanLegalForm.value.valuationDate,lawyerName:this.loanLegalForm.value.lawyerName,isDecisionFavorable:this.loanLegalForm.value.isDecisionFavorable,assetAreaSize:this.loanLegalForm.value.assetAreaSize};console.log("payload",t),this.apiService.saveLegalOpinion(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(B.a),i.Rb(m.a),i.Rb(i.h),i.Rb(l.a),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-legal-opinion-updates"]],decls:61,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","opinion","formControlName","opinion"],["value","Favorable"],["value","Non Favorable"],["matInput","","name","description","formControlName","description"],["matInput","","name","assetAreaSize","formControlName","assetAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","lawyerName","formControlName","lawyerName"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","opinionDate","formControlName","opinionDate"],["matInput","","name","valuationDate","formControlName","isDecisionFavorable"],["matInput","","name","valuationDate","formControlName","valuationDate",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Legal Opinion Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Opinion "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Xb(13,"mat-select",6),i.Xb(14,"mat-option",7),i.Tc(15,"Favorable"),i.Wb(),i.Xb(16,"mat-option",8),i.Tc(17,"Non Favorable "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"div",4),i.Xb(19,"mat-label"),i.Tc(20,"Description"),i.Wb(),i.Xb(21,"mat-form-field",5),i.Sb(22,"input",9),i.Wb(),i.Wb(),i.Xb(23,"div",4),i.Xb(24,"mat-label"),i.Tc(25,"Asset Area Size"),i.Wb(),i.Xb(26,"mat-form-field",5),i.Xb(27,"input",10),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"div",11),i.Xb(29,"div",4),i.Xb(30,"mat-label"),i.Tc(31,"Lawyer Name"),i.Wb(),i.Xb(32,"mat-form-field",5),i.Sb(33,"input",12),i.Wb(),i.Wb(),i.Xb(34,"div",4),i.Xb(35,"mat-label"),i.Tc(36,"Market Value of Asset "),i.Wb(),i.Xb(37,"mat-form-field",5),i.Xb(38,"input",13),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",4),i.Xb(40,"mat-label"),i.Tc(41,"Opinion Date"),i.Wb(),i.Xb(42,"mat-form-field",5),i.Sb(43,"input",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",11),i.Xb(45,"div",4),i.Xb(46,"mat-label"),i.Tc(47,"is Decision Favorable?"),i.Wb(),i.Xb(48,"mat-form-field",5),i.Sb(49,"input",15),i.Wb(),i.Wb(),i.Xb(50,"div",4),i.Xb(51,"mat-label"),i.Tc(52,"Valuation Date"),i.Wb(),i.Xb(53,"mat-form-field",5),i.Xb(54,"input",16),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Sb(55,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"mat-dialog-actions",17),i.Xb(57,"button",18),i.fc("click",function(){return e.submitForm1()}),i.Tc(58," Update "),i.Wb(),i.Xb(59,"button",18),i.fc("click",function(){return e.goToClose()}),i.Tc(60,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanLegalForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,O.n,y.b,p.c,b.c,C.b],styles:[""]}),t})();function Ld(t,e){if(1&t&&(i.Xb(0,"mat-option",21),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function _d(t,e){if(1&t&&(i.Xb(0,"mat-option",21),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function wd(t,e){if(1&t&&(i.Xb(0,"mat-option",21),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Ud(t,e){if(1&t&&(i.Xb(0,"mat-option",21),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Md(t,e){if(1&t&&(i.Xb(0,"mat-option",21),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let Gd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.loader=t,this.apiService=e,this.data=a,this.fb=o,this.ls=n,this.dialogRef=i,this.snack=r,this.taskSumService=c,this.cdr=s,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildDisbursementForm(t){var e,a,o,n,i,r,c,s,l,b;console.log("item",t),this.loanAssessmentUpdate=this.fb.group({loanAccountId:[this.loanaccountID],loanAmountRecommendation:[t?null===(e=null==t?void 0:t.loanAssessmentInfo)||void 0===e?void 0:e.loanAmountRecommendation:""],approvedLoanAmount:[t?null===(a=null==t?void 0:t.loanAssessmentInfo)||void 0===a?void 0:a.approvedLoanAmount:""],systemRecommendation:[t?null===(o=null==t?void 0:t.loanAssessmentInfo)||void 0===o?void 0:o.systemRecommendation:""],userRecommendation:[t?null===(n=null==t?void 0:t.loanAssessmentInfo)||void 0===n?void 0:n.userRecommendation:""],rateOfInterest:[t?null===(i=null==t?void 0:t.loanAssessmentInfo)||void 0===i?void 0:i.rateOfInterest:""],requestedLoanAmount:[t?null===(r=null==t?void 0:t.loanAssessmentInfo)||void 0===r?void 0:r.requestedLoanAmount:""],loanTenure:[t?null===(c=null==t?void 0:t.loanAssessmentInfo)||void 0===c?void 0:c.loanTenure:""],day:[t?null===(s=null==t?void 0:t.loanAssessmentInfo)||void 0===s?void 0:s.loanTenure.split("-")[2]:""],month:[t?null===(l=null==t?void 0:t.loanAssessmentInfo)||void 0===l?void 0:l.loanTenure.split("-")[1]:""],year:[t?null===(b=null==t?void 0:t.loanAssessmentInfo)||void 0===b?void 0:b.loanTenure.split("-")[0]:""]})}getDisbursementDetails(){this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{this.assessmentDetails=t,console.log("this.assessmentDetails::",this.assessmentDetails),this.buildDisbursementForm(this.disbursementDetails),this.loanAssessmentUpdate.value.requestedLoanAmount=this.assessmentDetails.requestedLoanAmount,this.loanAssessmentUpdate.value.rateOfInterest=this.assessmentDetails.rateOfInterest,this.loanAssessmentUpdate.value.userRecommendation=this.assessmentDetails.userRecommendation,this.loanAssessmentUpdate.value.systemRecommendation=this.assessmentDetails.systemRecommendation,this.loanAssessmentUpdate.value.loanTenure=this.assessmentDetails.loanTenure,this.loanAssessmentUpdate.value.approvedLoanAmount=this.assessmentDetails.approvedLoanAmount,this.loanAssessmentUpdate.value.loanAmountRecommendation=this.assessmentDetails.loanAmountRecommendation},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.assessmentDetails=t,console.log("this.assessmentDetails",this.assessmentDetails),console.log("form",this.loanAssessmentUpdate.value)})}submitForm1(){const t=this.loanAssessmentUpdate.value.year+"-"+this.loanAssessmentUpdate.value.month+"-"+this.loanAssessmentUpdate.value.day;this.loanAssessmentUpdate.get("loanTenure").setValue(t),delete this.loanAssessmentUpdate.value.year,delete this.loanAssessmentUpdate.value.month,delete this.loanAssessmentUpdate.value.day;let e={loanAccountId:this.data.loanAccountId,rateOfInterest:this.loanAssessmentUpdate.value.rateOfInterest,requestedLoanAmount:this.loanAssessmentUpdate.value.requestedLoanAmount,loanTenure:this.loanAssessmentUpdate.value.loanTenure,userRecommendation:this.loanAssessmentUpdate.value.userRecommendation,systemRecommendation:this.loanAssessmentUpdate.value.systemRecommendation,approvedLoanAmount:this.loanAssessmentUpdate.value.approvedLoanAmount,loanAmountRecommendation:this.loanAssessmentUpdate.value.loanAmountRecommendation};console.log("payload",e),this.apiService.updateAssessmentDetails(e).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(B.a),i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(l.a),i.Rb(b.g),i.Rb(f.a),i.Rb(m.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-assessment-details-update"]],decls:67,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount",3,"keypress"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],["formControlName","userRecommendation","placeholder","User Recommendation"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","requestedLoanAmount","formControlName","requestedLoanAmount",1,"alignment",3,"keypress"],["matInput","","name","loanAmountRecommendation","formControlName","loanAmountRecommendation",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Assessment Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Approved Loan Amount "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Xb(13,"input",6),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"div",4),i.Xb(15,"mat-label"),i.Tc(16,"Loan Tenure"),i.Wb(),i.Xb(17,"div",7),i.Xb(18,"div",8),i.Xb(19,"div"),i.Xb(20,"mat-form-field",5),i.Xb(21,"mat-select",9),i.Rc(22,Ld,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div"),i.Xb(24,"mat-form-field",5),i.Xb(25,"mat-select",11),i.Rc(26,_d,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div"),i.Xb(28,"mat-form-field",5),i.Xb(29,"mat-select",12),i.Rc(30,wd,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(31,"div",4),i.Wb(),i.Xb(32,"div",13),i.Xb(33,"div",4),i.Xb(34,"mat-label"),i.Tc(35,"System Recommendation "),i.Wb(),i.Xb(36,"mat-form-field",5),i.Xb(37,"mat-select",14),i.Rc(38,Ud,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",4),i.Xb(40,"mat-label"),i.Tc(41,"User Recommendation"),i.Wb(),i.Xb(42,"mat-form-field",5),i.Xb(43,"mat-select",15),i.Rc(44,Md,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Xb(45,"div",4),i.Xb(46,"mat-label"),i.Tc(47,"Rate Of Interest"),i.Wb(),i.Xb(48,"mat-form-field",5),i.Xb(49,"input",16),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",13),i.Xb(51,"div",4),i.Xb(52,"mat-label"),i.Tc(53,"Requested Loan Amount"),i.Wb(),i.Xb(54,"mat-form-field",5),i.Xb(55,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",4),i.Xb(57,"mat-label"),i.Tc(58,"Loan Amount Recommended"),i.Wb(),i.Xb(59,"mat-form-field",5),i.Xb(60,"input",18),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Sb(61,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"mat-dialog-actions",19),i.Xb(63,"button",20),i.fc("click",function(){return e.submitForm1()}),i.Tc(64," Update "),i.Wb(),i.Xb(65,"button",20),i.fc("click",function(){return e.goToClose()}),i.Tc(66,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanAssessmentUpdate),i.Eb(15),i.rc("ngForOf",e.years),i.Eb(4),i.rc("ngForOf",e.months),i.Eb(4),i.rc("ngForOf",e.days),i.Eb(8),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(6),i.rc("ngForOf",e.arrayUserRecommendation))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,g.f,g.d,T.a,o.m,b.c,C.b,O.n],styles:[""]}),t})(),Vd=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=n,this.cdr=i,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanOfferIssueForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLoanOfferIssueForm(t){var e,a,o,n,i,r,c,s,l,b;console.log("item",t),this.loanOfferIssueForm=this.fb.group({loanAccountId:[this.loanaccountID],applicantName:[t?null===(e=null==t?void 0:t.loanOfferIssueInfo)||void 0===e?void 0:e.applicantName:""],interest:[t?null===(a=null==t?void 0:t.loanOfferIssueInfo)||void 0===a?void 0:a.interest:""],rateOfInterest:[t?null===(o=null==t?void 0:t.loanOfferIssueInfo)||void 0===o?void 0:o.rateOfInterest:""],principal:[t?null===(n=null==t?void 0:t.loanOfferIssueInfo)||void 0===n?void 0:n.principal:""],installmentType:[t?null===(i=null==t?void 0:t.loanOfferIssueInfo)||void 0===i?void 0:i.installmentType:""],installmentFrequency:[t?null===(r=null==t?void 0:t.loanOfferIssueInfo)||void 0===r?void 0:r.installmentFrequency:""],approvedLoanAmount:[t?null===(c=null==t?void 0:t.loanOfferIssueInfo)||void 0===c?void 0:c.approvedLoanAmount:""],generateOffer:[t?null===(s=null==t?void 0:t.loanOfferIssueInfo)||void 0===s?void 0:s.generateOffer:""],charges:[t?null===(l=null==t?void 0:t.loanOfferIssueInfo)||void 0===l?void 0:l.charges:""],loanTenure:[t?null===(b=null==t?void 0:t.loanOfferIssueInfo)||void 0===b?void 0:b.loanTenure:""]})}getLoanOfferIssue(){this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(t=>{this.offerIssueDetails=t,console.log("this.offerIssueDetails::",this.offerIssueDetails),this.buildLoanOfferIssueForm(this.offerIssueDetails),this.loanOfferIssueForm.value.applicantName=this.offerIssueDetails.applicantName,this.loanOfferIssueForm.value.rateOfInterest=this.offerIssueDetails.rateOfInterest,this.loanOfferIssueForm.value.installmentType=this.offerIssueDetails.installmentType,this.loanOfferIssueForm.value.installmentFrequency=this.offerIssueDetails.installmentFrequency,this.loanOfferIssueForm.value.generateOffer=this.offerIssueDetails.generateOffer,this.loanOfferIssueForm.value.charges=this.offerIssueDetails.charges,this.loanOfferIssueForm.value.loanTenure=this.offerIssueDetails.loanTenure,this.loanOfferIssueForm.value.principal=this.offerIssueDetails.principal,this.loanOfferIssueForm.value.interest=this.offerIssueDetails.interest,this.loanOfferIssueForm.value.offerIssueDate=this.offerIssueDetails.offerIssueDate,this.loanOfferIssueForm.value.approvedLoanAmount=this.offerIssueDetails.approvedLoanAmount},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.offerIssueDetails=t,console.log("this.accountDetails",this.offerIssueDetails),console.log("form",this.loanOfferIssueForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,applicantName:this.loanOfferIssueForm.value.applicantName,charges:this.loanOfferIssueForm.value.charges,rateOfInterest:this.loanOfferIssueForm.value.rateOfInterest,installmentType:this.loanOfferIssueForm.value.installmentType,installmentFrequency:this.loanOfferIssueForm.value.installmentFrequency,generateOffer:this.loanOfferIssueForm.value.generateOffer,loanTenure:this.loanOfferIssueForm.value.loanTenure,approvedLoanAmount:this.loanOfferIssueForm.value.approvedLoanAmount,principal:this.loanOfferIssueForm.value.principal,interest:this.loanOfferIssueForm.value.interest,offerIssueDate:this.loanOfferIssueForm.value.offerIssueDate};console.log("payload",t),this.apiService.upsertOfferIssue(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(B.a),i.Rb(m.a),i.Rb(i.h),i.Rb(l.a),i.Rb(b.g),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-offer-issue-details-update"]],decls:81,vars:3,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount","maxlength","6",3,"keypress"],["matInput","","name","charges","formControlName","charges","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["placeholder","Generate Offer","formControlName","generateOffer"],["value",""],["value","With Schedule"],["value","Without Schedule"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","installmentFrequency","formControlName","installmentFrequency",3,"keypress"],["matInput","","name","installmentType","formControlName","installmentType",3,"keypress"],["matInput","","name","interest","formControlName","interest",3,"keypress"],["matInput","","name","loanTenure","formControlName","loanTenure","maxlength","10",3,"keypress"],["matInput","","name","principal","formControlName","principal","maxlength","10",3,"keypress"],["matInput","","name","offerIssueDate","formControlName","offerIssueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDOB",""],["align","end"],["mat-button","",3,"click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Offer Issue Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Applicant Name "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Sb(13,"input",6),i.Wb(),i.Wb(),i.Xb(14,"div",4),i.Xb(15,"mat-label"),i.Tc(16,"Approved Loan Amount"),i.Wb(),i.Xb(17,"mat-form-field",5),i.Xb(18,"input",7),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",4),i.Xb(20,"mat-label"),i.Tc(21,"Charges"),i.Wb(),i.Xb(22,"mat-form-field",5),i.Xb(23,"input",8),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",9),i.Xb(25,"div",4),i.Xb(26,"mat-label"),i.Tc(27,"Generate Offer"),i.Wb(),i.Xb(28,"mat-form-field",5),i.Xb(29,"mat-select",10),i.Xb(30,"mat-option",11),i.Tc(31,"Select"),i.Wb(),i.Xb(32,"mat-option",12),i.Tc(33,"With Schedule"),i.Wb(),i.Xb(34,"mat-option",13),i.Tc(35,"Without Schedule "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",4),i.Xb(37,"mat-label"),i.Tc(38,"Rate Of Interest "),i.Wb(),i.Xb(39,"mat-form-field",5),i.Xb(40,"input",14),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(41,"div",4),i.Xb(42,"mat-label"),i.Tc(43,"Installment frequency"),i.Wb(),i.Xb(44,"mat-form-field",5),i.Xb(45,"input",15),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",9),i.Xb(47,"div",4),i.Xb(48,"mat-label"),i.Tc(49,"Installment Type"),i.Wb(),i.Xb(50,"mat-form-field",5),i.Xb(51,"input",16),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div",4),i.Xb(53,"mat-label"),i.Tc(54,"Interest"),i.Wb(),i.Xb(55,"mat-form-field",5),i.Xb(56,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(57,"div",4),i.Xb(58,"mat-label"),i.Tc(59,"Loan Tenure"),i.Wb(),i.Xb(60,"mat-form-field",5),i.Xb(61,"input",18),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"div",9),i.Xb(63,"div",4),i.Xb(64,"mat-label"),i.Tc(65,"Principal"),i.Wb(),i.Xb(66,"mat-form-field",5),i.Xb(67,"input",19),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(68,"div",4),i.Xb(69,"mat-label"),i.Tc(70,"Offer Issue Date"),i.Wb(),i.Xb(71,"mat-form-field",5),i.Sb(72,"input",20),i.Sb(73,"mat-datepicker-toggle",21),i.Sb(74,"mat-datepicker",null,22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(76,"mat-dialog-actions",23),i.Xb(77,"button",24),i.fc("click",function(){return e.submitForm1()}),i.Tc(78," Update "),i.Wb(),i.Xb(79,"button",24),i.fc("click",function(){return e.goToClose()}),i.Tc(80,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(75);i.Eb(7),i.rc("formGroup",e.loanOfferIssueForm),i.Eb(65),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,p.m,T.a,O.n,I.e,I.g,W.j,I.d,b.c,C.b],styles:[""]}),t})();function Bd(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function jd(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function zd(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function qd(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.branchName),i.Eb(1),i.Uc(t.branchName)}}function Kd(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Jd(t,e){if(1&t&&(i.Xb(0,"mat-option",24),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let $d=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s){this.loader=t,this.apiService=e,this.data=a,this.fb=o,this.ls=n,this.dialogRef=i,this.cdr=r,this.taskSumService=c,this.snack=s,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,this.buildLoanApprovalForm(this.data),this.getLoanDetails(),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID)}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,n){function i(t){try{c(a.next(t))}catch(e){n(e)}}function r(t){try{c(a.throw(t))}catch(e){n(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(i,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}buildLoanApprovalForm(t){var e,a,o,n,i,r,c,s,l,b,d,u,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanApprovalForm=this.fb.group({loanAccountId:[this.loanaccountID],productName:[t?null===(e=null==t?void 0:t.loanApprovalInfo)||void 0===e?void 0:e.productName:""],accountBranch:[t?null===(a=null==t?void 0:t.loanApprovalInfo)||void 0===a?void 0:a.accountBranch:""],accountType:[t?null===(o=null==t?void 0:t.loanApprovalInfo)||void 0===o?void 0:o.accountType:""],applicantName:[t?null===(n=null==t?void 0:t.loanApprovalInfo)||void 0===n?void 0:n.applicantName:""],approvedLoanAccount:[t?null===(i=null==t?void 0:t.loanApprovalInfo)||void 0===i?void 0:i.approvedLoanAccount:""],userRecommendation:[t?null===(r=null==t?void 0:t.loanApprovalInfo)||void 0===r?void 0:r.userRecommendation:""],rateOfInterest:[t?null===(c=null==t?void 0:t.loanApprovalInfo)||void 0===c?void 0:c.rateOfInterest:""],margin:[t?null===(s=null==t?void 0:t.loanApprovalInfo)||void 0===s?void 0:s.margin:""],loanTenure:[t?null===(l=null==t?void 0:t.loanApprovalInfo)||void 0===l?void 0:l.loanTenure:""],effectiveRate:[t?null===(b=null==t?void 0:t.loanApprovalInfo)||void 0===b?void 0:b.effectiveRate:""],day:[t?null===(d=null==t?void 0:t.loanApprovalInfo)||void 0===d?void 0:d.loanTenure.split("-")[2]:""],month:[t?null===(u=null==t?void 0:t.loanApprovalInfo)||void 0===u?void 0:u.loanTenure.split("-")[1]:""],year:[t?null===(m=null==t?void 0:t.loanApprovalInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]:""]})}getAccountType(t){console.log("State -- ",t),this.apiService.getAccount(t).subscribe(t=>{console.log("data.accountType",t),this.accountType=t.accountTypeName,console.log("this.accountType",this.accountType),this.loanApprovalForm.get("accountType").setValue(t.accountTypeName)})}getBusinessProductDetails(t){this.apiService.getBusinessProductName(t).subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.screenArray=t,this.screenArrayData=t,0==this.screenArray.length&&this.screenArray.push(this.branchName),console.log("this.branchName::",this.branchName,this.screenArray),this.currencyData=this.screenArray.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData)})}onChangeBranch(t){this.currencyData=this.screenArray.find(e=>e.branchName==t.value),null==this.currencyData&&null==this.currencyData||this.loanApprovalForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}submitForm1(){const t=this.loanApprovalForm.value.year+"-"+this.loanApprovalForm.value.month+"-"+this.loanApprovalForm.value.day;this.loanApprovalForm.get("loanTenure").setValue(t),delete this.loanApprovalForm.value.year,delete this.loanApprovalForm.value.month,delete this.loanApprovalForm.value.day;let e={loanAccountId:this.data.loanAccountId,productName:this.loanApprovalForm.value.productName,accountBranch:this.loanApprovalForm.value.accountBranch,accountType:this.loanApprovalForm.value.accountType,applicantName:this.loanApprovalForm.value.applicantName,margin:this.loanApprovalForm.value.margin,rateOfInterest:this.loanApprovalForm.value.rateOfInterest,userRecommendation:this.loanApprovalForm.value.userRecommendation,effectiveRate:this.loanApprovalForm.value.effectiveRate,loanTenure:this.loanApprovalForm.value.loanTenure,accountCurrency:this.loanApprovalForm.value.accountCurrency,approvedLoanAccount:this.loanApprovalForm.value.approvedLoanAccount};console.log("payload",e),this.apiService.saveLoanDetails(e).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),null!==t&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),t||(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getLoanDetails(){console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.buildLoanApprovalForm(this.loanAccountDetails),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanApprovalForm.value),this.loanApprovalForm.controls.productName.setValue(this.loanAccountDetails.productName),this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanApprovalForm.value.accountType)),this.ls.setItem("accountType",this.loanApprovalForm.value.accountType),this.loanApprovalForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanApprovalForm.value.userRecommendation=this.loanAccountDetails.userRecommendation,this.loanApprovalForm.value.loanTenure=this.loanAccountDetails.loanTenure,this.loanApprovalForm.value.applicantName=this.loanAccountDetails.applicantName,this.loanApprovalForm.value.margin=this.loanAccountDetails.margin,this.loanApprovalForm.value.approvedLoanAccount=this.loanAccountDetails.approvedLoanAccount,this.loanApprovalForm.value.effectiveRate=this.loanAccountDetails.effectiveRate,this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,this.loanApprovalForm.value.productName=this.loanAccountDetails.productName,this.loanApprovalForm.value.rateOfInterest=this.loanAccountDetails.rateOfInterest})}goToClose(){this.dialogRef.close(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.buildLoanApprovalForm(this.loanAccountDetails),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanApprovalForm.value),this.loanApprovalForm.controls.productName.setValue(this.loanAccountDetails.productName),this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanApprovalForm.value.accountType)),this.ls.setItem("accountType",this.loanApprovalForm.value.accountType),this.loanApprovalForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanApprovalForm.value.userRecommendation=this.loanAccountDetails.userRecommendation,this.loanApprovalForm.value.loanTenure=this.loanAccountDetails.loanTenure,this.loanApprovalForm.value.applicantName=this.loanAccountDetails.applicantName,this.loanApprovalForm.value.margin=this.loanAccountDetails.margin,this.loanApprovalForm.value.approvedLoanAccount=this.loanAccountDetails.approvedLoanAccount,this.loanApprovalForm.value.effectiveRate=this.loanAccountDetails.effectiveRate,this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,this.loanApprovalForm.value.productName=this.loanAccountDetails.productName,this.loanApprovalForm.value.rateOfInterest=this.loanAccountDetails.rateOfInterest})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(B.a),i.Rb(r.b),i.Rb(b.a),i.Rb(p.f),i.Rb(l.a),i.Rb(b.g),i.Rb(i.h),i.Rb(m.a),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-approval-details-update"]],decls:84,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["name","mod","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],["name","account_branch","formControlName","productName",3,"selectionChange"],["matInput","","name","approvedLoanAccount","formControlName","approvedLoanAccount",1,"alignment",3,"keypress"],["matInput","","name","effectiveRate","formControlName","effectiveRate",1,"alignment",3,"keypress"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",1,"alignment",3,"keypress"],["matInput","","name","margin","formControlName","margin",1,"alignment",3,"keypress"],["formControlName","userRecommendation","placeholder","User Recommendation"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"mat-dialog-content"),i.Xb(2,"div",0),i.Xb(3,"mat-icon",1),i.fc("click",function(){return e.goToClose()}),i.Tc(4,"close"),i.Wb(),i.Wb(),i.Xb(5,"h1"),i.Tc(6,"Loan Approval Details"),i.Wb(),i.Xb(7,"form",2),i.Xb(8,"div",3),i.Xb(9,"div",4),i.Xb(10,"mat-label"),i.Tc(11,"Applicant Name "),i.Wb(),i.Xb(12,"mat-form-field",5),i.Sb(13,"input",6),i.Wb(),i.Wb(),i.Xb(14,"div",4),i.Xb(15,"mat-label"),i.Tc(16,"Loan Tenure"),i.Wb(),i.Xb(17,"div",7),i.Xb(18,"div",8),i.Xb(19,"div"),i.Xb(20,"mat-form-field",5),i.Xb(21,"mat-select",9),i.Rc(22,Bd,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div"),i.Xb(24,"mat-form-field",5),i.Xb(25,"mat-select",11),i.Rc(26,jd,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div"),i.Xb(28,"mat-form-field",5),i.Xb(29,"mat-select",12),i.Rc(30,zd,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(31,"div",4),i.Wb(),i.Xb(32,"div",13),i.Xb(33,"div",4),i.Xb(34,"mat-label"),i.Tc(35,"Account Branch "),i.Wb(),i.Xb(36,"mat-form-field",5),i.Xb(37,"mat-select",14),i.fc("selectionChange",function(t){return e.onChangeBranch(t)}),i.Rc(38,qd,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",4),i.Xb(40,"mat-label"),i.Tc(41,"Account Type"),i.Wb(),i.Xb(42,"mat-form-field",5),i.Sb(43,"input",15),i.Wb(),i.Wb(),i.Xb(44,"div",4),i.Xb(45,"mat-label"),i.Tc(46,"Product Name"),i.Wb(),i.Xb(47,"mat-form-field",5),i.Xb(48,"mat-select",16),i.fc("selectionChange",function(t){return e.getAccountType(t.value)}),i.Rc(49,Kd,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",13),i.Xb(51,"div",4),i.Xb(52,"mat-label"),i.Tc(53,"Approved Loan Amount"),i.Wb(),i.Xb(54,"mat-form-field",5),i.Xb(55,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",4),i.Xb(57,"mat-label"),i.Tc(58,"Effective Rate"),i.Wb(),i.Xb(59,"mat-form-field",5),i.Xb(60,"input",18),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(61,"div",4),i.Xb(62,"mat-label"),i.Tc(63,"Rate Of Interest"),i.Wb(),i.Xb(64,"mat-form-field",5),i.Xb(65,"input",19),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(66,"div",13),i.Xb(67,"div",4),i.Xb(68,"mat-label"),i.Tc(69,"Margin"),i.Wb(),i.Xb(70,"mat-form-field",5),i.Xb(71,"input",20),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(72,"div",4),i.Xb(73,"mat-label"),i.Tc(74,"User Recommendation"),i.Wb(),i.Xb(75,"mat-form-field",5),i.Xb(76,"mat-select",21),i.Rc(77,Jd,2,2,"mat-option",10),i.Wb(),i.Wb(),i.Wb(),i.Sb(78,"div",4),i.Wb(),i.Wb(),i.Wb(),i.Xb(79,"mat-dialog-actions",22),i.Xb(80,"button",23),i.fc("click",function(){return e.submitForm1()}),i.Tc(81," Update "),i.Wb(),i.Xb(82,"button",23),i.fc("click",function(){return e.goToClose()}),i.Tc(83,"Close"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(7),i.rc("formGroup",e.loanApprovalForm),i.Eb(15),i.rc("ngForOf",e.years),i.Eb(4),i.rc("ngForOf",e.months),i.Eb(4),i.rc("ngForOf",e.days),i.Eb(8),i.rc("ngForOf",e.screenArray),i.Eb(5),i.rc("readonly",!0),i.Eb(6),i.rc("ngForOf",e.arrayAccountBranch),i.Eb(28),i.rc("ngForOf",e.arrayUserRecommendation))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,g.f,g.d,T.a,o.m,b.c,C.b,O.n],styles:[""]}),t})();function Hd(t,e){if(1&t&&(i.Xb(0,"span",76),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(t)}}function Yd(t,e){if(1&t&&(i.Xb(0,"div",77),i.Xb(1,"h1",78),i.Tc(2),i.kc(3,"slice"),i.kc(4,"uppercase"),i.kc(5,"slice"),i.kc(6,"uppercase"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Oc("background",t.customerColorCode),i.Eb(2),i.Wc("",i.nc(3,4,i.lc(4,8,t.loanInfo.firstName),0,1),"",i.nc(5,10,i.lc(6,14,t.loanInfo.lastName),0,1),"")}}function Zd(t,e){if(1&t&&i.Sb(0,"img",80),2&t){const t=i.jc(2);i.rc("src",t.imageUrl,i.Jc)}}function Qd(t,e){if(1&t&&(i.Xb(0,"div",77),i.Rc(1,Zd,1,1,"img",79),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.rc("ngIf","not_available"!=t.imageUrl)}}function tu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().onEdit("loanAccount_array")}),i.Tc(1,"edit"),i.Wb()}}function eu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().onEdit("loanAccount_array")}),i.Tc(1,"edit"),i.Wb()}}function au(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().onEdit("loanAccount_array")}),i.Tc(1,"edit"),i.Wb()}}function ou(t,e){if(1&t&&(i.Xb(0,"div",93),i.Xb(1,"small",94),i.Tc(2),i.Wb(),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(2),i.Vc("CIF #",null==t?null:t.cifNumber,"")}}function nu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",95),i.fc("click",function(){return i.Hc(t),i.jc(2).goTo360Dashboard()}),i.Xb(1,"small",94),i.Tc(2),i.Wb(),i.Wb()}if(2&t){const t=i.jc().$implicit;i.Eb(2),i.Vc("CIF #",null==t?null:t.cifNumber,"")}}function iu(t,e){if(1&t&&(i.Xb(0,"div",62),i.Xb(1,"div",38),i.Xb(2,"mat-card"),i.Xb(3,"div",62),i.Xb(4,"div",82),i.Sb(5,"img",83),i.Wb(),i.Xb(6,"div",84),i.Xb(7,"div",85),i.Xb(8,"div"),i.Xb(9,"div",62),i.Xb(10,"div",86),i.Xb(11,"h2",87),i.Xb(12,"span"),i.Tc(13),i.Wb(),i.Tc(14,"\xa0 "),i.Xb(15,"span"),i.Tc(16),i.Wb(),i.Tc(17,"\xa0 "),i.Xb(18,"span"),i.Tc(19),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",88),i.Tc(21,"|"),i.Wb(),i.Xb(22,"div",86),i.Xb(23,"small",48),i.Tc(24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",62),i.Rc(26,ou,3,1,"div",89),i.Rc(27,nu,3,1,"div",90),i.Wb(),i.Sb(28,"br"),i.Xb(29,"div",91),i.Xb(30,"div",92),i.Xb(31,"small",47),i.Tc(32,"Date of Birth"),i.Wb(),i.Sb(33,"br"),i.Xb(34,"p",48),i.Tc(35),i.Wb(),i.Wb(),i.Xb(36,"div",92),i.Xb(37,"small",47),i.Tc(38,"Email ID"),i.Wb(),i.Sb(39,"br"),i.Xb(40,"p",48),i.Tc(41),i.Wb(),i.Wb(),i.Xb(42,"div",92),i.Xb(43,"small",47),i.Tc(44,"Mobile Number"),i.Wb(),i.Sb(45,"br"),i.Xb(46,"p",48),i.Tc(47),i.Wb(),i.Wb(),i.Xb(48,"div",92),i.Xb(49,"small",47),i.Tc(50,"Landline Number"),i.Wb(),i.Sb(51,"br"),i.Xb(52,"p",48),i.Tc(53),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=i.jc();i.Eb(13),i.Uc(null==t?null:t.firstName),i.Eb(3),i.Uc(null==t?null:t.middleName),i.Eb(3),i.Uc(null==t?null:t.lastName),i.Eb(5),i.Vc("Last Updated On ",null!=t&&t.modifiedTime?t.modifiedTime:t.createdTime,""),i.Eb(2),i.rc("ngIf",!a.isApprovedSreen),i.Eb(1),i.rc("ngIf",a.isApprovedSreen),i.Eb(8),i.Uc(null==t?null:t.dateOfBirth),i.Eb(6),i.Uc(null==t?null:t.primaryEmailAdress),i.Eb(6),i.Uc(null==t?null:t.phoneNumber),i.Eb(6),i.Uc(null==t?null:t.landlineNumber)}}function ru(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editMandate()}),i.Tc(1,"edit"),i.Wb()}}function cu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",96),i.Xb(1,"mat-accordion",97),i.Xb(2,"mat-expansion-panel",98),i.fc("opened",function(){return i.Hc(t),i.jc().panelOpenState=!0})("closed",function(){return i.Hc(t),i.jc().panelOpenState=!1}),i.Xb(3,"mat-expansion-panel-header"),i.Xb(4,"mat-panel-title"),i.Tc(5),i.Wb(),i.Wb(),i.Xb(6,"div"),i.Xb(7,"div",52),i.Vb(8),i.Xb(9,"div",53),i.Xb(10,"mat-hint",35),i.Tc(11,"Applicant Name"),i.Wb(),i.Sb(12,"br"),i.Xb(13,"mat-hint",36),i.Tc(14),i.Wb(),i.Wb(),i.Xb(15,"div",53),i.Xb(16,"mat-hint",35),i.Tc(17,"Collateral Share Percentage"),i.Wb(),i.Sb(18,"br"),i.Xb(19,"mat-hint",36),i.Tc(20),i.Wb(),i.Wb(),i.Xb(21,"div",53),i.Xb(22,"mat-hint",35),i.Tc(23,"Repayment Share Percentage"),i.Wb(),i.Sb(24,"br"),i.Xb(25,"mat-hint",36),i.Tc(26),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index;i.Eb(5),i.Vc(" Mandate ",a+1," "),i.Eb(9),i.Uc(t.applicantName),i.Eb(6),i.Uc(t.collateralShare),i.Eb(6),i.Uc(t.repaymentShare)}}function su(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editCollateral()}),i.Tc(1,"edit"),i.Wb()}}function lu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",53),i.Xb(1,"mat-hint",47),i.Tc(2,"Secondary Charge Allowed ?"),i.Wb(),i.Sb(3,"br"),i.Xb(4,"div",100),i.Xb(5,"mat-slide-toggle",101),i.fc("change",function(){return i.Hc(t),i.jc(3).stayTrue1()}),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc().$implicit;i.Eb(5),i.rc("checked",t.secondaryChargeAllowed)}}function bu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",96),i.Xb(1,"mat-accordion",97),i.Xb(2,"mat-expansion-panel",98),i.fc("opened",function(){return i.Hc(t),i.jc(2).panelOpenState=!0})("closed",function(){return i.Hc(t),i.jc(2).panelOpenState=!1}),i.Xb(3,"mat-expansion-panel-header"),i.Xb(4,"mat-panel-title"),i.Tc(5),i.Wb(),i.Wb(),i.Xb(6,"div"),i.Xb(7,"div",52),i.Vb(8),i.Xb(9,"div",53),i.Xb(10,"div",35),i.Tc(11,"Number Of Collateral"),i.Wb(),i.Sb(12,"br"),i.Xb(13,"div",36),i.Tc(14),i.Wb(),i.Wb(),i.Xb(15,"div",53),i.Xb(16,"div",35),i.Tc(17,"Total Collateral Value"),i.Wb(),i.Sb(18,"br"),i.Xb(19,"div",36),i.Tc(20),i.Wb(),i.Wb(),i.Xb(21,"div",53),i.Xb(22,"div",35),i.Tc(23,"Utilized Previously"),i.Wb(),i.Sb(24,"br"),i.Xb(25,"div",36),i.Tc(26),i.Wb(),i.Wb(),i.Xb(27,"div",53),i.Xb(28,"div",35),i.Tc(29,"Cover Available"),i.Wb(),i.Sb(30,"br"),i.Xb(31,"div",36),i.Tc(32),i.Wb(),i.Wb(),i.Rc(33,lu,6,1,"div",99),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index;i.Eb(5),i.Vc(" Collateral ",a+1," "),i.Eb(9),i.Uc(t.noOfCollateral),i.Eb(6),i.Uc(t.totalCollateralValue),i.Eb(6),i.Uc(t.utilizedPreviously),i.Eb(6),i.Uc(t.coverAvailable),i.Eb(1),i.rc("ngIf",null!=t)}}function du(t,e){if(1&t&&(i.Xb(0,"div",54),i.Rc(1,bu,34,6,"div",55),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.rc("ngForOf",t.colateral_array.collateralDetails)}}function uu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editGuarantor()}),i.Tc(1,"edit"),i.Wb()}}function mu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().onEdit()}),i.Tc(1,"edit"),i.Wb()}}function pu(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div",102),i.Xb(2,"div"),i.Xb(3,"mat-card",103),i.Xb(4,"div"),i.Xb(5,"div",35),i.Tc(6,"Interest Type"),i.Wb(),i.Xb(7,"div",36),i.Tc(8),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div"),i.Xb(10,"mat-card",103),i.Xb(11,"div"),i.Xb(12,"div",35),i.Tc(13,"Effective Rate"),i.Wb(),i.Xb(14,"div",36),i.Tc(15),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div"),i.Xb(17,"mat-card",103),i.Xb(18,"div"),i.Xb(19,"div",35),i.Tc(20,"Applicable Interest Rate"),i.Wb(),i.Xb(21,"div",36),i.Tc(22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div"),i.Xb(24,"mat-card",103),i.Xb(25,"div"),i.Xb(26,"div",35),i.Tc(27,"Margin In %"),i.Wb(),i.Xb(28,"div",36),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(8),i.Uc(null==t?null:t.intrestType),i.Eb(7),i.Uc(null==t?null:t.effectiveRate),i.Eb(7),i.Uc(null==t?null:t.intrestRateApplicable),i.Eb(7),i.Uc(null==t?null:t.marginIn)}}function hu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editDisbursement("loanDisbusment_array")}),i.Tc(1,"edit"),i.Wb()}}function fu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editRepaymentInfo("loanRepayment_array")}),i.Tc(1,"edit"),i.Wb()}}function gu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().onEdit()}),i.Tc(1,"edit"),i.Wb()}}function vu(t,e){if(1&t&&(i.Xb(0,"mat-card"),i.Xb(1,"div",102),i.Xb(2,"div"),i.Xb(3,"mat-card",103),i.Xb(4,"div"),i.Xb(5,"div",35),i.Tc(6,"Amount"),i.Wb(),i.Xb(7,"div",36),i.Tc(8),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div"),i.Xb(10,"mat-card",103),i.Xb(11,"div"),i.Xb(12,"div",35),i.Tc(13,"Charge Details ID"),i.Wb(),i.Xb(14,"div",36),i.Tc(15),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div"),i.Xb(17,"mat-card",103),i.Xb(18,"div"),i.Xb(19,"div",35),i.Tc(20,"Interest Type"),i.Wb(),i.Xb(21,"div",36),i.Tc(22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div"),i.Xb(24,"mat-card",103),i.Xb(25,"div"),i.Xb(26,"div",35),i.Tc(27,"Waiver"),i.Wb(),i.Xb(28,"div",36),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(8),i.Uc(null==t?null:t.amout),i.Eb(7),i.Uc(null==t?null:t.chargeDetailsId),i.Eb(7),i.Uc(null==t?null:t.intrestType),i.Eb(7),i.Uc(null==t?null:t.waiver)}}function Wu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editCreditInfo("loanCreditScore_array")}),i.Tc(1,"edit"),i.Wb()}}function Xu(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",32),i.Sb(2,"div",33),i.Xb(3,"div",34),i.Xb(4,"div",35),i.Tc(5,"Customer Name"),i.Wb(),i.Xb(6,"div",36),i.Tc(7),i.Wb(),i.Wb(),i.Xb(8,"div",34),i.Xb(9,"div",35),i.Tc(10,"Agency Name"),i.Wb(),i.Xb(11,"div",36),i.Tc(12),i.Wb(),i.Wb(),i.Xb(13,"div",34),i.Xb(14,"div",35),i.Tc(15,"Remarks"),i.Wb(),i.Xb(16,"div",36),i.Tc(17),i.Wb(),i.Wb(),i.Xb(18,"div",34),i.Xb(19,"div",35),i.Tc(20,"Ratings"),i.Wb(),i.Xb(21,"div",36),i.Tc(22),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=i.jc(2);i.Eb(7),i.Uc(null==a.loanCreditScore_array?null:a.loanCreditScore_array.customerName),i.Eb(5),i.Uc(t.agencyName),i.Eb(5),i.Uc(t.remarks),i.Eb(5),i.Uc(t.ratings)}}function yu(t,e){if(1&t&&(i.Xb(0,"mat-card",31),i.Xb(1,"mat-card-content"),i.Rc(2,Xu,23,4,"div",58),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(2),i.rc("ngForOf",t.loanCreditScore_array.agencyRating)}}function Tu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editValuationOfAsset("valueofassest_array")}),i.Tc(1,"edit"),i.Wb()}}function Iu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editLegalOpinion("legaopninio_array")}),i.Tc(1,"edit"),i.Wb()}}function xu(t,e){if(1&t&&(i.Xb(0,"div",107),i.Xb(1,"mat-card",108),i.Xb(2,"div"),i.Tc(3),i.Wb(),i.Xb(4,"div",109),i.Tc(5),i.Wb(),i.Wb(),i.Xb(6,"mat-card",108),i.Xb(7,"div"),i.Tc(8,"Score"),i.Wb(),i.Xb(9,"div",109),i.Tc(10),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index;i.Eb(3),i.Wc("",a+1,".",t.scorecardQuestion,""),i.Eb(2),i.Uc(t.scorecardAnswer),i.Eb(5),i.Uc(t.scoreData)}}function Cu(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",104),i.Tc(2),i.Wb(),i.Xb(3,"div",105),i.Rc(4,xu,11,4,"div",106),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index,o=i.jc();i.Eb(2),i.Vc("Applicant ",t.applicantId,""),i.Eb(2),i.rc("ngForOf",null==o.qualitativeScoreboardSummary?null:o.qualitativeScoreboardSummary.scoreCardMapping[a].scoreCardDetails)}}function Eu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editAssessmentInfo("loanassement_array")}),i.Tc(1,"edit"),i.Wb()}}function Ou(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editOfferIssueInfo("offerissue_array")}),i.Tc(1,"edit"),i.Wb()}}function Du(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-icon",81),i.fc("click",function(){return i.Hc(t),i.jc().editOfferIssueInfo("offerissue_array")}),i.Tc(1,"edit"),i.Wb()}}function Au(t,e){if(1&t&&(i.Xb(0,"mat-card",31),i.Xb(1,"mat-card-content"),i.Xb(2,"div",32),i.Sb(3,"div",33),i.Xb(4,"div",34),i.Xb(5,"div",35),i.Tc(6,"Applicant Name"),i.Wb(),i.Xb(7,"div",36),i.Tc(8),i.Wb(),i.Wb(),i.Xb(9,"div",34),i.Xb(10,"div",35),i.Tc(11,"Approved Loan Amount"),i.Wb(),i.Xb(12,"div",36),i.Tc(13),i.Wb(),i.Wb(),i.Xb(14,"div",34),i.Xb(15,"div",35),i.Tc(16,"Loan Tenure"),i.Wb(),i.Xb(17,"div",36),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",32),i.Sb(20,"div",33),i.Xb(21,"div",34),i.Xb(22,"div",35),i.Tc(23,"Installment Type"),i.Wb(),i.Xb(24,"div",36),i.Tc(25),i.Wb(),i.Wb(),i.Xb(26,"div",34),i.Xb(27,"div",35),i.Tc(28,"Installment Frequency"),i.Wb(),i.Xb(29,"div",36),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",34),i.Xb(32,"div",35),i.Tc(33,"Rate Of Interest(in %)"),i.Wb(),i.Xb(34,"div",36),i.Tc(35),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",32),i.Sb(37,"div",33),i.Xb(38,"div",34),i.Xb(39,"div",35),i.Tc(40,"Offer Issue Date"),i.Wb(),i.Xb(41,"div",36),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",34),i.Xb(44,"div",35),i.Tc(45,"Generate Offer"),i.Wb(),i.Xb(46,"div",36),i.Tc(47),i.Wb(),i.Wb(),i.Xb(48,"div",34),i.Xb(49,"div",35),i.Tc(50,"Offer Expiry Date"),i.Wb(),i.Xb(51,"div",36),i.Tc(52),i.Wb(),i.Wb(),i.Wb(),i.Xb(53,"div",32),i.Sb(54,"div",33),i.Xb(55,"div",34),i.Xb(56,"div",35),i.Tc(57,"Date Of Offer Accept/Reject"),i.Wb(),i.Xb(58,"div",36),i.Tc(59),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(8),i.Uc(t.offerDetails.applicantName),i.Eb(5),i.Uc(null==t.offerDetails?null:t.offerDetails.approvedLoanAmount),i.Eb(5),i.Uc(null==t.offerDetails?null:t.offerDetails.loanTenure),i.Eb(7),i.Uc(t.offerDetails.installmentType),i.Eb(5),i.Uc(t.offerDetails.installmentFrequency),i.Eb(5),i.Uc(t.offerDetails.rateOfInterest),i.Eb(7),i.Uc(t.offerDetails.offerIssueDate),i.Eb(5),i.Uc(t.offerDetails.generateOffer),i.Eb(5),i.Uc(t.offerDetails.offerExpiryDate),i.Eb(7),i.Uc(t.offerDetails.dateOfOfferAcceptOrReject)}}function Ru(t,e){if(1&t&&(i.Xb(0,"mat-card",31),i.Xb(1,"mat-card-content"),i.Xb(2,"div",32),i.Sb(3,"div",33),i.Xb(4,"div",34),i.Xb(5,"div",35),i.Tc(6,"Applicant Name"),i.Wb(),i.Xb(7,"div",36),i.Tc(8),i.Wb(),i.Wb(),i.Xb(9,"div",34),i.Xb(10,"div",35),i.Tc(11,"Offer Issue Date"),i.Wb(),i.Xb(12,"div",36),i.Tc(13),i.Wb(),i.Wb(),i.Xb(14,"div",34),i.Xb(15,"div",35),i.Tc(16,"Offer Exipiry Date"),i.Wb(),i.Xb(17,"div",36),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",32),i.Sb(20,"div",33),i.Xb(21,"div",34),i.Xb(22,"div",35),i.Tc(23,"Offer Amend Date"),i.Wb(),i.Xb(24,"div",36),i.Tc(25),i.Wb(),i.Wb(),i.Xb(26,"div",34),i.Xb(27,"div",35),i.Tc(28,"Approved Loan Amount"),i.Wb(),i.Xb(29,"div",36),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",34),i.Xb(32,"div",35),i.Tc(33,"Loan Amount Recommended"),i.Wb(),i.Xb(34,"div",36),i.Tc(35),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",32),i.Sb(37,"div",33),i.Xb(38,"div",34),i.Xb(39,"div",35),i.Tc(40,"Loan Tenure"),i.Wb(),i.Xb(41,"div",36),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",34),i.Xb(44,"div",35),i.Tc(45,"Installment Type"),i.Wb(),i.Xb(46,"div",36),i.Tc(47),i.Wb(),i.Wb(),i.Xb(48,"div",34),i.Xb(49,"div",35),i.Tc(50,"Rate Of Interest(%)"),i.Wb(),i.Xb(51,"div",36),i.Tc(52),i.Wb(),i.Wb(),i.Wb(),i.Xb(53,"div",32),i.Sb(54,"div",33),i.Xb(55,"div",34),i.Xb(56,"div",35),i.Tc(57,"Margin(%))"),i.Wb(),i.Xb(58,"div",36),i.Tc(59),i.Wb(),i.Wb(),i.Xb(60,"div",34),i.Xb(61,"div",35),i.Tc(62,"Effective Rate(%)"),i.Wb(),i.Xb(63,"div",36),i.Tc(64),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(8),i.Uc(t.postOfferDetails.applicantName),i.Eb(5),i.Uc(t.postOfferDetails.offerIssueDate),i.Eb(5),i.Uc(t.postOfferDetails.offerExpiryDate),i.Eb(7),i.Uc(t.postOfferDetails.offerAmendDate),i.Eb(5),i.Uc(t.postOfferDetails.approvedLoanAmount),i.Eb(5),i.Uc(t.postOfferDetails.loanAmmountRecommended),i.Eb(7),i.Uc(t.postOfferDetails.loanTenure),i.Eb(5),i.Uc(t.postOfferDetails.installmentType),i.Eb(5),i.Uc(t.postOfferDetails.rateOfInterest),i.Eb(7),i.Uc(t.postOfferDetails.margin),i.Eb(5),i.Uc(t.postOfferDetails.effectiveRate)}}function Su(t,e){if(1&t&&(i.Xb(0,"mat-card",31),i.Xb(1,"mat-card-content"),i.Xb(2,"div",32),i.Sb(3,"div",33),i.Xb(4,"div",34),i.Xb(5,"div",35),i.Tc(6,"Applicant Name"),i.Wb(),i.Xb(7,"div",36),i.Tc(8),i.Wb(),i.Wb(),i.Xb(9,"div",34),i.Xb(10,"div",35),i.Tc(11,"Approved Loan Amount"),i.Wb(),i.Xb(12,"div",36),i.Tc(13),i.Wb(),i.Wb(),i.Xb(14,"div",34),i.Xb(15,"div",35),i.Tc(16,"Offer Issue Date"),i.Wb(),i.Xb(17,"div",36),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",32),i.Sb(20,"div",33),i.Xb(21,"div",34),i.Xb(22,"div",35),i.Tc(23,"Offer Accepted Date"),i.Wb(),i.Xb(24,"div",36),i.Tc(25),i.Wb(),i.Wb(),i.Xb(26,"div",34),i.Xb(27,"div",35),i.Tc(28,"Loan Tenure"),i.Wb(),i.Xb(29,"div",36),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",34),i.Xb(32,"div",35),i.Tc(33,"Installment Type"),i.Wb(),i.Xb(34,"div",36),i.Tc(35),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",32),i.Sb(37,"div",33),i.Xb(38,"div",34),i.Xb(39,"div",35),i.Tc(40,"Installment Frequency"),i.Wb(),i.Xb(41,"div",36),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",34),i.Xb(44,"div",35),i.Tc(45,"Rate of Interest"),i.Wb(),i.Xb(46,"div",36),i.Tc(47),i.Wb(),i.Wb(),i.Xb(48,"div",34),i.Xb(49,"div",35),i.Tc(50,"Principal"),i.Wb(),i.Xb(51,"div",36),i.Tc(52),i.Wb(),i.Wb(),i.Wb(),i.Xb(53,"div",32),i.Sb(54,"div",33),i.Xb(55,"div",34),i.Xb(56,"div",35),i.Tc(57,"Interest"),i.Wb(),i.Xb(58,"div",36),i.Tc(59),i.Wb(),i.Wb(),i.Xb(60,"div",34),i.Xb(61,"div",35),i.Tc(62,"Installment Amount"),i.Wb(),i.Xb(63,"div",36),i.Tc(64),i.Wb(),i.Wb(),i.Xb(65,"div",34),i.Xb(66,"div",35),i.Tc(67,"Charges"),i.Wb(),i.Xb(68,"div",36),i.Tc(69),i.Wb(),i.Wb(),i.Wb(),i.Xb(70,"div",32),i.Sb(71,"div",33),i.Xb(72,"div",34),i.Xb(73,"div",35),i.Tc(74,"Disbursement Amount"),i.Wb(),i.Xb(75,"div",36),i.Tc(76),i.Wb(),i.Wb(),i.Xb(77,"div",34),i.Xb(78,"div",35),i.Tc(79,"Repayment Amount"),i.Wb(),i.Xb(80,"div",36),i.Tc(81),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(8),i.Uc(t.accountCreateValue.applicantName),i.Eb(5),i.Uc(t.accountCreateValue.approvedLoanAmount),i.Eb(5),i.Uc(t.accountCreateValue.offerIssueDate.slice(0,12)),i.Eb(7),i.Uc(t.accountCreateValue.offerAcceptedDate.slice(0,12)),i.Eb(5),i.Uc(t.accountCreateValue.loanTenure),i.Eb(5),i.Uc(t.accountCreateValue.installmentType),i.Eb(7),i.Uc(t.accountCreateValue.installmentFrequency),i.Eb(5),i.Uc(t.accountCreateValue.rateOfInterest),i.Eb(5),i.Uc(t.accountCreateValue.principal),i.Eb(7),i.Uc(t.accountCreateValue.interest),i.Eb(5),i.Uc(t.accountCreateValue.installmentAmount),i.Eb(5),i.Uc(t.accountCreateValue.charges),i.Eb(7),i.Uc(t.accountCreateValue.disbursementAmount),i.Eb(5),i.Uc(t.accountCreateValue.repaymentAmount)}}function Nu(t,e){if(1&t&&(i.Xb(0,"div",36),i.Xb(1,"a",110),i.Tc(2,"link"),i.Wb(),i.Sb(3,"link"),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.sc("href",t.signatureData.fileUrl,i.Jc)}}const Pu=function(t,e){return{disabledbtn:t,continueBtn:e}},ku=function(t,e){return{disabledbtn:t,rejectButton:e}},Fu=function(t,e){return{disabledbtn:t,approveButton:e}};let Lu=(()=>{class t{constructor(t,e,a,o,n,i,r,c,s,l,b,d,u,m,p,h){this.taskSumService=t,this.ls=e,this.api=a,this.dialogService=o,this.router=n,this.cdr=i,this.dialog=r,this.snack=c,this.tasksummaryService=s,this.appApiService=l,this.loader=b,this.apiService=d,this.sanitizer=u,this.dataResponse=m,this.dialogRef=p,this.jwtService=h,this.updateLoanDetails=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}ngOnInit(){console.log("dataResponse.dataResp.loanAccountId",this.dataResponse.dataResp.loanAccountId),this.loanAccountId=this.dataResponse.dataResp.loanAccountId,this.status=this.dataResponse.dataResp.status,this.loanInfo=this.dataResponse.dataResp,this.ls.setItem("CIF_NUM_PRIMARY",this.loanInfo.customerId),this.ls.setItem("NAME",this.loanInfo.firstName+" "+this.loanInfo.lastName),this.getCustomerInfoDetails(),this.getMandateDetails(),this.fetchOfferAcceptRejectDetails(this.loanAccountId),this.fetchPostOfferAmendmentDetails(),this.getAccountCreateDetails(),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId),this.getProfileImage(this.loanInfo.customerId)}getAllData(t){this.api.getLoanQualitativeScorecardDetails(this.loanAccountId).subscribe(t=>{this.qualitativeScoreboardSummary=t})}getLoanAccountInfo(t){this.taskSumService.getLoanAccountDetails(t).subscribe(t=>{console.log("data",t),this.loanTaskDetails=t,this.loanAccount_array=t,this.createDataInfo=Object.values(t)[20],console.log(Object.values(t)),console.log(Object.values(t)[0]),this.loanAccount_array=Object.values(t)[0],this.assest_array=Object.values(t)[1],this.mandate_array=Object.values(t)[4],console.log("mandate_array",this.mandate_array.mandateId),this.colateral_array=Object.values(t)[6],console.log("collateral",this.colateral_array),console.log("collateral obj",Object.values(t)[6]),console.log(Object.values(t)),this.guranator_array=Object.values(t)[7],this.loanInterest_array=Object.values(t)[8],this.loanDisbusment_array=Object.values(t)[9],this.loanRepayment_array=Object.values(t)[10],this.loanCharge_array=Object.values(t)[11],this.accountService_array=Object.values(t)[12],this.loanCreditScore_array=Object.values(t)[13],this.valueofassest_array=Object.values(t)[14],this.legaopninio_array=Object.values(t)[15],this.loanassement_array=Object.values(t)[16],this.loanapproval_array=Object.values(t)[17],this.offerissue_array=Object.values(t)[18],"REJECTED"===Object.values(t)[0].status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"===Object.values(t)[0].status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"ONGOING"===Object.values(t)[0].status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"===Object.values(t)[0].status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0)})}goToLoanAccount(){console.log("Navigating to edit screen"),this.ls.setItem("LOAN_ACC_ARRAY",this.loanAccount_array),console.log(this.loanAccount_array),this.api.updateLoanDetailsStatus({loanAccountId:this.loanAccount_array.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.router.navigateByUrl("/loan/account/list"),this.dialogRef.close({message:"Confirm"})}editAsset(t=""){this.openPopUp1(t)}editGuarantor(t=""){this.openGuarantor(t)}openGuarantor(t){this.dialog.open(Od,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,gurantorInfo:this.guranator_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editDisbursement(t=""){this.openDisbursement(t)}openDisbursement(t){this.dialog.open(Dd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,disbursementInfo:this.loanDisbusment_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editRepaymentInfo(t=""){this.openRepaymentInfo(t)}openRepaymentInfo(t){this.dialog.open(Nd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanRepaymentInfo:this.loanRepayment_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editValuationOfAsset(t=""){this.openValuationOfAssetInfo(t)}openValuationOfAssetInfo(t){this.dialog.open(kd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanValuationOfAssetInfo:this.valueofassest_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editLegalOpinion(t=""){this.openLegalOpnionInfo(t)}openLegalOpnionInfo(t){this.dialog.open(Fd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanLegalInfo:this.legaopninio_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editAssessmentInfo(t=""){this.openAssessmentInfo(t)}openAssessmentInfo(t){this.dialog.open(Gd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanAssessmentInfo:this.loanassement_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editOfferIssueInfo(t=""){this.openOfferIssueInfo(t)}openOfferIssueInfo(t){this.dialog.open(Vd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanOfferIssueInfo:this.offerissue_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editApprovalInfo(t=""){this.openApprovalInfo(t)}openApprovalInfo(t){this.dialog.open($d,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanApprovalInfo:this.loanapproval_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editCreditInfo(t=""){this.openCreditInfo(t)}openCreditInfo(t){this.dialog.open(Pd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanCreditInfo:this.loanCreditScore_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}onEdit(t=""){console.log("edit"),this.loanAccount_array&&this.openPopUp(t)}openPopUp(t){this.dialog.open(ld,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,info:this.loanAccount_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}openPopUp1(t){this.dialog.open(pd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,assetInfo:this.assest_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}openCollateralPopup(t){this.dialog.open(Td,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,collateralInfo:this.colateral_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editCollateral(t=""){console.log("edit"),this.openCollateralPopup(t)}editMandate(t=""){console.log("edit"),this.openMandate(t)}openMandate(t){this.dialog.open(fd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,mandateInfo:this.mandate_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}close(t){this.dialogRef.close({message:"Confirm",data:t})}getCustomerInfoDetails(){this.appApiService.fetchCustomersByLoanAccId(this.loanAccountId,"loan").subscribe(t=>{t.data&&(this.customerInfoDetails=t.data,this.ownership=this.customerInfoDetails[0].ownership,this.noOfApplicants=this.customerInfoDetails[0].numOfApplicants)},t=>{this.loader.close()})}getProfileImage(t){this.image=null,null!=this.loanInfo.customerId&&this.api.getProfileDetails(t).subscribe(t=>{null!=t.profileImage&&(this.imageUrl=t.profileImage,this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(this.signatureData=t.signatures[0],this.ls.setItem("signedImage",this.signatureData.fileUrl))},t=>{console.log(t)})}getMandateDetails(){this.apiService.getMandateDetailsByLoanAccId(this.loanAccountId).subscribe(t=>{this.mandateDetails=t,this.mandateDetailsArray=t.mandateDetails},t=>{})}stayTrue1(){this.colateral_array.collateralDetails.secondaryChargeAllowed=!0}fetchOfferAcceptRejectDetails(t){this.apiService.getofferDetails(t).subscribe(t=>{this.offerDetails=t})}fetchPostOfferAmendmentDetails(){this.apiService.getOfferAmendmentDetails(this.loanAccountId).subscribe(t=>{this.postOfferDetails=t,console.log("details",this.postOfferDetails)})}getAccountCreateDetails(){this.api.getAccountCreateDetails(this.loanAccountId).subscribe(t=>{this.accountCreateValue=t})}updateApplicationStatus(t,e){console.log("data : ",t),t.status=e;let a=e;this.accStatus=e,this.tasksummaryService.updateLoanAccStatus({status:e,loanAccountId:t.loanAccountId}).subscribe(t=>{null!=t.loanAccountId||""!=t.loanAccountId||""!=t.loanAccountId?(this.close(a),this.cdr.markForCheck(),this.cdr.detectChanges(),this.dialogRef.close({message:"Confirm",data:a}),this.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck()):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}continue(){var t,e,a,o,n,i,r;this.ls.setItem("loanAccountId",null===(t=this.loanAccount_array)||void 0===t?void 0:t.loanAccountId),this.ls.setItem("LOAN_DETAIL_DONE",!!this.loanAccount_array),this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!!this.customerInfoDetails),this.ls.setItem("COLLATERAL_DETAIL_DONE",!!this.loanTaskDetails.collateralInfo.collateralId),this.ls.setItem("MANDATE_DETAIL_DONE",0!=(null===(e=this.mandateDetailsArray)||void 0===e?void 0:e.length)),this.ls.setItem("GUARANTOR_DETAIL_DONE",!!this.loanTaskDetails.guarantorInfo.guarantorId),this.ls.setItem("FINANCIAL_DETAIL_DONE",!!this.loanTaskDetails.financialInfo),this.ls.setItem("ADMISSION_DETAIL_DONE",!!this.loanTaskDetails.admissionInfo.admissionId),this.ls.setItem("ASSET_DETAIL_DONE",!!this.loanTaskDetails.assessInfo.assetId),this.ls.setItem("VEHICLE_DETAIL_DONE",!!this.loanTaskDetails.vehicleInfo.vehicleId),this.ls.setItem("LoanEntryStage",!!(this.loanAccount_array&&this.customerInfoDetails&&this.loanTaskDetails.collateralInfo.collateralId&&0!=(null===(a=this.mandateDetailsArray)||void 0===a?void 0:a.length)&&this.loanTaskDetails.guarantorInfo.guarantorId&&this.loanTaskDetails.financialInfo&&(this.loanTaskDetails.admissionInfo.admissionId||this.loanTaskDetails.assessInfo.assetId||this.loanTaskDetails.vehicleInfo.vehicleId))),this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!!this.loanTaskDetails.interestInfo),this.ls.setItem("LOAN_CHARGE_DETAILS",!!this.loanTaskDetails.chargeInfo),this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!!this.loanTaskDetails.repaymentInfo.loanRepaymentId),this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!!(null===(o=this.loanTaskDetails.disbursementInfo)||void 0===o?void 0:o.loanDisbursementId)),this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!!this.loanTaskDetails.accountServiceInfo.accServiceId),this.ls.setItem("LOAN_ENRICHMENT_DONE",!!(this.loanTaskDetails.interestInfo&&this.loanTaskDetails.chargeInfo&&this.loanTaskDetails.repaymentInfo.loanRepaymentId&&(null===(n=this.loanTaskDetails.disbursementInfo)||void 0===n?void 0:n.loanDisbursementId)&&this.loanTaskDetails.accountServiceInfo.accServiceId)),this.ls.setItem("CREDIT_RATING_DONE",!!this.loanTaskDetails.creditRatingInfo.agencyRating),this.ls.setItem("LEGAL_OPINION_DONE",!!this.loanTaskDetails.legalOpionInfo),this.ls.setItem("VALUATION_OF_ASSET_DONE",!!this.loanTaskDetails.valAssetInfo),this.ls.setItem("underWritingStage",!!(this.loanTaskDetails.creditRatingInfo.agencyRating&&this.loanTaskDetails.legalOpionInfo&&this.loanTaskDetails.valAssetInfo)),this.ls.setItem("isLoanQualitativeScoreboard",!!this.qualitativeScoreboardSummary),this.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!!(null===(i=this.loanTaskDetails.assessInfo)||void 0===i?void 0:i.assetId)),this.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!(!this.qualitativeScoreboardSummary||!(null===(r=this.loanTaskDetails.assessInfo)||void 0===r?void 0:r.assetId))),this.ls.setItem("APPROVED_DETAILS",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("OfferIssue",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueStageDone",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueRejectScreen",!!this.offerDetails),this.ls.setItem("OfferIssueRejectStageScreen",!!this.offerDetails),this.ls.setItem("PostOfferAmmendementScreen",!!this.postOfferDetails),this.ls.setItem("PostOfferAmmendementStageScreen",!!this.postOfferDetails),this.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!!this.accountCreateValue),this.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!!this.accountCreateValue),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=LOANACC&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(m.a),i.Rb(l.a),i.Rb(r.b),i.Rb(ai.a),i.Rb(je.h),i.Rb(i.h),i.Rb(b.b),i.Rb(f.a),i.Rb(m.a),i.Rb(d.a),i.Rb(B.a),i.Rb(r.b),i.Rb(qo.b),i.Rb(b.a),i.Rb(b.g),i.Rb(zo.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-account-approver"]],decls:1062,vars:170,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],["visible","true"],["class","edit_icon",3,"click",4,"ngIf"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[1,"paraFont"],[1,"chequecard"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","50%"],["fxLayout","row wrap"],["class","full-width pt-16",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["label","Application Enrichment Stage",2,"border-radius","0px","width","900px"],[4,"ngFor","ngForOf"],[2,"width","800px"],["class","mtcd",4,"ngIf"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],["fxLayout","row","fxLayoutAlign","space between center"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],[1,"edit_icon",3,"click"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[1,"full-width","pt-16"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","border","border-primary",3,"opened","closed"],["fxFlex","33%","fxFlex.xs","50%",4,"ngIf"],[1,"toggle"],[3,"checked","change"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","style","max-width:100%","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50",1,"full-width",2,"max-width","100%"],[1,"qtncard","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"],["download","",1,"linkColor",3,"href"]],template:function(t,e){if(1&t){i.Xb(0,"div"),i.Xb(1,"div",0),i.Xb(2,"div",1),i.Xb(3,"div",2),i.Xb(4,"div"),i.Xb(5,"mat-icon",3),i.fc("click",function(){return e.close(e.dataResponse)}),i.Tc(6," close"),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"div",4),i.Xb(8,"div",5),i.Xb(9,"div",6),i.Xb(10,"div",7),i.Rc(11,Hd,2,1,"span",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Sb(14,"img",11),i.Tc(15,"\xa0 "),i.Xb(16,"div"),i.Xb(17,"span",12),i.Tc(18),i.Wb(),i.Sb(19,"br"),i.Xb(20,"span",13),i.Tc(21),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div",14),i.Xb(23,"mat-icon",15),i.Tc(24,"phone "),i.Wb(),i.Tc(25,"\xa0\xa0\xa0 "),i.Xb(26,"span",16),i.Tc(27),i.Wb(),i.Wb(),i.Xb(28,"div",14),i.Xb(29,"mat-icon",15),i.Tc(30," mail_outline"),i.Wb(),i.Tc(31,"\xa0\xa0 \xa0 "),i.Xb(32,"span",17),i.Tc(33),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"div",18),i.Xb(35,"div",19),i.Rc(36,Yd,7,16,"div",20),i.Rc(37,Qd,2,1,"div",21),i.Wb(),i.Wb(),i.Sb(38,"br"),i.Sb(39,"br"),i.Sb(40,"br"),i.Sb(41,"br"),i.Xb(42,"div",22),i.Xb(43,"h2"),i.Tc(44),i.Wb(),i.Wb(),i.Xb(45,"div",23),i.Xb(46,"div",24),i.Xb(47,"div",25),i.Tc(48,"1"),i.Wb(),i.Xb(49,"div",26),i.Tc(50,"\xa0"),i.Wb(),i.Wb(),i.Xb(51,"div",27),i.Xb(52,"h2"),i.Tc(53,"Application Entry Stage"),i.Wb(),i.Sb(54,"mat-divider"),i.Xb(55,"div",28),i.Xb(56,"fieldset"),i.Xb(57,"legend",29),i.Tc(58,"Loan Account Details"),i.Wb(),i.Wb(),i.Xb(59,"span"),i.Rc(60,tu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(61,"mat-card",31),i.Xb(62,"mat-card-content"),i.Xb(63,"div",32),i.Sb(64,"div",33),i.Xb(65,"div",34),i.Xb(66,"div",35),i.Tc(67,"Account Currency"),i.Wb(),i.Xb(68,"div",36),i.Tc(69),i.Wb(),i.Wb(),i.Xb(70,"div",34),i.Xb(71,"div",35),i.Tc(72,"Account Branch"),i.Wb(),i.Xb(73,"div",36),i.Tc(74),i.Wb(),i.Wb(),i.Xb(75,"div",34),i.Xb(76,"div",35),i.Tc(77,"Loan Account ID"),i.Wb(),i.Xb(78,"div",36),i.Tc(79),i.Wb(),i.Wb(),i.Wb(),i.Xb(80,"div",32),i.Sb(81,"div",33),i.Xb(82,"div",34),i.Xb(83,"div",35),i.Tc(84,"Application Date"),i.Wb(),i.Xb(85,"div",36),i.Tc(86),i.Wb(),i.Wb(),i.Xb(87,"div",34),i.Xb(88,"div",35),i.Tc(89,"Customer Contribution"),i.Wb(),i.Xb(90,"div",36),i.Tc(91),i.Wb(),i.Wb(),i.Xb(92,"div",34),i.Xb(93,"div",35),i.Tc(94,"Estimated Cost"),i.Wb(),i.Xb(95,"div",36),i.Tc(96),i.Wb(),i.Wb(),i.Wb(),i.Xb(97,"div",32),i.Sb(98,"div",33),i.Xb(99,"div",34),i.Xb(100,"div",35),i.Tc(101,"Loan Amount"),i.Wb(),i.Xb(102,"div",36),i.Tc(103),i.Wb(),i.Wb(),i.Xb(104,"div",34),i.Xb(105,"div",35),i.Tc(106,"Loan Tenure"),i.Wb(),i.Xb(107,"div",36),i.Tc(108),i.Wb(),i.Wb(),i.Xb(109,"div",34),i.Xb(110,"div",35),i.Tc(111,"Purpose of Loan"),i.Wb(),i.Xb(112,"div",36),i.Tc(113),i.Wb(),i.Wb(),i.Wb(),i.Xb(114,"div",32),i.Sb(115,"div",33),i.Xb(116,"div",34),i.Xb(117,"div",35),i.Tc(118,"Status"),i.Wb(),i.Xb(119,"div",36),i.Tc(120),i.Wb(),i.Wb(),i.Xb(121,"div",34),i.Xb(122,"div",35),i.Tc(123,"Business Product Name"),i.Wb(),i.Xb(124,"div",36),i.Tc(125),i.Wb(),i.Wb(),i.Xb(126,"div",34),i.Xb(127,"div",35),i.Tc(128,"Modification Number"),i.Wb(),i.Xb(129,"div",36),i.Tc(130),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(131,"div",28),i.Xb(132,"fieldset"),i.Xb(133,"legend",29),i.Tc(134,"Asset Information"),i.Wb(),i.Wb(),i.Xb(135,"span"),i.Rc(136,eu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(137,"mat-card",31),i.Xb(138,"mat-card-content"),i.Xb(139,"div",32),i.Sb(140,"div",33),i.Xb(141,"div",34),i.Xb(142,"div",35),i.Tc(143,"Asset Status"),i.Wb(),i.Xb(144,"div",36),i.Tc(145),i.Wb(),i.Wb(),i.Xb(146,"div",34),i.Xb(147,"div",35),i.Tc(148,"Building"),i.Wb(),i.Xb(149,"div",36),i.Tc(150),i.Wb(),i.Wb(),i.Xb(151,"div",34),i.Xb(152,"div",35),i.Tc(153,"Mortgaged Branch"),i.Wb(),i.Xb(154,"div",36),i.Tc(155),i.Wb(),i.Wb(),i.Wb(),i.Xb(156,"div",32),i.Sb(157,"div",33),i.Xb(158,"div",34),i.Xb(159,"div",35),i.Tc(160,"City"),i.Wb(),i.Xb(161,"div",36),i.Tc(162),i.Wb(),i.Wb(),i.Xb(163,"div",34),i.Xb(164,"div",35),i.Tc(165,"Country"),i.Wb(),i.Xb(166,"div",36),i.Tc(167),i.Wb(),i.Wb(),i.Xb(168,"div",34),i.Xb(169,"div",35),i.Tc(170,"Dimensions"),i.Wb(),i.Xb(171,"div",36),i.Tc(172),i.Wb(),i.Wb(),i.Wb(),i.Xb(173,"div",32),i.Sb(174,"div",33),i.Xb(175,"div",34),i.Xb(176,"div",35),i.Tc(177,"Home Type"),i.Wb(),i.Xb(178,"div",36),i.Tc(179),i.Wb(),i.Wb(),i.Xb(180,"div",34),i.Xb(181,"div",35),i.Tc(182,"Locality"),i.Wb(),i.Xb(183,"div",36),i.Tc(184),i.Wb(),i.Wb(),i.Xb(185,"div",34),i.Xb(186,"div",35),i.Tc(187,"Market Value"),i.Wb(),i.Xb(188,"div",36),i.Tc(189),i.Wb(),i.Wb(),i.Wb(),i.Xb(190,"div",32),i.Sb(191,"div",33),i.Xb(192,"div",34),i.Xb(193,"div",35),i.Tc(194,"State"),i.Wb(),i.Xb(195,"div",36),i.Tc(196),i.Wb(),i.Wb(),i.Xb(197,"div",34),i.Xb(198,"div",35),i.Tc(199,"City"),i.Wb(),i.Xb(200,"div",36),i.Tc(201),i.Wb(),i.Wb(),i.Xb(202,"div",34),i.Xb(203,"div",35),i.Tc(204,"Zip code"),i.Wb(),i.Xb(205,"div",36),i.Tc(206),i.Wb(),i.Wb(),i.Wb(),i.Xb(207,"div",37),i.Sb(208,"div",33),i.Wb(),i.Wb(),i.Wb(),i.Xb(209,"div"),i.Xb(210,"div",28),i.Xb(211,"fieldset"),i.Xb(212,"legend",29),i.Tc(213,"Customer Information Details"),i.Wb(),i.Wb(),i.Xb(214,"span"),i.Rc(215,au,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(216,"mat-card",31),i.Xb(217,"div",38),i.Xb(218,"div",39),i.Sb(219,"div",40),i.Xb(220,"div",41),i.Xb(221,"div",42),i.Xb(222,"div",38),i.Xb(223,"div",43),i.Xb(224,"div",44),i.Xb(225,"div"),i.Xb(226,"mat-card"),i.Xb(227,"div",45),i.Xb(228,"div",46),i.Xb(229,"small",47),i.Tc(230,"Holding Pattern"),i.Wb(),i.Xb(231,"h3",48),i.Tc(232),i.Wb(),i.Wb(),i.Xb(233,"div",46),i.Xb(234,"small",47),i.Tc(235,"Ownership"),i.Wb(),i.Xb(236,"h3",48),i.Tc(237),i.Wb(),i.Wb(),i.Xb(238,"div",46),i.Xb(239,"small",47),i.Tc(240,"Number of Applicant"),i.Wb(),i.Xb(241,"h3",48),i.Tc(242),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(243,iu,54,10,"div",49),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(244,"div"),i.Xb(245,"div",28),i.Xb(246,"fieldset"),i.Xb(247,"legend",29),i.Tc(248,"Mandate Details"),i.Wb(),i.Wb(),i.Xb(249,"span"),i.Rc(250,ru,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(251,"mat-card"),i.Xb(252,"div",38),i.Xb(253,"div",39),i.Xb(254,"div",40),i.Xb(255,"h4",50),i.Tc(256,"Mandate Details"),i.Wb(),i.Wb(),i.Xb(257,"div",41),i.Xb(258,"div",42),i.Xb(259,"mat-card",51),i.Xb(260,"mat-card-content"),i.Xb(261,"div",38),i.Xb(262,"div",43),i.Xb(263,"div",52),i.Vb(264),i.Xb(265,"div",53),i.Xb(266,"mat-hint",35),i.Tc(267,"Number of Applicants"),i.Wb(),i.Sb(268,"br"),i.Xb(269,"mat-hint",36),i.Tc(270),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(271,"div",54),i.Rc(272,cu,27,4,"div",55),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(273,"div"),i.Xb(274,"div",28),i.Xb(275,"fieldset"),i.Xb(276,"legend",29),i.Tc(277,"Collateral Details"),i.Wb(),i.Wb(),i.Xb(278,"span"),i.Rc(279,su,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(280,"mat-card",31),i.Xb(281,"mat-card-content"),i.Xb(282,"div",32),i.Sb(283,"div",33),i.Xb(284,"div",34),i.Xb(285,"div",35),i.Tc(286,"Attributes"),i.Wb(),i.Xb(287,"div",36),i.Tc(288),i.Wb(),i.Wb(),i.Xb(289,"div",34),i.Xb(290,"div",35),i.Tc(291,"Building"),i.Wb(),i.Xb(292,"div",36),i.Tc(293),i.Wb(),i.Wb(),i.Xb(294,"div",34),i.Xb(295,"div",35),i.Tc(296,"City"),i.Wb(),i.Xb(297,"div",36),i.Tc(298),i.Wb(),i.Wb(),i.Wb(),i.Xb(299,"div",32),i.Sb(300,"div",33),i.Xb(301,"div",34),i.Xb(302,"div",35),i.Tc(303,"Collateral Currency"),i.Wb(),i.Xb(304,"div",36),i.Tc(305),i.Wb(),i.Wb(),i.Xb(306,"div",34),i.Xb(307,"div",35),i.Tc(308,"Collateral Type"),i.Wb(),i.Xb(309,"div",36),i.Tc(310),i.Wb(),i.Wb(),i.Xb(311,"div",34),i.Xb(312,"div",35),i.Tc(313,"Collateral Value"),i.Wb(),i.Xb(314,"div",36),i.Tc(315),i.Wb(),i.Wb(),i.Wb(),i.Xb(316,"div",32),i.Sb(317,"div",33),i.Xb(318,"div",34),i.Xb(319,"div",35),i.Tc(320,"Country"),i.Wb(),i.Xb(321,"div",36),i.Tc(322),i.Wb(),i.Wb(),i.Xb(323,"div",34),i.Xb(324,"div",35),i.Tc(325,"Dimensions"),i.Wb(),i.Xb(326,"div",36),i.Tc(327),i.Wb(),i.Wb(),i.Xb(328,"div",34),i.Xb(329,"div",35),i.Tc(330,"Locality"),i.Wb(),i.Xb(331,"div",36),i.Tc(332),i.Wb(),i.Wb(),i.Wb(),i.Xb(333,"div",32),i.Sb(334,"div",33),i.Xb(335,"div",34),i.Xb(336,"div",35),i.Tc(337,"State"),i.Wb(),i.Xb(338,"div",36),i.Tc(339),i.Wb(),i.Wb(),i.Xb(340,"div",34),i.Xb(341,"div",35),i.Tc(342,"Third Party Collateral"),i.Wb(),i.Xb(343,"div",36),i.Tc(344),i.Wb(),i.Wb(),i.Xb(345,"div",34),i.Xb(346,"div",35),i.Tc(347,"Street"),i.Wb(),i.Xb(348,"div",36),i.Tc(349),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(350,"mat-card",31),i.Rc(351,du,2,1,"div",56),i.Wb(),i.Wb(),i.Xb(352,"div"),i.Xb(353,"div",28),i.Xb(354,"fieldset"),i.Xb(355,"legend",29),i.Tc(356,"Guarantor Details"),i.Wb(),i.Wb(),i.Xb(357,"span"),i.Rc(358,uu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(359,"mat-card",31),i.Xb(360,"mat-card-content"),i.Xb(361,"div",32),i.Sb(362,"div",33),i.Xb(363,"div",34),i.Xb(364,"div",35),i.Tc(365,"Prefix"),i.Wb(),i.Xb(366,"div",36),i.Tc(367),i.Wb(),i.Wb(),i.Xb(368,"div",34),i.Xb(369,"div",35),i.Tc(370,"First Name"),i.Wb(),i.Xb(371,"div",36),i.Tc(372),i.Wb(),i.Wb(),i.Xb(373,"div",34),i.Xb(374,"div",35),i.Tc(375,"Last Name"),i.Wb(),i.Xb(376,"div",36),i.Tc(377),i.Wb(),i.Wb(),i.Wb(),i.Xb(378,"div",32),i.Sb(379,"div",33),i.Xb(380,"div",34),i.Xb(381,"div",35),i.Tc(382,"CIF Number"),i.Wb(),i.Xb(383,"div",36),i.Tc(384),i.Wb(),i.Wb(),i.Xb(385,"div",34),i.Xb(386,"div",35),i.Tc(387,"Relationship with Customer"),i.Wb(),i.Xb(388,"div",36),i.Tc(389),i.Wb(),i.Wb(),i.Xb(390,"div",34),i.Xb(391,"div",35),i.Tc(392,"Country"),i.Wb(),i.Xb(393,"div",36),i.Tc(394),i.Wb(),i.Wb(),i.Wb(),i.Xb(395,"div",32),i.Sb(396,"div",33),i.Xb(397,"div",34),i.Xb(398,"div",35),i.Tc(399,"Date Of Birth"),i.Wb(),i.Xb(400,"div",36),i.Tc(401),i.Wb(),i.Wb(),i.Xb(402,"div",34),i.Xb(403,"div",35),i.Tc(404,"Email address"),i.Wb(),i.Xb(405,"div",36),i.Tc(406),i.Wb(),i.Wb(),i.Xb(407,"div",34),i.Xb(408,"div",35),i.Tc(409,"Mobile Number"),i.Wb(),i.Xb(410,"div",36),i.Tc(411),i.Wb(),i.Wb(),i.Wb(),i.Xb(412,"div",32),i.Sb(413,"div",33),i.Xb(414,"div",34),i.Xb(415,"div",35),i.Tc(416,"Address 1"),i.Wb(),i.Xb(417,"div",36),i.Tc(418),i.Wb(),i.Wb(),i.Xb(419,"div",34),i.Xb(420,"div",35),i.Tc(421,"Address 2"),i.Wb(),i.Xb(422,"div",36),i.Tc(423),i.Wb(),i.Wb(),i.Xb(424,"div",34),i.Xb(425,"div",35),i.Tc(426,"City"),i.Wb(),i.Xb(427,"div",36),i.Tc(428),i.Wb(),i.Wb(),i.Wb(),i.Xb(429,"div",32),i.Sb(430,"div",33),i.Xb(431,"div",34),i.Xb(432,"div",35),i.Tc(433,"State"),i.Wb(),i.Xb(434,"div",36),i.Tc(435),i.Wb(),i.Wb(),i.Xb(436,"div",34),i.Xb(437,"div",35),i.Tc(438,"Phone Number"),i.Wb(),i.Xb(439,"div",36),i.Tc(440),i.Wb(),i.Wb(),i.Xb(441,"div",34),i.Xb(442,"div",35),i.Tc(443,"Zip Code"),i.Wb(),i.Xb(444,"div",36),i.Tc(445),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(446,"div",23),i.Xb(447,"div",24),i.Xb(448,"div",25),i.Tc(449,"2"),i.Wb(),i.Xb(450,"div",26),i.Tc(451,"\xa0"),i.Wb(),i.Wb(),i.Xb(452,"div",27),i.Xb(453,"h2"),i.Tc(454,"Loan Application Enrichment"),i.Wb(),i.Sb(455,"hr"),i.Xb(456,"mat-card",57),i.Xb(457,"div",27),i.Sb(458,"hr"),i.Xb(459,"mat-card"),i.Xb(460,"div",28),i.Xb(461,"fieldset"),i.Xb(462,"legend",29),i.Tc(463,"Interest Details"),i.Wb(),i.Wb(),i.Xb(464,"span"),i.Rc(465,mu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Rc(466,pu,30,4,"mat-card",58),i.Wb(),i.Sb(467,"br"),i.Sb(468,"hr"),i.Wb(),i.Wb(),i.Sb(469,"br"),i.Xb(470,"mat-card",59),i.Xb(471,"div",28),i.Xb(472,"fieldset"),i.Xb(473,"legend",29),i.Tc(474,"Loan Disbursement Details"),i.Wb(),i.Wb(),i.Xb(475,"span"),i.Rc(476,hu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(477,"mat-card",31),i.Xb(478,"mat-card-content"),i.Xb(479,"div",32),i.Sb(480,"div",33),i.Xb(481,"div",34),i.Xb(482,"div",35),i.Tc(483,"Branch Code"),i.Wb(),i.Xb(484,"div",36),i.Tc(485),i.Wb(),i.Wb(),i.Xb(486,"div",34),i.Xb(487,"div",35),i.Tc(488,"Customer Account"),i.Wb(),i.Xb(489,"div",36),i.Tc(490),i.Wb(),i.Wb(),i.Xb(491,"div",34),i.Xb(492,"div",35),i.Tc(493,"Disbursement Mode"),i.Wb(),i.Xb(494,"div",36),i.Tc(495),i.Wb(),i.Wb(),i.Wb(),i.Xb(496,"div",32),i.Sb(497,"div",33),i.Xb(498,"div",34),i.Xb(499,"div",35),i.Tc(500,"First Disbursement Date"),i.Wb(),i.Xb(501,"div",36);i.Tc(502),i.Wb(),i.Wb(),i.Xb(503,"div",34),i.Xb(504,"div",35),i.Tc(505,"Loan Amount"),i.Wb(),i.Xb(506,"div",36),i.Tc(507),i.Wb(),i.Wb(),i.Xb(508,"div",34),i.Xb(509,"div",35),i.Tc(510,"Multiple Disbursement Required"),i.Wb(),i.Xb(511,"div",36),i.Tc(512),i.Wb(),i.Wb(),i.Wb(),i.Xb(513,"div",32),i.Sb(514,"div",33),i.Xb(515,"div",34),i.Xb(516,"div",35),i.Tc(517,"Number Of Disbursement"),i.Wb(),i.Xb(518,"div",36),i.Tc(519),i.Wb(),i.Wb(),i.Xb(520,"div",34),i.Xb(521,"div",35),i.Tc(522,"Total Disbursement"),i.Wb(),i.Xb(523,"div",36),i.Tc(524),i.Wb(),i.Wb(),i.Sb(525,"div",34),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(526,"br"),i.Xb(527,"mat-card",59),i.Xb(528,"div",28),i.Xb(529,"fieldset"),i.Xb(530,"legend",29),i.Tc(531,"Loan Repayment Details"),i.Wb(),i.Wb(),i.Xb(532,"span"),i.Rc(533,fu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(534,"mat-card",31),i.Xb(535,"mat-card-content"),i.Xb(536,"div",32),i.Sb(537,"div",33),i.Xb(538,"div",34),i.Xb(539,"div",35),i.Tc(540,"Bank Name"),i.Wb(),i.Xb(541,"div",36),i.Tc(542),i.Wb(),i.Wb(),i.Xb(543,"div",34),i.Xb(544,"div",35),i.Tc(545,"Branch Code"),i.Wb(),i.Xb(546,"div",36),i.Tc(547),i.Wb(),i.Wb(),i.Xb(548,"div",34),i.Xb(549,"div",35),i.Tc(550,"Customer Account"),i.Wb(),i.Xb(551,"div",36),i.Tc(552),i.Wb(),i.Wb(),i.Wb(),i.Xb(553,"div",32),i.Sb(554,"div",33),i.Xb(555,"div",34),i.Xb(556,"div",35),i.Tc(557,"First Repayment Date"),i.Wb(),i.Xb(558,"div",36),i.Tc(559),i.Wb(),i.Wb(),i.Xb(560,"div",34),i.Xb(561,"div",35),i.Tc(562,"Loan Tenure"),i.Wb(),i.Xb(563,"div",36),i.Tc(564),i.Wb(),i.Wb(),i.Xb(565,"div",34),i.Xb(566,"div",35),i.Tc(567,"Maturity Date"),i.Wb(),i.Xb(568,"div",36),i.Tc(569),i.Wb(),i.Wb(),i.Wb(),i.Xb(570,"div",32),i.Sb(571,"div",33),i.Xb(572,"div",34),i.Xb(573,"div",35),i.Tc(574,"Moraturioum Period"),i.Wb(),i.Xb(575,"div",36),i.Tc(576),i.Wb(),i.Wb(),i.Xb(577,"div",34),i.Xb(578,"div",35),i.Tc(579,"Type Of Repayment"),i.Wb(),i.Xb(580,"div",36),i.Tc(581),i.Wb(),i.Wb(),i.Xb(582,"div",34),i.Xb(583,"div",35),i.Tc(584,"Repayment Frequency"),i.Wb(),i.Xb(585,"div",36),i.Tc(586),i.Wb(),i.Wb(),i.Wb(),i.Xb(587,"div",32),i.Sb(588,"div",33),i.Xb(589,"div",34),i.Xb(590,"div",35),i.Tc(591,"Repayment Mode"),i.Wb(),i.Xb(592,"div",36),i.Tc(593),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(594,"br"),i.Xb(595,"mat-card"),i.Xb(596,"div",28),i.Xb(597,"fieldset"),i.Xb(598,"legend",29),i.Tc(599,"Loan Charge Details"),i.Wb(),i.Wb(),i.Xb(600,"span"),i.Rc(601,gu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Rc(602,vu,30,4,"mat-card",58),i.Wb(),i.Xb(603,"mat-card"),i.Xb(604,"div",28),i.Xb(605,"fieldset"),i.Xb(606,"legend",29),i.Tc(607,"Account Service Details"),i.Wb(),i.Wb(),i.Sb(608,"span"),i.Wb(),i.Xb(609,"mat-card",31),i.Xb(610,"mat-card-content"),i.Xb(611,"div",32),i.Sb(612,"div",33),i.Xb(613,"div",34),i.Xb(614,"div",35),i.Tc(615,"Statement Cycle"),i.Wb(),i.Xb(616,"div",36),i.Tc(617),i.Wb(),i.Wb(),i.Xb(618,"div",34),i.Xb(619,"div",35),i.Tc(620,"Statement Type"),i.Wb(),i.Xb(621,"div",36),i.Tc(622),i.Wb(),i.Wb(),i.Xb(623,"div",34),i.Xb(624,"div",35),i.Tc(625,"start Date"),i.Wb(),i.Xb(626,"div",36),i.Tc(627),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(628,"br"),i.Xb(629,"div",23),i.Xb(630,"div",24),i.Xb(631,"div",25),i.Tc(632,"3"),i.Wb(),i.Xb(633,"div",26),i.Tc(634,"\xa0"),i.Wb(),i.Wb(),i.Xb(635,"div",27),i.Xb(636,"h2"),i.Tc(637,"Loan Underwriting Stage"),i.Wb(),i.Sb(638,"hr"),i.Xb(639,"mat-card",59),i.Xb(640,"div",28),i.Xb(641,"fieldset"),i.Xb(642,"legend",29),i.Tc(643,"Loan Credit Score Details"),i.Wb(),i.Wb(),i.Xb(644,"span"),i.Rc(645,Wu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Rc(646,yu,3,1,"mat-card",60),i.Wb(),i.Sb(647,"br"),i.Xb(648,"mat-card",59),i.Xb(649,"div",28),i.Xb(650,"fieldset"),i.Xb(651,"legend",29),i.Tc(652,"Valuation of Asset Details"),i.Wb(),i.Wb(),i.Xb(653,"span"),i.Rc(654,Tu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(655,"mat-card",31),i.Xb(656,"mat-card-content"),i.Xb(657,"div",32),i.Sb(658,"div",33),i.Xb(659,"div",34),i.Xb(660,"div",35),i.Tc(661,"Bank Valuation"),i.Wb(),i.Xb(662,"div",36),i.Tc(663),i.Wb(),i.Wb(),i.Xb(664,"div",34),i.Xb(665,"div",35),i.Tc(666,"Asset Type"),i.Wb(),i.Xb(667,"div",36),i.Tc(668),i.Wb(),i.Wb(),i.Xb(669,"div",34),i.Xb(670,"div",35),i.Tc(671,"Property Area Size"),i.Wb(),i.Xb(672,"div",36),i.Tc(673),i.Wb(),i.Wb(),i.Wb(),i.Xb(674,"div",32),i.Sb(675,"div",33),i.Xb(676,"div",34),i.Xb(677,"div",35),i.Tc(678,"Actual Property Area Size"),i.Wb(),i.Xb(679,"div",36),i.Tc(680),i.Wb(),i.Wb(),i.Xb(681,"div",34),i.Xb(682,"div",35),i.Tc(683,"Borrower's Market Value"),i.Wb(),i.Xb(684,"div",36),i.Tc(685),i.Wb(),i.Wb(),i.Xb(686,"div",34),i.Xb(687,"div",35),i.Tc(688,"Face Value Of Asset"),i.Wb(),i.Xb(689,"div",36),i.Tc(690),i.Wb(),i.Wb(),i.Wb(),i.Xb(691,"div",32),i.Sb(692,"div",33),i.Xb(693,"div",34),i.Xb(694,"div",35),i.Tc(695,"Market Value Of Asset"),i.Wb(),i.Xb(696,"div",36),i.Tc(697),i.Wb(),i.Wb(),i.Xb(698,"div",34),i.Xb(699,"div",35),i.Tc(700,"Asset Valuer"),i.Wb(),i.Xb(701,"div",36),i.Tc(702),i.Wb(),i.Wb(),i.Xb(703,"div",34),i.Xb(704,"div",35),i.Tc(705,"Forced Sale Value"),i.Wb(),i.Xb(706,"div",36),i.Tc(707),i.Wb(),i.Wb(),i.Wb(),i.Xb(708,"div",32),i.Sb(709,"div",33),i.Xb(710,"div",34),i.Xb(711,"div",35),i.Tc(712,"Valuation Date"),i.Wb(),i.Xb(713,"div",36),i.Tc(714),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(715,"br"),i.Xb(716,"mat-card",59),i.Xb(717,"div",28),i.Xb(718,"fieldset"),i.Xb(719,"legend",29),i.Tc(720,"Legal Opinion Details"),i.Wb(),i.Wb(),i.Xb(721,"span"),i.Rc(722,Iu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(723,"mat-card",31),i.Xb(724,"mat-card-content"),i.Xb(725,"div",32),i.Sb(726,"div",33),i.Xb(727,"div",34),i.Xb(728,"div",35),i.Tc(729,"Opinion"),i.Wb(),i.Xb(730,"div",36),i.Tc(731),i.Wb(),i.Wb(),i.Xb(732,"div",34),i.Xb(733,"div",35),i.Tc(734,"Asset Area Size"),i.Wb(),i.Xb(735,"div",36),i.Tc(736),i.Wb(),i.Wb(),i.Xb(737,"div",34),i.Xb(738,"div",35),i.Tc(739,"Description"),i.Wb(),i.Xb(740,"div",36),i.Tc(741),i.Wb(),i.Wb(),i.Wb(),i.Xb(742,"div",32),i.Sb(743,"div",33),i.Xb(744,"div",34),i.Xb(745,"div",35),i.Tc(746,"Lawyer Name"),i.Wb(),i.Xb(747,"div",36),i.Tc(748),i.Wb(),i.Wb(),i.Xb(749,"div",34),i.Xb(750,"div",35),i.Tc(751,"Market Value Of Asset"),i.Wb(),i.Xb(752,"div",36),i.Tc(753),i.Wb(),i.Wb(),i.Xb(754,"div",34),i.Xb(755,"div",35),i.Tc(756,"Opinion Date"),i.Wb(),i.Xb(757,"div",36),i.Tc(758),i.Wb(),i.Wb(),i.Wb(),i.Xb(759,"div",32),i.Sb(760,"div",33),i.Xb(761,"div",34),i.Xb(762,"div",35),i.Tc(763,"Is Decision Favorable?"),i.Wb(),i.Xb(764,"div",36),i.Tc(765),i.Wb(),i.Wb(),i.Xb(766,"div",34),i.Xb(767,"div",35),i.Tc(768,"Valuation Date"),i.Wb(),i.Xb(769,"div",36),i.Tc(770),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(771,"br"),i.Xb(772,"div",23),i.Xb(773,"div",24),i.Xb(774,"div",25),i.Tc(775,"4"),i.Wb(),i.Xb(776,"div",26),i.Tc(777,"\xa0"),i.Wb(),i.Wb(),i.Xb(778,"div",27),i.Xb(779,"h2"),i.Tc(780,"Loan Assessment Details"),i.Wb(),i.Sb(781,"hr"),i.Xb(782,"mat-card",59),i.Xb(783,"div",28),i.Xb(784,"fieldset"),i.Xb(785,"legend",29),i.Tc(786,"Qualitative Scoreboard"),i.Wb(),i.Wb(),i.Sb(787,"span"),i.Wb(),i.Xb(788,"mat-card",31),i.Xb(789,"mat-card-content"),i.Xb(790,"div",32),i.Sb(791,"div",33),i.Xb(792,"div",34),i.Xb(793,"div",35),i.Tc(794,"ScoreCard Id"),i.Wb(),i.Xb(795,"div",36),i.Tc(796),i.Wb(),i.Wb(),i.Xb(797,"div",34),i.Xb(798,"div",35),i.Tc(799,"Number Of Applicants"),i.Wb(),i.Xb(800,"div",36),i.Tc(801),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(802,"mat-card",31),i.Xb(803,"mat-card-content"),i.Xb(804,"div",61),i.Xb(805,"div",62),i.Rc(806,Cu,5,2,"div",58),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(807,"mat-card",59),i.Xb(808,"div",28),i.Xb(809,"fieldset"),i.Xb(810,"legend",29),i.Tc(811,"Assessment Details"),i.Wb(),i.Wb(),i.Xb(812,"span"),i.Rc(813,Eu,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(814,"mat-card",31),i.Xb(815,"mat-card-content"),i.Xb(816,"div",32),i.Sb(817,"div",33),i.Xb(818,"div",34),i.Xb(819,"div",35),i.Tc(820,"Approved Loan Amount"),i.Wb(),i.Xb(821,"div",36),i.Tc(822),i.Wb(),i.Wb(),i.Xb(823,"div",34),i.Xb(824,"div",35),i.Tc(825,"Loan Tenure"),i.Wb(),i.Xb(826,"div",36),i.Tc(827),i.Wb(),i.Wb(),i.Xb(828,"div",34),i.Xb(829,"div",35),i.Tc(830,"Rate Of Interest"),i.Wb(),i.Xb(831,"div",36),i.Tc(832),i.Wb(),i.Wb(),i.Wb(),i.Xb(833,"div",32),i.Sb(834,"div",33),i.Xb(835,"div",34),i.Xb(836,"div",35),i.Tc(837,"Loan Amount Recommended"),i.Wb(),i.Xb(838,"div",36),i.Tc(839),i.Wb(),i.Wb(),i.Xb(840,"div",34),i.Xb(841,"div",35),i.Tc(842,"System Recommendation"),i.Wb(),i.Xb(843,"div",36),i.Tc(844),i.Wb(),i.Wb(),i.Xb(845,"div",34),i.Xb(846,"div",35),i.Tc(847,"User Recommendation"),i.Wb(),i.Xb(848,"div",36),i.Tc(849),i.Wb(),i.Wb(),i.Wb(),i.Xb(850,"div",32),i.Sb(851,"div",33),i.Xb(852,"div",34),i.Xb(853,"div",35),i.Tc(854,"Requested Loan Amount"),i.Wb(),i.Xb(855,"div",36),i.Tc(856),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(857,"br"),i.Wb(),i.Wb(),i.Sb(858,"br"),i.Xb(859,"div",23),i.Xb(860,"div",24),i.Xb(861,"div",25),i.Tc(862,"5"),i.Wb(),i.Xb(863,"div",26),i.Tc(864,"\xa0"),i.Wb(),i.Wb(),i.Xb(865,"div",27),i.Xb(866,"h2"),i.Tc(867,"Loan Offer Issue"),i.Wb(),i.Sb(868,"hr"),i.Sb(869,"br"),i.Xb(870,"mat-card",59),i.Xb(871,"div",28),i.Xb(872,"fieldset"),i.Xb(873,"legend",29),i.Tc(874,"Offer Issue Details"),i.Wb(),i.Wb(),i.Xb(875,"span"),i.Rc(876,Ou,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Xb(877,"mat-card",31),i.Xb(878,"mat-card-content"),i.Xb(879,"div",32),i.Sb(880,"div",33),i.Xb(881,"div",34),i.Xb(882,"div",35),i.Tc(883,"Applicant Name"),i.Wb(),i.Xb(884,"div",36),i.Tc(885),i.Wb(),i.Wb(),i.Xb(886,"div",34),i.Xb(887,"div",35),i.Tc(888,"Approved Loan Amount"),i.Wb(),i.Xb(889,"div",36),i.Tc(890),i.Wb(),i.Wb(),i.Xb(891,"div",34),i.Xb(892,"div",35),i.Tc(893,"Charges"),i.Wb(),i.Xb(894,"div",36),i.Tc(895),i.Wb(),i.Wb(),i.Wb(),i.Xb(896,"div",32),i.Sb(897,"div",33),i.Xb(898,"div",34),i.Xb(899,"div",35),i.Tc(900,"Generate Offer"),i.Wb(),i.Xb(901,"div",36),i.Tc(902),i.Wb(),i.Wb(),i.Xb(903,"div",34),i.Xb(904,"div",35),i.Tc(905,"Installment Amount"),i.Wb(),i.Xb(906,"div",36),i.Tc(907),i.Wb(),i.Wb(),i.Xb(908,"div",34),i.Xb(909,"div",35),i.Tc(910,"Installment Type"),i.Wb(),i.Xb(911,"div",36),i.Tc(912),i.Wb(),i.Wb(),i.Wb(),i.Xb(913,"div",32),i.Sb(914,"div",33),i.Xb(915,"div",34),i.Xb(916,"div",35),i.Tc(917,"Interest"),i.Wb(),i.Xb(918,"div",36),i.Tc(919),i.Wb(),i.Wb(),i.Xb(920,"div",34),i.Xb(921,"div",35),i.Tc(922,"Loan Tenure"),i.Wb(),i.Xb(923,"div",36),i.Tc(924),i.Wb(),i.Wb(),i.Xb(925,"div",34),i.Xb(926,"div",35),i.Tc(927,"Offer Issue Date"),i.Wb(),i.Xb(928,"div",36),i.Tc(929),i.Wb(),i.Wb(),i.Wb(),i.Xb(930,"div",32),i.Sb(931,"div",33),i.Xb(932,"div",34),i.Xb(933,"div",35),i.Tc(934,"Principal"),i.Wb(),i.Xb(935,"div",36),i.Tc(936),i.Wb(),i.Wb(),i.Xb(937,"div",34),i.Xb(938,"div",35),i.Tc(939,"Rate Of Interest"),i.Wb(),i.Xb(940,"div",36),i.Tc(941),i.Wb(),i.Wb(),i.Sb(942,"div",34),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(943,"br"),i.Wb(),i.Wb(),i.Sb(944,"br"),i.Xb(945,"div",23),i.Xb(946,"div",24),i.Xb(947,"div",25),i.Tc(948,"6"),i.Wb(),i.Xb(949,"div",26),i.Tc(950,"\xa0"),i.Wb(),i.Wb(),i.Xb(951,"div",27),i.Xb(952,"h2"),i.Tc(953,"Offer Accept/Reject Stage"),i.Wb(),i.Sb(954,"hr"),i.Sb(955,"br"),i.Xb(956,"mat-card",59),i.Xb(957,"div",28),i.Xb(958,"fieldset"),i.Xb(959,"legend",29),i.Tc(960,"Offer Accept Details"),i.Wb(),i.Wb(),i.Xb(961,"span"),i.Rc(962,Du,2,0,"mat-icon",30),i.Wb(),i.Wb(),i.Rc(963,Au,60,10,"mat-card",60),i.Wb(),i.Sb(964,"br"),i.Wb(),i.Wb(),i.Sb(965,"br"),i.Xb(966,"div",23),i.Xb(967,"div",24),i.Xb(968,"div",25),i.Tc(969,"7"),i.Wb(),i.Xb(970,"div",26),i.Tc(971,"\xa0"),i.Wb(),i.Wb(),i.Xb(972,"div",27),i.Xb(973,"h2"),i.Tc(974,"Post Offer Amend Stage"),i.Wb(),i.Sb(975,"hr"),i.Sb(976,"br"),i.Xb(977,"mat-card",59),i.Xb(978,"div",28),i.Xb(979,"fieldset"),i.Xb(980,"legend",29),i.Tc(981,"Post Offer Amend Stage"),i.Wb(),i.Wb(),i.Sb(982,"span"),i.Wb(),i.Rc(983,Ru,65,11,"mat-card",60),i.Wb(),i.Sb(984,"br"),i.Wb(),i.Wb(),i.Sb(985,"br"),i.Xb(986,"div",23),i.Xb(987,"div",24),i.Xb(988,"div",25),i.Tc(989,"8"),i.Wb(),i.Xb(990,"div",26),i.Tc(991,"\xa0"),i.Wb(),i.Wb(),i.Xb(992,"div",27),i.Xb(993,"h2"),i.Tc(994,"Account Credit Details Stage"),i.Wb(),i.Sb(995,"hr"),i.Sb(996,"br"),i.Xb(997,"mat-card",59),i.Xb(998,"div",28),i.Xb(999,"fieldset"),i.Xb(1e3,"legend",29),i.Tc(1001,"Account Create Details Stage"),i.Wb(),i.Wb();i.Sb(1002,"span"),i.Wb(),i.Rc(1003,Su,82,14,"mat-card",60),i.Wb(),i.Sb(1004,"br"),i.Wb(),i.Wb(),i.Sb(1005,"br"),i.Sb(1006,"br"),i.Xb(1007,"div",63),i.Xb(1008,"div",24),i.Xb(1009,"div",25),i.Tc(1010,"9"),i.Wb(),i.Xb(1011,"div",26),i.Tc(1012,"\xa0"),i.Wb(),i.Wb(),i.Xb(1013,"div",64),i.Xb(1014,"h2"),i.Tc(1015,"Digital Sign"),i.Wb(),i.Xb(1016,"div",65),i.Xb(1017,"fieldset"),i.Xb(1018,"legend",29),i.Tc(1019,"Digital Sign"),i.Wb(),i.Wb(),i.Wb(),i.Xb(1020,"mat-card",31),i.Xb(1021,"mat-card-content"),i.Xb(1022,"div",32),i.Sb(1023,"div",33),i.Xb(1024,"div",34),i.Xb(1025,"div",35),i.Tc(1026,"Document Name"),i.Wb(),i.Xb(1027,"div",36),i.Tc(1028),i.Wb(),i.Wb(),i.Xb(1029,"div",34),i.Xb(1030,"div",35),i.Tc(1031,"File Type"),i.Wb(),i.Xb(1032,"div",36),i.Tc(1033),i.Wb(),i.Wb(),i.Xb(1034,"div",34),i.Xb(1035,"div",35),i.Tc(1036,"File Name"),i.Wb(),i.Xb(1037,"div",36),i.Tc(1038),i.Wb(),i.Wb(),i.Xb(1039,"div",34),i.Xb(1040,"div",35),i.Tc(1041,"Download"),i.Wb(),i.Rc(1042,Nu,4,1,"div",66),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(1043,"div"),i.Xb(1044,"div",67),i.Xb(1045,"div",68),i.fc("click",function(){return e.continue()}),i.Xb(1046,"label",69),i.Tc(1047,"Cotinue"),i.Wb(),i.Wb(),i.Xb(1048,"div",70),i.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"REJECTED")}),i.Xb(1049,"mat-icon",71),i.Tc(1050," highlight_off "),i.Wb(),i.Tc(1051,"\xa0\xa0\xa0 "),i.Xb(1052,"label",72),i.Tc(1053,"Reject"),i.Wb(),i.Wb(),i.Tc(1054," \xa0\xa0 "),i.Xb(1055,"div",73),i.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"APPROVED")}),i.Xb(1056,"mat-icon",74),i.Tc(1057,"check_circle"),i.Wb(),i.Tc(1058,"\xa0\xa0\xa0 "),i.Xb(1059,"label",75),i.Tc(1060,"Approve"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(1061,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(11),i.rc("ngForOf",e.nameCreater),i.Eb(7),i.Vc("",null==e.createDataInfo?null:e.createDataInfo.createdBy," "),i.Eb(3),i.Vc("EID #",null==e.createDataInfo?null:e.createDataInfo.creatorId,""),i.Eb(6),i.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.mobile," "),i.Eb(6),i.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.email," "),i.Eb(3),i.rc("ngIf","not_available"==e.imageUrl),i.Eb(1),i.rc("ngIf","not_available"!==e.imageUrl),i.Eb(7),i.Xc("",e.loanInfo.prefix,"\xa0",e.loanInfo.firstName,"\xa0",e.loanInfo.lastName,""),i.Eb(16),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountCurrency),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountBranch),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAccountId),i.Eb(7),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.applicationDate.slice(0,12)),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.customerContribution),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.estimatedCost),i.Eb(7),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAmount),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanTenure),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.purposeOfLoan),i.Eb(7),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.status),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.businessProductName),i.Eb(5),i.Uc(null==e.loanAccount_array?null:e.loanAccount_array.modificationNo),i.Eb(6),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.assest_array?null:e.assest_array.assetStatus),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.building),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.mortgagedBranch),i.Eb(7),i.Uc(null==e.assest_array?null:e.assest_array.city),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.country),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.dimensions),i.Eb(7),i.Uc(null==e.assest_array?null:e.assest_array.homeType),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.locality),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.marketValue),i.Eb(7),i.Uc(null==e.assest_array?null:e.assest_array.state),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.city),i.Eb(5),i.Uc(null==e.assest_array?null:e.assest_array.zipCode),i.Eb(9),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(17),i.Uc(e.ownership),i.Eb(5),i.Uc(e.ownership),i.Eb(5),i.Uc(e.noOfApplicants),i.Eb(1),i.rc("ngForOf",e.customerInfoDetails),i.Eb(7),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(20),i.Uc(null==e.mandateDetails?null:e.mandateDetails.noOfApplicants),i.Eb(2),i.rc("ngForOf",e.mandateDetailsArray),i.Eb(7),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.colateral_array?null:e.colateral_array.attributes),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.building),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.city),i.Eb(7),i.Uc(null==e.colateral_array?null:e.colateral_array.collateralCurrency),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.collateralType),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.collateralValue),i.Eb(7),i.Uc(null==e.colateral_array?null:e.colateral_array.country),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.dimensions),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.locality),i.Eb(7),i.Uc(null==e.colateral_array?null:e.colateral_array.state),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.thirdPartyCollateral),i.Eb(5),i.Uc(null==e.colateral_array?null:e.colateral_array.street),i.Eb(2),i.rc("ngIf",e.colateral_array),i.Eb(7),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.guranator_array?null:e.guranator_array.prefix),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.firstName),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.lastName),i.Eb(7),i.Uc(null==e.guranator_array?null:e.guranator_array.cifNumber),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.relationWithCustomer),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.country),i.Eb(7),i.Uc(null==e.guranator_array?null:e.guranator_array.dateOfBirth),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.emailAddress),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.mobileNumber),i.Eb(7),i.Uc(null==e.guranator_array?null:e.guranator_array.address1),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.address2),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.city),i.Eb(7),i.Uc(null==e.guranator_array?null:e.guranator_array.state),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.phoneNumber),i.Eb(5),i.Uc(null==e.guranator_array?null:e.guranator_array.zipCode),i.Eb(20),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(1),i.rc("ngForOf",e.loanInterest_array),i.Eb(10),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.branchCode),i.Eb(5),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.customerAccount),i.Eb(5),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.disbursementMode),i.Eb(7),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.firstDisbursementDate),i.Eb(5),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.loanAmount),i.Eb(5),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.mutipleDisbursementRequired),i.Eb(7),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.numberOfDisbursement),i.Eb(5),i.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.totalDisbursement),i.Eb(9),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.bankName),i.Eb(5),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.branchCode),i.Eb(5),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.customerAccount),i.Eb(7),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.firstRepaymentDate),i.Eb(5),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.loanTenure),i.Eb(5),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.maturityDate),i.Eb(7),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.moraturioumPeriod),i.Eb(5),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.typeOfRepayment),i.Eb(5),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentFrequency),i.Eb(7),i.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentMode),i.Eb(8),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(1),i.rc("ngForOf",e.loanCharge_array),i.Eb(15),i.Uc(null==e.accountService_array?null:e.accountService_array.statementCycle),i.Eb(5),i.Uc(null==e.accountService_array?null:e.accountService_array.statementType),i.Eb(5),i.Uc(null==e.accountService_array?null:e.accountService_array.startDate),i.Eb(18),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(1),i.rc("ngIf",e.loanCreditScore_array),i.Eb(8),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.bankValuation),i.Eb(5),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetType),i.Eb(5),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.propertyAreaSize),i.Eb(7),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.actualPropertyAreaSize),i.Eb(5),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.borrowersMktValOfAsset),i.Eb(5),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.faceValOfAsset),i.Eb(7),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.mktValOfAsset),i.Eb(5),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetValue),i.Eb(5),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.forcedSaleValue),i.Eb(7),i.Uc(null==e.valueofassest_array?null:e.valueofassest_array.valuationDate.slice(0,12)),i.Eb(8),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinion),i.Eb(5),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.assetAreaSize),i.Eb(5),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.description),i.Eb(7),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.lawyerName),i.Eb(5),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.mktValOfAsset),i.Eb(5),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinionDate),i.Eb(7),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.isDecisionFavorable),i.Eb(5),i.Uc(null==e.legaopninio_array?null:e.legaopninio_array.valuationDate),i.Eb(26),i.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardId),i.Eb(5),i.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.numberOfApplicant),i.Eb(5),i.rc("ngForOf",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardMapping),i.Eb(7),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.loanassement_array?null:e.loanassement_array.approvedLoanAmount),i.Eb(5),i.Uc(null==e.loanassement_array?null:e.loanassement_array.loanTenure),i.Eb(5),i.Uc(null==e.loanassement_array?null:e.loanassement_array.rateOfInterest),i.Eb(7),i.Uc(null==e.loanassement_array?null:e.loanassement_array.loanAmountRecommendation),i.Eb(5),i.Uc(null==e.loanassement_array?null:e.loanassement_array.systemRecommendation),i.Eb(5),i.Uc(null==e.loanassement_array?null:e.loanassement_array.userRecommendation),i.Eb(7),i.Uc(null==e.loanassement_array?null:e.loanassement_array.requestedLoanAmount),i.Eb(20),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(9),i.Uc(null==e.offerissue_array?null:e.offerissue_array.applicantName),i.Eb(5),i.Uc(null==e.offerissue_array?null:e.offerissue_array.approvedLoanAmount),i.Eb(5),i.Uc(null==e.offerissue_array?null:e.offerissue_array.charges),i.Eb(7),i.Uc(null==e.offerissue_array?null:e.offerissue_array.generateOffer),i.Eb(5),i.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentAmount),i.Eb(5),i.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentType),i.Eb(7),i.Uc(null==e.offerissue_array?null:e.offerissue_array.interest),i.Eb(5),i.Uc(null==e.offerissue_array?null:e.offerissue_array.loanTenure),i.Eb(5),i.Uc(null==e.offerissue_array?null:e.offerissue_array.offerIssueDate),i.Eb(7),i.Uc(null==e.offerissue_array?null:e.offerissue_array.principal),i.Eb(5),i.Uc(null==e.offerissue_array?null:e.offerissue_array.rateOfInterest),i.Eb(21),i.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),i.Eb(1),i.rc("ngIf",e.offerDetails),i.Eb(20),i.rc("ngIf",e.postOfferDetails),i.Eb(20),i.rc("ngIf",e.accountCreateValue),i.Eb(25),i.Uc(null==e.signatureData?null:e.signatureData.documentName),i.Eb(5),i.Uc(null==e.signatureData?null:e.signatureData.fileType),i.Eb(5),i.Uc(null==e.signatureData?null:e.signatureData.fileName),i.Eb(4),i.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),i.Eb(3),i.rc("hidden",e.continueStatus)("ngClass",i.yc(161,Pu,e.continueStatus,!e.continueStatus)),i.Eb(3),i.rc("hidden",e.rejectedStatus)("hidden",e.rejectedStatus)("ngClass",i.yc(164,ku,e.rejectedStatus,!e.rejectedStatus)),i.Eb(7),i.rc("hidden",e.approvedStatus)("ngClass",i.yc(167,Fu,e.approvedStatus,!e.approvedStatus)))},directives:[g.e,g.d,v.a,o.m,X.c,o.n,g.b,ka.a,X.a,X.d,g.f,W.f,o.l,Ko.a,j.a,j.c,j.e,j.f,x.a],pipes:[o.v,o.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;border-style:1px solid transparent;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:78px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{border-style:1px solid transparent;margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:50%;height:53px;padding-top:15px;background-color:#fff}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{border:.5px groove;margin-right:2%}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:1%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;border:1px solid}.appersoninfocard1[_ngcontent-%COMP%]{width:90%;border:1px solid}.interstcard[_ngcontent-%COMP%]{background-color:#e5e5e5;width:100px;height:80px}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.7rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{width:150px}.editbtn[_ngcontent-%COMP%], .editScreen[_ngcontent-%COMP%]{color:#fff;background-color:#0e7cc5;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;border-color:#0e57c5;height:30px}.editScreen[_ngcontent-%COMP%]{width:100px}.qtncrd[_ngcontent-%COMP%]{background-color:#f7f7f7;margin-left:12%;margin-bottom:40px;padding:10px;width:100%;box-shadow:#f7f7f7;block-size:70px;height:80px}.qtnval[_ngcontent-%COMP%]{padding-top:8px;width:100%;color:#696969}.qtncard1[_ngcontent-%COMP%]{height:80px;block-size:80px;background-color:#f7f7f7;margin-left:12%}.qtncard[_ngcontent-%COMP%], .qtncard1[_ngcontent-%COMP%]{width:100%}.qtnhd[_ngcontent-%COMP%]{margin:20px}.applicanthd[_ngcontent-%COMP%]{text-align:left;padding:42px;font-size:medium;font-family:sans-serif;color:rgba(0,0,0,.7411764705882353)}.edit_icon[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px;float:right}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),t})();var _u=function(t,e,a,o){return new(a||(a=Promise))(function(n,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})};function wu(t,e){1&t&&i.Sb(0,"mat-spinner",20),2&t&&i.rc("diameter",15)}function Uu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",17),i.fc("click",function(){return i.Hc(t),i.jc().clear()}),i.Xb(1,"div",18),i.Rc(2,wu,1,1,"mat-spinner",19),i.Wb(),i.Xb(3,"mat-icon"),i.Tc(4,"close"),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(2),i.rc("ngIf",t.loading)}}function Mu(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",34),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Gu(t,e){if(1&t&&i.Sb(0,"img",35),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function Vu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToLoanAccountSummary(a,"ONGOING",n.getRandomColor(o+3))}),i.Xb(1,"div"),i.Xb(2,"mat-icon",22),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",23),i.Xb(9,"div",24),i.Rc(10,Mu,2,1,"div",25),i.Rc(11,Gu,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(13,"mat-card-title",27),i.Tc(14),i.Wb(),i.Xb(15,"mat-card-subtitle"),i.Xb(16,"span",28),i.Tc(17),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"form",29),i.Xb(19,"div",30),i.Xb(20,"div",31),i.Xb(21,"span",32),i.Tc(22,"Account Branch "),i.Wb(),i.Xb(23,"span",33),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",31),i.Xb(26,"span",32),i.Tc(27,"Account Type "),i.Wb(),i.Xb(28,"span",33),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Sb(30,"br"),i.Xb(31,"div",30),i.Xb(32,"div",31),i.Xb(33,"span",32),i.Tc(34,"Business Product Name"),i.Wb(),i.Xb(35,"span",33),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",31),i.Xb(38,"span",32),i.Tc(39,"Status"),i.Wb(),i.Xb(40,"span",33),i.Tc(41),i.Wb(),i.Wb(),i.Wb(),i.Sb(42,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(12);i.Eb(6),i.Uc(i.lc(7,12,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.loanAccountId,""),i.Eb(7),i.Uc(t.accountBranch),i.Eb(5),i.Uc(t.accountType),i.Eb(7),i.Uc(t.businessProductName),i.Eb(5),i.Uc(t.status)}}function Bu(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",34),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function ju(t,e){if(1&t&&i.Sb(0,"img",35),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function zu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToLoanAccountSummary(a,"ONGOING",n.getRandomColor(o+3))}),i.Xb(1,"div"),i.Xb(2,"mat-icon",36),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",23),i.Xb(9,"div",24),i.Rc(10,Bu,2,1,"div",25),i.Rc(11,ju,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(13,"mat-card-title",27),i.Tc(14),i.Wb(),i.Xb(15,"mat-card-subtitle"),i.Xb(16,"span",28),i.Tc(17),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"form",29),i.Xb(19,"div",30),i.Xb(20,"div",31),i.Xb(21,"span",32),i.Tc(22,"Account Branch "),i.Wb(),i.Xb(23,"span",33),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",31),i.Xb(26,"span",32),i.Tc(27,"Account Type "),i.Wb(),i.Xb(28,"span",33),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Sb(30,"br"),i.Xb(31,"div",30),i.Xb(32,"div",31),i.Xb(33,"span",32),i.Tc(34,"Business Product Name"),i.Wb(),i.Xb(35,"span",33),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",31),i.Xb(38,"span",32),i.Tc(39,"Status"),i.Wb(),i.Xb(40,"span",33),i.Tc(41),i.Wb(),i.Wb(),i.Wb(),i.Sb(42,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(12);i.Eb(6),i.Uc(i.lc(7,12,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.loanAccountId,""),i.Eb(7),i.Uc(t.accountBranch),i.Eb(5),i.Uc(t.accountType),i.Eb(7),i.Uc(t.businessProductName),i.Eb(5),i.Uc(t.status)}}function qu(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",34),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Ku(t,e){if(1&t&&i.Sb(0,"img",35),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function Ju(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToLoanAccountSummary(a,"ONGOING",n.getRandomColor(o+3))}),i.Xb(1,"div"),i.Xb(2,"mat-icon",37),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",23),i.Xb(9,"div",24),i.Rc(10,qu,2,1,"div",25),i.Rc(11,Ku,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(13,"mat-card-title",27),i.Tc(14),i.Wb(),i.Xb(15,"mat-card-subtitle"),i.Xb(16,"span",28),i.Tc(17),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"form",29),i.Xb(19,"div",30),i.Xb(20,"div",31),i.Xb(21,"span",32),i.Tc(22,"Account Branch "),i.Wb(),i.Xb(23,"span",33),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",31),i.Xb(26,"span",32),i.Tc(27,"Account Type "),i.Wb(),i.Xb(28,"span",33),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Sb(30,"br"),i.Xb(31,"div",30),i.Xb(32,"div",31),i.Xb(33,"span",32),i.Tc(34,"Business Product Name"),i.Wb(),i.Xb(35,"span",33),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",31),i.Xb(38,"span",32),i.Tc(39,"Status"),i.Wb(),i.Xb(40,"span",33),i.Tc(41),i.Wb(),i.Wb(),i.Wb(),i.Sb(42,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(12);i.Eb(6),i.Uc(i.lc(7,12,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.loanAccountId,""),i.Eb(7),i.Uc(t.accountBranch),i.Eb(5),i.Uc(t.accountType),i.Eb(7),i.Uc(t.businessProductName),i.Eb(5),i.Uc(t.status)}}function $u(t,e){if(1&t&&(i.Xb(0,"div"),i.Sb(1,"app-photo",34),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Hu(t,e){if(1&t&&i.Sb(0,"img",35),2&t){const t=i.jc().$implicit;i.rc("src",t.profileImage,i.Jc)}}function Yu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.fc("click",function(){i.Hc(t);const a=e.$implicit,o=e.index,n=i.jc();return n.goToLoanAccountSummary(a,"ONGOING",n.getRandomColor(o+3))}),i.Xb(1,"div"),i.Xb(2,"mat-icon",38),i.Tc(3,"bookmark"),i.Wb(),i.Xb(4,"span"),i.Xb(5,"small"),i.Tc(6),i.kc(7,"dateAgo"),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card-header",23),i.Xb(9,"div",24),i.Rc(10,$u,2,1,"div",25),i.Rc(11,Hu,1,1,"ng-template",null,26,i.Sc),i.Wb(),i.Xb(13,"mat-card-title",27),i.Tc(14),i.Wb(),i.Xb(15,"mat-card-subtitle"),i.Xb(16,"span",28),i.Tc(17),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"form",29),i.Xb(19,"div",30),i.Xb(20,"div",31),i.Xb(21,"span",32),i.Tc(22,"Account Branch "),i.Wb(),i.Xb(23,"span",33),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",31),i.Xb(26,"span",32),i.Tc(27,"Account Type "),i.Wb(),i.Xb(28,"span",33),i.Tc(29),i.Wb(),i.Wb(),i.Wb(),i.Sb(30,"br"),i.Xb(31,"div",30),i.Xb(32,"div",31),i.Xb(33,"span",32),i.Tc(34,"Business Product Name"),i.Wb(),i.Xb(35,"span",33),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",31),i.Xb(38,"span",32),i.Tc(39,"Status"),i.Wb(),i.Xb(40,"span",33),i.Tc(41),i.Wb(),i.Wb(),i.Wb(),i.Sb(42,"br"),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.Dc(12);i.Eb(6),i.Uc(i.lc(7,12,null==t?null:t.createdTime)),i.Eb(4),i.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),i.Eb(4),i.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),i.Eb(3),i.Vc("#",t.loanAccountId,""),i.Eb(7),i.Uc(t.accountBranch),i.Eb(5),i.Uc(t.accountType),i.Eb(7),i.Uc(t.businessProductName),i.Eb(5),i.Uc(t.status)}}const Zu=[{path:""},{path:"task-summary",component:ei},{path:"kyc-task-summary",component:Wi},{path:"cust-on-boarding-task-summary",component:Xi.a},{path:"cust-on-boarding-approver",component:Hr},{path:"corporate-task-summary",component:Il},{path:"loan-account-task-summary",component:(()=>{class t{constructor(t,e,a,o,n,r,s,l){this.dialog=t,this.ls=e,this.taskSumService=a,this.cdr=o,this.apiService=n,this.snack=r,this.sanitizer=s,this.route=l,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="loan",this.isScroll=!0,this.setValue=new i.o,this._searchSubject=new c.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this._setSearchSubscription()}onScroll(t){this.isScroll&&(this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),console.log(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()}),this.listOfOptions.filter(t=>{t.checked&&(this.radioButtonSelected=t.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}radioChange(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}updateSearch(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{if(this.setValue.emit(t),console.log("search value :: ",t),console.log("search text :: ",this.searchText),null==t||""==t||""==t)return this.noDataFound=!1,this.searchable=!1,void this.getDataOnLoad();this.searchcorporateID(t)})}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}getDataOnLoad(){return _u(this,void 0,void 0,function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])})}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"BACKLOG"==t?(this.BACKLOGArr=null==e?void 0:e.loanList,this.BACKLOGTotalPages=null==e?void 0:e.totalPages,this.BACKLOGTotalRecords=null==e?void 0:e.totalNoOfElements):"ONGOING"==t?(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.loanList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.loanList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.taskSumService.getAllLoanDetailOnScroll(t,e).subscribe(e=>{console.log("count data :: ",e),this.cdr.markForCheck(),this.updateDataOnScroll(t,e.loanList)}):console.log("No scroll requied")}goToLoanAccountSummary(t,e,a){localStorage.setItem("CustomerColorCode",a),this.dialog.open(Lu,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(t=>{console.log("dialog closed:: ",t),1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad()})}searchcorporateID(t){let e,a;this.isNum(t)?(e=this.searchText.trim(),a="loanAccountId="+e):(e=this.searchText.trim(),a="customerName="+e),this.isScroll=!1,this.getCustomerData(a)}getCustomerData(t){this.loading=!0,console.log("params :: ",t),this.taskSumService.getLoanAccountSearchSummary(t).subscribe(t=>{this.loading=!1,console.log("resp data :: ",t),this.resetSearchData();for(let e=0;e<t.loanList.length;e++){const a=t.loanList[e];console.log("element ::",a),this.searchResponseUpdate(a.status,t.loanList[e])}})}resetSearchData(){this.BACKLOGArr=[],this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{if(console.log(t),console.log(t.profileImage),this.searchable=!1,null!=t.profileImage){let e="data:image/jpeg;base64,"+t.profileImage.fileData;this.searchable=!0,this.image=this.sanitizer.bypassSecurityTrustUrl(e),console.log(this.searchable,"Searchable")}},t=>{console.log(t)})}getcorporateIDData(t){console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(t=>{if(console.log("resp data :: ",t),this.cdr.markForCheck(),this.cdr.detectChanges(),null!=t){var e=t[0].customerAdditionalInfo.kycStatus+"Arr";this[e].splice(0,0,t[0]),this[e]=this[e].slice(),console.log("resp value :: ",this[e])}else this.noDataFound=!0})}ngOnDestroy(){this._searchSubject.unsubscribe(),this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.BACKLOGArr=[],this.BACKLOGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.ONGOINGPage=0,this.BACKLOGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.ONGOINGTotalPages=0}updateDataOnScroll(t,e){return _u(this,void 0,void 0,function*(){if("BACKLOG"==t){const t=Kt.unionBy(this.BACKLOGArr,e,"loanAccountId");this.BACKLOGArr=t}else if("ONGOING"==t){const t=Kt.unionBy(this.ONGOINGArr,e,"loanAccountId");this.ONGOINGArr=t}else if("APPROVED"==t){const t=Kt.unionBy(this.APPROVEDArr,e,"loanAccountId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Kt.unionBy(this.REJECTEDArr,e,"loanAccountId");this.REJECTEDArr=t}this.cdr.markForCheck()})}isNum(t){return!isNaN(t)}isString(t){return t}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.goToLoanAccountSummary(t[0][0],t[0][0].custStatus)}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(b.b),i.Rb(l.a),i.Rb(m.a),i.Rb(i.h),i.Rb(r.b),i.Rb(f.a),i.Rb(qo.b),i.Rb(je.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-account-task-summary"]],hostBindings:function(t,e){1&t&&i.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:51,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"heading"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"topSection"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Loan Account Id",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","colorChange",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[3,"diameter",4,"ngIf"],[3,"diameter"],[1,"colorChange",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"loanIdText"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45",1,"pr2"],[1,"col3"],[1,"labelValue","col4"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","book2"],[1,"fill-color-blue","bookMark","book3"],[1,"fill-color-blue","bookMark","book4"]],template:function(t,e){1&t&&(i.Sb(0,"br"),i.Xb(1,"div",0),i.fc("scrolled",function(t){return e.onScroll(t)}),i.Sb(2,"br"),i.Xb(3,"div",1),i.Xb(4,"div",2),i.Xb(5,"div",3),i.Xb(6,"span",4),i.Tc(7," Loan Account Task Summary "),i.Wb(),i.Wb(),i.Xb(8,"div",5),i.Xb(9,"mat-form-field",6),i.Xb(10,"mat-label"),i.Tc(11,"Search"),i.Wb(),i.Xb(12,"input",7),i.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),i.Wb(),i.Xb(13,"mat-icon",8),i.Tc(14,"search"),i.Wb(),i.Rc(15,Uu,5,1,"button",9),i.Xb(16,"mat-hint"),i.Tc(17,"Search Loan Account ID"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"div",10),i.Xb(19,"div",11),i.Xb(20,"mat-card",12),i.Xb(21,"div",13),i.Xb(22,"span",14),i.Xb(23,"h2",15),i.Tc(24),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div"),i.Rc(26,Vu,43,14,"div",16),i.Wb(),i.Sb(27,"br"),i.Wb(),i.Xb(28,"mat-card",12),i.Xb(29,"div",13),i.Xb(30,"span",14),i.Xb(31,"h2",15),i.Tc(32),i.Wb(),i.Wb(),i.Wb(),i.Xb(33,"div"),i.Rc(34,zu,43,14,"div",16),i.Wb(),i.Wb(),i.Xb(35,"mat-card",12),i.Xb(36,"div",13),i.Xb(37,"span",14),i.Xb(38,"h2",15),i.Tc(39),i.Wb(),i.Wb(),i.Wb(),i.Xb(40,"div"),i.Rc(41,Ju,43,14,"div",16),i.Wb(),i.Sb(42,"br"),i.Wb(),i.Xb(43,"mat-card",12),i.Xb(44,"div",13),i.Xb(45,"span",14),i.Xb(46,"h2",15),i.Tc(47),i.Wb(),i.Wb(),i.Wb(),i.Xb(48,"div"),i.Rc(49,Yu,43,14,"div",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(50,"br"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),i.Eb(11),i.rc("ngModel",e.searchText),i.Eb(3),i.rc("ngIf",e.searchText),i.Eb(9),i.Wc("Pending for approval (",null==e.BACKLOGArr?null:e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.BACKLOGArr),i.Eb(6),i.Wc("Ongoing (",null==e.ONGOINGArr?null:e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.ONGOINGArr),i.Eb(5),i.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.APPROVEDArr),i.Eb(6),i.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),i.Eb(2),i.rc("ngForOf",e.REJECTEDArr))},directives:[Mn.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,v.a,W.i,o.n,W.f,X.a,o.m,C.b,W.j,E.b,X.e,X.c,X.h,X.g,p.A,p.s,p.t],pipes:[ni.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#0f0f0f}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.topSection[_ngcontent-%COMP%]{padding-right:5.35%;margin-top:2%}.heading[_ngcontent-%COMP%]{padding-left:3.7%;margin-top:3%}.headingss[_ngcontent-%COMP%]{font-size:17px}.colorChange[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:38vh}.book2[_ngcontent-%COMP%]{color:#ff8c00}.book3[_ngcontent-%COMP%]{color:#1fbfa9}.book4[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px;overflow-wrap:anywhere}.loanIdText[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:12px}.imgData[_ngcontent-%COMP%]{width:150px;height:50px;border-radius:50%}.labelValue[_ngcontent-%COMP%]{overflow-wrap:anywhere}.pr2[_ngcontent-%COMP%]{padding-right:2%}"]}),t})()},{path:"corporate-approver",component:al},{path:"card-account-task-summary",component:ad},{path:"card-account-approver",component:Gb},{path:"loan-account-task-summary/loan-account-approver",component:ld}];var Qu=a("rJgo"),tm=a("hzfI"),em=a("5QHs"),am=a("KeVr"),om=a("zMWy"),nm=a("mnDI"),im=a("WRcG"),rm=a("KVVp"),cm=a("Svv8"),sm=a("Gp04");let lm=(()=>{class t{}return t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({factory:function(e){return new(e||t)},providers:[{provide:b.g,useValue:{}},{provide:b.a,useValue:[]}],imports:[[o.c,p.l,p.x,Qu.c,y.c,n.a,v.b,X.f,am.a,tm.c,ka.b,W.e,nm.a,I.f,Jt.c,E.a,Mn.b,em.a,x.b,u.b,om.a,je.l.forChild(Zu),im.OnboardingCorporateModule,rm.OthersModule,sm.a]]}),t})();i.Kc(cm.a,[g.e,g.d,v.a,X.a,ir.a,g.f,C.b],[])}}]);