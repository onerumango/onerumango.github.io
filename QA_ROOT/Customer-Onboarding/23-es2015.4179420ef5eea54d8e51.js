(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{q3xE:function(t,e,o){"use strict";o.r(e),o.d(e,"CustomerOnboardingV2Module",function(){return pt});var a=o("SVse"),n=o("laYw"),r=o("nm5K"),i=o("tZUg"),c=o("8Y7J"),s=o("iELJ"),l=o("s7LF"),b=o("iInd"),g=o("VDRc"),d=o("Tj54"),u=o("PDjf"),p=o("Q2Ze"),f=o("M9ds"),m=o("DE60"),h=o("35u7"),x=o("ZTz/"),I=o("Dxy4"),C=o("ura0"),y=o("UhP/");function v(t,e){if(1&t&&(c.Xb(0,"mat-option",23),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t.id),c.Eb(1),c.Uc(t.categoryName)}}function F(t,e){if(1&t){const t=c.Yb();c.Xb(0,"mat-icon",24),c.fc("click",function(){c.Hc(t);const e=c.jc().index;return c.jc(2).addCustomerCategory(e)}),c.Tc(1,"add"),c.Wb()}}function O(t,e){if(1&t){const t=c.Yb();c.Xb(0,"mat-icon",24),c.fc("click",function(){c.Hc(t);const e=c.jc().index;return c.jc(2).removeCustomerCategoty(e)}),c.Tc(1,"remove"),c.Wb()}}function T(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",11),c.Xb(1,"div",12),c.Xb(2,"mat-form-field",13),c.Xb(3,"mat-label"),c.Tc(4,"Customer Category*"),c.Wb(),c.Xb(5,"mat-select",14),c.Rc(6,v,2,2,"mat-option",7),c.Wb(),c.Wb(),c.Xb(7,"div",15),c.Rc(8,F,2,0,"mat-icon",16),c.Rc(9,O,2,0,"ng-template",null,17,c.Sc),c.Wb(),c.Wb(),c.Xb(11,"div",18),c.Xb(12,"div",19),c.Xb(13,"span",20),c.Tc(14),c.Wb(),c.Wb(),c.Xb(15,"div",21),c.Tc(16," Choose "),c.Xb(17,"input",22),c.fc("change",function(o){c.Hc(t);const a=e.index;return c.jc(2).fileName(o,a)}),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit,o=e.index,a=c.Dc(10),n=c.jc(2);c.rc("formGroup",t),c.Eb(6),c.rc("ngForOf",n.customerCategoryArr),c.Eb(2),c.rc("ngIf",o==n.customerCategory.controls.length-1)("ngIfElse",a),c.Eb(5),c.rc("ngClass",t.get("fileName").value&&"textLink"),c.Eb(1),c.Uc(t.get("fileName").value?t.get("fileName").value:"File Uploaded")}}function W(t,e){if(1&t&&(c.Xb(0,"mat-option",23),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t.id),c.Eb(1),c.Uc(t.chargeCategory)}}function X(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",1),c.Xb(1,"mat-card",2),c.Xb(2,"h3"),c.Tc(3,"Category"),c.Wb(),c.Xb(4,"div",3),c.Rc(5,T,18,6,"div",4),c.Xb(6,"mat-form-field",5),c.Xb(7,"mat-label"),c.Tc(8,"Charge Category*"),c.Wb(),c.Xb(9,"mat-select",6),c.Rc(10,W,2,2,"mat-option",7),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(11,"div",8),c.Xb(12,"button",9),c.fc("click",function(){return c.Hc(t),c.jc().prevoiustab()}),c.Tc(13,"Back"),c.Wb(),c.Xb(14,"button",10),c.fc("click",function(){return c.Hc(t),c.jc().saveotherinf()}),c.Tc(15," Next "),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.rc("formGroup",t.othersInfoForm),c.Eb(5),c.rc("ngForOf",t.customerCategory.controls),c.Eb(5),c.rc("ngForOf",t.chargeCategoryArr),c.Eb(4),c.rc("disabled",t.othersInfoForm.invalid)}}let w=(()=>{class t{constructor(t,e){this.formBuilder=t,this.apiService=e}ngOnInit(){this.getCustomerCategory(),this.getCustomerChargeCategory(),this.buildOthersInfoForm(),this.apiService.getCustomerData().subscribe(t=>{if(console.log(t),null==t?void 0:t.customerInfoList){this.othersInfoForm.get("customerChargeCategoryId").setValue(t.customerInfoList[0].custCategoryInfo[0].customerChargeCategoryId);for(var e=0;e<t.customerInfoList[0].custCategoryInfo.length;e++)this.addCustomerCategory(t.customerInfoList[0].custCategoryInfo[e])}else this.addCustomerCategory()}),console.log(this.othersInfoForm)}ngAfterViewInit(){}buildOthersInfoForm(t){this.othersInfoForm=this.formBuilder.group({customerCategory:this.formBuilder.array([]),customerChargeCategoryId:[t?t.chargeCategory:"",[l.z.required]]})}get customerCategory(){return this.othersInfoForm.get("customerCategory")}addCustomerCategory(t){this.customerCategory.push(this.formBuilder.group({customerCategoryId:[t?t.customerCategoryId:"",[l.z.required]],fileName:[t?t.fileName:"",[l.z.required]],fileUrl:[t?t.fileUrl:""]}))}removeCustomerCategoty(t){this.customerCategory.removeAt(t)}getCustomerCategory(){this.apiService.getAuthCustomerCategory().subscribe(t=>{this.customerCategoryArr=t})}getCustomerChargeCategory(){this.apiService.getAuthCustomerChargeCategory().subscribe(t=>{this.chargeCategoryArr=t})}fileName(t,e){this.customerId=localStorage.getItem("customer_id")?localStorage.getItem("customer_id"):localStorage.getItem("customerId"),console.log(this.customerId),this.customerCategory.controls[e].get("fileName").setValue(t.target.files[0].name),console.log(this.othersInfoForm)}saveotherinf(){this.apiService.setIndex({index:3}),this.apiService.setFinishFlag({finishFlag:!1});let t={customerId:this.customerId,primaryEmailAdress:localStorage.getItem("Email"),phoneNumber:localStorage.getItem("phoneNo"),custCategoryInfo:[{customerCategoryId:this.customerCategory.controls[0].get("customerCategoryId").value,customerChargeCategoryId:this.othersInfoForm.get("customerChargeCategoryId").value,fileUrl:"http://192.168.0.14:8083/Icust-Digital-Banking/asdnasf/file.jpg",fileName:"file.jpg"}]};this.apiService.upsertOtherInformation(t).subscribe(t=>{console.log(t)})}prevoiustab(){this.apiService.setIndex({index:1})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(l.f),c.Rb(r.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-others-information"]],decls:1,vars:1,consts:[["class","top-div","fxLayout","column","fxLayoutAlign","space-between",3,"formGroup",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between",1,"top-div",3,"formGroup"],[1,"category-card"],["fxLayout","row wrap","fxLayoutAlign","space-between",1,"categoryDiv"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between start","class","customerCategory-div",3,"formGroup",4,"ngFor","ngForOf"],["fxFlex","49.5","appearance","outline"],["formControlName","customerChargeCategoryId"],[3,"value",4,"ngFor","ngForOf"],["fxLayoutAlign","space-between",1,"btn-div"],["mat-raised-button","",1,"Backbtn",3,"click"],["mat-button","","rounded","",1,"Nextbtn",3,"disabled","click"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between start",1,"customerCategory-div",3,"formGroup"],["fxFlex","49.5",1,"categoryInput"],["appearance","outline","fxFlex","92"],["formControlName","customerCategoryId"],["fxFlex","10","fxLayoutAlign","center center",1,"addbtndiv"],["class","addbtn",3,"click",4,"ngIf","ngIfElse"],["removeBtn",""],["fxFlex","49",1,"back"],[1,"fil"],[1,"fileName",3,"ngClass"],[1,"chooseFile"],["type","file",1,"hide_file",3,"change"],[3,"value"],[1,"addbtn",3,"click"]],template:function(t,e){1&t&&c.Rc(0,X,16,4,"div",0),2&t&&c.rc("ngIf",e.othersInfoForm)},directives:[a.n,g.e,g.d,l.s,l.j,u.a,a.m,p.c,g.b,p.g,x.a,l.r,l.i,I.b,a.l,C.a,y.n,d.a],styles:[".top-div[_ngcontent-%COMP%]{height:90vh}.category-card[_ngcontent-%COMP%]{background-color:#fffefe}.categoryDiv[_ngcontent-%COMP%]{margin-top:20px}.addbtndiv[_ngcontent-%COMP%]{background-color:#e7eef3;border-top-right-radius:5px;border-bottom-right-radius:5px;margin-left:-12px;margin-top:4px;height:43px;padding-bottom:8px}.addbtn[_ngcontent-%COMP%]{font-size:xx-large;color:#004c97;cursor:pointer}.back[_ngcontent-%COMP%]{background-color:#fff;height:50px;border-radius:5px;box-shadow:0 3px 15px rgba(0,0,0,.09019607843137255);position:relative;margin-top:4px}.chooseFile[_ngcontent-%COMP%]{padding:10px;background:transparent linear-gradient(90deg,#051a2d,#004c97) 0 0 no-repeat padding-box;font-family:manrope;color:#fff;border-radius:8px;text-align:center;top:4px;right:8px;width:120px}.chooseFile[_ngcontent-%COMP%], .hide_file[_ngcontent-%COMP%]{position:absolute;cursor:pointer}.hide_file[_ngcontent-%COMP%]{z-index:1000;opacity:0;right:0;top:0;height:100%;font-size:24px;width:100%}.fileName[_ngcontent-%COMP%]{color:#0b0b0b;opacity:.7}.fil[_ngcontent-%COMP%]{position:absolute;top:28%;left:6%}.textLink[_ngcontent-%COMP%]{color:#004a9a;text-decoration:underline;font-family:manrope;cursor:pointer}.btn-div[_ngcontent-%COMP%]{padding:20px}.Nextbtn[_ngcontent-%COMP%]{padding:2px;color:#fff;background:transparent linear-gradient(91deg,#051a2d,#004c97) 0 0 no-repeat padding-box}.Backbtn[_ngcontent-%COMP%]{padding:2px;background-color:#fff!important}"]}),t})();var M=o("YSGX"),P=o("DDtv"),k=o("u81B");function S(t,e){if(1&t&&c.Sb(0,"app-customer-basic-info",20),2&t){const t=c.jc();c.rc("verificationType",t.verificationType)}}function _(t,e){if(1&t&&c.Sb(0,"app-genric-document-upload",21),2&t){const t=c.jc();c.rc("screenInfo",t.screenInfo)}}function L(t,e){1&t&&c.Sb(0,"app-others-information")}function R(t,e){1&t&&c.Sb(0,"app-professional-information")}function E(t,e){1&t&&c.Sb(0,"app-financial-details")}function N(t,e){1&t&&c.Sb(0,"app-mandate-details")}let V=(()=>{class t{constructor(t,e,o,a,n,r,i){this.dialog=t,this.apiService=e,this.ls=o,this.dialogService=a,this.fb=n,this.api=r,this.router=i,this.verificationType="onboarding",this.arrayRelationshipType=[],this.arrayCountry=[],this.screen="Individual",this.finishFlag=!0}ngOnInit(){this.screenInfo={screenName:"onboarding",data:"",customerId:"",nextIndex:2,previousIndex:0,currentIndex:1},this.selectedIndex=this.ls.getItem("customerOnboadingTabIndex")?this.ls.getItem("customerOnboadingTabIndex"):0,console.log(this.selectedIndex),this.tabIndex=this.selectedIndex,this.api.getIndex().subscribe(t=>{console.log(t.index),this.tabIndex=t.index,this.ls.getItem("customerOnboadingTabIndex")&&(this.tabIndex=this.ls.getItem("customerOnboadingTabIndex")),this.api.getFinishFlag().subscribe(t=>{console.log("finish flag",t.finishFlag),this.assignValueFinish(t.finishFlag)}),0===t.index&&this.assignValuesForTab1(this.tabIndex),1===t.index&&this.assignValuesForTab2(this.tabIndex),2===t.index&&this.assignValuesForTab3(this.tabIndex),3===t.index&&this.assignValuesForTab4(this.tabIndex),4===t.index&&this.assignValuesForTab5(this.tabIndex),5===t.index&&this.assignValuesForTab6(this.tabIndex)})}assignValuesForTab1(t){this.tab1=!1}assignValuesForTab2(t){this.tab2=!1}assignValuesForTab3(t){this.tab3=!1}assignValuesForTab4(t){this.tab4=!1}assignValuesForTab5(t){this.tab5=!1}assignValuesForTab6(t){this.tab6=!1}assignValueFinish(t){this.finishFlag=t}previousStep(){this.router.navigate(["onboarding/customer-type"])}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(s.b),c.Rb(r.b),c.Rb(i.a),c.Rb(n.a),c.Rb(l.f),c.Rb(r.b),c.Rb(b.h))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-new-customer-onboarding-screen"]],decls:30,vars:7,consts:[[1,"header"],[1,"headerMapping"],["fxLayout","row","fxLayoutAlign","start space-between",1,"mt-16"],[1,"headerArrow",3,"click"],[1,"text-large"],[1,"kycStatuscard"],[1,"label"],[1,"status"],[1,"full-width"],[3,"selectedIndex","selectedIndexChange"],["tabGroup",""],["label","Primary Information"],["screenTitle","Individual",3,"verificationType",4,"ngIf"],["label","Proof Of Identity"],[3,"screenInfo",4,"ngIf"],["label","Other Information"],[4,"ngIf"],["label","Professional Information"],["label","Financial Detail"],["label","Mandate"],["screenTitle","Individual",3,"verificationType"],[3,"screenInfo"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"h4",1),c.Tc(2,"Home>New Customer Onboarding | Individual"),c.Wb(),c.Xb(3,"div",2),c.Xb(4,"span",3),c.fc("click",function(){return e.previousStep()}),c.Xb(5,"mat-icon"),c.Tc(6,"arrow_back"),c.Wb(),c.Wb(),c.Xb(7,"span",4),c.Tc(8," New Customer Onboarding / Individual "),c.Wb(),c.Xb(9,"mat-card",5),c.Xb(10,"mat-card-content"),c.Xb(11,"mat-label",6),c.Tc(12,"KYC Status"),c.Wb(),c.Xb(13,"p",7),c.Tc(14,"APPROVED"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"div",8),c.Xb(16,"mat-tab-group",9,10),c.fc("selectedIndexChange",function(t){return e.tabIndex=t}),c.Xb(18,"mat-tab",11),c.Rc(19,S,1,1,"app-customer-basic-info",12),c.Wb(),c.Xb(20,"mat-tab",13),c.Rc(21,_,1,1,"app-genric-document-upload",14),c.Wb(),c.Xb(22,"mat-tab",15),c.Rc(23,L,1,0,"app-others-information",16),c.Wb(),c.Xb(24,"mat-tab",17),c.Rc(25,R,1,0,"app-professional-information",16),c.Wb(),c.Xb(26,"mat-tab",18),c.Rc(27,E,1,0,"app-financial-details",16),c.Wb(),c.Xb(28,"mat-tab",19),c.Rc(29,N,1,0,"app-mandate-details",16),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Eb(16),c.rc("selectedIndex",e.tabIndex),c.Eb(3),c.rc("ngIf",0==e.tabIndex),c.Eb(2),c.rc("ngIf",1==e.tabIndex),c.Eb(2),c.rc("ngIf",2==e.tabIndex),c.Eb(2),c.rc("ngIf",3==e.tabIndex),c.Eb(2),c.rc("ngIf",4==e.tabIndex),c.Eb(2),c.rc("ngIf",5==e.tabIndex))},directives:[g.e,g.d,d.a,u.a,u.d,p.g,f.b,f.a,a.n,m.a,h.a,w,M.a,P.a,k.a],styles:[".popup-dialog-class[_ngcontent-%COMP%]   mat-dialog-container[_ngcontent-%COMP%]{padding-bottom:0;padding-right:0;padding-left:0}.jointCust[_ngcontent-%COMP%]{color:#004c97}.text-large[_ngcontent-%COMP%]{padding-left:20px;font-size:24px;width:36%}.headerArrow[_ngcontent-%COMP%]{padding-left:65px;cursor:pointer;margin-top:5px}.headerMapping[_ngcontent-%COMP%]{top:108px;left:120px;height:17px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 12px/17px Manrope;letter-spacing:var(--unnamed-character-spacing-0);text-align:left;font:normal normal normal 12px/17px Manrope;letter-spacing:0;color:#bfbfc1;padding-left:70px}.label[_ngcontent-%COMP%]{font-size:10px}.kycStatuscard[_ngcontent-%COMP%]{height:59px;width:12%;border-radius:8px;background:#e2f7f1 0 0 no-repeat padding-box;border:1px solid #008461;margin-left:42%;margin-top:-32px;padding:8px 0 0 20px!important}.status[_ngcontent-%COMP%]{color:#008461;opacity:.85;margin-bottom:20px}.header[_ngcontent-%COMP%]{padding-top:4%} .mat-tab-label-active{color:#004c97!important;font-family:manrope!important;opacity:1!important} .mat-tab-group.mat-primary .mat-ink-bar{background-color:#004c97!important;height:2px} .mat-tab-header{background-color:#fff} .mat-tab-label .mat-tab-label-content{width:12pc;font-size:14px;font-family:manrope} .mat-elevation-z4{box-shadow:none!important} .egret-blue.mat-tab-header-pagination-chevron{border-color:#004c97!important}"]}),t})();var A=o("u9T3"),j=o("vrAh"),z=o("pMoy"),D=o("f44v"),B=o("TN/R"),G=o("o4Yh"),U=o("40+f"),Y=o("e6WT"),q=o("SqCe"),H=o("rJgo"),J=o("BTe0"),Z=o("pu8Q"),K=o("zQhy"),Q=o("q7Ft"),$=o("jMqV"),tt=o("mPVK"),et=o("hzfI"),ot=o("l0rg"),at=o("ZFy/"),nt=o("cUpR"),rt=o("w9WL"),it=o("jgPy"),ct=o("zMWy"),st=o("PCNd"),lt=o("hrfs"),bt=o("aLe/"),gt=o("EpeG");const dt=[{path:"individual-onboarding",component:V},{path:"customer-type",component:(()=>{class t{constructor(t){this.dialogService=t}ngOnInit(){console.log("customerv2"),this.dialogService.openOnboardingVerificationMethod()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(n.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-customer-type-dialog"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})()}];var ut=o("Gp04");o("cMG6");let pt=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},providers:[P.a,k.a,M.a,w],imports:[[a.c,a.c,l.l,A.a,bt.c,l.x,d.b,q.e,et.c,I.c,u.f,U.a,G.b,H.c,tt.a,x.b,Z.a,p.e,j.b,Y.c,B.f,y.m,it.a,$.b,D.b,at.b,z.b,Q.g,lt.a,K.c,f.c,ot.b,J.b,A.a,rt.a,nt.c,st.a,ct.a,gt.b,ut.a,b.l.forChild(dt)]]}),t})()}}]);