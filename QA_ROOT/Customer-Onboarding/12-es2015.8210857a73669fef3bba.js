(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{OKja:function(t,e,i){"use strict";i.d(e,"a",function(){return ee});var r=i("nm5K"),a=i("tZUg"),n=i("iELJ"),o=i("SVse"),s=i("s7LF"),c=i("8Y7J"),l=i("zHaW"),b=i("VDRc"),d=i("Tj54"),u=i("Q2Ze"),m=i("PDjf"),p=i("ZTz/"),f=i("UhP/"),g=i("e6WT"),h=i("TN/R"),y=i("2Goh"),W=i("Dxy4");function v(t,e){if(1&t&&(c.Xb(0,"mat-option",32),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function X(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0Please Select the Prefix! "),c.Wb())}function x(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0Enter the First Name "),c.Wb())}function I(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0Enter the Last Name "),c.Wb())}function S(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0Please Select Date Of Birth "),c.Wb())}function E(t,e){if(1&t&&(c.Xb(0,"mat-option",32),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function T(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0Select Marital Status "),c.Wb())}function R(t,e){if(1&t&&(c.Xb(0,"mat-option",32),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function C(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0 Select Gender "),c.Wb())}function O(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 Prefix and Gender does not match! "),c.Wb())}function N(t,e){if(1&t&&(c.Xb(0,"mat-option",32),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function P(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0 Select Nationality "),c.Wb())}function D(t,e){if(1&t){const t=c.Yb();c.Xb(0,"mat-hint",34),c.fc("click",function(){c.Hc(t);const e=c.jc();return e.getOtp(e.primaryInfoForm.value)}),c.Tc(1),c.Wb()}if(2&t){const t=c.jc();c.Eb(1),c.Uc(t.emailVerify)}}function A(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0 Enter the Primary Email "),c.Wb())}function F(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," Please Enter valid email address! "),c.Wb())}function _(t,e){if(1&t){const t=c.Yb();c.Xb(0,"mat-hint",34),c.fc("click",function(){c.Hc(t);const e=c.jc();return e.getOtpMobile(e.primaryInfoForm.value)}),c.Tc(1),c.Wb()}if(2&t){const t=c.jc();c.Eb(1),c.Uc(t.verify)}}function w(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0 Enter the Mobile Number(maximum 10 digits) "),c.Wb())}function k(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," Please Enter Mobile Number "),c.Wb())}function U(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," Mobile number must be 10 digits. "),c.Wb())}function L(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),c.Wb())}let M=(()=>{class t{constructor(t,e,i,r,a){this.primaryInfo=t,this.dialogRef=e,this.apiService=i,this.snack=r,this.formBuilder=a,this.arrayCountry=[],this.arrayState=[],this.prefixFlag=!1,this.maxDate=new Date}ngOnInit(){console.log(this.primaryInfo),this.customerId=this.primaryInfo.customerId,this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getMaritalStatus("maritial_Status"),this.getCountryName("country"),this.getNationality("nationality"),this.getResidenceDetails("residence"),this.primaryInfo&&this.buildPrimaryInfoForm(this.primaryInfo)}buildPrimaryInfoForm(t){this.primaryInfoForm=this.formBuilder.group({customerId:[this.customerId],prefix:[t?t.prefix:"",[s.z.required]],firstName:[t?t.firstName:"",[s.z.required]],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",[s.z.required]],dateOfBirth:[t?t.dateOfBirth:"",[s.z.required]],maritalStatus:[t?t.maritalStatus:"",[s.z.required]],gender:[t?t.gender:"",[s.z.required]],nationality:[t?t.nationality:"",[s.z.required]],primaryEmailAdress:[t?t.primaryEmailAdress:"",[s.z.required,s.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],phoneNumber:[t?t.phoneNumber:"",[s.z.required]]})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getMaritalStatus(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayMaritalStatus=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let i=0;i<e.length;i++)if(e[i].countryName===t){this.apiService.getStateByCountryId(e[i].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayState.push(t[e].stateName)});break}})}getNationality(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.nationalityArray=t})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}onChangePrefix(t){""!=this.primaryInfoForm.value.gender&&("Mr"==t.value&&"Male"==this.primaryInfoForm.value.gender||("Ms"==t.value||"Mrs"==t.value)&&"Female"==this.primaryInfoForm.value.gender?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}onChangeGender(t){"Mr"==this.primaryInfoForm.value.prefix&&"Male"==t.value||("Ms"==this.primaryInfoForm.value.prefix||"Mrs"==this.primaryInfoForm.value.prefix)&&"Female"==t.value?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}onSubmit(){const t=new o.f("en-US").transform(this.primaryInfoForm.value.dateOfBirth,"yyyy-MMM-dd");this.primaryInfoForm.value.dateOfBirth=t,this.primaryInfoForm.value.customerSubmit=!1,this.apiService.insertNewUserOnboarding(this.primaryInfoForm.value).subscribe(t=>{console.log(t),this.dialogRef.close({status:"INITIATED",resp:this.primaryInfoForm.value})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(n.a),c.Rb(n.g),c.Rb(r.b),c.Rb(l.a),c.Rb(s.f))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-update-primary-info"]],decls:97,vars:25,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],[1,"full-width"],[1,"hintClass"],[1,"inputClass",2,"max-width","20%"],["formControlName","prefix","required","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"inputClass"],["type","text","matInput","","formControlName","firstName","required","",3,"keypress"],["type","text","matInput","","formControlName","middleName",3,"keypress"],["type","text","matInput","","formControlName","lastName","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","fxlayoutAlign","start start",1,"full-width"],["fxFlex","90%"],["matInput","","readonly","","formControlName","dateOfBirth","required","",1,"default-background",3,"matDatepicker","max"],["fxFlex","10%"],["matSuffix","",2,"height","0px","line-height","0px",3,"for"],["picker",""],["formControlName","maritalStatus","required",""],["formControlName","gender","required","",3,"selectionChange"],["formControlName","nationality","required",""],["fxFlex","90%","type","email","matInput","","formControlName","primaryEmailAdress","required",""],["fxFlex","10%","class","verification",3,"click",4,"ngIf"],["fxFlex","90%","type","text","onlyNumber","","maxlength","10","minlength","10","matInput","","formControlName","phoneNumber","required","","maxlength","10"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[1,"errorClass"],["fxFlex","10%",1,"verification",3,"click"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"mat-icon",1),c.fc("click",function(){return e.close()}),c.Tc(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h5",2),c.Tc(4,"Primary Information"),c.Wb(),c.Xb(5,"mat-dialog-content"),c.Xb(6,"form",3),c.Xb(7,"div",4),c.Xb(8,"div",5),c.Xb(9,"mat-hint",6),c.Tc(10,"Prefix*"),c.Wb(),c.Xb(11,"mat-card",7),c.Xb(12,"mat-select",8),c.fc("selectionChange",function(t){return e.onChangePrefix(t)}),c.Xb(13,"mat-option",9),c.Tc(14,"Select"),c.Wb(),c.Rc(15,v,2,2,"mat-option",10),c.Wb(),c.Wb(),c.Rc(16,X,2,0,"mat-error",11),c.Wb(),c.Xb(17,"div",12),c.Xb(18,"mat-hint",6),c.Tc(19,"First Name*"),c.Wb(),c.Xb(20,"mat-card",13),c.Xb(21,"input",14),c.fc("keypress",function(t){return e.letterOnly(t)}),c.Wb(),c.Wb(),c.Rc(22,x,2,0,"mat-error",11),c.Wb(),c.Xb(23,"div",12),c.Xb(24,"mat-hint",6),c.Tc(25,"Middle Name"),c.Wb(),c.Xb(26,"mat-card",13),c.Xb(27,"input",15),c.fc("keypress",function(t){return e.letterOnly(t)}),c.Wb(),c.Wb(),c.Wb(),c.Xb(28,"div",12),c.Xb(29,"mat-hint",6),c.Tc(30,"Last Name"),c.Wb(),c.Xb(31,"mat-card",13),c.Xb(32,"input",16),c.fc("keypress",function(t){return e.letterOnly(t)}),c.Wb(),c.Wb(),c.Rc(33,I,2,0,"mat-error",11),c.Wb(),c.Xb(34,"div",17),c.Xb(35,"mat-hint",6),c.Tc(36,"Date of Birth*"),c.Wb(),c.Xb(37,"mat-card",13),c.Xb(38,"div",18),c.Sb(39,"input",19),c.Wb(),c.Xb(40,"div",20),c.Sb(41,"mat-datepicker-toggle",21),c.Wb(),c.Wb(),c.Rc(42,S,2,0,"mat-error",11),c.Sb(43,"mat-datepicker",null,22),c.Wb(),c.Xb(45,"div",12),c.Xb(46,"mat-hint",6),c.Tc(47,"Marital Status*"),c.Wb(),c.Xb(48,"mat-card",13),c.Xb(49,"mat-select",23),c.Xb(50,"mat-option",9),c.Tc(51,"Select"),c.Wb(),c.Rc(52,E,2,2,"mat-option",10),c.Wb(),c.Wb(),c.Rc(53,T,2,0,"mat-error",11),c.Wb(),c.Xb(54,"div",12),c.Xb(55,"mat-hint",6),c.Tc(56,"Gender*"),c.Wb(),c.Xb(57,"mat-card",13),c.Xb(58,"mat-select",24),c.fc("selectionChange",function(t){return e.onChangeGender(t)}),c.Xb(59,"mat-option",9),c.Tc(60,"Select"),c.Wb(),c.Rc(61,R,2,2,"mat-option",10),c.Wb(),c.Wb(),c.Rc(62,C,2,0,"mat-error",11),c.Rc(63,O,2,0,"mat-error",11),c.Wb(),c.Xb(64,"div",12),c.Xb(65,"mat-hint",6),c.Tc(66,"Nationality*"),c.Wb(),c.Xb(67,"mat-card",13),c.Xb(68,"mat-select",25),c.Xb(69,"mat-option",9),c.Tc(70,"Select"),c.Wb(),c.Rc(71,N,2,2,"mat-option",10),c.Wb(),c.Wb(),c.Rc(72,P,2,0,"mat-error",11),c.Wb(),c.Xb(73,"div",12),c.Xb(74,"mat-hint",6),c.Tc(75,"Primary Email*"),c.Wb(),c.Xb(76,"mat-card",13),c.Sb(77,"input",26),c.Rc(78,D,2,1,"mat-hint",27),c.Wb(),c.Rc(79,A,2,0,"mat-error",11),c.Rc(80,F,2,0,"mat-error",11),c.Wb(),c.Xb(81,"div",12),c.Xb(82,"mat-hint",6),c.Tc(83,"Mobile Number*"),c.Wb(),c.Xb(84,"mat-card",13),c.Sb(85,"input",28),c.Rc(86,_,2,1,"mat-hint",27),c.Wb(),c.Rc(87,w,2,0,"mat-error",11),c.Rc(88,k,2,0,"mat-error",11),c.Rc(89,U,2,0,"mat-error",11),c.Rc(90,L,2,0,"mat-error",11),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(91,"div",29),c.Xb(92,"button",30),c.fc("click",function(){return e.onSubmit()}),c.Tc(93,"Save"),c.Wb(),c.Tc(94," \xa0\xa0\xa0 "),c.Xb(95,"button",31),c.fc("click",function(){return e.close()}),c.Tc(96," Cancel "),c.Wb(),c.Wb()),2&t){const t=c.Dc(44);c.Eb(6),c.rc("formGroup",e.primaryInfoForm),c.Eb(9),c.rc("ngForOf",e.arrayPrefix),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("prefix").touched&&!e.primaryInfoForm.get("prefix").valid),c.Eb(6),c.rc("ngIf",e.primaryInfoForm.get("firstName")&&e.primaryInfoForm.get("firstName").touched&&!e.primaryInfoForm.get("firstName").valid),c.Eb(11),c.rc("ngIf",e.primaryInfoForm.get("lastName")&&e.primaryInfoForm.get("lastName").touched&&!e.primaryInfoForm.get("lastName").valid),c.Eb(6),c.rc("matDatepicker",t)("max",e.maxDate),c.Eb(2),c.rc("for",t),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("dateOfBirth")&&e.primaryInfoForm.get("dateOfBirth").touched&&!e.primaryInfoForm.get("dateOfBirth").valid),c.Eb(10),c.rc("ngForOf",e.arrayMaritalStatus),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("maritalStatus")&&e.primaryInfoForm.get("maritalStatus").touched&&!e.primaryInfoForm.get("maritalStatus").valid),c.Eb(8),c.rc("ngForOf",e.arrayGender),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("gender")&&e.primaryInfoForm.get("gender").touched&&!e.primaryInfoForm.get("gender").valid),c.Eb(1),c.rc("ngIf",e.prefixFlag),c.Eb(8),c.rc("ngForOf",e.nationalityArray),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("nationality")&&e.primaryInfoForm.get("nationality").touched&&!e.primaryInfoForm.get("nationality").valid),c.Eb(6),c.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").valid),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress")&&e.primaryInfoForm.get("primaryEmailAdress").touched&&!e.primaryInfoForm.get("primaryEmailAdress").valid),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").hasError("pattern")),c.Eb(6),c.rc("ngIf",e.primaryInfoForm.get("phoneNumber").valid),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("phoneNumber").touched&&!e.primaryInfoForm.get("phoneNumber").valid&&!e.primaryInfoForm.get("phoneNumber").hasError("minlength")),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("required")&&e.primaryInfoForm.get("phoneNumber").touched),c.Eb(1),c.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("pattern")),c.Eb(1),c.rc("ngIf","0000000000"==e.primaryInfoForm.get("phoneNumber").value),c.Eb(2),c.rc("disabled",e.primaryInfoForm.invalid)}},directives:[b.e,b.d,d.a,n.h,n.e,s.A,s.s,s.j,u.f,m.a,p.a,s.r,s.i,s.y,f.n,o.m,o.n,b.b,g.b,s.c,h.e,h.g,u.j,h.d,y.a,s.m,s.n,b.f,W.b,u.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}"]}),t})();function j(t,e){1&t&&(c.Xb(0,"h2",32),c.Tc(1,"Comminucation Address"),c.Wb())}function z(t,e){1&t&&(c.Xb(0,"h2"),c.Tc(1,"Permanent Address"),c.Wb())}function V(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),c.Wb())}function B(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),c.Wb())}function J(t,e){if(1&t&&(c.Xb(0,"mat-option",34),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function q(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0\xa0 Select Residence Type "),c.Wb())}function $(t,e){if(1&t&&(c.Xb(0,"mat-option",34),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function G(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0\xa0 Select Country "),c.Wb())}function Y(t,e){if(1&t&&(c.Xb(0,"mat-option",34),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t.stateName),c.Eb(1),c.Vc(" ",t.stateName," ")}}function H(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0\xa0 Please Select State "),c.Wb())}function K(t,e){if(1&t&&(c.Xb(0,"mat-option",34),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function Z(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0\xa0 Please Select City "),c.Wb())}function Q(t,e){1&t&&(c.Xb(0,"mat-error",33),c.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!(5-10 digits) "),c.Wb())}function tt(t,e){1&t&&(c.Xb(0,"h5",35),c.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!"),c.Wb())}function et(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div"),c.Xb(1,"div",8),c.Rc(2,j,2,0,"h2",9),c.Rc(3,z,2,0,"h2",10),c.Xb(4,"div",11),c.Xb(5,"div",12),c.Xb(6,"mat-hint",13),c.Tc(7,"Address Line 1 *"),c.Wb(),c.Xb(8,"mat-card",14),c.Sb(9,"textarea",15),c.Wb(),c.Rc(10,V,2,0,"mat-error",16),c.Wb(),c.Xb(11,"div",12),c.Xb(12,"mat-hint",13),c.Tc(13,"Address Line 2 *"),c.Wb(),c.Xb(14,"mat-card",14),c.Sb(15,"textarea",17),c.Wb(),c.Rc(16,B,2,0,"mat-error",16),c.Wb(),c.Xb(17,"div",12),c.Xb(18,"mat-hint",13),c.Tc(19,"Residence Type *"),c.Wb(),c.Xb(20,"mat-card",14),c.Xb(21,"mat-select",18),c.Xb(22,"mat-option",19),c.Tc(23," Select"),c.Wb(),c.Rc(24,J,2,2,"mat-option",20),c.Wb(),c.Wb(),c.Rc(25,q,2,0,"mat-error",21),c.Wb(),c.Xb(26,"div",12),c.Xb(27,"mat-hint",13),c.Tc(28,"Country *"),c.Wb(),c.Xb(29,"mat-card",14),c.Xb(30,"mat-select",22,23),c.fc("selectionChange",function(e){return c.Hc(t),c.jc().getStateName(e.value,"Communication")})("selectionChange",function(e){return c.Hc(t),c.jc().getCityName(e.value)}),c.Xb(32,"mat-option",19),c.Tc(33," Select"),c.Wb(),c.Rc(34,$,2,2,"mat-option",20),c.Wb(),c.Wb(),c.Rc(35,G,2,0,"mat-error",24),c.Wb(),c.Xb(36,"div",12),c.Xb(37,"mat-hint",13),c.Tc(38,"State*"),c.Wb(),c.Xb(39,"mat-card",14),c.Xb(40,"mat-select",25,26),c.fc("selectionChange",function(e){return c.Hc(t),c.jc().getCityName(e.value,"Communication")}),c.Xb(42,"mat-option",19),c.Tc(43,"Select "),c.Wb(),c.Rc(44,Y,2,2,"mat-option",20),c.Wb(),c.Wb(),c.Rc(45,H,2,0,"mat-error",16),c.Wb(),c.Xb(46,"div",12),c.Xb(47,"mat-hint",13),c.Tc(48,"City*"),c.Wb(),c.Xb(49,"mat-card",14),c.Xb(50,"mat-select",27,28),c.Xb(52,"mat-option",19),c.Tc(53,"Select "),c.Wb(),c.Rc(54,K,2,2,"mat-option",20),c.Wb(),c.Wb(),c.Rc(55,Z,2,0,"mat-error",16),c.Wb(),c.Xb(56,"div",12),c.Xb(57,"mat-hint",13),c.Tc(58,"Zip Code*"),c.Wb(),c.Xb(59,"mat-card",14),c.Xb(60,"input",29,30),c.fc("keyup",function(i){c.Hc(t);const r=e.index;return c.jc().isAllSameDigit(i,r)}),c.Wb(),c.Wb(),c.Rc(62,Q,2,0,"mat-error",24),c.Rc(63,tt,2,0,"h5",31),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit,i=e.index,r=c.jc();c.Eb(1),c.rc("formGroupName",i),c.Eb(1),c.rc("ngIf",0==i),c.Eb(1),c.rc("ngIf",i>0),c.Eb(7),c.rc("ngIf",t.controls.address1&&t.controls.address1.touched&&!t.controls.address1.valid||t.controls.address1.touched&&t.controls.address1.hasError("pattern")),c.Eb(6),c.rc("ngIf",t.controls.address2&&t.controls.address2.touched&&!t.controls.address2.valid||t.controls.address2.touched&&t.controls.address2.hasError("pattern")),c.Eb(8),c.rc("ngForOf",r.arrayResidence),c.Eb(1),c.rc("ngIf",t.controls.residenceType&&t.controls.residenceType.touched&&!t.controls.residenceType.valid),c.Eb(9),c.rc("ngForOf",r.arrayCountry),c.Eb(1),c.rc("ngIf",t.controls.country&&t.controls.country.touched&&!t.controls.country.valid),c.Eb(9),c.rc("ngForOf",r.arrayState),c.Eb(1),c.rc("ngIf",t.controls.state&&t.controls.state.touched&&!t.controls.state.valid),c.Eb(9),c.rc("ngForOf",r.arrayCity),c.Eb(1),c.rc("ngIf",t.controls.city&&t.controls.city.touched&&!t.controls.city.valid),c.Eb(7),c.rc("ngIf",t.controls.zipCode&&t.controls.zipCode.touched&&!t.controls.zipCode.valid),c.Eb(1),c.rc("ngIf",r.isAllSameDigitVal&&i==r.zipCodeIndex)}}let it=(()=>{class t{constructor(t,e,i,r,a,n,o){this.dialogRef=t,this.contactInfo=e,this.formBuilder=i,this.ls=r,this.apiService=a,this.snack=n,this.cdr=o,this.userAddress_array=new s.d([]),this.arrayCity=[],this.arrayState=[],this.arrayCityPerm=[],this.arrayStatePerm=[],this.arrayCountryPerm=[],this.arrayCountry=[]}ngOnInit(){if(console.log(this.contactInfo),this.customerId=this.ls.getItem("customerId"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.contactInfo){this.buildContactInfoForm(),this.userAddress_array=this.contactInfoUpdateForm.get("userAddress_array");for(let t=0;t<this.contactInfo.length;t++)this.getStateName(this.contactInfo[t].country,this.contactInfo[t].addressType),this.getCityName(),this.userAddress_array.push(this.createUserAddress(this.contactInfo[t]))}else this.buildContactInfoForm(),this.userAddress_array.push(this.createUserAddress())}buildContactInfoForm(){this.contactInfoUpdateForm=this.formBuilder.group({userAddress_array:this.formBuilder.array([])})}createUserAddress(t){return this.formBuilder.group({addressType:["Communication",[s.z.required]],address1:[t?t.address1:[""],[s.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[s.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountryPerm.push(t[e].countryName))})}getStateName(t,e){this.apiService.getAllCountries().subscribe(i=>{for(let r=0;r<i.length;r++)if(i[r].countryName==t){this.apiService.getStateByCountryId(i[r].id).subscribe(t=>{"Communication"===e?this.arrayState=t:"Permanent"===e&&(this.arrayStatePerm=t)});break}})}getCityName(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>{this.arrayCity.push(t.cityName)}))}onSubmit(){var t={};t.customerId=this.customerId,t.userAddress=this.userAddress_array.value,t.userAddress&&2==t.userAddress.length&&(t.userAddress[1].addressType="Permanent"),this.apiService.insertNewUserOnboarding(t).subscribe(e=>{this.dialogRef.close({status:"INITIATED",resp:t.userAddress})},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}isAllSameDigit(t,e){console.log("zipIndex :: ",e),this.zipCodeIndex=e,this.cdr.detectChanges();let i=0,r=t.target.value;if(""!=r){for(var a=0;a<r.length;a++)0==r[a]&&i++;console.log("number :: ",r),console.log("isAllSameDigitVal :: ",i,r.length),i==r.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(n.g),c.Rb(n.a),c.Rb(s.f),c.Rb(a.a),c.Rb(r.b),c.Rb(l.a),c.Rb(c.h))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-update-contact-info"]],decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["formArrayName","userAddress_array","fxLayout","row wrap",1,"full-width"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row wrap",1,"full-width",3,"formGroupName"],["style","font-size: 18px;",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","address1","formControlName","address1","maxlength","255","required",""],["style","color: errorColor;",4,"ngIf"],["matInput","","name","address2","formControlName","address2","maxlength","255","required",""],["name","residenceType","formControlName","residenceType","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","color: errorColor",4,"ngIf"],["name","country","formControlName","country","required","",3,"selectionChange"],["country",""],["style","color: errorColor; ",4,"ngIf"],["name","state","required","","formControlName","state",1,"full-width","default-background",3,"selectionChange"],["state",""],["name","city","required","","formControlName","city",1,"full-width","default-background"],["city",""],["type","text","matInput","","name","zipCode","onlyNumber","","required","","minlength","5","maxlength","10","formControlName","zipCode",1,"full-width","default-background",3,"keyup"],["zipCode",""],["style","color: #E74C3C;",4,"ngIf"],[2,"font-size","18px"],[2,"color","errorColor"],[3,"value"],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"mat-icon",1),c.fc("click",function(){return e.close()}),c.Tc(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h1"),c.Tc(4,"Contact Information"),c.Wb(),c.Xb(5,"mat-dialog-content"),c.Xb(6,"form",2),c.Xb(7,"div",3),c.Rc(8,et,64,15,"div",4),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",5),c.Xb(10,"button",6),c.fc("click",function(){return e.onSubmit()}),c.Tc(11,"Save"),c.Wb(),c.Tc(12," \xa0\xa0\xa0 "),c.Xb(13,"button",7),c.fc("click",function(){return e.close()}),c.Tc(14," Cancel "),c.Wb(),c.Wb()),2&t&&(c.Eb(6),c.rc("formGroup",e.contactInfoUpdateForm),c.Eb(2),c.rc("ngForOf",e.contactInfoUpdateForm.get("userAddress_array").controls),c.Eb(2),c.rc("disabled",e.contactInfoUpdateForm.invalid))},directives:[b.e,b.d,d.a,n.e,s.A,s.s,s.j,s.e,o.m,b.f,W.b,s.k,o.n,b.b,u.f,m.a,g.b,s.c,s.r,s.i,s.m,s.y,p.a,f.n,y.a,s.n,u.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var rt=i("ZbbW"),at=i("35u7");let nt=(()=>{class t{constructor(t,e,i,r,a){this.ls=t,this.data=e,this.formBuilder=i,this.dialogRef=r,this.doOcrService=a,this.screenInfo={screenName:"onboarding",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}ngOnInit(){this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"onboarding",data:this.data,customerId:this.customerId,isEdit:!0},this.doOcrService.getenableNext().subscribe(t=>{console.log("data disableNextAtIndex1 :: ",t),this.disableNextAtIndex1=t})}createDocItemOthers(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}onSubmit(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(a.a),c.Rb(n.a),c.Rb(s.f),c.Rb(n.g),c.Rb(rt.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-update-proof-of-identity"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"mat-icon",1),c.fc("click",function(){return e.close()}),c.Tc(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h3",2),c.Tc(4,"Proof Of Identity"),c.Wb(),c.Xb(5,"mat-card"),c.Sb(6,"app-genric-document-upload",3),c.Wb(),c.Xb(7,"div",4),c.Xb(8,"button",5),c.fc("click",function(){return e.onSubmit()}),c.Tc(9,"Save"),c.Wb(),c.Tc(10," \xa0\xa0\xa0 "),c.Xb(11,"button",6),c.fc("click",function(){return e.close()}),c.Tc(12," Cancel "),c.Wb(),c.Wb()),2&t&&(c.Eb(6),c.rc("screenInfo",e.screenInfo),c.Eb(2),c.rc("disabled",e.disableNextAtIndex1))},directives:[b.e,b.d,d.a,m.a,at.a,b.f,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function ot(t,e){if(1&t&&(c.Xb(0,"mat-option",19),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function st(t,e){1&t&&(c.Xb(0,"mat-error"),c.Tc(1," \xa0 \xa0 Select Employment Type "),c.Wb())}function ct(t,e){if(1&t&&(c.Xb(0,"mat-option",19),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function lt(t,e){1&t&&(c.Xb(0,"mat-error"),c.Tc(1," \xa0 \xa0 Select Employment Name "),c.Wb())}function bt(t,e){1&t&&(c.Xb(0,"mat-error"),c.Tc(1," \xa0 \xa0 Enter the Employer Name "),c.Wb())}function dt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",4),c.Xb(1,"mat-hint",5),c.Tc(2," Other Employer Name*"),c.Wb(),c.Xb(3,"mat-card",6),c.Xb(4,"input",20),c.fc("keypress",function(e){return c.Hc(t),c.jc().letterOnly(e)}),c.Wb(),c.Wb(),c.Rc(5,bt,2,0,"mat-error",10),c.Wb()}if(2&t){const t=c.jc();c.Eb(5),c.rc("ngIf",t.additionalInfoUpdateForm.controls.otherEmployerName&&t.additionalInfoUpdateForm.controls.otherEmployerName.touched&&!t.additionalInfoUpdateForm.controls.otherEmployerName.valid)}}function ut(t,e){if(1&t&&(c.Xb(0,"mat-option",19),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}let mt=(()=>{class t{constructor(t,e,i,r,a){this.additionalInfo=t,this.dialogRef=e,this.formBuilder=i,this.apiService=r,this.ls=a,this.kycList=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED","VERIFIED"]}ngOnInit(){console.log(this.additionalInfo),this.customerId=this.ls.getItem("customerId"),this.getEmploymentType("employment_type"),this.getEmployerName("employer_name"),this.additionalInfo?(this.buildAdditionalInfoForm(this.additionalInfo),this.OnInput(this.additionalInfoUpdateForm.get("salary").value)):this.buildAdditionalInfoForm()}buildAdditionalInfoForm(t){this.additionalInfoUpdateForm=this.formBuilder.group({employmentType:[t?t.employmentType:"",[s.z.required]],employerName:[t?t.employerName:"",[s.z.required]],otherEmployerName:[t?t.otherEmployerName:""],salary:[t?t.salary:"",[s.z.required]],kycReference:[t?t.kycReference:"",[s.z.required]],kycStatus:[t?t.kycStatus:"",[s.z.required]]})}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t,console.log(this.arrayEmploymentType)})}getEmployerName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmployerName=t})}OnInput(t){let e=t.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let i=e.join(".");console.log("final",i),this.additionalInfoUpdateForm.controls.salary.setValue(i)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}onSubmit(){let t={};t.customerId=this.customerId,t.customerAdditionalInfo=this.additionalInfoUpdateForm.value,t.customerAdditionalInfo.salary=t.customerAdditionalInfo.salary.replaceAll(",",""),this.apiService.insertNewUserOnboarding(t).subscribe(t=>{console.log(t),this.dialogRef.close({status:"INITIATED",resp:this.additionalInfoUpdateForm.value})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(n.a),c.Rb(n.g),c.Rb(s.f),c.Rb(r.b),c.Rb(a.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-update-additional-info"]],decls:57,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],[2,"font-size","18px"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","employmentType","required","","formControlName","employmentType"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employerName","formControlName","employerName","required",""],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["type","text","formControlName","salary","maxLength","14","required","","matInput","","name","salary",3,"keypress","keyup"],["readonly","true","type","text","formControlName","kycReference","matInput","","name","kycReference","maxLength","4"],["formControlName","kycStatus","read",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["required","","type","text","matInput","","formControlName","otherEmployerName",3,"keypress"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"mat-icon",1),c.fc("click",function(){return e.close()}),c.Tc(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h1"),c.Tc(4,"Additional Information"),c.Wb(),c.Xb(5,"mat-dialog-content"),c.Xb(6,"form",2),c.Xb(7,"div"),c.Xb(8,"h3",3),c.Tc(9,"Employment Information"),c.Wb(),c.Xb(10,"div"),c.Xb(11,"div",4),c.Xb(12,"mat-hint",5),c.Tc(13,"Employment Type*"),c.Wb(),c.Xb(14,"mat-card",6),c.Xb(15,"mat-select",7),c.Xb(16,"mat-option",8),c.Tc(17,"Select"),c.Wb(),c.Rc(18,ot,2,2,"mat-option",9),c.Wb(),c.Wb(),c.Rc(19,st,2,0,"mat-error",10),c.Wb(),c.Xb(20,"div",4),c.Xb(21,"mat-hint",5),c.Tc(22,"Employer Name*"),c.Wb(),c.Xb(23,"mat-card",6),c.Xb(24,"mat-select",11),c.Xb(25,"mat-option",8),c.Tc(26,"Select"),c.Wb(),c.Rc(27,ct,2,2,"mat-option",9),c.Wb(),c.Wb(),c.Rc(28,lt,2,0,"mat-error",10),c.Wb(),c.Rc(29,dt,6,1,"div",12),c.Xb(30,"div",4),c.Xb(31,"mat-hint",5),c.Tc(32,"Salary*"),c.Wb(),c.Xb(33,"mat-card",6),c.Xb(34,"input",13),c.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.OnInput(t.target.value)}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(35,"h3",3),c.Tc(36,"KYC Information"),c.Wb(),c.Xb(37,"div"),c.Xb(38,"div",4),c.Xb(39,"mat-hint",5),c.Tc(40,"KYC Reference"),c.Wb(),c.Xb(41,"mat-card",6),c.Sb(42,"input",14),c.Wb(),c.Wb(),c.Xb(43,"div",4),c.Xb(44,"mat-hint",5),c.Tc(45,"KYC Status"),c.Wb(),c.Xb(46,"mat-card",6),c.Xb(47,"mat-select",15),c.Xb(48,"mat-option",8),c.Tc(49,"Select "),c.Wb(),c.Rc(50,ut,2,2,"mat-option",9),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(51,"div",16),c.Xb(52,"button",17),c.fc("click",function(){return e.onSubmit()}),c.Tc(53,"Save"),c.Wb(),c.Tc(54,"\n\xa0\xa0\xa0\n"),c.Xb(55,"button",18),c.fc("click",function(){return e.close()}),c.Tc(56,"\nCancel\n"),c.Wb(),c.Wb()),2&t&&(c.Eb(6),c.rc("formGroup",e.additionalInfoUpdateForm),c.Eb(12),c.rc("ngForOf",e.arrayEmploymentType),c.Eb(1),c.rc("ngIf",e.additionalInfoUpdateForm.controls.employmentType&&e.additionalInfoUpdateForm.controls.employmentType.touched&&!e.additionalInfoUpdateForm.controls.employmentType.valid),c.Eb(8),c.rc("ngForOf",e.arrayEmployerName),c.Eb(1),c.rc("ngIf",e.additionalInfoUpdateForm.controls.employerName&&e.additionalInfoUpdateForm.controls.employerName.touched&&!e.additionalInfoUpdateForm.controls.employerName.valid),c.Eb(1),c.rc("ngIf","Others"==(null==e.additionalInfoUpdateForm.controls.employerName?null:e.additionalInfoUpdateForm.controls.employerName.value)),c.Eb(21),c.rc("ngForOf",e.kycList),c.Eb(2),c.rc("disabled",e.additionalInfoUpdateForm.invalid))},directives:[b.e,b.d,d.a,n.e,s.A,s.s,s.j,b.b,u.f,m.a,p.a,s.y,s.r,s.i,f.n,o.m,o.n,s.c,g.b,b.f,W.b,u.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var pt=i("IheW"),ft=i("laYw"),gt=i("zdtB"),ht=i("JVXa");function yt(t,e){if(1&t&&(c.Xb(0,"mat-option",18),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("value",t),c.Eb(1),c.Vc(" ",t," ")}}function Wt(t,e){1&t&&(c.Xb(0,"mat-error"),c.Tc(1," \xa0 \xa0 Enter No of Signatures "),c.Wb())}function vt(t,e){1&t&&(c.Xb(0,"div"),c.Sb(1,"img",31),c.Wb()),2&t&&(c.Eb(1),c.rc("src","assets/images/no-image.jpg",c.Jc))}function Xt(t,e){if(1&t&&c.Sb(0,"img",32),2&t){const t=c.jc().$implicit;c.rc("src",t.value.imageURL1,c.Jc)}}function xt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div"),c.Xb(1,"div",19),c.Xb(2,"div",20),c.Xb(3,"div",6),c.Xb(4,"div",21),c.Xb(5,"div"),c.Xb(6,"div",22),c.Xb(7,"div"),c.Xb(8,"button",23),c.fc("click",function(){c.Hc(t);const i=e.$implicit,r=e.index;return c.jc().openPopUp(i.value,r)}),c.Tc(9,"Digital Sign"),c.Wb(),c.Xb(10,"button",24),c.Tc(11," Upload "),c.Xb(12,"input",25),c.fc("change",function(i){c.Hc(t);const r=e.$implicit,a=e.index;return c.jc().onFileSelect(r.value,i,a)}),c.Wb(),c.Wb(),c.Wb(),c.Xb(13,"div",26),c.Rc(14,vt,2,1,"div",27),c.Rc(15,Xt,1,1,"ng-template",null,28,c.Sc),c.Wb(),c.Xb(17,"button",29),c.fc("click",function(){c.Hc(t);const i=e.$implicit,r=e.index;return c.jc().deleteSignature(i.value,r,"delete")}),c.Xb(18,"mat-icon",30),c.Tc(19," delete "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.index,i=c.Dc(16),r=c.jc();c.Eb(1),c.rc("formGroupName",t),c.Eb(13),c.rc("ngIf","not_available"==r.imageURL1)("ngIfElse",i)}}let It=(()=>{class t{constructor(t,e,i,r,a,n,o,s,c,l){this.dialogRef=t,this.formBuilder=e,this.signatures=i,this.apiService=r,this.corporateService=a,this.ls=n,this.dialog=o,this.dialogService=s,this.snack=c,this.cdr=l,this.values=[1,2,3,4,5],this.listOfSignatures=[],this.progressValOthers=0,this.deleteRecord=[]}ngOnInit(){if(this.ls.getItem("corporateId"),this.signatures){this.buildSignatureForm(),this.noOfSignSelect=this.signatures.length,this.signatureUpdateForm.get("noOfSignatures").setValue(this.signatures.length);for(let t=0;t<this.signatures.length;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(this.signatures[t]))}}buildSignatureForm(t){this.signatureUpdateForm=this.formBuilder.group({noOfSignatures:[t?t.noOfSignatures:"",[s.z.required]],sign_array:this.formBuilder.array([])})}createSignatureBoxes(t){return this.formBuilder.group({accountSignatureId:t?t.accountSignatureId:0,imageURL1:[t?t.fileUrl:"assets/images/no-image.jpg",s.z.required],documentName:t?t.documentName:"Signature",documentType:t?t.documentType:"",fileType:t.fileType,fileName:t.fileName,verificationType:t?t.verificationType:"New Customer Signature"})}get getSignArray(){return this.signatureUpdateForm.get("sign_array")}changeValue(t){let e;if(this.noOfSignSelect=t.value,this.enableButton=!1,null==this.signatureUpdateForm.get("sign_array")||null==this.getSignArray)if(0!=this.signatureUpdateForm.get("sign_array").length){if(this.noOfSignSelect>this.signatureUpdateForm.get("sign_array").length){var i=this.noOfSignSelect-this.signatureUpdateForm.get("sign_array").length;for(let t=0;t<i;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}else if(this.noOfSignSelect<this.signatureUpdateForm.get("sign_array").length){i=this.signatureUpdateForm.get("sign_array").length-this.noOfSignSelect;for(let t=0;t<i;t++)this.signatureUpdateForm.get("sign_array").controls.pop()}}else for(let r=0;r<t.value;r++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(0==this.getSignArray.length)for(let r=0;r<t.value;r++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(t.value<this.getSignArray.length)this.dialogService.doConfirmDialog("Are you sure, value is less than no. of signs?").subscribe(i=>{if("Yes"===i){e=this.getSignArray.length;for(let i=e;i>=t.value;i--)this.removeSign(i),i>t.value&&this.deleteSignature(this.signatureUpdateForm.get("sign_array").at(i-1).value,i,"noOfSignChange",t.value)}});else if(t.value>this.getSignArray.length){console.log("2nd if",t.value),this.difference=t.value-this.getSignArray.length;for(let t=0;t<this.difference;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}}removeSign(t){this.signatureUpdateForm.get("sign_array").removeAt(t)}deleteSignature(t,e,i,r){"delete"===i?this.dialogService.doConfirmDialog("").subscribe(r=>{"Yes"===r?(console.log("yes => ",r),this.confirmDelete(t,e,i,this.signatureUpdateForm.controls.noOfSignatures.value-1)):console.log("no => ",r)}):this.confirmDelete(t,e,i,this.signatureUpdateForm.controls.noOfSignatures.value-1)}confirmDelete(t,e,i,r){this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(i=>{if(console.log(i),this.listOfSignatures=i||[],this.deleteRecord=i,this.apiService.getSignData().subscribe(t=>{this.signatureUpdateForm.get("sign_array").controls[e].accountSignatureId=t.uploadModel.accountSignatureId}),t.imageURL1.toString().includes("no-image.jpg"))return this.signatureUpdateForm.get("sign_array").controls.splice(e,1),this.signatureUpdateForm.controls.noOfSignatures.setValue(this.signatureUpdateForm.controls.noOfSignatures.value-1),this.noOfSignSelect=this.signatureUpdateForm.controls.noOfSignatures.value,void(this.enableButton=this.sign_array.length==this.signatureUpdateForm.controls.noOfSignatures.value);0!=this.deleteRecord[e].accountSignatureId&&null!=this.deleteRecord[e].accountSignatureId&&null!=this.deleteRecord[e].accountSignatureId&&""!=this.deleteRecord[e].accountSignatureId&&(this.apiService.deleteCustomerSign(this.deleteRecord[e].accountSignatureId).subscribe(t=>{},t=>{this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(t=>{this.listOfSignatures=t||[],this.sign_array=t,this.enableButton=this.sign_array.length==this.signatureUpdateForm.controls.noOfSignatures.value&&(0!==this.listOfSignatures.length||0!==this.signatureUpdateForm.controls.noOfSignatures.value)})}),this.signatureUpdateForm.get("sign_array").controls.splice(e,1),this.signatureUpdateForm.controls.noOfSignatures.setValue(this.signatureUpdateForm.controls.noOfSignatures.value-1),this.noOfSignSelect=this.signatureUpdateForm.controls.noOfSignatures.value)})}openPopUp(t,e,i){var r;this.signIndex=e,this.customerId=localStorage.getItem("customerId"),this.signCount=localStorage.getItem("noOfSign"),this.accountSignatureId=t.accountSignatureId?t.accountSignatureId:null,this.enableButton=!1,1==this.listOfSignatures.length&&0==e?this.accountSignatureId=this.listOfSignatures[e].accountSignatureId:e>=0&&this.listOfSignatures.length>1?this.accountSignatureId=(null===(r=this.listOfSignatures[e])||void 0===r?void 0:r.accountSignatureId)?this.listOfSignatures[e].accountSignatureId:0:(console.log("else"),this.accountSignatureId=0),this.show||this.dialog.open(gt.a,{width:"720px",disableClose:!0,data:{screen:"NewCustomerOnboarding",customerId:this.customerId,signCount:this.signatureUpdateForm.get("noOfSignatures").value,accountSignatureId:this.accountSignatureId,signatureType:"DigitalSign"}}).afterClosed().subscribe(t=>{null!=t.image?(this.enableButton=!0,this.signatureUpdateForm.get("sign_array").at(e).get("imageURL1").patchValue(t.image),this.show=!t.enable,this.getListOfSignatures(this.customerId,"Yes")):this.enableButton=!1})}getListOfSignatures(t,e){this.apiService.fetchSignatureInfo(t).subscribe(t=>{"Yes"===e&&(this.signatureUpdateForm.get("sign_array").controls[this.signIndex].accountSignatureId=t[t.length-1].accountSignatureId),this.listOfSignatures=t||[],this.cdr.detectChanges(),this.signatureUpdateForm.get("noOfSignatures").setValue(this.noOfSignSelect),this.enableButton=this.listOfSignatures.length==this.noOfSignSelect})}onFileSelect(t,e,i){if(this.apiService.fetchSignatureInfo(this.customerId).subscribe(t=>{}),this.selectedFiles=e.target.files[0],e.target.files){var r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onload=t=>{this.signatureimg=t.target.result,console.log(this.signatureimg,"Upload image")},console.log(this.signatureimg),this.uploadDoc(t,e.target.files[0],this.selectedFiles,i,e),console.log("sign array -- ",this.signatureUpdateForm.get("sign_array"))}}uploadDoc(t,e,i,r,a){if(a.target.files){var n=new FileReader;n.readAsDataURL(a.target.files[0]),n.onload=t=>{this.signatureimg=t.target.result,this.customerId=localStorage.getItem("customerId"),this.signCount=this.signatureUpdateForm.get("noOfSignatures").value;const a=new FormData,n=new FormData;1==this.listOfSignatures.length&&0==r?(console.log("if"),this.accountSignatureId=this.listOfSignatures[r].accountSignatureId):r>=0&&1!=this.listOfSignatures.length?(console.log(" else if"),this.accountSignatureId=this.listOfSignatures[r].accountSignatureId):(console.log("else"),this.accountSignatureId=0);const o={noOfSignatures:this.signCount,accountSignatureId:this.accountSignatureId,documentName:"Signature",customerId:this.customerId,documentType:"10",fileType:e.type,fileName:e.name,verificationType:"New Customer Signature",signatureType:"Uploaded Sign"};a.append("noOfSignatures",this.signCount),a.append("uploadModel",JSON.stringify(o)),a.append("file",i);const s='{"noOfSignatures":'+this.signCount+', "uploadModel":'+JSON.stringify(o)+" } ";n.append("data",s),n.append("file",i),this.signatureUpdateForm.get("sign_array").at(r).get("imageURL1").patchValue(this.signatureimg),this.uploadSub=this.apiService.uploadSignature(n).subscribe(t=>{null!==t&&(this.signatureUpdateForm.get("sign_array").at(r).get("accountSignatureId").patchValue(t.accountSignatureId),this.signatureUpdateForm.get("sign_array").at(r).get("documentName").patchValue(t.documentName),this.signatureUpdateForm.get("sign_array").at(r).get("documentType").patchValue(t.documentType),this.signatureUpdateForm.get("sign_array").at(r).get("fileType").patchValue(t.fileType),this.signatureUpdateForm.get("sign_array").at(r).get("fileName").patchValue(t.fileName),this.signatureUpdateForm.get("sign_array").at(r).get("verificationType").patchValue(t.verificationType),this.signatureUpdateForm.get("noOfSignatures").patchValue(t.noOfSignatures),console.log(this.signatureUpdateForm)),this.getListOfSignatures(this.customerId,"No"),t.type==pt.e.UploadProgress?this.progressValOthers=Math.round(t.loaded/t.total*100):t.type==pt.e.Response&&(this.progressValOthers=0)},t=>{201==t.status?this.shotToast("Document Uploaded!"):(this.signatureUpdateForm.get("sign_array").at(r).get("imageURL1").patchValue(""),this.shotToast(t.message))})}}}onSubmit(){this.snack.open("Signature Updated","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.signatureUpdateForm.get("sign_array").value,screen:"signatureUpload"})}shotToast(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(n.g),c.Rb(s.f),c.Rb(n.a),c.Rb(r.b),c.Rb(ht.a),c.Rb(a.a),c.Rb(n.b),c.Rb(ft.a),c.Rb(l.a),c.Rb(c.h))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-update-mandate-info"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[2,"font-size","16px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","36%","fxFlex.xs","100%"],[2,"padding-left","0.8rem","font-size","10px"],[1,"inputCard"],["name","noOfSignatures","formControlName","noOfSignatures","placeholder","Choose No. of Signatures","required","",1,"full-width","default-background",2,"font-size","16px","border","transparent",3,"selectionChange"],["noOfSignatures",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","sign_array"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],[1,"form"],[1,"flex-grow-2"],["appearence","outline",1,"scanButton",3,"click"],[1,"Upload","scanButton"],["type","file","accept","image/*","required","",1,"changeInput",3,"change"],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","",2,"margin-left","10px","margin-top","30px",3,"click"],[2,"color","red"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"mat-icon",1),c.fc("click",function(){return e.close()}),c.Tc(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h1",2),c.Tc(4,"Mandate Information"),c.Wb(),c.Xb(5,"mat-dialog-content"),c.Xb(6,"h3",3),c.Tc(7," Signatures "),c.Wb(),c.Xb(8,"form",4),c.Xb(9,"div",5),c.Xb(10,"div",6),c.Xb(11,"mat-hint",7),c.Tc(12," No. of Signatures* "),c.Wb(),c.Xb(13,"mat-card",8),c.Xb(14,"mat-select",9,10),c.fc("selectionChange",function(t){return e.changeValue(t)}),c.Rc(16,yt,2,2,"mat-option",11),c.Wb(),c.Wb(),c.Rc(17,Wt,2,0,"mat-error",12),c.Wb(),c.Wb(),c.Xb(18,"div",13),c.Rc(19,xt,20,3,"div",14),c.Wb(),c.Wb(),c.Wb(),c.Xb(20,"div",15),c.Xb(21,"button",16),c.fc("click",function(){return e.onSubmit()}),c.Tc(22,"Save"),c.Wb(),c.Tc(23," \xa0\xa0\xa0 "),c.Xb(24,"button",17),c.fc("click",function(){return e.close()}),c.Tc(25," Cancel "),c.Wb(),c.Wb()),2&t&&(c.Eb(8),c.rc("formGroup",e.signatureUpdateForm),c.Eb(8),c.rc("ngForOf",e.values),c.Eb(1),c.rc("ngIf",e.signatureUpdateForm.controls.noOfSignatures&&e.signatureUpdateForm.controls.noOfSignatures.touched&&!e.signatureUpdateForm.controls.noOfSignatures.valid),c.Eb(2),c.rc("ngForOf",e.signatureUpdateForm.get("sign_array").controls))},directives:[b.e,b.d,d.a,n.h,n.e,s.A,s.s,s.j,b.b,u.f,m.a,p.a,s.r,s.i,s.y,o.m,o.n,s.e,b.f,W.b,f.n,u.b,s.k],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}.padding[_ngcontent-%COMP%]{padding:10px}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.formImg[_ngcontent-%COMP%]{background-color:#f8f8f8}.closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var St=i("vSAV"),Et=i("nZzT"),Tt=i("cUpR"),Rt=i("pu8Q"),Ct=i("BSbQ"),Ot=i("ura0");function Nt(t,e){1&t&&c.Sb(0,"mat-spinner")}function Pt(t,e){if(1&t&&(c.Xb(0,"span",26),c.Tc(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Uc(t)}}function Dt(t,e){if(1&t&&(c.Xb(0,"div",27),c.Xb(1,"h1",28),c.Tc(2),c.kc(3,"slice"),c.kc(4,"uppercase"),c.kc(5,"slice"),c.kc(6,"uppercase"),c.Wb(),c.Wb()),2&t){const t=c.jc();c.Oc("background",t.customerColorCode),c.Eb(2),c.Wc("",c.nc(3,4,c.lc(4,8,t.dataResponse.dataResp.firstName),0,1),"",c.nc(5,10,c.lc(6,14,t.dataResponse.dataResp.lastName),0,1),"")}}function At(t,e){if(1&t&&c.Sb(0,"img",30),2&t){const t=c.jc(2);c.rc("src",t.imageUrl,c.Jc)}}function Ft(t,e){if(1&t&&(c.Xb(0,"div",27),c.Rc(1,At,1,1,"img",29),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.rc("ngIf",null!=t.image)}}function _t(t,e){if(1&t&&(c.Xb(0,"div",52),c.Xb(1,"mat-hint",50),c.Tc(2," Middle Name "),c.Wb(),c.Xb(3,"mat-card",51),c.Xb(4,"div"),c.Tc(5),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.jc(2);c.Eb(5),c.Uc(t.dataResponse.dataResp.middleName)}}function wt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",31),c.Xb(1,"div",32),c.Xb(2,"div",33),c.Tc(3,"1"),c.Wb(),c.Xb(4,"div",34),c.Tc(5,"\xa0"),c.Wb(),c.Wb(),c.Xb(6,"mat-card",35),c.Xb(7,"div",36),c.Xb(8,"div",37),c.Xb(9,"div",38),c.Xb(10,"h2",39),c.Tc(11,"Primary Information"),c.Wb(),c.Xb(12,"span"),c.Xb(13,"mat-icon",40),c.fc("click",function(){return c.Hc(t),c.jc().editPrimaryInfo()}),c.Tc(14,"edit"),c.Wb(),c.Wb(),c.Wb(),c.Sb(15,"mat-divider",41),c.Wb(),c.Xb(16,"div",42),c.Xb(17,"div",43),c.Xb(18,"div",44),c.Xb(19,"div",45),c.Xb(20,"div",46),c.Xb(21,"div",47),c.Xb(22,"div",48),c.Xb(23,"div",49),c.Xb(24,"mat-hint",50),c.Tc(25," Customer Id "),c.Wb(),c.Xb(26,"mat-card",51),c.Xb(27,"div"),c.Tc(28),c.Wb(),c.Wb(),c.Wb(),c.Xb(29,"div",49),c.Xb(30,"mat-hint",50),c.Tc(31," CIF Number "),c.Wb(),c.Xb(32,"mat-card",51),c.Xb(33,"div"),c.Tc(34),c.Wb(),c.Wb(),c.Wb(),c.Xb(35,"div",49),c.Xb(36,"mat-hint",50),c.Tc(37," Customer Status "),c.Wb(),c.Xb(38,"mat-card",51),c.Xb(39,"div"),c.Tc(40),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(41,"div",48),c.Xb(42,"div",52),c.Xb(43,"mat-hint",50),c.Tc(44," Prefix* "),c.Wb(),c.Xb(45,"mat-card",51),c.Xb(46,"div"),c.Tc(47),c.Wb(),c.Wb(),c.Wb(),c.Xb(48,"div",52),c.Xb(49,"mat-hint",50),c.Tc(50," First Name* "),c.Wb(),c.Xb(51,"mat-card",51),c.Xb(52,"div"),c.Tc(53),c.Wb(),c.Wb(),c.Wb(),c.Rc(54,_t,6,1,"div",53),c.Xb(55,"div",52),c.Xb(56,"mat-hint",50),c.Tc(57," Last Name* "),c.Wb(),c.Xb(58,"mat-card",51),c.Xb(59,"div"),c.Tc(60),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(61,"div",48),c.Xb(62,"div",52),c.Xb(63,"mat-hint",50),c.Tc(64," Gender* "),c.Wb(),c.Xb(65,"mat-card",51),c.Xb(66,"div"),c.Tc(67),c.Wb(),c.Wb(),c.Wb(),c.Xb(68,"div",52),c.Xb(69,"mat-hint",50),c.Tc(70," Date of Birth* "),c.Wb(),c.Xb(71,"mat-card",51),c.Xb(72,"div"),c.Tc(73),c.Wb(),c.Wb(),c.Wb(),c.Xb(74,"div",52),c.Xb(75,"mat-hint",50),c.Tc(76," Marital Status* "),c.Wb(),c.Xb(77,"mat-card",51),c.Xb(78,"div"),c.Tc(79),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(80,"div",42),c.Xb(81,"div",52),c.Xb(82,"mat-hint",50),c.Tc(83," Nationality*"),c.Wb(),c.Xb(84,"mat-card",51),c.Xb(85,"div"),c.Tc(86),c.Wb(),c.Wb(),c.Wb(),c.Xb(87,"div",52),c.Xb(88,"mat-hint",50),c.Tc(89," Mobile Number* "),c.Wb(),c.Xb(90,"mat-card",51),c.Xb(91,"div"),c.Tc(92),c.Wb(),c.Wb(),c.Wb(),c.Xb(93,"div",52),c.Xb(94,"mat-hint",50),c.Tc(95," Email* "),c.Wb(),c.Xb(96,"mat-card",51),c.Xb(97,"div"),c.Tc(98),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(99,"div",42),c.Xb(100,"div",52),c.Xb(101,"mat-hint",50),c.Tc(102," Modification No"),c.Wb(),c.Xb(103,"mat-card",51),c.Xb(104,"div"),c.Tc(105),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(13),c.rc("hidden",t.editScreen),c.Eb(15),c.Uc(t.dataResponse.dataResp.customerId),c.Eb(6),c.Uc(t.dataResponse.dataResp.cifNumber),c.Eb(6),c.Uc(t.dataResponse.dataResp.custStatus),c.Eb(7),c.Uc(t.dataResponse.dataResp.prefix),c.Eb(6),c.Uc(t.dataResponse.dataResp.firstName),c.Eb(1),c.rc("ngIf",t.dataResponse.dataResp.middleName),c.Eb(6),c.Uc(t.dataResponse.dataResp.lastName),c.Eb(7),c.Uc(t.dataResponse.dataResp.gender),c.Eb(6),c.Uc(t.dataResponse.dataResp.dateOfBirth),c.Eb(6),c.Uc(t.dataResponse.dataResp.maritalStatus),c.Eb(7),c.Uc(t.dataResponse.dataResp.nationality),c.Eb(6),c.Uc(t.dataResponse.dataResp.phoneNumber),c.Eb(6),c.Uc(t.dataResponse.dataResp.primaryEmailAdress),c.Eb(7),c.Uc(t.dataResponse.dataResp.modificationNo)}}function kt(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"div",42),c.Xb(2,"div",43),c.Xb(3,"div",58),c.Xb(4,"div",42),c.Xb(5,"div",59),c.Xb(6,"h2",60),c.Tc(7),c.Wb(),c.Wb(),c.Wb(),c.Xb(8,"div",42),c.Xb(9,"div",61),c.Xb(10,"mat-hint",50),c.Tc(11," Address Line 1* "),c.Wb(),c.Xb(12,"mat-card",51),c.Xb(13,"div"),c.Tc(14),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"div",61),c.Xb(16,"mat-hint",50),c.Tc(17," Address Line 2* "),c.Wb(),c.Xb(18,"mat-card",51),c.Xb(19,"div"),c.Tc(20),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(21,"div",42),c.Xb(22,"div",62),c.Xb(23,"mat-hint",50),c.Tc(24," Country* "),c.Wb(),c.Xb(25,"mat-card",51),c.Xb(26,"div"),c.Tc(27),c.Wb(),c.Wb(),c.Wb(),c.Xb(28,"div",62),c.Xb(29,"mat-hint",50),c.Tc(30," State* "),c.Wb(),c.Xb(31,"mat-card",51),c.Xb(32,"div"),c.Tc(33),c.Wb(),c.Wb(),c.Wb(),c.Xb(34,"div",62),c.Xb(35,"mat-hint",50),c.Tc(36," City* "),c.Wb(),c.Xb(37,"mat-card",51),c.Xb(38,"div"),c.Tc(39),c.Wb(),c.Wb(),c.Wb(),c.Xb(40,"div",62),c.Xb(41,"mat-hint",50),c.Tc(42," Zipcode* "),c.Wb(),c.Xb(43,"mat-card",51),c.Xb(44,"div"),c.Tc(45),c.Wb(),c.Wb(),c.Wb(),c.Xb(46,"div",62),c.Xb(47,"mat-hint",50),c.Tc(48," Residence Type* "),c.Wb(),c.Xb(49,"mat-card",51),c.Xb(50,"div"),c.Tc(51),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=e.$implicit;c.Eb(7),c.Uc(t.addressType),c.Eb(7),c.Uc(t.address1),c.Eb(6),c.Uc(t.address2),c.Eb(7),c.Uc(t.country),c.Eb(6),c.Uc(t.state),c.Eb(6),c.Uc(t.city),c.Eb(6),c.Uc(t.zipCode),c.Eb(6),c.Uc(t.residenceType)}}function Ut(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",31),c.Xb(1,"div",32),c.Xb(2,"div",33),c.Tc(3,"2"),c.Wb(),c.Xb(4,"div",34),c.Tc(5,"\xa0"),c.Wb(),c.Wb(),c.Xb(6,"mat-card",54),c.Xb(7,"div",36),c.Xb(8,"div",55),c.Xb(9,"div",56),c.Xb(10,"div",38),c.Xb(11,"h2",39),c.Tc(12,"Contact Information"),c.Wb(),c.Xb(13,"span"),c.Xb(14,"mat-icon",40),c.fc("click",function(){return c.Hc(t),c.jc().editContactInfo()}),c.Tc(15,"edit"),c.Wb(),c.Wb(),c.Wb(),c.Sb(16,"mat-divider",41),c.Wb(),c.Rc(17,kt,52,8,"div",57),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(14),c.rc("hidden",t.editScreen),c.Eb(3),c.rc("ngForOf",t.userAddress_array)}}function Lt(t,e){1&t&&(c.Xb(0,"small",66),c.Tc(1,"No Data Found"),c.Wb())}function Mt(t,e){if(1&t&&(c.Xb(0,"div",45),c.Xb(1,"div",52),c.Xb(2,"mat-hint",50),c.Tc(3," Document type* "),c.Wb(),c.Xb(4,"mat-card",51),c.Xb(5,"div"),c.Tc(6),c.Wb(),c.Wb(),c.Wb(),c.Xb(7,"div",52),c.Xb(8,"div",68),c.Sb(9,"img",69),c.Xb(10,"div"),c.Tc(11),c.Wb(),c.Wb(),c.Wb(),c.Xb(12,"div",52),c.Xb(13,"div",70),c.Xb(14,"a",71),c.Tc(15,"Download "),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=e.$implicit;c.Eb(6),c.Uc(t.documentName),c.Eb(3),c.rc("src",t.fileUrl,c.Jc),c.Eb(2),c.Uc(t.fileName),c.Eb(3),c.sc("href",t.fileUrl,c.Jc)}}function jt(t,e){if(1&t&&(c.Xb(0,"div"),c.Rc(1,Mt,16,4,"div",67),c.Wb()),2&t){const t=c.jc(2);c.Eb(1),c.rc("ngForOf",t.custOtherDoc_array)}}function zt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",31),c.Xb(1,"div",32),c.Xb(2,"div",33),c.Tc(3,"3"),c.Wb(),c.Xb(4,"div",34),c.Tc(5,"\xa0"),c.Wb(),c.Wb(),c.Xb(6,"mat-card",63),c.Xb(7,"div",55),c.Xb(8,"div",56),c.Xb(9,"div",38),c.Xb(10,"h2",39),c.Tc(11,"Proof Of Identity"),c.Wb(),c.Xb(12,"span"),c.Xb(13,"mat-icon",40),c.fc("click",function(){return c.Hc(t),c.jc().editProofOfIdentity()}),c.Tc(14,"edit"),c.Wb(),c.Wb(),c.Wb(),c.Sb(15,"mat-divider",41),c.Wb(),c.Xb(16,"div"),c.Xb(17,"div",64),c.Xb(18,"div",58),c.Rc(19,Lt,2,0,"small",65),c.Rc(20,jt,2,1,"div",1),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(13),c.rc("hidden",t.editScreen),c.Eb(6),c.rc("ngIf",null==t.custOtherDoc_array),c.Eb(1),c.rc("ngIf",null!=t.custOtherDoc_array&&(null==t.custOtherDoc_array?null:t.custOtherDoc_array.length)>0)}}function Vt(t,e){if(1&t&&(c.Xb(0,"div",78),c.Xb(1,"mat-hint",50),c.Tc(2," Other Employer name* "),c.Wb(),c.Xb(3,"mat-card",51),c.Tc(4),c.Wb(),c.Wb()),2&t){const t=c.jc(2);c.Eb(4),c.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName," ")}}function Bt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",31),c.Xb(1,"div",32),c.Xb(2,"div",33),c.Tc(3,"4"),c.Wb(),c.Xb(4,"div",34),c.Tc(5,"\xa0"),c.Wb(),c.Wb(),c.Xb(6,"mat-card",72),c.Xb(7,"div",55),c.Xb(8,"div",56),c.Xb(9,"div",38),c.Xb(10,"h2",39),c.Tc(11,"Additional Information"),c.Wb(),c.Xb(12,"span"),c.Xb(13,"mat-icon",40),c.fc("click",function(){return c.Hc(t),c.jc().editAdditionalInfo()}),c.Tc(14,"edit"),c.Wb(),c.Wb(),c.Wb(),c.Sb(15,"mat-divider",41),c.Wb(),c.Xb(16,"div"),c.Xb(17,"div",64),c.Xb(18,"div",46),c.Xb(19,"div",73),c.Xb(20,"div",42),c.Xb(21,"div",59),c.Xb(22,"h2",60),c.Tc(23,"Employment Information"),c.Wb(),c.Wb(),c.Wb(),c.Xb(24,"div",42),c.Xb(25,"div",52),c.Xb(26,"mat-hint",50),c.Tc(27," Employment Type* "),c.Wb(),c.Xb(28,"mat-card",51),c.Xb(29,"div"),c.Tc(30),c.Wb(),c.Wb(),c.Wb(),c.Xb(31,"div",52),c.Xb(32,"mat-hint",50),c.Tc(33," Employer Name* "),c.Wb(),c.Xb(34,"mat-card",51),c.Xb(35,"div"),c.Tc(36),c.Wb(),c.Wb(),c.Wb(),c.Rc(37,Vt,5,1,"div",74),c.Xb(38,"div",52),c.Xb(39,"mat-hint",50),c.Tc(40," Salary* "),c.Wb(),c.Xb(41,"mat-card",51),c.Xb(42,"div"),c.Tc(43),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Tc(44,"\xa0\xa0\xa0\xa0 "),c.Xb(45,"div",75),c.Xb(46,"div",42),c.Xb(47,"div",59),c.Xb(48,"h2",60),c.Tc(49,"KYC Information"),c.Wb(),c.Wb(),c.Wb(),c.Xb(50,"div",42),c.Xb(51,"div",61),c.Xb(52,"mat-hint",50),c.Tc(53," KYC Reference* "),c.Wb(),c.Xb(54,"mat-card",51),c.Xb(55,"div"),c.Tc(56),c.Wb(),c.Wb(),c.Wb(),c.Xb(57,"div",61),c.Xb(58,"mat-hint",50),c.Tc(59," KYC Status* "),c.Wb(),c.Xb(60,"mat-card",76),c.Xb(61,"div",77),c.Tc(62),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(13),c.rc("hidden",t.editScreen),c.Eb(17),c.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.employmentType," "),c.Eb(6),c.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.employerName," "),c.Eb(1),c.rc("ngIf",t.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName),c.Eb(6),c.Vc("",t.dataResponse.dataResp.customerAdditionalInfo.salary," "),c.Eb(13),c.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.kycReference," "),c.Eb(6),c.Vc(" ",t.kycStatus," ")}}function Jt(t,e){1&t&&(c.Xb(0,"small",66),c.Tc(1,"No Signatures Available"),c.Wb())}function qt(t,e){1&t&&(c.Xb(0,"div"),c.Sb(1,"img",86),c.Wb()),2&t&&(c.Eb(1),c.rc("src","assets/images/no-image.jpg",c.Jc))}function $t(t,e){if(1&t&&c.Sb(0,"img",87),2&t){const t=c.jc().$implicit;c.rc("src",t.fileUrl,c.Jc)}}function Gt(t,e){if(1&t&&(c.Xb(0,"div",42),c.Xb(1,"div"),c.Tc(2),c.Wb(),c.Xb(3,"div",83),c.Rc(4,qt,2,1,"div",84),c.Rc(5,$t,1,1,"ng-template",null,85,c.Sc),c.Wb(),c.Wb()),2&t){const t=e.$implicit,i=c.Dc(6);c.Eb(2),c.Vc(" ",t.signatureType," "),c.Eb(2),c.rc("ngIf",null==t.fileUrl)("ngIfElse",i)}}function Yt(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"div"),c.Xb(2,"div"),c.Xb(3,"div"),c.Rc(4,Gt,7,3,"div",82),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.jc(2);c.Eb(4),c.rc("ngForOf",t.signatureDetails_array)}}function Ht(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",31),c.Xb(1,"div",32),c.Xb(2,"div",33),c.Tc(3,"5"),c.Wb(),c.Xb(4,"div",34),c.Tc(5,"\xa0"),c.Wb(),c.Wb(),c.Xb(6,"mat-card",72),c.Xb(7,"div",55),c.Xb(8,"div",56),c.Xb(9,"div",38),c.Xb(10,"h2",39),c.Tc(11,"Mandate Information"),c.Wb(),c.Xb(12,"span"),c.Xb(13,"mat-icon",40),c.fc("click",function(){return c.Hc(t),c.jc().editMandateInfo()}),c.Tc(14,"edit"),c.Wb(),c.Wb(),c.Wb(),c.Sb(15,"mat-divider",41),c.Wb(),c.Xb(16,"div"),c.Xb(17,"div",64),c.Xb(18,"div",46),c.Xb(19,"div",73),c.Sb(20,"div",42),c.Xb(21,"div",42),c.Xb(22,"div",52),c.Xb(23,"mat-hint",50),c.Tc(24," No of Signatures* "),c.Wb(),c.Xb(25,"mat-card",51),c.Xb(26,"div"),c.Tc(27),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Tc(28,"\xa0\xa0\xa0\xa0 "),c.Wb(),c.Wb(),c.Wb(),c.Xb(29,"div",64),c.Xb(30,"div",79),c.Xb(31,"div",80),c.Xb(32,"div",81),c.Xb(33,"h2",60),c.Tc(34,"Signatures"),c.Wb(),c.Wb(),c.Wb(),c.Xb(35,"div"),c.Rc(36,Jt,2,0,"small",65),c.Rc(37,Yt,5,1,"div",1),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(13),c.rc("hidden",t.editScreen),c.Eb(14),c.Vc(" ",t.noOFSigns," "),c.Eb(9),c.rc("ngIf",null==t.signatureDetails_array),c.Eb(1),c.rc("ngIf",null!=t.signatureDetails_array&&(null==t.signatureDetails_array?null:t.signatureDetails_array.length)>0)}}const Kt=function(t,e){return{disabledbtn:t,continueBtn:e}},Zt=function(t,e){return{disabledbtn:t,rejectButton:e}},Qt=function(t,e){return{disabledbtn:t,approveButton:e}};function te(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",88),c.Xb(1,"div",89),c.fc("click",function(){return c.Hc(t),c.jc().continue()}),c.Xb(2,"label",90),c.Tc(3,"Cotinue"),c.Wb(),c.Wb(),c.Xb(4,"div",91),c.fc("click",function(){c.Hc(t);const e=c.jc();return e.updateApplicationStatus(e.dataResponse,"REJECTED")}),c.Xb(5,"mat-icon",92),c.Tc(6," highlight_off "),c.Wb(),c.Tc(7,"\xa0\xa0\xa0 "),c.Xb(8,"label",93),c.Tc(9,"Reject"),c.Wb(),c.Wb(),c.Tc(10," \xa0\xa0 "),c.Xb(11,"div",94),c.fc("click",function(){c.Hc(t);const e=c.jc();return e.updateApplicationStatus(e.dataResponse,"APPROVED")}),c.Xb(12,"mat-icon",95),c.Tc(13,"check_circle"),c.Wb(),c.Tc(14,"\xa0\xa0\xa0 "),c.Xb(15,"label",96),c.Tc(16,"Approve"),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(1),c.rc("hidden",t.continueStatus)("ngClass",c.yc(7,Kt,t.continueStatus,!t.continueStatus)),c.Eb(3),c.rc("hidden",t.rejectedStatus)("hidden",t.rejectedStatus)("ngClass",c.yc(10,Zt,t.rejectedStatus,!t.rejectedStatus)),c.Eb(7),c.rc("hidden",t.approvedStatus)("ngClass",c.yc(13,Qt,t.approvedStatus,!t.approvedStatus))}}let ee=(()=>{class t{constructor(t,e,i,r,a,n,o,s,c){this.cdr=t,this.apiService=e,this.ls=i,this.dialogRef=r,this.dataResponse=a,this.sanitizer=n,this.snack=o,this.dialog=s,this.jwtService=c,this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}ngOnInit(){setTimeout(()=>{this.loading=!0,this.customerId=this.dataResponse.dataResp.customerId,this.ls.setItem("customerId",this.customerId),this.getCustomerDocumentsDetails(this.customerId),this.phoneNum=this.dataResponse.dataResp.phoneNumber,this.emailID=this.dataResponse.dataResp.primaryEmailAdress,this.customerColorCode=this.ls.getItem("CustomerColorCode"),this.imageUrl=this.dataResponse.dataResp.profileImage,this.status=this.dataResponse.dataResp.custStatus,this.errorStatus=this.dataResponse.dataResp.custStatus,this.userAddress_array=this.dataResponse.dataResp.userAddress,this.custIdProofs_array=this.dataResponse.dataResp.custIdProofs,"REJECTED"===this.status?(this.rejectedStatus=!0,this.approvedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"INITIATED"===this.status?(this.rejectedStatus=!1,this.approvedStatus=!1,this.editScreen=!1,this.continueStatus=!0):"APPROVED"===this.status?(this.rejectedStatus=!0,this.approvedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"UNDER_PROCESS"===this.status&&(this.rejectedStatus=!1,this.approvedStatus=!0,this.editScreen=!1,this.continueStatus=!1),this.getProfileImage(this.customerId),this.fetchSignatureDetails(this.customerId)},5e3),"NULL"!==this.dataResponse.dataResp.customerAdditionalInfo.kycStatus&&(this.kycStatus=this.dataResponse.dataResp.customerAdditionalInfo.kycStatus)}getCustomerDocumentsDetails(t){this.apiService.getCustomerAllDocuments(t,[6,7,8]).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName)})}updateApplicationStatus(t,e,i){t.dataResp.customerAdditionalInfo.kycStatus=e,this.statusUpdate=e,this.apiService.updateKycStatusByCustId(t.dataResp.customerId,"",e).subscribe(t=>{null!=t&&(this.cdr.markForCheck(),this.cdr.detectChanges(),1!=i&&this.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),this.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},t=>{this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(t){this.statusUpdate=t.recordStatus,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{null!=t.profileImage&&(this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))})}fetchSignatureDetails(t){this.apiService.getSignatureDocuments(t).subscribe(t=>{this.noOFSigns=null==t?void 0:t.length,this.signatureDetails_array=t},t=>{console.log(t)})}openEditScreen(t,e){this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{this.status=t.status,"INITIATED"==t.status&&(this.updateApplicationStatus(this.dataResponse,"INITIATED",!0),t.screen||Object.assign(e,t.resp),"documentUpload"==t.screen&&this.getCustomerDocumentsDetails(this.customerId),"signatureUpload"==t.screen&&this.fetchSignatureDetails(this.customerId)),this.cdr.markForCheck(),this.cdr.detectChanges()})}editPrimaryInfo(){this.openEditScreen(M,this.dataResponse.dataResp)}editContactInfo(){this.openEditScreen(it,this.userAddress_array)}editProofOfIdentity(){this.openEditScreen(nt,this.proofDoc_array)}editAdditionalInfo(){this.openEditScreen(mt,this.dataResponse.dataResp.customerAdditionalInfo)}editMandateInfo(){this.openEditScreen(It,this.signatureDetails_array)}continue(){this.ls.setItem("customerId",this.dataResponse.dataResp.customerId),this.ls.setItem("currentKycTabIndex",0),window.open(`${St.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=INDIVIDUALONBOARDING&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(c.h),c.Rb(r.b),c.Rb(a.a),c.Rb(n.g),c.Rb(n.a),c.Rb(Tt.b),c.Rb(l.a),c.Rb(n.b),c.Rb(Et.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-cust-on-boarding-approver"]],decls:55,vars:18,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["class","headerimg","alt","",3,"src",4,"ngIf"],["alt","",1,"headerimg",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Primary Information",1,"brw_800"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width","p_1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[1,"fs_18"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width","p_0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0","field_card"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width","pb_1"],["fxLayout","row wrap",1,"full-width","p_5r"],["fxFlex","31%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["label","Contact Information",1,"brw_800"],[1,"full-width","p_1"],[1,"pb_1"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0","field_card_nowidth"],["fxFlex","40%","fxFlex.xs","50%",1,"p_5r"],[1,"fs_16"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["label","Proof Of Identity",1,"brw_800"],[1,"p_1_0"],["class","c_grey",4,"ngIf"],[1,"c_grey"],["class","full-width",4,"ngFor","ngForOf"],[1,"text_center_align"],["required","","alt","",1,"formImg2",3,"src"],[1,"mt-35"],["download","",1,"hyperlink",3,"href"],["label","Other Information",1,"brw_800"],["fxFlex","59%","fxFlex.xs","100%",1,"mat-elevation-z0","field_card_nowidth"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","39%","fxFlex.xs","100%",1,"mat-elevation-z0","field_card_nowidth"],[1,"mat1","w-98_per"],[1,"mat11"],["fxFlex","40%","fxFlex.xs","100%"],["fxFlex","100%","fxFlex.xs","100%",1,"mat-elevation-z0","field_card_nowidth"],["fxLayout","row","fxLayoutAlign","space-between center",1,"p_1_0"],["fxFlex","15%","fxFlex.xs","50%"],["fxLayout","row wrap","class","full-width p_0",4,"ngFor","ngForOf"],[1,"imgCard"],[4,"ngIf","ngIfElse"],["showAvatar",""],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(c.Xb(0,"div"),c.Xb(1,"div",0),c.Rc(2,Nt,1,0,"mat-spinner",1),c.Wb(),c.Xb(3,"div",2),c.Xb(4,"div"),c.Xb(5,"div",3),c.Xb(6,"div"),c.Xb(7,"mat-icon",4),c.fc("click",function(){return e.close(e.dataResponse)}),c.Tc(8,"close"),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",5),c.Xb(10,"div",6),c.Xb(11,"div",7),c.Xb(12,"div",8),c.Rc(13,Pt,2,1,"span",9),c.Wb(),c.Xb(14,"div",10),c.Xb(15,"div",11),c.Sb(16,"img",12),c.Tc(17,"\xa0 "),c.Xb(18,"div"),c.Xb(19,"span",13),c.Tc(20),c.Wb(),c.Sb(21,"br"),c.Xb(22,"span",14),c.Tc(23),c.Wb(),c.Wb(),c.Wb(),c.Xb(24,"div",15),c.Xb(25,"mat-icon",16),c.Tc(26,"phone "),c.Wb(),c.Tc(27,"\xa0\xa0\xa0 "),c.Xb(28,"span",17),c.Tc(29),c.Wb(),c.Wb(),c.Xb(30,"div",15),c.Xb(31,"mat-icon",16),c.Tc(32," mail_outline"),c.Wb(),c.Tc(33,"\xa0\xa0 \xa0 "),c.Xb(34,"span",18),c.Tc(35),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(36,"div",19),c.Xb(37,"div",20),c.Rc(38,Dt,7,16,"div",21),c.Rc(39,Ft,2,1,"div",22),c.Wb(),c.Wb(),c.Sb(40,"br"),c.Sb(41,"br"),c.Sb(42,"br"),c.Sb(43,"br"),c.Xb(44,"div",23),c.Xb(45,"h2"),c.Tc(46),c.Wb(),c.Wb(),c.Rc(47,wt,106,15,"div",24),c.Rc(48,Ut,18,2,"div",24),c.Sb(49,"br"),c.Rc(50,zt,21,3,"div",24),c.Rc(51,Bt,63,7,"div",24),c.Rc(52,Ht,38,4,"div",24),c.Rc(53,te,17,16,"div",25),c.Sb(54,"br"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Eb(2),c.rc("ngIf",e.loading),c.Eb(11),c.rc("ngForOf",e.nameCreater),c.Eb(7),c.Vc("",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.createdBy," "),c.Eb(3),c.Vc("EID #",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.creatorId,""),c.Eb(6),c.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.mobile," "),c.Eb(6),c.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.email," "),c.Eb(3),c.rc("ngIf","not_available"==e.imageUrl),c.Eb(1),c.rc("ngIf","not_available"!=e.imageUrl),c.Eb(7),c.Yc("",e.dataResponse.dataResp.prefix,"\xa0",e.dataResponse.dataResp.firstName,"\xa0",e.dataResponse.dataResp.middleName,"\xa0",e.dataResponse.dataResp.lastName," "),c.Eb(1),c.rc("ngIf",!e.loading),c.Eb(1),c.rc("ngIf",!e.loading),c.Eb(2),c.rc("ngIf",!e.loading),c.Eb(1),c.rc("ngIf",!e.loading),c.Eb(1),c.rc("ngIf",!e.loading),c.Eb(1),c.rc("ngIf",!e.loading))},directives:[b.d,o.n,b.e,d.a,o.m,m.c,Rt.b,b.b,m.a,Ct.a,u.f,b.f,o.l,Ot.a],pipes:[o.v,o.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.editbtn{color:#0e7cc5;cursor:pointer}.num{background-color:#fff;border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;margin-top:15px}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:15%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.hint1{padding:13px}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:2%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:1px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.w-98_per{width:98%}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}.headerimg{width:120px;height:120px;border-radius:50%}.brw_800{border-radius:0;width:800px}.field_card{width:750px}.field_card,.field_card_nowidth{border:1px solid #f5f5f5;padding:16px}.c_grey{color:grey}.text_center_align{text-align:center}.hyperlink{color:#4a56e2;text-decoration:underline}"],encapsulation:2}),t})()},Va2r:function(t,e,i){"use strict";i.d(e,"a",function(){return K});var r=i("8Y7J"),a=i("nm5K"),n=i("tZUg"),o=i("6rwl"),s=i("XNiG"),c=i("Kj3r"),l=i("LvDl"),b=i("OKja"),d=i("nZzT"),u=i("iELJ"),m=i("zHaW"),p=i("cUpR"),f=i("iInd"),g=i("MNke"),h=i("jMqV"),y=i("VDRc"),W=i("Q2Ze"),v=i("e6WT"),X=i("s7LF"),x=i("SVse"),I=i("Tj54"),S=i("PDjf"),E=i("pu8Q"),T=i("Dxy4"),R=i("ura0");function C(t,e){if(1&t&&r.Sb(0,"img",3),2&t){const t=r.jc();r.sc("src",t.photoUrl,r.Jc)}}function O(t,e){if(1&t&&(r.Xb(0,"div",4),r.Tc(1),r.Wb()),2&t){const t=r.jc();r.Eb(1),r.Vc(" ",t.initials," ")}}const N=function(t){return{"background-color":t}};let P=(()=>{class t{constructor(){this.showInitials=!1,this.colors=["#24CCA7","#24CCA7","#24CCA7","#24CCA7"]}ngOnInit(){if(!this.photoUrl){this.showInitials=!0,this.createInititals();const t=Math.floor(Math.random()*Math.floor(this.colors.length));this.circleColor=this.colors[t]}}createInititals(){let t=this.name.split(" "),e=t[0].substring(0,1).toUpperCase();t.length>1&&(e+=t[t.length-1].substring(0,1).toUpperCase()),this.initials=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-photo"]],inputs:{photoUrl:"photoUrl",name:"name"},decls:3,vars:5,consts:[[1,"circle",3,"ngStyle"],[3,"src",4,"ngIf"],["class","initials",4,"ngIf"],[3,"src"],[1,"initials"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Rc(1,C,1,1,"img",1),r.Rc(2,O,2,1,"div",2),r.Wb()),2&t&&(r.rc("ngStyle",r.xc(3,N,e.circleColor)),r.Eb(1),r.rc("ngIf",!e.showInitials),r.Eb(1),r.rc("ngIf",e.showInitials))},directives:[x.o,R.b,x.n],styles:[".circle[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;display:flex;justify-content:center;align-items:center}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:60px;height:60px}.circle[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{color:#fff;font-size:20px;line-height:19px;letter-spacing:.2625px}"]}),t})();var D=i("JC+M"),A=function(t,e,i,r){return new(i||(i=Promise))(function(a,n){function o(t){try{c(r.next(t))}catch(e){n(e)}}function s(t){try{c(r.throw(t))}catch(e){n(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})};function F(t,e){1&t&&r.Sb(0,"mat-spinner",20),2&t&&r.rc("diameter",15)}function _(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",21),r.fc("click",function(){return r.Hc(t),r.jc().clear()}),r.Xb(1,"mat-icon"),r.Tc(2,"close"),r.Wb(),r.Wb()}}function w(t,e){if(1&t&&(r.Xb(0,"div"),r.Sb(1,"app-photo",39),r.Wb()),2&t){const t=r.jc().$implicit;r.Eb(1),r.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function k(t,e){if(1&t&&r.Sb(0,"img",40),2&t){const t=r.jc().$implicit;r.rc("src",t.profileImage,r.Jc)}}function U(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",23),r.fc("click",function(){r.Hc(t);const i=e.$implicit,a=e.index,n=r.jc(2);return n.goToCustOnBoardingSummary(i,"INITATED",n.getRandomColor(a+3))}),r.Xb(1,"div",24),r.Xb(2,"mat-icon",25),r.Tc(3,"bookmark"),r.Wb(),r.Xb(4,"small"),r.Tc(5),r.kc(6,"dateAgo"),r.Wb(),r.Wb(),r.Xb(7,"mat-card-header",26),r.Xb(8,"div",27),r.Rc(9,w,2,1,"div",28),r.Rc(10,k,1,1,"ng-template",null,29,r.Sc),r.Wb(),r.Xb(12,"mat-card-title",30),r.Tc(13),r.Wb(),r.Xb(14,"mat-card-subtitle"),r.Tc(15),r.Wb(),r.Wb(),r.Xb(16,"form",31),r.Xb(17,"div",32),r.Xb(18,"div",33),r.Xb(19,"span"),r.Tc(20,"Customer No:"),r.Wb(),r.Xb(21,"span",34),r.Tc(22),r.Wb(),r.Wb(),r.Xb(23,"div",33),r.Xb(24,"span"),r.Tc(25,"Customer Status"),r.Wb(),r.Xb(26,"span",34),r.Tc(27),r.Wb(),r.Wb(),r.Wb(),r.Sb(28,"br"),r.Xb(29,"div",35),r.Xb(30,"div",33),r.Xb(31,"span",36),r.Tc(32,"Mobile Number"),r.Wb(),r.Xb(33,"span",37),r.Tc(34),r.Wb(),r.Wb(),r.Xb(35,"div",33),r.Xb(36,"span",36),r.Tc(37,"Email"),r.Wb(),r.Xb(38,"span",38),r.Tc(39),r.Wb(),r.Wb(),r.Wb(),r.Sb(40,"br"),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,i=r.Dc(11);r.Eb(5),r.Uc(r.lc(6,12,null==t?null:t.createdTime)),r.Eb(4),r.rc("ngIf","not_available"==t.profileImage)("ngIfElse",i),r.Eb(4),r.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),r.Eb(2),r.Vc("#",t.cifNumber,""),r.Eb(7),r.Uc(t.cifNumber),r.Eb(5),r.Uc(t.custStatus),r.Eb(7),r.Uc(t.phoneNumber),r.Eb(5),r.Uc(t.primaryEmailAdress)}}function L(t,e){if(1&t&&(r.Xb(0,"mat-card",15),r.Xb(1,"div",16),r.Xb(2,"h2",22),r.Tc(3),r.Wb(),r.Wb(),r.Xb(4,"div"),r.Rc(5,U,41,14,"div",19),r.Wb(),r.Sb(6,"br"),r.Wb()),2&t){const t=r.jc();r.Eb(3),r.Wc("Pending for approval (",t.INITIATEDArr.length,"/",t.INITIATEDTotalRecords,")"),r.Eb(2),r.rc("ngForOf",t.INITIATEDArr)}}function M(t,e){if(1&t&&(r.Xb(0,"div"),r.Sb(1,"app-photo",39),r.Wb()),2&t){const t=r.jc().$implicit;r.Eb(1),r.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function j(t,e){if(1&t&&r.Sb(0,"img",40),2&t){const t=r.jc().$implicit;r.rc("src",t.profileImage,r.Jc)}}function z(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",23),r.fc("click",function(){r.Hc(t);const i=e.$implicit,a=e.index,n=r.jc();return n.goToCustOnBoardingSummary(i,"UNDER_PROCESS",n.getRandomColor(a+6))}),r.Xb(1,"div",24),r.Xb(2,"mat-icon",41),r.Tc(3,"bookmark"),r.Wb(),r.Xb(4,"span"),r.Xb(5,"small"),r.Tc(6),r.kc(7,"dateAgo"),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"mat-card-header",26),r.Xb(9,"div",27),r.Rc(10,M,2,1,"div",28),r.Rc(11,j,1,1,"ng-template",null,29,r.Sc),r.Wb(),r.Xb(13,"mat-card-title",30),r.Tc(14),r.Wb(),r.Xb(15,"mat-card-subtitle"),r.Tc(16),r.Wb(),r.Wb(),r.Xb(17,"form",31),r.Xb(18,"div",32),r.Xb(19,"div",33),r.Xb(20,"span"),r.Tc(21,"Customer No:"),r.Wb(),r.Xb(22,"span",34),r.Tc(23),r.Wb(),r.Wb(),r.Xb(24,"div",33),r.Xb(25,"span"),r.Tc(26,"Customer Status"),r.Wb(),r.Xb(27,"span",34),r.Tc(28),r.Wb(),r.Wb(),r.Wb(),r.Sb(29,"br"),r.Xb(30,"div",35),r.Xb(31,"div",33),r.Xb(32,"span",36),r.Tc(33,"Mobile Number"),r.Wb(),r.Xb(34,"span",37),r.Tc(35),r.Wb(),r.Wb(),r.Xb(36,"div",33),r.Xb(37,"span",36),r.Tc(38,"Email"),r.Wb(),r.Xb(39,"span",38),r.Tc(40),r.Wb(),r.Wb(),r.Wb(),r.Sb(41,"br"),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,i=r.Dc(12);r.Eb(6),r.Uc(r.lc(7,12,null==t?null:t.createdTime)),r.Eb(4),r.rc("ngIf","not_available"==t.profileImage)("ngIfElse",i),r.Eb(4),r.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),r.Eb(2),r.Vc("#",t.cifNumber,""),r.Eb(7),r.Uc(t.cifNumber),r.Eb(5),r.Uc(t.custStatus),r.Eb(7),r.Uc(t.phoneNumber),r.Eb(5),r.Uc(t.primaryEmailAdress)}}function V(t,e){if(1&t&&(r.Xb(0,"div"),r.Sb(1,"app-photo",39),r.Wb()),2&t){const t=r.jc().$implicit;r.Eb(1),r.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function B(t,e){if(1&t&&r.Sb(0,"img",40),2&t){const t=r.jc().$implicit;r.rc("src",t.profileImage,r.Jc)}}function J(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",23),r.fc("click",function(){r.Hc(t);const i=e.$implicit,a=e.index,n=r.jc(2);return n.goToCustOnBoardingSummary(i,"APPROVED",n.getRandomColor(a+12))}),r.Xb(1,"div",24),r.Xb(2,"mat-icon",42),r.Tc(3,"bookmark"),r.Wb(),r.Xb(4,"span"),r.Xb(5,"small"),r.Tc(6),r.kc(7,"dateAgo"),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"mat-card-header",26),r.Xb(9,"div",27),r.Rc(10,V,2,1,"div",28),r.Rc(11,B,1,1,"ng-template",null,29,r.Sc),r.Wb(),r.Xb(13,"mat-card-title",30),r.Tc(14),r.Wb(),r.Xb(15,"mat-card-subtitle"),r.Tc(16),r.Wb(),r.Wb(),r.Xb(17,"form",31),r.Xb(18,"div",32),r.Xb(19,"div",33),r.Xb(20,"span"),r.Tc(21,"Customer No:"),r.Wb(),r.Xb(22,"span",34),r.Tc(23),r.Wb(),r.Wb(),r.Xb(24,"div",33),r.Xb(25,"span"),r.Tc(26,"Customer Status"),r.Wb(),r.Xb(27,"span",34),r.Tc(28),r.Wb(),r.Wb(),r.Wb(),r.Sb(29,"br"),r.Xb(30,"div",35),r.Xb(31,"div",33),r.Xb(32,"span",36),r.Tc(33,"Mobile Number"),r.Wb(),r.Xb(34,"span",37),r.Tc(35),r.Wb(),r.Wb(),r.Xb(36,"div",33),r.Xb(37,"span",36),r.Tc(38,"Email"),r.Wb(),r.Xb(39,"span",38),r.Tc(40),r.Wb(),r.Wb(),r.Wb(),r.Sb(41,"br"),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,i=r.Dc(12);r.Eb(6),r.Uc(r.lc(7,12,null==t?null:t.createdTime)),r.Eb(4),r.rc("ngIf","not_available"==t.profileImage)("ngIfElse",i),r.Eb(4),r.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),r.Eb(2),r.Vc("#",t.cifNumber,""),r.Eb(7),r.Uc(t.cifNumber),r.Eb(5),r.Uc(t.custStatus),r.Eb(7),r.Uc(t.phoneNumber),r.Eb(5),r.Uc(t.primaryEmailAdress)}}function q(t,e){if(1&t&&(r.Xb(0,"mat-card",15),r.Xb(1,"div",16),r.Xb(2,"span",17),r.Xb(3,"h2",18),r.Tc(4),r.Wb(),r.Wb(),r.Wb(),r.Xb(5,"div"),r.Rc(6,J,42,14,"div",19),r.Wb(),r.Sb(7,"br"),r.Wb()),2&t){const t=r.jc();r.Eb(4),r.Wc("Approved (",t.APPROVEDArr.length,"/",t.APPROVEDTotalRecords,")"),r.Eb(2),r.rc("ngForOf",t.APPROVEDArr)}}function $(t,e){if(1&t&&(r.Xb(0,"div"),r.Sb(1,"app-photo",39),r.Wb()),2&t){const t=r.jc().$implicit;r.Eb(1),r.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function G(t,e){if(1&t&&r.Sb(0,"img",40),2&t){const t=r.jc().$implicit;r.rc("src",t.profileImage,r.Jc)}}function Y(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",23),r.fc("click",function(){r.Hc(t);const i=e.$implicit,a=e.index,n=r.jc(2);return n.goToCustOnBoardingSummary(i,"REJECTED",n.getRandomColor(a+15))}),r.Xb(1,"div",24),r.Xb(2,"mat-icon",43),r.Tc(3,"bookmark"),r.Wb(),r.Xb(4,"span"),r.Xb(5,"small"),r.Tc(6),r.kc(7,"dateAgo"),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"mat-card-header",26),r.Xb(9,"div",27),r.Rc(10,$,2,1,"div",28),r.Rc(11,G,1,1,"ng-template",null,29,r.Sc),r.Wb(),r.Xb(13,"mat-card-title",30),r.Tc(14),r.Wb(),r.Xb(15,"mat-card-subtitle"),r.Tc(16),r.Wb(),r.Wb(),r.Xb(17,"form",31),r.Xb(18,"div",32),r.Xb(19,"div",33),r.Xb(20,"span"),r.Tc(21,"Customer No:"),r.Wb(),r.Xb(22,"span",34),r.Tc(23),r.Wb(),r.Wb(),r.Xb(24,"div",33),r.Xb(25,"span"),r.Tc(26,"Customer Status"),r.Wb(),r.Xb(27,"span",34),r.Tc(28),r.Wb(),r.Wb(),r.Wb(),r.Sb(29,"br"),r.Xb(30,"div",35),r.Xb(31,"div",33),r.Xb(32,"span",36),r.Tc(33,"Mobile Number"),r.Wb(),r.Xb(34,"span",37),r.Tc(35),r.Wb(),r.Wb(),r.Xb(36,"div",33),r.Xb(37,"span",36),r.Tc(38,"Email"),r.Wb(),r.Xb(39,"span",38),r.Tc(40),r.Wb(),r.Wb(),r.Wb(),r.Sb(41,"br"),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,i=r.Dc(12);r.Eb(6),r.Uc(r.lc(7,12,null==t?null:t.createdTime)),r.Eb(4),r.rc("ngIf","not_available"==t.profileImage)("ngIfElse",i),r.Eb(4),r.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),r.Eb(2),r.Vc("#",t.cifNumber,""),r.Eb(7),r.Uc(t.cifNumber),r.Eb(5),r.Uc(t.custStatus),r.Eb(7),r.Uc(t.phoneNumber),r.Eb(5),r.Uc(t.primaryEmailAdress)}}function H(t,e){if(1&t&&(r.Xb(0,"mat-card",15),r.Xb(1,"div",16),r.Xb(2,"span",17),r.Xb(3,"h2",18),r.Tc(4),r.Wb(),r.Wb(),r.Wb(),r.Xb(5,"div"),r.Rc(6,Y,42,14,"div",19),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Eb(4),r.Wc("Rejected (",t.REJECTEDArr.length,"/",t.REJECTEDTotalRecords,")"),r.Eb(2),r.rc("ngForOf",t.REJECTEDArr)}}let K=(()=>{class t{constructor(t,e,i,a,n,o,c,l,b,d){this.dialog=t,this.ls=e,this.tasSumService=i,this.cdr=a,this.apiService=n,this.snack=o,this.sanitizer=c,this.router=l,this.route=b,this.jwtService=d,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new r.o,this._searchSubject=new s.a,this.listOfOptions=[{label:"Customer ID ",value:"customerId",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}onScroll(){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){var t;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,this.apiService.setTask(!0),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),this.updateSearch(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()})}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(c.a)(1e3)).subscribe(t=>{if(this.setValue.emit(t),null==t||""==t||""==t)return this.noDataFound=!1,this.searchable=!1,void this.getDataOnLoad();this.searchCustomerId(t)})}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}getDataOnLoad(){return A(this,void 0,void 0,function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerByStatus(this.statusArr[t],0,0)})}fetchCustomerByStatus(t,e,i){this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(e=>{this.updateStatusResponse(t,e)})}GoToCorporate(){setTimeout(()=>{this.router.navigateByUrl("tasks/corporate-task-summary")},300)}updateStatusResponse(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords),this.cdr.markForCheck()}onScrollingFinished(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,i){e!==i&&this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(e=>{this.cdr.markForCheck(),this.updateDataOnScroll(t,e.customerInfoList)})}goToCustOnBoardingSummary(t,e,i){this.ls.setItem("CustomerColorCode",i),this.dialog.open(b.a,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(t=>{"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}searchCustomerId(t){let e,i;if(""===t)return this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(e=this.searchText.trim(),i="phoneNumber="+e):(e=this.searchText.trim(),i="customerId="+e,this.apiService.getKycDetails1(e).subscribe(t=>{i=null!=t?"cifNumber="+e:"customerId="+e})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(e=this.searchText.trim(),i="primaryEmailAdress="+e):(e=this.searchText.trim(),i="customerName="+e)),setTimeout(()=>{this.getCustomerData(i)},1e3),this.isScroll=!1}getCustomerData(t){this.loading=!0,this.apiService.getCustomerOnBoardingSummary(t).subscribe(t=>{this.INITIATEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,this.resetSearchData(),this.INITIATEDArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++){const i=null==t?void 0:t.customerInfoList[e];this.searchResponseUpdate(null==i?void 0:i.custStatus,t.customerInfoList[e])}})}resetSearchData(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){"INITIATED"==t?this.INITIATEDArr.push(e):"UNDER_PROCESS"==t?this.UNDER_PROCESSArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}ngOnDestroy(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}updateDataOnScroll(t,e){return A(this,void 0,void 0,function*(){if("INITIATED"==t){const t=l.unionBy(this.INITIATEDArr,e,"customerId");this.INITIATEDArr=t}else if("UNDER_PROCESS"==t){const t=l.unionBy(this.UNDER_PROCESSArr,e,"customerId");this.UNDER_PROCESSArr=t}else if("APPROVED"==t){const t=l.unionBy(this.APPROVEDArr,e,"customerId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=l.unionBy(this.REJECTEDArr,e,"customerId");this.REJECTEDArr=t}this.cdr.markForCheck()})}isNum(t){return!isNaN(t)}isString(t){return t}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(t=>1==t.length);1==t.length&&this.goToCustOnBoardingSummary(t[0][0],t[0][0].custStatus)}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u.b),r.Rb(n.a),r.Rb(o.a),r.Rb(r.h),r.Rb(a.b),r.Rb(m.a),r.Rb(p.b),r.Rb(f.h),r.Rb(f.a),r.Rb(d.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-cust-on-boarding-task-summary"]],hostBindings:function(t,e){1&t&&r.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:31,vars:12,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName","task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","placeholder","Search Customer_id or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["matSuffix","","mat-icon-button","",3,"click"],[1,"statusFont","pl-6"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45"],[1,"fieldName"],["fxLayout","row","fxLayoutGap","10"],[1,"col3"],[1,"col4"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-red","bookMark","bookMark3"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.fc("scrolled",function(){return e.onScroll()}),r.Xb(1,"div",1),r.Xb(2,"mat-slide-toggle",2),r.fc("change",function(){return e.GoToCorporate()}),r.Tc(3,"Switch to Corporate Onboarding"),r.Wb(),r.Xb(4,"div",3),r.Xb(5,"div",4),r.Tc(6," Individual Customer Onboarding Task Summary "),r.Wb(),r.Xb(7,"div",5),r.Xb(8,"mat-form-field",6),r.Xb(9,"mat-label"),r.Tc(10,"Search"),r.Wb(),r.Xb(11,"div",7),r.Xb(12,"input",8),r.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),r.Wb(),r.Rc(13,F,1,1,"mat-spinner",9),r.Wb(),r.Xb(14,"mat-icon",10),r.Tc(15,"search"),r.Wb(),r.Rc(16,_,3,0,"button",11),r.Xb(17,"mat-hint"),r.Tc(18,"Search ID or Name"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(19,"div",12),r.Xb(20,"div",13),r.Rc(21,L,7,3,"mat-card",14),r.Xb(22,"mat-card",15),r.Xb(23,"div",16),r.Xb(24,"span",17),r.Xb(25,"h2",18),r.Tc(26),r.Wb(),r.Wb(),r.Wb(),r.Xb(27,"div"),r.Rc(28,z,42,14,"div",19),r.Wb(),r.Wb(),r.Rc(29,q,8,3,"mat-card",14),r.Rc(30,H,7,3,"mat-card",14),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),r.Eb(12),r.rc("ngModel",e.searchText),r.Eb(1),r.rc("ngIf",e.loading),r.Eb(3),r.rc("ngIf",e.searchText),r.Eb(5),r.rc("ngIf","TELLER_DEP_LOAN"!=e.userType&&"TELLER_DEP_CREATEACCOUNT"!=e.userType),r.Eb(5),r.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),r.Eb(2),r.rc("ngForOf",e.UNDER_PROCESSArr),r.Eb(1),r.rc("ngIf","TELLER_DEP_LOAN"!=e.userType&&"TELLER_DEP_CREATEACCOUNT"!=e.userType),r.Eb(1),r.rc("ngIf","TELLER_DEP_LOAN"!=e.userType&&"TELLER_DEP_CREATEACCOUNT"!=e.userType))},directives:[g.a,h.a,y.e,y.d,y.f,y.b,W.c,W.g,v.b,X.c,X.r,X.u,x.n,I.a,W.i,W.f,S.a,x.m,E.b,T.b,W.j,S.e,S.c,S.h,S.g,X.A,X.s,X.t,P],pipes:[D.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px}.breakWord[_ngcontent-%COMP%], .naming[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),t})()}}]);