(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{tPCj:function(t,e,r){"use strict";r.r(e),r.d(e,"CardAccountModule",function(){return Dc});var i=r("SVse"),a=r("Tj54"),n=r("vrAh"),c=r("r1zJ"),o=r("tZUg"),s=r("s7LF"),l=r("nm5K"),b=r("8Y7J"),d=r("zHaW"),u=r("iELJ"),m=r("iInd"),p=r("PDjf"),g=r("Dxy4"),h=r("VDRc"),f=r("e6WT"),y=r("Q2Ze");function v(t,e){if(1&t&&(b.Xb(0,"tr",14),b.Xb(1,"div",15),b.Vb(2,11),b.Xb(3,"div",16),b.Sb(4,"input",17),b.Wb(),b.Xb(5,"td"),b.Xb(6,"mat-card",18),b.Xb(7,"mat-label",19),b.Tc(8,"Amount"),b.Wb(),b.Sb(9,"input",20,21),b.Wb(),b.Wb(),b.Xb(11,"td"),b.Xb(12,"mat-card",18),b.Xb(13,"mat-label",19),b.Tc(14,"waiver"),b.Wb(),b.Sb(15,"input",22,23),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.Eb(2),b.rc("formGroup",t)}}const C=function(t){return[t]};function x(t,e){if(1&t&&(b.Xb(0,"form",11),b.Xb(1,"table",12),b.Xb(2,"tbody"),b.Rc(3,v,17,1,"tr",13),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("formGroup",t.chargeFormIT),b.Eb(3),b.rc("ngForOf",b.xc(2,C,t.in.controls[t.in.controls.length-1]))}}let W=(()=>{class t{constructor(t,e,r,i,a,n){this.snack=t,this.dialogRef=e,this.ls=r,this.api=i,this.router=a,this.formBuilder=n,this.accountType="Home Loan"}ngOnInit(){this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.cardInfo&&(this.loanAccountId=this.cardInfo.loanAccountId),this.chargeFormIT=this.formBuilder.group({chargeIT:new s.d([])}),this.api.cardChargeFetchById(this.cardId).subscribe(t=>{console.log("resp from backend ",t),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!1],cardId:[this.cardId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}get f(){return this.chargeFormIT.controls}get in(){return this.f.chargeIT}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}onSubmit(t){}edit(){this.dialogRef.close(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"])}check(t){t&&(console.log(this.snack.open),this.snack.open("charge detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}close(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}_keyPress(t){let e=String.fromCharCode(t.charCode);/[a-zA-Z]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(d.a),b.Rb(u.g),b.Rb(o.a),b.Rb(l.b),b.Rb(m.h),b.Rb(s.f))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-card-acc-charge-det-sum"]],decls:14,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",4,"ngFor","ngForOf"],[1,"form"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","amount","name","account_branch","readonly","",1,"input"],["amount",""],["matInput","","formControlName","waiver","name","account_branch","readonly","",1,"input"],["waiver",""]],template:function(t,e){1&t&&(b.Xb(0,"mat-card",0),b.Xb(1,"button",1),b.Xb(2,"mat-icon",2),b.Tc(3,"close"),b.Wb(),b.Wb(),b.Xb(4,"div",3),b.Xb(5,"span",4),b.Tc(6,"Charge Details Summary "),b.Wb(),b.Wb(),b.Xb(7,"div",5),b.Sb(8,"div",6),b.Xb(9,"div",7),b.Sb(10,"div",8),b.Rc(11,x,4,4,"form",9),b.Wb(),b.Wb(),b.Xb(12,"span",10),b.fc("click",function(){return e.edit()}),b.Tc(13,"Edit"),b.Wb(),b.Wb()),2&t&&(b.Eb(11),b.rc("ngIf",e.chargeFormIT))},directives:[p.a,g.b,u.d,a.a,h.e,h.b,i.n,s.A,s.s,s.j,i.m,f.b,s.c,s.r,s.i,y.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px;width:400px}.mainDiv[_ngcontent-%COMP%]{padding:5px}.paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:20px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1;width:400px}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:15px;font-weight:600;width:70%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),t})();var X=r("BSbQ");function I(t,e){1&t&&(b.Xb(0,"tr",15),b.Xb(1,"div",16),b.Vb(2),b.Xb(3,"div",17),b.Sb(4,"input",18),b.Wb(),b.Xb(5,"td"),b.Xb(6,"mat-card",19),b.Xb(7,"mat-label",20),b.Tc(8,"Interest Rate Applicable"),b.Wb(),b.Sb(9,"input",21),b.Wb(),b.Wb(),b.Xb(10,"td"),b.Xb(11,"mat-card",19),b.Xb(12,"mat-label",20),b.Tc(13,"Margin in %"),b.Wb(),b.Sb(14,"input",22),b.Wb(),b.Wb(),b.Xb(15,"td"),b.Xb(16,"mat-card",19),b.Xb(17,"mat-label",20),b.Tc(18,"Effective Rate %"),b.Wb(),b.Sb(19,"input",23),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb()),2&t&&b.rc("formGroup",e.$implicit)}function S(t,e){if(1&t&&(b.Xb(0,"form",12),b.Xb(1,"table",13),b.Xb(2,"tbody"),b.Rc(3,I,20,1,"tr",14),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("formGroup",t.interestForm),b.Eb(3),b.rc("ngForOf",t.in.controls)}}let O=(()=>{class t{constructor(t,e,r,i,a,n){this.ls=t,this.snack=e,this.dialogRef=r,this.api=i,this.router=a,this.formBuilder=n}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.interestForm=this.formBuilder.group({interest:new s.d([])}),this.savingForm=this.formBuilder.group({saving:new s.d([])}),this.loanForm=this.formBuilder.group({loan:new s.d([])}),this.api.cardInterestFetchById(this.cardId).subscribe(t=>{console.log("resp from backend ",this.resp),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})}assignAccountType(t){this.accountType=t}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}onChangeSaving(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.is.length<e)for(let r=this.is.length;r<e;r++)this.is.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.is.length;r>=e;r--)this.is.removeAt(r)}onChangeLoan(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.iloan.length<e)for(let r=this.iloan.length;r<e;r++)this.iloan.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.iloan.length;r>=e;r--)this.iloan.removeAt(r)}get f(){return this.interestForm.controls}get in(){return this.f.interest}get fs(){return this.savingForm.controls}get is(){return this.fs.saving}get floan(){return this.loanForm.controls}get iloan(){return this.floan.loan}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}onSubmit(t){}edit(){this.dialogRef.close(),this.api.setFlag({flag:!0}),this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}check(t){t&&(console.log(this.snack.open),this.snack.open("Intrest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(o.a),b.Rb(d.a),b.Rb(u.g),b.Rb(l.b),b.Rb(m.h),b.Rb(s.f))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-intrest-details-summary"]],decls:15,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"span"],[1,"divider"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"]],template:function(t,e){1&t&&(b.Xb(0,"mat-card",0),b.Xb(1,"button",1),b.Xb(2,"mat-icon",2),b.Tc(3,"close"),b.Wb(),b.Wb(),b.Xb(4,"div",3),b.Xb(5,"span",4),b.Tc(6,"Interest Details Summary "),b.Wb(),b.Sb(7,"mat-divider",5),b.Wb(),b.Xb(8,"div",6),b.Sb(9,"div",7),b.Xb(10,"div",8),b.Sb(11,"div",9),b.Rc(12,S,4,2,"form",10),b.Wb(),b.Wb(),b.Xb(13,"span",11),b.fc("click",function(){return e.edit()}),b.Tc(14,"Edit"),b.Wb(),b.Wb()),2&t&&(b.Eb(12),b.rc("ngIf",e.interestForm))},directives:[p.a,g.b,u.d,a.a,X.a,h.e,h.b,i.n,s.A,s.s,s.j,i.m,f.b,s.c,s.r,s.i,y.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.mainDiv[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:25%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}"]}),t})();var D=r("6JYK"),T=r("ura0"),A=r("BTe0");const E=function(){return{y:"50px",delay:"300ms"}},k=function(t){return{value:"*",params:t}};function _(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",18),b.Xb(1,"mat-card"),b.Xb(2,"div",19),b.Xb(3,"div",20),b.Xb(4,"mat-icon",21),b.Tc(5,"check_circle"),b.Wb(),b.Wb(),b.Xb(6,"div",22),b.Xb(7,"h6"),b.Tc(8,"Application Enrichment Completed"),b.Wb(),b.Wb(),b.Sb(9,"span",23),b.Xb(10,"button",24),b.fc("click",function(){return b.Hc(t),b.jc().navigate()}),b.Tc(11,"View Summary"),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(1),b.rc("@animate",b.xc(2,k,b.wc(1,E))))}function w(t,e){1&t&&(b.Xb(0,"div",25),b.Sb(1,"mat-progress-bar",26),b.Xb(2,"p",27),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function P(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",24),b.fc("click",function(){return b.Hc(t),b.jc().goToInterestSummary()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const N=function(){return["/cardaccount/applicationEnrichment/intrest-details"]};function R(t,e){1&t&&(b.Vb(0),b.Xb(1,"button",28),b.Tc(2," Add Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()),2&t&&(b.Eb(1),b.rc("routerLink",b.wc(1,N)))}function F(t,e){1&t&&(b.Xb(0,"div",25),b.Sb(1,"mat-progress-bar",26),b.Xb(2,"p",27),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function M(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",24),b.fc("click",function(){return b.Hc(t),b.jc().goToChargeSummary()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const L=function(){return["/cardaccount/applicationEnrichment/charge-details"]};function V(t,e){if(1&t&&(b.Vb(0),b.Xb(1,"button",29),b.Tc(2," Add Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()),2&t){const t=b.jc();b.Eb(1),b.rc("routerLink",b.wc(2,L))("disabled",!t.isCardInterestDetails)}}const B=function(t){return{"border-size":t}};let j=(()=>{class t{constructor(t,e,r,i,a){this.router=t,this.dialog=e,this.ls=r,this.accountService=i,this.cdr=a,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isCardApplicationEnrichmentDone=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isCardInterestDetails&&this.isCardChargeDetails&&(this.isCardApplicationEnrichmentDone=!0)}goToInterestSummary(){this.dialog.open(O,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}goToChargeSummary(){this.dialog.open(W,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}navigate(){this.router.navigate(["/cardaccount/applicationEnrichment/Summary"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(u.b),b.Rb(o.a),b.Rb(D.a),b.Rb(b.h))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-application-enrichment"]],decls:47,vars:15,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"size"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Create New Card Account"),b.Wb(),b.Wb(),b.Xb(9,"div",7),b.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),b.Wb(),b.Wb(),b.Wb(),b.Rc(11,_,12,4,"div",8),b.Wb(),b.Xb(12,"div",9),b.Xb(13,"div",10),b.Xb(14,"mat-card",11),b.Xb(15,"mat-card-header"),b.Xb(16,"mat-card-title"),b.Tc(17,"1.Interest Details"),b.Wb(),b.Wb(),b.Xb(18,"mat-card-content"),b.Xb(19,"div",12),b.Xb(20,"div",13),b.Xb(21,"p"),b.Tc(22," Interest Type and Effective Interest Rate is captured. "),b.Wb(),b.Wb(),b.Xb(23,"div",14),b.Sb(24,"img",15),b.Wb(),b.Wb(),b.Rc(25,w,4,2,"div",16),b.Wb(),b.Sb(26,"mat-divider"),b.Xb(27,"mat-card-actions"),b.Rc(28,P,5,0,"ng-container",17),b.Rc(29,R,5,2,"ng-container",17),b.Wb(),b.Wb(),b.Wb(),b.Xb(30,"div",10),b.Xb(31,"mat-card",11),b.Xb(32,"mat-card-header"),b.Xb(33,"mat-card-title"),b.Tc(34,"2.Charge Details"),b.Wb(),b.Wb(),b.Xb(35,"mat-card-content"),b.Xb(36,"div",12),b.Xb(37,"div",13),b.Xb(38,"p"),b.Tc(39," Charge Details are dispalyed. "),b.Wb(),b.Wb(),b.Xb(40,"div",14),b.Sb(41,"img",15),b.Wb(),b.Wb(),b.Rc(42,F,4,2,"div",16),b.Wb(),b.Sb(43,"mat-divider"),b.Xb(44,"mat-card-actions"),b.Rc(45,M,5,0,"ng-container",17),b.Rc(46,V,5,3,"ng-container",17),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(11),b.rc("ngIf",e.isCardApplicationEnrichmentDone),b.Eb(3),b.rc("ngClass",b.xc(11,B,e.isCardInterestDetails||!e.isCardInterestDetails)),b.Eb(10),b.rc("src","assets/images/svg/Mask Ggroup 5.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardInterestDetails),b.Eb(3),b.rc("ngIf",e.isCardInterestDetails),b.Eb(1),b.rc("ngIf",!e.isCardInterestDetails),b.Eb(2),b.rc("ngClass",b.xc(13,B,e.isCardChargeDetails||!e.isCardChargeDetails&&e.isCardInterestDetails)),b.Eb(10),b.rc("src","assets/images/esign.png",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardChargeDetails),b.Eb(3),b.rc("ngIf",e.isCardChargeDetails),b.Eb(1),b.rc("ngIf",!e.isCardChargeDetails))},directives:[h.e,h.b,i.n,p.a,i.l,T.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,A.a,m.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.size[_ngcontent-%COMP%]{padding-left:18px!important;color:#d3d3d3}"]}),t})();var z=r("pMoy");function q(t,e){if(1&t){const t=b.Yb();b.Xb(0,"tr",22),b.Vb(1,23),b.Xb(2,"td"),b.Xb(3,"mat-form-field"),b.Sb(4,"input",24),b.Wb(),b.Wb(),b.Xb(5,"td"),b.Xb(6,"mat-form-field"),b.Xb(7,"span",25),b.Tc(8),b.Wb(),b.Xb(9,"input",26),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).onKeyPress(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(10,"td"),b.Xb(11,"div",27),b.Sb(12,"mat-checkbox",28),b.Wb(),b.Wb(),b.Ub(),b.Wb()}if(2&t){const t=e.$implicit,r=b.jc(2);b.Eb(1),b.rc("formGroup",t),b.Eb(7),b.Vc("",r.currencySymbol,"\xa0")}}function U(t,e){if(1&t&&(b.Xb(0,"form",14),b.Xb(1,"div",15),b.Xb(2,"span",16),b.Tc(3,"Charge Details "),b.Wb(),b.Sb(4,"mat-divider",17),b.Wb(),b.Xb(5,"table",18),b.Xb(6,"thead",19),b.Xb(7,"tr",20),b.Xb(8,"th"),b.Tc(9,"Interest Type"),b.Wb(),b.Xb(10,"th"),b.Tc(11,"Amount"),b.Wb(),b.Xb(12,"th"),b.Tc(13,"waiever"),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"tbody"),b.Rc(15,q,13,2,"tr",21),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("formGroup",t.interestForm),b.Eb(15),b.rc("ngForOf",t.in.controls)}}let G=(()=>{class t{constructor(t,e,r,i,a,n){this.accountService=t,this.snack=e,this.ls=r,this.api=i,this.router=a,this.formBuilder=n,this.accountType="Card Origin"}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.interestForm=this.formBuilder.group({chargeInfo:new s.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])}),setTimeout(()=>{this.api.cardChargeFetchById(this.cardId).subscribe(t=>{this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})},10)}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",s.z.required],waiver:[!1],cardId:[this.cardId],chargeDetailsId:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}get f(){return this.interestForm.controls}get in(){return this.f.chargeInfo}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}onSubmit(t){t.chargeInfo=t.chargeInfo.map(t=>Object.assign({},t));let e={chargeInfo:t};e=t,this.api.cardChargeDetailsSave(e).subscribe(e=>{console.log(t),this.snack.open("Charge Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}next(){this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!0),this.ls.setItem("CARD_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/underwritingStage/list"])}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(D.a),b.Rb(d.a),b.Rb(o.a),b.Rb(l.b),b.Rb(m.h),b.Rb(s.f))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-charge-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/chargeDetails.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["matPrefix","",1,"currencySymbol"],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Charge Details"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",7),b.Sb(10,"div",8),b.Rc(11,U,16,2,"form",9),b.Wb(),b.Xb(12,"div",10),b.Xb(13,"a",11),b.fc("click",function(){return e.goBack()}),b.Tc(14,"Back"),b.Wb(),b.Sb(15,"span",12),b.Xb(16,"button",13),b.fc("click",function(){return e.onSubmit(e.interestForm.value)}),b.Tc(17,"Next"),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(11),b.rc("ngIf",e.interestForm),b.Eb(5),b.rc("disabled",e.interestForm.invalid))},directives:[h.e,h.b,i.n,g.a,g.b,s.A,s.s,s.j,X.a,i.m,y.c,f.b,s.c,s.r,s.i,y.i,s.m,z.a],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mat-form-field[_ngcontent-%COMP%]{box-shadow:0 2px 2px #dcdcdc!important;padding-left:10px}  .mat-form-field-underline{display:none}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.tableRow[_ngcontent-%COMP%]{width:500px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.waiver-pos[_ngcontent-%COMP%]{text-align:center}.currencySymbol[_ngcontent-%COMP%]{font-size:11.5px}"]}),t})();function H(t,e){if(1&t&&(b.Xb(0,"tr",17),b.Xb(1,"div",18),b.Vb(2,15),b.Xb(3,"div",19),b.Sb(4,"input",20),b.Wb(),b.Xb(5,"td"),b.Xb(6,"mat-card",21),b.Xb(7,"mat-label",22),b.Tc(8,"Interest Rate Applicable"),b.Wb(),b.Sb(9,"input",23),b.Wb(),b.Wb(),b.Xb(10,"td"),b.Xb(11,"mat-card",21),b.Xb(12,"mat-label",22),b.Tc(13,"Margin in %"),b.Wb(),b.Sb(14,"input",24),b.Wb(),b.Wb(),b.Xb(15,"td"),b.Xb(16,"mat-card",21),b.Xb(17,"mat-label",22),b.Tc(18,"Effective Rate %"),b.Wb(),b.Sb(19,"input",25),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.Eb(2),b.rc("formGroup",t)}}function Y(t,e){if(1&t&&(b.Xb(0,"form",15),b.Xb(1,"table"),b.Xb(2,"tbody"),b.Rc(3,H,20,1,"tr",16),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("formGroup",t.interestForm),b.Eb(3),b.rc("ngForOf",t.in.controls)}}function $(t,e){if(1&t&&(b.Xb(0,"tr",28),b.Xb(1,"div",29),b.Vb(2,15),b.Xb(3,"div",19),b.Sb(4,"input",20),b.Wb(),b.Xb(5,"td"),b.Xb(6,"mat-card",21),b.Xb(7,"mat-label",22),b.Tc(8,"Amount"),b.Wb(),b.Sb(9,"input",30),b.Wb(),b.Wb(),b.Xb(10,"td"),b.Xb(11,"mat-card",21),b.Xb(12,"mat-label",22),b.Tc(13,"waiver"),b.Wb(),b.Sb(14,"input",31,32),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb()),2&t){const t=e.$implicit,r=b.jc(2);b.Eb(2),b.rc("formGroup",t),b.Eb(7),b.rc("value",r.amount)}}function Q(t,e){if(1&t&&(b.Xb(0,"form",15),b.Xb(1,"table",26),b.Xb(2,"tbody"),b.Rc(3,$,16,2,"tr",27),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("formGroup",t.chargeFormIT),b.Eb(3),b.rc("ngForOf",t.in2.controls)}}let K=(()=>{class t{constructor(t,e,r,i,a){this.formBuilder=t,this.ls=e,this.snack=r,this.api=i,this.router=a,this.appEntrySummaryView=!1,this.accountType="Home Loan"}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.getCardEnrichmentDetails(this.cardId),this.interestForm=this.formBuilder.group({interest:new s.d([])}),this.savingForm=this.formBuilder.group({saving:new s.d([])}),this.chargeFormIT=this.formBuilder.group({chargeIT:new s.d([])}),this.loanForm=this.formBuilder.group({loan:new s.d([])})}getCardEnrichmentDetails(t){this.api.getCardEnrichmentSummmary(t).subscribe(t=>{console.log(t),this.intererstInfo=t.intererstInfo,console.log(this.intererstInfo),this.onCardintrest(this.intererstInfo.length),this.in.patchValue(this.intererstInfo),this.chargeInfo=t.chargeInfo,this.onCardCharge(this.chargeInfo.length),this.in2.patchValue(this.chargeInfo)})}onCardintrest(t){const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}onCardCharge(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in2.length<e)for(let r=this.in2.length;r<e;r++)this.in2.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!0],cardId:[this.cardId],chargeDetailsId:[""]}));else for(let r=this.in2.length;r>=e;r--)this.in2.removeAt(r)}get f2(){return this.chargeFormIT.controls}get in2(){return this.f2.chargeIT}get f(){return this.interestForm.controls}get in(){return this.f.interest}get iloan(){return this.floan.loan}get floan(){return this.loanForm.controls}check(t){t&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}checkbox(t){console.log(t.checked)}assignAccountType(t){this.accountType=t}Done(){this.router.navigate(["/cardaccount/underwritingStage/list"])}Back(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(s.f),b.Rb(o.a),b.Rb(d.a),b.Rb(l.b),b.Rb(m.h))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-enrichment-summary"]],decls:28,vars:2,consts:[[1,"propic","text-center"],["src","assets/images/svg/undraw_statistic_chart_38b6.svg","alt","",1,"entryImg"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"matCard"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"Next",3,"click"],[3,"formGroup"],["class","mt-4","style","display: flex;flex-wrap: wrap;",4,"ngFor","ngForOf"],[1,"mt-4",2,"display","flex","flex-wrap","wrap"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],["matInput","","formControlName","amount","name","amount","readonly","",1,"input",3,"value"],["matInput","","formControlName","waiver","name","account_branch","readonly","",1,"input"],["waiver",""]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Sb(1,"img",1),b.Wb(),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"b"),b.Tc(5,"Application Enrichment"),b.Wb(),b.Wb(),b.Wb(),b.Xb(6,"div",4),b.Xb(7,"h4",5),b.Tc(8,"Interest Details"),b.Wb(),b.Wb(),b.Xb(9,"div",6),b.Xb(10,"div",7),b.Sb(11,"div",8),b.Rc(12,Y,4,2,"form",9),b.Sb(13,"br"),b.Xb(14,"div"),b.Xb(15,"h4",5),b.Tc(16,"Card Account Charge Details"),b.Wb(),b.Wb(),b.Xb(17,"mat-card",10),b.Xb(18,"div",6),b.Sb(19,"div",11),b.Xb(20,"div",7),b.Sb(21,"div",8),b.Rc(22,Q,4,2,"form",9),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(23,"div",12),b.Xb(24,"button",13),b.fc("click",function(){return e.Back()}),b.Tc(25," Back "),b.Wb(),b.Xb(26,"button",14),b.fc("click",function(){return e.Done()}),b.Tc(27," Done "),b.Wb(),b.Wb()),2&t&&(b.Eb(12),b.rc("ngIf",e.interestForm),b.Eb(10),b.rc("ngIf",e.chargeFormIT))},directives:[h.e,h.b,i.n,p.a,h.d,h.f,g.b,s.A,s.s,s.j,i.m,f.b,s.c,s.r,s.i,y.g],styles:[".spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#213253;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:22%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}.headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}"]}),t})();var J=r("3sEA");function Z(t,e){if(1&t&&(b.Xb(0,"tr",22),b.Vb(1,23),b.Xb(2,"td"),b.Xb(3,"mat-card",24),b.Sb(4,"input",25),b.Wb(),b.Wb(),b.Xb(5,"td"),b.Xb(6,"mat-card",26),b.Sb(7,"input",27),b.Xb(8,"span",28),b.Tc(9,"%"),b.Wb(),b.Wb(),b.Wb(),b.Xb(10,"td"),b.Xb(11,"mat-card",26),b.Sb(12,"input",29),b.Xb(13,"span",28),b.Tc(14,"%"),b.Wb(),b.Wb(),b.Wb(),b.Xb(15,"td"),b.Xb(16,"mat-card",26),b.Sb(17,"input",30),b.Xb(18,"span",28),b.Tc(19,"%"),b.Wb(),b.Wb(),b.Wb(),b.Ub(),b.Wb()),2&t){const t=e.$implicit;b.Eb(1),b.rc("formGroup",t)}}function tt(t,e){if(1&t&&(b.Xb(0,"form",14),b.Xb(1,"div",15),b.Xb(2,"span",16),b.Tc(3," Interest Details "),b.Wb(),b.Sb(4,"mat-divider",17),b.Wb(),b.Xb(5,"table",18),b.Xb(6,"thead",19),b.Xb(7,"tr",20),b.Xb(8,"th"),b.Tc(9,"Interest Type"),b.Wb(),b.Xb(10,"th"),b.Tc(11,"Interest Rate Applicable"),b.Wb(),b.Xb(12,"th"),b.Tc(13,"Margin in %"),b.Wb(),b.Xb(14,"th"),b.Tc(15,"Effective Rate %"),b.Wb(),b.Wb(),b.Wb(),b.Xb(16,"tbody"),b.Rc(17,Z,20,1,"tr",21),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("formGroup",t.interestForm),b.Eb(17),b.rc("ngForOf",t.in.controls)}}let et=(()=>{class t{constructor(t,e,r,i,a,n,c){this.accountService=t,this.snack=e,this.ls=r,this.api=i,this.router=a,this.formBuilder=n,this.loader=c,this.showEditOption=!1,this.accountType="Card Origin"}ngOnInit(){this.cardId=this.ls.getItem("cardId");let t=this.ls.getItem("CARD_INTEREST_DETAILS_DONE");this.getInterestDetails(),null!=this.cardId&&t?(this.showEditOption=!0,this.getInterestDetails()):(this.showEditOption=!1,this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(t=>{t&&(this.onChangeInterest(t.length),this.in.patchValue(t))})),this.interestForm=this.formBuilder.group({interestInfo:new s.d([])})}getInterestDetails(){this.cardId=this.cardId,this.api.cardInterestFetchById(this.cardId).subscribe(t=>{this.loader.close(),t&&(this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp))},t=>{})}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",s.z.required],intrestRateApplicable:[5,s.z.required],marginIn:[null,[s.z.required,s.z.max(100),s.z.min(0)]],effectiveRate:[10,[s.z.required,s.z.max(100),s.z.min(0)]],cardInterestId:[""],cardId:[this.cardId]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}get f(){return this.interestForm.controls}get in(){return this.f.interestInfo}onSubmit(){let t={interestInfo:this.interestForm.value};t=this.interestForm.value,this.api.cardintrestDetailsSave(t).subscribe(t=>{this.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}next(){this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"])}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(D.a),b.Rb(d.a),b.Rb(o.a),b.Rb(l.b),b.Rb(m.h),b.Rb(s.f),b.Rb(J.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-intrest-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanInterest.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],[1,"matCardBox-form","box1"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matSuffix",""],["matInput","","formControlName","marginIn","name","margin","placeholder","Margin","readonly","",1,"inputPercent"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Interest Details"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",7),b.Sb(10,"div",8),b.Rc(11,tt,18,2,"form",9),b.Wb(),b.Xb(12,"div",10),b.Xb(13,"a",11),b.fc("click",function(){return e.goBack()}),b.Tc(14,"Back"),b.Wb(),b.Sb(15,"span",12),b.Xb(16,"button",13),b.fc("click",function(){return e.onSubmit()}),b.Tc(17,"Next"),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(11),b.rc("ngIf",e.interestForm),b.Eb(5),b.rc("disabled",e.interestForm.invalid))},directives:[h.e,h.b,i.n,g.a,g.b,s.A,s.s,s.j,X.a,i.m,p.a,f.b,s.c,s.r,s.i,y.j],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.matCardBox-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;align-items:center}.matCardBox-form[_ngcontent-%COMP%]   input.inputPercent[_ngcontent-%COMP%]{width:10px!important;min-width:10px!important}.box1[_ngcontent-%COMP%]{height:55px!important}.input[_ngcontent-%COMP%], .inputPercent[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.inputPercent[_ngcontent-%COMP%]{width:10%}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.bgColor[_ngcontent-%COMP%]{background-color:#c3c3c3}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}"]}),t})();var rt=r("laYw");const it=function(){return{y:"50px",delay:"300ms"}},at=function(t){return{value:"*",params:t}};function nt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",25),b.Xb(1,"mat-card"),b.Xb(2,"div",26),b.Xb(3,"div",27),b.Xb(4,"mat-icon",28),b.Tc(5,"check_circle"),b.Wb(),b.Wb(),b.Xb(6,"div",29),b.Xb(7,"h6"),b.Tc(8,"Application Entry Stage Completed"),b.Wb(),b.Wb(),b.Sb(9,"span",30),b.Xb(10,"button",31),b.fc("click",function(){return b.Hc(t),b.jc().openCardEntryStageViewSummary()}),b.Tc(11," View Summary "),b.Xb(12,"mat-icon"),b.Tc(13,"chevron_right"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(1),b.rc("@animate",b.xc(2,at,b.wc(1,it))))}function ct(t,e){1&t&&(b.Xb(0,"div",32),b.Sb(1,"mat-progress-bar",33),b.Xb(2,"p",34),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function ot(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",35),b.fc("click",function(){return b.Hc(t),b.jc().openCardInitiationSummary()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const st=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]};function lt(t,e){1&t&&(b.Vb(0),b.Xb(1,"button",36),b.Tc(2," Add Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()),2&t&&(b.Eb(1),b.rc("routerLink",b.wc(1,st)))}function bt(t,e){1&t&&(b.Xb(0,"div",32),b.Sb(1,"mat-progress-bar",33),b.Xb(2,"p",34),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function dt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",35),b.fc("click",function(){return b.Hc(t),b.jc().goToCustomerInfo()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const ut=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]};function mt(t,e){if(1&t&&(b.Xb(0,"button",37),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("routerLink",b.wc(2,ut))("disabled",!t.isCardInitiationDone)}}function pt(t,e){1&t&&(b.Xb(0,"div",32),b.Sb(1,"mat-progress-bar",33),b.Xb(2,"p",34),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function gt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",35),b.fc("click",function(){return b.Hc(t),b.jc().goToFinancialSummarry()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const ht=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]};function ft(t,e){if(1&t&&(b.Xb(0,"button",37),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("routerLink",b.wc(2,ht))("disabled",!t.isCardCustomerInformationScreen)}}function yt(t,e){1&t&&(b.Xb(0,"div",32),b.Sb(1,"mat-progress-bar",33),b.Xb(2,"p",34),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function vt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",35),b.fc("click",function(){return b.Hc(t),b.jc().cardPrefrenceSummary()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const Ct=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]};function xt(t,e){if(1&t&&(b.Xb(0,"button",37),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("routerLink",b.wc(2,Ct))("disabled",!t.isCardFinancialDetailsScreen)}}function Wt(t,e){1&t&&(b.Xb(0,"div",32),b.Sb(1,"mat-progress-bar",33),b.Xb(2,"p",34),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function Xt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",35),b.fc("click",function(){return b.Hc(t),b.jc().goToCradAccountService()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const It=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]};function St(t,e){if(1&t&&(b.Xb(0,"button",37),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("routerLink",b.wc(2,It))("disabled",!t.isCardPrefrenceDone)}}const Ot=function(t){return{"border-size":t}};let Dt=(()=>{class t{constructor(t,e,r,i){this.router=t,this.dialogService=e,this.ls=r,this.dialog=i,this.isCardPrefrenceDone=!1,this.CardInitiationScreenDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardAccountService=!1,this.isCardApplicationStageDone=!1}ngOnInit(){this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE")}openCardInitiationSummary(){this.dialogService.CardInitiationSummary()}goToFinancialSummarry(){this.dialogService.CardFinancialDetailsSummary()}goToCustomerInfo(){this.dialogService.CardCustomerInfoSummary()}goToCradAccountService(){this.dialogService.cardAccountServiceViewSummary()}cardPrefrenceSummary(){this.dialogService.cardPrefrenceSummary()}openCardEntryStageViewSummary(){this.dialogService.cardAppEntryStageViewSummary()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(rt.a),b.Rb(o.a),b.Rb(u.b))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-application-entry-stage"]],decls:101,vars:35,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],[2,"font-size","16px"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",2,"font-size","11px"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],["src","assets/images/cardInitiation.png",1,"card-img"],["class","mb-1",4,"ngIf"],[4,"ngIf"],[1,"card-img",3,"src"],[4,"ngIf","ngIfElse"],["showCustomer",""],["showFinancial",""],["showCardPrefrence",""],["showService",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","",1,"btn-color",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",1,"add-align",3,"click"],["mat-button","","color","primary",1,"add-align",3,"routerLink"],["mat-button","","color","primary",1,"add-align",3,"routerLink","disabled"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Sb(3,"img",3),b.Wb(),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"b"),b.Tc(7,"Create New Card Account"),b.Wb(),b.Wb(),b.Xb(8,"div",6),b.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),b.Wb(),b.Wb(),b.Wb(),b.Rc(10,nt,14,4,"div",7),b.Wb(),b.Xb(11,"div",8),b.Xb(12,"div",9),b.Xb(13,"mat-card",10),b.Xb(14,"mat-card-header"),b.Xb(15,"mat-card-title",11),b.Tc(16,"1. Card Initiation"),b.Wb(),b.Wb(),b.Xb(17,"mat-card-content"),b.Xb(18,"div",12),b.Xb(19,"div",13),b.Xb(20,"p",14),b.Tc(21," All the primary information about the customer is captured. "),b.Wb(),b.Wb(),b.Xb(22,"div",15),b.Sb(23,"img",16),b.Wb(),b.Wb(),b.Rc(24,ct,4,2,"div",17),b.Wb(),b.Sb(25,"mat-divider"),b.Xb(26,"mat-card-actions"),b.Rc(27,ot,5,0,"ng-container",18),b.Rc(28,lt,5,2,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Xb(29,"div",9),b.Xb(30,"mat-card",10),b.Xb(31,"mat-card-header"),b.Xb(32,"mat-card-title",11),b.Tc(33,"2. Customer Information Details"),b.Wb(),b.Wb(),b.Xb(34,"mat-card-content"),b.Xb(35,"div",12),b.Xb(36,"div",13),b.Xb(37,"p",14),b.Tc(38," All the primary information about the customer is captured. "),b.Wb(),b.Wb(),b.Xb(39,"div",15),b.Sb(40,"img",19),b.Wb(),b.Wb(),b.Rc(41,bt,4,2,"div",17),b.Wb(),b.Sb(42,"mat-divider"),b.Xb(43,"mat-card-actions"),b.Rc(44,dt,5,0,"ng-container",20),b.Rc(45,mt,4,3,"ng-template",null,21,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Xb(47,"div",9),b.Xb(48,"mat-card",10),b.Xb(49,"mat-card-header"),b.Xb(50,"mat-card-title",11),b.Tc(51,"3. Financial Details"),b.Wb(),b.Wb(),b.Xb(52,"mat-card-content"),b.Xb(53,"div",12),b.Xb(54,"div",13),b.Xb(55,"p",14),b.Tc(56," Financial Details such as Monthly Income, Monthly Expenses, Liabilities are captured. "),b.Wb(),b.Wb(),b.Xb(57,"div",15),b.Sb(58,"img",19),b.Wb(),b.Wb(),b.Rc(59,pt,4,2,"div",17),b.Wb(),b.Sb(60,"mat-divider"),b.Xb(61,"mat-card-actions"),b.Rc(62,gt,5,0,"ng-container",20),b.Rc(63,ft,4,3,"ng-template",null,22,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Xb(65,"div",9),b.Xb(66,"mat-card",10),b.Xb(67,"mat-card-header"),b.Xb(68,"mat-card-title",11),b.Tc(69,"4. Card Preferences"),b.Wb(),b.Wb(),b.Xb(70,"mat-card-content"),b.Xb(71,"div",12),b.Xb(72,"div",13),b.Xb(73,"p",14),b.Tc(74," Card related information are added. "),b.Wb(),b.Wb(),b.Xb(75,"div",15),b.Sb(76,"img",19),b.Wb(),b.Wb(),b.Rc(77,yt,4,2,"div",17),b.Wb(),b.Sb(78,"mat-divider"),b.Xb(79,"mat-card-actions"),b.Rc(80,vt,5,0,"ng-container",20),b.Rc(81,xt,4,3,"ng-template",null,23,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Xb(83,"div",9),b.Xb(84,"mat-card",10),b.Xb(85,"mat-card-header"),b.Xb(86,"mat-card-title",11),b.Tc(87,"5. Account Services"),b.Wb(),b.Wb(),b.Xb(88,"mat-card-content"),b.Xb(89,"div",12),b.Xb(90,"div",13),b.Xb(91,"p",14),b.Tc(92," Account services preferences like account statement frequency and mode are captured. "),b.Wb(),b.Wb(),b.Xb(93,"div",15),b.Sb(94,"img",19),b.Wb(),b.Wb(),b.Rc(95,Wt,4,2,"div",17),b.Wb(),b.Sb(96,"mat-divider"),b.Xb(97,"mat-card-actions"),b.Rc(98,Xt,5,0,"ng-container",20),b.Rc(99,St,4,3,"ng-template",null,24,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Dc(46),r=b.Dc(64),i=b.Dc(82),a=b.Dc(100);b.Eb(10),b.rc("ngIf",e.isCardApplicationStageDone),b.Eb(3),b.rc("ngClass",b.xc(25,Ot,e.isCardInitiationDone||!e.isCardInitiationDone)),b.Eb(11),b.rc("ngIf",e.isCardInitiationDone),b.Eb(3),b.rc("ngIf",e.isCardInitiationDone),b.Eb(1),b.rc("ngIf",!e.isCardInitiationDone),b.Eb(2),b.rc("ngClass",b.xc(27,Ot,e.isCardCustomerInformationScreen||!e.isCardCustomerInformationScreen&&e.isCardInitiationDone)),b.Eb(10),b.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardCustomerInformationScreen),b.Eb(3),b.rc("ngIf",e.isCardCustomerInformationScreen)("ngIfElse",t),b.Eb(4),b.rc("ngClass",b.xc(29,Ot,e.isCardFinancialDetailsScreen||!e.isCardFinancialDetailsScreen&&e.isCardCustomerInformationScreen)),b.Eb(10),b.rc("src","assets/images/svg/undraw_Finance_re_gnv2.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardFinancialDetailsScreen),b.Eb(3),b.rc("ngIf",e.isCardFinancialDetailsScreen)("ngIfElse",r),b.Eb(4),b.rc("ngClass",b.xc(31,Ot,e.isCardPrefrenceDone||!e.isCardPrefrenceDone&&e.isCardFinancialDetailsScreen)),b.Eb(10),b.rc("src","assets/images/svg/Mask_Group_1.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardPrefrenceDone),b.Eb(3),b.rc("ngIf",e.isCardPrefrenceDone)("ngIfElse",i),b.Eb(4),b.rc("ngClass",b.xc(33,Ot,e.isCardAccountService||!e.isCardAccountService&&e.isCardPrefrenceDone)),b.Eb(10),b.rc("src","assets/images/svg/undraw_opinion_dxp8.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardAccountService),b.Eb(3),b.rc("ngIf",e.isCardAccountService)("ngIfElse",a)}},directives:[h.e,h.b,i.n,p.a,i.l,T.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,A.a,m.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.main-title1[_ngcontent-%COMP%]{font-size:28px}.text-muted1[_ngcontent-%COMP%]{font-size:20px;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.add-align[_ngcontent-%COMP%]{padding-left:27px}"]}),t})();var Tt=r("iiaH"),At=r("NN4w"),Et=r("LvDl"),kt=r("YS3K"),_t=r("zQhy");function wt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"p",29),b.Xb(1,"mat-checkbox",30),b.fc("change",function(r){b.Hc(t);const i=e.$implicit;return b.jc(2).onChecklistChange(r.checked,i)}),b.Tc(2),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit;b.Eb(1),b.rc("value",t)("checked",t.checked),b.Eb(1),b.Vc("",t.name," ")}}function Pt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",31),b.Xb(1,"mat-checkbox",30),b.fc("change",function(r){b.Hc(t);const i=e.$implicit;return b.jc(2).onCheckComChange(r.checked,i)}),b.Tc(2),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit;b.Eb(1),b.rc("value",t)("checked",t.checked),b.Eb(1),b.Vc("",t.name," ")}}function Nt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"form",13),b.Xb(1,"div",14),b.Xb(2,"div",15),b.Xb(3,"div",16),b.Xb(4,"label"),b.Xb(5,"strong"),b.Tc(6,"Account Statement Frequency*"),b.Wb(),b.Wb(),b.Sb(7,"div",17),b.Xb(8,"mat-radio-group",18),b.fc("change",function(e){return b.Hc(t),b.jc().statementFrequency(e.value)}),b.Xb(9,"mat-radio-button",19),b.Tc(10,"Monthly"),b.Wb(),b.Xb(11,"mat-radio-button",20),b.Tc(12,"Bi-Annual"),b.Wb(),b.Sb(13,"div",17),b.Xb(14,"mat-radio-button",21),b.Tc(15,"Quaterly"),b.Wb(),b.Xb(16,"mat-radio-button",22),b.Tc(17,"Annual"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(18,"div",23),b.Xb(19,"div",16),b.Xb(20,"label"),b.Xb(21,"strong"),b.Tc(22,"Account Statement Preference*"),b.Wb(),b.Wb(),b.Sb(23,"div",17),b.Rc(24,wt,3,3,"p",24),b.Wb(),b.Wb(),b.Wb(),b.Sb(25,"div",25),b.Vb(26),b.Xb(27,"div",14),b.Xb(28,"div",23),b.Xb(29,"div",26),b.Xb(30,"div",2),b.Xb(31,"label"),b.Xb(32,"strong"),b.Tc(33,"Communication Channel Preferences*"),b.Wb(),b.Wb(),b.Sb(34,"div",27),b.Wb(),b.Xb(35,"div",2),b.Rc(36,Pt,3,3,"div",28),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ub(),b.Wb()}if(2&t){const t=b.jc();b.rc("formGroup",t.accountServiceForm),b.Eb(24),b.rc("ngForOf",t.statementList),b.Eb(12),b.rc("ngForOf",t.communicationList)}}let Rt=(()=>{class t{constructor(t,e,r,i,a,n,c,o,s,l){this.router=t,this.urlService=e,this.dataService=r,this.route=i,this.snack=a,this.ls=n,this.accountService=c,this.formBuilder=o,this.apiService=s,this.cdr=l,this.show=!1,this.selectedRow=!1,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.showEditOption=!1,this.previousUrl="",this.enableFinish=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId");let t=JSON.parse(this.ls.getItem("CARD_ACC_SERVICE_DONE"));null!=this.cardId&&t?(this.showEditOption=!0,this.gettingAccountService()):(this.showEditOption=!1,this.buildServiceForm(),this.accountServiceForm.controls.statementPref.patchValue(this.statementList),this.accountServiceForm.controls.commChannelPref.patchValue(this.communicationList)),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t})}gettingAccountService(){this.apiService.gettingCardAccountServiceDetails(this.cardId).subscribe(t=>{this.buildServiceForm(t),this.statementList=t.statementPref,this.communicationList=t.commChannelPref,this.cdr.markForCheck();for(var e=0;e<this.communicationList.length;e++)this.communicationList[e].checked&&this.commChannelPreferencesArray.push(this.communicationList[e].name);for(e=0;e<this.statementList.length;e++)this.statementList[e].checked&&this.AccStatementPreferenceArray.push(this.statementList[e].name);localStorage.setItem("statementFrequency",t.statementFrequency),this.enableFinish=!0})}statementFrequency(t){this.statementFrncy=localStorage.getItem("statementFrequency"),t!=this.statementFrncy&&(this.enableFinish=!0)}buildServiceForm(t){this.accountServiceForm=this.formBuilder.group({accServiceId:[t?t.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[t?t.statementFrequency:""],statementPref:[t?this.flattenValues(t.statementPref):""],commChannelPref:[t?this.flattenValues(t.commChannelPref):""]})}onChecklistChange(t,e){e.checked=t,this.enableFinish=!0,this.accountServiceForm.get("statementPref").setValue(this.flattenValues(this.statementList)),t?this.AccStatementPreferenceArray.push(e.name):this.AccStatementPreferenceArray.forEach((t,r)=>{t===e.name&&this.AccStatementPreferenceArray.splice(r,1)})}onCheckComChange(t,e){e.checked=t,this.accountServiceForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),t?(this.commChannelPreferencesArray.push(e.name),this.enableFinish=!0):this.commChannelPreferencesArray.forEach((t,r)=>{t===e.name&&(this.commChannelPreferencesArray.splice(r,1),this.enableFinish=!0)})}flattenValues(t){return Object(Et.flow)([Object(kt.filter)(t=>t.checked),Object(kt.flatMap)(t=>t.name)])(t).join(",")}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}onSubmit(){let t={cardId:this.cardId,statementFrequency:this.accountServiceForm.value.statementFrequency,statementPref:this.statementList,commChannelPref:this.communicationList,accountType:"cardOrigin",accServiceId:0,bankChannelPref:[],chequebookNeeded:!1,debitCardLimit:0,debitCardRequired:!1,debitCardType:"",passbookNeeded:!1,productAccountId:0};this.accountServiceForm.invalid||(this.showEditOption?this.apiService.updateAccountService(this.cardId,t).subscribe(t=>{this.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{}):this.apiService.createAccountService(this.cardId,t).subscribe(t=>{this.snack.open("Account Service Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{}),this.goToNext())}goToNext(){this.ls.setItem("CARD_ACC_SERVICE_DONE",!0),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/documentupload/list"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(At.a),b.Rb(Tt.a),b.Rb(m.a),b.Rb(d.a),b.Rb(o.a),b.Rb(D.a),b.Rb(s.f),b.Rb(l.b),b.Rb(b.h))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-card-account-services"]],decls:23,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0","bordercard"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"m-16"],["name","statementFreq","formControlName","statementFrequency","required","",1,"mt-12",3,"change"],["value","MONTHLY","color","primary",1,"ml-8"],["value","BIANNUAL","color","primary",1,"ml-16"],["value","QUATERLY","color","primary",1,"ml-8"],["value","ANNUAL","color","primary",1,"ml-16"],["fxFlex","100","fxFlex.gt-xs","50"],["formArrayName","statementPref",4,"ngFor","ngForOf"],[1,"m-32"],["fxLayout","row wrap"],[1,"m-12"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","25","formArrayName","commChannelPref"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Account Services"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",1),b.Xb(10,"div",2),b.Xb(11,"mat-card",7),b.Xb(12,"mat-card-title"),b.Xb(13,"fieldset"),b.Xb(14,"legend",8),b.Tc(15,"Account Services"),b.Wb(),b.Wb(),b.Wb(),b.Xb(16,"mat-card-content"),b.Rc(17,Nt,37,3,"form",9),b.Wb(),b.Wb(),b.Xb(18,"div",10),b.Xb(19,"button",11),b.fc("click",function(){return e.goBack()}),b.Tc(20," Back "),b.Wb(),b.Xb(21,"button",12),b.fc("click",function(){return e.onSubmit()}),b.Tc(22," Next "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(17),b.rc("ngIf",e.accountServiceForm),b.Eb(4),b.rc("disabled",!e.accountServiceForm.valid||0==e.commChannelPreferencesArray.length||0==e.AccStatementPreferenceArray.length))},directives:[h.e,h.b,p.a,p.h,p.d,i.n,h.d,h.f,g.b,s.A,s.s,s.j,_t.b,s.r,s.i,s.y,_t.a,i.m,s.e,z.a],styles:[".card-title-text[_ngcontent-%COMP%]{color:#000;padding-left:18px;font-size:30px;font-weight:700}.bordercard[_ngcontent-%COMP%]{border:1px solid #87ceeb}"]}),t})();var Ft=r("3kSh"),Mt=r("qMRc"),Lt=r("wd/R"),Vt=r("Zy1z"),Bt=r("ZTz/"),jt=r("UhP/"),zt=r("jMqV"),qt=r("o4Yh"),Ut=r("f44v"),Gt=r("TN/R"),Ht=r("2Goh"),Yt=r("SqCe");function $t(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Qt(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Ownership is Required! "),b.Wb())}function Kt(t,e){if(1&t&&(b.Xb(0,"mat-chip",54),b.Tc(1),b.Wb()),2&t){const t=b.jc().$implicit;b.rc("color","warn")("selected",t.primaryCustomer),b.Eb(1),b.Uc(t.primaryCustomer?"primary":"")}}function Jt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"a",55),b.fc("click",function(){return b.Hc(t),b.jc(3).resetAndClose()}),b.Xb(2,"mat-icon"),b.Tc(3,"close"),b.Wb(),b.Wb(),b.Ub()}}function Zt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"a",56),b.fc("click",function(){b.Hc(t);const e=b.jc().$implicit;return b.jc(2).toggleDetails(e)}),b.Xb(1,"mat-icon"),b.Tc(2,"edit"),b.Wb(),b.Wb()}}function te(t,e){if(1&t){const t=b.Yb();b.Xb(0,"a",57),b.fc("click",function(){b.Hc(t);const e=b.jc().$implicit;return b.jc(2).removeApplicant(e)}),b.Xb(1,"mat-icon"),b.Tc(2,"delete"),b.Wb(),b.Wb()}}function ee(t,e){1&t&&b.Tb(0)}const re=function(t){return{$implicit:t}};function ie(t,e){if(1&t&&(b.Vb(0),b.Rc(1,ee,1,0,"ng-container",58),b.Ub()),2&t){const t=b.jc().$implicit,e=b.Dc(29);b.Eb(1),b.rc("ngTemplateOutlet",e)("ngTemplateOutletContext",b.xc(2,re,t))}}function ae(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function ne(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Prefix is Required! "),b.Wb())}function ce(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Date of Birth is Required! "),b.Wb())}function oe(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(4);b.Hb("currency-flag currency-flag-",t.Currency1,"")}}function se(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function le(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function be(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Resident Status is Required! "),b.Wb())}function de(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(4);b.Hb("currency-flag currency-flag-",t.Currency,"")}}function ue(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function me(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Country of Residence is Required! "),b.Wb())}function pe(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function ge(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," ID Type is Required! "),b.Wb())}function he(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," ID Type Valid Till is Required! "),b.Wb())}function fe(t,e){if(1&t&&(b.Xb(0,"div",14),b.Xb(1,"mat-form-field",15),b.Xb(2,"mat-label"),b.Tc(3,"ID Type Valid Till"),b.Wb(),b.Sb(4,"input",103),b.Sb(5,"mat-datepicker-toggle",66),b.Rc(6,he,2,0,"mat-error",19),b.Wb(),b.Sb(7,"mat-datepicker",null,104),b.Wb()),2&t){const t=b.Dc(8),e=b.jc(4);b.Eb(4),b.rc("required","Aadhar card"!=e.applicant.get("idType").value)("matDatepicker",t)("min",e.validDate),b.Eb(1),b.rc("for",t),b.Eb(1),b.rc("ngIf",e.applicant.get("expiryDate").hasError("required"))}}function ye(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," First Name is Required! "),b.Wb())}function ve(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Last Name is Required! "),b.Wb())}function Ce(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function xe(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Gender is Required! "),b.Wb())}function We(t,e){1&t&&(b.Xb(0,"mat-hint",105),b.Tc(1," \xa0 Prefix and Gender does not match! "),b.Wb())}function Xe(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Birth Place is Required! "),b.Wb())}function Ie(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(4);b.Hb("currency-flag currency-flag-",t.currencyCode,"")}}function Se(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Oe(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Citizenship By is Required! "),b.Wb())}function De(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc("",t," ")}}function Te(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Occupation Type is Required! "),b.Wb())}function Ae(t,e){1&t&&(b.Xb(0,"div"),b.Tc(1,"Unique ID Number is Required!"),b.Wb())}function Ee(t,e){1&t&&(b.Xb(0,"div"),b.Tc(1,"This is a numeric field "),b.Wb())}function ke(t,e){if(1&t&&(b.Xb(0,"mat-error"),b.Rc(1,Ae,2,0,"div",19),b.Rc(2,Ee,2,0,"div",19),b.Wb()),2&t){const t=b.jc(4);b.Eb(1),b.rc("ngIf",t.applicant.get("idNumber").hasError("required")),b.Eb(1),b.rc("ngIf",t.applicant.get("idNumber").hasError("pattern"))}}function _e(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Address Line 1 is Required! "),b.Wb())}function we(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter Valid Address "),b.Wb())}function Pe(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Ne(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Residence Type is Required! "),b.Wb())}function Re(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please enter valid Zip Code!(5-10 digits) "),b.Wb())}function Fe(t,e){1&t&&(b.Xb(0,"h5",106),b.Tc(1,"Please enter valid Zip Code!(5-10 digits) "),b.Wb())}function Me(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc("",t," ")}}function Le(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," City is Required! "),b.Wb())}function Ve(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Address Line 2 is Required! "),b.Wb())}function Be(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter Valid Address "),b.Wb())}function je(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(4);b.Hb("currency-flag currency-flag-",t.editCountryCode,"")}}function ze(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function qe(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Country is Required! "),b.Wb())}function Ue(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t.stateName),b.Eb(1),b.Vc(" ",t.stateName,"")}}function Ge(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," State is Required! "),b.Wb())}function He(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Mobile Number is Required! "),b.Wb())}function Ye(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please, Enter 10 digit Mobile Number! "),b.Wb())}function $e(t,e){1&t&&(b.Xb(0,"mat-error",107),b.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),b.Wb())}function Qe(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," E-mail is Required! "),b.Wb())}function Ke(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please, Enter 10 digit Landline Number! "),b.Wb())}function Je(t,e){1&t&&(b.Xb(0,"mat-error",107),b.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),b.Wb())}function Ze(t,e){if(1&t){const t=b.Yb();b.Xb(0,"form",59),b.Xb(1,"div",60),b.Xb(2,"div",12),b.Xb(3,"div",13),b.Xb(4,"div",14),b.Xb(5,"label"),b.Tc(6,"Is the applicant an existing customer?"),b.Wb(),b.Tc(7," \xa0\xa0 "),b.Xb(8,"mat-slide-toggle",61),b.fc("change",function(e){return b.Hc(t),b.jc(3).toggleChanges(e)}),b.Wb(),b.Sb(9,"div",62),b.Wb(),b.Xb(10,"div",14),b.Xb(11,"mat-form-field",15),b.Xb(12,"mat-label"),b.Tc(13,"Prefix *"),b.Wb(),b.Xb(14,"mat-select",63),b.fc("selectionChange",function(){b.Hc(t);const e=b.jc(3);return e.onChangeData(e.applicant.get("gender").value)}),b.Rc(15,ae,2,2,"mat-option",18),b.Wb(),b.Rc(16,ne,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(17,"div",14),b.Xb(18,"mat-form-field",15),b.Xb(19,"mat-label"),b.Tc(20,"Middle Name"),b.Wb(),b.Xb(21,"input",64),b.fc("keypress",function(e){return b.Hc(t),b.jc(3).letterOnly(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(22,"div",14),b.Xb(23,"mat-form-field",15),b.Xb(24,"mat-label"),b.Tc(25,"Date of Birth *"),b.Wb(),b.Sb(26,"input",65),b.Sb(27,"mat-datepicker-toggle",66),b.Rc(28,ce,2,0,"mat-error",19),b.Wb(),b.Sb(29,"mat-datepicker",null,67),b.Wb(),b.Xb(31,"div",68),b.Xb(32,"mat-form-field",15),b.Xb(33,"mat-label"),b.Tc(34,"Birth Country"),b.Wb(),b.Xb(35,"div",69),b.Xb(36,"div",70),b.Rc(37,oe,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(38,"mat-select",72),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(3).onSelectionBirthCountry(e.value)}),b.Rc(39,se,2,2,"mat-option",18),b.Wb(),b.Wb(),b.Wb(),b.Xb(40,"div",14),b.Xb(41,"mat-form-field",15),b.Xb(42,"mat-label"),b.Tc(43,"Resident Status *"),b.Wb(),b.Xb(44,"mat-select",73),b.Rc(45,le,2,2,"mat-option",18),b.Wb(),b.Rc(46,be,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(47,"div",14),b.Xb(48,"mat-form-field",15),b.Xb(49,"mat-label"),b.Tc(50,"Country of Residence"),b.Wb(),b.Xb(51,"div",69),b.Xb(52,"div",70),b.Rc(53,de,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(54,"mat-select",74),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(3).onSelectionResidance(e.value)}),b.Xb(55,"mat-option",75),b.Tc(56,"--Select--"),b.Wb(),b.Rc(57,ue,2,2,"mat-option",18),b.Wb(),b.Rc(58,me,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(59,"div",14),b.Xb(60,"mat-form-field",15),b.Xb(61,"mat-label"),b.Tc(62,"ID Type *"),b.Wb(),b.Xb(63,"mat-select",76),b.fc("selectionChange",function(){b.Hc(t);const e=b.jc(3);return e.changeIdType(e.applicant.get("idType").value)}),b.Rc(64,pe,2,2,"mat-option",18),b.Wb(),b.Rc(65,ge,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Rc(66,fe,9,5,"div",77),b.Wb(),b.Xb(67,"div",20),b.Xb(68,"div",14),b.Xb(69,"label"),b.Tc(70,"Is the applicant a primary customer?"),b.Wb(),b.Tc(71," \xa0\xa0 "),b.Sb(72,"mat-slide-toggle",78),b.Sb(73,"div",62),b.Wb(),b.Xb(74,"div",14),b.Xb(75,"mat-form-field",15),b.Xb(76,"mat-label"),b.Tc(77,"First Name *"),b.Wb(),b.Xb(78,"input",79),b.fc("keypress",function(e){return b.Hc(t),b.jc(3).letterOnly(e)}),b.Wb(),b.Rc(79,ye,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(80,"div",14),b.Xb(81,"mat-form-field",15),b.Xb(82,"mat-label"),b.Tc(83,"Last Name *"),b.Wb(),b.Xb(84,"input",80),b.fc("keypress",function(e){return b.Hc(t),b.jc(3).letterOnly(e)}),b.Wb(),b.Rc(85,ve,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(86,"div",14),b.Xb(87,"mat-form-field",15),b.Xb(88,"mat-label"),b.Tc(89,"Gender *"),b.Wb(),b.Xb(90,"mat-select",81),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(3).onChangeData(e.value)}),b.Rc(91,Ce,2,2,"mat-option",18),b.Wb(),b.Rc(92,xe,2,0,"mat-error",19),b.Rc(93,We,2,0,"mat-hint",82),b.Wb(),b.Wb(),b.Xb(94,"div",14),b.Xb(95,"mat-form-field",15),b.Xb(96,"mat-label"),b.Tc(97,"Birth Place *"),b.Wb(),b.Sb(98,"input",83),b.Rc(99,Xe,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(100,"div",84),b.Xb(101,"mat-form-field",15),b.Xb(102,"mat-label"),b.Tc(103,"Citizenship By"),b.Wb(),b.Xb(104,"div",69),b.Xb(105,"div",70),b.Rc(106,Ie,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(107,"div",2),b.Xb(108,"mat-select",85),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(3).onSelectionCitizionship(e.value)}),b.Xb(109,"mat-option",75),b.Tc(110,"--Select--"),b.Wb(),b.Rc(111,Se,2,2,"mat-option",18),b.Wb(),b.Wb(),b.Rc(112,Oe,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(113,"div",68),b.Xb(114,"mat-form-field",15),b.Xb(115,"mat-label"),b.Tc(116,"Marital Status"),b.Wb(),b.Xb(117,"mat-select",86),b.Rc(118,De,2,2,"mat-option",18),b.Wb(),b.Wb(),b.Wb(),b.Xb(119,"div",14),b.Xb(120,"mat-form-field",15),b.Xb(121,"mat-label"),b.Tc(122,"Occupation Type *"),b.Wb(),b.Xb(123,"input",87),b.fc("keypress",function(e){return b.Hc(t),b.jc(3).letterOnly(e)}),b.Wb(),b.Rc(124,Te,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(125,"div",88),b.Xb(126,"mat-form-field",15),b.Xb(127,"mat-label"),b.Tc(128,"Unique ID Number *"),b.Wb(),b.Sb(129,"input",89),b.Rc(130,ke,3,2,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(131,"mat-accordion"),b.Xb(132,"mat-expansion-panel",39),b.Xb(133,"mat-expansion-panel-header"),b.Xb(134,"mat-panel-title"),b.Tc(135,"Communication Address "),b.Wb(),b.Wb(),b.Xb(136,"div",12),b.Xb(137,"div",13),b.Xb(138,"div",14),b.Xb(139,"mat-form-field",15),b.Xb(140,"mat-label"),b.Tc(141,"Address Line 1 *"),b.Wb(),b.Sb(142,"textarea",90),b.Rc(143,_e,2,0,"mat-error",19),b.Rc(144,we,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(145,"div",14),b.Xb(146,"mat-form-field",15),b.Xb(147,"mat-label"),b.Tc(148,"Residence Type *"),b.Wb(),b.Xb(149,"mat-select",91),b.Rc(150,Pe,2,2,"mat-option",18),b.Wb(),b.Rc(151,Ne,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(152,"div",14),b.Xb(153,"mat-form-field",15),b.Xb(154,"mat-label"),b.Tc(155,"Zip Code *"),b.Wb(),b.Xb(156,"input",92),b.fc("keypress",function(e){return b.Hc(t),b.jc(3).onKeyPress1(e)})("keyup",function(e){return b.Hc(t),b.jc(3).isAllSameDigit(e)})("change",function(e){b.Hc(t);const r=b.jc(3);return r.getCityandStateByZipcode(r.applicant.get("country").value,e.target.value)}),b.Wb(),b.Rc(157,Re,2,0,"mat-error",19),b.Wb(),b.Rc(158,Fe,2,0,"h5",93),b.Wb(),b.Xb(159,"div",14),b.Xb(160,"mat-form-field",15),b.Xb(161,"mat-label"),b.Tc(162,"City *"),b.Wb(),b.Xb(163,"mat-select",94),b.fc("selectionChange",function(){return b.Hc(t),b.jc(3).onCityChange()}),b.Rc(164,Me,2,2,"mat-option",18),b.Wb(),b.Rc(165,Le,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Xb(166,"div",20),b.Xb(167,"div",14),b.Xb(168,"mat-form-field",15),b.Xb(169,"mat-label"),b.Tc(170,"Address Line 2 *"),b.Wb(),b.Sb(171,"textarea",95),b.Rc(172,Ve,2,0,"mat-error",19),b.Rc(173,Be,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(174,"div",14),b.Xb(175,"mat-form-field",15),b.Xb(176,"mat-label"),b.Tc(177,"Country *"),b.Wb(),b.Xb(178,"div",69),b.Xb(179,"div",70),b.Rc(180,je,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(181,"mat-select",96),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(3).getStateName(e.value,!0)})("selectionChange",function(e){return b.Hc(t),b.jc(3).getCountrySelection1(e.value)}),b.Rc(182,ze,2,2,"mat-option",18),b.Wb(),b.Rc(183,qe,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(184,"div",14),b.Xb(185,"mat-form-field",15),b.Xb(186,"mat-label"),b.Tc(187,"State *"),b.Wb(),b.Xb(188,"mat-select",97),b.fc("selectionChange",function(){return b.Hc(t),b.jc(3).onStateChange()}),b.Rc(189,Ue,2,2,"mat-option",18),b.Wb(),b.Rc(190,Ge,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(191,"mat-accordion"),b.Xb(192,"mat-expansion-panel",39),b.Xb(193,"mat-expansion-panel-header"),b.Xb(194,"mat-panel-title"),b.Tc(195,"Contact Information "),b.Wb(),b.Wb(),b.Xb(196,"div",12),b.Xb(197,"div",13),b.Xb(198,"div",14),b.Xb(199,"mat-form-field",15),b.Xb(200,"mat-label"),b.Tc(201,"Mobile Number *"),b.Wb(),b.Xb(202,"input",98),b.fc("keypress",function(e){return b.Hc(t),b.jc(3).onKeyPress1(e)}),b.Wb(),b.Rc(203,He,2,0,"mat-error",19),b.Rc(204,Ye,2,0,"mat-error",19),b.Wb(),b.Rc(205,$e,2,0,"mat-error",99),b.Wb(),b.Xb(206,"div",14),b.Xb(207,"mat-form-field",15),b.Xb(208,"mat-label"),b.Tc(209,"E-mail *"),b.Wb(),b.Xb(210,"input",100),b.fc("keypress",function(){b.Hc(t);const e=b.jc(3);return e.Checkout(e.applicant)}),b.Wb(),b.Rc(211,Qe,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Xb(212,"div",20),b.Xb(213,"div",14),b.Xb(214,"mat-form-field",15),b.Xb(215,"mat-label"),b.Tc(216,"Landline Number "),b.Wb(),b.Xb(217,"input",101),b.fc("keypress",function(e){return b.Hc(t),b.jc(3).onKeyPress1(e)}),b.Wb(),b.Rc(218,Ke,2,0,"mat-error",19),b.Wb(),b.Rc(219,Je,2,0,"mat-error",99),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(220,"div",14),b.Xb(221,"button",102),b.fc("click",function(){return b.Hc(t),b.jc(3).onSubmit()}),b.Sb(222,"mat-icon"),b.Tc(223," UPDATE APPLICANT "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=b.Dc(30),e=b.jc(3);b.rc("formGroup",e.cardCustomerForm),b.Eb(15),b.rc("ngForOf",e.arrayPrefix),b.Eb(1),b.rc("ngIf",e.applicant.get("prefix").hasError("required")),b.Eb(10),b.rc("matDatepicker",t)("max",e.tomorrow)("max",e.maxDate),b.Eb(1),b.rc("for",t),b.Eb(1),b.rc("ngIf",e.applicant.get("dateOfBirth").hasError("required")),b.Eb(9),b.rc("ngIf",e.Currency1),b.Eb(2),b.rc("ngForOf",e.arrayCountry),b.Eb(6),b.rc("ngForOf",e.arrayResidence),b.Eb(1),b.rc("ngIf",e.applicant.get("residenceStatus").hasError("required")),b.Eb(7),b.rc("ngIf",e.Currency),b.Eb(4),b.rc("ngForOf",e.arrayCountry),b.Eb(1),b.rc("ngIf",e.applicant.get("countryOfResidence").hasError("required")),b.Eb(6),b.rc("ngForOf",e.arrayDocumentType),b.Eb(1),b.rc("ngIf",e.applicant.get("idType").hasError("required")),b.Eb(1),b.rc("ngIf",e.showExpiryDate),b.Eb(13),b.rc("ngIf",e.applicant.get("firstName").hasError("required")),b.Eb(6),b.rc("ngIf",e.applicant.get("lastName").hasError("required")),b.Eb(6),b.rc("ngForOf",e.arrayGender),b.Eb(1),b.rc("ngIf",e.applicant.get("gender").hasError("required")),b.Eb(1),b.rc("ngIf",!e.prefixFlag),b.Eb(6),b.rc("ngIf",e.applicant.get("placeOfBirth").hasError("required")),b.Eb(7),b.rc("ngIf",e.currencyCode),b.Eb(5),b.rc("ngForOf",e.arrayCountry),b.Eb(1),b.rc("ngIf",e.applicant.get("nationality").hasError("required")),b.Eb(6),b.rc("ngForOf",e.maritalStatusList),b.Eb(6),b.rc("ngIf",e.applicant.get("occupationType").hasError("required")),b.Eb(6),b.rc("ngIf",e.applicant.get("idNumber").touched&&!e.applicant.get("idNumber").valid),b.Eb(13),b.rc("ngIf",e.applicant.get("address1").hasError("required")),b.Eb(1),b.rc("ngIf",e.applicant.get("address1").touched&&e.applicant.get("address1").hasError("pattern")),b.Eb(6),b.rc("ngForOf",e.arrayAddressType),b.Eb(1),b.rc("ngIf",e.applicant.get("addressType").hasError("required")),b.Eb(6),b.rc("ngIf",e.applicant.get("zipCode").hasError("required")&&!e.applicant.controls.zipCode.valid&&(null==e.applicant.controls.zipCode?null:e.applicant.controls.zipCode.touched)),b.Eb(1),b.rc("ngIf",e.isAllSameDigitVal),b.Eb(6),b.rc("ngForOf",e.arrayCity),b.Eb(1),b.rc("ngIf",e.applicant.get("city").hasError("required")),b.Eb(7),b.rc("ngIf",e.applicant.get("address2").hasError("required")),b.Eb(1),b.rc("ngIf",e.applicant.get("address2").touched&&e.applicant.get("address2").hasError("pattern")),b.Eb(7),b.rc("ngIf",e.editCountryCode),b.Eb(2),b.rc("ngForOf",e.arrayCountry),b.Eb(1),b.rc("ngIf",e.applicant.get("country").hasError("required")),b.Eb(6),b.rc("ngForOf",e.arrayState),b.Eb(1),b.rc("ngIf",e.applicant.get("state").hasError("required")),b.Eb(13),b.rc("ngIf",e.applicant.get("phoneNumber").hasError("required")),b.Eb(1),b.rc("ngIf",e.applicant.get("phoneNumber").hasError("pattern")),b.Eb(1),b.rc("ngIf","0000000000"==e.applicant.get("phoneNumber").value),b.Eb(6),b.rc("ngIf",e.applicant.get("primaryEmailAdress").hasError("required")),b.Eb(7),b.rc("ngIf",e.applicant.get("landlineNumber").hasError("pattern")),b.Eb(1),b.rc("ngIf","0000000000"==e.applicant.get("landlineNumber").value),b.Eb(2),b.rc("disabled",e.applicant.invalid)}}function tr(t,e){if(1&t&&(b.Xb(0,"mat-expansion-panel",39),b.Xb(1,"mat-expansion-panel-header"),b.Xb(2,"mat-panel-title"),b.Xb(3,"mat-icon",40),b.Tc(4,"check_circle"),b.Wb(),b.Xb(5,"span",41),b.Tc(6),b.Wb(),b.Wb(),b.Wb(),b.Xb(7,"mat-card"),b.Xb(8,"mat-card-header",42),b.Xb(9,"div",43),b.Sb(10,"app-avatar-photo",44),b.Wb(),b.Xb(11,"mat-card-title"),b.Xb(12,"div",1),b.Xb(13,"h6",45),b.Tc(14),b.Wb(),b.Sb(15,"span",46),b.Rc(16,Kt,2,3,"mat-chip",47),b.Wb(),b.Wb(),b.Xb(17,"mat-card-subtitle"),b.Xb(18,"span",48),b.Tc(19),b.Wb(),b.Wb(),b.Xb(20,"div",49),b.Xb(21,"span",50),b.Rc(22,Jt,4,0,"ng-container",37),b.Rc(23,Zt,3,0,"ng-template",null,51,b.Sc),b.Rc(25,te,3,0,"a",52),b.Wb(),b.Wb(),b.Wb(),b.Xb(26,"mat-card-container"),b.Rc(27,ie,2,4,"ng-container",19),b.Rc(28,Ze,224,52,"ng-template",null,53,b.Sc),b.Wb(),b.Wb(),b.Wb()),2&t){const t=e.$implicit,r=e.index,i=b.Dc(24),a=b.jc(2);b.Eb(6),b.Vc("Applicant ",r+1,""),b.Eb(4),b.rc("name",t.firstName+" "+t.lastName),b.Eb(4),b.Uc(t.firstName+" "+t.lastName),b.Eb(2),b.rc("ngIf",t.primaryCustomer),b.Eb(3),b.Vc("CIF ",null!=t.cifNumber?"#"+t.cifNumber:"- n/a",""),b.Eb(3),b.rc("ngIf",(null==a.selectedApplicant?null:a.selectedApplicant._id)===t._id)("ngIfElse",i),b.Eb(3),b.rc("ngIf",t.dependentId),b.Eb(2),b.rc("ngIf",(null==a.selectedApplicant?null:a.selectedApplicant._id)===t._id)}}function er(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",127),b.Xb(1,"label"),b.Tc(2,"Is the applicant a primary customer?"),b.Wb(),b.Tc(3," \xa0\xa0 "),b.Xb(4,"mat-slide-toggle",128),b.fc("ngModelChange",function(e){return b.Hc(t),b.jc(3).isChecked=e}),b.Wb(),b.Sb(5,"div",62),b.Wb()}if(2&t){const t=b.jc(3);b.Eb(4),b.rc("ngModel",t.isChecked)("disabled",0==t.listOfAccounts.length)}}function rr(t,e){1&t&&(b.Xb(0,"mat-icon",129),b.Tc(1,"check_circle"),b.Wb())}function ir(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," CIF Number is Required! "),b.Wb())}function ar(t,e){1&t&&(b.Xb(0,"mat-hint",105),b.Tc(1,"Duplicate CIF Number"),b.Wb())}function nr(t,e){1&t&&(b.Xb(0,"mat-hint",130),b.Tc(1," Enter valid CIF Number!"),b.Wb())}function cr(t,e){if(1&t&&(b.Xb(0,"div",139),b.Xb(1,"h3",140),b.Tc(2),b.kc(3,"uppercase"),b.kc(4,"slice"),b.Wb(),b.Wb()),2&t){const t=b.jc().$implicit;b.Eb(2),b.Vc(" ",b.lc(3,1,b.nc(4,3,null==t?null:t.firstName,0,1))," ")}}function or(t,e){if(1&t&&(b.Xb(0,"div",141),b.Sb(1,"img",142),b.Wb()),2&t){const t=b.jc().$implicit;b.Eb(1),b.rc("src",null==t?null:t.profileImage,b.Jc)}}function sr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Xb(1,"div",131),b.Xb(2,"div",132),b.Rc(3,cr,5,7,"div",133),b.Rc(4,or,2,1,"div",134),b.Xb(5,"div",135),b.Xb(6,"h5",136),b.Tc(7),b.kc(8,"uppercase"),b.kc(9,"uppercase"),b.kc(10,"uppercase"),b.Wb(),b.Xb(11,"h6",137),b.Tc(12),b.Wb(),b.Wb(),b.Xb(13,"mat-icon",138),b.Tc(14,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t.customerId),b.Eb(3),b.rc("ngIf","not_available"==(null==t?null:t.profileImage)),b.Eb(1),b.rc("ngIf","not_available"!=(null==t?null:t.profileImage)),b.Eb(3),b.Xc(" ",b.lc(8,7,null==t?null:t.firstName)," ",b.lc(9,9,null==t?null:t.middleName)," ",b.lc(10,11,null==t?null:t.lastName)," "),b.Eb(5),b.Vc("#",null==t?null:t.cifNumber,"")}}function lr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," First Name is Required! "),b.Wb())}function br(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Last Name is Required! "),b.Wb())}function dr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Date of Birth is Required! "),b.Wb())}function ur(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(3);b.Hb("currency-flag currency-flag-",t.birthCountryFlag,"")}}function mr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function pr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function gr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Resident Status is Required! "),b.Wb())}function hr(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(3);b.Hb("currency-flag currency-flag-",t.ResideceCurrency,"")}}function fr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function yr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Country of Residence is Required! "),b.Wb())}function vr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Cr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," ID Type is Required! "),b.Wb())}function xr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," ID Type Valid Till is Required! "),b.Wb())}function Wr(t,e){if(1&t&&(b.Xb(0,"div",14),b.Xb(1,"mat-form-field",15),b.Xb(2,"mat-label"),b.Tc(3,"ID Type Valid Till "),b.Wb(),b.Sb(4,"input",103),b.Sb(5,"mat-datepicker-toggle",66),b.Rc(6,xr,2,0,"mat-error",19),b.Wb(),b.Sb(7,"mat-datepicker",null,104),b.Wb()),2&t){const t=b.Dc(8),e=b.jc(3);b.Eb(4),b.rc("required","Aadhar card"!==e.applicant.get("idType").value)("matDatepicker",t)("min",e.validDate),b.Eb(1),b.rc("for",t),b.Eb(1),b.rc("ngIf",e.applicant.get("expiryDate").hasError("required"))}}function Xr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Ir(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Prefix is Required! "),b.Wb())}function Sr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Or(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Gender is Required! "),b.Wb())}function Dr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Birth Place is Required! "),b.Wb())}function Tr(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(3);b.Hb("currency-flag currency-flag-",t.currency,"")}}function Ar(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Er(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Citizenship By is Required! "),b.Wb())}function kr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc("",t," ")}}function _r(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Occupation Type is Required! "),b.Wb())}function wr(t,e){1&t&&(b.Xb(0,"div"),b.Tc(1,"Unique ID is Required!"),b.Wb())}function Pr(t,e){1&t&&(b.Xb(0,"div"),b.Tc(1,"This is a alphanumeric field "),b.Wb())}function Nr(t,e){if(1&t&&(b.Xb(0,"mat-error"),b.Rc(1,wr,2,0,"div",19),b.Rc(2,Pr,2,0,"div",19),b.Wb()),2&t){const t=b.jc(3);b.Eb(1),b.rc("ngIf",t.applicant.get("idNumber").hasError("required")),b.Eb(1),b.rc("ngIf",t.applicant.get("idNumber").hasError("pattern"))}}function Rr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Address Line 1 is Required! "),b.Wb())}function Fr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter Valid Address "),b.Wb())}function Mr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Lr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Residence Type is Required! "),b.Wb())}function Vr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Zip code is required! "),b.Wb())}function Br(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1,"Please enter valid Zip Code!(5-10 digits)"),b.Wb())}function jr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc("",t," ")}}function zr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," City is Required! "),b.Wb())}function qr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Address Line 2 is Required! "),b.Wb())}function Ur(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter Valid Address "),b.Wb())}function Gr(t,e){if(1&t&&b.Sb(0,"div"),2&t){const t=b.jc(3);b.Hb("currency-flag currency-flag-",t.countryCode,"")}}function Hr(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Yr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Country is Required! "),b.Wb())}function $r(t,e){if(1&t&&(b.Xb(0,"mat-option",22),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t.stateName),b.Eb(1),b.Vc("",t.stateName," ")}}function Qr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," State is Required! "),b.Wb())}function Kr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Mobile Number is Required! "),b.Wb())}function Jr(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please, Enter 10 digit Mobile Number! "),b.Wb())}function Zr(t,e){1&t&&(b.Xb(0,"mat-error",107),b.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),b.Wb())}function ti(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," E-mail is Required! "),b.Wb())}function ei(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1,' "Please Enter Valid Email" '),b.Wb())}function ri(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please, Enter 10 digit Landline Number! "),b.Wb())}function ii(t,e){1&t&&(b.Xb(0,"mat-error",107),b.Tc(1," Please Enter Correct Landline Number "),b.Wb())}function ai(t,e){if(1&t&&(b.Xb(0,"a",143),b.Sb(1,"mat-icon"),b.Tc(2," SAVE APPLICANT "),b.Wb()),2&t){const t=b.jc(3);b.rc("disabled",t.applicant.invalid||t.isDuplicateCIF)}}function ni(t,e){if(1&t){const t=b.Yb();b.Xb(0,"a",144),b.fc("click",function(){return b.Hc(t),b.jc(3).onSubmit()}),b.Sb(1,"mat-icon"),b.Tc(2," SAVE APPLICANT "),b.Wb()}}function ci(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",108),b.Xb(1,"mat-accordion"),b.Xb(2,"mat-expansion-panel",109),b.Xb(3,"mat-expansion-panel-header",110),b.Xb(4,"mat-panel-title",111),b.Tc(5,"Create Applicant "),b.Wb(),b.Wb(),b.Sb(6,"mat-divider",112),b.Xb(7,"div",60),b.Xb(8,"div",113),b.Xb(9,"div",114),b.Xb(10,"label"),b.Tc(11,"Is the applicant an existing customer? "),b.Wb(),b.Tc(12," \xa0\xa0 "),b.Xb(13,"mat-slide-toggle",61),b.fc("change",function(e){return b.Hc(t),b.jc(2).toggleChanges(e)}),b.Wb(),b.Sb(14,"div",62),b.Wb(),b.Rc(15,er,6,2,"div",115),b.Wb(),b.Xb(16,"div",12),b.Xb(17,"div",13),b.Xb(18,"div",14),b.Xb(19,"div",116),b.Xb(20,"div",117),b.Xb(21,"mat-form-field",15),b.Xb(22,"mat-label"),b.Tc(23,"CIF Number"),b.Wb(),b.Xb(24,"input",118),b.fc("keypress",function(e){return b.Hc(t),b.jc(2)._keyPress(e)})("change",function(){b.Hc(t);const e=b.jc(2);return e.fetchByCif(e.applicant.get("cifNumber").value,e.applicant.get("existingCustomer").value)})("keyup",function(e){return b.Hc(t),b.jc(2).onKeyPress(e)}),b.Wb(),b.Rc(25,rr,2,0,"mat-icon",119),b.Rc(26,ir,2,0,"mat-error",19),b.Rc(27,ar,2,0,"mat-hint",82),b.Rc(28,nr,2,0,"mat-hint",120),b.Wb(),b.Wb(),b.Xb(29,"div"),b.Xb(30,"mat-autocomplete",121,122),b.Rc(32,sr,15,13,"mat-option",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(33,"div",14),b.Xb(34,"mat-form-field",15),b.Xb(35,"mat-label"),b.Tc(36,"First Name *"),b.Wb(),b.Xb(37,"input",79),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).letterOnly(e)}),b.Wb(),b.Rc(38,lr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(39,"div",14),b.Xb(40,"mat-form-field",15),b.Xb(41,"mat-label"),b.Tc(42,"Last Name *"),b.Wb(),b.Xb(43,"input",80),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).letterOnly(e)}),b.Wb(),b.Rc(44,br,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(45,"div",14),b.Xb(46,"mat-form-field",15),b.Xb(47,"mat-label"),b.Tc(48,"Date of Birth *"),b.Wb(),b.Sb(49,"input",65),b.Sb(50,"mat-datepicker-toggle",66),b.Rc(51,dr,2,0,"mat-error",19),b.Wb(),b.Sb(52,"mat-datepicker",null,67),b.Wb(),b.Xb(54,"div",14),b.Xb(55,"mat-form-field",15),b.Xb(56,"mat-label"),b.Tc(57,"Birth Country"),b.Wb(),b.Xb(58,"div",69),b.Xb(59,"div",70),b.Rc(60,ur,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(61,"mat-select",72),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(2).onBirthCountry(e.value)}),b.Rc(62,mr,2,2,"mat-option",18),b.Wb(),b.Wb(),b.Wb(),b.Xb(63,"div",14),b.Xb(64,"mat-form-field",15),b.Xb(65,"mat-label"),b.Tc(66,"Resident Status *"),b.Wb(),b.Xb(67,"mat-select",73),b.Rc(68,pr,2,2,"mat-option",18),b.Wb(),b.Rc(69,gr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(70,"div",14),b.Xb(71,"mat-form-field",15),b.Xb(72,"mat-label"),b.Tc(73,"Country of Residence"),b.Wb(),b.Xb(74,"div",69),b.Xb(75,"div",70),b.Rc(76,hr,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(77,"mat-select",74),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(2).onOtherSelectionResidance(e.value)}),b.Xb(78,"mat-option",75),b.Tc(79,"--Select--"),b.Wb(),b.Rc(80,fr,2,2,"mat-option",18),b.Wb(),b.Rc(81,yr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(82,"div",14),b.Xb(83,"mat-form-field",15),b.Xb(84,"mat-label"),b.Tc(85,"ID Type *"),b.Wb(),b.Xb(86,"mat-select",76),b.fc("selectionChange",function(){b.Hc(t);const e=b.jc(2);return e.changeIdType(e.applicant.get("idType").value)}),b.Rc(87,vr,2,2,"mat-option",18),b.Wb(),b.Rc(88,Cr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Rc(89,Wr,9,5,"div",77),b.Wb(),b.Xb(90,"div",20),b.Xb(91,"div"),b.Xb(92,"mat-form-field",15),b.Xb(93,"mat-label"),b.Tc(94,"Customer Prefix *"),b.Wb(),b.Xb(95,"mat-select",63),b.fc("selectionChange",function(){b.Hc(t);const e=b.jc(2);return e.onChangeData(e.applicant.get("gender").value)}),b.Rc(96,Xr,2,2,"mat-option",18),b.Wb(),b.Rc(97,Ir,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(98,"div",123),b.Xb(99,"mat-form-field",15),b.Xb(100,"mat-label"),b.Tc(101,"Middle Name"),b.Wb(),b.Xb(102,"input",64),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).letterOnly(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(103,"div",14),b.Xb(104,"mat-form-field",15),b.Xb(105,"mat-label"),b.Tc(106,"Gender *"),b.Wb(),b.Xb(107,"mat-select",81),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(2).onChangeData(e.value)}),b.Rc(108,Sr,2,2,"mat-option",18),b.Wb(),b.Rc(109,Or,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(110,"div",14),b.Xb(111,"mat-form-field",15),b.Xb(112,"mat-label"),b.Tc(113,"Birth Place *"),b.Wb(),b.Sb(114,"input",83),b.Rc(115,Dr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(116,"div",14),b.Xb(117,"mat-form-field",15),b.Xb(118,"mat-label"),b.Tc(119,"Citizenship By"),b.Wb(),b.Xb(120,"div",69),b.Xb(121,"div",70),b.Rc(122,Tr,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(123,"div",2),b.Xb(124,"mat-select",85),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(2).onSelectionCitizionship1(e.value)}),b.Xb(125,"mat-option",75),b.Tc(126,"--Select--"),b.Wb(),b.Rc(127,Ar,2,2,"mat-option",18),b.Wb(),b.Wb(),b.Rc(128,Er,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(129,"div",14),b.Xb(130,"mat-form-field",15),b.Xb(131,"mat-label"),b.Tc(132,"Marital Status"),b.Wb(),b.Xb(133,"mat-select",86),b.Rc(134,kr,2,2,"mat-option",18),b.Wb(),b.Wb(),b.Wb(),b.Xb(135,"div",14),b.Xb(136,"mat-form-field",15),b.Xb(137,"mat-label"),b.Tc(138,"Occupation Type *"),b.Wb(),b.Xb(139,"input",87),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).letterOnly(e)}),b.Wb(),b.Rc(140,_r,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(141,"div",14),b.Xb(142,"mat-form-field",15),b.Xb(143,"mat-label"),b.Tc(144,"Unique ID *"),b.Wb(),b.Xb(145,"input",124),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).keyPressAlphanumeric(e)}),b.Wb(),b.Rc(146,Nr,3,2,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(147,"mat-accordion"),b.Xb(148,"mat-expansion-panel",39),b.Xb(149,"mat-expansion-panel-header"),b.Xb(150,"mat-panel-title"),b.Tc(151,"Communication Address "),b.Wb(),b.Wb(),b.Xb(152,"div",12),b.Xb(153,"div",13),b.Xb(154,"div",14),b.Xb(155,"mat-form-field",15),b.Xb(156,"mat-label"),b.Tc(157,"Address Line 1 *"),b.Wb(),b.Sb(158,"textarea",90),b.Rc(159,Rr,2,0,"mat-error",19),b.Rc(160,Fr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(161,"div",14),b.Xb(162,"mat-form-field",15),b.Xb(163,"mat-label"),b.Tc(164,"Residence Type *"),b.Wb(),b.Xb(165,"mat-select",91),b.Rc(166,Mr,2,2,"mat-option",18),b.Wb(),b.Rc(167,Lr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(168,"div",14),b.Xb(169,"mat-form-field",15),b.Xb(170,"mat-label"),b.Tc(171,"Zip Code *"),b.Wb(),b.Xb(172,"input",92),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).onKeyPress1(e)})("keyup",function(e){return b.Hc(t),b.jc(2).isAllSameDigit(e)})("change",function(e){b.Hc(t);const r=b.jc(2);return r.getCityandStateByZipcode(r.applicant.get("country").value,e.target.value)}),b.Wb(),b.Wb(),b.Rc(173,Vr,2,0,"mat-error",19),b.Rc(174,Br,2,0,"mat-error",19),b.Wb(),b.Xb(175,"div",14),b.Xb(176,"mat-form-field",15),b.Xb(177,"mat-label"),b.Tc(178,"City * "),b.Wb(),b.Xb(179,"mat-select",94),b.fc("selectionChange",function(){return b.Hc(t),b.jc(2).onCityChange()}),b.Rc(180,jr,2,2,"mat-option",18),b.Wb(),b.Rc(181,zr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Xb(182,"div",20),b.Xb(183,"div",14),b.Xb(184,"mat-form-field",15),b.Xb(185,"mat-label"),b.Tc(186,"Address Line 2 *"),b.Wb(),b.Sb(187,"textarea",95),b.Rc(188,qr,2,0,"mat-error",19),b.Rc(189,Ur,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(190,"div",14),b.Xb(191,"mat-form-field",15),b.Xb(192,"mat-label"),b.Tc(193,"Country *"),b.Wb(),b.Xb(194,"div",69),b.Xb(195,"div",70),b.Rc(196,Gr,1,3,"div",71),b.Wb(),b.Wb(),b.Xb(197,"mat-select",96),b.fc("selectionChange",function(e){return b.Hc(t),b.jc(2).getStateName(e.value,!0)})("selectionChange",function(e){return b.Hc(t),b.jc(2).getCountrySelection(e.value)}),b.Rc(198,Hr,2,2,"mat-option",18),b.Wb(),b.Rc(199,Yr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Xb(200,"div",14),b.Xb(201,"mat-form-field",15),b.Xb(202,"mat-label"),b.Tc(203,"State *"),b.Wb(),b.Xb(204,"mat-select",97),b.fc("selectionChange",function(){return b.Hc(t),b.jc(2).onStateChange()}),b.Rc(205,$r,2,2,"mat-option",18),b.Wb(),b.Rc(206,Qr,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(207,"mat-accordion"),b.Xb(208,"mat-expansion-panel",39),b.Xb(209,"mat-expansion-panel-header"),b.Xb(210,"mat-panel-title"),b.Tc(211,"Contact Information "),b.Wb(),b.Wb(),b.Xb(212,"div",12),b.Xb(213,"div",13),b.Xb(214,"div",14),b.Xb(215,"mat-form-field",15),b.Xb(216,"mat-label"),b.Tc(217,"Mobile Number *"),b.Wb(),b.Xb(218,"input",98),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).onKeyPress1(e)}),b.Wb(),b.Rc(219,Kr,2,0,"mat-error",19),b.Rc(220,Jr,2,0,"mat-error",19),b.Wb(),b.Rc(221,Zr,2,0,"mat-error",99),b.Wb(),b.Xb(222,"div",14),b.Xb(223,"mat-form-field",15),b.Xb(224,"mat-label"),b.Tc(225,"E-mail *"),b.Wb(),b.Xb(226,"input",100),b.fc("keypress",function(){b.Hc(t);const e=b.jc(2);return e.Checkout(e.applicant)}),b.Wb(),b.Rc(227,ti,2,0,"mat-error",19),b.Rc(228,ei,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Xb(229,"div",20),b.Xb(230,"div",14),b.Xb(231,"mat-form-field",15),b.Xb(232,"mat-label"),b.Tc(233,"Landline Number "),b.Wb(),b.Xb(234,"input",101),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).onKeyPress1(e)}),b.Wb(),b.Rc(235,ri,2,0,"mat-error",19),b.Wb(),b.Rc(236,ii,2,0,"mat-error",99),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Sb(237,"div",14),b.Xb(238,"div",14),b.Rc(239,ai,3,1,"a",125),b.Rc(240,ni,3,0,"ng-template",null,126,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=b.Dc(31),e=b.Dc(53),r=b.Dc(241),i=b.jc(2);b.Eb(2),b.rc("expanded",i.cardCustomerForm.get("numOfApplicants").value!==i.listOfAccounts.length),b.Eb(13),b.rc("ngIf",0==i.listOfAccounts.length),b.Eb(9),b.rc("formControl",i.cifNumberForm)("matAutocomplete",t)("readonly",1!=i.applicant.get("existingCustomer").value),b.Eb(1),b.rc("ngIf",i.isCifValid),b.Eb(1),b.rc("ngIf",i.applicant.get("cifNumber").hasError("required")&&!i.isCifValid),b.Eb(1),b.rc("ngIf",i.isDuplicateCIF),b.Eb(1),b.rc("ngIf",!i.isCifValid&&i.onbackSpace),b.Eb(4),b.rc("ngForOf",i.listOfCustByCif),b.Eb(6),b.rc("ngIf",i.applicant.get("firstName").hasError("required")),b.Eb(6),b.rc("ngIf",i.applicant.get("lastName").hasError("required")),b.Eb(5),b.rc("matDatepicker",e)("max",i.tomorrow)("max",i.maxDate),b.Eb(1),b.rc("for",e),b.Eb(1),b.rc("ngIf",i.applicant.get("dateOfBirth").hasError("required")),b.Eb(7),b.Oc("display",null==i.birthCountryFlag?"none":""),b.Eb(2),b.rc("ngIf",i.isBirthCountry),b.Eb(2),b.rc("ngForOf",i.arrayCountry),b.Eb(6),b.rc("ngForOf",i.arrayResidence),b.Eb(1),b.rc("ngIf",i.applicant.get("residenceStatus").hasError("required")),b.Eb(7),b.rc("ngIf",i.isResidency),b.Eb(4),b.rc("ngForOf",i.arrayCountry),b.Eb(1),b.rc("ngIf",i.applicant.get("countryOfResidence").hasError("required")),b.Eb(6),b.rc("ngForOf",i.arrayDocumentType),b.Eb(1),b.rc("ngIf",i.applicant.get("idType").hasError("required")),b.Eb(1),b.rc("ngIf",i.showExpiryDate&&"Aadhar card"!==i.applicant.get("idType").value),b.Eb(7),b.rc("ngForOf",i.arrayPrefix),b.Eb(1),b.rc("ngIf",i.applicant.get("prefix").hasError("required")),b.Eb(11),b.rc("ngForOf",i.arrayGender),b.Eb(1),b.rc("ngIf",i.applicant.get("gender").hasError("required")),b.Eb(6),b.rc("ngIf",i.applicant.get("placeOfBirth").hasError("required")),b.Eb(5),b.Oc("display",null==i.currency?"none":""),b.Eb(2),b.rc("ngIf",i.citizenshipFflag),b.Eb(5),b.rc("ngForOf",i.arrayCountry),b.Eb(1),b.rc("ngIf",i.applicant.get("nationality").hasError("required")),b.Eb(6),b.rc("ngForOf",i.maritalStatusList),b.Eb(6),b.rc("ngIf",i.applicant.get("occupationType").hasError("required")),b.Eb(6),b.rc("ngIf",i.applicant.get("idNumber").touched&&!i.applicant.get("idNumber").valid),b.Eb(13),b.rc("ngIf",i.applicant.get("address1").hasError("required")),b.Eb(1),b.rc("ngIf",i.applicant.get("address1").touched&&i.applicant.get("address1").hasError("pattern")),b.Eb(6),b.rc("ngForOf",i.arrayAddressType),b.Eb(1),b.rc("ngIf",i.applicant.get("addressType").hasError("required")),b.Eb(6),b.rc("ngIf",i.applicant.get("zipCode").hasError("required")&&!i.applicant.controls.zipCode.valid&&(null==i.applicant.controls.zipCode?null:i.applicant.controls.zipCode.touched)),b.Eb(1),b.rc("ngIf",null==i.applicant.get("zipCode").errors?null:i.applicant.get("zipCode").errors.pattern),b.Eb(6),b.rc("ngForOf",i.arrayCity),b.Eb(1),b.rc("ngIf",i.applicant.get("city").hasError("required")),b.Eb(7),b.rc("ngIf",i.applicant.get("address2").hasError("required")),b.Eb(1),b.rc("ngIf",i.applicant.get("address2").touched&&i.applicant.get("address2").hasError("pattern")),b.Eb(7),b.rc("ngIf",i.isCountry),b.Eb(2),b.rc("ngForOf",i.arrayCountry),b.Eb(1),b.rc("ngIf",i.applicant.get("country").hasError("required")),b.Eb(6),b.rc("ngForOf",i.arrayState),b.Eb(1),b.rc("ngIf",i.applicant.get("state").hasError("required")),b.Eb(13),b.rc("ngIf",i.applicant.get("phoneNumber").hasError("required")),b.Eb(1),b.rc("ngIf",i.applicant.get("phoneNumber").hasError("pattern")),b.Eb(1),b.rc("ngIf","0000000000"==i.applicant.get("phoneNumber").value),b.Eb(6),b.rc("ngIf",i.applicant.get("primaryEmailAdress").hasError("required")),b.Eb(1),b.rc("ngIf",(null==i.applicant.get("primaryEmailAdress").errors?null:i.applicant.get("primaryEmailAdress").errors.email)||(null==i.applicant.get("primaryEmailAdress").errors?null:i.applicant.get("primaryEmailAdress").errors.pattern)),b.Eb(7),b.rc("ngIf",i.applicant.get("landlineNumber").hasError("pattern")),b.Eb(1),b.rc("ngIf","0000000000"==i.applicant.get("landlineNumber").value),b.Eb(3),b.rc("ngIf",i.applicant.invalid||i.isDuplicateCIF||i.disableSaveBtn)("ngIfElse",r)}}function oi(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",145),b.fc("click",function(){return b.Hc(t),b.jc(2).goToNext()}),b.Tc(2," Next "),b.Wb(),b.Ub()}if(2&t){const t=b.jc(2);b.Eb(1),b.rc("disabled",t.cardCustomerForm.get("numOfApplicants").value===t.listOfAccounts.length?"false":"true")}}function si(t,e){if(1&t){const t=b.Yb();b.Xb(0,"button",145),b.fc("click",function(){return b.Hc(t),b.jc(2).goToNext()}),b.Tc(1," Next "),b.Wb()}if(2&t){const t=b.jc(2);b.rc("disabled",t.cardCustomerForm.get("numOfApplicants").value!==t.listOfAccounts.length||t.cardCustomerForm.invalid&&null!==t.selectedApplicant)}}function li(t,e){if(1&t){const t=b.Yb();b.Xb(0,"form",11),b.Xb(1,"div",12),b.Xb(2,"div",13),b.Xb(3,"div",14),b.Xb(4,"mat-form-field",15),b.Xb(5,"mat-label"),b.Tc(6,"Ownership"),b.Wb(),b.Xb(7,"mat-select",16),b.fc("valueChange",function(e){return b.Hc(t),b.jc().selectedOwnership=e})("selectionChange",function(e){return b.Hc(t),b.jc().selectOwnershipChange(e)}),b.Xb(8,"mat-option",17),b.Tc(9,"Select"),b.Wb(),b.Rc(10,$t,2,2,"mat-option",18),b.Wb(),b.Rc(11,Qt,2,0,"mat-error",19),b.Wb(),b.Wb(),b.Wb(),b.Xb(12,"div",20),b.Xb(13,"div",14),b.Vb(14),b.Xb(15,"mat-form-field",15),b.Xb(16,"mat-label"),b.Tc(17,"Number of Applicants *"),b.Wb(),b.Xb(18,"mat-select",21),b.Xb(19,"mat-option",22),b.Tc(20,"1"),b.Wb(),b.Xb(21,"mat-option",22),b.Tc(22,"2"),b.Wb(),b.Xb(23,"mat-option",22),b.Tc(24,"3"),b.Wb(),b.Xb(25,"mat-option",22),b.Tc(26,"4"),b.Wb(),b.Xb(27,"mat-option",22),b.Tc(28,"5"),b.Wb(),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb(),b.Wb(),b.Xb(29,"div",1),b.Xb(30,"div",20),b.Xb(31,"div",23),b.Xb(32,"h2"),b.Tc(33,"Details Of the Applicant"),b.Wb(),b.Wb(),b.Wb(),b.Xb(34,"div",24),b.Xb(35,"div",23),b.Xb(36,"p",25),b.Tc(37),b.Wb(),b.Sb(38,"mat-progress-bar",26),b.Xb(39,"mat-hint"),b.Xb(40,"small"),b.Tc(41," completed / total applicants "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(42,"div",12),b.Xb(43,"div",27),b.Xb(44,"div",28),b.Xb(45,"div",14),b.Xb(46,"label",29),b.Tc(47,"Add on CardHolder"),b.Wb(),b.Xb(48,"mat-slide-toggle",30),b.fc("change",function(e){return b.Hc(t),b.jc().goToggle(e)}),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(49,"div",31),b.Xb(50,"mat-accordion",32),b.Rc(51,tr,30,9,"mat-expansion-panel",33),b.Wb(),b.Wb(),b.Rc(52,ci,242,66,"div",34),b.Xb(53,"div",35),b.Xb(54,"button",36),b.fc("click",function(){return b.Hc(t),b.jc().goBack()}),b.Tc(55," Back "),b.Wb(),b.Rc(56,oi,3,1,"ng-container",37),b.Rc(57,si,2,1,"ng-template",null,38,b.Sc),b.Wb(),b.Wb()}if(2&t){const t=b.Dc(58),e=b.jc();b.rc("formGroup",e.cardCustomerForm),b.Eb(7),b.rc("value",e.selectedOwnership),b.Eb(3),b.rc("ngForOf",e.arrayOwnership),b.Eb(1),b.rc("ngIf",e.cardCustomerForm.get("ownership").hasError("required")),b.Eb(8),b.rc("value",1),b.Eb(2),b.rc("value",2),b.Eb(2),b.rc("value",3),b.Eb(2),b.rc("value",4),b.Eb(2),b.rc("value",5),b.Eb(10),b.Wc("Completed ",e.listOfAccounts.length," / ",e.cardCustomerForm.get("numOfApplicants").value,""),b.Eb(1),b.rc("color",e.cardCustomerForm.get("numOfApplicants").value===e.listOfAccounts.length?"primary":"accent")("value",e.cardCustomerForm.get("numOfApplicants").value===e.listOfAccounts.length?100:50),b.Eb(13),b.rc("ngForOf",e.listOfAccounts),b.Eb(1),b.rc("ngIf",null==e.selectedApplicant&&e.cardCustomerForm.get("numOfApplicants").value!==e.listOfAccounts.length),b.Eb(4),b.rc("ngIf","Joint"==e.cardCustomerForm.get("ownership").value)("ngIfElse",t)}}let bi=(()=>{class t{constructor(t,e,r,i,a,n,c,o,l,b,d,u,m,p,g,h){this.router=t,this.dialog=e,this.route=r,this.accountService=i,this.elRef=a,this.renderer=n,this.ls=c,this.apiService=o,this.formBuilder=l,this.confirmService=b,this.cdr=d,this.appApiService=u,this.snack=m,this.dataService=p,this.urlService=g,this.loader=h,this.cifNumberForm=new s.g,this.listOfCustByCif=[],this.submitted=!1,this.console=console,this.customerIdProofs=[],this.selfNextBtnDisabled=!0,this.arrayPrefix=[],this.arrayGender=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayAddressType=[],this.toggle=!1,this.applicantDetails=[],this.showEditOption=!1,this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.isCifValid=!1,this.isCustomerDone=!1,this.previousUrl="",this.addOnCard=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAllSameDigitVal=!1,this.isResidency=!1,this.isCurrency=!1,this.addonCardValue=!1,this.isBirthCountry=!1,this.isCountry=!1,this.prefixFlag=!1,this.selectedOwnership="Self",this.citizenshipFflag=!1,this.tomorrow.setDate(this.tomorrow.getDate()),this.validDate.setDate(this.validDate.getDate())}ngOnInit(){this.console.log(this.i),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.isCustomerDone=JSON.parse(this.ls.getItem("Card_Customer_Done")),this.addOnCard=this.ls.getItem("ADD_ON_CARD")||!1,console.log("ADD_ON_CARD",this.addOnCard),this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),console.log(this.cifNumberPrimary),this.buildCustomerForm(),this.getListOfAccounts(),this.getOwnershipValue("ownership"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getAdressType("address_type"),this.getAllAuthCities(),this.prefixFlag=!0,this.getDocumentType("document_type"),this.getMaritalStatus("maritial_Status"),this.isChecked=!0,this.disabled=!1,this.disabledToggle=!0,1==this.addOnCard&&this.goToggle("event"),null!=this.cardId&&this.isCustomerDone?(this.showEditOption=!0,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{this.buildCustomerForm(t)},t=>{}),this.getListOfAccounts(),this.dataExtracted()):(this.showEditOption=!1,this.subscription=this.apiService.getaccParam.subscribe(t=>{console.log("data::",t),this.dispResponse=t,this.customerIdProofs=t.custIdProofs})),this.cardCustomerForm.get("ownership").valueChanges.subscribe(t=>{console.log("ownership ?",t),"Joint"==t?(this.cardCustomerForm.get("addOnCard").patchValue(!0),this.ls.setItem("ADD_ON_CARD",!0),this.cardCustomerForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}),this.cardCustomerForm.get("applicantDetails").reset(),this.disabled=!1,console.log("this.cardCustomerForm.get('numOfApplicants')",this.cardCustomerForm.get("numOfApplicants"))):(this.cardCustomerForm.get("addOnCard").patchValue(!1),this.ls.setItem("ADD_ON_CARD",!1),this.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}),this.cardCustomerForm.get("numOfApplicants").valueChanges.subscribe(t=>{console.log("ownership ?",t),1==t?(this.console.log("if"),this.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0)):(this.cardCustomerForm.get("ownership").patchValue("Joint",{onlySelf:!0,emitEvent:!1}),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1),this.disabled=!1)}),console.log(this.cardCustomerForm),console.log(this.listOfAccounts),console.log(this.selectedApplicant)}dataExtracted(){this.ownershipStatus=this.ls.getItem("cardownership_value"),console.log("ownership ?",this.ownershipStatus),"Self"==this.ownershipStatus?(console.log("calling"),this.cardCustomerForm.get("numOfApplicants").setValue(1)):this.cardCustomerForm.get("numOfApplicants").setValue(2),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),this.console.log(this.noOfapplicants),1==this.noOfapplicants?this.cardCustomerForm.get("ownership").setValue("Self"):this.cardCustomerForm.get("ownership").setValue("Joint"),this.applicant.get("idType").valueChanges.pipe(Object(Vt.a)()).subscribe(([t,e])=>{this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue("")}),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t}),this.accountService.refresh.subscribe(t=>{this.isCustomerDone=JSON.parse(this.ls.getItem("Card_Customer_Done")),this.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber)}populatePrimaryApplicant(t){this.getStateName(t.country);let e={cifNumber:this.cifNumberPrimary,prefix:t.prefix,existingCustomer:!0,primaryCustomer:!0,customerId:t.customerId,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,gender:t.gender,dateOfBirth:this.convertDate(t.dateOfBirth),placeOfBirth:t.placeOfBirth,residenceStatus:t.residenceStatus,nationality:t.nationality,countryOfResidence:t.countryOfResidence,occupationType:t.occupationType,idType:t.idType,idNumber:t.idNumber,expiryDate:this.convertDate(null==t?void 0:t.expiryDate)||"",addressType:t.addressType,address1:t.address1,address2:t.address2,city:t.city,country:t.country,state:t.state,zipCode:t.zipCode,phoneNumber:t.phoneNumber,landlineNumber:t.landlineNumber,primaryEmailAdress:t.primaryEmailAdress,maritalStatus:t.maritalStatus,birthCountry:t.birthCountry};this.applicant.patchValue(e)}changeIdType(t){var e;console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs),this.showExpiryDate=!0,"Aadhar card"===t&&(console.log("if"),console.log(this.applicant.get("expiryDate")),this.applicant.get("expiryDate").setValidators([s.z.nullValidator]),this.applicant.get("expiryDate").updateValueAndValidity(),console.log(this.applicant.get("expiryDate")),this.showExpiryDate=!1);let r=this.customerIdProofs.filter(e=>e.idType==t);console.log("idProofs::",r),r.length>0?(this.applicant.get("idNumber").patchValue(r[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(null===(e=r[0])||void 0===e?void 0:e.expiryDate)||"")):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}isObjectEmpty(t){return"[object Object]"===Object.prototype.toString.call(t)&&"{}"===JSON.stringify(t)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}onChangeData(t){let e=this.applicant.value.prefix;e&&this.applicant.value.gender&&("Mr"==e&&"Male"==t||("Ms"==e||"Mrs"==e)&&"Female"==t?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}toggleDetails(t){var e;let r;console.log(this.cardCustomerForm),console.log("customerId incomming",t),this.cardCustomerForm.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),this.console.log(t.userAddress.length),r=t.userAddress.length>1?t.userAddress.find(t=>"Permanent"==t.addressType):t.userAddress[0],this.getStateName(r.country),"Aadhar card"==this.cardCustomerForm.controls.applicantDetails.get("idType").value&&(this.cardCustomerForm.controls.applicantDetails.get("expiryDate").setValidators([s.z.nullValidator]),this.cardCustomerForm.controls.applicantDetails.updateValueAndValidity());let i={existingCustomer:t.existingCustomer,dependentId:t.dependentId,primaryCustomer:t.primaryCustomer,cifNumber:t.cifNumber,prefix:t.prefix,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,gender:t.gender,dateOfBirth:t.dateOfBirth,placeOfBirth:t.placeOfBirth,residenceStatus:t.residenceStatus,nationality:t.nationality,countryOfResidence:t.countryOfResidence,occupationType:t.occupationType,idType:t.custIdProofs[0].idType,idNumber:t.custIdProofs[0].idNumber,expiryDate:(null===(e=t.custIdProofs[0])||void 0===e?void 0:e.expiryDate)||"",addressType:r.addressType,address1:r.address1,address2:r.address2,city:r.city,state:r.state,country:r.country,zipCode:r.zipCode,phoneNumber:t.phoneNumber,landlineNumber:t.landlineNumber,primaryEmailAdress:t.primaryEmailAdress,maritalStatus:t.maritalStatus,birthCountry:t.birthCountry};console.log("account.firstName=",t.firstName),this.selectedApplicant=t,console.log("payLoadModel",i),this.applicant.patchValue(i,{onlySelf:!1,emitEvent:!1}),this.onSelectionBirthCountry(i.birthCountry),this.onSelectionResidance(i.countryOfResidence),this.onSelectionCitizionship(i.nationality),this.getCountrySelection1(i.country),this.onBirthCountry(i.birthCountry),this.cdr.markForCheck(),console.log(this.selectedApplicant),1==this.selectedApplicant.existingCustomer?(this.applicant.get("cifNumber").setValidators([s.z.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.get("cifNumber").setValidators([s.z.nullValidator]),this.applicant.get("cifNumber").updateValueAndValidity())}resetAndClose(){this.closeDetails()}closeDetails(){this.selectedApplicant=null,this.applicant.reset(),this.cardCustomerForm.get("numOfApplicants").enable({onlySelf:!0})}getListOfAccounts(){this.isResidency=!1,this.isCurrency=!1,this.isBirthCountry=!1,this.citizenshipFflag=!1,this.isCountry=!1,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{this.listOfAccounts=200==t.status?t.data.map(t=>Object.assign(Object.assign({},t),{_id:Math.round(1e10*Math.random())})):[],this.console.log(" this.listOfAccounts",this.listOfAccounts),console.log("All Customer Details",this.listOfAccounts.length),200==t.status&&this.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",this.listOfAccounts.length);const e=["prefix","firstName","lastName","dateOfBirth","gender","birthCountry","placeOfBirth","residenceStatus","countryOfResidence","nationality","maritalStatus","occupationType","phoneNumber","primaryEmailAdress"],r=["idType","expiryDate","idNumber"],i=["address1","address2","addressType","country","state","city","zipCode"];if(this.listOfAccounts.map(t=>{e.map(e=>{if(null==t[e])return this.selfNextBtnDisabled=!0;r.map(e=>{if(null==t.custIdProofs[e])return this.selfNextBtnDisabled=!0;i.map(e=>this.selfNextBtnDisabled=null==t.userAddress[e])})}),console.log("selfNextBtnDisabled ",this.selfNextBtnDisabled)}),0==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0);else if(1==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1);else if(this.listOfAccounts.length>=2){this.cardCustomerForm.get("ownership").patchValue("Joint"),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1);for(let e=0;e<t.data.length;e++)console.log("number calling",t.data[e]),this.cardCustomerForm.get("numOfApplicants").patchValue(t.data[e].numOfApplicants)}this.cdr.markForCheck(),this.toggleChanges()},t=>{})}removeApplicant(t){this.confirmService.confirm({title:"Confirm",message:"Are you sure want to delete?",ok:"Yes",cancel:"No"}).subscribe(e=>{console.log("res:: removed ",e),e&&this.appApiService.deleteApplicant(t.customerId,t.dependentId).subscribe(t=>{},e=>{console.log(e),200==e.status&&(this.snack.open(`Dependent ${t.firstName} ${e.error.text}!`,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getListOfAccounts())})})}fetchByCif(t,e){this.listOfAccounts.some(e=>e.cifNumber==t)?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.currency=null,this.birthCountryFlag=null,t&&this.appApiService.fetchByCif(t).subscribe(t=>{var r;if(console.log(t),!t)return this.isCifValid=!1,this.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void this.applicant.get("cifNumber").patchValue("");{let i;this.applicant.get("expiryDate").clearValidators(),this.isCifValid=!0,this.ls.setItem("cId",t.customerInfoList[0].customerId),this.console.log(t.customerInfoList[0].userAddress.length),t.customerInfoList[0].userAddress.length>1?(i=t.customerInfoList[0].userAddress.find(t=>"Permanent"==t.addressType),console.log(i)):(i=t.customerInfoList[0].userAddress[0],console.log(i));let a=Lt(null===(r=t.customerInfoList[0].custIdProofs[0])||void 0===r?void 0:r.expiryDate).format();this.console.log(a),this.getStateName(i.country),this.onSelectionCitizionship1(t.customerInfoList[0].nationality),this.onOtherSelectionResidance(t.customerInfoList[0].countryOfResidence),console.log(t.customerInfoList[0].birthCountry),this.onBirthCountry(t.customerInfoList[0].birthCountry),this.getCountrySelection(i.country);let n={prefix:t.customerInfoList[0].prefix,cifNumber:t.customerInfoList[0].cifNumber,existingCustomer:e,customerId:t.customerInfoList[0].customerId,firstName:t.customerInfoList[0].firstName,middleName:t.customerInfoList[0].middleName,lastName:t.customerInfoList[0].lastName,gender:t.customerInfoList[0].gender,dateOfBirth:this.convertDate(t.customerInfoList[0].dateOfBirth),placeOfBirth:t.customerInfoList[0].placeOfBirth,residenceStatus:t.customerInfoList[0].residenceStatus,nationality:t.customerInfoList[0].nationality,countryOfResidence:t.customerInfoList[0].countryOfResidence,occupationType:t.customerInfoList[0].occupationType,idType:t.customerInfoList[0].custIdProofs.length>0?t.customerInfoList[0].custIdProofs[0].idType:"",idNumber:t.customerInfoList[0].custIdProofs.length>0?t.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:a,addressType:i.addressType,address1:i.address1,address2:i.address2,city:i.city,country:i.country,state:i.state,zipCode:i.zipCode,phoneNumber:t.customerInfoList[0].phoneNumber,landlineNumber:t.customerInfoList[0].landlineNumber,primaryEmailAdress:t.customerInfoList[0].primaryEmailAdress,maritalStatus:t.customerInfoList[0].maritalStatus,birthCountry:t.customerInfoList[0].birthCountry};this.console.log("res.customerInfoList[0].firstName=",t.customerInfoList[0].firstName),this.customerName=t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName,this.applicant.patchValue(n),console.log(this.applicant)}this.cdr.markForCheck()},t=>{console.error(t)}))}convertDate(t){let e=Lt(t).format("YYYY-MM-DD")||null;if(e)return e}buildCustomerForm(t){var e;this.cardCustomerForm=this.formBuilder.group({productAccountId:[t?t.productAccountId:this.accountId],ownership:[t&&(null===(e=t.data[0])||void 0===e?void 0:e.ownership)||"Self"],numOfApplicants:[t&&t.data[0].numOfApplicants||1],addOnCard:[t?t.data[0].addOnCard:this.addOnCard],applicantDetails:this.addCustFormGroup()})}toggleChanges(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([s.z.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.patchValue({cifNumber:""}),this.isDuplicateCIF=!1,this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}addCustFormGroup(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:["",s.z.required],firstName:["",s.z.required],middleName:[""],maritalStatus:["",s.z.required],birthCountry:["",s.z.required],lastName:["",s.z.required],gender:["",s.z.required],dateOfBirth:["",s.z.required],placeOfBirth:["",s.z.required],residenceStatus:["",s.z.required],nationality:["",s.z.required],countryOfResidence:["",s.z.required],occupationType:["",s.z.required],idType:["",s.z.required],idNumber:["",s.z.required],expiryDate:[""],addressType:["",s.z.required],address1:["",[s.z.required,s.z.pattern(".*[a-zA-Z].*")]],address2:["",[s.z.required,s.z.pattern(".*[a-zA-Z].*")]],city:["",s.z.required],state:["",s.z.required],country:["",s.z.required],zipCode:["",[s.z.required,s.z.minLength(5),s.z.maxLength(10),s.z.pattern("^[0-9]{5,10}$")]],phoneNumber:["",[s.z.required,s.z.minLength(3),s.z.maxLength(10),s.z.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[s.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[s.z.required,s.z.email,s.z.pattern("^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[a-z]{2,4}$")]]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}validateNumber(t){const e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}get f(){return this.cardCustomerForm.controls}get applicantCount(){return this.f.numOfApplicants}get applicant(){return this.f.applicantDetails}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getMaritalStatus(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.maritalStatusList=t})}getOwnershipValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayOwnership=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getAdressType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAddressType=t})}getStateName(t,e){e&&(this.applicant.get("zipCode").setValue(""),this.applicant.get("state").setValue(""),this.applicant.get("city").setValue("")),this.applicant.get("city").setValue(""),this.apiService.getAllCountries().subscribe(e=>{for(let r=0;r<e.length;r++)if(e[r].countryName==t){this.apiService.getStateByCountryId(e[r].id).subscribe(t=>{this.arrayState=t});break}})}getAllAuthCities(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>this.arrayCity.push(t.cityName)))}onStateChange(){this.applicant.get("zipCode").setValue(""),this.applicant.get("city").setValue("")}onCityChange(){this.applicant.get("zipCode").setValue("")}onBirthCountry(t){this.console.log("data ::",t),this.isBirthCountry=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.birthCountryFlag=t.currencyCode.toLowerCase()})}getCountrySelection(t){this.console.log("data ::",t),this.isCountry=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.countryCode=t.currencyCode.toLowerCase()})}getCountrySelection1(t){this.console.log("data ::",t),null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.editCountryCode=t.currencyCode.toLowerCase()})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getDocumentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayDocumentType=t})}onSelectionCitizionship(t){null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.currencyCode=t.currencyCode.toLowerCase()})}onSelectionCitizionship1(t){this.citizenshipFflag=!0,this.isCurrency=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.currency=t.currencyCode.toLowerCase()})}onSelectionBirthCountry(t){console.log("Birth Country : ",t),null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{console.log(t.currencyCode),this.Currency1=t.currencyCode.toLowerCase()})}onSelectionResidance(t){this.console.log("data ::",t),console.log(t),null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.Currency=t.currencyCode.toLowerCase(),console.log(this.Currency)})}onOtherSelectionResidance(t){this.console.log("data ::",t),console.log(t),this.isResidency=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.ResideceCurrency=t.currencyCode.toLowerCase(),console.log(this.ResideceCurrency)})}onSubmit(){this.submitted=!0,this.isCifValid=!1;let t={};const e=this.cardCustomerForm.controls.applicantDetails.value;let r={},i={},a=[],n=[];t.customerId=this.ls.getItem("cId"),t.cifNumber=e.cifNumber,t.dependentId=e.dependentId,t.existingCustomer=e.existingCustomer,t.primaryCustomer=e.primaryCustomer,t.residenceStatus=e.residenceStatus,t.placeOfBirth=e.placeOfBirth,t.countryOfResidence=e.countryOfResidence,t.occupationType=e.occupationType,t.phoneNumber=e.phoneNumber,t.maritalStatus=e.maritalStatus,t.birthCountry=e.birthCountry,t.primaryEmailAdress=e.primaryEmailAdress,t.prefix=e.prefix,t.firstName=e.firstName,t.middleName=e.middleName,t.lastName=e.lastName,t.cifNumber=e.cifNumber,t.gender=e.gender,t.dateOfBirth=this.convertDate(e.dateOfBirth),t.nationality=e.nationality,t.cardId=this.cardId,t.accountType="cardOrigin",t.landlineNumber=e.landlineNumber,t.ownership=this.cardCustomerForm.get("ownership").value,t.numOfApplicants=this.cardCustomerForm.get("numOfApplicants").value,t.addOnCard=this.addonCardValue,r.address1=e.address1,r.address2=e.address2,r.country=e.country,r.state=e.state,r.city=e.city,r.zipCode=e.zipCode,r.addressType=e.addressType,n.push(r),i.expiryDate="Invalid date"==(null==e?void 0:e.expiryDate)?null:""!=(null==e?void 0:e.expiryDate)?this.convertDate(null==e?void 0:e.expiryDate):"",i.idType=e.idType,i.idNumber=e.idNumber,a.push(i),t.userAddress=n,t.custIdProofs=a,this.isChecked=!1,this.disabled=!1,this.appApiService.createAndUpdateCardAccountants(t).subscribe(t=>{console.log("data::",t),this.closeDetails(),this.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(this.getListOfAccounts(),this.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),1==t.custDependentModel.primaryCustomer&&this.ls.setItem("primaryCustomerName",null==t.custDependentModel.middleName?t.custDependentModel.firstName+" "+t.custDependentModel.lastName:t.custDependentModel.firstName+" "+t.custDependentModel.middleName+" "+t.custDependentModel.lastName),this.cardCustomerForm.get("ownership").patchValue(t.custDependentModel.ownership),this.cardCustomerForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants))},t=>{console.log(t),this.loader.close(),this.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}selectOwnershipChange(t){console.log(t),this.selectedOwnership=t.value}onReset(){this.submitted=!1,this.cardCustomerForm.reset({})}onClear(){this.submitted=!1}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardInitiation"])}goToNext(){this.ls.setItem("Card_Customer_Done",!0),localStorage.setItem("CardNoOfApplicants",this.cardCustomerForm.get("numOfApplicants").value),this.ls.setItem("cardownership_value",this.cardCustomerForm.get("ownership").value),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}onKeyPress1(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),clearTimeout(this.timer),t.target.value||(this.listOfCustByCif=[])}onKeyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t.target.value).subscribe(t=>{t&&(this.listOfCustByCif=t.customerInfoList)})},1e3):(this.isCifValid=!1,this.applicant.reset(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity(),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0),this.listOfCustByCif=[])}isAllSameDigit(t){let e=0,r=t.target.value;if(""!=r){for(var i=0;i<r.length;i++)0==r[i]&&e++;this.isAllSameDigitVal=e==r.length}else this.isAllSameDigitVal=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}goToggle(t){this.addonCardValue=t.checked,1==t.checked||this.addOnCard?(this.ls.setItem("ADD_ON_CARD",!0),this.cardCustomerForm.get("ownership").setValue("Joint"),this.cardCustomerForm.get("numOfApplicants").patchValue(2),this.disabled=!1):0==t.checked&&(this.ls.setItem("ADD_ON_CARD",!1),this.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),this.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}getCityandStateByZipcode(t,e){t&&e.length>=6&&this.apiService.fetchStateCityByZipcode(t,e).subscribe(t=>{t?(this.applicant.get("state").setValue(t.stateName),this.applicant.get("city").setValue(t.cityName)):this.snack.open("Entered Zipcode does not exists","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(u.b),b.Rb(m.a),b.Rb(D.a),b.Rb(b.l),b.Rb(b.I),b.Rb(o.a),b.Rb(l.b),b.Rb(s.f),b.Rb(Ft.a),b.Rb(b.h),b.Rb(Mt.a),b.Rb(d.a),b.Rb(Tt.a),b.Rb(At.a),b.Rb(J.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-card-customer-information"]],viewQuery:function(t,e){if(1&t&&b.ad(A.a,!0),2&t){let t;b.Cc(t=b.gc())&&(e.progressBar=t.first)}},inputs:{i:"i"},decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap"],[1,"p-0"],["visible","true"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["formControlName","ownership","name","owner","required","",1,"graycolor",3,"value","valueChange","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50"],["formControlName","numOfApplicants","name","account"],[3,"value"],[1,"mb-1"],["fxFlex","100","fxLayoutGap","16px","fxLayoutAlign","end end",2,"padding-right","15px"],[1,"m-0","text-right"],["mode","determinate",1,"rounded",2,"height","5px",3,"color","value"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],[1,"mt-12"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["class","mt-16",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],[4,"ngIf","ngIfElse"],["hideBtn",""],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[2,"margin-bottom","-16px !important"],["mat-card-avatar",""],[3,"name"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end end"],[1,"group-btn-bg"],["showEdit",""],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["detailApplicant",""],["mat-sm-chip","",3,"color","selected"],["type","reset","mat-icon-button","","color","primary",3,"click"],["type","submit","mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-32",3,"formGroup"],["formGroupName","applicantDetails"],["formControlName","existingCustomer",3,"change"],[1,"mb-16"],["name","prefix","formControlName","prefix",3,"selectionChange"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"p-1"],["fxFlex","20"],["matPrefix",""],[3,"class",4,"ngIf"],["name","birthCountry","formControlName","birthCountry","required","",3,"selectionChange"],["name","residenceType","formControlName","residenceStatus"],["formControlName","countryOfResidence","id","forcitizenship","required","",3,"selectionChange"],["disabled",""],["name","idtype","formControlName","idType",3,"selectionChange"],["class","pb-1",4,"ngIf"],["formControlName","primaryCustomer"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","gender","formControlName","gender",3,"selectionChange"],["class","err-msg",4,"ngIf"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],[1,"pb-1","info"],["formControlName","nationality","id","forcitizenship","required","",3,"selectionChange"],["name","maritalStatus","formControlName","maritalStatus","required",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type",3,"keypress"],[1,"pb-1","info3"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["matInput","","formControlName","address1","placeholder","Address 1"],["name","addressType","formControlName","addressType"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup","change"],["style","color: #E74C3C;",4,"ngIf"],["name","city","formControlName","city",3,"selectionChange"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["style","margin-top:-20px",4,"ngIf"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail",3,"keypress"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["mat-button","","color","primary",3,"disabled","click"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"required","matDatepicker","min"],["appDatepicker1",""],[1,"err-msg"],[2,"color","#E74C3C"],[2,"margin-top","-20px"],[1,"mt-16"],[1,"mb-8","borderStyle",3,"expanded"],[1,"marginData"],[1,"textDesign"],[1,"design"],[1,"toggle_row"],[1,"toggle_col","pb-1"],["class","toggle_col pb-1 pl-2",4,"ngIf"],["fxLayout","row","fxLayoutGap","2px","fxLayoutAlign","space-between"],["fxFlex","100","fxFlexAlign","center"],["matInput","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"formControl","matAutocomplete","readonly","keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","hintColor",4,"ngIf"],[1,"card-cust-auto-cif"],["auto","matAutocomplete"],[1,"pb-1","info1"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID","maxlength","12",3,"keypress"],["mat-button","","color","primary",3,"disabled",4,"ngIf","ngIfElse"],["openSave",""],[1,"toggle_col","pb-1","pl-2"],["formControlName","primaryCustomer",3,"ngModel","disabled","ngModelChange"],["matSuffix","","color","primary"],[1,"hintColor"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[1,"cif-0",2,"margin-top","0px"],[1,"right-arrow1"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large","color","white"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","100%","margin-bottom","50px",3,"src"],["mat-button","","color","primary",3,"disabled"],["mat-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Customer Information Details"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",7),b.Xb(10,"div",2),b.Xb(11,"mat-card",8),b.Xb(12,"mat-card-title"),b.Xb(13,"fieldset"),b.Xb(14,"legend",9),b.Tc(15,"Customer Information"),b.Wb(),b.Wb(),b.Wb(),b.Xb(16,"mat-card-content"),b.Rc(17,li,59,17,"form",10),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(17),b.rc("ngIf",e.cardCustomerForm))},directives:[h.e,h.b,p.a,p.h,p.d,i.n,s.A,s.s,s.j,h.f,y.c,y.g,Bt.a,s.r,s.i,s.y,jt.n,i.m,h.d,A.a,y.f,zt.a,qt.a,g.b,y.b,qt.c,qt.e,qt.f,a.a,p.e,p.c,p.g,Ut.a,g.a,i.s,s.k,f.b,s.c,Gt.e,Gt.g,y.j,Gt.d,y.i,s.m,s.w,s.n,Ht.a,X.a,h.a,n.c,s.h,n.a,Yt.b],pipes:[i.w,i.v],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.currency-flag[_ngcontent-%COMP%]{display:inline-block;width:24px;height:16px;background-size:cover;background-image:url(https://wise.com/public-resources/assets/flags/rectangle_fallback.png)}.currency-flag-sm[_ngcontent-%COMP%]{width:16px;height:10px}.currency-flag-lg[_ngcontent-%COMP%]{width:36px;height:24px}.currency-flag-xl[_ngcontent-%COMP%]{width:48px;height:32px}  .card-cust-auto-cif.mat-autocomplete-panel{width:270px!important;padding:7px 0;border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#4a56e2;max-width:9%!important;width:25px;height:25px;border-radius:50%}.err-msg[_ngcontent-%COMP%]{color:var(--danger)!important}.currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aed.png)}.currency-flag.currency-flag-afn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.currency-flag.currency-flag-all[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.currency-flag.currency-flag-amd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.currency-flag.currency-flag-ang[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ars.png)}.currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aud.png)}.currency-flag.currency-flag-awg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.currency-flag.currency-flag-azn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.currency-flag.currency-flag-bam[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bdt.png)}.currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bgn.png)}.currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bhd.png)}.currency-flag.currency-flag-bif[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bnd.png)}.currency-flag.currency-flag-bob[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/brl.png)}.currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.currency-flag.currency-flag-btn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bwp.png)}.currency-flag.currency-flag-byn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cad.png)}.currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/chf.png)}.currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/clp.png)}.currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cny.png)}.currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cop.png)}.currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/crc.png)}.currency-flag.currency-flag-cup[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.currency-flag.currency-flag-cve[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/czk.png)}.currency-flag.currency-flag-djf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dkk.png)}.currency-flag.currency-flag-dop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/egp.png)}.currency-flag.currency-flag-ern[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.currency-flag.currency-flag-etb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/eur.png)}.currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fjd.png)}.currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gbp.png)}.currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gel.png)}.currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ghs.png)}.currency-flag.currency-flag-gip[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hkd.png)}.currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hrk.png)}.currency-flag.currency-flag-htg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/huf.png)}.currency-flag.currency-flag-idr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ils.png)}.currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/inr.png)}.currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.currency-flag.currency-flag-irr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/isk.png)}.currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jmd.png)}.currency-flag.currency-flag-jod[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jpy.png)}.currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kes.png)}.currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.currency-flag.currency-flag-khr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/krw.png)}.currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kwd.png)}.currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lak.png)}.currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lkr.png)}.currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mad.png)}.currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.currency-flag.currency-flag-mga[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.currency-flag.currency-flag-mop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.currency-flag.currency-flag-mro[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mur.png)}.currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mxn.png)}.currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/myr.png)}.currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mzn.png)}.currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nad.png)}.currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ngn.png)}.currency-flag.currency-flag-nio[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nok.png)}.currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/npr.png)}.currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nzd.png)}.currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/omr.png)}.currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pen.png)}.currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/php.png)}.currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pkr.png)}.currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pln.png)}.currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/qar.png)}.currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ron.png)}.currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rub.png)}.currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sar.png)}.currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.currency-flag.currency-flag-scr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sek.png)}.currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sgd.png)}.currency-flag.currency-flag-shp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.currency-flag.currency-flag-sll[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sos[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.currency-flag.currency-flag-srd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.currency-flag.currency-flag-std[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.currency-flag.currency-flag-svc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.currency-flag.currency-flag-syp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.currency-flag.currency-flag-szl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/thb.png)}.currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.currency-flag.currency-flag-top[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/try.png)}.currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/twd.png)}.currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tzs.png)}.currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uah.png)}.currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ugx.png)}.currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/usd.png)}.currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uyu.png)}.currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.currency-flag.currency-flag-vef[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vnd.png)}.currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.currency-flag.currency-flag-wst[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xof.png)}.currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.currency-flag.currency-flag-yer[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zar.png)}.currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zmw.png)}.graycolor[_ngcontent-%COMP%]{color:grey} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}.boxsize[_ngcontent-%COMP%]{margin-top:30px}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}.toggle_row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.toggle_row[_ngcontent-%COMP%]   .toggle_col[_ngcontent-%COMP%]{width:50%}"]}),t})();function di(t,e){if(1&t&&(b.Xb(0,"mat-option",27),b.Tc(1),b.Wb()),2&t){const t=e.$implicit,r=b.jc(2);b.rc("value",t)("hidden",r.isDocumentOptionDisabled2(t)),b.Eb(1),b.Vc(" ",t," ")}}function ui(t,e){if(1&t){const t=b.Yb();b.Xb(0,"tr",10),b.Xb(1,"td",20),b.Xb(2,"mat-select",21),b.fc("valueChange",function(r){b.Hc(t);const i=e.index;return b.jc().changeValue2(r,i)}),b.Rc(3,di,2,3,"mat-option",22),b.Wb(),b.Wb(),b.Xb(4,"td"),b.Xb(5,"div"),b.Xb(6,"input",23),b.fc("keyup",function(r){b.Hc(t);const i=e.index;return b.jc().OnInput1(r,!0,i)})("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(7,"td"),b.Xb(8,"div"),b.Xb(9,"input",24),b.fc("keyup",function(r){b.Hc(t);const i=e.index;return b.jc().OnInput(r,!0,i)})("keypress",function(e){return b.Hc(t),b.jc().keyPress(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(10,"td",25),b.Xb(11,"div"),b.Xb(12,"button",26),b.fc("click",function(){b.Hc(t);const r=e.index;return b.jc().onclick1(r)}),b.Xb(13,"mat-icon"),b.Tc(14,"delete"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit,r=b.jc();b.rc("formGroup",t),b.Eb(3),b.rc("ngForOf",r.arraylimitType),b.Eb(3),b.rc("readonly",r.isDLReadOnly),b.Eb(3),b.rc("readonly",r.isLPTReadOnly)}}function mi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Xb(1,"small"),b.Tc(2,"Limit per transaction should be less "),b.Wb(),b.Sb(3,"br"),b.Xb(4,"small"),b.Tc(5,"than daily limit"),b.Wb(),b.Wb())}let pi=(()=>{class t{constructor(t,e,r,i,a,n){this.fb=t,this.router=e,this.apiService=r,this.snack=i,this.ls=a,this.accountService=n,this.arraylimitType=[],this.selectedOptions2=[],this.cardDetails=[],this.isdailylimit=!1,this.isLimitTransaction=!1,this.isGreaterValue=!1,this.selectedDocumentTypes2=[],this.cardPrefrenceOnLoad=[],this.isRowEnds=!1,this.islimitType=!1,this.isDLReadOnly=!1,this.isLPTReadOnly=!1,this.isDocumentOptionDisabled2=t=>this.selectedOptions2.includes(t)}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"],this.buildCardPrefrenceForm();let t=JSON.parse(this.ls.getItem("card_prefrence_done"));null!=this.cardId&&t&&this.gettingCardPrefrenceDetail()}gettingCardPrefrenceDetail(){this.apiService.getCardPrefrence(this.cardId).subscribe(t=>{this.cardPrefrenceOnLoad=t,t?(this.isdailylimit=!0,this.isLimitTransaction=!0,this.islimitType=!0):(this.isdailylimit=!1,this.isLimitTransaction=!1);for(let e=0;e<=this.cardPrefrenceOnLoad.length-1;e++)this.selectedOptions2.push(this.cardPrefrenceOnLoad[e].limitType);this.buildCardPrefrenceForm(t,!0)})}buildCardPrefrenceForm(t,e){if(this.cardPrefrenceForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),e){this.addMandateToFormGroup(t);for(let e=0;e<=t.length-1;e++)t[e].dailyLimit=this.addComa(t[e].dailyLimit),t[e].limitPerTransaction=this.addComa(t[e].limitPerTransaction);this.m.patchValue(t),console.log(this.cardPrefrenceForm)}}addMandateToFormGroup(t){const e=t.length;for(let r=1;r<e;r++)this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}get f(){return this.cardPrefrenceForm.controls}get m(){return this.f.cardPrefrences}addMFormGroup(){return this.fb.group({limitType:[""],dailyLimit:["",[s.z.maxLength(18),s.z.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[s.z.maxLength(18),s.z.pattern("^[0-9]{10,12}$")]]})}addMandate(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isDLReadOnly=!0,this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}addComa(t){let e=t.toString().replace(/,/g,"").split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isLimitTransaction=!0}OnInput(t,e,r){this.limiPrTrn=t.target.value;var i=this.removeComma(this.cardPrefrenceForm.value.cardPrefrences[r].dailyLimit),a=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(a)>Number(i)||(Number(a),Number(i),!1);let n={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[r].patchValue(n)}OnInput1(t,e,r){console.log({k:r}),this.limitDaily=t.target.value,this.isdailylimit=!!this.limitDaily;let i={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[r].patchValue(i)}onclick1(t){this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isDLReadOnly=!1,this.cardPrefrenceForm.controls.cardPrefrences.removeAt(t),null==this.cardPrefrenceOnLoad||null!=this.cardPrefrenceOnLoad[t]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[t].preferenceId).subscribe(t=>{},t=>{200==t.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(t,1),this.isdailylimit=!0}onSubmit(){var t,e=[];if(this.cardPrefrenceForm.value.cardPrefrences.cardId=this.cardId,console.log(this.cardPrefrenceForm),this.cardPrefrenceOnLoad)for(let r=this.cardPrefrenceOnLoad.length;r<=this.cardPrefrenceForm.value.cardPrefrences.length-1;r++){t=this.cardPrefrenceForm.value.cardPrefrences[r];let i=Object.assign({},t,{cardId:this.cardId});i.dailyLimit=parseInt(this.removeComma(i.dailyLimit)),i.limitPerTransaction=parseInt(this.removeComma(i.limitPerTransaction)),e.push(i)}else for(let r=0;r<this.cardPrefrenceForm.value.cardPrefrences.length;r++){t=this.cardPrefrenceForm.value.cardPrefrences[r];let i=Object.assign({},t,{cardId:this.cardId});i.dailyLimit=parseInt(this.removeComma(i.dailyLimit)),i.limitPerTransaction=parseInt(this.removeComma(i.limitPerTransaction)),e.push(i)}this.apiService.uploadCardPrefrence(e).subscribe(t=>{null!=t&&(this.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next())})}removeComma(t){return t.replace(/,/g,"")}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}next(){this.ls.setItem("card_prefrence_done",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/accountServices"])}changeValue2(t,e){this.islimitType=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(t=>t!==this.selectedDocumentTypes2[e])),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.isRowEnds=this.selectedDocumentTypes2.length==this.arraylimitType.length,this.isDLReadOnly=!1}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(s.f),b.Rb(m.h),b.Rb(l.b),b.Rb(d.a),b.Rb(o.a),b.Rb(D.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-card-prefrences"]],decls:39,vars:5,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_1.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"height"],["visible","true"],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","type","button","color","primary",1,"Nextbtn",3,"disabled","click"],[2,"width","11.8rem"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value","hidden",4,"ngFor","ngForOf"],["type","text","max","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value","hidden"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Card Preferences"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",1),b.Xb(10,"div",2),b.Xb(11,"mat-card",7),b.Xb(12,"mat-card-title"),b.Xb(13,"fieldset",8),b.Xb(14,"legend",9),b.Tc(15,"Card Preferences"),b.Wb(),b.Wb(),b.Wb(),b.Xb(16,"form",10),b.Xb(17,"div",11),b.Xb(18,"table",12),b.Xb(19,"thead"),b.Xb(20,"tr"),b.Xb(21,"th"),b.Tc(22,"Limit Type"),b.Wb(),b.Xb(23,"th"),b.Tc(24,"Daily Limit"),b.Wb(),b.Xb(25,"th"),b.Tc(26,"Limit per transaction"),b.Wb(),b.Wb(),b.Wb(),b.Xb(27,"tbody"),b.Rc(28,ui,15,4,"tr",13),b.Wb(),b.Wb(),b.Xb(29,"div",14),b.Xb(30,"button",15),b.fc("click",function(){return e.addMandate()}),b.Xb(31,"mat-icon"),b.Tc(32,"add"),b.Wb(),b.Wb(),b.Rc(33,mi,6,0,"mat-error",16),b.Wb(),b.Xb(34,"div",17),b.Xb(35,"button",18),b.fc("click",function(){return e.goBack()}),b.Tc(36," Back "),b.Wb(),b.Xb(37,"button",19),b.fc("click",function(){return e.onSubmit()}),b.Tc(38," Next "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(16),b.rc("formGroup",e.cardPrefrenceForm),b.Eb(12),b.rc("ngForOf",e.m.controls),b.Eb(2),b.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType&&!e.isRowEnds)||e.isGreaterValue),b.Eb(3),b.rc("ngIf",e.isGreaterValue),b.Eb(4),b.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType)||e.isGreaterValue||0==e.m.controls.length))},directives:[h.e,h.b,p.a,p.h,s.A,s.s,s.j,i.m,h.f,g.b,a.a,i.n,h.d,Bt.a,s.r,s.i,s.c,s.m,jt.n,y.b],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}.height[_ngcontent-%COMP%]{margin-top:4%}.Backbtn[_ngcontent-%COMP%]{float:left!important}"]}),t})();function gi(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",34),b.Xb(1,"div",35),b.Xb(2,"label",13),b.Tc(3,"KYC ID"),b.Wb(),b.Tc(4,"\xa0 "),b.Xb(5,"label",36),b.Tc(6),b.Wb(),b.Xb(7,"label",13),b.Tc(8,"KYC Status"),b.Wb(),b.Tc(9,"\xa0 "),b.Xb(10,"label",36),b.Tc(11),b.Wb(),b.Wb(),b.Xb(12,"div"),b.Tc(13," \xa0\xa0\xa0"),b.Xb(14,"button",37),b.fc("click",function(){return b.Hc(t),b.jc().goToKyc()}),b.Tc(15,"Go For KYC"),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=b.jc();b.Eb(6),b.Uc(t.kycRefrence),b.Eb(5),b.Uc(t.kycStatus),b.Eb(3),b.rc("disabled",t.isGoForKyc||t.isExistingCustomer)}}function hi(t,e){1&t&&(b.Xb(0,"mat-option",38),b.Tc(1,"Debit"),b.Wb())}function fi(t,e){1&t&&(b.Xb(0,"mat-option",39),b.Tc(1,"Forex"),b.Wb())}function yi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Card Type is Required! "),b.Wb())}function vi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," CIF Number Is Required "),b.Wb())}function Ci(t,e){if(1&t&&(b.Xb(0,"div",50),b.Xb(1,"h3",51),b.Tc(2),b.kc(3,"uppercase"),b.kc(4,"slice"),b.kc(5,"uppercase"),b.kc(6,"slice"),b.Wb(),b.Wb()),2&t){const t=b.jc().$implicit;b.Eb(2),b.Wc(" ",b.lc(3,2,b.nc(4,4,null==t?null:t.firstName,0,1)),"",b.lc(5,8,b.nc(6,10,null==t?null:t.lastName,0,1))," ")}}function xi(t,e){if(1&t&&(b.Xb(0,"div",52),b.Sb(1,"img",53),b.Wb()),2&t){const t=b.jc().$implicit;b.Eb(1),b.rc("src",null==t?null:t.profileImage,b.Jc)}}function Wi(t,e){if(1&t&&(b.Xb(0,"mat-option",42),b.Xb(1,"div",43),b.Xb(2,"div",44),b.Rc(3,Ci,7,14,"div",45),b.Rc(4,xi,2,1,"div",46),b.Xb(5,"div",47),b.Xb(6,"h5",48),b.Tc(7),b.kc(8,"uppercase"),b.kc(9,"uppercase"),b.kc(10,"uppercase"),b.Wb(),b.Xb(11,"h6",49),b.Tc(12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t.customerId),b.Eb(3),b.rc("ngIf","not_available"==(null==t?null:t.profileImage)),b.Eb(1),b.rc("ngIf","not_available"!=(null==t?null:t.profileImage)),b.Eb(3),b.Xc(" ",b.lc(8,7,null==t?null:t.firstName)," ",b.lc(9,9,null==t?null:t.middleName)," ",b.lc(10,11,null==t?null:t.lastName)," "),b.Eb(5),b.Vc("#",null==t?null:t.cifNumber,"")}}function Xi(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",12),b.Xb(1,"div"),b.Xb(2,"mat-form-field",18),b.Xb(3,"mat-label",13),b.Tc(4,"CIF Number*"),b.Wb(),b.Xb(5,"input",40),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("change",function(){b.Hc(t);const e=b.jc();return e.fetchByCif(e.cardInitiationForm.get("cifNumber").value)})("keyup",function(e){return b.Hc(t),b.jc().onKeyPress(e)}),b.Wb(),b.Rc(6,vi,2,0,"mat-error",23),b.Wb(),b.Wb(),b.Xb(7,"div"),b.Xb(8,"mat-autocomplete",null,41),b.Rc(10,Wi,13,13,"mat-option",29),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=b.Dc(9),e=b.jc();b.Eb(5),b.rc("formControl",e.cifNumberForm)("matAutocomplete",t),b.Eb(1),b.rc("ngIf",!e.cardInitiationForm.get("cifNumber").valid&&e.cardInitiationForm.get("cifNumber").touched),b.Eb(4),b.rc("ngForOf",e.listOfCustByCif)}}function Ii(t,e){if(1&t&&(b.Xb(0,"mat-option",42),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Uc(t)}}function Si(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Currency is Required! "),b.Wb())}function Oi(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Currency *"),b.Wb(),b.Xb(4,"mat-select",54),b.fc("ngModelChange",function(e){return b.Hc(t),b.jc().selectedCurrency=e}),b.Xb(5,"mat-option",55),b.Tc(6,"Select"),b.Wb(),b.Rc(7,Ii,2,2,"mat-option",29),b.Wb(),b.Rc(8,Si,2,0,"mat-error",23),b.Wb(),b.Wb()}if(2&t){const t=b.jc();b.Eb(4),b.rc("ngModel",t.selectedCurrency),b.Eb(3),b.rc("ngForOf",t.localCurrencyArr),b.Eb(1),b.rc("ngIf",!t.cardInitiationForm.get("currency").valid&&t.cardInitiationForm.get("currency").touched)}}function Di(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," currency is Required! "),b.Wb())}function Ti(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Currency"),b.Wb(),b.Xb(4,"input",56),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Rc(5,Di,2,0,"mat-error",23),b.Wb(),b.Wb()}if(2&t){const t=b.jc();b.Eb(5),b.rc("ngIf",!t.cardInitiationForm.get("currency").valid&&t.cardInitiationForm.get("currency").touched)}}function Ai(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Affinity Program is Required! "),b.Wb())}function Ei(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Name on Card is Required! "),b.Wb())}function ki(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Name On Card *"),b.Wb(),b.Xb(4,"input",57),b.fc("keypress",function(e){return b.Hc(t),b.jc().letterOnly(e)}),b.Wb(),b.Rc(5,Ei,2,0,"mat-error",23),b.Wb(),b.Wb()}if(2&t){const t=b.jc();b.Eb(5),b.rc("ngIf",!t.cardInitiationForm.get("nameOnCard").valid&&t.cardInitiationForm.get("nameOnCard").touched)}}function _i(t,e){if(1&t&&(b.Xb(0,"mat-option",42),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Uc(t)}}function wi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Customer Account is Required! "),b.Wb())}function Pi(t,e){if(1&t&&(b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Customer Account Number *"),b.Wb(),b.Xb(4,"mat-select",58),b.Rc(5,_i,2,2,"mat-option",29),b.Wb(),b.Rc(6,wi,2,0,"mat-error",23),b.Wb(),b.Wb()),2&t){const t=b.jc();b.Eb(5),b.rc("ngForOf",t.accountNoArr),b.Eb(1),b.rc("ngIf",!t.cardInitiationForm.get("customerAccount").valid&&t.cardInitiationForm.get("customerAccount").touched)}}function Ni(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Customer Account is Required! "),b.Wb())}function Ri(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Customer Account Number "),b.Wb(),b.Xb(4,"input",59),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Rc(5,Ni,2,0,"mat-error",23),b.Wb(),b.Wb()}if(2&t){const t=b.jc();b.Eb(5),b.rc("ngIf",!t.cardInitiationForm.get("customerAccount").valid&&t.cardInitiationForm.get("customerAccount").touched)}}function Fi(t,e){if(1&t){const t=b.Yb();b.Xb(0,"input",61),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).letterOnly(e)}),b.Wb()}}function Mi(t,e){if(1&t&&(b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Applicant Name "),b.Wb(),b.Rc(4,Fi,1,0,"input",60),b.Wb(),b.Wb()),2&t){const t=b.jc();b.Eb(4),b.rc("ngIf",t.isExistingCustomer)}}function Li(t,e){if(1&t){const t=b.Yb();b.Xb(0,"input",63),b.fc("keypress",function(e){return b.Hc(t),b.jc(2).letterOnly(e)}),b.Wb()}}function Vi(t,e){if(1&t&&(b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Applicant Name * "),b.Wb(),b.Rc(4,Li,1,0,"input",62),b.Wb(),b.Wb()),2&t){const t=b.jc();b.Eb(4),b.rc("ngIf",!t.isExistingCustomer)}}function Bi(t,e){if(1&t&&(b.Xb(0,"mat-option",42),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc("",t," ")}}function ji(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Employment Type is Required! "),b.Wb())}function zi(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",12),b.Xb(1,"mat-form-field",18),b.Xb(2,"mat-label",13),b.Tc(3,"Name On Card *"),b.Wb(),b.Xb(4,"input",64),b.fc("keypress",function(e){return b.Hc(t),b.jc().letterOnly(e)}),b.Wb(),b.Wb(),b.Wb()}}let qi=(()=>{class t extends class{constructor(t){this.appApiService=t}onKeyPress(t){8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1;let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t.target.value).subscribe(t=>{console.log(t),t&&(this.listOfCustByCif=t.customerInfoList)})},1e3):(this.isCifValid=!1,this.cardInitiationForm.get("cifNumber").clearValidators(),this.cardInitiationForm.get("cifNumber").updateValueAndValidity(),this.cardInitiationForm.reset(),this.cardInitiationForm.get("existingCustomer").patchValue(!0),this.listOfCustByCif=[])}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}convertDate(t){let e=Lt(t).format("YYYY-MMM-DD");if(e)return e}}{constructor(t,e,r,i,a,n,c,o){super(n),this.ls=t,this.router=e,this.accountService=r,this.formBuilder=i,this.apiService=a,this.appApiService=n,this.snack=c,this.cdr=o,this.cifNumberForm=new s.g,this.showEditOption=!1,this.isCardInitiationDone=!1,this.arrayofEmployment=[],this.isCifValid=!1,this.isExistingCustomer=!0,this.isAddOnCard=!1,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"],this.selectedCurrency=this.localCurrencyArr[-1],this.iskycStatus=!1,this.isGoForKyc=!1,this.isKycForCardDone=!1,this.accountNoArr=[]}ngOnInit(){if(this.cardId=this.ls.getItem("cardId"),this.applicant=this.ls.getItem("NAME"),this.getEmploymentType("employment_type"),this.createdBy=this.ls.getItem("ICUST_USER"),this.buildInitiationForm(),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),null!=this.cardId&&this.isCardInitiationDone&&(this.iskycStatus=!0,this.showEditOption=!0,this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),this.getCardInitiation()),this.isKycForCardDone=this.ls.getItem("kycForCard"),1==this.isKycForCardDone){if(this.cardInitiationForm.get("existingCustomer").patchValue(!1),this.kycRefrence=this.ls.getItem("kycReference"),this.kycRefrence){let t=this.kycRefrence.slice(4);this.apiService.getPrimaryInfo(t).subscribe(t=>{this.kycStatus=t.customerInfoList[0].customerAdditionalInfo.kycStatus,this.ls.setItem("KycStatus",this.kycStatus)})}this.iskycStatus=!0,this.isGoForKyc=!0,this.cardInitiationForm.get("cardType").patchValue(this.ls.getItem("cardType")),this.cardInitiationForm.controls.applicantName.setValue(this.ls.getItem("cardCustomer"))}}goToggle(t){1==t.checked?(this.cardInitiationForm.get("existingCustomer").patchValue(!0),this.isExistingCustomer=!0):(this.cardInitiationForm.controls.currency.setValue(""),this.cardInitiationForm.get("employmentType").setValue(""),this.cardInitiationForm.get("applicantName").setValue(""),this.cardInitiationForm.get("customerAccount").setValue(""),this.cardInitiationForm.get("nameOnCard").setValue(""),this.cardInitiationForm.get("affinityProgram").setValue(""),this.cardInitiationForm.get("cifNumber").setValue(""),this.kycRefrence="",this.kycStatus="",this.iskycStatus=!1,this.cardInitiationForm.get("existingCustomer").patchValue(!1),this.isExistingCustomer=!1)}addOnCard(t){1==t.checked?(this.isAddOnCard=!0,this.ls.setItem("ADD_ON_CARD",!0)):(this.isAddOnCard=!1,this.ls.setItem("ADD_ON_CARD",!1))}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayofEmployment=t})}getAccountData(t){this.apiService.getProfileDetails(t).subscribe(t=>{var e,r;this.accountID=null===(r=null===(e=null==t?void 0:t.signatures)||void 0===e?void 0:e[0])||void 0===r?void 0:r.accountId,this.cardInitiationForm.controls.currency.setValue(null==t?void 0:t.accountCurrency)},t=>{})}onSubmit(){localStorage.setItem("Currency Type",this.cardInitiationForm.value.currency),this.apiService.uploadCardInitiation({affinityProgram:this.cardInitiationForm.value.affinityProgram,applicantName:this.cardInitiationForm.value.applicantName,cardId:this.showEditOption?this.cardId:null,cardType:this.cardInitiationForm.value.cardType,createdBy:this.createdBy.userName,createdTime:void 0,currency:this.cardInitiationForm.value.currency,customerAccount:this.cardInitiationForm.value.customerAccount,customerId:this.cardInitiationForm.value.cifNumber,employmentType:this.cardInitiationForm.value.employmentType,existingCustomer:this.cardInitiationForm.value.existingCustomer,kycReference:this.kycRefrence,kycStatus:this.kycStatus,modificationNo:0,modifiedBy:"",modifiedTime:void 0,nameOnCard:this.cardInitiationForm.value.nameOnCard,status:"ONGOING"}).subscribe(t=>{this.ls.setItem("cardId",t.cardId),this.next()})}next(){this.ls.setItem("CARD_INITIATION_DONE",!0),this.ls.setItem("Card_Applicant_name",this.cardInitiationForm.value.applicantName),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}getCardInitiation(){this.apiService.getCardInitiationDetails(this.cardId).subscribe(t=>{this.kycStatus=t.kycStatus,this.kycRefrence=t.kycReference,this.buildInitiationForm(t),this.apiService.fetchAccountIdByCustId(this.cifNumberPrimary).subscribe(t=>{var e;this.accountNoArr=t,this.cardInitiationForm.controls.customerAccount.setValue(null===(e=this.accountNoArr)||void 0===e?void 0:e[0])}),this.isExistingCustomer=1==t.existingCustomer})}buildInitiationForm(t){const e=localStorage.getItem("ADD_ON_CARD");this.cardInitiationForm=this.formBuilder.group({cifNumber:[t?this.cifNumberPrimary:"",1==(null==t?void 0:t.existingCustomer)?[s.z.required]:[s.z.nullValidator]],existingCustomer:[!t||t.existingCustomer],cardType:[t?t.cardType:"",[s.z.required]],customerAccount:[t?t.customerAccount:"",1==(null==t?void 0:t.existingCustomer)?[s.z.required]:[s.z.nullValidator]],applicantName:[t?t.applicantName:""],currency:[t?t.currency:"",[s.z.required]],employmentType:[t?t.employmentType:"",[s.z.required]],affinityProgram:[t?t.affinityProgram:"",[s.z.required]],nameOnCard:[t?t.nameOnCard:"",[s.z.required]],addOnCard:["true"==e]}),this.selectedCurrency=null==t?void 0:t.currency,this.formControlValueChanged()}formControlValueChanged(){let t=this.cardInitiationForm.get("cifNumber");this.cardInitiationForm.get("existingCustomer").valueChanges.subscribe(e=>{0==e?(this.cardInitiationForm.get("customerAccount").setValidators([s.z.nullValidator]),t.setValidators([s.z.nullValidator])):(this.cardInitiationForm.get("customerAccount").setValidators([s.z.required]),t.setValidators([s.z.required])),t.updateValueAndValidity()})}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list"])}fetchByCif(t){t&&(this.showSpinn=!0,this.appApiService.fetchByCif(t).subscribe(e=>{if(this.kycStatus=e.customerInfoList[0].customerAdditionalInfo.kycStatus,this.kycRefrence=e.customerInfoList[0].customerAdditionalInfo.kycReference,this.cardInitiationForm.controls.cifNumber.setValue(t),this.cardInitiationForm.controls.applicantName.setValue(e.customerInfoList[0].firstName+" "+e.customerInfoList[0].lastName),this.cardInitiationForm.controls.customerAccount.setValue(this.accountID),this.showSpinn=!1,!e)return this.isCifValid=!1,void this.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});{let r;"APPROVED"!=e.customerInfoList[0].custStatus&&(this.isCifValid=!1),"APPROVED"==e.customerInfoList[0].custStatus&&(this.isCifValid=!0),r=e.customerInfoList[0].userAddress.length>1?e.customerInfoList[0].userAddress.find(t=>"Permanent"==t.addressType||"permanent"==t.addressType):e.customerInfoList[0].userAddress[0];let i={prefix:e.customerInfoList[0].prefix,customerId:e.customerInfoList[0].customerId,firstName:e.customerInfoList[0].firstName,middleName:e.customerInfoList[0].middleName,lastName:e.customerInfoList[0].lastName,gender:e.customerInfoList[0].gender,dateOfBirth:this.convertDate(e.customerInfoList[0].dateOfBirth),placeOfBirth:e.customerInfoList[0].placeOfBirth,residenceStatus:e.customerInfoList[0].residenceStatus,nationality:e.customerInfoList[0].nationality,countryOfResidence:e.customerInfoList[0].countryOfResidence,occupationType:e.customerInfoList[0].occupationType,custIdProofs:e.customerInfoList[0].custIdProofs,idType:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idType:"",idNumber:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:e.customerInfoList[0].custIdProofs.length>0?this.convertDate(e.customerInfoList[0].custIdProofs[0].expiryDate):"",addressType:r.addressType,address1:r.address1,address2:r.address2,city:r.city,country:r.country,state:r.state,zipCode:r.zipCode,phoneNumber:e.customerInfoList[0].phoneNumber,landlineNumber:e.customerInfoList[0].landlineNumber,primaryEmailAdress:e.customerInfoList[0].primaryEmailAdress};null!=this.cardInitiationForm.value.swiftCode&&null!=this.cardInitiationForm.value.swiftCodeEnable||(this.flag=!1),this.cifNumberPrimary=t,this.ls.setItem("Card_CIF_NUM_PRIMARY",this.cifNumberPrimary),this.apiService.sendCIF(i),this.apiService.fetchAccountIdByCustId(t).subscribe(t=>{var e;this.accountNoArr=t,this.cardInitiationForm.controls.customerAccount.setValue(null===(e=this.accountNoArr)||void 0===e?void 0:e[0])})}this.cdr.markForCheck()}),this.getAccountData(t))}changeEvent(t){this.cardType=t.value,this.iskycStatus=!0,this.isGoForKyc="APPROVED"==this.kycStatus}goToKyc(){this.ls.setItem("cardType",this.cardType),this.ls.setItem("accountType","cardOrigination"),this.router.navigate(["/others/kyc"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(o.a),b.Rb(m.h),b.Rb(D.a),b.Rb(s.f),b.Rb(l.b),b.Rb(Mt.a),b.Rb(d.a),b.Rb(b.h))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-card-initiation"]],features:[b.Bb],decls:75,vars:18,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],["visible","true"],["fxLayout","column",3,"formGroup"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"pb-1"],[1,"hint"],["name","scholarshipOrBusinessEligible","formControlName","existingCustomer",2,"margin-left","1cm",3,"change"],["class","flex-grow-1","fxFlex","100%","fxLayout","column",4,"ngIf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["appearance","outline",1,"full-width"],["formControlName","cardType","placeholder","Select",3,"selectionChange"],["value","Debit",4,"ngIf"],["value","Credit"],["value","Forex",4,"ngIf"],[4,"ngIf"],["class","pb-1",4,"ngIf"],["formControlName","affinityProgram","placeholder","Select"],["value","Affinity Program1"],["value","Affinity Program2"],["formControlName","employmentType","placeholder","Select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["fxFlex","100%","fxLayout","column",1,"flex-grow-1"],["fxFlex","100%"],[2,"color","#03a9f4"],["mat-button","",2,"text-decoration","underline",3,"disabled","click"],["value","Debit"],["value","Forex"],["matInput","","type","text","formControlName","cifNumber","placeholder","CIF Number",1,"alignment",3,"formControl","matAutocomplete","keypress","change","keyup"],["auto","matAutocomplete"],[3,"value"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","100%","margin-bottom","50px",3,"src"],["formControlName","currency","placeholder","Select",3,"ngModel","ngModelChange"],["value",""],["matInput","","type","text","autocomplete","off","formControlName","currency","placeholder","currency","name","currency","readonly","",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card","name","nameOnCard",1,"alignment",3,"keypress"],["formControlName","customerAccount"],["matInput","","type","text","autocomplete","off","formControlName","customerAccount","placeholder","Customer Account Number","name","customerAccount",1,"alignment",3,"keypress"],["matInput","","class","alignment","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["matInput","","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","class","alignment","type","text","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["matInput","","type","text","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card",1,"alignment",3,"keypress"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Card Initiation"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",1),b.Xb(10,"div",2),b.Xb(11,"mat-card",7),b.Xb(12,"mat-card-title"),b.Xb(13,"fieldset"),b.Xb(14,"legend",8),b.Tc(15,"Card Initiation"),b.Wb(),b.Wb(),b.Wb(),b.Xb(16,"mat-card-content"),b.Xb(17,"form",9),b.Xb(18,"div",10),b.Xb(19,"div",11),b.Xb(20,"div",12),b.Xb(21,"label",13),b.Tc(22,"Existing Customer *"),b.Wb(),b.Xb(23,"mat-slide-toggle",14),b.fc("change",function(t){return e.goToggle(t)}),b.Wb(),b.Wb(),b.Rc(24,gi,16,3,"div",15),b.Wb(),b.Wb(),b.Xb(25,"div",16),b.Xb(26,"div",17),b.Xb(27,"div",12),b.Xb(28,"mat-form-field",18),b.Xb(29,"mat-label",13),b.Tc(30,"Card Type *"),b.Wb(),b.Xb(31,"mat-select",19),b.fc("selectionChange",function(t){return e.changeEvent(t)}),b.Rc(32,hi,2,0,"mat-option",20),b.Xb(33,"mat-option",21),b.Tc(34,"Credit"),b.Wb(),b.Rc(35,fi,2,0,"mat-option",22),b.Wb(),b.Rc(36,yi,2,0,"mat-error",23),b.Wb(),b.Wb(),b.Rc(37,Xi,11,4,"div",24),b.Rc(38,Oi,9,3,"div",24),b.Rc(39,Ti,6,1,"div",24),b.Xb(40,"div",12),b.Xb(41,"mat-form-field",18),b.Xb(42,"mat-label",13),b.Tc(43,"Affinity Program *"),b.Wb(),b.Xb(44,"mat-select",25),b.Xb(45,"mat-option",26),b.Tc(46,"Affinity Program1"),b.Wb(),b.Xb(47,"mat-option",27),b.Tc(48,"Affinity Program2"),b.Wb(),b.Wb(),b.Rc(49,Ai,2,0,"mat-error",23),b.Wb(),b.Wb(),b.Rc(50,ki,6,1,"div",24),b.Wb(),b.Xb(51,"div",17),b.Rc(52,Pi,7,2,"div",24),b.Rc(53,Ri,6,1,"div",24),b.Rc(54,Mi,5,1,"div",24),b.Rc(55,Vi,5,1,"div",24),b.Xb(56,"div",12),b.Xb(57,"mat-form-field",18),b.Xb(58,"mat-label",13),b.Tc(59,"Employment Type *"),b.Wb(),b.Xb(60,"mat-select",28),b.Rc(61,Bi,2,2,"mat-option",29),b.Wb(),b.Rc(62,ji,2,0,"mat-error",23),b.Wb(),b.Wb(),b.Rc(63,zi,5,0,"div",24),b.Wb(),b.Wb(),b.Xb(64,"div",10),b.Xb(65,"div",11),b.Xb(66,"div",12),b.Xb(67,"label",13),b.Tc(68,"Addon Card"),b.Wb(),b.Xb(69,"mat-slide-toggle",30),b.fc("change",function(t){return e.addOnCard(t)}),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(70,"div",31),b.Xb(71,"button",32),b.fc("click",function(){return e.goBack()}),b.Tc(72," Back "),b.Wb(),b.Xb(73,"button",33),b.fc("click",function(){return e.onSubmit()}),b.Tc(74," Next "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(17),b.rc("formGroup",e.cardInitiationForm),b.Eb(7),b.rc("ngIf",e.iskycStatus),b.Eb(8),b.rc("ngIf",e.isExistingCustomer),b.Eb(3),b.rc("ngIf",e.isExistingCustomer),b.Eb(1),b.rc("ngIf",!e.cardInitiationForm.get("cardType").valid&&e.cardInitiationForm.get("cardType").touched),b.Eb(1),b.rc("ngIf",e.isExistingCustomer),b.Eb(1),b.rc("ngIf",!e.isExistingCustomer),b.Eb(1),b.rc("ngIf",e.isExistingCustomer),b.Eb(10),b.rc("ngIf",!e.cardInitiationForm.get("affinityProgram").valid&&e.cardInitiationForm.get("affinityProgram").touched),b.Eb(1),b.rc("ngIf",!e.isExistingCustomer),b.Eb(2),b.rc("ngIf",e.isExistingCustomer),b.Eb(1),b.rc("ngIf",!e.isExistingCustomer),b.Eb(1),b.rc("ngIf",e.isExistingCustomer),b.Eb(1),b.rc("ngIf",!e.isExistingCustomer),b.Eb(6),b.rc("ngForOf",e.arrayofEmployment),b.Eb(1),b.rc("ngIf",!e.cardInitiationForm.get("employmentType").valid&&e.cardInitiationForm.get("employmentType").touched),b.Eb(1),b.rc("ngIf",e.isExistingCustomer),b.Eb(10),b.rc("disabled",!e.isExistingCustomer||e.isExistingCustomer||"Credit"!==e.cardInitiationForm.get("cardType").value?!e.cardInitiationForm.valid:!e.cardInitiationForm.valid||!e.isGoForKyc))},directives:[h.e,h.b,p.a,p.h,p.d,s.A,s.s,s.j,h.f,zt.a,s.r,s.i,i.n,y.c,y.g,Bt.a,jt.n,i.m,h.d,g.b,y.b,f.b,s.c,n.c,s.h,n.a,p.c,Yt.b],pipes:[i.w,i.v],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}  .cdk-overlay-pane{margin-top:-10px!important;padding-left:15px!important}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#aed6f1;max-width:15%!important;width:25px;height:35px;border-radius:50%}.main-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}  .mat-autocomplete-panel{margin:10px!important;min-width:107%!important;left:-6%!important;background-color:red}"]}),t})();function Ui(t,e){if(1&t&&(b.Xb(0,"mat-option",73),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Gi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please select the Employment Type "),b.Wb())}function Hi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please enter the Employee Number "),b.Wb())}function Yi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please enter the Designation "),b.Wb())}function $i(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Employment Start Date is Required! "),b.Wb())}function Qi(t,e){if(1&t&&(b.Xb(0,"mat-option",73),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Ki(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please select the Employment Category "),b.Wb())}function Ji(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please enter the Office Name "),b.Wb())}function Zi(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Employment End Date is Required! "),b.Wb())}function ta(t,e){if(1&t){const t=b.Yb();b.Xb(0,"form",8),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"mat-card",9),b.Xb(4,"mat-card-title"),b.Xb(5,"fieldset"),b.Xb(6,"legend",10),b.Tc(7,"Financial Details"),b.Wb(),b.Wb(),b.Wb(),b.Xb(8,"mat-card-content"),b.Xb(9,"div",11),b.Xb(10,"div",12),b.Xb(11,"div",13),b.Xb(12,"mat-form-field",14),b.Xb(13,"mat-label"),b.Tc(14,"Applicant Name"),b.Wb(),b.Sb(15,"input",15),b.Wb(),b.Wb(),b.Xb(16,"div",13),b.Xb(17,"mat-form-field",14),b.Xb(18,"mat-label"),b.Tc(19,"Total Income*"),b.Wb(),b.Xb(20,"span",16),b.Tc(21),b.Wb(),b.Sb(22,"input",17),b.Wb(),b.Wb(),b.Xb(23,"div",13),b.Xb(24,"mat-form-field",14),b.Xb(25,"mat-label"),b.Tc(26,"Last Update On"),b.Wb(),b.Sb(27,"input",18),b.Sb(28,"mat-datepicker-toggle",19),b.Sb(29,"mat-datepicker",null,20),b.Wb(),b.Wb(),b.Wb(),b.Xb(31,"div",12),b.Xb(32,"div",13),b.Xb(33,"mat-form-field",14),b.Xb(34,"mat-label"),b.Tc(35,"Currently Working"),b.Wb(),b.Sb(36,"input",21),b.Wb(),b.Wb(),b.Xb(37,"div",13),b.Xb(38,"mat-form-field",14),b.Xb(39,"mat-label"),b.Tc(40,"Total Expenses*"),b.Wb(),b.Xb(41,"span",22),b.Tc(42),b.Wb(),b.Sb(43,"input",23),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(44,"mat-card",9),b.Xb(45,"mat-card-title",24),b.Xb(46,"div",25),b.Tc(47,"Employment Details"),b.Wb(),b.Sb(48,"mat-divider"),b.Wb(),b.Xb(49,"mat-card-content"),b.Xb(50,"div",11),b.Xb(51,"div",12),b.Xb(52,"div",13),b.Xb(53,"mat-form-field",14),b.Xb(54,"mat-label"),b.Tc(55,"Employment Type *"),b.Wb(),b.Xb(56,"mat-select",26),b.Rc(57,Ui,2,2,"mat-option",27),b.Wb(),b.Rc(58,Gi,2,0,"mat-error",28),b.Wb(),b.Wb(),b.Xb(59,"div",13),b.Xb(60,"mat-form-field",14),b.Xb(61,"mat-label"),b.Tc(62,"Employee number"),b.Wb(),b.Xb(63,"input",29),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Rc(64,Hi,2,0,"mat-error",28),b.Wb(),b.Wb(),b.Xb(65,"div",13),b.Xb(66,"mat-form-field",14),b.Xb(67,"mat-label"),b.Tc(68,"Designation"),b.Wb(),b.Xb(69,"input",30),b.fc("keypress",function(e){return b.Hc(t),b.jc().letterOnly(e)}),b.Wb(),b.Rc(70,Yi,2,0,"mat-error",28),b.Wb(),b.Wb(),b.Xb(71,"div",13),b.Xb(72,"mat-form-field",14),b.Xb(73,"mat-label"),b.Tc(74,"Employment Start Date *"),b.Wb(),b.Sb(75,"input",31),b.Sb(76,"mat-datepicker-toggle",19),b.Sb(77,"mat-datepicker",null,32),b.Rc(79,$i,2,0,"mat-error",28),b.Wb(),b.Wb(),b.Wb(),b.Xb(80,"div",12),b.Xb(81,"div",13),b.Xb(82,"mat-form-field",14),b.Xb(83,"mat-label"),b.Tc(84,"Employment Category *"),b.Wb(),b.Xb(85,"mat-select",33),b.Rc(86,Qi,2,2,"mat-option",27),b.Wb(),b.Rc(87,Ki,2,0,"mat-error",28),b.Wb(),b.Wb(),b.Xb(88,"div",13),b.Xb(89,"mat-form-field",14),b.Xb(90,"mat-label"),b.Tc(91,"Office Name"),b.Wb(),b.Xb(92,"input",34),b.fc("keypress",function(e){return b.Hc(t),b.jc().letterOnly(e)}),b.Wb(),b.Rc(93,Ji,2,0,"mat-error",28),b.Wb(),b.Wb(),b.Xb(94,"div",13),b.Xb(95,"mat-form-field",14),b.Xb(96,"mat-label"),b.Tc(97,"Employment End Date"),b.Wb(),b.Sb(98,"input",35),b.Sb(99,"mat-datepicker-toggle",19),b.Sb(100,"mat-datepicker",null,36),b.Rc(102,Zi,2,0,"mat-error",28),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(103,"mat-card",9),b.Xb(104,"mat-card-title",24),b.Xb(105,"div",25),b.Tc(106," Monthly Income "),b.Xb(107,"div",37),b.Tc(108),b.Wb(),b.Wb(),b.Sb(109,"mat-divider"),b.Wb(),b.Xb(110,"mat-card-content"),b.Xb(111,"div",11),b.Xb(112,"div",12),b.Xb(113,"div",13),b.Xb(114,"mat-form-field",14),b.Xb(115,"mat-label"),b.Tc(116,"Bonus"),b.Wb(),b.Xb(117,"input",38),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(118,"div",13),b.Xb(119,"mat-form-field",14),b.Xb(120,"mat-label"),b.Tc(121,"Interest Income"),b.Wb(),b.Xb(122,"input",39),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(123,"div",13),b.Xb(124,"mat-form-field",14),b.Xb(125,"mat-label"),b.Tc(126,"Salary"),b.Wb(),b.Xb(127,"input",40),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(128,"div",13),b.Xb(129,"mat-form-field",14),b.Xb(130,"mat-label"),b.Tc(131,"Cash Gifts"),b.Wb(),b.Xb(132,"input",41),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(133,"div",13),b.Xb(134,"mat-form-field",14),b.Xb(135,"mat-label"),b.Tc(136,"Total"),b.Wb(),b.Sb(137,"input",42),b.Wb(),b.Wb(),b.Wb(),b.Xb(138,"div",12),b.Xb(139,"div",13),b.Xb(140,"mat-form-field",14),b.Xb(141,"mat-label"),b.Tc(142,"Business"),b.Wb(),b.Xb(143,"input",43),b.fc("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(144,"div",13),b.Xb(145,"mat-form-field",14),b.Xb(146,"mat-label"),b.Tc(147,"Pension"),b.Wb(),b.Xb(148,"input",44),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(149,"div",13),b.Xb(150,"mat-form-field",14),b.Xb(151,"mat-label"),b.Tc(152,"Rentals"),b.Wb(),b.Xb(153,"input",45),b.fc("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(154,"div",13),b.Xb(155,"mat-form-field",14),b.Xb(156,"mat-label"),b.Tc(157,"Others"),b.Wb(),b.Xb(158,"input",46),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(159,"mat-card",9),b.Xb(160,"mat-card-title",24),b.Xb(161,"div",25),b.Tc(162," Monthly Expenses "),b.Xb(163,"div",37),b.Tc(164),b.Wb(),b.Wb(),b.Sb(165,"mat-divider"),b.Wb(),b.Xb(166,"mat-card-content"),b.Xb(167,"div",11),b.Xb(168,"div",12),b.Xb(169,"div",13),b.Xb(170,"mat-form-field",14),b.Xb(171,"mat-label"),b.Tc(172,"Household"),b.Wb(),b.Xb(173,"input",47),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(174,"div",13),b.Xb(175,"mat-form-field",14),b.Xb(176,"mat-label"),b.Tc(177,"Education"),b.Wb(),b.Xb(178,"input",48),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(179,"div",13),b.Xb(180,"mat-form-field",14),b.Xb(181,"mat-label"),b.Tc(182,"Vehicle Maintenance"),b.Wb(),b.Xb(183,"input",49),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(184,"div",13),b.Xb(185,"mat-form-field",14),b.Xb(186,"mat-label"),b.Tc(187,"Others"),b.Wb(),b.Xb(188,"input",50),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(189,"div",13),b.Xb(190,"mat-form-field",14),b.Xb(191,"mat-label"),b.Tc(192,"Total"),b.Wb(),b.Sb(193,"input",51),b.Wb(),b.Wb(),b.Wb(),b.Xb(194,"div",12),b.Xb(195,"div",13),b.Xb(196,"mat-form-field",14),b.Xb(197,"mat-label"),b.Tc(198,"Medical"),b.Wb(),b.Xb(199,"input",52),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(200,"div",13),b.Xb(201,"mat-form-field",14),b.Xb(202,"mat-label"),b.Tc(203,"Travel"),b.Wb(),b.Xb(204,"input",53),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(205,"div",13),b.Xb(206,"mat-form-field",14),b.Xb(207,"mat-label"),b.Tc(208,"Rentals"),b.Wb(),b.Xb(209,"input",54),b.fc("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)})("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(210,"mat-card",9),b.Xb(211,"mat-card-title",24),b.Xb(212,"div",25),b.Tc(213," Annual Liabilities "),b.Xb(214,"div",37),b.Tc(215),b.Wb(),b.Wb(),b.Sb(216,"mat-divider"),b.Wb(),b.Xb(217,"mat-card-content"),b.Xb(218,"div",11),b.Xb(219,"div",12),b.Xb(220,"div",13),b.Xb(221,"mat-form-field",14),b.Xb(222,"mat-label"),b.Tc(223,"Property Loans"),b.Wb(),b.Xb(224,"input",55),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(225,"div",13),b.Xb(226,"mat-form-field",14),b.Xb(227,"mat-label"),b.Tc(228,"Personal Loans"),b.Wb(),b.Xb(229,"input",56),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(230,"div",13),b.Xb(231,"mat-form-field",14),b.Xb(232,"mat-label"),b.Tc(233,"Overdrafts"),b.Wb(),b.Xb(234,"input",57),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(235,"div",13),b.Xb(236,"mat-form-field",14),b.Xb(237,"mat-label"),b.Tc(238,"Total"),b.Wb(),b.Sb(239,"input",58),b.Wb(),b.Wb(),b.Wb(),b.Xb(240,"div",12),b.Xb(241,"div",13),b.Xb(242,"mat-form-field",14),b.Xb(243,"mat-label"),b.Tc(244,"Vehicle Loans"),b.Wb(),b.Xb(245,"input",59),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(246,"div",13),b.Xb(247,"mat-form-field",14),b.Xb(248,"mat-label"),b.Tc(249,"Cards Outstanding's"),b.Wb(),b.Xb(250,"input",60),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(251,"div",13),b.Xb(252,"mat-form-field",14),b.Xb(253,"mat-label"),b.Tc(254,"Others"),b.Wb(),b.Xb(255,"input",61),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(256,"mat-card",9),b.Xb(257,"mat-card-title",24),b.Xb(258,"div",25),b.Tc(259," Asset "),b.Xb(260,"div",37),b.Tc(261),b.Wb(),b.Wb(),b.Sb(262,"mat-divider"),b.Wb(),b.Xb(263,"mat-card-content"),b.Xb(264,"div",11),b.Xb(265,"div",12),b.Xb(266,"div",13),b.Xb(267,"mat-form-field",14),b.Xb(268,"mat-label"),b.Tc(269,"Savings Deposits"),b.Wb(),b.Xb(270,"input",62),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(271,"div",13),b.Xb(272,"mat-form-field",14),b.Xb(273,"mat-label"),b.Tc(274,"Properties"),b.Wb(),b.Xb(275,"input",63),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(276,"div",13),b.Xb(277,"mat-form-field",14),b.Xb(278,"mat-label"),b.Tc(279,"Fixed Deposits"),b.Wb(),b.Xb(280,"input",64),b.fc("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)})("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(281,"div",13),b.Xb(282,"mat-form-field",14),b.Xb(283,"mat-label"),b.Tc(284,"Others"),b.Wb(),b.Xb(285,"input",65),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(286,"div",13),b.Xb(287,"mat-form-field",14),b.Xb(288,"mat-label"),b.Tc(289,"Total"),b.Wb(),b.Sb(290,"input",66),b.Wb(),b.Wb(),b.Wb(),b.Xb(291,"div",12),b.Xb(292,"div",13),b.Xb(293,"mat-form-field",14),b.Xb(294,"mat-label"),b.Tc(295,"Stocks/Funds"),b.Wb(),b.Xb(296,"input",67),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(297,"div",13),b.Xb(298,"mat-form-field",14),b.Xb(299,"mat-label"),b.Tc(300,"Automobiles"),b.Wb(),b.Xb(301,"input",68),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(302,"div",13),b.Xb(303,"mat-form-field",14),b.Xb(304,"mat-label"),b.Tc(305,"Lands"),b.Wb(),b.Xb(306,"input",69),b.fc("keypress",function(e){return b.Hc(t),b.jc()._keyPress(e)})("input",function(){b.Hc(t);const e=b.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(307,"div",1),b.Xb(308,"div",2),b.Xb(309,"div",70),b.Xb(310,"button",71),b.fc("click",function(){return b.Hc(t),b.jc().goBack()}),b.Tc(311," Back "),b.Wb(),b.Xb(312,"button",72),b.fc("click",function(){return b.Hc(t),b.jc().onSubmit()}),b.Tc(313," Next "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=b.Dc(30),e=b.Dc(78),r=b.Dc(101),i=b.jc();b.rc("formGroup",i.cardFinancialDetailsForm),b.Eb(21),b.Vc("",i.currencySymbol,"\xa0"),b.Eb(6),b.rc("matDatepicker",t)("max",i.lastData),b.Eb(1),b.rc("for",t),b.Eb(14),b.Vc("",i.currencySymbol,"\xa0"),b.Eb(15),b.rc("ngForOf",i.arrayEmploymentType),b.Eb(1),b.rc("ngIf",i.cardFinancialDetailsForm.get("employmentType").hasError("required")),b.Eb(5),b.rc("required","Salaried"==i.cardFinancialDetailsForm.get("employmentType").value),b.Eb(1),b.rc("ngIf",i.cardFinancialDetailsForm.get("employeeNumber").hasError("required")),b.Eb(5),b.rc("required","Salaried"==i.cardFinancialDetailsForm.get("employmentType").value),b.Eb(1),b.rc("ngIf",i.cardFinancialDetailsForm.get("designation").hasError("required")),b.Eb(5),b.rc("max",i.maxDate)("matDatepicker",e),b.Eb(1),b.rc("for",e),b.Eb(3),b.rc("ngIf",i.cardFinancialDetailsForm.get("employmentStartDate").hasError("required")),b.Eb(7),b.rc("ngForOf",i.arrayEmploymentCategory),b.Eb(1),b.rc("ngIf",i.cardFinancialDetailsForm.get("employmentCategory").hasError("required")),b.Eb(5),b.rc("required","Salaried"==i.cardFinancialDetailsForm.get("employmentType").value),b.Eb(1),b.rc("ngIf",i.cardFinancialDetailsForm.get("officeName").hasError("required")),b.Eb(5),b.rc("matDatepicker",r)("min",i.cardFinancialDetailsForm.get("employmentStartDate").value),b.Eb(1),b.rc("for",r),b.Eb(3),b.rc("ngIf",i.cardFinancialDetailsForm.get("employmentEndDate").hasError("required")),b.Eb(6),b.Uc(i.incomeErrMsg),b.Eb(56),b.Uc(i.ExpensesErrMsg),b.Eb(51),b.Uc(i.LiabilitiesErrMsg),b.Eb(46),b.Uc(i.assetErrMsg),b.Eb(51),b.rc("disabled",i.incomeErrMsg||i.ExpensesErrMsg||i.LiabilitiesErrMsg||i.assetErrMsg||!i.cardFinancialDetailsForm.valid)}}let ea=(()=>{class t extends class{constructor(){}converDate(t){let e=Lt(t).format("YYYY-MMM-DD");if(e)return e}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}}{constructor(t,e,r,i,a,n,c){super(),this.formBuilder=t,this.api=e,this.snack=r,this.accountService=i,this.router=a,this.ls=n,this.cdr=c,this.disableNext=!1,this.showEditOption=!1,this.minDate=new Date,this.maxDate=new Date,this.lastData=(new Date).toISOString().slice(0,10)}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.applicantName=this.ls.getItem("primaryCustomerName");let t=JSON.parse(this.ls.getItem("CARD_FINANCIAL_DONE"));this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.cardId&&t?(this.showEditOption=!0,this.getCardFinancialDetailsSummary()):(this.showEditOption=!1,setTimeout(()=>{this.buildFinacialFormGroup()},200))}getCardFinancialDetailsSummary(){this.api.getCardFinancialDetails(this.cardId).subscribe(t=>{this.buildFinacialFormGroup(t[t.length-1])})}getEmploymentType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t})}getEmploymentCategory(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentCategory=t})}buildFinacialFormGroup(t){this.cardFinancialDetailsForm=this.formBuilder.group({applicantName:[t?t.applicantName:this.ls.getItem("Card_Applicant_name"),s.z.required],currentlyWorking:[t?t.currentlyWorking:""],applicantTotalIncome:[t?t.applicantTotalIncome:0,s.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,s.z.required],lastUpdatedon:[t&&(null==t?void 0:t.lastUpdatedon)?new Date(t.lastUpdatedon):""],employmentType:[t?t.employmentType:"",s.z.required],employmentCategory:[t?t.employmentCategory:"",s.z.required],employeeNumber:[t?t.employeeNumber:""],officeName:[t?t.officeName:""],designation:[t?t.designation:""],employmentStartDate:[t&&(null==t?void 0:t.employmentStartDate)?new Date(t.employmentStartDate):"",s.z.required],employmentEndDate:[t&&(null==t?void 0:t.employmentEndDate)?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0]},{validator:t=>this.validateInputGroups(t)})}validateInputGroups(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}onSubmit(){let t=this.converDate(this.cardFinancialDetailsForm.controls.employmentStartDate.value);this.cardFinancialDetailsForm.value.employmentStartDate=t&&"Invalid date"!=t?t:null;let e=this.converDate(this.cardFinancialDetailsForm.controls.employmentEndDate.value);this.cardFinancialDetailsForm.value.employmentEndDate=e&&"Invalid date"!=e?e:null;let r=Lt(this.cardFinancialDetailsForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");this.cardFinancialDetailsForm.value.lastUpdatedon=r&&"Invalid date"!=r?r:null,this.cardFinancialDetailsForm.value.accountType="cardOrigin",this.cardFinancialDetailsForm.value.cardId=this.cardId;var i=[];i.push(this.cardFinancialDetailsForm.value),this.api.upsertCardFinancialDetails(i).subscribe(t=>{this.snack.open("Financial Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}next(){this.ls.setItem("CARD_FINANCIAL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}calculateTotalMonthlyIncome(t){let e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.cardFinancialDetailsForm.controls.monthlyIncomeTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalMonthlyExpenses(t){let e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.cardFinancialDetailsForm.controls.monthlyExpenseTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalLiabilities(t){let e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.cardFinancialDetailsForm.controls.liabilityTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalAssets(t){let e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.cardFinancialDetailsForm.controls.assetTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalIncomeAndExpense(t){let e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.cardFinancialDetailsForm.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.cardFinancialDetailsForm.controls.applicantTotalExpense.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(s.f),b.Rb(l.b),b.Rb(d.a),b.Rb(D.a),b.Rb(m.h),b.Rb(o.a),b.Rb(b.h))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-financial-details"]],features:[b.Bb],decls:10,vars:1,consts:[[1,"matcard-size"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_2.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"p-0"],["visible","true"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matPrefix",""],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matPrefix","",1,"curr_icon"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],[1,""],[1,"card-title-text"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"required","keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Tc(7,"Financial Details"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(8,"div"),b.Rc(9,ta,314,29,"form",7),b.Wb(),b.Wb()),2&t&&(b.Eb(9),b.rc("ngIf",e.cardFinancialDetailsForm))},directives:[h.e,h.b,i.n,s.A,s.s,s.j,p.a,p.h,p.d,h.f,y.c,y.g,f.b,s.c,s.r,s.i,y.i,s.v,Gt.e,Gt.g,y.j,Gt.d,X.a,Bt.a,i.m,s.y,s.m,Ht.a,h.d,g.b,jt.n,y.b],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}  .mat-form-field-prefix{top:0!important}.mt-32[_ngcontent-%COMP%]{margin-left:2%}"]}),t})();const ra=function(){return{y:"50px",delay:"300ms"}},ia=function(t){return{value:"*",params:t}};function aa(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",18),b.Xb(1,"mat-card"),b.Xb(2,"div",19),b.Xb(3,"div",20),b.Xb(4,"mat-icon",21),b.Tc(5,"check_circle"),b.Wb(),b.Wb(),b.Xb(6,"div",22),b.Xb(7,"h6"),b.Tc(8,"Application Entry Stage Completed"),b.Wb(),b.Wb(),b.Sb(9,"span",23),b.Xb(10,"button",24),b.fc("click",function(){return b.Hc(t),b.jc().goToCardAppAssessmentSummary()}),b.Tc(11," View Summary "),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(1),b.rc("@animate",b.xc(2,ia,b.wc(1,ra))))}function na(t,e){1&t&&(b.Xb(0,"div",25),b.Sb(1,"mat-progress-bar",26),b.Xb(2,"p",27),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function ca(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",24),b.fc("click",function(){return b.Hc(t),b.jc().goToCardAssessmentSummary()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const oa=function(){return["/cardaccount/assessmentStage/application-assessment/list"]};function sa(t,e){1&t&&(b.Xb(0,"button",28),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()),2&t&&b.rc("routerLink",b.wc(1,oa))}let la=(()=>{class t{constructor(t,e,r,i,a,n){this.ls=t,this.router=e,this.dialogService=r,this.cdr=i,this.accountService=a,this.apiService=n,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE")}goToCardAssessmentSummary(){this.dialogService.cardAccountAssessmentSummaryDialog()}goToCardAppAssessmentSummary(){this.dialogService.cardAccAssessmentSummaryDialog()}openLoanQualitativeDialog(){this.dialogService.loanQualitativeSummaryDialog()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(o.a),b.Rb(m.h),b.Rb(rt.a),b.Rb(b.h),b.Rb(D.a),b.Rb(l.b))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-assessment-stage"]],decls:31,vars:5,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"font1"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showAssessment",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Create New Card Account"),b.Wb(),b.Wb(),b.Xb(9,"div",7),b.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),b.Wb(),b.Wb(),b.Wb(),b.Rc(11,aa,12,4,"div",8),b.Wb(),b.Xb(12,"div",9),b.Xb(13,"div",10),b.Xb(14,"mat-card"),b.Xb(15,"mat-card-header"),b.Xb(16,"mat-card-title"),b.Tc(17,"1. Assessment Report"),b.Wb(),b.Wb(),b.Xb(18,"mat-card-content"),b.Xb(19,"div",11),b.Xb(20,"div",12),b.Xb(21,"p"),b.Tc(22," The recommendation will be displayed with Approval or Rejection recommendation. "),b.Wb(),b.Wb(),b.Xb(23,"div",13),b.Sb(24,"img",14),b.Wb(),b.Wb(),b.Rc(25,na,4,2,"div",15),b.Wb(),b.Sb(26,"mat-divider"),b.Xb(27,"mat-card-actions"),b.Rc(28,ca,5,0,"ng-container",16),b.Rc(29,sa,4,2,"ng-template",null,17,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Dc(30);b.Eb(11),b.rc("ngIf",e.isCardAssessmentStageDone),b.Eb(13),b.rc("src","assets/images/svg/MaskGroup_13.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isAssessmentReport),b.Eb(3),b.rc("ngIf",e.isAssessmentReport)("ngIfElse",t)}},directives:[h.e,h.b,i.n,p.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,A.a,m.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.font1[_ngcontent-%COMP%]{padding-left:17px;color:#cacaca}"]}),t})();var ba=r("q7Ft"),da=r("/1WF"),ua=r("Bp9c"),ma=r("UGQK"),pa=r("r/oB");const ga=function(){return["/cardaccount/applicationEntryStage/list"]},ha=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]},fa=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]},ya=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]},va=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]},Ca=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]},xa=function(){return["/cardaccount/documentupload/list"]},Wa=function(){return["/cardaccount/documentupload/list/document-details"]},Xa=function(){return["/cardaccount/applicationEnrichment/list"]},Ia=function(){return["/cardaccount/applicationEnrichment/intrest-details"]},Sa=function(){return["/cardaccount/applicationEnrichment/charge-details"]},Oa=function(){return["/cardaccount/underwritingStage/list"]},Da=function(){return["/cardaccount/underwritingStage/credit-rating"]},Ta=function(){return["/cardaccount/underwritingStage/qualitative"]},Aa=function(){return["/cardaccount/assessmentStage/list"]},Ea=function(){return["/cardaccount/assessmentStage/application-assessment/list"]},ka=function(){return["/cardaccount/SupervisorApprovalStage/list"]},_a=function(){return["/cardaccount/SupervisorApprovalStage/list/approvalDetails"]},wa=function(){return["/cardaccount/DigitalSigning/list"]},Pa=function(){return["/cardaccount/digitalsigning/options"]};let Na=(()=>{class t{constructor(t,e,r,i,a){this.ls=t,this.api=e,this.router=r,this.cdr=i,this.accountService=a,this.isCardApplicationStageDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardPrefrenceDone=!1,this.isCardAccountService=!1,this.isAddOnCardHolderDetails=!0,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.isCardApplicationEnrichmentDone=!1,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isApplicationUnderWritingStageDone=!0,this.isQualitativeScoreboard=!0,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1,this.isCardSupervisorApprovalDone=!0,this.isApprovedDetails=!0,this.isCardDigitalSigningDone=!0,this.isCardDigitalSigning=!0}ngOnInit(){this.accountItemsSub=this.accountService.accountItems$.subscribe(t=>{this.accountItems=t}),console.log("reset"),this.cardId=this.ls.getItem("cardId"),this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE"),this.isDocumentUploadDone=this.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isCardApplicationEnrichmentDone=this.ls.getItem("CARD_ENRICHMENT_DONE"),console.log("isCardApplicationEnrichmentDone",this.isCardApplicationEnrichmentDone),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isApplicationUnderWritingStageDone=this.ls.getItem("CARD_UNDERWRITING_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),this.isApprovedDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE"),this.accountService.refresh.subscribe(t=>{this.cardId=this.ls.getItem("cardId"),this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE"),this.isDocumentUploadDone=this.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isCardApplicationEnrichmentDone=this.ls.getItem("CARD_ENRICHMENT_DONE"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isApplicationUnderWritingStageDone=this.ls.getItem("CARD_UNDERWRITING_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),this.isApprovedDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE")})}ngOnDestroy(){this.accountItemsSub&&this.accountItemsSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(o.a),b.Rb(l.b),b.Rb(m.h),b.Rb(b.h),b.Rb(D.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-card-account"]],decls:188,vars:86,consts:[[1,"matcard-size1"],[1,"m-333"],[1,"topSection",2,"background-color","white !important"],["EgretSideNavToggle","",1,"app-sidebar",2,"width","300px"],[1,"sidenav-header"],[1,"sidenav-hold"],["appDropdown","",1,"sidenav","mt-32"],["appDropdownLink","","routerLinkActive","open"],[1,"lvl1"],["appDropdownToggle","",3,"ngClass"],[1,"sidenav-mat-icon",3,"ngClass"],[1,"item-name","lvl1"],["fxFlex",""],[1,"menu-caret"],["appDropdown","",1,"lvl2",2,"margin-right","8px"],["routerLinkActive","open"],[1,"side-menu",3,"routerLink","ngClass"],[1,"item-name","lvl2",2,"margin-left","10px"],[1,"side-menu",3,"ngClass","routerLink"],["appDropdownToggle","",3,"ngClass","routerLink"],["fxLayout","row","fxLayoutWrap","wrap",1,"app-wrap"],[1,"full-width","mt-32"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"mat-sidenav-container",2),b.Xb(3,"mat-sidenav",3),b.Xb(4,"span",4),b.Tc(5,"Home > Create Card Account"),b.Wb(),b.Xb(6,"div",5),b.Xb(7,"ul",6),b.Xb(8,"li",7),b.Xb(9,"div",8),b.Xb(10,"a",9),b.Xb(11,"mat-icon",10),b.Tc(12," account_balance_wallet "),b.Wb(),b.Xb(13,"span",11),b.Tc(14,"Application Entry Stage"),b.Wb(),b.Sb(15,"span",12),b.Xb(16,"mat-icon",13),b.Tc(17,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Xb(18,"ul",14),b.Xb(19,"li",15),b.Xb(20,"a",16),b.Xb(21,"span",17),b.Tc(22,"Summary"),b.Wb(),b.Sb(23,"span",12),b.Wb(),b.Wb(),b.Xb(24,"li",15),b.Xb(25,"a",16),b.Xb(26,"span",17),b.Tc(27,"Card Initiation"),b.Wb(),b.Sb(28,"span",12),b.Wb(),b.Wb(),b.Xb(29,"li",15),b.Xb(30,"a",16),b.Xb(31,"span",17),b.Tc(32,"Customer Information Details"),b.Wb(),b.Sb(33,"span",12),b.Wb(),b.Wb(),b.Xb(34,"li",15),b.Xb(35,"a",18),b.Xb(36,"span",17),b.Tc(37,"Financial Details"),b.Wb(),b.Sb(38,"span",12),b.Wb(),b.Wb(),b.Xb(39,"li",15),b.Xb(40,"a",18),b.Xb(41,"span",17),b.Tc(42,"Card Preferences"),b.Wb(),b.Sb(43,"span",12),b.Wb(),b.Wb(),b.Xb(44,"li",15),b.Xb(45,"a",16),b.Xb(46,"span",17),b.Tc(47,"Account Services"),b.Wb(),b.Sb(48,"span",12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(49,"li",7),b.Xb(50,"div",8),b.Xb(51,"a",19),b.Xb(52,"mat-icon",10),b.Tc(53,"file_upload"),b.Wb(),b.Xb(54,"span",11),b.Tc(55,"Document Upload"),b.Wb(),b.Sb(56,"span",12),b.Xb(57,"mat-icon",13),b.Tc(58,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Xb(59,"ul",14),b.Xb(60,"li",15),b.Xb(61,"a",16),b.Xb(62,"span",17),b.Tc(63,"Summary"),b.Wb(),b.Sb(64,"span",12),b.Wb(),b.Wb(),b.Xb(65,"li",15),b.Xb(66,"a",18),b.Xb(67,"span",17),b.Tc(68,"Document Upload"),b.Wb(),b.Sb(69,"span",12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(70,"li",7),b.Xb(71,"div",8),b.Xb(72,"a",19),b.Xb(73,"mat-icon",10),b.Tc(74,"border_color"),b.Wb(),b.Xb(75,"span",11),b.Tc(76,"Application Enrichment"),b.Wb(),b.Sb(77,"span",12),b.Xb(78,"mat-icon",13),b.Tc(79,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Xb(80,"ul",14),b.Xb(81,"li",15),b.Xb(82,"a",16),b.Xb(83,"span",17),b.Tc(84,"Summary"),b.Wb(),b.Sb(85,"span",12),b.Wb(),b.Wb(),b.Xb(86,"li",15),b.Xb(87,"a",16),b.Xb(88,"span",17),b.Tc(89,"Interest Details"),b.Wb(),b.Sb(90,"span",12),b.Wb(),b.Wb(),b.Xb(91,"li",15),b.Xb(92,"a",16),b.Xb(93,"span",17),b.Tc(94,"Charge Details"),b.Wb(),b.Sb(95,"span",12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(96,"li",7),b.Xb(97,"div",8),b.Xb(98,"a",19),b.Xb(99,"mat-icon",10),b.Tc(100,"border_color "),b.Wb(),b.Xb(101,"span",11),b.Tc(102,"Application Underwriting"),b.Wb(),b.Sb(103,"span",12),b.Xb(104,"mat-icon",13),b.Tc(105,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Xb(106,"ul",14),b.Xb(107,"li",15),b.Xb(108,"a",16),b.Xb(109,"span",17),b.Tc(110,"Summary"),b.Wb(),b.Sb(111,"span",12),b.Wb(),b.Wb(),b.Xb(112,"li",15),b.Xb(113,"a",18),b.Xb(114,"span",17),b.Tc(115,"Credit Score Details"),b.Wb(),b.Sb(116,"span",12),b.Wb(),b.Wb(),b.Xb(117,"li",15),b.Xb(118,"a",18),b.Xb(119,"span",17),b.Tc(120,"Qualitative Scoreboard"),b.Wb(),b.Sb(121,"span",12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(122,"li",7),b.Xb(123,"div",8),b.Xb(124,"a",19),b.Xb(125,"mat-icon",10),b.Tc(126,"assessment"),b.Wb(),b.Xb(127,"span",11),b.Tc(128,"Application Assessment"),b.Wb(),b.Sb(129,"span",12),b.Xb(130,"mat-icon",13),b.Tc(131,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Xb(132,"ul",14),b.Xb(133,"li",15),b.Xb(134,"a",16),b.Xb(135,"span",17),b.Tc(136,"Summary"),b.Wb(),b.Sb(137,"span",12),b.Wb(),b.Wb(),b.Xb(138,"li",15),b.Xb(139,"a",16),b.Xb(140,"span",17),b.Tc(141,"Assessment Report"),b.Wb(),b.Sb(142,"span",12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(143,"li",7),b.Xb(144,"div",8),b.Xb(145,"a",19),b.Xb(146,"mat-icon",10),b.Tc(147,"done_all"),b.Wb(),b.Xb(148,"span",11),b.Tc(149,"Supervisor Approval Stage"),b.Wb(),b.Sb(150,"span",12),b.Xb(151,"mat-icon",13),b.Tc(152,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Xb(153,"ul",14),b.Xb(154,"li",15),b.Xb(155,"a",16),b.Xb(156,"span",17),b.Tc(157,"Summary"),b.Wb(),b.Sb(158,"span",12),b.Wb(),b.Wb(),b.Xb(159,"li",15),b.Xb(160,"a",16),b.Xb(161,"span",17),b.Tc(162,"Approved Details"),b.Wb(),b.Sb(163,"span",12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(164,"li",7),b.Xb(165,"div",8),b.Xb(166,"a",19),b.Xb(167,"mat-icon",10),b.Tc(168,"web_asset"),b.Wb(),b.Xb(169,"span",11),b.Tc(170,"Digital Signing"),b.Wb(),b.Sb(171,"span",12),b.Xb(172,"mat-icon",13),b.Tc(173,"keyboard_arrow_right"),b.Wb(),b.Wb(),b.Xb(174,"ul",14),b.Xb(175,"li",15),b.Xb(176,"a",16),b.Xb(177,"span",17),b.Tc(178,"Summary"),b.Wb(),b.Sb(179,"span",12),b.Wb(),b.Wb(),b.Xb(180,"li",15),b.Xb(181,"a",16),b.Xb(182,"span",17),b.Tc(183,"Digital Signing"),b.Wb(),b.Sb(184,"span",12),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(185,"div",20),b.Xb(186,"div",21),b.Sb(187,"router-outlet"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.rc("ngClass",e.isCardApplicationStageDone?"active":"notActive"),b.Eb(1),b.rc("ngClass",e.isCardApplicationStageDone?"active":"notActive"),b.Eb(9),b.rc("routerLink",b.wc(60,ga))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),b.Eb(5),b.rc("routerLink",b.wc(61,ha))("ngClass",e.isCardInitiationDone?"enable":"disable"),b.Eb(5),b.rc("routerLink",b.wc(62,fa))("ngClass",e.isCardCustomerInformationScreen?"enable":"disable"),b.Eb(5),b.rc("ngClass",e.isCardFinancialDetailsScreen?"enable":"disable")("routerLink",b.wc(63,ya)),b.Eb(5),b.rc("ngClass",e.isCardPrefrenceDone?"enable":"disable")("routerLink",b.wc(64,va)),b.Eb(5),b.rc("routerLink",b.wc(65,Ca))("ngClass",e.isCardAccountService?"enable":"disable"),b.Eb(6),b.rc("ngClass",e.isDocumentUploadDone?"active":"notActive")("routerLink",b.wc(66,xa)),b.Eb(1),b.rc("ngClass",e.isDocumentUploadDone?"active":"notActive"),b.Eb(9),b.rc("routerLink",b.wc(67,xa))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),b.Eb(5),b.rc("ngClass",e.isDocumentUpload?"enable":"disable")("routerLink",b.wc(68,Wa)),b.Eb(6),b.rc("ngClass",e.isCardApplicationEnrichmentDone?"active":"notActive")("routerLink",b.wc(69,Xa)),b.Eb(1),b.rc("ngClass",e.isCardApplicationEnrichmentDone?"active":"notActive"),b.Eb(9),b.rc("routerLink",b.wc(70,Xa))("ngClass",e.isCardApplicationEnrichmentDone?"enable":"disable"),b.Eb(5),b.rc("routerLink",b.wc(71,Ia))("ngClass",e.isCardInterestDetails?"enable":"disable"),b.Eb(5),b.rc("routerLink",b.wc(72,Sa))("ngClass",e.isCardChargeDetails?"enable":"disable"),b.Eb(6),b.rc("ngClass",e.isApplicationUnderWritingStageDone?"active":"notActive")("routerLink",b.wc(73,Oa)),b.Eb(1),b.rc("ngClass",e.isApplicationUnderWritingStageDone?"active":"notActive"),b.Eb(9),b.rc("routerLink",b.wc(74,Oa))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),b.Eb(5),b.rc("ngClass",e.isCardCreditRatingDetails?"enable":"disable")("routerLink",b.wc(75,Da)),b.Eb(5),b.rc("ngClass",e.isCardQualitativeScoreboard?"enable":"disable")("routerLink",b.wc(76,Ta)),b.Eb(6),b.rc("ngClass",e.isCardAssessmentStageDone?"active":"notActive")("routerLink",b.wc(77,Aa)),b.Eb(1),b.rc("ngClass",e.isCardAssessmentStageDone?"active":"notActive"),b.Eb(9),b.rc("routerLink",b.wc(78,Aa))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),b.Eb(5),b.rc("routerLink",b.wc(79,Ea))("ngClass",e.isAssessmentReport?"enable":"disable"),b.Eb(6),b.rc("ngClass",e.isCardSupervisorApprovalDone?"active":"notActive")("routerLink",b.wc(80,ka)),b.Eb(1),b.rc("ngClass",e.isCardSupervisorApprovalDone?"active":"notActive"),b.Eb(9),b.rc("routerLink",b.wc(81,ka))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),b.Eb(5),b.rc("routerLink",b.wc(82,_a))("ngClass",e.isApprovedDetails?"enable":"disable"),b.Eb(6),b.rc("ngClass",e.isCardDigitalSigningDone?"active":"notActive")("routerLink",b.wc(83,wa)),b.Eb(1),b.rc("ngClass",e.isCardDigitalSigningDone?"active":"notActive"),b.Eb(9),b.rc("routerLink",b.wc(84,wa))("ngClass",e.isCardDigitalSigningDone?"enable":"disable"),b.Eb(5),b.rc("routerLink",b.wc(85,Pa))("ngClass",e.isCardDigitalSigning?"enable":"disable"))},directives:[ba.e,ba.d,da.a,ua.a,ma.a,m.j,pa.a,i.l,T.a,a.a,h.b,m.k,h.e,m.m],styles:["li[_ngcontent-%COMP%]{list-style-type:none!important}a[_ngcontent-%COMP%]   .mat-icon.sidenav-mat-icon[_ngcontent-%COMP%]{border-left:none!important;border-color:transparent}.sidenav-hold[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{background:none!important;top:0}li.open[_ngcontent-%COMP%]{background:none!important}.active[_ngcontent-%COMP%], .enable[_ngcontent-%COMP%]{color:#03a9f4!important}.disable[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.topSection[_ngcontent-%COMP%]{margin-top:35px!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}"]}),t})();var Ra=r("I5/J"),Fa=r("89pA");const Ma=function(){return{delay:"300ms",y:"50px"}},La=function(t){return{value:"*",params:t}};let Va=(()=>{class t{constructor(t,e,r,i,a,n,c,o){this.dialog=t,this.router=e,this.ls=r,this.accountService=i,this.apiService=a,this.urlService=n,this.api=c,this.dialogService=o,this.previousUrl="",this.show=!1,this.isDone=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.show1=this.ls.getItem("eSignStage")&&null!==this.ls.getItem("signedImage"),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t})}openPopUp(t){let e;null==t&&(e={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(Ra.a,{width:"720px",disableClose:!0,data:null==t?e:t}).afterClosed().subscribe(t=>{this.accountId=this.accountID,console.log(t),t&&(this.show=this.ls.getItem("enable"),this.show1=this.ls.getItem("enable"),console.log(this.show),this.getByAccountId(this.accountId))})}getByAccountId(t){this.api.getCardInitiationDetails(this.cardId).subscribe(t=>{this.accountdetailsForStatusUpdate=t,this.updateCardAccountStatus()})}onDone(){this.isDone=!0,this.dialogService.alertForCardFinishButton().subscribe(t=>{console.log("response ::",t)})}updateCardAccountStatus(){this.api.updateCardStatus({cardId:this.cardId,status:"BACKLOG"}).subscribe(t=>{console.log("updateResp:: ",t)})}goBack(){this.router.navigate(["/cardaccount/DigitalSigning/list"])}resetState(){this.ls.removeItem("CARD_APPLICATION_ENTRY_DONE"),this.ls.removeItem("CARD_INITIATION_DONE"),this.ls.removeItem("Card_Customer_Done"),this.ls.removeItem("CARD_FINANCIAL_DONE"),this.ls.removeItem("card_prefrence_done"),this.ls.removeItem("CARD_ACC_SERVICE_DONE"),this.ls.removeItem("Card_CIF_NUM_PRIMARY"),this.ls.removeItem("Card_Applicant_name"),this.ls.removeItem("CARD_DOCUMENT_STAGE_DONE"),this.ls.removeItem("CARD_DOCUMENT_DONE"),this.ls.removeItem("CARD_ENRICHMENT_DONE"),this.ls.removeItem("CARD_INTEREST_DETAILS_DONE"),this.ls.removeItem("CARD_CHARGE_DETAILS_DONE"),this.ls.removeItem("CARD_UNDERWRITING_DONE"),this.ls.removeItem("CARD_CREDIT_RATING_DONE"),this.ls.removeItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.ls.removeItem("CARD_ASSESSMENT_STAGE_DONE"),this.ls.removeItem("CARD_ASSESSMENT_DONE"),this.ls.removeItem("CARD_SUPERVISOR_DONE"),this.ls.removeItem("CARD_APPROVAL_DONE"),this.ls.removeItem("CARD_DIGITAL_STAGE_DONE"),this.ls.removeItem("CARD_DIGITAL_SIGN_DONE"),this.ls.removeItem("enable"),this.ls.removeItem("eSignStage"),this.ls.removeItem("cardId"),this.ls.removeItem("CardNoOfApplicants"),this.ls.removeItem("primaryCustomerName"),this.ls.removeItem("cardownership_value"),this.ls.removeItem("cId"),this.ls.removeItem("cardSignedImage"),this.ls.removeItem("enable"),sessionStorage.clear(),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list"])}onSubmit(){this.api.signInLater({cardId:this.cardId,esignLink:"",subject:"testing"}).subscribe(t=>{console.log("data::",t),this.getByAccountId(this.cardId),this.ls.setItem("eSignStage",!0),this.isDone=!0,this.dialogService.alertForcardSignLater().subscribe(t=>{console.log("response ::",t)}),this.show=this.ls.setItem("enable",!0)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(u.b),b.Rb(m.h),b.Rb(o.a),b.Rb(D.a),b.Rb(Mt.a),b.Rb(At.a),b.Rb(l.b),b.Rb(rt.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-digital-sign-now-or-later"]],decls:46,vars:5,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 55.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"mat-card-img"],["fxFlex","100",1,"mt-32"],["matRipple","",1,"sign-box","hoverAdd",3,"click"],[1,"p-0"],[1,"compact-list","mb-16"],[1,""],["src","assets/images/svg/signnow.png","alt","",1,"mr-16"],["fxLayout","column","fxFlex","100"],[1,"m-0","mr-16"],["fxFlex",""],["fxFlex","40",1,"text"],[1,"text-center"],["mat-button","",1,"text"],["src","assets/images/svg/signlater.png","alt","",1,"mr-16"],["fxFlex","100",1,"mt-16"],["mat-button","",1,"Backbtn",2,"height","60%","margin-top","1%",3,"click"],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Digital Signing"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"mat-card",7),b.Xb(10,"div",8),b.Xb(11,"mat-card",9),b.fc("click",function(){return e.openPopUp()}),b.Xb(12,"mat-card-content",10),b.Xb(13,"mat-list",11),b.Xb(14,"mat-list-item",12),b.Sb(15,"img",13),b.Xb(16,"div",14),b.Xb(17,"h3",15),b.Tc(18,"Sign Now"),b.Wb(),b.Sb(19,"span",16),b.Sb(20,"br"),b.Xb(21,"div",17),b.Tc(22," Enables you to digitally sign the document. To e sign the document, click on it, create your eSignature, click on Done and it will add to your document. "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(23,"div",2),b.Xb(24,"div",18),b.Xb(25,"button",19),b.Tc(26,"OR"),b.Wb(),b.Wb(),b.Wb(),b.Xb(27,"div",2),b.Xb(28,"mat-card",9),b.fc("click",function(){return e.onSubmit()}),b.Xb(29,"mat-card-content",10),b.Xb(30,"mat-list",11),b.Xb(31,"mat-list-item",12),b.Sb(32,"img",20),b.Xb(33,"div",14),b.Xb(34,"h3",15),b.Tc(35,"Sign Later"),b.Wb(),b.Sb(36,"span",16),b.Sb(37,"br"),b.Xb(38,"div",17),b.Tc(39," Enables you to sign the document later. To sign later, click here, an email will be sent to the respective email id provided with a sign link. You can verify and sign later. "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(40,"div",21),b.Xb(41,"button",22),b.fc("click",function(){return e.goBack()}),b.Tc(42,"BACK"),b.Wb(),b.Sb(43,"span",16),b.Xb(44,"button",23),b.fc("click",function(){return e.onDone()}),b.Tc(45," FINISH "),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(11),b.rc("@animate",b.xc(3,La,b.wc(2,Ma))),b.Eb(33),b.rc("disabled",!e.show))},directives:[h.e,h.b,p.a,jt.s,p.d,Yt.a,Yt.d,g.b],styles:[".text[_ngcontent-%COMP%]{font-size:13px;color:#cacaca}.mat-card-img[_ngcontent-%COMP%]{height:100%;width:100%;flex-direction:column!important;box-sizing:border-box!important;display:flex!important}.hoverAdd[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.08);cursor:pointer}.compact-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background:none}.Nextbtn[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}"],data:{animation:Fa.a}}),t})(),Ba=(()=>{class t{constructor(t,e,r,i){this.router=t,this.ls=e,this.api=r,this.loader=i}ngOnInit(){console.log(this.cardId),this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.getDigitalsignByCardId(this.cardId)}getDigitalsignByCardId(t){this.api.getDigitalsignByCardId(t).subscribe(t=>{console.log(t),console.log(t[0].fileUrl),this.imageUrl=t[t.length-1].fileUrl,this.loader.close()},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(o.a),b.Rb(l.b),b.Rb(J.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-digital-view-summary"]],decls:11,vars:1,consts:[["fxLayoutAlign","end stretch","mat-dialog-close","",1,"close"],[1,"approval-details"],["visible","true","clas","paraFont"],[1,"card"],["alt","No Image",3,"src"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"mat-icon"),b.Tc(2,"close"),b.Wb(),b.Wb(),b.Xb(3,"div",1),b.Xb(4,"fieldset"),b.Xb(5,"legend",2),b.Tc(6,"Digital Signing"),b.Wb(),b.Wb(),b.Xb(7,"mat-card",3),b.Xb(8,"div"),b.Xb(9,"div"),b.Sb(10,"img",4),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.rc("src",e.imageUrl,b.Jc))},directives:[h.d,u.d,a.a,p.a],styles:[".editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.card[_ngcontent-%COMP%]{width:50%}"]}),t})();const ja=function(){return["/cardaccount/digitalsigning/options"]};let za=(()=>{class t{constructor(t,e,r,i){this.router=t,this.ls=e,this.api=r,this.loader=i}ngOnInit(){console.log(this.cardId),this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.getDigitalsignByCardId(this.cardId)}getDigitalsignByCardId(t){this.api.getDigitalsignByCardId(t).subscribe(t=>{console.log(t),console.log(t[0].fileUrl),this.imageUrl=t[t.length-1].fileUrl,this.loader.close()},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(o.a),b.Rb(l.b),b.Rb(J.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-digitalsign-summary"]],decls:13,vars:3,consts:[["fxLayoutAlign","end stretch","mat-dialog-close","",1,"close"],[1,"approval-details"],["visible","true","clas","paraFont"],[1,"card"],["alt","No Image",3,"src"],["mat-dialog-close","",1,"editButton",3,"routerLink"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"mat-icon"),b.Tc(2,"close"),b.Wb(),b.Wb(),b.Xb(3,"div",1),b.Xb(4,"fieldset"),b.Xb(5,"legend",2),b.Tc(6,"Digital Signing"),b.Wb(),b.Wb(),b.Xb(7,"mat-card",3),b.Xb(8,"div"),b.Xb(9,"div"),b.Sb(10,"img",4),b.Wb(),b.Wb(),b.Wb(),b.Xb(11,"p",5),b.Tc(12,"Edit"),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.rc("src",e.imageUrl,b.Jc),b.Eb(1),b.rc("routerLink",b.wc(2,ja)))},directives:[h.d,u.d,a.a,p.a,m.i],styles:[".editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.card[_ngcontent-%COMP%]{width:50%}"]}),t})();const qa=function(){return{y:"50px",delay:"300ms"}},Ua=function(t){return{value:"*",params:t}};function Ga(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",17),b.Xb(1,"mat-card"),b.Xb(2,"div",18),b.Xb(3,"div",19),b.Xb(4,"mat-icon",20),b.Tc(5,"check_circle"),b.Wb(),b.Wb(),b.Xb(6,"div",21),b.Xb(7,"h6"),b.Tc(8,"Application Entry Stage Completed"),b.Wb(),b.Wb(),b.Sb(9,"span",22),b.Xb(10,"button",23),b.fc("click",function(){return b.Hc(t),b.jc().goToDigitalSignViewSummary()}),b.Tc(11," View Summary "),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(1),b.rc("@animate",b.xc(2,Ua,b.wc(1,qa))))}function Ha(t,e){1&t&&(b.Xb(0,"div",24),b.Sb(1,"mat-progress-bar",25),b.Xb(2,"p",26),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function Ya(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",27),b.fc("click",function(){return b.Hc(t),b.jc().goToDigitalSign()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}function $a(t,e){if(1&t){const t=b.Yb();b.Xb(0,"a",27),b.fc("click",function(){return b.Hc(t),b.jc().goToDigitalSigningOptions()}),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()}}let Qa=(()=>{class t{constructor(t,e,r,i,a){this.router=t,this.ls=e,this.dialog=r,this.cdr=i,this.accountService=a,this.informations=[{id:1,title:"1. Digital Signing",content:"Customer can either sign now or sign later",percentage:70,status:"Pending",state:"application/digital-sign/options",avatar:"assets/images/esign.jpg"}],this.isEsignScreen=!1}ngOnInit(){this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.accountService.refresh.subscribe(t=>{this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.cdr.markForCheck()})}goToDetail(t){console.log(t),this.router.navigate(["/home/"+t.state])}goToDigitalSign(){this.dialog.open(za,{height:"55%",width:"40%",disableClose:!0}).afterClosed().subscribe(t=>{})}goToDigitalSignViewSummary(){this.dialog.open(Ba,{height:"55%",width:"40%",disableClose:!0}).afterClosed().subscribe(t=>{})}goToDigitalSigningOptions(){this.ls.setItem("CARD_DIGITAL_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigateByUrl("/cardaccount/digitalsigning/options")}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(o.a),b.Rb(u.b),b.Rb(b.h),b.Rb(D.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-digital-signing"]],decls:29,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["mat-button","","color","primary","class","pl-27",3,"click",4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",1,"pl-27",3,"click"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Sb(3,"img",3),b.Wb(),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"b"),b.Tc(7,"Create New Card Account"),b.Wb(),b.Wb(),b.Xb(8,"div",6),b.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),b.Wb(),b.Wb(),b.Wb(),b.Rc(10,Ga,12,4,"div",7),b.Wb(),b.Xb(11,"div",8),b.Xb(12,"div",9),b.Xb(13,"mat-card"),b.Xb(14,"mat-card-header"),b.Xb(15,"mat-card-title"),b.Tc(16,"1.Digital Signing"),b.Wb(),b.Wb(),b.Xb(17,"mat-card-content"),b.Xb(18,"div",10),b.Xb(19,"div",11),b.Xb(20,"p"),b.Tc(21," Customer can either sign now or sign later."),b.Wb(),b.Wb(),b.Xb(22,"div",12),b.Sb(23,"img",13),b.Wb(),b.Wb(),b.Rc(24,Ha,4,2,"div",14),b.Wb(),b.Sb(25,"mat-divider"),b.Xb(26,"mat-card-actions"),b.Rc(27,Ya,5,0,"ng-container",15),b.Rc(28,$a,4,0,"a",16),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.rc("ngIf",e.isEsignScreen),b.Eb(13),b.rc("src","assets/images/svg/Mask Group 55.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isEsignScreen),b.Eb(3),b.rc("ngIf",e.isEsignScreen),b.Eb(1),b.rc("ngIf",!e.isEsignScreen))},directives:[h.e,h.b,i.n,p.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,A.a,g.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:15px}"]}),t})();function Ka(t,e){if(1&t&&(b.Xb(0,"mat-option",31),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Ja(t,e){if(1&t&&(b.Xb(0,"mat-option",31),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Za(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," \xa0\xa0 Please select the User Recommendation "),b.Wb())}function tn(t,e){1&t&&(b.Xb(0,"mat-error",32),b.Tc(1," Please enter valid Recommended Card Limit "),b.Wb())}function en(t,e){1&t&&(b.Xb(0,"mat-error",32),b.Tc(1," The recommendation card limit should not be greater than approved card limit "),b.Wb())}let rn=(()=>{class t{constructor(t,e,r,i,a,n,c,o,s){this.router=t,this.snack=e,this.cdr=r,this.apiService=i,this._location=a,this.ls=n,this.fb=c,this.accountService=o,this.currencyPipe=s,this.isAssessmentReport=!1,this.arrayUserRecommendation=["Recommended For Approval","Pending For Documents","Recommended for Review"],this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"],this.curr="",this.isCardAssessmentStageDone=!1,this.currencySymbol=!0,this.currencySymbols=[{currency:"USD",symbol:"$"},{currency:"EUR",symbol:"\u20ac"},{currency:"JPY",symbol:"\xa5"},{currency:"GBP",symbol:"\xa3"},{currency:"ILS",symbol:"\u20aa"},{currency:"KRW",symbol:"\u20a9"},{currency:"NGN",symbol:"\u20a6"},{currency:"PHP",symbol:"\u20b1"},{currency:"PLN",symbol:"z\u0142"},{currency:"THB",symbol:"\u0e3f"},{currency:"UAH",symbol:"\u20b4"},{currency:"VND",symbol:"\u20ab"},{currency:"CNY",symbol:"\xa5"},{currency:"ZAR",symbol:"R"},{currency:"INR",symbol:"\u20b9"}]}ngOnInit(){this.curr=localStorage.getItem("Currency Type"),this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.buildAssessmentForm({}),0==this.isAssessmentReport?this.buildAssessmentForm():this.getCardAssessmentDetails()}buildAssessmentForm(t,e){if(this.assessmentForm=this.fb.group({cardId:[this.cardId],assessmentId:[t.assessmentId="1"],requestedCardLimit:[t.requestedCardLimit="15000"],systemRecommendation:[t?t.systemRecommendation:"",[s.z.required]],approvedCardLimit:[t.approvedCardLimit="10000"],userRecommendation:[t?t.userRecommendation:"",[s.z.required]],recommendedCardLimit:[t?t.recommendedCardLimit:"",s.z.compose([s.z.required,s.z.max(1e4)])],remark:[t?t.remark:""]}),console.log("curr",this.curr),t){for(let t=0;t<this.currencySymbols.length;t++)this.currencyArr=this.currencySymbols.filter(t=>this.curr===t.currency),console.log("this.currencyArr",this.currencyArr);this.currencySymboll=this.currencyArr[0].symbol,this.approvedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.approvedCardLimit,this.requestedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.requestedCardLimit,this.recommendedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.reccommendedCardLimit,this.assessmentForm.controls.approvedCardLimit.setValue(this.approvedCardLimit),this.assessmentForm.controls.requestedCardLimit.setValue(this.requestedCardLimit)}}transformAmount(t){"INR"===this.curr?(console.log(this.currencySymbol),this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"\u20b9"),console.log(this.currencySymbol),t.target.value=this.currencySymboll):(this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"$"),t.target.value=this.currencySymboll),console.log(t.target.value)}keyUpEvent(t){console.log("event",t.target.value);let e=t.target.value.toString().replace(/,/g,"").split(".").join(".");console.log("final",e),console.log("finalLength",e.length),this.assessmentForm.controls.recommendedCardLimit.setValue(e)}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}getCardAssessmentDetails(){this.apiService.fetchcardAssessmentDetailsById(this.cardId).subscribe(t=>{console.log(t),this.buildAssessmentForm(t,!0)})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}goNext(t){console.log("val",t.approvedCardLimit),console.log("val.approvedCardLimit",t.approvedCardLimit.length),console.log("val",t.recommendedCardLimit),console.log("val.recommendedCardLimit",t.recommendedCardLimit.length),t.approvedCardLimit=t.approvedCardLimit.slice(2,t.approvedCardLimit.length-1),t.requestedCardLimit=t.requestedCardLimit.slice(2,t.requestedCardLimit.length-1),this.apiService.cardAssessmentDetails(t).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Assessment details saved successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck())}),this.next()}removeComma(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}next(){this.ls.setItem("CARD_ASSESSMENT_DONE",!0),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}goBack(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(d.a),b.Rb(b.h),b.Rb(l.b),b.Rb(i.j),b.Rb(o.a),b.Rb(s.f),b.Rb(D.a),b.Rb(i.d))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-cardaccount-application-assessment"]],decls:65,vars:8,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_13.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup"],["fxLayout","column"],["fxFlex","70%","fxLayoutGap","10px",1,"field"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width",2,"margin-left","-5px"],[1,"hint"],["matInput","","formControlName","requestedCardLimit","type","text","placeholder","Requested Card Limit","readonly","",1,"alignment",3,"keypress"],["fxFlex","48%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],["formControlName","systemRecommendation","placeholder","Select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Select"],[4,"ngIf"],["fxFlex","4"],["fxFlex","96","matInput","","formControlName","recommendedCardLimit","type","text","required","",3,"keypress","blur"],["class","colorRed",4,"ngIf"],["matInput","","formControlName","approvedCardLimit","type","text","placeholder","Approved Card Limit","readonly","","required","",1,"alignment",3,"keypress"],["matInput","","placeholder","Remarks","formControlName","remark","type","text",1,"alignment"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"value"],[1,"colorRed"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Assessment Report"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",2),b.Xb(10,"mat-card",7),b.Xb(11,"mat-card-title"),b.Xb(12,"fieldset"),b.Xb(13,"legend",8),b.Tc(14,"Assessment Details"),b.Wb(),b.Wb(),b.Wb(),b.Xb(15,"div"),b.Xb(16,"form",9),b.Xb(17,"div",10),b.Xb(18,"div",11),b.Xb(19,"div",12),b.Xb(20,"mat-form-field",13),b.Xb(21,"mat-label",14),b.Tc(22,"Requested Card Limit *"),b.Wb(),b.Xb(23,"input",15),b.fc("keypress",function(t){return e._keyPress1(t)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(24,"div",16),b.Xb(25,"mat-form-field",17),b.Xb(26,"mat-label",14),b.Tc(27,"System Recommendation *"),b.Wb(),b.Xb(28,"mat-select",18),b.Xb(29,"mat-option",19),b.Tc(30,"Select"),b.Wb(),b.Rc(31,Ka,2,2,"mat-option",20),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(32,"div",11),b.Xb(33,"div",12),b.Xb(34,"mat-form-field",13),b.Xb(35,"mat-label",14),b.Tc(36,"User Recommendation *"),b.Wb(),b.Xb(37,"mat-select",21),b.Rc(38,Ja,2,2,"mat-option",20),b.Wb(),b.Rc(39,Za,2,0,"mat-error",22),b.Wb(),b.Wb(),b.Xb(40,"div",16),b.Xb(41,"mat-form-field",17),b.Xb(42,"mat-label",14),b.Tc(43,"Recommended Card Limit"),b.Wb(),b.Xb(44,"span",23),b.Tc(45),b.Wb(),b.Xb(46,"input",24),b.fc("keypress",function(t){return e._keyPress1(t)})("blur",function(t){return e.transformAmount(t)}),b.Wb(),b.Rc(47,tn,2,0,"mat-error",25),b.Rc(48,en,2,0,"mat-error",25),b.Wb(),b.Wb(),b.Wb(),b.Xb(49,"div",11),b.Xb(50,"div",12),b.Xb(51,"mat-form-field",13),b.Xb(52,"mat-label",14),b.Tc(53,"Approved Card Limit"),b.Wb(),b.Xb(54,"input",26),b.fc("keypress",function(t){return e._keyPress1(t)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(55,"div",16),b.Xb(56,"mat-form-field",17),b.Xb(57,"mat-label",14),b.Tc(58,"Remarks"),b.Wb(),b.Sb(59,"input",27),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(60,"div",28),b.Xb(61,"button",29),b.fc("click",function(){return e.goBack()}),b.Tc(62," Back "),b.Wb(),b.Xb(63,"button",30),b.fc("click",function(){return e.goNext(e.assessmentForm.value)}),b.Tc(64," Next "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(16),b.rc("formGroup",e.assessmentForm),b.Eb(15),b.rc("ngForOf",e.arraySystemRecommendation),b.Eb(7),b.rc("ngForOf",e.arrayUserRecommendation),b.Eb(1),b.rc("ngIf",!e.assessmentForm.get("userRecommendation").valid&&e.assessmentForm.get("userRecommendation").touched),b.Eb(6),b.Uc(e.currencySymboll),b.Eb(2),b.rc("ngIf",e.assessmentForm.get("recommendedCardLimit").touched&&0==e.assessmentForm.get("recommendedCardLimit").value),b.Eb(1),b.rc("ngIf",e.assessmentForm.get("recommendedCardLimit").value>1e4),b.Eb(15),b.rc("disabled",!e.assessmentForm.valid))},directives:[h.e,h.b,p.a,p.h,s.A,s.s,s.j,h.f,y.c,y.g,f.b,s.c,s.r,s.i,Bt.a,jt.n,i.m,i.n,s.y,h.d,g.b,y.b],styles:[".Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;color:#fff!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;border-radius:55px!important}.field[_ngcontent-%COMP%]{margin-left:15px}.alignment[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-size:14px}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.type[_ngcontent-%COMP%]{text-transform:capitalize}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),t})();var an=r("XNiG"),nn=r("IheW"),cn=r("yb/K"),on=r("6slg"),sn=r("ZbbW"),ln=r("uOmj"),bn=r("35u7");function dn(t,e){if(1&t&&(b.Xb(0,"mat-card"),b.Xb(1,"label"),b.Xb(2,"span",15),b.Tc(3),b.Wb(),b.Tc(4),b.Wb(),b.Xb(5,"div"),b.Sb(6,"app-genric-document-upload",16),b.Wb(),b.Wb()),2&t){const t=e.$implicit,r=e.index,i=b.jc();b.Eb(3),b.Wc("Customer Name(",r+1,"/",i.docholder.length,") :"),b.Eb(1),b.Xc("\xa0\xa0 ",t.firstName,"\xa0",null==t?null:t.middleName,"\xa0",t.lastName,""),b.Eb(2),b.rc("screenInfo",i.screenInfo[r])}}let un=(()=>{class t{constructor(t,e,r,i,a,n,c,o,s,l,b,d,u,m,p){this.http=t,this.tokenService=e,this.dialog=r,this.router=i,this.fb=a,this.snack=n,this.ls=c,this.shareDataService=o,this.cdr=s,this.api=l,this.dialogService=b,this.loader=d,this.accountService=u,this.appApiService=m,this.doOcrService=p,this.webcamImage=null,this.webcamImage1=null,this.scan1Array=[],this.scan2Array=[],this.scan3Array=[],this.customerId=null,this.frontImageArray=[],this.backImageArray=[],this.otherImageArray=[],this.otherDocumentArray=[],this.boxArray=[],this.document_type=["6","7","8"],this.custDocExist=!1,this.selectedOptions2=[],this.documentSide=null,this.frontImage=null,this.backImage=null,this.otherImage=null,this.secondBoxArray=[],this.thirdBoxArray=[],this.ocrResult="Recognizing...",this.selectedDocumentTypes2=[],this.nameOnCard=[],this.dobArray=[],this.idNumberArray=[],this.docarr=[],this.addressArray=[],this.dataFetched=!1,this.boxArray2=[],this.boxArray3=[],this.doc_name=[],this.docholder=[],this.docuNameArray=[],this.arrayOfImageArrays0=[],this.arrayOfImageArrays1=[],this.arrayOfImageArrays2=[],this.docValArray=[],this.docarray1=[],this.newOtherPage=!1,this.disableNextAtIndex1=!0,this.otherDocPages=[],this.otherDocumentArray2=[],this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.screenInfo=[],this.ff=!1,this.bf=!1,this.docName="document_name",this.progressValFrontArray=[],this.progressValBackArray=[],this.progressValOthersArray=[],this.progressValOtherDocumentArray=[],this.customerDocs=[],this.trigger=new an.a,this.aadharParser=t=>{try{let e,r,i=2;const a=t.replace(/[^\x00-\x7F]/g,"").trim().split("\n");for(let t=a.length-1;t>=0;t--){let r=0,i=-1;for(let e=0;e<a[t].length;e++)a[t][e]>="0"&&a[t][e]<="9"&&(r++,-1===i&&(i=e));r>=12&&(e=a[t].substr(i,i+14))}for(let t=0;t<a.length;t++)["DOB","Year of Birth"].some(e=>{const n=a[t].indexOf(e);-1!==n&&(r=a[t].trim().slice(n,a[t].length).split(" ").pop(),i=t-1,console.log(r))});const n=a[i].split(" ").filter(t=>t.length>1).join(" ");return console.log(n),{dob:r,adharNumber:e,fullName:n}}catch(e){console.log(e),console.error("Unable to parse aadhar")}},this.isDocumentOptionDisabled2=t=>this.selectedOptions2.includes(t),this.panCardParser=t=>{try{const e=t.replace(/[^\x00-\x7F]/g,""),r=e.indexOf("Permanent"),i=e.indexOf("Name"),a=e.slice(r,i).match("[A-Z]{5}[0-9]{4}[A-Z]{1}")[0],n=e.indexOf("Father's Name :"),c=e.slice(i,n).split("\n")[1].split(" "),o=e.slice(e.indexOf("Date of Birth"),e.length).split("\n")[1].split(" ")[0];return{panNumber:a,name:`${c[0]} ${c[1]}`,dateOfBirth:o}}catch(e){console.log(e),console.error("Unable to parse pan card"),this.snack.open("Please Upload Valid Document","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},this.passportParser=t=>{var e;try{let r,i;const a=t.replace(/[^\x00-\x7F]/g,""),n=a.indexOf("Given Name"),c=a.slice(n,a.length).split("\n"),o=c.findIndex(t=>t.indexOf("Date of Issue")>-1)+1;if(o>0){const t=c[o].split(" ");r=t[t.length-2],i=t[t.length-2]}const s=a.indexOf("Nationality"),l=null===(e=a.slice(s,a.length))||void 0===e?void 0:e.split("\n")[1].split(" ").pop();let b;const d=a.trim().split("\n");for(let t=d.length-1;t>=0;t--)if(d[t].includes("<")){b=d[t].substr(0,d[t].indexOf("<"));break}return{dob:l,name:c[1],issueNoString:b,dateOfIssue:r,dateOfExpiry:i}}catch(r){console.error("Unable to parse passport")}}}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{for(let e=0;e<=t.data.length;e++)this.screen={screenName:"Cad Document Upload",name:t.data[e].firstName,data:"",customerId:t.data[e].customerId,cifNumber:t.data[e].cifNumber},this.screenInfo.push(this.screen)}),console.log(this.screenInfo),this.customerId=sessionStorage.getItem("customer_id"),this.customer_Id=sessionStorage.getItem("customer_id"),this.addCustomer(),this.getCustomerInformationDetails(),this.documentForm=this.fb.group({documentName:["",[s.z.required]],frontSide:["",[s.z.required]],backSide:[""],others:[""],items:this.fb.array([this.inititemrows("")])}),this.doc_name=["Aadhar card","Pan card","Passport"],this.docValArray=["frontSide","backSide","others"],this.tokenService.getDropDownValues(this.docName).subscribe(t=>{this.document_name=t}),this.tokenService.getDropDownValues("document_type").subscribe(t=>{this.documentTypeArr=t}),this.api.getName().subscribe(t=>{this.assignName(t.name)}),this.api.getOCR().subscribe(t=>{}),this.shareDataService.getCustomerId.subscribe(t=>{this.api.getOCR().subscribe(t=>{console.log("ocr resp from backend ",t),this.assignOCRValues(t)}),console.log("cId=",t)}),this.doOcrService.getenableNext().subscribe(t=>{console.log("data disableNextAtIndex1 :: ",t),this.disableNextAtIndex1=t}),this.documentForm.valueChanges.subscribe(t=>{t.doc_list.length>0&&(console.log("data.doc_list.length",t.doc_list.length),this.selectedOptions2=[],t.doc_list.forEach((t,e)=>{this.selectedOptions2.push(t.documentType)}))}),this.api.getKycDataFetchedInfo().subscribe(t=>{this.documentForm=this.fb.group({documentsList:this.fb.array([this.createItem()]),doc_list:this.fb.array("DATA FETCH"===t?[]:[this.createDocItem()]),id:[""],upload:["",[s.z.required]]}),"DATA FETCH"===t?(this.dataFetched=!0,this.dataFetchedValue=t):this.dataFetched=!1}),this.disableNext=!0}addCustomer(){this.docarr.push(this.inititemrows(""))}addCust(){this.docarr.push(this.inititemrows(""))}inititemrows(t){return this.fb.group({id:t?t.id:[""],fileUrl:t?t.fileUrl:[""]})}addDocumentlist(t){this.newOtherPage=!1,this.disableNext=!0;for(let e=0;e<=t.data.length-1;e++)this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}addDocuments(){this.newOtherPage=!1,this.disableNext=!0,this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}createDocItem(){return this.fb.group({documentName:["",[s.z.required]],frontSide:["",[s.z.required]],backSide:[""],others:[""],fileUrl:[""]})}createItem(){return this.fb.group({id:[""],documentName:["",s.z.required],documentType:[""]})}assignOCRValues(t){console.log(t),this.dob=t.dob,this.namePancard=t.namePancard,this.panNumber=t.panNumber,this.frontImageArray[0]=t.imageOCR,this.backImageArray[0]=t.imageOCRBack,t.imageOCRBack&&(this.backImageArray[0]=t.imageOCRBack,this.secondBoxArray[0]=!0,this.address=t.address,this.addressDisplay=!0,this.progressValBackArray[0]=100);const e=Object.values(t).some(t=>Boolean(t));console.log("hasNonEmptyFields",e),e&&(this.documentForm.get("documentName").patchValue("Aadhar card"),console.log(this.documentForm.get("documentName")),this.progressValFrontArray[0]=100,this.disableNext=!0,this.pancard=!0)}delete(t,e,r){this.docum_name=t.documentName,this.customerId=sessionStorage.getItem("customer_id"),2==e&&(this.secondBoxArray[r]=!1,this.addressDisplay=!1,this.progressValBackArray[r]=0,this.backImageArray[r]=null,this.backSelected=null,this.document_side=e,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(t=>{})),3==e&&(this.thirdBoxArray[r]=!1,this.progressValOthersArray[r]=0,this.otherImageArray[r]=null,this.othersSelected=null,this.document_side=e,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(t=>{})),this.disableNext=!1}getCustomerInformationDetails(){this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{console.log(t.data),console.log(t.data.customerId),this.docholder=t.data;for(let e=0;e<=t.data.length-1;e++)this.getCustomerDocuments(t.data[e].customerId);console.log(this.docholder),this.addDocumentlist(t)},t=>{})}deleteOtherDocument(t,e,r){this.docum_name=t.documentName,this.customerId=sessionStorage.getItem("customer_id"),this.newDocumentSide=r+4,this.docarray1[e][r]&&(this.docarray1[e].pop(),this.otherDocumentArray[e][r]=null),this.api.deleteCustDoc(this.customerId,this.docum_name,this.newDocumentSide).subscribe(t=>{})}assignName(t){this.name=t.toLowerCase()}addotherpage(t){if(this.docarray1[t])this.docarray1[t].push(this.inititemrows(""));else{var e=[this.inititemrows("")];this.docarray1[t]=e,this.otherDocumentArray[t]=[],this.progressValOtherDocumentArray[t]=[]}}createOtherForm(t){return this.fb.group({id:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""]})}goNext(){this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!0),this.ls.setItem("CARD_DOCUMENT_DONE",!0),this.ls.setItem("CARD_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/list"])}goBack(){this.router.navigate(["/cardaccount/documentupload/list"])}triggerSnapshot(t){this.trigger.next(),this.scan1Array[t]=!1,this.scan2Array[t]=!1,this.scan3Array[t]=!1}callingBox2(t){this.secondBoxArray[t]=!0,this.disableNext=!0,console.log(this.secondBoxArray[t])}callingBox3(t){this.thirdBoxArray[t]=!0,this.disableNext=!0,this.newOtherPage=!0}doOCR(t,e,r,i,a){const n=Object(cn.createWorker)({logger:t=>console.log(t)});(()=>{var c,o,s;c=this,s=function*(){this.loader.open(),yield n.load(),yield n.loadLanguage("eng"),yield n.initialize("eng");const{data:{text:c}}=yield n.recognize(t);if(this.loader.close(),3!==i)if(i>3)this.uploadDoc(t,r,e,i,a);else{if("Pan card"===this.documentForm.value.documentsList[a].documentName){const t=this.panCardParser(c);this.nameDoc=t.name.toLowerCase()}if("Passport"==this.documentForm.value.documentsList[a].documentName){const t=this.passportParser(c);if(this.nameDoc=t.name.toLowerCase(),!this.nameDoc)return void this.shotToast("The document is not a valid Passport")}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName&&"1"==i){const t=this.aadharParser(c);if(this.nameDoc=t.fullName.toLowerCase(),!1===/^([a-z]){2,30}$/.test(this.nameDoc.replace(/\s/g,"")))return void this.shotToast("The document is not a valid Aadhar card")}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName&&"2"==i){this.aadharParser(c);let n=c.split(",");for(let t=0;t<n.length;t++)n[t]=n[t].replace(/[^a-zA-Z ]/g,""),console.log("array after removing special characters ",n[t]);if(void 0===n[2]&&(n[2]=""),void 0===n[5]&&(n[5]=""),void 0===n[6]&&(n[6]=""),void 0===n[7]&&(n[7]=""),void 0===n[2]&&void 0===n[5]&&void 0===n[6]&&void 0===n[7])return void(this.addressDisplay=!1);if(""===n[2]&&""===n[5]&&""===n[6]&&""===n[7])return void(this.addressDisplay=!1);this.addressArray[a]=n[3]+","+n[5]+","+n[7],this.addressDisplay=!0,this.uploadDoc(t,r,e,i,a)}if(console.log(c.includes(this.name)),this.ocrFlag=c.includes(this.name),"1"==i&&this.nameDoc.replace(/\s/g,"")!==this.name.replace(/\s/g,""))this.dialogService.confirmationDialog(this.nameDoc,this.name).subscribe(n=>{if(console.log(n),"No"==n&&this.changeValue2_Ocr(e,a),"Yes"==n){if("Pan card"==this.documentForm.value.documentsList[a].documentName){const n=this.panCardParser(c);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dateOfBirth,this.idNumberArray[a]=n.panNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Passport"==this.documentForm.value.documentsList[a].documentName){const n=this.passportParser(c);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.issueNoString,this.dateOfIssue=n.dateOfIssue,this.dateOfExpiry=n.dateOfExpiry,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName){const n=this.aadharParser(c);this.nameOnCard[a]=n.fullName.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.adharNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}else this.uploadDoc(t,r,e,i,a)}});else if("1"==i&&this.nameDoc.replace(/\s/g,"")==this.name.replace(/\s/g,"")){if("Pan card"==this.documentForm.value.documentsList[a].documentName){const n=this.panCardParser(c);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dateOfBirth,this.idNumberArray[a]=n.panNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Passport"==this.documentForm.value.documentsList[a].documentName){const n=this.passportParser(c);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.issueNoString,this.dateOfIssue=n.dateOfIssue,this.dateOfExpiry=n.dateOfExpiry,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName){const n=this.aadharParser(c);this.nameOnCard[a]=n.fullName.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.adharNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}else this.uploadDoc(t,r,e,i,a)}yield n.terminate()}else this.uploadDoc(t,r,e,i,a)},new((o=void 0)||(o=Promise))(function(t,e){function r(t){try{a(s.next(t))}catch(r){e(r)}}function i(t){try{a(s.throw(t))}catch(r){e(r)}}function a(e){var a;e.done?t(e.value):(a=e.value,a instanceof o?a:new o(function(t){t(a)})).then(r,i)}a((s=s.apply(c,[])).next())})})()}handleImage(t,e){this.webcamImage=t,this.fun(this.webcamImage,e)}handleImage1(t,e){this.webcamImage1=t,this.fun1(this.webcamImage1,e)}changeValue2(t,e){this.disableNext=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(t=>t!==this.selectedDocumentTypes2[e])),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.secondBoxArray[e]=!1,this.thirdBoxArray[e]=!1,this.frontImageArray[e]="",this.backImageArray[e]="",this.otherImageArray[e]="",this.backSelected="",this.frontSelected="",this.othersSelected="",this.progressValFrontArray[e]=0,this.progressValBackArray[e]=0,this.pancard=!1,console.log("i=",e)}changeValue2_Ocr(t,e){"frontSide"===t&&(this.frontImageArray[e]="",this.frontSelected="",this.progressValFrontArray[e]=0),"backSide"===t&&(this.secondBoxArray[e]=!1,this.backImageArray[e]="",this.backSelected="",this.progressValBackArray[e]=0),"others"===t&&(this.thirdBoxArray[e]=!1,this.otherImageArray[e]="",this.othersSelected="",this.progressValOthersArray[e]=0,this.disableNext=!0)}j(t,e){throw new Error("Method not implemented.")}handleImage2(t,e){console.log(e),this.webcamImage2=t,this.function2(this.webcamImage2,e)}function2(t,e){console.log(e);const r=new FormData,i={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:t._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:3,idNumber:this.panNumber};console.log(t.imageAsDataUrl),this.otherImageArray[e]=t.imageAsDataUrl,this.displayVal2=!1;let a=this.dataURLtoFile(t.imageAsDataUrl,"Aadhar");r.append("data",JSON.stringify(i)),r.append("file",a),this.tokenService.upload(r).subscribe(t=>{this.progressValOthersArray[e]=100,4===t.type&&t.body&&(console.log("res.body.id",t.body.id),this.assignIdValues("others",t.body.id)),this.documentForm.get("backSide").patchValue(!0)},t=>{201==t.status&&(this.ff=!0,this.documentForm.get("backSide").patchValue(!0),this.shotToast("Document Uploaded!"))})}get triggerObservable(){return this.trigger.asObservable()}tabClick(t){const e=t.tab.textLabel;"Documents Upload"===e&&this.router.navigateByUrl("/others/documents"),"verification"===e&&this.router.navigateByUrl("/others/verification"),"Basic Information"===e&&this.router.navigateByUrl("/others/kyc")}onNext(t){this.documentForm.reset(),this.tokenService.setIndex({index:2}),this.tokenService.setFinishFlag({finishFlag:!0}),this.updateKycStatus(),localStorage.setItem("page_id","2")}getCustomerDocuments(t){for(const e in this.document_type)if(Object.prototype.hasOwnProperty.call(this.document_type,e)){const r=this.document_type[e];console.log(r,e,t),this.tokenService.getCustomerDocuments(t,r).subscribe(t=>{var r;console.log(e,t,this.documentForm),this.customerDocs=t,this.docuNameArray=["Aadhar card","Pan card","Passport"],console.log(this.documentForm.controls.documentsList.controls),this.documentForm.controls.documentsList.controls[0].controls.documentName.setValue(this.docuNameArray[0]),this.doc_name=["Aadhar card","Pan card","Passport"];for(let e=0;e<(null===(r=this.customerDocs)||void 0===r?void 0:r.length);e++){if(this.customerDocs[e]){console.log(this.customerDocs[e].documentName);for(let t=0;t<3;t++)this.customerDocs[e].documentName==this.doc_name[t]&&1==this.customerDocs[e].documentSide&&(this.frontImageArray[t]=this.customerDocs[e].fileUrl,this.progressValFrontArray[t]=100,console.log("index",t));for(let t=0;t<3;t++)this.customerDocs[e].documentName==this.doc_name[t]&&2==this.customerDocs[e].documentSide&&(this.backImageArray[t]=this.customerDocs[e].fileUrl,this.progressValBackArray[t]=100,this.secondBoxArray[t]=!0);for(let t=0;t<3;t++)this.customerDocs[e].documentName==this.doc_name[t]&&3==this.customerDocs[e].documentSide&&(this.otherImageArray[t]=this.customerDocs[e].fileUrl,this.progressValOthersArray[t]=100,this.thirdBoxArray[t]=!0);for(let t=0;t<3;t++)if(this.customerDocs[e].documentName==this.doc_name[t]&&this.customerDocs[e].documentSide>3){if(this.fetchChildIndex=this.customerDocs[e].documentSide-4,this.newOtherPage=!0,this.docarray1[t])this.docarray1[t].push(this.inititemrows(""));else{var i=[this.inititemrows("")];this.docarray1[t]=i,this.otherDocumentArray[t]=[]}this.otherDocumentArray[t][this.fetchChildIndex]=this.customerDocs[e].fileUrl,console.log("this.otherDocumentArray",this.otherDocumentArray)}}this.disableNext=!1}if(this.customerDocs.length>0){if(this.page_id=this.ls.getItem("page_id"),console.log(this.page_id),"Pan card"==this.customerDocs[0].documentName&&2!==this.page_id){let t=document.getElementById("auto_trigger");t&&(console.log(t),t.click()),this.disableNext=!1}if(this.documentForm.controls.documentsList.controls[1].controls.documentName.setValue(this.docuNameArray[1]),"Passport"==this.customerDocs[0].documentName&&2!==this.page_id){let t=document.getElementById("auto_trigger");t&&(console.log(t),t.click()),this.disableNext=!1}this.documentForm.controls.documentsList.controls[2].controls.documentName.setValue(this.docuNameArray[2]),"Pan card"==this.frontImage.documentName&&(this.panNumber=this.customerDocs.find(t=>2==t.documentSide).idNumber),"Aadhar card"==this.frontImage.documentName&&(this.panNumber=this.customerDocs.find(t=>1==t.documentSide).idNumber),this.panNumber&&(this.pancard=!0),null!=this.frontImage&&(this.progressValFrontArray[0]=100),null!=this.backImage&&(this.progressValBackArray[0]=100),null!=this.otherImage&&(this.progressValOthersArray[0]=100),this.documentForm.patchValue({documentName:this.customerDocs[0].documentName,frontSide:this.customerDocs[0].documentName,backSide:this.customerDocs[0].documentName}),console.log(this.customerDocs[0].documentName)}this.cdr.markForCheck(),console.log("end of api")})}this.custId=t}convertBlob(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+t)}updateKycStatus(){this.tokenService.updateKycStatusByCustId(this.customer_Id,"UNDER_PROCESS","").subscribe(t=>{console.log("update response :: ",t)})}previous(){this.tokenService.setIndex({index:0})}openDialog(){this.dialog.open(ln.a,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}scan(t){this.scan1Array[t]=!0,this.scan2Array[t]=!1,this.scan3Array[t]=!1,this.disableNext=!1}scan12(t){this.scan1Array[t]=!1,this.scan2Array[t]=!0,this.scan3Array[t]=!1,this.disableNext=!1}scan13(t){this.scan1Array[t]=!1,this.scan2Array[t]=!1,this.scan3Array[t]=!0,this.disableNext=!1}fun(t,e){const r=new FormData,i={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:t._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:1,idNumber:this.panNumber};this.frontImageArray[e]=t.imageAsDataUrl,this.displayVal=!1;let a=this.dataURLtoFile(t.imageAsDataUrl,"Aadhar");r.append("data",JSON.stringify(i)),r.append("file",a),this.tokenService.upload(r).subscribe(t=>{this.progressValFrontArray[e]=100,this.documentForm.get("frontSide").patchValue(!0)},t=>{201==t.status&&(this.bf=!0,this.documentForm.get("frontSide").patchValue(!0),this.shotToast("Document Uploaded!"))})}fun1(t,e){console.log("inside fun1");const r=new FormData,i={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:t._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:2,idNumber:this.panNumber};this.backImageArray[e]=t.imageAsDataUrl,this.displayVal1=!1;let a=this.dataURLtoFile(t.imageAsDataUrl,"Aadhar");r.append("data",JSON.stringify(i)),r.append("file",a),this.tokenService.upload(r).subscribe(t=>{this.progressValBackArray[e]=100,4===t.type&&t.body&&(console.log("res.body.id",t.body.id),this.assignIdValues("backSide",t.body.id)),this.documentForm.get("backSide").patchValue(!0)},t=>{201==t.status&&(this.ff=!0,this.documentForm.get("backSide").patchValue(!0),this.shotToast("Document Uploaded!"))})}dataURLtoFile(t,e){for(var r=t.split(","),i=r[0].match(/:(.*?);/)[1],a=atob(r[1]),n=a.length,c=new Uint8Array(n);n--;)c[n]=a.charCodeAt(n);return new File([c],e,{type:i})}assign(t){this.customerId=t}onUpload(t,e,r,i,a){if(console.log(a),this.newDocumentSide=r,this.childindex=r-4,console.log(t,e,r),"frontSide"===e&&(this.progressValFrontArray[i]=0),"backSide"===e&&(this.progressValBackArray[i]=0),"others"===e&&(this.progressValOthersArray[i]=0),this.selectedFiles=t.target.files[0],this.shotToast("Your file size is "+this.formatBytes(t.target.files[0].size,2)),t.target.files){var n=new FileReader;n.readAsDataURL(t.target.files[0]),n.onload=t=>{this.image=t.target.result,"backSide"===e&&(this.backSelected=this.selectedFiles.name,this.doOCR(this.image,e,this.selectedFiles,r,i),this.displayVal1=!0),"frontSide"===e&&(this.frontSelected=this.selectedFiles.name,this.doOCR(this.image,e,this.selectedFiles,r,i),this.displayVal=!0),"others"===e&&(this.othersSelected=this.selectedFiles.name,this.doOCR(this.image,e,this.selectedFiles,r,i),this.displayVal2=!0),"otherDocument"===e&&(this.otherDocumentSelected=this.selectedFiles.name,this.otherDocumentArray[i][this.childindex]=this.image,console.log("final document",this.docarray1),this.doOCR(this.otherDocumentArray[i][this.childindex],e,this.selectedFiles,r,i))}}this.disableNext=!1}formatBytes(t,e){if(0===t)return"0 Bytes";const r=e<0?0:e,i=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,i)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}uploadDoc(t,e,r,i,a){this.childindex=i-4,console.log("URL ---- ",e);const n=new FormData;"Aadhar card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="6"),"Pan card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="7"),"Passport"===this.documentForm.value.documentsList[a].documentName&&(this.docType="8");const c={customerId:this.docholder[a].customerId,documentName:this.documentForm.value.documentsList[a].documentName,documentType:this.docType,fileType:e.type,fileName:e.name,verificationType:"KYC verification",documentSide:i,idNumber:this.panNumber,name:this.namePancard,dob:this.dob};n.append("data",JSON.stringify(c)),n.append("file",e),console.log("URL -- ",e.name,c,n),this.uploadSub=this.tokenService.upload(n).subscribe(e=>{console.log("Response -- ",e),"backSide"===r?e.type&&e.type==nn.e.UploadProgress&&(this.progressValBackArray[a]=Math.round(e.loaded/e.total*100),this.backImageArray[a]=t):"frontSide"===r?e.type&&e.type==nn.e.UploadProgress&&(this.progressValFrontArray[a]=Math.round(e.loaded/e.total*100),this.frontImageArray[a]=t):"others"===r&&e.type&&e.type==nn.e.UploadProgress&&(this.progressValOthersArray[a]=Math.round(e.loaded/e.total*100),console.log("uploadProgress others",this.progressValOthersArray[a]),this.otherImageArray[a]=t),e.body&&(console.log("res.body.id",e.body.id),this.assignIdValues(r,e.body.id),this.documentForm.get(r).patchValue(!0),this.shotToast("Document Uploaded!"))},t=>{201==t.status?(this.documentForm.get(r).patchValue(!0),this.shotToast("Document Uploaded!")):"backSide"===r?(this.progressValBackArray[a]=0,this.backImageArray[a]=null,this.backSelected=null,this.shotToast(t.message)):(this.progressValFrontArray[a]=0,this.frontImageArray[a]=null,this.frontSelected=null,this.shotToast(t.message))})}assignIdValues(t,e){console.log(t),"backSide"===t&&(this.backSideId=e),"others"===t&&(this.otherSideId=e),"otherDocument"===t&&(this.otherDocumentSideId=e)}ngOnDestroy(){this.shareDataService.shareCustomerId(null)}cancelUpload(t){this.uploadSub.unsubscribe(),this.shotToast("Document Uploaded Cancelled!"),"backSide"==t?(this.progressValBackArray[0]=0,this.backImageArray[0]=null,this.backSelected=null):(this.progressValFrontArray[0]=0,this.frontImageArray[0]=null,this.frontSelected=null)}shotToast(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}deleteDocument(t,e){console.log(this.customerId,t,e),this.customerId=this.ls.getItem("customerId");const r=this.documentForm.get("documentsList");console.log(r),r.removeAt(e),this.api.delCustDoc(this.customerId,t.documentName).subscribe(t=>{console.log("data after delete",t)})}next(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}uploadLink(){this.api.uploadDocLink(l.c,this.custId).subscribe(t=>{console.log("uploadDocLink",t),(""!=t||null==t||null!=t)&&(console.log("uploadDocLink",t),this.dialog.open(on.a,{width:"35%",backdropClass:"dialog-bg-trans",height:"50%",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed",t)}))})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(nn.c),b.Rb(l.b),b.Rb(u.b),b.Rb(m.h),b.Rb(s.f),b.Rb(d.a),b.Rb(o.a),b.Rb(Tt.a),b.Rb(b.h),b.Rb(l.b),b.Rb(rt.a),b.Rb(J.a),b.Rb(D.a),b.Rb(Mt.a),b.Rb(sn.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-document-details"]],viewQuery:function(t,e){if(1&t&&b.ad(A.a,!0),2&t){let t;b.Cc(t=b.gc())&&(e.progressBar=t.first)}},decls:20,vars:2,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 6.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],[4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[2,"font-size","20px"],[3,"screenInfo"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Document Upload"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",7),b.Xb(10,"h2",8),b.Tc(11,"Document Details"),b.Wb(),b.Sb(12,"div",9),b.Rc(13,dn,7,6,"mat-card",10),b.Wb(),b.Xb(14,"div",11),b.Xb(15,"button",12),b.fc("click",function(){return e.goBack()}),b.Tc(16,"BACK"),b.Wb(),b.Sb(17,"span",13),b.Xb(18,"button",14),b.fc("click",function(){return e.goNext()}),b.Tc(19,"Next"),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(13),b.rc("ngForOf",e.docholder),b.Eb(5),b.rc("disabled",e.disableNextAtIndex1))},directives:[h.e,h.b,i.m,g.b,p.a,bn.a],styles:[".breadcrumb[_ngcontent-%COMP%]{position:fixed;top:40px;width:100%;background-color:#fff}.link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#456efe;font-size:small;align-self:center}.head[_ngcontent-%COMP%]{background-color:#fff}.snapShot[_ngcontent-%COMP%]{margin-top:2%}.panCradDiv[_ngcontent-%COMP%]{height:30%;right:0;width:200px}.backIcon[_ngcontent-%COMP%]{color:red;float:right}.app-container[_ngcontent-%COMP%]{height:100%;width:100%}.basic-container[_ngcontent-%COMP%]{padding:5px}.main-head[_ngcontent-%COMP%]{padding-left:5%;padding-top:16px;padding-bottom:0}mat-tab-group[_ngcontent-%COMP%]{padding-left:2%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;height:60vh;border:1px solid #000;padding:10px 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){margin-top:5px}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){flex:1}.formField1[_ngcontent-%COMP%]{flex-grow:1;width:50px}.formField[_ngcontent-%COMP%], .formField2[_ngcontent-%COMP%]{flex-grow:1;width:100%}#row[_ngcontent-%COMP%]{font-size:9px;color:#2680eb}mat-hint[_ngcontent-%COMP%]{font-size:10px;margin-bottom:-12px;display:block}.inputMatcard[_ngcontent-%COMP%]{max-width:500px;padding:10px}.inputMatcard[_ngcontent-%COMP%], .inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:100%}.inputMatcard1[_ngcontent-%COMP%]{padding:18px}.inputMatcard2[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:20px}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.inputClass[_ngcontent-%COMP%]{border-style:hidden;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);font-weight:bolder}[_nghost-%COMP%]     .mat-form-field-outline-end, [_nghost-%COMP%]     .mat-form-field-outline-gap, [_nghost-%COMP%]     div.mat-form-field-outline-start{border-color:0!important;border-width:0!important}.form[_ngcontent-%COMP%]{gap:20px;justify-content:space-between}.form[_ngcontent-%COMP%], .form1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form1[_ngcontent-%COMP%]{gap:50px;height:400px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.matCard[_ngcontent-%COMP%]{max-width:1200px;align-items:center;justify-content:center;margin:10px auto 3%}.mat-form-field-flex[_ngcontent-%COMP%]{box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902)}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}mat-label[_ngcontent-%COMP%]{font-weight:700;font-size:12px;letter-spacing:0}.matSelect[_ngcontent-%COMP%]{margin-left:20%;width:80px;font-weight:lighter;font-size:10px;letter-spacing:0;color:#000;background-color:#f4f8f7}.dived[_ngcontent-%COMP%], .matSelect[_ngcontent-%COMP%]{padding-top:10px}.scanButton[_ngcontent-%COMP%]{width:80px;display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:50px;border-radius:5px}.matIcon[_ngcontent-%COMP%]{font-size:30px}.insertDriveImg[_ngcontent-%COMP%], .matIcon[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto}.insertDriveImg[_ngcontent-%COMP%]{padding-top:30px;width:120px;height:120px;text-align:center}.flex-grow-2[_ngcontent-%COMP%]{padding:40px 50px;border:2px dashed #d3d3d3;border-radius:10px}.flex-grow-2[_ngcontent-%COMP%], .flex-grow-Upload[_ngcontent-%COMP%]{margin-bottom:5%}.alignment[_ngcontent-%COMP%]{border-style:none!important}.line[_ngcontent-%COMP%]{border:thick;border-style:solid;border-block-width:unset;color:#00f;color:#6988f6;width:40px;border-radius:5px;margin:initial;margin-bottom:20px}.uploadField[_ngcontent-%COMP%]{font-size:large}input[_ngcontent-%COMP%]{width:80%;color:#374664;opacity:1%;font-weight:600}.mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus{background:red}.mat-tab-label-active[_ngcontent-%COMP%]{color:green}  .mat-tab-label-active{color:#6988f6!important}.verification[_ngcontent-%COMP%]{float:right;color:#2a59e7}  .mat-tab-group.mat-primary .mat-ink-bar{background-color:#6988f6!important;height:4px}mat-tab-label[_ngcontent-%COMP%]{font-size:8px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.line[_ngcontent-%COMP%]{flex:1}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}figure[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50px;font-size:25px;text-align:center;margin-right:10px;background:#fff;line-height:1.7em}figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;width:30px;height:auto}.close[_ngcontent-%COMP%]{border-style:none;background-color:#fff;position:relative;top:10px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -12%;width:150px;color:#a9a9a9;border-radius:45px}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.insertDrive[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto;font-size:25px}.progressDiv[_ngcontent-%COMP%]{flex-grow:1;align-self:flex-end}.progress[_ngcontent-%COMP%]{text-align:end;font-size:7px}.formSectionContainer[_ngcontent-%COMP%]{gap:40px;display:grid;grid-template-columns:200px auto}@media (max-width:768px){.formSectionContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}.formImg[_ngcontent-%COMP%]{background-color:green;max-height:100px}.dropDown[_ngcontent-%COMP%]{display:block}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-outer-circle[_ngcontent-%COMP%]{border-color:#4286f4!important}.mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-inner-circle[_ngcontent-%COMP%]{color:#4286f4;background-color:#4286f4}  .egret-navy .mat-progress-bar-buffer{background-color:#add8e6!important}  .egret-navy .mat-progress-bar-fill:after{background-color:#00f!important}#sides[_ngcontent-%COMP%]{width:100px}#box[_ngcontent-%COMP%]{display:flex}.Back[_ngcontent-%COMP%]{background-color:grey;color:#fff}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}button[disabled][_ngcontent-%COMP%]{color:#666}.docimg[_ngcontent-%COMP%]{height:100px;width:100%;-o-object-fit:cover;object-fit:cover}.errbd[_ngcontent-%COMP%]{border:1px solid red}.sub_div[_ngcontent-%COMP%]{position:absolute;bottom:0}p[_ngcontent-%COMP%]{margin-left:300px}.button_2[_ngcontent-%COMP%]{margin-left:600px;bottom:100px}.button_2[_ngcontent-%COMP%], .button_3[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content}.button_3[_ngcontent-%COMP%]{bottom:50px}.Backbtn[_ngcontent-%COMP%]{border:none}"]}),t})();const mn=function(){return{y:"50px",delay:"300ms"}},pn=function(t){return{value:"*",params:t}};function gn(t,e){1&t&&(b.Xb(0,"div",17),b.Xb(1,"mat-card"),b.Xb(2,"div",18),b.Xb(3,"div",19),b.Xb(4,"mat-icon",20),b.Tc(5,"check_circle"),b.Wb(),b.Wb(),b.Xb(6,"div",21),b.Xb(7,"h6"),b.Tc(8,"Application Entry Stage Completed"),b.Wb(),b.Wb(),b.Sb(9,"span",22),b.Xb(10,"button",23),b.Tc(11," View Summary "),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("@animate",b.xc(2,pn,b.wc(1,mn))))}function hn(t,e){1&t&&(b.Xb(0,"div",24),b.Sb(1,"mat-progress-bar",25),b.Xb(2,"p",26),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function fn(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",27),b.fc("click",function(){return b.Hc(t),b.jc().documentdetails()}),b.Tc(2," Add Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}function yn(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",27),b.fc("click",function(){return b.Hc(t),b.jc().documentdetails()}),b.Tc(2," view details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}let vn=(()=>{class t{constructor(t,e){this.router=t,this.ls=e,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1}ngOnInit(){this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isDocumentUpload&&(this.isDocumentUploadDone=!0)}documentdetails(){this.router.navigate(["/cardaccount/documentupload/list/document-details"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(o.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-document-upload"]],decls:29,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",2,"padding-left","17px"],[1,"colour"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Sb(3,"img",3),b.Wb(),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"b"),b.Tc(7,"Create New Card Account"),b.Wb(),b.Wb(),b.Xb(8,"div",6),b.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),b.Wb(),b.Wb(),b.Wb(),b.Rc(10,gn,12,4,"div",7),b.Wb(),b.Xb(11,"div",8),b.Xb(12,"div",9),b.Xb(13,"mat-card"),b.Xb(14,"mat-card-header"),b.Xb(15,"mat-card-title"),b.Tc(16,"1. Document Upload"),b.Wb(),b.Wb(),b.Xb(17,"mat-card-content"),b.Xb(18,"div",10),b.Xb(19,"div",11),b.Xb(20,"p",12),b.Tc(21," All the necessary documents required for the application can be uploaded. "),b.Wb(),b.Wb(),b.Xb(22,"div",13),b.Sb(23,"img",14),b.Wb(),b.Wb(),b.Rc(24,hn,4,2,"div",15),b.Wb(),b.Sb(25,"mat-divider"),b.Xb(26,"mat-card-actions"),b.Rc(27,fn,5,0,"ng-container",16),b.Rc(28,yn,5,0,"ng-container",16),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.rc("ngIf",e.isDocumentUploadDone),b.Eb(13),b.rc("src","assets/images/svg/Mask Group 6.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isDocumentUploadDone),b.Eb(3),b.rc("ngIf",!e.isDocumentUploadDone),b.Eb(1),b.rc("ngIf",e.isDocumentUploadDone))},directives:[h.e,h.b,i.n,p.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,A.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.colour[_ngcontent-%COMP%]{color:#cacaca}"]}),t})();function Cn(t,e){if(1&t&&(b.Xb(0,"mat-option",29),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function xn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Select Account Type "),b.Wb())}function Wn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter valid Product ID "),b.Wb())}function Xn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter Account Currency "),b.Wb())}function In(t,e){if(1&t&&(b.Xb(0,"mat-option",29),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Sn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Select user Recommendation "),b.Wb())}function On(t,e){if(1&t&&(b.Xb(0,"mat-option",29),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t.branchName),b.Eb(1),b.Vc(" ",t.branchName," ")}}function Dn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Select Account Branch "),b.Wb())}function Tn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter valid Product Name "),b.Wb())}function An(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter valid Existing Value "),b.Wb())}function En(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter Remarks "),b.Wb())}let kn=(()=>{class t{constructor(t,e,r,i,a,n){this.api=t,this.ls=e,this.fb=r,this.apiService=i,this.router=a,this.accountService=n,this.showEditOption=!1}ngOnInit(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),this.buildformGroup(),console.log(this.approvalForm),this.cardId=this.ls.getItem("cardId"),console.log("this.cardId",this.cardId),this.getCardInitiationDetails();let t=this.ls.getItem("CARD_APPROVAL_DONE");console.log("checc",t),null!=this.cardId&&t&&(this.showEditOption=!0,this.getApprovalDetails())}buildformGroup(t){this.approvalForm=this.fb.group({accountType:[t?t.accountType:"",s.z.required],productCode:[t?t.productCode:"",s.z.required],userRecommendation:[t?t.userRecommendation:"",s.z.required],accountBranch:[t?t.accountBranch:"",s.z.required],accountCurrency:[t?t.accountCurrency:"",s.z.required],productName:[t?t.productName:"",s.z.required],existingValues:[t?t.existingValues:"",s.z.required],remarks:[t?t.remarks:""]})}onSubmit(){console.log("data",this.approvalForm.value),this.apiService.upsertApprovalDetails({cardId:this.cardId,accountBranch:this.approvalForm.value.accountBranch,accountCurrency:this.approvalForm.value.accountCurrency,accountType:this.approvalForm.value.accountType,existingValues:this.approvalForm.value.existingValues,productCode:this.approvalForm.value.productCode,productName:this.approvalForm.value.productName,remarks:this.approvalForm.value.remarks,userRecommendation:this.approvalForm.value.userRecommendation}).subscribe(t=>{console.log("data",t)}),this.next()}next(){this.ls.setItem("CARD_APPROVAL_DONE",!0),this.ls.setItem("CARD_SUPERVISOR_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/DigitalSigning/list"])}goBack(){this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}getApprovalDetails(){this.apiService.getApprovalDetails(this.cardId).subscribe(t=>{this.buildformGroup(t),console.log("data",t)})}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}getAccountCurrency(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountCurrency=t})}getAccountType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getUserRecomendation(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayUserRecomendation=t})}getAccountBranchDetails(){this.api.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getCardInitiationDetails(){this.apiService.getCardInitiationDetails(this.cardId).subscribe(t=>{console.log("data",t),this.currency=t.currency,this.approvalForm.controls.accountCurrency.setValue(this.currency)})}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(l.b),b.Rb(o.a),b.Rb(s.f),b.Rb(l.b),b.Rb(m.h),b.Rb(D.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-approval-details"]],decls:76,vars:13,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_16.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"p-0"],["visible","true"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["name","accountType","placeholder","Account type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","name","productCode","placeholder","Product Code","formControlName","productCode"],["matInput","","name","account_currency","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxFlex","100","fxFlex.gt-xs","50"],["name","accountBranch","placeholder","Account Branch","formControlName","accountBranch"],["matInput","","name","productName","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","onlyNumber","","name","existingValues","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","name","remarks","placeholder","Remarks","formControlName","remarks"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Sb(3,"img",3),b.Wb(),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"b"),b.Tc(7,"Approval Details"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(8,"div",6),b.Xb(9,"mat-card",7),b.Xb(10,"mat-card-title"),b.Xb(11,"fieldset"),b.Xb(12,"legend",8),b.Tc(13,"Approval Details"),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"form",9),b.Xb(15,"mat-card-content"),b.Xb(16,"div",10),b.Xb(17,"div",11),b.Xb(18,"div",12),b.Xb(19,"mat-form-field",13),b.Xb(20,"mat-label"),b.Tc(21,"Account Type*"),b.Wb(),b.Xb(22,"mat-select",14),b.Rc(23,Cn,2,2,"mat-option",15),b.Wb(),b.Rc(24,xn,2,0,"mat-error",16),b.Wb(),b.Wb(),b.Xb(25,"div",12),b.Xb(26,"mat-form-field",13),b.Xb(27,"mat-label"),b.Tc(28,"Product Code*"),b.Wb(),b.Sb(29,"input",17),b.Wb(),b.Rc(30,Wn,2,0,"mat-error",16),b.Wb(),b.Xb(31,"div",12),b.Xb(32,"mat-form-field",13),b.Xb(33,"mat-label"),b.Tc(34,"Account Currency*"),b.Wb(),b.Xb(35,"input",18),b.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),b.Wb(),b.Rc(36,Xn,2,0,"mat-error",16),b.Wb(),b.Wb(),b.Xb(37,"div",12),b.Xb(38,"mat-form-field",13),b.Xb(39,"mat-label"),b.Tc(40,"User Recomendation*"),b.Wb(),b.Xb(41,"mat-select",19),b.Rc(42,In,2,2,"mat-option",15),b.Wb(),b.Rc(43,Sn,2,0,"mat-error",16),b.Wb(),b.Wb(),b.Wb(),b.Xb(44,"div",20),b.Xb(45,"div",12),b.Xb(46,"mat-form-field",13),b.Xb(47,"mat-label"),b.Tc(48,"Account Branch*"),b.Wb(),b.Xb(49,"mat-select",21),b.Rc(50,On,2,2,"mat-option",15),b.Wb(),b.Rc(51,Dn,2,0,"mat-error",16),b.Wb(),b.Wb(),b.Xb(52,"div",12),b.Xb(53,"mat-form-field",13),b.Xb(54,"mat-label"),b.Tc(55,"Product Name*"),b.Wb(),b.Xb(56,"input",22),b.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),b.Wb(),b.Wb(),b.Rc(57,Tn,2,0,"mat-error",16),b.Wb(),b.Xb(58,"div",12),b.Xb(59,"mat-form-field",13),b.Xb(60,"mat-label"),b.Tc(61,"Existing Value*"),b.Wb(),b.Xb(62,"input",23),b.fc("keypress",function(t){return e.onKeyPress(t)}),b.Wb(),b.Wb(),b.Rc(63,An,2,0,"mat-error",16),b.Wb(),b.Xb(64,"div",12),b.Xb(65,"mat-form-field",13),b.Xb(66,"mat-label"),b.Tc(67,"Remarks"),b.Wb(),b.Sb(68,"input",24),b.Rc(69,En,2,0,"mat-error",16),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(70,"div",25),b.Xb(71,"button",26),b.fc("click",function(){return e.goBack()}),b.Tc(72,"BACK"),b.Wb(),b.Sb(73,"span",27),b.Xb(74,"button",28),b.fc("click",function(){return e.onSubmit()}),b.Tc(75,"Next"),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(14),b.rc("formGroup",e.approvalForm),b.Eb(9),b.rc("ngForOf",e.arrayAccountType),b.Eb(1),b.rc("ngIf",e.approvalForm.get("accountType").hasError("required")),b.Eb(6),b.rc("ngIf",e.approvalForm.get("productCode").touched&&0==e.approvalForm.get("productCode").value),b.Eb(6),b.rc("ngIf",e.approvalForm.get("accountCurrency").hasError("required")),b.Eb(6),b.rc("ngForOf",e.arrayUserRecomendation),b.Eb(1),b.rc("ngIf",e.approvalForm.get("userRecommendation").hasError("required")),b.Eb(7),b.rc("ngForOf",e.arrayAccountBranch),b.Eb(1),b.rc("ngIf",e.approvalForm.get("accountBranch").hasError("required")),b.Eb(6),b.rc("ngIf",e.approvalForm.get("productName").touched&&0==e.approvalForm.get("productName").value),b.Eb(6),b.rc("ngIf",e.approvalForm.get("existingValues").touched&&0==e.approvalForm.get("existingValues").value),b.Eb(6),b.rc("ngIf",e.approvalForm.get("remarks").hasError("required")),b.Eb(5),b.rc("disabled",e.approvalForm.invalid))},directives:[h.e,h.b,p.a,p.h,s.A,s.s,s.j,p.d,h.f,y.c,y.g,Bt.a,s.r,s.i,i.m,i.n,f.b,s.c,Ht.a,g.b,jt.n,y.b],styles:[".Backbtn[_ngcontent-%COMP%]{border:none!important}"]}),t})();const _n=function(){return{y:"50px",delay:"300ms"}},wn=function(t){return{value:"*",params:t}};function Pn(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",16),b.Xb(1,"mat-card"),b.Xb(2,"div",17),b.Xb(3,"div",18),b.Xb(4,"mat-icon",19),b.Tc(5,"check_circle"),b.Wb(),b.Wb(),b.Xb(6,"div",20),b.Xb(7,"h6"),b.Tc(8,"Application Entry Stage Completed"),b.Wb(),b.Wb(),b.Sb(9,"span",21),b.Xb(10,"button",22),b.fc("click",function(){return b.Hc(t),b.jc().openViewApprovalSummary()}),b.Tc(11," View Summary "),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(1),b.rc("@animate",b.xc(2,wn,b.wc(1,_n))))}function Nn(t,e){1&t&&(b.Xb(0,"div",23),b.Sb(1,"mat-progress-bar",24),b.Xb(2,"p",25),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function Rn(t,e){if(1&t){const t=b.Yb();b.Xb(0,"button",22),b.fc("click",function(){return b.Hc(t),b.jc().addDetails()}),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()}}function Fn(t,e){if(1&t){const t=b.Yb();b.Xb(0,"button",22),b.fc("click",function(){return b.Hc(t),b.jc().openApprovalSummary()}),b.Tc(1," View Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()}}let Mn=(()=>{class t{constructor(t,e,r){this.router=t,this.dialogService=e,this.ls=r,this.isApprovalDetails=!1,this.isCardSupervisorApprovalDone=!1}ngOnInit(){this.isApprovalDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),console.log("",this.isApprovalDetails)}addDetails(){console.log("calling"),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list/approvalDetails"])}openApprovalSummary(){this.dialogService.CardApprovalSummary()}openViewApprovalSummary(){this.dialogService.CardApprovalViewSummary()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(rt.a),b.Rb(o.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-supervisor-approval-stage"]],decls:31,vars:5,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Sb(3,"img",3),b.Wb(),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"b"),b.Tc(7,"Create New Card Account"),b.Wb(),b.Wb(),b.Xb(8,"div",6),b.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),b.Wb(),b.Wb(),b.Wb(),b.Rc(10,Pn,12,4,"div",7),b.Wb(),b.Xb(11,"div",8),b.Xb(12,"div",9),b.Xb(13,"mat-card"),b.Xb(14,"mat-card-header"),b.Xb(15,"mat-card-title"),b.Tc(16,"1.Approval Details"),b.Wb(),b.Wb(),b.Xb(17,"mat-card-content"),b.Xb(18,"div",10),b.Xb(19,"div",11),b.Xb(20,"p"),b.Tc(21," Approval Details are captured."),b.Wb(),b.Wb(),b.Xb(22,"div",12),b.Sb(23,"img",13),b.Wb(),b.Wb(),b.Rc(24,Nn,4,2,"div",14),b.Wb(),b.Sb(25,"mat-divider"),b.Xb(26,"mat-card-actions"),b.Vb(27),b.Rc(28,Rn,4,0,"button",15),b.Ub(),b.Vb(29),b.Rc(30,Fn,4,0,"button",15),b.Ub(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.rc("ngIf",e.isCardSupervisorApprovalDone),b.Eb(13),b.rc("src","assets/images/svg/MaskGroup_16.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isApprovalDetails),b.Eb(4),b.rc("ngIf",!e.isApprovalDetails),b.Eb(2),b.rc("ngIf",e.isApprovalDetails))},directives:[h.e,h.b,i.n,p.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,A.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:17px}"]}),t})();function Ln(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Please Enter valid Scorecard ID "),b.Wb())}function Vn(t,e){1&t&&(b.Xb(0,"span",30),b.Tc(1," *"),b.Wb())}function Bn(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",22),b.Xb(1,"mat-form-field",31),b.Xb(2,"input",32),b.fc("keyup",function(e){b.Hc(t);const r=b.jc(),i=r.index,a=r.$implicit,n=b.jc().$implicit,c=b.jc();return c.validateInputValue(e.target.value,i,a.validationName),c.insertData(a.scoreCardQuestionId,e.target.value,a.attributeType,a.scoreCardMappingId,i,n.applicantId)})("click",function(e){b.Hc(t);const r=b.jc(),i=r.index,a=r.$implicit;return b.jc(2).validateInputValue(e.target.value,i,a.validationName)}),b.Wb(),b.Wb(),b.Xb(3,"mat-error",33),b.Tc(4),b.Wb(),b.Wb()}if(2&t){const t=b.jc(),e=t.index,r=t.$implicit,i=b.jc().index,a=b.jc();b.Eb(2),b.sc("name","input"+e),b.sc("id","input"+e),b.rc("required",r.isRequired)("autocomplete",a.off)("maxlength","Name"==r.validationName?25:50)("value",null==a.scoreCardMappingArray[i].scoreCardDetails[e].scorecardAnswer?a.sbSelectAnswer:a.scoreCardMappingArray[i].scoreCardDetails[e].scorecardAnswer),b.Eb(1),b.Oc("visibility","hidden"),b.sc("id","inputError"+e),b.Eb(1),b.Vc("Enter ",r.validationName,"")}}function jn(t,e){if(1&t&&(b.Xb(0,"mat-option",36),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function zn(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",22),b.Xb(1,"mat-form-field",31),b.Xb(2,"mat-select",34),b.fc("click",function(e){b.Hc(t);const r=b.jc().index;return b.jc(2).validateSelectValue(e.target.value,r)})("selectionChange",function(e){b.Hc(t);const r=b.jc(),i=r.index,a=r.$implicit,n=b.jc().$implicit,c=b.jc();return c.validateSelectValue(e.value,i),c.insertData(a.scoreCardQuestionId,e.value,a.attributeType,a.scoreCardMappingId,i,n.applicantId)}),b.Rc(3,jn,2,2,"mat-option",35),b.Wb(),b.Wb(),b.Xb(4,"mat-error",33),b.Tc(5),b.Wb(),b.Wb()}if(2&t){const t=b.jc(),e=t.$implicit,r=t.index,i=b.jc(2);b.Eb(2),b.rc("required",e.isRequired)("name","checkbox"==e.attributeType?"multiSelect"+r:"select"+r)("id","checkbox"==e.attributeType?"multiSelect"+r:"select"+r)("value","checkbox"==e.attributeType?i.sbMultiSelectAnswer:i.sbMultiSelectAnswer[r])("multiple","checkbox"==e.attributeType),b.Eb(1),b.rc("ngForOf",e.scorecardAnswers),b.Eb(1),b.Oc("visibility","hidden"),b.sc("id","selectError"+r),b.Eb(1),b.Vc("Please select ",e.validationName,"")}}function qn(t,e){if(1&t&&(b.Xb(0,"div",26),b.Xb(1,"div",22),b.Xb(2,"div",27),b.Xb(3,"mat-hint"),b.Tc(4),b.Rc(5,Vn,2,0,"span",28),b.Wb(),b.Wb(),b.Rc(6,Bn,5,10,"div",29),b.Rc(7,zn,6,10,"div",29),b.Wb(),b.Wb()),2&t){const t=e.$implicit,r=e.index;b.Eb(4),b.Wc("",r+1,".",t.scorecardQuestion,""),b.Eb(1),b.rc("ngIf",t.isRequired),b.Eb(1),b.rc("ngIf","textbox"==t.attributeType),b.Eb(1),b.rc("ngIf","drop-down"==t.attributeType||"checkbox"==t.attributeType)}}function Un(t,e){if(1&t&&(b.Xb(0,"mat-expansion-panel",19),b.Xb(1,"mat-expansion-panel-header"),b.Xb(2,"mat-panel-title"),b.Xb(3,"mat-icon",20),b.Tc(4,"check_circle"),b.Wb(),b.Xb(5,"span",21),b.Tc(6),b.Wb(),b.Wb(),b.Wb(),b.Xb(7,"mat-card",22),b.Xb(8,"mat-card-content",22),b.Xb(9,"div"),b.Xb(10,"h3"),b.Tc(11,"Questions"),b.Wb(),b.Wb(),b.Xb(12,"div",23),b.Xb(13,"div",24),b.Rc(14,qn,8,5,"div",25),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.Eb(6),b.Vc("Applicant ",t.applicantId,""),b.Eb(8),b.rc("ngForOf",t.scoreCardDetails)}}let Gn=(()=>{class t{constructor(t,e,r,i,a,n,c,o,l){this.router=t,this.api=e,this.snack=r,this.fb=i,this.ls=a,this.accountService=n,this.elRef=c,this.renderer=o,this.cdr=l,this.accountType="cardOrigin",this.sbMultiSelectAnswer=[],this.scoreboardQuestionsArray=[],this.scoreCardMappingArray=[],this.numberOfApplicant=new s.g(""),this.scoreCardId=new s.g(""),this.isDataSaved=!1,this.disableDoneBtn=!0,this.anyErrorExist=!1,this.isQualitativeScreen=!1,this.previousUrl="",this.showEditOption=!1,this.isCardQualitativeScoreboard=!1,this.sbSelectAnswer=""}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.loggedInUser=this.ls.getItem("ICUST_USER"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),console.log(this.isCardQualitativeScoreboard),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),console.log(this.noOfapplicants),console.log(this.loggedInUser),JSON.parse(this.ls.getItem("ASSESSMENT_QA_DONE")),null!=this.cardId&&this.isCardQualitativeScoreboard?(this.showEditOption=!0,this.isQualitativeScreen=!0,this.getAllQualitative()):(this.showEditOption=!1,this.loadData())}counter(t){return new Array(t)}loadData(){this.api.getScorecardQuestions(this.accountType).subscribe(t=>{console.log(t),console.log(this.noOfapplicants),!this.noOfapplicants&&t&&(this.noOfapplicants=t.length),t[1].attributeType="drop-down";for(let e=0;e<this.noOfapplicants;e++){this.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:e+1,scoreCardDetails:t});let r=[];console.log("data",this.scoreCardDetails);for(let e=0;e<t.length;e++)r.push({scoreCardQuestionId:t[e].scoreCardQuestionId,scorecardAnswer:null,scoreCardMappingId:null});this.scoreCardMappingArray.push({applicantId:e+1,scoreCardDetails:r})}console.log("data",this.scoreCardDetails),console.log("ques:",this.scoreboardQuestionsArray),this.cdr.markForCheck()})}getAllQualitative(){console.log(this.isQualitativeScreen),this.api.getCardQualitativeScorecardDetails(this.cardId).subscribe(t=>{console.log(t),console.log(this.isQualitativeScreen),this.qualitativeScoreboardSummary=t,console.log(this.qualitativeScoreboardSummary.scoreCardId+" : "+this.qualitativeScoreboardSummary.numberOfApplicant),this.scoreCardId.setValue(this.qualitativeScoreboardSummary.scoreCardId),this.numberOfApplicant.setValue(this.qualitativeScoreboardSummary.numberOfApplicant),console.log("scorecard id: ",this.scoreCardId),console.log("numberOfApplicant : ",this.numberOfApplicant),this.scoreboardQuestionsArray=[];for(let e=0;e<this.qualitativeScoreboardSummary.scoreCardMapping.length;e++)console.log("inside for",this.qualitativeScoreboardSummary.scoreCardMapping),this.api.getScorecardQuestions(this.accountType).subscribe(t=>{console.log(t),t[1].attributeType="drop-down",console.log(this.noOfapplicants),!this.noOfapplicants&&t&&(this.noOfapplicants=t.length);for(let i=0;i<this.noOfapplicants;i++){this.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:i+1,scoreCardDetails:t}),console.log(this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails.length);for(let t=0;t<this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails.length;t++){console.log(this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails);var r=this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails;console.log(r),this.sbMultiSelectAnswer.push(r[t].scorecardAnswer);for(let t=0;t<this.sbMultiSelectAnswer.length;t++)this.sbMultiSelectAnswer[2]?(this.sbSelectAnswer=this.sbMultiSelectAnswer[2],console.log(this.sbSwlwctAnswer)):this.sbMultiSelectAnswer[0]&&(this.sbSelectAnswer1=this.sbMultiSelectAnswer[0],console.log(this.sbSelectAnswer1));console.log(this.sbMultiSelectAnswer)}}console.log("data",this.scoreCardDetails),console.log("ques:",this.scoreboardQuestionsArray),this.cdr.markForCheck()}),this.scoreCardMappingArray=this.scoreboardQuestionsArray;console.log(this.scoreboardQuestionsArray,"scoreBoardQuestionArray"),this.disableDoneBtn=!1,this.cdr.markForCheck()})}insertData(t,e,r,i,a,n){console.log("Answer: ",e,a,n,t,r,i),"checkbox"==r&&(e=e.toString());let c=!1,o=!1;console.log(this.scoreCardMappingArray),console.log(this.numberOfApplicant),console.log(this.disableDoneBtn),console.log(this.sbMultiSelectAnswer);for(let s=0;s<this.scoreCardMappingArray.length;s++)if(this.scoreCardMappingArray[s].applicantId==n){for(let r=0;r<this.scoreCardMappingArray[s].scoreCardDetails.length;r++)this.isCardQualitativeScoreboard?(console.log("Edit Condition"),r==a?this.scoreCardMappingArray[s].scoreCardDetails[r].scoreCardQuestionId==t&&(this.scoreCardMappingArray[s].scoreCardDetails[r].scorecardAnswer=e,this.sbMultiSelectAnswer[r]=e,c=!0):this.scoreCardMappingArray[s].scoreCardDetails[r].scorecardAnswer=this.sbMultiSelectAnswer[r]):(console.log(r,this.scoreCardMappingArray[s].scoreCardDetails[r]),this.scoreCardMappingArray[s].scoreCardDetails[r].scoreCardQuestionId==t&&(this.scoreCardMappingArray[s].scoreCardDetails[r].scorecardAnswer=e,c=!0));o=!0}if(!c){let r={};if(r.scoreCardQuestionId=t,r.scorecardAnswer=e,null!=i&&(r.scoreCardMappingId=i),o)for(let t=0;t<this.scoreCardMappingArray.length;t++)this.scoreCardMappingArray[t].applicantId==n&&(this.scoreCardMappingArray[t].scoreCardDetails.push(r),console.log(this.scoreCardMappingArray[t].scoreCardDetails));else this.scoreCardMappingArray.push({applicantId:n,scoreCardDetails:r})}if(this.scoreCardMappingArray.length==this.scoreboardQuestionsArray.length){let t=0;for(let e=0;e<this.scoreCardMappingArray.length;e++)for(let r=0;r<this.scoreCardMappingArray[e].scoreCardDetails.length;r++){console.log(this.scoreCardMappingArray[e].scoreCardDetails[r].scorecardAnswer);let i=this.scoreCardMappingArray[e].scoreCardDetails[r].scorecardAnswer;""!=i&&null!=i&&null!=i||t++}t>0?this.disableDoneBtn=!0:0==this.anyErrorExist&&0==t&&(this.disableDoneBtn=!1)}console.log("Map Array: ",this.scoreCardMappingArray),console.log(this.disableDoneBtn)}validateInputValue(t,e,r){let i="#inputError"+e;""==t||null==t||null==t?this.renderer.setStyle(this.elRef.nativeElement.querySelector(i),"visibility","visible"):isNaN(t)||"Name"!=r?(this.renderer.setStyle(this.elRef.nativeElement.querySelector(i),"visibility","hidden"),this.anyErrorExist=!1):(this.renderer.setStyle(this.elRef.nativeElement.querySelector(i),"visibility","visible"),this.anyErrorExist=!0)}validateSelectValue(t,e){let r="#selectError"+e;console.log(r),this.renderer.setStyle(this.elRef.nativeElement.querySelector(r),"visibility",""==t||null==t||null==t?"visible":"hidden")}goBack(){this.router.navigate(["/cardaccount/underwritingStage/credit-rating"])}getAllData(t){this.api.getAssessmentReportDetails(t).subscribe(t=>{})}saveQualitativeScore(){let t={};console.log(this.noOfapplicants);let e=this.noOfapplicants;t.cardId=this.cardId,t.numberOfApplicant=e,t.scoreCardId=this.scoreCardId.value,t.loggedInUser=123,t.accountType="cardOrigin",t.scoreCardMapping=this.scoreCardMappingArray,console.log(t),this.api.saveQualitativeScorecard(t).subscribe(e=>{console.log("data",t.cardId),this.snack.open("Card Origination Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.isDataSaved=!0,this.accountService.refresh.next()},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}next(){this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!0),this.ls.setItem("CARD_UNDERWRITING_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/assessmentStage/list"])}noOfApplicant(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(l.b),b.Rb(d.a),b.Rb(s.f),b.Rb(o.a),b.Rb(D.a),b.Rb(b.l),b.Rb(b.I),b.Rb(b.h))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-cardaccount-qualitative-scoreboard"]],decls:39,vars:5,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId",3,"formControl"],[4,"ngIf"],[1,"mt-32"],[1,"disableText"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[1,"full-width"],["fxLayout","column"],["fxLayout","row","fxFlex","70%","fxLayoutGap","35px"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap",1,"full-width"],[1,"qDiv"],["class","redC",4,"ngIf"],["class","full-width",4,"ngIf"],[1,"redC"],["appearance","outline",1,"full-width"],["matInput","",3,"required","autocomplete","maxlength","name","id","value","keyup","click"],[3,"id"],[3,"required","name","id","value","multiple","click","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Sb(3,"img",3),b.Wb(),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"b"),b.Tc(7,"Qualitative Scoreboard"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(8,"form"),b.Xb(9,"div",6),b.Xb(10,"h2",7),b.Tc(11,"Qualitative Scoreboard"),b.Wb(),b.Sb(12,"div",8),b.Xb(13,"mat-card"),b.Sb(14,"mat-card-title"),b.Xb(15,"mat-card-content"),b.Xb(16,"h4"),b.Xb(17,"b"),b.Tc(18,"Scorecard ID"),b.Wb(),b.Wb(),b.Xb(19,"h4"),b.Sb(20,"input",9),b.Rc(21,Ln,2,0,"mat-error",10),b.Wb(),b.Xb(22,"h3",11),b.Tc(23,"About the Qualitative Scorecard ID"),b.Wb(),b.Xb(24,"p",12),b.Tc(25," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "),b.Wb(),b.Xb(26,"h3",11),b.Tc(27,"No. of Applicant"),b.Wb(),b.Xb(28,"p"),b.Tc(29),b.Wb(),b.Wb(),b.Wb(),b.Sb(30,"div",11),b.Xb(31,"mat-accordion",13),b.Rc(32,Un,15,2,"mat-expansion-panel",14),b.Wb(),b.Wb(),b.Wb(),b.Xb(33,"div",15),b.Xb(34,"button",16),b.fc("click",function(){return e.goBack()}),b.Tc(35,"BACK"),b.Wb(),b.Sb(36,"span",17),b.Xb(37,"button",18),b.fc("click",function(){return e.saveQualitativeScore()}),b.Tc(38,"Next"),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(20),b.rc("formControl",e.scoreCardId),b.Eb(1),b.rc("ngIf",e.scoreCardId.touched&&0==e.scoreCardId.value),b.Eb(8),b.Uc(e.noOfapplicants),b.Eb(3),b.rc("ngForOf",e.scoreboardQuestionsArray),b.Eb(5),b.rc("disabled",e.disableDoneBtn||!e.numberOfApplicant.valid))},directives:[h.e,h.b,s.A,s.s,s.t,p.a,p.h,p.d,f.b,s.c,Ht.a,s.r,s.h,i.n,qt.a,i.m,g.b,y.b,qt.c,qt.e,qt.f,a.a,h.f,y.f,y.c,Bt.a,jt.n],styles:[".qaDiv[_ngcontent-%COMP%]{padding:1.5rem 1rem}.qDiv[_ngcontent-%COMP%]{padding:.5em 0}.redC[_ngcontent-%COMP%]{color:red}.disableText[_ngcontent-%COMP%]{color:#cacaca}.Backbtn[_ngcontent-%COMP%]{border:none}"]}),t})();function Hn(t,e){if(1&t&&(b.Xb(0,"mat-option",23),b.Tc(1),b.Wb()),2&t){const t=e.$implicit;b.rc("value",t),b.Eb(1),b.Vc(" ",t," ")}}function Yn(t,e){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"mat-select",21),b.Rc(2,Hn,2,2,"mat-option",22),b.Wb(),b.Wb()),2&t){const t=b.jc(2);b.Eb(2),b.rc("ngForOf",t.customerNames)}}function $n(t,e){1&t&&(b.Xb(0,"div"),b.Sb(1,"input",24),b.Wb())}function Qn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Customer Name is Required! "),b.Wb())}function Kn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Agency is Required! "),b.Wb())}function Jn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," Ratings is Required! "),b.Wb())}function Zn(t,e){1&t&&(b.Xb(0,"mat-error"),b.Tc(1," maximum rating is 5 "),b.Wb())}function tc(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",25),b.Xb(1,"mat-accordion",10),b.Xb(2,"mat-card",26),b.Xb(3,"h3"),b.Tc(4,"Score "),b.Wb(),b.Sb(5,"mat-divider",27),b.Sb(6,"br"),b.Xb(7,"div",10),b.Xb(8,"div",11),b.Xb(9,"div",28),b.Xb(10,"div",29),b.Xb(11,"mat-form-field",13),b.Xb(12,"mat-label"),b.Tc(13,"Select Agency*"),b.Wb(),b.Xb(14,"mat-select",30),b.Xb(15,"mat-option",31),b.fc("click",function(){return b.Hc(t),b.jc(2).onClick()}),b.Tc(16,"Test Agency"),b.Wb(),b.Xb(17,"mat-option",32),b.fc("click",function(){return b.Hc(t),b.jc(2).onClick()}),b.Tc(18,"Ujjivan Agency"),b.Wb(),b.Xb(19,"mat-option",33),b.fc("click",function(){return b.Hc(t),b.jc(2).onClick()}),b.Tc(20,"Fast Track Agency"),b.Wb(),b.Wb(),b.Rc(21,Kn,2,0,"mat-error",14),b.Wb(),b.Wb(),b.Xb(22,"div",34),b.Xb(23,"mat-form-field",13),b.Xb(24,"mat-label"),b.Tc(25," Remarks"),b.Wb(),b.Sb(26,"input",35),b.Wb(),b.Wb(),b.Wb(),b.Xb(27,"div",36),b.Xb(28,"div",34),b.Xb(29,"mat-form-field",13),b.Xb(30,"mat-label"),b.Tc(31,"Ratings*"),b.Wb(),b.Xb(32,"input",37),b.fc("keypress",function(e){return b.Hc(t),b.jc(2)._keyPress(e)}),b.Wb(),b.Rc(33,Jn,2,0,"mat-error",14),b.Rc(34,Zn,2,0,"mat-error",14),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit,r=b.jc(2);b.Eb(1),b.rc("formGroup",t),b.Eb(6),b.rc("formGroup",t),b.Eb(8),b.rc("disabled",r.disableTest),b.Eb(2),b.rc("disabled",r.disableUjjivan),b.Eb(2),b.rc("disabled",r.disableFastTrack),b.Eb(2),b.rc("ngIf",!t.controls.agencyName.valid&&t.controls.agencyName.touched),b.Eb(12),b.rc("ngIf",0==t.controls.ratings.value&&t.controls.ratings.touched),b.Eb(1),b.rc("ngIf",t.controls.ratings.value>5)}}function ec(t,e){if(1&t){const t=b.Yb();b.Xb(0,"form",10),b.Xb(1,"div",11),b.Xb(2,"div",12),b.Xb(3,"mat-form-field",13),b.Xb(4,"mat-label"),b.Tc(5,"Customer Name*"),b.Wb(),b.Rc(6,Yn,3,1,"div",14),b.Rc(7,$n,2,0,"div",14),b.Rc(8,Qn,2,0,"mat-error",14),b.Wb(),b.Wb(),b.Wb(),b.Rc(9,tc,35,8,"div",15),b.Xb(10,"button",16),b.fc("click",function(){return b.Hc(t),b.jc().addFormGroup()}),b.Xb(11,"mat-icon"),b.Tc(12,"add"),b.Wb(),b.Tc(13," ADD AGENCY "),b.Wb(),b.Xb(14,"button",17),b.fc("click",function(){return b.Hc(t),b.jc().removeAgency()}),b.Tc(15," DELETE "),b.Wb(),b.Xb(16,"div",18),b.Xb(17,"a",19),b.fc("click",function(){return b.Hc(t),b.jc().goBack()}),b.Tc(18," Back "),b.Wb(),b.Xb(19,"button",20),b.fc("click",function(){b.Hc(t);const e=b.jc();return e.OnSubmit(e.creditDetailsForm.value)}),b.Tc(20," Next "),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=b.jc();b.rc("formGroup",t.creditDetailsForm),b.Eb(6),b.rc("ngIf",t.customerNames.length>1),b.Eb(1),b.rc("ngIf",1==t.customerNames.length),b.Eb(1),b.rc("ngIf",!t.creditDetailsForm.get("customerName").valid&&t.creditDetailsForm.get("customerName").touched),b.Eb(1),b.rc("ngForOf",t.c.controls),b.Eb(1),b.rc("disabled",t.disableAddAgency),b.Eb(9),b.rc("disabled",!t.creditDetailsForm.valid)}}let rc=(()=>{class t{constructor(t,e,r,i,a,n,c){this.formBuilder=t,this.router=e,this.ls=r,this.appApiService=i,this.snack=a,this.api=n,this.accountService=c,this.customerNames=[]}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.customerName=this.ls.getItem("primaryCustomerName"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.getCustomerInformationDetails(),this.buildCreditForm(),0==this.isCardCreditRatingDetails?this.buildCreditForm():this.gettingCreditRatingDetail()}get f(){return this.creditDetailsForm.controls}get c(){return this.f.agencyRating}buildCreditForm(t,e){console.log(t),this.creditDetailsForm=this.formBuilder.group({cardId:this.cardId,customerName:t?t.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.creditDetailsForm)}addFormGroup(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",s.z.required],ratings:["",s.z.required]}));for(let t=0;t<this.c.length;t++)this.deletecount=t}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}addModFormGroup(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.cardId],agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",s.z.required],ratings:[t?t.agencyRating[0].ratings:"",s.z.compose([s.z.required,s.z.max(5)])],remarks:[t?t.agencyRating[0].remarks:""]})}getCustomerInformationDetails(){this.appApiService.fetchCustomersByCardAccId(this.cardId,"cardOrigin").subscribe(t=>{console.log("resp for customer information names ",t.data);for(let e=0;e<t.data.length;e++)this.customerNames[e]=null==t.data[e].middleName?t.data[e].firstName+" "+t.data[e].lastName:t.data[e].firstName+" "+t.data[e].middleName+" "+t.data[e].lastName;console.log("customer name ",this.customerNames),this.customerNames&&(console.log("If condtion"),this.creditDetailsForm.get("customerName").setValue(this.customerNames[0]))},t=>{})}gettingCreditRatingDetail(){this.api.getCardCreditRatingDetails(this.cardId).subscribe(t=>{console.log(t),this.buildCreditForm(t,!0)})}removeAgency(t){this.c.removeAt(this.deletecount),this.deletecount=this.c.length-1}OnSubmit(t){console.log("val",t),t.accountType="cardOrigin",this.api.saveCreditDetails(t).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Credit Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.ls.setItem("CARD_CREDIT_RATING_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/underwritingStage/qualitative"])):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}),this.router.navigate(["/cardaccount/underwritingStage/qualitative/"])}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onClick(){for(let t=0;t<3;t++)"Test Agency"==this.creditDetailsForm.value.agencyRating[t].agencyName&&(this.disableTest=!0,this.disableUjjivan=!1,this.disableFastTrack=!1),"Ujjivan Agency"==this.creditDetailsForm.value.agencyRating[t].agencyName&&(this.disableUjjivan=!0,this.disableFastTrack=!1,this.disableTest=!1),"Fast Track Agency"==this.creditDetailsForm.value.agencyRating[t].agencyName&&(this.disableFastTrack=!0,this.disableUjjivan=!1,this.disableTest=!1);3==this.creditDetailsForm.value.agencyRating.length&&(this.disableAddAgency=!0)}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(s.f),b.Rb(m.h),b.Rb(o.a),b.Rb(Mt.a),b.Rb(d.a),b.Rb(l.b),b.Rb(D.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-underwriting-credit-rating"]],decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_9.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],[1,"flex-grow-2",2,"padding-left","10px"],["appearance","outline",1,"full-width"],[4,"ngIf"],["class","mt-16",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],["mat-button","",1,"dltbtn",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["name","customerName","formControlName","customerName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","customerName","type","text","readonly","",1,"alignment"],[1,"mt-16"],[1,"border1"],[1,"design"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["name","agencyName","formControlName","agencyName"],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],[1,"flex-grow-1"],["matInput","","placeholder","Remarks","formControlName","remarks","type","text","name","remarks",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Credit Score Details"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",1),b.Xb(10,"div",2),b.Xb(11,"mat-card",7),b.Xb(12,"mat-card-title"),b.Xb(13,"fieldset"),b.Xb(14,"legend",8),b.Tc(15,"Credit Score Details"),b.Wb(),b.Wb(),b.Wb(),b.Xb(16,"mat-card-content"),b.Rc(17,ec,21,7,"form",9),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(17),b.rc("ngIf",e.creditDetailsForm))},directives:[h.e,h.b,p.a,p.h,p.d,i.n,s.A,s.s,s.j,h.f,y.c,y.g,i.m,g.b,a.a,h.d,g.a,Bt.a,s.r,s.i,jt.n,f.b,s.c,y.b,qt.a,X.a],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{max-width:200px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.border1[_ngcontent-%COMP%]{border:1px solid #456efe}.dltbtn[_ngcontent-%COMP%]{float:right;color:red}"]}),t})();const ic=function(){return{y:"50px",delay:"300ms"}},ac=function(t){return{value:"*",params:t}};function nc(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",20),b.Xb(1,"mat-card"),b.Xb(2,"div",21),b.Xb(3,"div",22),b.Xb(4,"mat-icon",23),b.Tc(5,"check_circle"),b.Wb(),b.Wb(),b.Xb(6,"div",24),b.Xb(7,"h6"),b.Tc(8,"Application Underwriting Stage Completed"),b.Wb(),b.Wb(),b.Sb(9,"span",25),b.Xb(10,"button",26),b.fc("click",function(){return b.Hc(t),b.jc().viewSummary()}),b.Tc(11," View Summary "),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(1),b.rc("@animate",b.xc(2,ac,b.wc(1,ic))))}function cc(t,e){1&t&&(b.Xb(0,"div",27),b.Sb(1,"mat-progress-bar",28),b.Xb(2,"p",29),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function oc(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",26),b.fc("click",function(){return b.Hc(t),b.jc().goToCreditRatingSummary()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const sc=function(){return["/cardaccount/underwritingStage/credit-rating"]};function lc(t,e){1&t&&(b.Xb(0,"button",30),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()),2&t&&b.rc("routerLink",b.wc(1,sc))}function bc(t,e){1&t&&(b.Xb(0,"div",27),b.Sb(1,"mat-progress-bar",28),b.Xb(2,"p",29),b.Tc(3,"Completed"),b.Wb(),b.Wb()),2&t&&(b.Eb(1),b.rc("color","primary")("value",100))}function dc(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",26),b.fc("click",function(){return b.Hc(t),b.jc().openCardQualitativeDialog()}),b.Tc(2," View Details "),b.Xb(3,"mat-icon"),b.Tc(4,"chevron_right"),b.Wb(),b.Wb(),b.Ub()}}const uc=function(){return["/cardaccount/underwritingStage/qualitative"]};function mc(t,e){if(1&t&&(b.Xb(0,"button",31),b.Tc(1," Add Details "),b.Xb(2,"mat-icon"),b.Tc(3,"chevron_right"),b.Wb(),b.Wb()),2&t){const t=b.jc();b.rc("routerLink",b.wc(2,uc))("disabled",!t.isCardCreditRatingDetails)}}const pc=function(t){return{"border-size":t}};function gc(t,e){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"mat-card",8),b.Xb(2,"mat-card-content"),b.Xb(3,"div",9),b.Xb(4,"div",10),b.Xb(5,"div",11),b.Vb(6),b.Sb(7,"div",32),b.Xb(8,"div",33),b.Xb(9,"mat-card",34),b.Xb(10,"h3"),b.Tc(11,"Score"),b.Wb(),b.Sb(12,"br"),b.Xb(13,"div",35),b.Xb(14,"div",11),b.Vb(15),b.Xb(16,"div",36),b.Xb(17,"mat-hint",13),b.Tc(18,"Agency"),b.Wb(),b.Sb(19,"br"),b.Xb(20,"mat-hint",14),b.Tc(21),b.Wb(),b.Wb(),b.Xb(22,"div",36),b.Xb(23,"mat-hint",13),b.Tc(24,"Score"),b.Wb(),b.Sb(25,"br"),b.Xb(26,"mat-hint",14),b.Tc(27),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb(),b.Sb(28,"br"),b.Xb(29,"div",10),b.Xb(30,"div",11),b.Vb(31),b.Xb(32,"div",36),b.Xb(33,"mat-hint",13),b.Tc(34,"Remarks"),b.Wb(),b.Sb(35,"br"),b.Xb(36,"mat-hint",14),b.Tc(37),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.Eb(21),b.Uc(t.agencyName),b.Eb(6),b.Uc(t.ratings),b.Eb(10),b.Vc("",t.remarks," ")}}function hc(t,e){if(1&t&&(b.Xb(0,"div",40),b.Xb(1,"mat-card",41),b.Xb(2,"div"),b.Tc(3),b.Wb(),b.Xb(4,"div",42),b.Tc(5),b.Wb(),b.Wb(),b.Wb()),2&t){const t=e.$implicit,r=e.index;b.Eb(3),b.Wc("",r+1,".",t.scorecardQuestion,""),b.Eb(2),b.Uc(t.scorecardAnswer)}}function fc(t,e){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"div",37),b.Tc(2),b.Wb(),b.Xb(3,"div",38),b.Rc(4,hc,6,3,"div",39),b.Wb(),b.Wb()),2&t){const t=e.$implicit,r=e.index,i=b.jc();b.Eb(2),b.Vc("Applicant ",t.applicantId,""),b.Eb(2),b.rc("ngForOf",null==i.qualitativeScoreboardSummary?null:i.qualitativeScoreboardSummary.scoreCardMapping[r].scoreCardDetails)}}const yc=[{path:"",component:Na,children:[{path:"",redirectTo:"applicationEntryStage/list",pathMatch:"full"},{path:"applicationEntryStage/list",component:Dt},{path:"documentupload/list/document-details",component:un},{path:"applicationEntryStage/list/financialDetails",component:ea},{path:"applicationEntryStage/list/customerInformation",component:bi},{path:"applicationEntryStage/list/accountServices",component:Rt},{path:"applicationEntryStage/list/cardPrefrence",component:pi},{path:"applicationEntryStage/list/cardInitiation",component:qi},{path:"documentupload/list",component:vn},{path:"applicationEnrichment/list",component:j},{path:"applicationEnrichment/intrest-details",component:et},{path:"applicationEnrichment/charge-details",component:G},{path:"applicationEnrichment/Summary",component:K},{path:"underwritingStage/list",component:(()=>{class t{constructor(t,e,r,i,a){this.router=t,this.ls=e,this.dialogService=r,this.accountService=i,this.cdr=a,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1}ngOnInit(){this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.accountService.refresh.subscribe(t=>{this.cardId=this.ls.getItem("cardId"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.cdr.markForCheck()})}viewSummary(){this.router.navigate(["cardaccount/underwritingStage/summary"])}goToCreditRatingSummary(){this.dialogService.cardAccountcreditRatingSummaryDialog()}openCardQualitativeDialog(){this.dialogService.CardQualitativeSummaryDialog()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(o.a),b.Rb(rt.a),b.Rb(D.a),b.Rb(b.h))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-underwriting-stage"]],decls:49,vars:15,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr",2,"padding-left","17px"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showCredit",""],["showQualitative",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Sb(4,"img",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Xb(7,"b"),b.Tc(8,"Create New Card Account"),b.Wb(),b.Wb(),b.Xb(9,"div",7),b.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),b.Wb(),b.Wb(),b.Wb(),b.Rc(11,nc,12,4,"div",8),b.Wb(),b.Xb(12,"div",9),b.Xb(13,"div",10),b.Xb(14,"mat-card",11),b.Xb(15,"mat-card-header"),b.Xb(16,"mat-card-title"),b.Tc(17,"1. Credit Rating Details"),b.Wb(),b.Wb(),b.Xb(18,"mat-card-content"),b.Xb(19,"div",12),b.Xb(20,"div",13),b.Xb(21,"p"),b.Tc(22," Credit rating details are captured here. "),b.Wb(),b.Wb(),b.Xb(23,"div",14),b.Sb(24,"img",15),b.Wb(),b.Wb(),b.Rc(25,cc,4,2,"div",16),b.Wb(),b.Sb(26,"mat-divider"),b.Xb(27,"mat-card-actions"),b.Rc(28,oc,5,0,"ng-container",17),b.Rc(29,lc,4,2,"ng-template",null,18,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Xb(31,"div",10),b.Xb(32,"mat-card",11),b.Xb(33,"mat-card-header"),b.Xb(34,"mat-card-title"),b.Tc(35,"2. Qualitative Scorecard"),b.Wb(),b.Wb(),b.Xb(36,"mat-card-content"),b.Xb(37,"div",12),b.Xb(38,"div",13),b.Xb(39,"p"),b.Tc(40," Charge Details are displayed. "),b.Wb(),b.Wb(),b.Xb(41,"div",14),b.Sb(42,"img",15),b.Wb(),b.Wb(),b.Rc(43,bc,4,2,"div",16),b.Wb(),b.Sb(44,"mat-divider"),b.Xb(45,"mat-card-actions"),b.Rc(46,dc,5,0,"ng-container",17),b.Rc(47,mc,4,3,"ng-template",null,19,b.Sc),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Dc(30),r=b.Dc(48);b.Eb(11),b.rc("ngIf",e.isCardCreditRatingDetails&&e.isCardQualitativeScoreboard),b.Eb(3),b.rc("ngClass",b.xc(11,pc,e.isCardCreditRatingDetails||!e.isCardCreditRatingDetails)),b.Eb(10),b.rc("src","assets/images/svg/Mask_Group_9.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardCreditRatingDetails),b.Eb(3),b.rc("ngIf",e.isCardCreditRatingDetails)("ngIfElse",t),b.Eb(4),b.rc("ngClass",b.xc(13,pc,e.isCardCreditRatingDetails||!e.isCardCreditRatingDetails&&e.isCardQualitativeScoreboard)),b.Eb(10),b.rc("src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg",b.Jc),b.Eb(1),b.rc("ngIf",e.isCardQualitativeScoreboard),b.Eb(3),b.rc("ngIf",e.isCardQualitativeScoreboard)("ngIfElse",r)}},directives:[h.e,h.b,i.n,p.a,i.l,T.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,A.a,m.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca}"]}),t})()},{path:"underwritingStage/summary",component:(()=>{class t{constructor(t,e,r,i){this.router=t,this.ls=e,this.apiService=r,this.urlService=i,this.previousUrl="",this.imagePath="assets/images/assesment.png"}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.getAllData(this.cardId),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t})}getAllData(t){this.apiService.getCardQualitativeScorecardDetails(this.cardId).subscribe(t=>{this.qualitativeScoreboardSummary=t,console.log(this.qualitativeScoreboardSummary),console.log(this.qualitativeScoreboardSummary.scoreCardMapping)}),this.apiService.getCardCreditRatingDetails(t).subscribe(t=>{console.log(t.customerName),this.customerName=t.customerName,this.creditRatingValues=t})}goBack(){this.router.navigate(["cardaccount/underwritingStage/list"])}done(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(m.h),b.Rb(o.a),b.Rb(l.b),b.Rb(At.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-underwriting-stage-summary"]],decls:63,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","20px",1,"full-width",2,"padding","3rem 0rem"],[3,"src"],[2,"font-size","24px"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","10px",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"border","1px solid rgb(249 245 245)","border-radius","5px"],["fxLayout","column","fxLayoutAlign","space-evenly start",1,"full-width"],["fxLayout","row wrap",1,"full-width",2,"padding","2rem"],["fxFlex","100%","fxFlex.xs","100%"],[2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif"],[2,"padding-top","5px"],[2,"font-size","medium"],[1,"mt-32"],[2,"background-color","white"],["fxLayout","row wrap",1,"qtnhd",2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif","padding","0rem 1rem"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["mat-stroked-button","","color","primary",2,"border-radius","20px","width","10rem","height","2.5rem","font-family","sans-serif",3,"click"],["fxFlex",""],["mat-raised-button","","type","button",2,"border-radius","20px","width","10rem","height","2.5rem","background-color","#456EFE","float","right","color","white","font-family","sans-serif",3,"click"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50",1,"full-width"],[1,"qtncard1","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div"),b.Sb(2,"img",1),b.Wb(),b.Xb(3,"div"),b.Xb(4,"h2",2),b.Tc(5,"Application Underwriting stage Summary"),b.Wb(),b.Wb(),b.Wb(),b.Xb(6,"div",3),b.Xb(7,"h4",4),b.Tc(8,"Credit Score Details"),b.Wb(),b.Wb(),b.Xb(9,"div",5),b.Xb(10,"div",6),b.Xb(11,"div",7),b.Xb(12,"mat-card",8),b.Xb(13,"mat-card-content"),b.Xb(14,"div",9),b.Xb(15,"div",10),b.Xb(16,"div",11),b.Vb(17),b.Xb(18,"div",12),b.Xb(19,"mat-hint",13),b.Tc(20,"CustomerName"),b.Wb(),b.Sb(21,"br"),b.Xb(22,"mat-hint",14),b.Tc(23),b.Wb(),b.Wb(),b.Ub(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(24,"div",5),b.Xb(25,"div",6),b.Xb(26,"div",7),b.Rc(27,gc,38,3,"div",15),b.Wb(),b.Wb(),b.Wb(),b.Sb(28,"br"),b.Xb(29,"div",16),b.Xb(30,"div",17),b.Xb(31,"div",18),b.Xb(32,"div",9),b.Xb(33,"div",19),b.Xb(34,"div",20),b.Xb(35,"div"),b.Xb(36,"span",21),b.Tc(37,"ScoreCard Id"),b.Wb(),b.Sb(38,"br"),b.Xb(39,"div",22),b.Xb(40,"span",23),b.Tc(41),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(42,"div",20),b.Xb(43,"div",24),b.Xb(44,"span",21),b.Tc(45,"Number Of Applicants"),b.Wb(),b.Sb(46,"br"),b.Xb(47,"div",22),b.Xb(48,"span",23),b.Tc(49),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(50,"div",9),b.Sb(51,"mat-divider",25),b.Wb(),b.Xb(52,"div",26),b.Tc(53,"Questions"),b.Wb(),b.Xb(54,"div",27),b.Xb(55,"div",28),b.Rc(56,fc,5,2,"div",15),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(57,"div"),b.Xb(58,"button",29),b.fc("click",function(){return e.goBack()}),b.Tc(59," Back "),b.Wb(),b.Sb(60,"span",30),b.Xb(61,"button",31),b.fc("click",function(){return e.done()}),b.Tc(62," Done "),b.Wb(),b.Wb()),2&t&&(b.Eb(2),b.rc("src",e.imagePath,b.Jc),b.Eb(21),b.Uc(e.customerName),b.Eb(4),b.rc("ngForOf",e.creditRatingValues.agencyRating),b.Eb(14),b.Vc("ID #",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardId,""),b.Eb(8),b.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.numberOfApplicant),b.Eb(7),b.rc("ngForOf",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardMapping))},directives:[h.e,h.d,h.f,h.b,p.a,p.d,y.f,i.m,X.a,g.b],styles:[""]}),t})()},{path:"underwritingStage/credit-rating",component:rc},{path:"underwritingStage/qualitative",component:Gn},{path:"assessmentStage/list",component:la},{path:"assessmentStage/application-assessment/list",component:rn},{path:"SupervisorApprovalStage/list",component:Mn},{path:"SupervisorApprovalStage/list/approvalDetails",component:kn},{path:"DigitalSigning/list",component:Qa},{path:"digitalsigning/options",component:Va},{path:"digitalsigning/upload",component:Ra.a}]}];var vc=r("u9T3"),Cc=r("w9WL"),xc=r("aLe/"),Wc=r("aYsj"),Xc=r("mnDI"),Ic=r("zMWy"),Sc=r("KVVp"),Oc=r("Gp04");let Dc=(()=>{class t{}return t.\u0275mod=b.Pb({type:t}),t.\u0275inj=b.Ob({factory:function(e){return new(e||t)},providers:[i.d],imports:[[i.c,nn.d,s.x,vc.a,Cc.a,s.l,a.b,p.f,s.x,xc.c,Wc.a,Xc.a,Ic.a,c.b,n.b,m.l.forChild(yc),Sc.OthersModule,Oc.a]]}),t})()}}]);