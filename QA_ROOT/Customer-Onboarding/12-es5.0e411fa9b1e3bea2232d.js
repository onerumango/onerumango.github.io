!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return e};var e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(O){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),c=new T(n||[]);return a(o,"_invoke",{value:E(t,r,c)}),o}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=u;var b={};function f(){}function m(){}function p(){}var g={};l(g,o,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(R([])));v&&v!==r&&n.call(v,o)&&(g=v);var y=p.prototype=f.prototype=Object.create(g);function x(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function W(t,e){function r(a,i,o,c){var s=d(t[a],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?e.resolve(u.__await).then(function(t){r("next",t,o,c)},function(t){r("throw",t,o,c)}):e.resolve(u).then(function(t){l.value=t,o(l)},function(t){return r("throw",t,o,c)})}c(s.arg)}var i;a(this,"_invoke",{value:function(t,n){function a(){return new e(function(e,a){r(t,n,e,a)})}return i=i?i.then(a,a):a()}})}function E(t,e,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return C()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var c=X(o,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=d(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function X(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,X(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=d(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,b;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,b):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function R(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=p,a(y,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},x(W.prototype),l(W.prototype,c,function(){return this}),e.AsyncIterator=W,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new W(u(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(y),l(y,s,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;I(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:R(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),b}},e}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(a=n.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"))?i:String(i)),n)}var a,i}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{OKja:function(t,r,a){"use strict";a.d(r,"a",function(){return le});var i=a("nm5K"),o=a("tZUg"),c=a("iELJ"),s=a("SVse"),l=a("s7LF"),u=a("8Y7J"),d=a("zHaW"),b=a("VDRc"),f=a("Tj54"),m=a("Q2Ze"),p=a("PDjf"),g=a("ZTz/"),h=a("UhP/"),v=a("e6WT"),y=a("TN/R"),x=a("2Goh"),W=a("Dxy4");function E(t,e){if(1&t&&(u.Xb(0,"mat-option",32),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function X(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0Please Select the Prefix! "),u.Wb())}function S(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0Enter the First Name "),u.Wb())}function I(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0Enter the Last Name "),u.Wb())}function T(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0Please Select Date Of Birth "),u.Wb())}function R(t,e){if(1&t&&(u.Xb(0,"mat-option",32),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function C(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0Select Marital Status "),u.Wb())}function O(t,e){if(1&t&&(u.Xb(0,"mat-option",32),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function N(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0 Select Gender "),u.Wb())}function k(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 Prefix and Gender does not match! "),u.Wb())}function P(t,e){if(1&t&&(u.Xb(0,"mat-option",32),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function A(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0 Select Nationality "),u.Wb())}function D(t,e){if(1&t){var r=u.Yb();u.Xb(0,"mat-hint",34),u.fc("click",function(){u.Hc(r);var t=u.jc();return t.getOtp(t.primaryInfoForm.value)}),u.Tc(1),u.Wb()}if(2&t){var n=u.jc();u.Eb(1),u.Uc(n.emailVerify)}}function w(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0 Enter the Primary Email "),u.Wb())}function _(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," Please Enter valid email address! "),u.Wb())}function F(t,e){if(1&t){var r=u.Yb();u.Xb(0,"mat-hint",34),u.fc("click",function(){u.Hc(r);var t=u.jc();return t.getOtpMobile(t.primaryInfoForm.value)}),u.Tc(1),u.Wb()}if(2&t){var n=u.jc();u.Eb(1),u.Uc(n.verify)}}function U(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0 Enter the Mobile Number(maximum 10 digits) "),u.Wb())}function L(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," Please Enter Mobile Number "),u.Wb())}function M(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," Mobile number must be 10 digits. "),u.Wb())}function j(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),u.Wb())}var z,V=((z=function(){function t(r,n,a,i,o){e(this,t),this.primaryInfo=r,this.dialogRef=n,this.apiService=a,this.snack=i,this.formBuilder=o,this.arrayCountry=[],this.arrayState=[],this.prefixFlag=!1,this.maxDate=new Date}return n(t,[{key:"ngOnInit",value:function(){console.log(this.primaryInfo),this.customerId=this.primaryInfo.customerId,this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getMaritalStatus("maritial_Status"),this.getCountryName("country"),this.getNationality("nationality"),this.getResidenceDetails("residence"),this.primaryInfo&&this.buildPrimaryInfoForm(this.primaryInfo)}},{key:"buildPrimaryInfoForm",value:function(t){this.primaryInfoForm=this.formBuilder.group({customerId:[this.customerId],prefix:[t?t.prefix:"",[l.z.required]],firstName:[t?t.firstName:"",[l.z.required]],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",[l.z.required]],dateOfBirth:[t?t.dateOfBirth:"",[l.z.required]],maritalStatus:[t?t.maritalStatus:"",[l.z.required]],gender:[t?t.gender:"",[l.z.required]],nationality:[t?t.nationality:"",[l.z.required]],primaryEmailAdress:[t?t.primaryEmailAdress:"",[l.z.required,l.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],phoneNumber:[t?t.phoneNumber:"",[l.z.required]]})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getGenderValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayGender=t})}},{key:"getMaritalStatus",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayMaritalStatus=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var r=0;r<t.length;r++)"A"===t[r].authStatus&&e.arrayCountry.push(t[r].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(r){for(var n=0;n<r.length;n++)if(r[n].countryName===t){e.apiService.getStateByCountryId(r[n].id).subscribe(function(t){for(var r=0;r<t.length;r++)"A"===t[r].authStatus&&e.arrayState.push(t[r].stateName)});break}})}},{key:"getNationality",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.nationalityArray=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"onChangePrefix",value:function(t){""!=this.primaryInfoForm.value.gender&&("Mr"==t.value&&"Male"==this.primaryInfoForm.value.gender||("Ms"==t.value||"Mrs"==t.value)&&"Female"==this.primaryInfoForm.value.gender?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}},{key:"onChangeGender",value:function(t){"Mr"==this.primaryInfoForm.value.prefix&&"Male"==t.value||("Ms"==this.primaryInfoForm.value.prefix||"Mrs"==this.primaryInfoForm.value.prefix)&&"Female"==t.value?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"onSubmit",value:function(){var t=this,e=new s.f("en-US").transform(this.primaryInfoForm.value.dateOfBirth,"yyyy-MMM-dd");this.primaryInfoForm.value.dateOfBirth=e,this.primaryInfoForm.value.customerSubmit=!1,this.apiService.insertNewUserOnboarding(this.primaryInfoForm.value).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.primaryInfoForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||z)(u.Rb(c.a),u.Rb(c.g),u.Rb(i.b),u.Rb(d.a),u.Rb(l.f))},z.\u0275cmp=u.Lb({type:z,selectors:[["app-update-primary-info"]],decls:97,vars:25,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],[1,"full-width"],[1,"hintClass"],[1,"inputClass",2,"max-width","20%"],["formControlName","prefix","required","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"inputClass"],["type","text","matInput","","formControlName","firstName","required","",3,"keypress"],["type","text","matInput","","formControlName","middleName",3,"keypress"],["type","text","matInput","","formControlName","lastName","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","fxlayoutAlign","start start",1,"full-width"],["fxFlex","90%"],["matInput","","readonly","","formControlName","dateOfBirth","required","",1,"default-background",3,"matDatepicker","max"],["fxFlex","10%"],["matSuffix","",2,"height","0px","line-height","0px",3,"for"],["picker",""],["formControlName","maritalStatus","required",""],["formControlName","gender","required","",3,"selectionChange"],["formControlName","nationality","required",""],["fxFlex","90%","type","email","matInput","","formControlName","primaryEmailAdress","required",""],["fxFlex","10%","class","verification",3,"click",4,"ngIf"],["fxFlex","90%","type","text","onlyNumber","","maxlength","10","minlength","10","matInput","","formControlName","phoneNumber","required","","maxlength","10"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[1,"errorClass"],["fxFlex","10%",1,"verification",3,"click"]],template:function(t,e){if(1&t&&(u.Xb(0,"div",0),u.Xb(1,"mat-icon",1),u.fc("click",function(){return e.close()}),u.Tc(2,"close"),u.Wb(),u.Wb(),u.Xb(3,"h5",2),u.Tc(4,"Primary Information"),u.Wb(),u.Xb(5,"mat-dialog-content"),u.Xb(6,"form",3),u.Xb(7,"div",4),u.Xb(8,"div",5),u.Xb(9,"mat-hint",6),u.Tc(10,"Prefix*"),u.Wb(),u.Xb(11,"mat-card",7),u.Xb(12,"mat-select",8),u.fc("selectionChange",function(t){return e.onChangePrefix(t)}),u.Xb(13,"mat-option",9),u.Tc(14,"Select"),u.Wb(),u.Rc(15,E,2,2,"mat-option",10),u.Wb(),u.Wb(),u.Rc(16,X,2,0,"mat-error",11),u.Wb(),u.Xb(17,"div",12),u.Xb(18,"mat-hint",6),u.Tc(19,"First Name*"),u.Wb(),u.Xb(20,"mat-card",13),u.Xb(21,"input",14),u.fc("keypress",function(t){return e.letterOnly(t)}),u.Wb(),u.Wb(),u.Rc(22,S,2,0,"mat-error",11),u.Wb(),u.Xb(23,"div",12),u.Xb(24,"mat-hint",6),u.Tc(25,"Middle Name"),u.Wb(),u.Xb(26,"mat-card",13),u.Xb(27,"input",15),u.fc("keypress",function(t){return e.letterOnly(t)}),u.Wb(),u.Wb(),u.Wb(),u.Xb(28,"div",12),u.Xb(29,"mat-hint",6),u.Tc(30,"Last Name"),u.Wb(),u.Xb(31,"mat-card",13),u.Xb(32,"input",16),u.fc("keypress",function(t){return e.letterOnly(t)}),u.Wb(),u.Wb(),u.Rc(33,I,2,0,"mat-error",11),u.Wb(),u.Xb(34,"div",17),u.Xb(35,"mat-hint",6),u.Tc(36,"Date of Birth*"),u.Wb(),u.Xb(37,"mat-card",13),u.Xb(38,"div",18),u.Sb(39,"input",19),u.Wb(),u.Xb(40,"div",20),u.Sb(41,"mat-datepicker-toggle",21),u.Wb(),u.Wb(),u.Rc(42,T,2,0,"mat-error",11),u.Sb(43,"mat-datepicker",null,22),u.Wb(),u.Xb(45,"div",12),u.Xb(46,"mat-hint",6),u.Tc(47,"Marital Status*"),u.Wb(),u.Xb(48,"mat-card",13),u.Xb(49,"mat-select",23),u.Xb(50,"mat-option",9),u.Tc(51,"Select"),u.Wb(),u.Rc(52,R,2,2,"mat-option",10),u.Wb(),u.Wb(),u.Rc(53,C,2,0,"mat-error",11),u.Wb(),u.Xb(54,"div",12),u.Xb(55,"mat-hint",6),u.Tc(56,"Gender*"),u.Wb(),u.Xb(57,"mat-card",13),u.Xb(58,"mat-select",24),u.fc("selectionChange",function(t){return e.onChangeGender(t)}),u.Xb(59,"mat-option",9),u.Tc(60,"Select"),u.Wb(),u.Rc(61,O,2,2,"mat-option",10),u.Wb(),u.Wb(),u.Rc(62,N,2,0,"mat-error",11),u.Rc(63,k,2,0,"mat-error",11),u.Wb(),u.Xb(64,"div",12),u.Xb(65,"mat-hint",6),u.Tc(66,"Nationality*"),u.Wb(),u.Xb(67,"mat-card",13),u.Xb(68,"mat-select",25),u.Xb(69,"mat-option",9),u.Tc(70,"Select"),u.Wb(),u.Rc(71,P,2,2,"mat-option",10),u.Wb(),u.Wb(),u.Rc(72,A,2,0,"mat-error",11),u.Wb(),u.Xb(73,"div",12),u.Xb(74,"mat-hint",6),u.Tc(75,"Primary Email*"),u.Wb(),u.Xb(76,"mat-card",13),u.Sb(77,"input",26),u.Rc(78,D,2,1,"mat-hint",27),u.Wb(),u.Rc(79,w,2,0,"mat-error",11),u.Rc(80,_,2,0,"mat-error",11),u.Wb(),u.Xb(81,"div",12),u.Xb(82,"mat-hint",6),u.Tc(83,"Mobile Number*"),u.Wb(),u.Xb(84,"mat-card",13),u.Sb(85,"input",28),u.Rc(86,F,2,1,"mat-hint",27),u.Wb(),u.Rc(87,U,2,0,"mat-error",11),u.Rc(88,L,2,0,"mat-error",11),u.Rc(89,M,2,0,"mat-error",11),u.Rc(90,j,2,0,"mat-error",11),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(91,"div",29),u.Xb(92,"button",30),u.fc("click",function(){return e.onSubmit()}),u.Tc(93,"Save"),u.Wb(),u.Tc(94," \xa0\xa0\xa0 "),u.Xb(95,"button",31),u.fc("click",function(){return e.close()}),u.Tc(96," Cancel "),u.Wb(),u.Wb()),2&t){var r=u.Dc(44);u.Eb(6),u.rc("formGroup",e.primaryInfoForm),u.Eb(9),u.rc("ngForOf",e.arrayPrefix),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("prefix").touched&&!e.primaryInfoForm.get("prefix").valid),u.Eb(6),u.rc("ngIf",e.primaryInfoForm.get("firstName")&&e.primaryInfoForm.get("firstName").touched&&!e.primaryInfoForm.get("firstName").valid),u.Eb(11),u.rc("ngIf",e.primaryInfoForm.get("lastName")&&e.primaryInfoForm.get("lastName").touched&&!e.primaryInfoForm.get("lastName").valid),u.Eb(6),u.rc("matDatepicker",r)("max",e.maxDate),u.Eb(2),u.rc("for",r),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("dateOfBirth")&&e.primaryInfoForm.get("dateOfBirth").touched&&!e.primaryInfoForm.get("dateOfBirth").valid),u.Eb(10),u.rc("ngForOf",e.arrayMaritalStatus),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("maritalStatus")&&e.primaryInfoForm.get("maritalStatus").touched&&!e.primaryInfoForm.get("maritalStatus").valid),u.Eb(8),u.rc("ngForOf",e.arrayGender),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("gender")&&e.primaryInfoForm.get("gender").touched&&!e.primaryInfoForm.get("gender").valid),u.Eb(1),u.rc("ngIf",e.prefixFlag),u.Eb(8),u.rc("ngForOf",e.nationalityArray),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("nationality")&&e.primaryInfoForm.get("nationality").touched&&!e.primaryInfoForm.get("nationality").valid),u.Eb(6),u.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").valid),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress")&&e.primaryInfoForm.get("primaryEmailAdress").touched&&!e.primaryInfoForm.get("primaryEmailAdress").valid),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").hasError("pattern")),u.Eb(6),u.rc("ngIf",e.primaryInfoForm.get("phoneNumber").valid),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("phoneNumber").touched&&!e.primaryInfoForm.get("phoneNumber").valid&&!e.primaryInfoForm.get("phoneNumber").hasError("minlength")),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("required")&&e.primaryInfoForm.get("phoneNumber").touched),u.Eb(1),u.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("pattern")),u.Eb(1),u.rc("ngIf","0000000000"==e.primaryInfoForm.get("phoneNumber").value),u.Eb(2),u.rc("disabled",e.primaryInfoForm.invalid)}},directives:[b.e,b.d,f.a,c.h,c.e,l.A,l.s,l.j,m.f,p.a,g.a,l.r,l.i,l.y,h.n,s.m,s.n,b.b,v.b,l.c,y.e,y.g,m.j,y.d,x.a,l.m,l.n,b.f,W.b,m.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}"]}),z);function B(t,e){1&t&&(u.Xb(0,"h2",32),u.Tc(1,"Comminucation Address"),u.Wb())}function J(t,e){1&t&&(u.Xb(0,"h2"),u.Tc(1,"Permanent Address"),u.Wb())}function G(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),u.Wb())}function q(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),u.Wb())}function Y(t,e){if(1&t&&(u.Xb(0,"mat-option",34),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function $(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0\xa0 Select Residence Type "),u.Wb())}function H(t,e){if(1&t&&(u.Xb(0,"mat-option",34),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function K(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0\xa0 Select Country "),u.Wb())}function Z(t,e){if(1&t&&(u.Xb(0,"mat-option",34),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r.stateName),u.Eb(1),u.Vc(" ",r.stateName," ")}}function Q(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0\xa0 Please Select State "),u.Wb())}function tt(t,e){if(1&t&&(u.Xb(0,"mat-option",34),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function et(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0\xa0 Please Select City "),u.Wb())}function rt(t,e){1&t&&(u.Xb(0,"mat-error",33),u.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!(5-10 digits) "),u.Wb())}function nt(t,e){1&t&&(u.Xb(0,"h5",35),u.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!"),u.Wb())}function at(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",8),u.Rc(2,B,2,0,"h2",9),u.Rc(3,J,2,0,"h2",10),u.Xb(4,"div",11),u.Xb(5,"div",12),u.Xb(6,"mat-hint",13),u.Tc(7,"Address Line 1 *"),u.Wb(),u.Xb(8,"mat-card",14),u.Sb(9,"textarea",15),u.Wb(),u.Rc(10,G,2,0,"mat-error",16),u.Wb(),u.Xb(11,"div",12),u.Xb(12,"mat-hint",13),u.Tc(13,"Address Line 2 *"),u.Wb(),u.Xb(14,"mat-card",14),u.Sb(15,"textarea",17),u.Wb(),u.Rc(16,q,2,0,"mat-error",16),u.Wb(),u.Xb(17,"div",12),u.Xb(18,"mat-hint",13),u.Tc(19,"Residence Type *"),u.Wb(),u.Xb(20,"mat-card",14),u.Xb(21,"mat-select",18),u.Xb(22,"mat-option",19),u.Tc(23," Select"),u.Wb(),u.Rc(24,Y,2,2,"mat-option",20),u.Wb(),u.Wb(),u.Rc(25,$,2,0,"mat-error",21),u.Wb(),u.Xb(26,"div",12),u.Xb(27,"mat-hint",13),u.Tc(28,"Country *"),u.Wb(),u.Xb(29,"mat-card",14),u.Xb(30,"mat-select",22,23),u.fc("selectionChange",function(t){return u.Hc(r),u.jc().getStateName(t.value,"Communication")})("selectionChange",function(t){return u.Hc(r),u.jc().getCityName(t.value)}),u.Xb(32,"mat-option",19),u.Tc(33," Select"),u.Wb(),u.Rc(34,H,2,2,"mat-option",20),u.Wb(),u.Wb(),u.Rc(35,K,2,0,"mat-error",24),u.Wb(),u.Xb(36,"div",12),u.Xb(37,"mat-hint",13),u.Tc(38,"State*"),u.Wb(),u.Xb(39,"mat-card",14),u.Xb(40,"mat-select",25,26),u.fc("selectionChange",function(t){return u.Hc(r),u.jc().getCityName(t.value,"Communication")}),u.Xb(42,"mat-option",19),u.Tc(43,"Select "),u.Wb(),u.Rc(44,Z,2,2,"mat-option",20),u.Wb(),u.Wb(),u.Rc(45,Q,2,0,"mat-error",16),u.Wb(),u.Xb(46,"div",12),u.Xb(47,"mat-hint",13),u.Tc(48,"City*"),u.Wb(),u.Xb(49,"mat-card",14),u.Xb(50,"mat-select",27,28),u.Xb(52,"mat-option",19),u.Tc(53,"Select "),u.Wb(),u.Rc(54,tt,2,2,"mat-option",20),u.Wb(),u.Wb(),u.Rc(55,et,2,0,"mat-error",16),u.Wb(),u.Xb(56,"div",12),u.Xb(57,"mat-hint",13),u.Tc(58,"Zip Code*"),u.Wb(),u.Xb(59,"mat-card",14),u.Xb(60,"input",29,30),u.fc("keyup",function(t){u.Hc(r);var n=e.index;return u.jc().isAllSameDigit(t,n)}),u.Wb(),u.Wb(),u.Rc(62,rt,2,0,"mat-error",24),u.Rc(63,nt,2,0,"h5",31),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=e.$implicit,a=e.index,i=u.jc();u.Eb(1),u.rc("formGroupName",a),u.Eb(1),u.rc("ngIf",0==a),u.Eb(1),u.rc("ngIf",a>0),u.Eb(7),u.rc("ngIf",n.controls.address1&&n.controls.address1.touched&&!n.controls.address1.valid||n.controls.address1.touched&&n.controls.address1.hasError("pattern")),u.Eb(6),u.rc("ngIf",n.controls.address2&&n.controls.address2.touched&&!n.controls.address2.valid||n.controls.address2.touched&&n.controls.address2.hasError("pattern")),u.Eb(8),u.rc("ngForOf",i.arrayResidence),u.Eb(1),u.rc("ngIf",n.controls.residenceType&&n.controls.residenceType.touched&&!n.controls.residenceType.valid),u.Eb(9),u.rc("ngForOf",i.arrayCountry),u.Eb(1),u.rc("ngIf",n.controls.country&&n.controls.country.touched&&!n.controls.country.valid),u.Eb(9),u.rc("ngForOf",i.arrayState),u.Eb(1),u.rc("ngIf",n.controls.state&&n.controls.state.touched&&!n.controls.state.valid),u.Eb(9),u.rc("ngForOf",i.arrayCity),u.Eb(1),u.rc("ngIf",n.controls.city&&n.controls.city.touched&&!n.controls.city.valid),u.Eb(7),u.rc("ngIf",n.controls.zipCode&&n.controls.zipCode.touched&&!n.controls.zipCode.valid),u.Eb(1),u.rc("ngIf",i.isAllSameDigitVal&&a==i.zipCodeIndex)}}var it,ot,ct=((it=function(){function t(r,n,a,i,o,c,s){e(this,t),this.dialogRef=r,this.contactInfo=n,this.formBuilder=a,this.ls=i,this.apiService=o,this.snack=c,this.cdr=s,this.userAddress_array=new l.d([]),this.arrayCity=[],this.arrayState=[],this.arrayCityPerm=[],this.arrayStatePerm=[],this.arrayCountryPerm=[],this.arrayCountry=[]}return n(t,[{key:"ngOnInit",value:function(){if(console.log(this.contactInfo),this.customerId=this.ls.getItem("customerId"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.contactInfo){this.buildContactInfoForm(),this.userAddress_array=this.contactInfoUpdateForm.get("userAddress_array");for(var t=0;t<this.contactInfo.length;t++)this.getStateName(this.contactInfo[t].country,this.contactInfo[t].addressType),this.getCityName(),this.userAddress_array.push(this.createUserAddress(this.contactInfo[t]))}else this.buildContactInfoForm(),this.userAddress_array.push(this.createUserAddress())}},{key:"buildContactInfoForm",value:function(){this.contactInfoUpdateForm=this.formBuilder.group({userAddress_array:this.formBuilder.array([])})}},{key:"createUserAddress",value:function(t){return this.formBuilder.group({addressType:["Communication",[l.z.required]],address1:[t?t.address1:[""],[l.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[l.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var r=0;r<t.length;r++)"A"===t[r].authStatus&&(e.arrayCountry.push(t[r].countryName),e.arrayCountryPerm.push(t[r].countryName))})}},{key:"getStateName",value:function(t,e){var r=this;this.apiService.getAllCountries().subscribe(function(n){for(var a=0;a<n.length;a++)if(n[a].countryName==t){r.apiService.getStateByCountryId(n[a].id).subscribe(function(t){"Communication"===e?r.arrayState=t:"Permanent"===e&&(r.arrayStatePerm=t)});break}})}},{key:"getCityName",value:function(){var t=this;this.apiService.getAuthorizedCityInfo().subscribe(function(e){return e.map(function(e){t.arrayCity.push(e.cityName)})})}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.userAddress=this.userAddress_array.value,e.userAddress&&2==e.userAddress.length&&(e.userAddress[1].addressType="Permanent"),this.apiService.insertNewUserOnboarding(e).subscribe(function(r){t.dialogRef.close({status:"INITIATED",resp:e.userAddress})},function(e){t.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"isAllSameDigit",value:function(t,e){console.log("zipIndex :: ",e),this.zipCodeIndex=e,this.cdr.detectChanges();var r=0,n=t.target.value;if(""!=n){for(var a=0;a<n.length;a++)0==n[a]&&r++;console.log("number :: ",n),console.log("isAllSameDigitVal :: ",r,n.length),r==n.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||it)(u.Rb(c.g),u.Rb(c.a),u.Rb(l.f),u.Rb(o.a),u.Rb(i.b),u.Rb(d.a),u.Rb(u.h))},it.\u0275cmp=u.Lb({type:it,selectors:[["app-update-contact-info"]],decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["formArrayName","userAddress_array","fxLayout","row wrap",1,"full-width"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row wrap",1,"full-width",3,"formGroupName"],["style","font-size: 18px;",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","address1","formControlName","address1","maxlength","255","required",""],["style","color: errorColor;",4,"ngIf"],["matInput","","name","address2","formControlName","address2","maxlength","255","required",""],["name","residenceType","formControlName","residenceType","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","color: errorColor",4,"ngIf"],["name","country","formControlName","country","required","",3,"selectionChange"],["country",""],["style","color: errorColor; ",4,"ngIf"],["name","state","required","","formControlName","state",1,"full-width","default-background",3,"selectionChange"],["state",""],["name","city","required","","formControlName","city",1,"full-width","default-background"],["city",""],["type","text","matInput","","name","zipCode","onlyNumber","","required","","minlength","5","maxlength","10","formControlName","zipCode",1,"full-width","default-background",3,"keyup"],["zipCode",""],["style","color: #E74C3C;",4,"ngIf"],[2,"font-size","18px"],[2,"color","errorColor"],[3,"value"],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(u.Xb(0,"div",0),u.Xb(1,"mat-icon",1),u.fc("click",function(){return e.close()}),u.Tc(2,"close"),u.Wb(),u.Wb(),u.Xb(3,"h1"),u.Tc(4,"Contact Information"),u.Wb(),u.Xb(5,"mat-dialog-content"),u.Xb(6,"form",2),u.Xb(7,"div",3),u.Rc(8,at,64,15,"div",4),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"div",5),u.Xb(10,"button",6),u.fc("click",function(){return e.onSubmit()}),u.Tc(11,"Save"),u.Wb(),u.Tc(12," \xa0\xa0\xa0 "),u.Xb(13,"button",7),u.fc("click",function(){return e.close()}),u.Tc(14," Cancel "),u.Wb(),u.Wb()),2&t&&(u.Eb(6),u.rc("formGroup",e.contactInfoUpdateForm),u.Eb(2),u.rc("ngForOf",e.contactInfoUpdateForm.get("userAddress_array").controls),u.Eb(2),u.rc("disabled",e.contactInfoUpdateForm.invalid))},directives:[b.e,b.d,f.a,c.e,l.A,l.s,l.j,l.e,s.m,b.f,W.b,l.k,s.n,b.b,m.f,p.a,v.b,l.c,l.r,l.i,l.m,l.y,g.a,h.n,x.a,l.n,m.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),it),st=a("ZbbW"),lt=a("35u7"),ut=((ot=function(){function t(r,n,a,i,o){e(this,t),this.ls=r,this.data=n,this.formBuilder=a,this.dialogRef=i,this.doOcrService=o,this.screenInfo={screenName:"onboarding",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"onboarding",data:this.data,customerId:this.customerId,isEdit:!0},this.doOcrService.getenableNext().subscribe(function(e){console.log("data disableNextAtIndex1 :: ",e),t.disableNextAtIndex1=e})}},{key:"createDocItemOthers",value:function(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||ot)(u.Rb(o.a),u.Rb(c.a),u.Rb(l.f),u.Rb(c.g),u.Rb(st.a))},ot.\u0275cmp=u.Lb({type:ot,selectors:[["app-update-proof-of-identity"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(u.Xb(0,"div",0),u.Xb(1,"mat-icon",1),u.fc("click",function(){return e.close()}),u.Tc(2,"close"),u.Wb(),u.Wb(),u.Xb(3,"h3",2),u.Tc(4,"Proof Of Identity"),u.Wb(),u.Xb(5,"mat-card"),u.Sb(6,"app-genric-document-upload",3),u.Wb(),u.Xb(7,"div",4),u.Xb(8,"button",5),u.fc("click",function(){return e.onSubmit()}),u.Tc(9,"Save"),u.Wb(),u.Tc(10," \xa0\xa0\xa0 "),u.Xb(11,"button",6),u.fc("click",function(){return e.close()}),u.Tc(12," Cancel "),u.Wb(),u.Wb()),2&t&&(u.Eb(6),u.rc("screenInfo",e.screenInfo),u.Eb(2),u.rc("disabled",e.disableNextAtIndex1))},directives:[b.e,b.d,f.a,p.a,lt.a,b.f,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),ot);function dt(t,e){if(1&t&&(u.Xb(0,"mat-option",19),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function bt(t,e){1&t&&(u.Xb(0,"mat-error"),u.Tc(1," \xa0 \xa0 Select Employment Type "),u.Wb())}function ft(t,e){if(1&t&&(u.Xb(0,"mat-option",19),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function mt(t,e){1&t&&(u.Xb(0,"mat-error"),u.Tc(1," \xa0 \xa0 Select Employment Name "),u.Wb())}function pt(t,e){1&t&&(u.Xb(0,"mat-error"),u.Tc(1," \xa0 \xa0 Enter the Employer Name "),u.Wb())}function gt(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div",4),u.Xb(1,"mat-hint",5),u.Tc(2," Other Employer Name*"),u.Wb(),u.Xb(3,"mat-card",6),u.Xb(4,"input",20),u.fc("keypress",function(t){return u.Hc(r),u.jc().letterOnly(t)}),u.Wb(),u.Wb(),u.Rc(5,pt,2,0,"mat-error",10),u.Wb()}if(2&t){var n=u.jc();u.Eb(5),u.rc("ngIf",n.additionalInfoUpdateForm.controls.otherEmployerName&&n.additionalInfoUpdateForm.controls.otherEmployerName.touched&&!n.additionalInfoUpdateForm.controls.otherEmployerName.valid)}}function ht(t,e){if(1&t&&(u.Xb(0,"mat-option",19),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}var vt,yt=((vt=function(){function t(r,n,a,i,o){e(this,t),this.additionalInfo=r,this.dialogRef=n,this.formBuilder=a,this.apiService=i,this.ls=o,this.kycList=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED","VERIFIED"]}return n(t,[{key:"ngOnInit",value:function(){console.log(this.additionalInfo),this.customerId=this.ls.getItem("customerId"),this.getEmploymentType("employment_type"),this.getEmployerName("employer_name"),this.additionalInfo?(this.buildAdditionalInfoForm(this.additionalInfo),this.OnInput(this.additionalInfoUpdateForm.get("salary").value)):this.buildAdditionalInfoForm()}},{key:"buildAdditionalInfoForm",value:function(t){this.additionalInfoUpdateForm=this.formBuilder.group({employmentType:[t?t.employmentType:"",[l.z.required]],employerName:[t?t.employerName:"",[l.z.required]],otherEmployerName:[t?t.otherEmployerName:""],salary:[t?t.salary:"",[l.z.required]],kycReference:[t?t.kycReference:"",[l.z.required]],kycStatus:[t?t.kycStatus:"",[l.z.required]]})}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t,console.log(e.arrayEmploymentType)})}},{key:"getEmployerName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmployerName=t})}},{key:"OnInput",value:function(t){var e=t.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var r=e.join(".");console.log("final",r),this.additionalInfoUpdateForm.controls.salary.setValue(r)}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.customerAdditionalInfo=this.additionalInfoUpdateForm.value,e.customerAdditionalInfo.salary=e.customerAdditionalInfo.salary.replaceAll(",",""),this.apiService.insertNewUserOnboarding(e).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.additionalInfoUpdateForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||vt)(u.Rb(c.a),u.Rb(c.g),u.Rb(l.f),u.Rb(i.b),u.Rb(o.a))},vt.\u0275cmp=u.Lb({type:vt,selectors:[["app-update-additional-info"]],decls:57,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],[2,"font-size","18px"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","employmentType","required","","formControlName","employmentType"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employerName","formControlName","employerName","required",""],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["type","text","formControlName","salary","maxLength","14","required","","matInput","","name","salary",3,"keypress","keyup"],["readonly","true","type","text","formControlName","kycReference","matInput","","name","kycReference","maxLength","4"],["formControlName","kycStatus","read",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["required","","type","text","matInput","","formControlName","otherEmployerName",3,"keypress"]],template:function(t,e){1&t&&(u.Xb(0,"div",0),u.Xb(1,"mat-icon",1),u.fc("click",function(){return e.close()}),u.Tc(2,"close"),u.Wb(),u.Wb(),u.Xb(3,"h1"),u.Tc(4,"Additional Information"),u.Wb(),u.Xb(5,"mat-dialog-content"),u.Xb(6,"form",2),u.Xb(7,"div"),u.Xb(8,"h3",3),u.Tc(9,"Employment Information"),u.Wb(),u.Xb(10,"div"),u.Xb(11,"div",4),u.Xb(12,"mat-hint",5),u.Tc(13,"Employment Type*"),u.Wb(),u.Xb(14,"mat-card",6),u.Xb(15,"mat-select",7),u.Xb(16,"mat-option",8),u.Tc(17,"Select"),u.Wb(),u.Rc(18,dt,2,2,"mat-option",9),u.Wb(),u.Wb(),u.Rc(19,bt,2,0,"mat-error",10),u.Wb(),u.Xb(20,"div",4),u.Xb(21,"mat-hint",5),u.Tc(22,"Employer Name*"),u.Wb(),u.Xb(23,"mat-card",6),u.Xb(24,"mat-select",11),u.Xb(25,"mat-option",8),u.Tc(26,"Select"),u.Wb(),u.Rc(27,ft,2,2,"mat-option",9),u.Wb(),u.Wb(),u.Rc(28,mt,2,0,"mat-error",10),u.Wb(),u.Rc(29,gt,6,1,"div",12),u.Xb(30,"div",4),u.Xb(31,"mat-hint",5),u.Tc(32,"Salary*"),u.Wb(),u.Xb(33,"mat-card",6),u.Xb(34,"input",13),u.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.OnInput(t.target.value)}),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(35,"h3",3),u.Tc(36,"KYC Information"),u.Wb(),u.Xb(37,"div"),u.Xb(38,"div",4),u.Xb(39,"mat-hint",5),u.Tc(40,"KYC Reference"),u.Wb(),u.Xb(41,"mat-card",6),u.Sb(42,"input",14),u.Wb(),u.Wb(),u.Xb(43,"div",4),u.Xb(44,"mat-hint",5),u.Tc(45,"KYC Status"),u.Wb(),u.Xb(46,"mat-card",6),u.Xb(47,"mat-select",15),u.Xb(48,"mat-option",8),u.Tc(49,"Select "),u.Wb(),u.Rc(50,ht,2,2,"mat-option",9),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(51,"div",16),u.Xb(52,"button",17),u.fc("click",function(){return e.onSubmit()}),u.Tc(53,"Save"),u.Wb(),u.Tc(54,"\n\xa0\xa0\xa0\n"),u.Xb(55,"button",18),u.fc("click",function(){return e.close()}),u.Tc(56,"\nCancel\n"),u.Wb(),u.Wb()),2&t&&(u.Eb(6),u.rc("formGroup",e.additionalInfoUpdateForm),u.Eb(12),u.rc("ngForOf",e.arrayEmploymentType),u.Eb(1),u.rc("ngIf",e.additionalInfoUpdateForm.controls.employmentType&&e.additionalInfoUpdateForm.controls.employmentType.touched&&!e.additionalInfoUpdateForm.controls.employmentType.valid),u.Eb(8),u.rc("ngForOf",e.arrayEmployerName),u.Eb(1),u.rc("ngIf",e.additionalInfoUpdateForm.controls.employerName&&e.additionalInfoUpdateForm.controls.employerName.touched&&!e.additionalInfoUpdateForm.controls.employerName.valid),u.Eb(1),u.rc("ngIf","Others"==(null==e.additionalInfoUpdateForm.controls.employerName?null:e.additionalInfoUpdateForm.controls.employerName.value)),u.Eb(21),u.rc("ngForOf",e.kycList),u.Eb(2),u.rc("disabled",e.additionalInfoUpdateForm.invalid))},directives:[b.e,b.d,f.a,c.e,l.A,l.s,l.j,b.b,m.f,p.a,g.a,l.y,l.r,l.i,h.n,s.m,s.n,l.c,v.b,b.f,W.b,m.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),vt),xt=a("IheW"),Wt=a("laYw"),Et=a("zdtB"),Xt=a("JVXa");function St(t,e){if(1&t&&(u.Xb(0,"mat-option",18),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.rc("value",r),u.Eb(1),u.Vc(" ",r," ")}}function It(t,e){1&t&&(u.Xb(0,"mat-error"),u.Tc(1," \xa0 \xa0 Enter No of Signatures "),u.Wb())}function Tt(t,e){1&t&&(u.Xb(0,"div"),u.Sb(1,"img",31),u.Wb()),2&t&&(u.Eb(1),u.rc("src","assets/images/no-image.jpg",u.Jc))}function Rt(t,e){if(1&t&&u.Sb(0,"img",32),2&t){var r=u.jc().$implicit;u.rc("src",r.value.imageURL1,u.Jc)}}function Ct(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",19),u.Xb(2,"div",20),u.Xb(3,"div",6),u.Xb(4,"div",21),u.Xb(5,"div"),u.Xb(6,"div",22),u.Xb(7,"div"),u.Xb(8,"button",23),u.fc("click",function(){u.Hc(r);var t=e.$implicit,n=e.index;return u.jc().openPopUp(t.value,n)}),u.Tc(9,"Digital Sign"),u.Wb(),u.Xb(10,"button",24),u.Tc(11," Upload "),u.Xb(12,"input",25),u.fc("change",function(t){u.Hc(r);var n=e.$implicit,a=e.index;return u.jc().onFileSelect(n.value,t,a)}),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"div",26),u.Rc(14,Tt,2,1,"div",27),u.Rc(15,Rt,1,1,"ng-template",null,28,u.Sc),u.Wb(),u.Xb(17,"button",29),u.fc("click",function(){u.Hc(r);var t=e.$implicit,n=e.index;return u.jc().deleteSignature(t.value,n,"delete")}),u.Xb(18,"mat-icon",30),u.Tc(19," delete "),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=e.index,a=u.Dc(16),i=u.jc();u.Eb(1),u.rc("formGroupName",n),u.Eb(13),u.rc("ngIf","not_available"==i.imageURL1)("ngIfElse",a)}}var Ot,Nt=((Ot=function(){function t(r,n,a,i,o,c,s,l,u,d){e(this,t),this.dialogRef=r,this.formBuilder=n,this.signatures=a,this.apiService=i,this.corporateService=o,this.ls=c,this.dialog=s,this.dialogService=l,this.snack=u,this.cdr=d,this.values=[1,2,3,4,5],this.listOfSignatures=[],this.progressValOthers=0,this.deleteRecord=[]}return n(t,[{key:"ngOnInit",value:function(){if(this.ls.getItem("corporateId"),this.signatures){this.buildSignatureForm(),this.noOfSignSelect=this.signatures.length,this.signatureUpdateForm.get("noOfSignatures").setValue(this.signatures.length);for(var t=0;t<this.signatures.length;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(this.signatures[t]))}}},{key:"buildSignatureForm",value:function(t){this.signatureUpdateForm=this.formBuilder.group({noOfSignatures:[t?t.noOfSignatures:"",[l.z.required]],sign_array:this.formBuilder.array([])})}},{key:"createSignatureBoxes",value:function(t){return this.formBuilder.group({accountSignatureId:t?t.accountSignatureId:0,imageURL1:[t?t.fileUrl:"assets/images/no-image.jpg",l.z.required],documentName:t?t.documentName:"Signature",documentType:t?t.documentType:"",fileType:t.fileType,fileName:t.fileName,verificationType:t?t.verificationType:"New Customer Signature"})}},{key:"getSignArray",get:function(){return this.signatureUpdateForm.get("sign_array")}},{key:"changeValue",value:function(t){var e=this;if(this.noOfSignSelect=t.value,this.enableButton=!1,null==this.signatureUpdateForm.get("sign_array")||null==this.getSignArray)if(0!=this.signatureUpdateForm.get("sign_array").length){if(this.noOfSignSelect>this.signatureUpdateForm.get("sign_array").length)for(var r=this.noOfSignSelect-this.signatureUpdateForm.get("sign_array").length,n=0;n<r;n++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(this.noOfSignSelect<this.signatureUpdateForm.get("sign_array").length){r=this.signatureUpdateForm.get("sign_array").length-this.noOfSignSelect;for(var a=0;a<r;a++)this.signatureUpdateForm.get("sign_array").controls.pop()}}else for(var i=0;i<t.value;i++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(0==this.getSignArray.length)for(var o=0;o<t.value;o++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(t.value<this.getSignArray.length)this.dialogService.doConfirmDialog("Are you sure, value is less than no. of signs?").subscribe(function(r){if("Yes"===r)for(var n=e.getSignArray.length;n>=t.value;n--)e.removeSign(n),n>t.value&&e.deleteSignature(e.signatureUpdateForm.get("sign_array").at(n-1).value,n,"noOfSignChange",t.value)});else if(t.value>this.getSignArray.length){console.log("2nd if",t.value),this.difference=t.value-this.getSignArray.length;for(var c=0;c<this.difference;c++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}}},{key:"removeSign",value:function(t){this.signatureUpdateForm.get("sign_array").removeAt(t)}},{key:"deleteSignature",value:function(t,e,r,n){var a=this;"delete"===r?this.dialogService.doConfirmDialog("").subscribe(function(n){"Yes"===n?(console.log("yes => ",n),a.confirmDelete(t,e,r,a.signatureUpdateForm.controls.noOfSignatures.value-1)):console.log("no => ",n)}):this.confirmDelete(t,e,r,this.signatureUpdateForm.controls.noOfSignatures.value-1)}},{key:"confirmDelete",value:function(t,e,r,n){var a=this;this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(r){if(console.log(r),a.listOfSignatures=r||[],a.deleteRecord=r,a.apiService.getSignData().subscribe(function(t){a.signatureUpdateForm.get("sign_array").controls[e].accountSignatureId=t.uploadModel.accountSignatureId}),t.imageURL1.toString().includes("no-image.jpg"))return a.signatureUpdateForm.get("sign_array").controls.splice(e,1),a.signatureUpdateForm.controls.noOfSignatures.setValue(a.signatureUpdateForm.controls.noOfSignatures.value-1),a.noOfSignSelect=a.signatureUpdateForm.controls.noOfSignatures.value,void(a.enableButton=a.sign_array.length==a.signatureUpdateForm.controls.noOfSignatures.value);0!=a.deleteRecord[e].accountSignatureId&&null!=a.deleteRecord[e].accountSignatureId&&null!=a.deleteRecord[e].accountSignatureId&&""!=a.deleteRecord[e].accountSignatureId&&(a.apiService.deleteCustomerSign(a.deleteRecord[e].accountSignatureId).subscribe(function(t){},function(t){a.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(t){a.listOfSignatures=t||[],a.sign_array=t,a.enableButton=a.sign_array.length==a.signatureUpdateForm.controls.noOfSignatures.value&&(0!==a.listOfSignatures.length||0!==a.signatureUpdateForm.controls.noOfSignatures.value)})}),a.signatureUpdateForm.get("sign_array").controls.splice(e,1),a.signatureUpdateForm.controls.noOfSignatures.setValue(a.signatureUpdateForm.controls.noOfSignatures.value-1),a.noOfSignSelect=a.signatureUpdateForm.controls.noOfSignatures.value)})}},{key:"openPopUp",value:function(t,e,r){var n,a=this;this.signIndex=e,this.customerId=localStorage.getItem("customerId"),this.signCount=localStorage.getItem("noOfSign"),this.accountSignatureId=t.accountSignatureId?t.accountSignatureId:null,this.enableButton=!1,1==this.listOfSignatures.length&&0==e?this.accountSignatureId=this.listOfSignatures[e].accountSignatureId:e>=0&&this.listOfSignatures.length>1?this.accountSignatureId=(null===(n=this.listOfSignatures[e])||void 0===n?void 0:n.accountSignatureId)?this.listOfSignatures[e].accountSignatureId:0:(console.log("else"),this.accountSignatureId=0),this.show||this.dialog.open(Et.a,{width:"720px",disableClose:!0,data:{screen:"NewCustomerOnboarding",customerId:this.customerId,signCount:this.signatureUpdateForm.get("noOfSignatures").value,accountSignatureId:this.accountSignatureId,signatureType:"DigitalSign"}}).afterClosed().subscribe(function(t){null!=t.image?(a.enableButton=!0,a.signatureUpdateForm.get("sign_array").at(e).get("imageURL1").patchValue(t.image),a.show=!t.enable,a.getListOfSignatures(a.customerId,"Yes")):a.enableButton=!1})}},{key:"getListOfSignatures",value:function(t,e){var r=this;this.apiService.fetchSignatureInfo(t).subscribe(function(t){"Yes"===e&&(r.signatureUpdateForm.get("sign_array").controls[r.signIndex].accountSignatureId=t[t.length-1].accountSignatureId),r.listOfSignatures=t||[],r.cdr.detectChanges(),r.signatureUpdateForm.get("noOfSignatures").setValue(r.noOfSignSelect),r.enableButton=r.listOfSignatures.length==r.noOfSignSelect})}},{key:"onFileSelect",value:function(t,e,r){var n=this;if(this.apiService.fetchSignatureInfo(this.customerId).subscribe(function(t){}),this.selectedFiles=e.target.files[0],e.target.files){var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=function(t){n.signatureimg=t.target.result,console.log(n.signatureimg,"Upload image")},console.log(this.signatureimg),this.uploadDoc(t,e.target.files[0],this.selectedFiles,r,e),console.log("sign array -- ",this.signatureUpdateForm.get("sign_array"))}}},{key:"uploadDoc",value:function(t,e,r,n,a){var i=this;if(a.target.files){var o=new FileReader;o.readAsDataURL(a.target.files[0]),o.onload=function(t){i.signatureimg=t.target.result,i.customerId=localStorage.getItem("customerId"),i.signCount=i.signatureUpdateForm.get("noOfSignatures").value;var a=new FormData,o=new FormData;1==i.listOfSignatures.length&&0==n?(console.log("if"),i.accountSignatureId=i.listOfSignatures[n].accountSignatureId):n>=0&&1!=i.listOfSignatures.length?(console.log(" else if"),i.accountSignatureId=i.listOfSignatures[n].accountSignatureId):(console.log("else"),i.accountSignatureId=0);var c={noOfSignatures:i.signCount,accountSignatureId:i.accountSignatureId,documentName:"Signature",customerId:i.customerId,documentType:"10",fileType:e.type,fileName:e.name,verificationType:"New Customer Signature",signatureType:"Uploaded Sign"};a.append("noOfSignatures",i.signCount),a.append("uploadModel",JSON.stringify(c)),a.append("file",r);var s='{"noOfSignatures":'+i.signCount+', "uploadModel":'+JSON.stringify(c)+" } ";o.append("data",s),o.append("file",r),i.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(i.signatureimg),i.uploadSub=i.apiService.uploadSignature(o).subscribe(function(t){null!==t&&(i.signatureUpdateForm.get("sign_array").at(n).get("accountSignatureId").patchValue(t.accountSignatureId),i.signatureUpdateForm.get("sign_array").at(n).get("documentName").patchValue(t.documentName),i.signatureUpdateForm.get("sign_array").at(n).get("documentType").patchValue(t.documentType),i.signatureUpdateForm.get("sign_array").at(n).get("fileType").patchValue(t.fileType),i.signatureUpdateForm.get("sign_array").at(n).get("fileName").patchValue(t.fileName),i.signatureUpdateForm.get("sign_array").at(n).get("verificationType").patchValue(t.verificationType),i.signatureUpdateForm.get("noOfSignatures").patchValue(t.noOfSignatures),console.log(i.signatureUpdateForm)),i.getListOfSignatures(i.customerId,"No"),t.type==xt.e.UploadProgress?i.progressValOthers=Math.round(t.loaded/t.total*100):t.type==xt.e.Response&&(i.progressValOthers=0)},function(t){201==t.status?i.shotToast("Document Uploaded!"):(i.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(""),i.shotToast(t.message))})}}}},{key:"onSubmit",value:function(){this.snack.open("Signature Updated","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.signatureUpdateForm.get("sign_array").value,screen:"signatureUpload"})}},{key:"shotToast",value:function(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Ot)(u.Rb(c.g),u.Rb(l.f),u.Rb(c.a),u.Rb(i.b),u.Rb(Xt.a),u.Rb(o.a),u.Rb(c.b),u.Rb(Wt.a),u.Rb(d.a),u.Rb(u.h))},Ot.\u0275cmp=u.Lb({type:Ot,selectors:[["app-update-mandate-info"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[2,"font-size","16px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","36%","fxFlex.xs","100%"],[2,"padding-left","0.8rem","font-size","10px"],[1,"inputCard"],["name","noOfSignatures","formControlName","noOfSignatures","placeholder","Choose No. of Signatures","required","",1,"full-width","default-background",2,"font-size","16px","border","transparent",3,"selectionChange"],["noOfSignatures",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","sign_array"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],[1,"form"],[1,"flex-grow-2"],["appearence","outline",1,"scanButton",3,"click"],[1,"Upload","scanButton"],["type","file","accept","image/*","required","",1,"changeInput",3,"change"],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","",2,"margin-left","10px","margin-top","30px",3,"click"],[2,"color","red"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(u.Xb(0,"div",0),u.Xb(1,"mat-icon",1),u.fc("click",function(){return e.close()}),u.Tc(2,"close"),u.Wb(),u.Wb(),u.Xb(3,"h1",2),u.Tc(4,"Mandate Information"),u.Wb(),u.Xb(5,"mat-dialog-content"),u.Xb(6,"h3",3),u.Tc(7," Signatures "),u.Wb(),u.Xb(8,"form",4),u.Xb(9,"div",5),u.Xb(10,"div",6),u.Xb(11,"mat-hint",7),u.Tc(12," No. of Signatures* "),u.Wb(),u.Xb(13,"mat-card",8),u.Xb(14,"mat-select",9,10),u.fc("selectionChange",function(t){return e.changeValue(t)}),u.Rc(16,St,2,2,"mat-option",11),u.Wb(),u.Wb(),u.Rc(17,It,2,0,"mat-error",12),u.Wb(),u.Wb(),u.Xb(18,"div",13),u.Rc(19,Ct,20,3,"div",14),u.Wb(),u.Wb(),u.Wb(),u.Xb(20,"div",15),u.Xb(21,"button",16),u.fc("click",function(){return e.onSubmit()}),u.Tc(22,"Save"),u.Wb(),u.Tc(23," \xa0\xa0\xa0 "),u.Xb(24,"button",17),u.fc("click",function(){return e.close()}),u.Tc(25," Cancel "),u.Wb(),u.Wb()),2&t&&(u.Eb(8),u.rc("formGroup",e.signatureUpdateForm),u.Eb(8),u.rc("ngForOf",e.values),u.Eb(1),u.rc("ngIf",e.signatureUpdateForm.controls.noOfSignatures&&e.signatureUpdateForm.controls.noOfSignatures.touched&&!e.signatureUpdateForm.controls.noOfSignatures.valid),u.Eb(2),u.rc("ngForOf",e.signatureUpdateForm.get("sign_array").controls))},directives:[b.e,b.d,f.a,c.h,c.e,l.A,l.s,l.j,b.b,m.f,p.a,g.a,l.r,l.i,l.y,s.m,s.n,l.e,b.f,W.b,h.n,m.b,l.k],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}.padding[_ngcontent-%COMP%]{padding:10px}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.formImg[_ngcontent-%COMP%]{background-color:#f8f8f8}.closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Ot),kt=a("vSAV"),Pt=a("nZzT"),At=a("cUpR"),Dt=a("pu8Q"),wt=a("BSbQ"),_t=a("ura0");function Ft(t,e){1&t&&u.Sb(0,"mat-spinner")}function Ut(t,e){if(1&t&&(u.Xb(0,"span",26),u.Tc(1),u.Wb()),2&t){var r=e.$implicit;u.Eb(1),u.Uc(r)}}function Lt(t,e){if(1&t&&(u.Xb(0,"div",27),u.Xb(1,"h1",28),u.Tc(2),u.kc(3,"slice"),u.kc(4,"uppercase"),u.kc(5,"slice"),u.kc(6,"uppercase"),u.Wb(),u.Wb()),2&t){var r=u.jc();u.Oc("background",r.customerColorCode),u.Eb(2),u.Wc("",u.nc(3,4,u.lc(4,8,r.dataResponse.dataResp.firstName),0,1),"",u.nc(5,10,u.lc(6,14,r.dataResponse.dataResp.lastName),0,1),"")}}function Mt(t,e){if(1&t&&u.Sb(0,"img",30),2&t){var r=u.jc(2);u.rc("src",r.imageUrl,u.Jc)}}function jt(t,e){if(1&t&&(u.Xb(0,"div",27),u.Rc(1,Mt,1,1,"img",29),u.Wb()),2&t){var r=u.jc();u.Eb(1),u.rc("ngIf",null!=r.image)}}function zt(t,e){if(1&t&&(u.Xb(0,"div",52),u.Xb(1,"mat-hint",50),u.Tc(2," Middle Name "),u.Wb(),u.Xb(3,"mat-card",51),u.Xb(4,"div"),u.Tc(5),u.Wb(),u.Wb(),u.Wb()),2&t){var r=u.jc(2);u.Eb(5),u.Uc(r.dataResponse.dataResp.middleName)}}function Vt(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div",31),u.Xb(1,"div",32),u.Xb(2,"div",33),u.Tc(3,"1"),u.Wb(),u.Xb(4,"div",34),u.Tc(5,"\xa0"),u.Wb(),u.Wb(),u.Xb(6,"mat-card",35),u.Xb(7,"div",36),u.Xb(8,"div",37),u.Xb(9,"div",38),u.Xb(10,"h2",39),u.Tc(11,"Primary Information"),u.Wb(),u.Xb(12,"span"),u.Xb(13,"mat-icon",40),u.fc("click",function(){return u.Hc(r),u.jc().editPrimaryInfo()}),u.Tc(14,"edit"),u.Wb(),u.Wb(),u.Wb(),u.Sb(15,"mat-divider",41),u.Wb(),u.Xb(16,"div",42),u.Xb(17,"div",43),u.Xb(18,"div",44),u.Xb(19,"div",45),u.Xb(20,"div",46),u.Xb(21,"div",47),u.Xb(22,"div",48),u.Xb(23,"div",49),u.Xb(24,"mat-hint",50),u.Tc(25," Customer Id "),u.Wb(),u.Xb(26,"mat-card",51),u.Xb(27,"div"),u.Tc(28),u.Wb(),u.Wb(),u.Wb(),u.Xb(29,"div",49),u.Xb(30,"mat-hint",50),u.Tc(31," CIF Number "),u.Wb(),u.Xb(32,"mat-card",51),u.Xb(33,"div"),u.Tc(34),u.Wb(),u.Wb(),u.Wb(),u.Xb(35,"div",49),u.Xb(36,"mat-hint",50),u.Tc(37," Customer Status "),u.Wb(),u.Xb(38,"mat-card",51),u.Xb(39,"div"),u.Tc(40),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(41,"div",48),u.Xb(42,"div",52),u.Xb(43,"mat-hint",50),u.Tc(44," Prefix* "),u.Wb(),u.Xb(45,"mat-card",51),u.Xb(46,"div"),u.Tc(47),u.Wb(),u.Wb(),u.Wb(),u.Xb(48,"div",52),u.Xb(49,"mat-hint",50),u.Tc(50," First Name* "),u.Wb(),u.Xb(51,"mat-card",51),u.Xb(52,"div"),u.Tc(53),u.Wb(),u.Wb(),u.Wb(),u.Rc(54,zt,6,1,"div",53),u.Xb(55,"div",52),u.Xb(56,"mat-hint",50),u.Tc(57," Last Name* "),u.Wb(),u.Xb(58,"mat-card",51),u.Xb(59,"div"),u.Tc(60),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(61,"div",48),u.Xb(62,"div",52),u.Xb(63,"mat-hint",50),u.Tc(64," Gender* "),u.Wb(),u.Xb(65,"mat-card",51),u.Xb(66,"div"),u.Tc(67),u.Wb(),u.Wb(),u.Wb(),u.Xb(68,"div",52),u.Xb(69,"mat-hint",50),u.Tc(70," Date of Birth* "),u.Wb(),u.Xb(71,"mat-card",51),u.Xb(72,"div"),u.Tc(73),u.Wb(),u.Wb(),u.Wb(),u.Xb(74,"div",52),u.Xb(75,"mat-hint",50),u.Tc(76," Marital Status* "),u.Wb(),u.Xb(77,"mat-card",51),u.Xb(78,"div"),u.Tc(79),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(80,"div",42),u.Xb(81,"div",52),u.Xb(82,"mat-hint",50),u.Tc(83," Nationality*"),u.Wb(),u.Xb(84,"mat-card",51),u.Xb(85,"div"),u.Tc(86),u.Wb(),u.Wb(),u.Wb(),u.Xb(87,"div",52),u.Xb(88,"mat-hint",50),u.Tc(89," Mobile Number* "),u.Wb(),u.Xb(90,"mat-card",51),u.Xb(91,"div"),u.Tc(92),u.Wb(),u.Wb(),u.Wb(),u.Xb(93,"div",52),u.Xb(94,"mat-hint",50),u.Tc(95," Email* "),u.Wb(),u.Xb(96,"mat-card",51),u.Xb(97,"div"),u.Tc(98),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(99,"div",42),u.Xb(100,"div",52),u.Xb(101,"mat-hint",50),u.Tc(102," Modification No"),u.Wb(),u.Xb(103,"mat-card",51),u.Xb(104,"div"),u.Tc(105),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=u.jc();u.Eb(13),u.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),u.Eb(15),u.Uc(n.dataResponse.dataResp.customerId),u.Eb(6),u.Uc(n.dataResponse.dataResp.cifNumber),u.Eb(6),u.Uc(n.dataResponse.dataResp.custStatus),u.Eb(7),u.Uc(n.dataResponse.dataResp.prefix),u.Eb(6),u.Uc(n.dataResponse.dataResp.firstName),u.Eb(1),u.rc("ngIf",n.dataResponse.dataResp.middleName),u.Eb(6),u.Uc(n.dataResponse.dataResp.lastName),u.Eb(7),u.Uc(n.dataResponse.dataResp.gender),u.Eb(6),u.Uc(n.dataResponse.dataResp.dateOfBirth),u.Eb(6),u.Uc(n.dataResponse.dataResp.maritalStatus),u.Eb(7),u.Uc(n.dataResponse.dataResp.nationality),u.Eb(6),u.Uc(n.dataResponse.dataResp.phoneNumber),u.Eb(6),u.Uc(n.dataResponse.dataResp.primaryEmailAdress),u.Eb(7),u.Uc(n.dataResponse.dataResp.modificationNo)}}function Bt(t,e){if(1&t&&(u.Xb(0,"div"),u.Xb(1,"div",42),u.Xb(2,"div",43),u.Xb(3,"div",58),u.Xb(4,"div",42),u.Xb(5,"div",59),u.Xb(6,"h2",60),u.Tc(7),u.Wb(),u.Wb(),u.Wb(),u.Xb(8,"div",42),u.Xb(9,"div",61),u.Xb(10,"mat-hint",50),u.Tc(11," Address Line 1* "),u.Wb(),u.Xb(12,"mat-card",51),u.Xb(13,"div"),u.Tc(14),u.Wb(),u.Wb(),u.Wb(),u.Xb(15,"div",61),u.Xb(16,"mat-hint",50),u.Tc(17," Address Line 2* "),u.Wb(),u.Xb(18,"mat-card",51),u.Xb(19,"div"),u.Tc(20),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(21,"div",42),u.Xb(22,"div",62),u.Xb(23,"mat-hint",50),u.Tc(24," Country* "),u.Wb(),u.Xb(25,"mat-card",51),u.Xb(26,"div"),u.Tc(27),u.Wb(),u.Wb(),u.Wb(),u.Xb(28,"div",62),u.Xb(29,"mat-hint",50),u.Tc(30," State* "),u.Wb(),u.Xb(31,"mat-card",51),u.Xb(32,"div"),u.Tc(33),u.Wb(),u.Wb(),u.Wb(),u.Xb(34,"div",62),u.Xb(35,"mat-hint",50),u.Tc(36," City* "),u.Wb(),u.Xb(37,"mat-card",51),u.Xb(38,"div"),u.Tc(39),u.Wb(),u.Wb(),u.Wb(),u.Xb(40,"div",62),u.Xb(41,"mat-hint",50),u.Tc(42," Zipcode* "),u.Wb(),u.Xb(43,"mat-card",51),u.Xb(44,"div"),u.Tc(45),u.Wb(),u.Wb(),u.Wb(),u.Xb(46,"div",62),u.Xb(47,"mat-hint",50),u.Tc(48," Residence Type* "),u.Wb(),u.Xb(49,"mat-card",51),u.Xb(50,"div"),u.Tc(51),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&t){var r=e.$implicit;u.Eb(7),u.Uc(r.addressType),u.Eb(7),u.Uc(r.address1),u.Eb(6),u.Uc(r.address2),u.Eb(7),u.Uc(r.country),u.Eb(6),u.Uc(r.state),u.Eb(6),u.Uc(r.city),u.Eb(6),u.Uc(r.zipCode),u.Eb(6),u.Uc(r.residenceType)}}function Jt(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div",31),u.Xb(1,"div",32),u.Xb(2,"div",33),u.Tc(3,"2"),u.Wb(),u.Xb(4,"div",34),u.Tc(5,"\xa0"),u.Wb(),u.Wb(),u.Xb(6,"mat-card",54),u.Xb(7,"div",36),u.Xb(8,"div",55),u.Xb(9,"div",56),u.Xb(10,"div",38),u.Xb(11,"h2",39),u.Tc(12,"Contact Information"),u.Wb(),u.Xb(13,"span"),u.Xb(14,"mat-icon",40),u.fc("click",function(){return u.Hc(r),u.jc().editContactInfo()}),u.Tc(15,"edit"),u.Wb(),u.Wb(),u.Wb(),u.Sb(16,"mat-divider",41),u.Wb(),u.Rc(17,Bt,52,8,"div",57),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=u.jc();u.Eb(14),u.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),u.Eb(3),u.rc("ngForOf",n.userAddress_array)}}function Gt(t,e){1&t&&(u.Xb(0,"small",66),u.Tc(1,"No Data Found"),u.Wb())}function qt(t,e){if(1&t&&(u.Xb(0,"div",45),u.Xb(1,"div",52),u.Xb(2,"mat-hint",50),u.Tc(3," Document type* "),u.Wb(),u.Xb(4,"mat-card",51),u.Xb(5,"div"),u.Tc(6),u.Wb(),u.Wb(),u.Wb(),u.Xb(7,"div",52),u.Xb(8,"div",68),u.Sb(9,"img",69),u.Xb(10,"div"),u.Tc(11),u.Wb(),u.Wb(),u.Wb(),u.Xb(12,"div",52),u.Xb(13,"div",70),u.Xb(14,"a",71),u.Tc(15,"Download "),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&t){var r=e.$implicit;u.Eb(6),u.Uc(r.documentName),u.Eb(3),u.rc("src",r.fileUrl,u.Jc),u.Eb(2),u.Uc(r.fileName),u.Eb(3),u.sc("href",r.fileUrl,u.Jc)}}function Yt(t,e){if(1&t&&(u.Xb(0,"div"),u.Rc(1,qt,16,4,"div",67),u.Wb()),2&t){var r=u.jc(2);u.Eb(1),u.rc("ngForOf",r.custOtherDoc_array)}}function $t(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div",31),u.Xb(1,"div",32),u.Xb(2,"div",33),u.Tc(3,"3"),u.Wb(),u.Xb(4,"div",34),u.Tc(5,"\xa0"),u.Wb(),u.Wb(),u.Xb(6,"mat-card",63),u.Xb(7,"div",55),u.Xb(8,"div",56),u.Xb(9,"div",38),u.Xb(10,"h2",39),u.Tc(11,"Proof Of Identity"),u.Wb(),u.Xb(12,"span"),u.Xb(13,"mat-icon",40),u.fc("click",function(){return u.Hc(r),u.jc().editProofOfIdentity()}),u.Tc(14,"edit"),u.Wb(),u.Wb(),u.Wb(),u.Sb(15,"mat-divider",41),u.Wb(),u.Xb(16,"div"),u.Xb(17,"div",64),u.Xb(18,"div",58),u.Rc(19,Gt,2,0,"small",65),u.Rc(20,Yt,2,1,"div",1),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=u.jc();u.Eb(13),u.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),u.Eb(6),u.rc("ngIf",null==n.custOtherDoc_array),u.Eb(1),u.rc("ngIf",null!=n.custOtherDoc_array&&(null==n.custOtherDoc_array?null:n.custOtherDoc_array.length)>0)}}function Ht(t,e){if(1&t&&(u.Xb(0,"div",78),u.Xb(1,"mat-hint",50),u.Tc(2," Other Employer name* "),u.Wb(),u.Xb(3,"mat-card",51),u.Tc(4),u.Wb(),u.Wb()),2&t){var r=u.jc(2);u.Eb(4),u.Vc(" ",r.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName," ")}}function Kt(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div",31),u.Xb(1,"div",32),u.Xb(2,"div",33),u.Tc(3,"4"),u.Wb(),u.Xb(4,"div",34),u.Tc(5,"\xa0"),u.Wb(),u.Wb(),u.Xb(6,"mat-card",72),u.Xb(7,"div",55),u.Xb(8,"div",56),u.Xb(9,"div",38),u.Xb(10,"h2",39),u.Tc(11,"Additional Information"),u.Wb(),u.Xb(12,"span"),u.Xb(13,"mat-icon",40),u.fc("click",function(){return u.Hc(r),u.jc().editAdditionalInfo()}),u.Tc(14,"edit"),u.Wb(),u.Wb(),u.Wb(),u.Sb(15,"mat-divider",41),u.Wb(),u.Xb(16,"div"),u.Xb(17,"div",64),u.Xb(18,"div",46),u.Xb(19,"div",73),u.Xb(20,"div",42),u.Xb(21,"div",59),u.Xb(22,"h2",60),u.Tc(23,"Employment Information"),u.Wb(),u.Wb(),u.Wb(),u.Xb(24,"div",42),u.Xb(25,"div",52),u.Xb(26,"mat-hint",50),u.Tc(27," Employment Type* "),u.Wb(),u.Xb(28,"mat-card",51),u.Xb(29,"div"),u.Tc(30),u.Wb(),u.Wb(),u.Wb(),u.Xb(31,"div",52),u.Xb(32,"mat-hint",50),u.Tc(33," Employer Name* "),u.Wb(),u.Xb(34,"mat-card",51),u.Xb(35,"div"),u.Tc(36),u.Wb(),u.Wb(),u.Wb(),u.Rc(37,Ht,5,1,"div",74),u.Xb(38,"div",52),u.Xb(39,"mat-hint",50),u.Tc(40," Salary* "),u.Wb(),u.Xb(41,"mat-card",51),u.Xb(42,"div"),u.Tc(43),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Tc(44,"\xa0\xa0\xa0\xa0 "),u.Xb(45,"div",75),u.Xb(46,"div",42),u.Xb(47,"div",59),u.Xb(48,"h2",60),u.Tc(49,"KYC Information"),u.Wb(),u.Wb(),u.Wb(),u.Xb(50,"div",42),u.Xb(51,"div",61),u.Xb(52,"mat-hint",50),u.Tc(53," KYC Reference* "),u.Wb(),u.Xb(54,"mat-card",51),u.Xb(55,"div"),u.Tc(56),u.Wb(),u.Wb(),u.Wb(),u.Xb(57,"div",61),u.Xb(58,"mat-hint",50),u.Tc(59," KYC Status* "),u.Wb(),u.Xb(60,"mat-card",76),u.Xb(61,"div",77),u.Tc(62),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=u.jc();u.Eb(13),u.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),u.Eb(17),u.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employmentType," "),u.Eb(6),u.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employerName," "),u.Eb(1),u.rc("ngIf",n.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName),u.Eb(6),u.Vc("",n.dataResponse.dataResp.customerAdditionalInfo.salary," "),u.Eb(13),u.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.kycReference," "),u.Eb(6),u.Vc(" ",n.kycStatus," ")}}function Zt(t,e){1&t&&(u.Xb(0,"small",66),u.Tc(1,"No Signatures Available"),u.Wb())}function Qt(t,e){1&t&&(u.Xb(0,"div"),u.Sb(1,"img",86),u.Wb()),2&t&&(u.Eb(1),u.rc("src","assets/images/no-image.jpg",u.Jc))}function te(t,e){if(1&t&&u.Sb(0,"img",87),2&t){var r=u.jc().$implicit;u.rc("src",r.fileUrl,u.Jc)}}function ee(t,e){if(1&t&&(u.Xb(0,"div",42),u.Xb(1,"div"),u.Tc(2),u.Wb(),u.Xb(3,"div",83),u.Rc(4,Qt,2,1,"div",84),u.Rc(5,te,1,1,"ng-template",null,85,u.Sc),u.Wb(),u.Wb()),2&t){var r=e.$implicit,n=u.Dc(6);u.Eb(2),u.Vc(" ",r.signatureType," "),u.Eb(2),u.rc("ngIf",null==r.fileUrl)("ngIfElse",n)}}function re(t,e){if(1&t&&(u.Xb(0,"div"),u.Xb(1,"div"),u.Xb(2,"div"),u.Xb(3,"div"),u.Rc(4,ee,7,3,"div",82),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&t){var r=u.jc(2);u.Eb(4),u.rc("ngForOf",r.signatureDetails_array)}}function ne(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div",31),u.Xb(1,"div",32),u.Xb(2,"div",33),u.Tc(3,"5"),u.Wb(),u.Xb(4,"div",34),u.Tc(5,"\xa0"),u.Wb(),u.Wb(),u.Xb(6,"mat-card",72),u.Xb(7,"div",55),u.Xb(8,"div",56),u.Xb(9,"div",38),u.Xb(10,"h2",39),u.Tc(11,"Mandate Information"),u.Wb(),u.Xb(12,"span"),u.Xb(13,"mat-icon",40),u.fc("click",function(){return u.Hc(r),u.jc().editMandateInfo()}),u.Tc(14,"edit"),u.Wb(),u.Wb(),u.Wb(),u.Sb(15,"mat-divider",41),u.Wb(),u.Xb(16,"div"),u.Xb(17,"div",64),u.Xb(18,"div",46),u.Xb(19,"div",73),u.Sb(20,"div",42),u.Xb(21,"div",42),u.Xb(22,"div",52),u.Xb(23,"mat-hint",50),u.Tc(24," No of Signatures* "),u.Wb(),u.Xb(25,"mat-card",51),u.Xb(26,"div"),u.Tc(27),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Tc(28,"\xa0\xa0\xa0\xa0 "),u.Wb(),u.Wb(),u.Wb(),u.Xb(29,"div",64),u.Xb(30,"div",79),u.Xb(31,"div",80),u.Xb(32,"div",81),u.Xb(33,"h2",60),u.Tc(34,"Signatures"),u.Wb(),u.Wb(),u.Wb(),u.Xb(35,"div"),u.Rc(36,Zt,2,0,"small",65),u.Rc(37,re,5,1,"div",1),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=u.jc();u.Eb(13),u.rc("hidden",n.editScreen||"TELLER_DEP_CREATEACCOUNT"!=n.userType),u.Eb(14),u.Vc(" ",n.noOFSigns," "),u.Eb(9),u.rc("ngIf",null==n.signatureDetails_array),u.Eb(1),u.rc("ngIf",null!=n.signatureDetails_array&&(null==n.signatureDetails_array?null:n.signatureDetails_array.length)>0)}}var ae=function(t,e){return{disabledbtn:t,continueBtn:e}},ie=function(t,e){return{disabledbtn:t,rejectButton:e}},oe=function(t,e){return{disabledbtn:t,approveButton:e}};function ce(t,e){if(1&t){var r=u.Yb();u.Xb(0,"div",88),u.Xb(1,"div",89),u.fc("click",function(){return u.Hc(r),u.jc().continue()}),u.Xb(2,"label",90),u.Tc(3,"Cotinue"),u.Wb(),u.Wb(),u.Xb(4,"div",91),u.fc("click",function(){u.Hc(r);var t=u.jc();return t.updateApplicationStatus(t.dataResponse,"REJECTED")}),u.Xb(5,"mat-icon",92),u.Tc(6," highlight_off "),u.Wb(),u.Tc(7,"\xa0\xa0\xa0 "),u.Xb(8,"label",93),u.Tc(9,"Reject"),u.Wb(),u.Wb(),u.Tc(10," \xa0\xa0 "),u.Xb(11,"div",94),u.fc("click",function(){u.Hc(r);var t=u.jc();return t.updateApplicationStatus(t.dataResponse,"APPROVED")}),u.Xb(12,"mat-icon",95),u.Tc(13,"check_circle"),u.Wb(),u.Tc(14,"\xa0\xa0\xa0 "),u.Xb(15,"label",96),u.Tc(16,"Approve"),u.Wb(),u.Wb(),u.Wb()}if(2&t){var n=u.jc();u.Eb(1),u.rc("hidden",n.continueStatus||"TELLER_DEP_CREATEACCOUNT"!=n.userType)("ngClass",u.yc(6,ae,n.continueStatus,!n.continueStatus)),u.Eb(3),u.rc("hidden",n.rejectedStatus||"TELLER_MANAGER_TASK_SUMMARY"!=n.userType)("ngClass",u.yc(9,ie,n.rejectedStatus,!n.rejectedStatus)),u.Eb(7),u.rc("hidden",n.approvedStatus)("ngClass",u.yc(12,oe,n.approvedStatus,!n.approvedStatus))}}var se,le=((se=function(){function t(r,n,a,i,o,c,s,l,u){e(this,t),this.cdr=r,this.apiService=n,this.ls=a,this.dialogRef=i,this.dataResponse=o,this.sanitizer=c,this.snack=s,this.dialog=l,this.jwtService=u,this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}return n(t,[{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,setTimeout(function(){e.loading=!0,e.customerId=e.dataResponse.dataResp.customerId,e.ls.setItem("customerId",e.customerId),e.getCustomerDocumentsDetails(e.customerId),e.phoneNum=e.dataResponse.dataResp.phoneNumber,e.emailID=e.dataResponse.dataResp.primaryEmailAdress,e.customerColorCode=e.ls.getItem("CustomerColorCode"),e.imageUrl=e.dataResponse.dataResp.profileImage,e.status=e.dataResponse.dataResp.custStatus,e.errorStatus=e.dataResponse.dataResp.custStatus,e.userAddress_array=e.dataResponse.dataResp.userAddress,e.custIdProofs_array=e.dataResponse.dataResp.custIdProofs,"REJECTED"===e.status?(e.rejectedStatus=!0,e.approvedStatus=!0,e.editScreen=!0,e.continueStatus=!0):"INITIATED"===e.status?(e.rejectedStatus=!1,e.approvedStatus=!1,e.editScreen=!0,e.continueStatus=!0):"APPROVED"===e.status?(e.rejectedStatus=!0,e.approvedStatus=!0,e.editScreen=!0,e.continueStatus=!0):"UNDER_PROCESS"===e.status&&(e.rejectedStatus=!1,e.approvedStatus=!0,e.editScreen=!1,e.continueStatus=!1),e.getProfileImage(e.customerId),e.fetchSignatureDetails(e.customerId)},5e3),"NULL"!==this.dataResponse.dataResp.customerAdditionalInfo.kycStatus&&(this.kycStatus=this.dataResponse.dataResp.customerAdditionalInfo.kycStatus)}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.apiService.getCustomerAllDocuments(t,[6,7,8]).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName)})}},{key:"updateApplicationStatus",value:function(t,e,r){var n=this;t.dataResp.customerAdditionalInfo.kycStatus=e,this.statusUpdate=e,this.apiService.updateKycStatusByCustId(t.dataResp.customerId,"",e).subscribe(function(t){null!=t&&(n.cdr.markForCheck(),n.cdr.detectChanges(),1!=r&&n.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),n.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},function(t){n.errorStatus=e,n.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(t){this.statusUpdate=t.recordStatus,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))})}},{key:"fetchSignatureDetails",value:function(t){var e=this;this.apiService.getSignatureDocuments(t).subscribe(function(t){e.noOFSigns=null==t?void 0:t.length,e.signatureDetails_array=t},function(t){console.log(t)})}},{key:"openEditScreen",value:function(t,e){var r=this;this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){r.status=t.status,"INITIATED"==t.status&&(r.updateApplicationStatus(r.dataResponse,"INITIATED",!0),t.screen||Object.assign(e,t.resp),"documentUpload"==t.screen&&r.getCustomerDocumentsDetails(r.customerId),"signatureUpload"==t.screen&&r.fetchSignatureDetails(r.customerId)),r.cdr.markForCheck(),r.cdr.detectChanges()})}},{key:"editPrimaryInfo",value:function(){this.openEditScreen(V,this.dataResponse.dataResp)}},{key:"editContactInfo",value:function(){this.openEditScreen(ct,this.userAddress_array)}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(ut,this.proofDoc_array)}},{key:"editAdditionalInfo",value:function(){this.openEditScreen(yt,this.dataResponse.dataResp.customerAdditionalInfo)}},{key:"editMandateInfo",value:function(){this.openEditScreen(Nt,this.signatureDetails_array)}},{key:"continue",value:function(){this.ls.setItem("customerId",this.dataResponse.dataResp.customerId),this.ls.setItem("currentKycTabIndex",0),window.open("".concat(kt.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=INDIVIDUALONBOARDING&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||se)(u.Rb(u.h),u.Rb(i.b),u.Rb(o.a),u.Rb(c.g),u.Rb(c.a),u.Rb(At.b),u.Rb(d.a),u.Rb(c.b),u.Rb(Pt.a))},se.\u0275cmp=u.Lb({type:se,selectors:[["app-cust-on-boarding-approver"]],decls:55,vars:18,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["class","headerimg","alt","",3,"src",4,"ngIf"],["alt","",1,"headerimg",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Primary Information",1,"brw_800"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width","p_1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[1,"fs_18"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width","p_0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0","field_card"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width","pb_1"],["fxLayout","row wrap",1,"full-width","p_5r"],["fxFlex","31%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["label","Contact Information",1,"brw_800"],[1,"full-width","p_1"],[1,"pb_1"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0","field_card_nowidth"],["fxFlex","40%","fxFlex.xs","50%",1,"p_5r"],[1,"fs_16"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["label","Proof Of Identity",1,"brw_800"],[1,"p_1_0"],["class","c_grey",4,"ngIf"],[1,"c_grey"],["class","full-width",4,"ngFor","ngForOf"],[1,"text_center_align"],["required","","alt","",1,"formImg2",3,"src"],[1,"mt-35"],["download","",1,"hyperlink",3,"href"],["label","Other Information",1,"brw_800"],["fxFlex","59%","fxFlex.xs","100%",1,"mat-elevation-z0","field_card_nowidth"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","39%","fxFlex.xs","100%",1,"mat-elevation-z0","field_card_nowidth"],[1,"mat1","w-98_per"],[1,"mat11"],["fxFlex","40%","fxFlex.xs","100%"],["fxFlex","100%","fxFlex.xs","100%",1,"mat-elevation-z0","field_card_nowidth"],["fxLayout","row","fxLayoutAlign","space-between center",1,"p_1_0"],["fxFlex","15%","fxFlex.xs","50%"],["fxLayout","row wrap","class","full-width p_0",4,"ngFor","ngForOf"],[1,"imgCard"],[4,"ngIf","ngIfElse"],["showAvatar",""],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(u.Xb(0,"div"),u.Xb(1,"div",0),u.Rc(2,Ft,1,0,"mat-spinner",1),u.Wb(),u.Xb(3,"div",2),u.Xb(4,"div"),u.Xb(5,"div",3),u.Xb(6,"div"),u.Xb(7,"mat-icon",4),u.fc("click",function(){return e.close(e.dataResponse)}),u.Tc(8,"close"),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"div",5),u.Xb(10,"div",6),u.Xb(11,"div",7),u.Xb(12,"div",8),u.Rc(13,Ut,2,1,"span",9),u.Wb(),u.Xb(14,"div",10),u.Xb(15,"div",11),u.Sb(16,"img",12),u.Tc(17,"\xa0 "),u.Xb(18,"div"),u.Xb(19,"span",13),u.Tc(20),u.Wb(),u.Sb(21,"br"),u.Xb(22,"span",14),u.Tc(23),u.Wb(),u.Wb(),u.Wb(),u.Xb(24,"div",15),u.Xb(25,"mat-icon",16),u.Tc(26,"phone "),u.Wb(),u.Tc(27,"\xa0\xa0\xa0 "),u.Xb(28,"span",17),u.Tc(29),u.Wb(),u.Wb(),u.Xb(30,"div",15),u.Xb(31,"mat-icon",16),u.Tc(32," mail_outline"),u.Wb(),u.Tc(33,"\xa0\xa0 \xa0 "),u.Xb(34,"span",18),u.Tc(35),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(36,"div",19),u.Xb(37,"div",20),u.Rc(38,Lt,7,16,"div",21),u.Rc(39,jt,2,1,"div",22),u.Wb(),u.Wb(),u.Sb(40,"br"),u.Sb(41,"br"),u.Sb(42,"br"),u.Sb(43,"br"),u.Xb(44,"div",23),u.Xb(45,"h2"),u.Tc(46),u.Wb(),u.Wb(),u.Rc(47,Vt,106,15,"div",24),u.Rc(48,Jt,18,2,"div",24),u.Sb(49,"br"),u.Rc(50,$t,21,3,"div",24),u.Rc(51,Kt,63,7,"div",24),u.Rc(52,ne,38,4,"div",24),u.Rc(53,ce,17,15,"div",25),u.Sb(54,"br"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&t&&(u.Eb(2),u.rc("ngIf",e.loading),u.Eb(11),u.rc("ngForOf",e.nameCreater),u.Eb(7),u.Vc("",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.createdBy," "),u.Eb(3),u.Vc("EID #",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.creatorId,""),u.Eb(6),u.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.mobile," "),u.Eb(6),u.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.email," "),u.Eb(3),u.rc("ngIf","not_available"==e.imageUrl),u.Eb(1),u.rc("ngIf","not_available"!=e.imageUrl),u.Eb(7),u.Yc("",e.dataResponse.dataResp.prefix,"\xa0",e.dataResponse.dataResp.firstName,"\xa0",e.dataResponse.dataResp.middleName,"\xa0",e.dataResponse.dataResp.lastName," "),u.Eb(1),u.rc("ngIf",!e.loading),u.Eb(1),u.rc("ngIf",!e.loading),u.Eb(2),u.rc("ngIf",!e.loading),u.Eb(1),u.rc("ngIf",!e.loading),u.Eb(1),u.rc("ngIf",!e.loading),u.Eb(1),u.rc("ngIf",!e.loading))},directives:[b.d,s.n,b.e,f.a,s.m,p.c,Dt.b,b.b,p.a,wt.a,m.f,b.f,s.l,_t.a],pipes:[s.v,s.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.editbtn{color:#0e7cc5;cursor:pointer}.num{background-color:#fff;border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;margin-top:15px}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:15%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.hint1{padding:13px}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:2%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:1px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.w-98_per{width:98%}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}.headerimg{width:120px;height:120px;border-radius:50%}.brw_800{border-radius:0;width:800px}.field_card{width:750px}.field_card,.field_card_nowidth{border:1px solid #f5f5f5;padding:16px}.c_grey{color:grey}.text_center_align{text-align:center}.hyperlink{color:#4a56e2;text-decoration:underline}"],encapsulation:2}),se)},Va2r:function(r,a,i){"use strict";i.d(a,"a",function(){return rt});var o=i("8Y7J"),c=i("nm5K"),s=i("tZUg"),l=i("6rwl"),u=i("XNiG"),d=i("Kj3r"),b=i("LvDl"),f=i("OKja"),m=i("nZzT"),p=i("iELJ"),g=i("zHaW"),h=i("cUpR"),v=i("iInd"),y=i("MNke"),x=i("jMqV"),W=i("VDRc"),E=i("Q2Ze"),X=i("e6WT"),S=i("s7LF"),I=i("SVse"),T=i("Tj54"),R=i("PDjf"),C=i("pu8Q"),O=i("Dxy4"),N=i("ura0");function k(t,e){if(1&t&&o.Sb(0,"img",3),2&t){var r=o.jc();o.sc("src",r.photoUrl,o.Jc)}}function P(t,e){if(1&t&&(o.Xb(0,"div",4),o.Tc(1),o.Wb()),2&t){var r=o.jc();o.Eb(1),o.Vc(" ",r.initials," ")}}var A,D=function(t){return{"background-color":t}},w=((A=function(){function t(){e(this,t),this.showInitials=!1,this.colors=["#24CCA7","#24CCA7","#24CCA7","#24CCA7"]}return n(t,[{key:"ngOnInit",value:function(){if(!this.photoUrl){this.showInitials=!0,this.createInititals();var t=Math.floor(Math.random()*Math.floor(this.colors.length));this.circleColor=this.colors[t]}}},{key:"createInititals",value:function(){var t=this.name.split(" "),e=t[0].substring(0,1).toUpperCase();t.length>1&&(e+=t[t.length-1].substring(0,1).toUpperCase()),this.initials=e}}]),t}()).\u0275fac=function(t){return new(t||A)},A.\u0275cmp=o.Lb({type:A,selectors:[["app-photo"]],inputs:{photoUrl:"photoUrl",name:"name"},decls:3,vars:5,consts:[[1,"circle",3,"ngStyle"],[3,"src",4,"ngIf"],["class","initials",4,"ngIf"],[3,"src"],[1,"initials"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Rc(1,k,1,1,"img",1),o.Rc(2,P,2,1,"div",2),o.Wb()),2&t&&(o.rc("ngStyle",o.xc(3,D,e.circleColor)),o.Eb(1),o.rc("ngIf",!e.showInitials),o.Eb(1),o.rc("ngIf",e.showInitials))},directives:[I.o,N.b,I.n],styles:[".circle[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;display:flex;justify-content:center;align-items:center}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:60px;height:60px}.circle[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{color:#fff;font-size:20px;line-height:19px;letter-spacing:.2625px}"]}),A),_=i("JC+M"),F=function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function c(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,c)}s((n=n.apply(t,e||[])).next())})};function U(t,e){1&t&&o.Sb(0,"mat-spinner",20),2&t&&o.rc("diameter",15)}function L(t,e){if(1&t){var r=o.Yb();o.Xb(0,"button",21),o.fc("click",function(){return o.Hc(r),o.jc().clear()}),o.Xb(1,"mat-icon"),o.Tc(2,"close"),o.Wb(),o.Wb()}}function M(t,e){if(1&t&&(o.Xb(0,"div"),o.Sb(1,"app-photo",39),o.Wb()),2&t){var r=o.jc().$implicit;o.Eb(1),o.rc("name",(null==r?null:r.firstName)+" "+r.lastName)}}function j(t,e){if(1&t&&o.Sb(0,"img",40),2&t){var r=o.jc().$implicit;o.rc("src",r.profileImage,o.Jc)}}function z(t,e){if(1&t){var r=o.Yb();o.Xb(0,"div",23),o.fc("click",function(){o.Hc(r);var t=e.$implicit,n=e.index,a=o.jc(2);return a.goToCustOnBoardingSummary(t,"INITATED",a.getRandomColor(n+3))}),o.Xb(1,"div",24),o.Xb(2,"mat-icon",25),o.Tc(3,"bookmark"),o.Wb(),o.Xb(4,"small"),o.Tc(5),o.kc(6,"dateAgo"),o.Wb(),o.Wb(),o.Xb(7,"mat-card-header",26),o.Xb(8,"div",27),o.Rc(9,M,2,1,"div",28),o.Rc(10,j,1,1,"ng-template",null,29,o.Sc),o.Wb(),o.Xb(12,"mat-card-title",30),o.Tc(13),o.Wb(),o.Xb(14,"mat-card-subtitle"),o.Tc(15),o.Wb(),o.Wb(),o.Xb(16,"form",31),o.Xb(17,"div",32),o.Xb(18,"div",33),o.Xb(19,"span"),o.Tc(20,"Customer No:"),o.Wb(),o.Xb(21,"span",34),o.Tc(22),o.Wb(),o.Wb(),o.Xb(23,"div",33),o.Xb(24,"span"),o.Tc(25,"Customer Status"),o.Wb(),o.Xb(26,"span",34),o.Tc(27),o.Wb(),o.Wb(),o.Wb(),o.Sb(28,"br"),o.Xb(29,"div",35),o.Xb(30,"div",33),o.Xb(31,"span",36),o.Tc(32,"Mobile Number"),o.Wb(),o.Xb(33,"span",37),o.Tc(34),o.Wb(),o.Wb(),o.Xb(35,"div",33),o.Xb(36,"span",36),o.Tc(37,"Email"),o.Wb(),o.Xb(38,"span",38),o.Tc(39),o.Wb(),o.Wb(),o.Wb(),o.Sb(40,"br"),o.Wb(),o.Wb()}if(2&t){var n=e.$implicit,a=o.Dc(11);o.Eb(5),o.Uc(o.lc(6,12,null==n?null:n.createdTime)),o.Eb(4),o.rc("ngIf","not_available"==n.profileImage)("ngIfElse",a),o.Eb(4),o.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),o.Eb(2),o.Vc("#",n.cifNumber,""),o.Eb(7),o.Uc(n.cifNumber),o.Eb(5),o.Uc(n.custStatus),o.Eb(7),o.Uc(n.phoneNumber),o.Eb(5),o.Uc(n.primaryEmailAdress)}}function V(t,e){if(1&t&&(o.Xb(0,"mat-card",15),o.Xb(1,"div",16),o.Xb(2,"h2",22),o.Tc(3),o.Wb(),o.Wb(),o.Xb(4,"div"),o.Rc(5,z,41,14,"div",19),o.Wb(),o.Sb(6,"br"),o.Wb()),2&t){var r=o.jc();o.Eb(3),o.Wc("Pending for approval (",null==r.INITIATEDArr?null:r.INITIATEDArr.length,"/",r.INITIATEDTotalRecords,")"),o.Eb(2),o.rc("ngForOf",r.INITIATEDArr)}}function B(t,e){if(1&t&&(o.Xb(0,"div"),o.Sb(1,"app-photo",39),o.Wb()),2&t){var r=o.jc().$implicit;o.Eb(1),o.rc("name",(null==r?null:r.firstName)+" "+(null==r?null:r.lastName))}}function J(t,e){if(1&t&&o.Sb(0,"img",40),2&t){var r=o.jc().$implicit;o.rc("src",null==r?null:r.profileImage,o.Jc)}}function G(t,e){if(1&t){var r=o.Yb();o.Xb(0,"div",23),o.fc("click",function(){o.Hc(r);var t=e.$implicit,n=e.index,a=o.jc();return a.goToCustOnBoardingSummary(t,"UNDER_PROCESS",a.getRandomColor(n+6))}),o.Xb(1,"div",24),o.Xb(2,"mat-icon",41),o.Tc(3,"bookmark"),o.Wb(),o.Xb(4,"span"),o.Xb(5,"small"),o.Tc(6),o.kc(7,"dateAgo"),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"mat-card-header",26),o.Xb(9,"div",27),o.Rc(10,B,2,1,"div",28),o.Rc(11,J,1,1,"ng-template",null,29,o.Sc),o.Wb(),o.Xb(13,"mat-card-title",30),o.Tc(14),o.Wb(),o.Xb(15,"mat-card-subtitle"),o.Tc(16),o.Wb(),o.Wb(),o.Xb(17,"form",31),o.Xb(18,"div",32),o.Xb(19,"div",33),o.Xb(20,"span"),o.Tc(21,"Customer No:"),o.Wb(),o.Xb(22,"span",34),o.Tc(23),o.Wb(),o.Wb(),o.Xb(24,"div",33),o.Xb(25,"span"),o.Tc(26,"Customer Status"),o.Wb(),o.Xb(27,"span",34),o.Tc(28),o.Wb(),o.Wb(),o.Wb(),o.Sb(29,"br"),o.Xb(30,"div",35),o.Xb(31,"div",33),o.Xb(32,"span",36),o.Tc(33,"Mobile Number"),o.Wb(),o.Xb(34,"span",37),o.Tc(35),o.Wb(),o.Wb(),o.Xb(36,"div",33),o.Xb(37,"span",36),o.Tc(38,"Email"),o.Wb(),o.Xb(39,"span",38),o.Tc(40),o.Wb(),o.Wb(),o.Wb(),o.Sb(41,"br"),o.Wb(),o.Wb()}if(2&t){var n=e.$implicit,a=o.Dc(12);o.Eb(6),o.Uc(o.lc(7,12,null==n?null:n.createdTime)),o.Eb(4),o.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",a),o.Eb(4),o.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),o.Eb(2),o.Vc("#",null==n?null:n.cifNumber,""),o.Eb(7),o.Uc(null==n?null:n.cifNumber),o.Eb(5),o.Uc(null==n?null:n.custStatus),o.Eb(7),o.Uc(null==n?null:n.phoneNumber),o.Eb(5),o.Uc(null==n?null:n.primaryEmailAdress)}}function q(t,e){if(1&t&&(o.Xb(0,"div"),o.Sb(1,"app-photo",39),o.Wb()),2&t){var r=o.jc().$implicit;o.Eb(1),o.rc("name",(null==r?null:r.firstName)+" "+(null==r?null:r.lastName))}}function Y(t,e){if(1&t&&o.Sb(0,"img",40),2&t){var r=o.jc().$implicit;o.rc("src",null==r?null:r.profileImage,o.Jc)}}function $(t,e){if(1&t){var r=o.Yb();o.Xb(0,"div",23),o.fc("click",function(){o.Hc(r);var t=e.$implicit,n=e.index,a=o.jc(2);return a.goToCustOnBoardingSummary(t,"APPROVED",a.getRandomColor(n+12))}),o.Xb(1,"div",24),o.Xb(2,"mat-icon",42),o.Tc(3,"bookmark"),o.Wb(),o.Xb(4,"span"),o.Xb(5,"small"),o.Tc(6),o.kc(7,"dateAgo"),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"mat-card-header",26),o.Xb(9,"div",27),o.Rc(10,q,2,1,"div",28),o.Rc(11,Y,1,1,"ng-template",null,29,o.Sc),o.Wb(),o.Xb(13,"mat-card-title",30),o.Tc(14),o.Wb(),o.Xb(15,"mat-card-subtitle"),o.Tc(16),o.Wb(),o.Wb(),o.Xb(17,"form",31),o.Xb(18,"div",32),o.Xb(19,"div",33),o.Xb(20,"span"),o.Tc(21,"Customer No:"),o.Wb(),o.Xb(22,"span",34),o.Tc(23),o.Wb(),o.Wb(),o.Xb(24,"div",33),o.Xb(25,"span"),o.Tc(26,"Customer Status"),o.Wb(),o.Xb(27,"span",34),o.Tc(28),o.Wb(),o.Wb(),o.Wb(),o.Sb(29,"br"),o.Xb(30,"div",35),o.Xb(31,"div",33),o.Xb(32,"span",36),o.Tc(33,"Mobile Number"),o.Wb(),o.Xb(34,"span",37),o.Tc(35),o.Wb(),o.Wb(),o.Xb(36,"div",33),o.Xb(37,"span",36),o.Tc(38,"Email"),o.Wb(),o.Xb(39,"span",38),o.Tc(40),o.Wb(),o.Wb(),o.Wb(),o.Sb(41,"br"),o.Wb(),o.Wb()}if(2&t){var n=e.$implicit,a=o.Dc(12);o.Eb(6),o.Uc(o.lc(7,12,null==n?null:n.createdTime)),o.Eb(4),o.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",a),o.Eb(4),o.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),o.Eb(2),o.Vc("#",null==n?null:n.cifNumber,""),o.Eb(7),o.Uc(null==n?null:n.cifNumber),o.Eb(5),o.Uc(null==n?null:n.custStatus),o.Eb(7),o.Uc(null==n?null:n.phoneNumber),o.Eb(5),o.Uc(null==n?null:n.primaryEmailAdress)}}function H(t,e){if(1&t&&(o.Xb(0,"mat-card",15),o.Xb(1,"div",16),o.Xb(2,"span",17),o.Xb(3,"h2",18),o.Tc(4),o.Wb(),o.Wb(),o.Wb(),o.Xb(5,"div"),o.Rc(6,$,42,14,"div",19),o.Wb(),o.Sb(7,"br"),o.Wb()),2&t){var r=o.jc();o.Eb(4),o.Wc("Approved (",null==r.APPROVEDArr?null:r.APPROVEDArr.length,"/",r.APPROVEDTotalRecords,")"),o.Eb(2),o.rc("ngForOf",r.APPROVEDArr)}}function K(t,e){if(1&t&&(o.Xb(0,"div"),o.Sb(1,"app-photo",39),o.Wb()),2&t){var r=o.jc().$implicit;o.Eb(1),o.rc("name",(null==r?null:r.firstName)+" "+(null==r?null:r.lastName))}}function Z(t,e){if(1&t&&o.Sb(0,"img",40),2&t){var r=o.jc().$implicit;o.rc("src",null==r?null:r.profileImage,o.Jc)}}function Q(t,e){if(1&t){var r=o.Yb();o.Xb(0,"div",23),o.fc("click",function(){o.Hc(r);var t=e.$implicit,n=e.index,a=o.jc(2);return a.goToCustOnBoardingSummary(t,"REJECTED",a.getRandomColor(n+15))}),o.Xb(1,"div",24),o.Xb(2,"mat-icon",43),o.Tc(3,"bookmark"),o.Wb(),o.Xb(4,"span"),o.Xb(5,"small"),o.Tc(6),o.kc(7,"dateAgo"),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"mat-card-header",26),o.Xb(9,"div",27),o.Rc(10,K,2,1,"div",28),o.Rc(11,Z,1,1,"ng-template",null,29,o.Sc),o.Wb(),o.Xb(13,"mat-card-title",30),o.Tc(14),o.Wb(),o.Xb(15,"mat-card-subtitle"),o.Tc(16),o.Wb(),o.Wb(),o.Xb(17,"form",31),o.Xb(18,"div",32),o.Xb(19,"div",33),o.Xb(20,"span"),o.Tc(21,"Customer No:"),o.Wb(),o.Xb(22,"span",34),o.Tc(23),o.Wb(),o.Wb(),o.Xb(24,"div",33),o.Xb(25,"span"),o.Tc(26,"Customer Status"),o.Wb(),o.Xb(27,"span",34),o.Tc(28),o.Wb(),o.Wb(),o.Wb(),o.Sb(29,"br"),o.Xb(30,"div",35),o.Xb(31,"div",33),o.Xb(32,"span",36),o.Tc(33,"Mobile Number"),o.Wb(),o.Xb(34,"span",37),o.Tc(35),o.Wb(),o.Wb(),o.Xb(36,"div",33),o.Xb(37,"span",36),o.Tc(38,"Email"),o.Wb(),o.Xb(39,"span",38),o.Tc(40),o.Wb(),o.Wb(),o.Wb(),o.Sb(41,"br"),o.Wb(),o.Wb()}if(2&t){var n=e.$implicit,a=o.Dc(12);o.Eb(6),o.Uc(o.lc(7,12,null==n?null:n.createdTime)),o.Eb(4),o.rc("ngIf","not_available"==(null==n?null:n.profileImage))("ngIfElse",a),o.Eb(4),o.Yc(" ",null==n?null:n.prefix,"\xa0",null==n?null:n.firstName,"\xa0",null==n?null:n.middleName,"\xa0",null==n?null:n.lastName," "),o.Eb(2),o.Vc("#",null==n?null:n.cifNumber,""),o.Eb(7),o.Uc(null==n?null:n.cifNumber),o.Eb(5),o.Uc(null==n?null:n.custStatus),o.Eb(7),o.Uc(null==n?null:n.phoneNumber),o.Eb(5),o.Uc(null==n?null:n.primaryEmailAdress)}}function tt(t,e){if(1&t&&(o.Xb(0,"mat-card",15),o.Xb(1,"div",16),o.Xb(2,"span",17),o.Xb(3,"h2",18),o.Tc(4),o.Wb(),o.Wb(),o.Wb(),o.Xb(5,"div"),o.Rc(6,Q,42,14,"div",19),o.Wb(),o.Wb()),2&t){var r=o.jc();o.Eb(4),o.Wc("Rejected (",null==r.REJECTEDArr?null:r.REJECTEDArr.length,"/",r.REJECTEDTotalRecords,")"),o.Eb(2),o.rc("ngForOf",r.REJECTEDArr)}}var et,rt=((et=function(){function r(t,n,a,i,c,s,l,d,b,f){e(this,r),this.dialog=t,this.ls=n,this.tasSumService=a,this.cdr=i,this.apiService=c,this.snack=s,this.sanitizer=l,this.router=d,this.route=b,this.jwtService=f,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new o.o,this._searchSubject=new u.a,this.listOfOptions=[{label:"Customer ID ",value:"customerId",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}return n(r,[{key:"onScroll",value:function(){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t,e=this;this.currentUser=JSON.parse(this.jwtService.getUser()),this.userType=null===(t=this.currentUser)||void 0===t?void 0:t.userType,this.apiService.setTask(!0),this.route.queryParamMap.subscribe(function(t){t.get("searchTerm")?(e.redirectedFromTellerSearch=!0,e.searchText=t.get("searchTerm"),e.updateSearch(e.searchText),setTimeout(function(){e.openSearchedApprover()},3e3)):e.getDataOnLoad()})}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchCustomerId(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return F(this,void 0,void 0,t().mark(function e(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=0;r<this.statusArr.length;r++)this.fetchCustomerByStatus(this.statusArr[r],0,0);case 1:case"end":return t.stop()}},e,this)}))}},{key:"fetchCustomerByStatus",value:function(t,e,r){var n=this;this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){n.updateStatusResponse(t,e)})}},{key:"GoToCorporate",value:function(){var t=this;setTimeout(function(){t.router.navigateByUrl("tasks/corporate-task-summary")},300)}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=null==e?void 0:e.customerInfoList,this.INITIATEDTotalPages=null==e?void 0:e.totalPages,this.INITIATEDTotalRecords=null==e?void 0:e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=null==e?void 0:e.customerInfoList,this.UNDER_PROCESSTotalPages=null==e?void 0:e.totalPages,this.UNDER_PROCESSTotalRecords=null==e?void 0:e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.customerInfoList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.customerInfoList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalRecords),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,r){var n=this;e!==r&&this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){n.cdr.markForCheck(),n.updateDataOnScroll(t,e.customerInfoList)})}},{key:"goToCustOnBoardingSummary",value:function(t,e,r){var n=this;this.ls.setItem("CustomerColorCode",r),this.dialog.open(f.a,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus||(1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad())})}},{key:"searchCustomerId",value:function(t){var e,r,n=this;if(""===t)return this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(e=this.searchText.trim(),r="phoneNumber="+e):(e=this.searchText.trim(),r="customerId="+e,this.apiService.getKycDetails1(e).subscribe(function(t){r=null!=t?"cifNumber="+e:"customerId="+e})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(e=this.searchText.trim(),r="primaryEmailAdress="+e):(e=this.searchText.trim(),r="customerName="+e)),setTimeout(function(){n.getCustomerData(r)},1e3),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;this.loading=!0,this.apiService.getCustomerOnBoardingSummary(t).subscribe(function(t){e.INITIATEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,e.resetSearchData(),e.INITIATEDArr=[];for(var r=0;r<(null==t?void 0:t.customerInfoList.length);r++){var n=null==t?void 0:t.customerInfoList[r];e.searchResponseUpdate(null==n?void 0:n.custStatus,t.customerInfoList[r])}})}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"INITIATED"==t?this.INITIATEDArr.push(e):"UNDER_PROCESS"==t?this.UNDER_PROCESSArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"updateDataOnScroll",value:function(e,r){return F(this,void 0,void 0,t().mark(function n(){var a,i,o,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"INITIATED"==e?(a=b.unionBy(this.INITIATEDArr,r,"customerId"),this.INITIATEDArr=a):"UNDER_PROCESS"==e?(i=b.unionBy(this.UNDER_PROCESSArr,r,"customerId"),this.UNDER_PROCESSArr=i):"APPROVED"==e?(o=b.unionBy(this.APPROVEDArr,r,"customerId"),this.APPROVEDArr=o):"REJECTED"==e&&(c=b.unionBy(this.REJECTEDArr,r,"customerId"),this.REJECTEDArr=c),this.cdr.markForCheck();case 2:case"end":return t.stop()}},n,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(function(t){return 1==t.length});1==t.length&&this.goToCustOnBoardingSummary(t[0][0],t[0][0].custStatus)}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),r}()).\u0275fac=function(t){return new(t||et)(o.Rb(p.b),o.Rb(s.a),o.Rb(l.a),o.Rb(o.h),o.Rb(c.b),o.Rb(g.a),o.Rb(h.b),o.Rb(v.h),o.Rb(v.a),o.Rb(m.a))},et.\u0275cmp=o.Lb({type:et,selectors:[["app-cust-on-boarding-task-summary"]],hostBindings:function(t,e){1&t&&o.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:31,vars:12,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName","task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","placeholder","Search Customer_id or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["matSuffix","","mat-icon-button","",3,"click"],[1,"statusFont","pl-6"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45"],[1,"fieldName"],["fxLayout","row","fxLayoutGap","10"],[1,"col3"],[1,"col4"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-red","bookMark","bookMark3"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.fc("scrolled",function(){return e.onScroll()}),o.Xb(1,"div",1),o.Xb(2,"mat-slide-toggle",2),o.fc("change",function(){return e.GoToCorporate()}),o.Tc(3,"Switch to Corporate Onboarding"),o.Wb(),o.Xb(4,"div",3),o.Xb(5,"div",4),o.Tc(6," Individual Customer Onboarding Task Summary "),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"mat-form-field",6),o.Xb(9,"mat-label"),o.Tc(10,"Search"),o.Wb(),o.Xb(11,"div",7),o.Xb(12,"input",8),o.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),o.Wb(),o.Rc(13,U,1,1,"mat-spinner",9),o.Wb(),o.Xb(14,"mat-icon",10),o.Tc(15,"search"),o.Wb(),o.Rc(16,L,3,0,"button",11),o.Xb(17,"mat-hint"),o.Tc(18,"Search ID or Name"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"div",12),o.Xb(20,"div",13),o.Rc(21,V,7,3,"mat-card",14),o.Xb(22,"mat-card",15),o.Xb(23,"div",16),o.Xb(24,"span",17),o.Xb(25,"h2",18),o.Tc(26),o.Wb(),o.Wb(),o.Wb(),o.Xb(27,"div"),o.Rc(28,G,42,14,"div",19),o.Wb(),o.Wb(),o.Rc(29,H,8,3,"mat-card",14),o.Rc(30,tt,7,3,"mat-card",14),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),o.Eb(12),o.rc("ngModel",e.searchText),o.Eb(1),o.rc("ngIf",e.loading),o.Eb(3),o.rc("ngIf",e.searchText),o.Eb(5),o.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),o.Eb(5),o.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),o.Eb(2),o.rc("ngForOf",e.UNDER_PROCESSArr),o.Eb(1),o.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType),o.Eb(1),o.rc("ngIf","TELLER_MANAGER_TASK_SUMMARY"==e.userType))},directives:[y.a,x.a,W.e,W.d,W.f,W.b,E.c,E.g,X.b,S.c,S.r,S.u,I.n,T.a,E.i,E.f,R.a,I.m,C.b,O.b,E.j,R.e,R.c,R.h,R.g,S.A,S.s,S.t,w],pipes:[_.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px}.breakWord[_ngcontent-%COMP%], .naming[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),et)}}])}();