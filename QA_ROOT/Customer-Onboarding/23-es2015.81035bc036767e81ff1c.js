(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{q3xE:function(e,t,o){"use strict";o.r(t),o.d(t,"CustomerOnboardingV2Module",function(){return pe});var a=o("SVse"),n=o("laYw"),r=o("nm5K"),i=o("tZUg"),c=o("8Y7J"),s=o("iELJ"),l=o("s7LF"),d=o("iInd"),g=o("VDRc"),b=o("Tj54"),u=o("PDjf"),p=o("Q2Ze"),f=o("M9ds"),m=o("DE60"),h=o("35u7"),x=o("ZTz/"),C=o("Dxy4"),I=o("ura0"),y=o("UhP/");function v(e,t){if(1&e&&(c.Xb(0,"mat-option",23),c.Tc(1),c.Wb()),2&e){const e=t.$implicit;c.rc("value",e.id),c.Eb(1),c.Uc(e.categoryName)}}function F(e,t){if(1&e){const e=c.Yb();c.Xb(0,"mat-icon",24),c.fc("click",function(){c.Hc(e);const t=c.jc().index;return c.jc(2).addCustomerCategory(t)}),c.Tc(1,"add"),c.Wb()}}function O(e,t){if(1&e){const e=c.Yb();c.Xb(0,"mat-icon",24),c.fc("click",function(){c.Hc(e);const t=c.jc().index;return c.jc(2).removeCustomerCategoty(t)}),c.Tc(1,"remove"),c.Wb()}}function T(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div",11),c.Xb(1,"div",12),c.Xb(2,"mat-form-field",13),c.Xb(3,"mat-label"),c.Tc(4,"Customer Category*"),c.Wb(),c.Xb(5,"mat-select",14),c.Rc(6,v,2,2,"mat-option",7),c.Wb(),c.Wb(),c.Xb(7,"div",15),c.Rc(8,F,2,0,"mat-icon",16),c.Rc(9,O,2,0,"ng-template",null,17,c.Sc),c.Wb(),c.Wb(),c.Xb(11,"div",18),c.Xb(12,"div",19),c.Xb(13,"span",20),c.Tc(14),c.Wb(),c.Wb(),c.Xb(15,"div",21),c.Tc(16," Choose "),c.Xb(17,"input",22),c.fc("change",function(o){c.Hc(e);const a=t.index;return c.jc(2).fileName(o,a)}),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=t.$implicit,o=t.index,a=c.Dc(10),n=c.jc(2);c.rc("formGroup",e),c.Eb(6),c.rc("ngForOf",n.customerCategoryArr),c.Eb(2),c.rc("ngIf",o==n.customerCategory.controls.length-1)("ngIfElse",a),c.Eb(5),c.rc("ngClass",e.get("fileName").value&&"textLink"),c.Eb(1),c.Uc(e.get("fileName").value?e.get("fileName").value:"File Uploaded")}}function W(e,t){if(1&e&&(c.Xb(0,"mat-option",23),c.Tc(1),c.Wb()),2&e){const e=t.$implicit;c.rc("value",e.id),c.Eb(1),c.Uc(e.chargeCategory)}}function X(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div",1),c.Xb(1,"mat-card",2),c.Xb(2,"h3"),c.Tc(3,"Category"),c.Wb(),c.Xb(4,"div",3),c.Rc(5,T,18,6,"div",4),c.Xb(6,"mat-form-field",5),c.Xb(7,"mat-label"),c.Tc(8,"Charge Category*"),c.Wb(),c.Xb(9,"mat-select",6),c.Rc(10,W,2,2,"mat-option",7),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(11,"div",8),c.Xb(12,"button",9),c.fc("click",function(){return c.Hc(e),c.jc().prevoiustab()}),c.Tc(13," Back "),c.Wb(),c.Xb(14,"button",10),c.fc("click",function(){return c.Hc(e),c.jc().saveotherinf()}),c.Tc(15," Next "),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=c.jc();c.rc("formGroup",e.othersInfoForm),c.Eb(5),c.rc("ngForOf",e.customerCategory.controls),c.Eb(5),c.rc("ngForOf",e.chargeCategoryArr)}}let w=(()=>{class e{constructor(e,t){this.formBuilder=e,this.apiService=t}ngOnInit(){this.getCustomerCategory(),this.getCustomerChargeCategory(),this.buildOthersInfoForm(),this.apiService.getCustomerData().subscribe(e=>{if(console.log(e),null==e?void 0:e.customerInfoList){this.othersInfoForm.get("customerChargeCategoryId").setValue(e.customerInfoList[0].custCategoryInfo[0].customerChargeCategoryId);for(var t=0;t<e.customerInfoList[0].custCategoryInfo.length;t++)e.customerInfoList[0].custCategoryInfo[t]&&this.addCustomerCategory(e.customerInfoList[0].custCategoryInfo[t])}}),console.log(this.othersInfoForm)}ngAfterViewChecked(){""==this.customerCategory.value&&this.addCustomerCategory("")}ngAfterViewInit(){}buildOthersInfoForm(e){this.othersInfoForm=this.formBuilder.group({customerCategory:this.formBuilder.array([]),customerChargeCategoryId:[e?e.chargeCategory:"",[l.z.required]]})}get customerCategory(){return this.othersInfoForm.get("customerCategory")}addCustomerCategory(e){this.customerCategory.push(this.formBuilder.group({customerCategoryId:[e?e.customerCategoryId:"",[l.z.required]],fileName:[e?e.fileName:"",[l.z.required]],fileUrl:[e?e.fileUrl:""]}))}removeCustomerCategoty(e){this.customerCategory.removeAt(e)}getCustomerCategory(){this.apiService.getAuthCustomerCategory().subscribe(e=>{this.customerCategoryArr=e})}getCustomerChargeCategory(){this.apiService.getAuthCustomerChargeCategory().subscribe(e=>{this.chargeCategoryArr=e})}fileName(e,t){this.customerId=localStorage.getItem("customer_id")?localStorage.getItem("customer_id"):localStorage.getItem("customerId"),console.log(this.customerId),this.customerCategory.controls[t].get("fileName").setValue(e.target.files[0].name),console.log(this.othersInfoForm),this.upload(this.customerId,e.target.files[0],t)}upload(e,t,o){const a={customerId:e,documentName:t.name,documentType:"21",fileType:"change",fileName:"aadhar 2 Front",verificationType:"KYC verification",documentSide:"1",idNumber:null};let n=new FormData;n.append("data",JSON.stringify(a)),n.append("file",t),this.apiService.upload(n).subscribe(e=>{console.log("resp",e),this.customerCategory.controls[o].get("fileUrl").setValue(e.fileUrl)})}saveotherinf(){this.apiService.setIndex({index:3}),this.apiService.setFinishFlag({finishFlag:!1});let e={customerId:this.customerId,primaryEmailAdress:localStorage.getItem("Email"),phoneNumber:localStorage.getItem("phoneNo"),custCategoryInfo:this.customerCategory.controls.map(e=>({customerCategoryId:e.get("customerCategoryId").value,customerChargeCategoryId:this.othersInfoForm.get("customerChargeCategoryId").value,fileUrl:e.get("fileUrl").value,fileName:e.get("fileName").value}))};console.log("payload---- ",e)}prevoiustab(){this.apiService.setIndex({index:1})}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(l.f),c.Rb(r.b))},e.\u0275cmp=c.Lb({type:e,selectors:[["app-others-information"]],decls:1,vars:1,consts:[["class","top-div","fxLayout","column","fxLayoutAlign","space-between",3,"formGroup",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between",1,"top-div",3,"formGroup"],[1,"category-card"],["fxLayout","row wrap","fxLayoutAlign","space-between",1,"categoryDiv"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between start","class","customerCategory-div",3,"formGroup",4,"ngFor","ngForOf"],["fxFlex","49.5","appearance","outline"],["formControlName","customerChargeCategoryId"],[3,"value",4,"ngFor","ngForOf"],["fxLayoutAlign","space-between",1,"btn-div"],["mat-raised-button","",1,"Backbtn",3,"click"],["mat-button","","rounded","",1,"Nextbtn",3,"click"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between start",1,"customerCategory-div",3,"formGroup"],["fxFlex","49.5",1,"categoryInput"],["appearance","outline","fxFlex","92"],["formControlName","customerCategoryId"],["fxFlex","10","fxLayoutAlign","center center",1,"addbtndiv"],["class","addbtn",3,"click",4,"ngIf","ngIfElse"],["removeBtn",""],["fxFlex","49",1,"back"],[1,"fil"],[1,"fileName",3,"ngClass"],[1,"chooseFile"],["type","file",1,"hide_file",3,"change"],[3,"value"],[1,"addbtn",3,"click"]],template:function(e,t){1&e&&c.Rc(0,X,16,3,"div",0),2&e&&c.rc("ngIf",t.othersInfoForm)},directives:[a.n,g.e,g.d,l.s,l.j,u.a,a.m,p.c,g.b,p.g,x.a,l.r,l.i,C.b,a.l,I.a,y.n,b.a],styles:[".top-div[_ngcontent-%COMP%]{height:90vh}.category-card[_ngcontent-%COMP%]{background-color:#fffefe}.categoryDiv[_ngcontent-%COMP%]{margin-top:20px}.addbtndiv[_ngcontent-%COMP%]{background-color:#e7eef3;border-top-right-radius:5px;border-bottom-right-radius:5px;margin-left:-12px;margin-top:4px;height:43px;padding-bottom:8px}.addbtn[_ngcontent-%COMP%]{font-size:xx-large;color:#004c97;cursor:pointer}.back[_ngcontent-%COMP%]{background-color:#fff;height:50px;border-radius:5px;box-shadow:0 3px 15px rgba(0,0,0,.09019607843137255);position:relative;margin-top:4px}.chooseFile[_ngcontent-%COMP%]{padding:10px;background:transparent linear-gradient(90deg,#051a2d,#004c97) 0 0 no-repeat padding-box;font-family:manrope;color:#fff;border-radius:8px;text-align:center;top:4px;right:8px;width:120px}.chooseFile[_ngcontent-%COMP%], .hide_file[_ngcontent-%COMP%]{position:absolute;cursor:pointer}.hide_file[_ngcontent-%COMP%]{z-index:1000;opacity:0;right:0;top:0;height:100%;font-size:24px;width:100%}.fileName[_ngcontent-%COMP%]{color:#0b0b0b;opacity:.7}.fil[_ngcontent-%COMP%]{position:absolute;top:28%;left:6%}.textLink[_ngcontent-%COMP%]{color:#004a9a;text-decoration:underline;font-family:manrope;cursor:pointer}.btn-div[_ngcontent-%COMP%]{padding:20px}.Nextbtn[_ngcontent-%COMP%]{padding:2px;color:#fff;background:transparent linear-gradient(91deg,#051a2d,#004c97) 0 0 no-repeat padding-box}.Backbtn[_ngcontent-%COMP%]{padding:2px;background-color:#fff!important}"]}),e})();var M=o("YSGX"),P=o("DDtv"),S=o("u81B");function k(e,t){if(1&e&&c.Sb(0,"app-customer-basic-info",20),2&e){const e=c.jc();c.rc("verificationType",e.verificationType)}}function _(e,t){if(1&e&&c.Sb(0,"app-genric-document-upload",21),2&e){const e=c.jc();c.rc("screenInfo",e.screenInfo)}}function N(e,t){1&e&&c.Sb(0,"app-others-information")}function L(e,t){1&e&&c.Sb(0,"app-professional-information")}function R(e,t){1&e&&c.Sb(0,"app-financial-details")}function V(e,t){1&e&&c.Sb(0,"app-mandate-details")}let E=(()=>{class e{constructor(e,t,o,a,n,r,i){this.dialog=e,this.apiService=t,this.ls=o,this.dialogService=a,this.fb=n,this.api=r,this.router=i,this.verificationType="onboarding",this.arrayRelationshipType=[],this.arrayCountry=[],this.screen="Individual",this.finishFlag=!0}ngOnInit(){this.screenInfo={screenName:"onboarding",data:"",customerId:"",nextIndex:2,previousIndex:0,currentIndex:1},this.selectedIndex=this.ls.getItem("customerOnboadingTabIndex")?this.ls.getItem("customerOnboadingTabIndex"):0,console.log(this.selectedIndex),this.tabIndex=this.selectedIndex,this.api.getIndex().subscribe(e=>{console.log(e.index),this.tabIndex=e.index,this.ls.getItem("customerOnboadingTabIndex")&&(this.tabIndex=this.ls.getItem("customerOnboadingTabIndex")),this.api.getFinishFlag().subscribe(e=>{console.log("finish flag",e.finishFlag),this.assignValueFinish(e.finishFlag)}),0===e.index&&this.assignValuesForTab1(this.tabIndex),1===e.index&&this.assignValuesForTab2(this.tabIndex),2===e.index&&this.assignValuesForTab3(this.tabIndex),3===e.index&&this.assignValuesForTab4(this.tabIndex),4===e.index&&this.assignValuesForTab5(this.tabIndex),5===e.index&&this.assignValuesForTab6(this.tabIndex)})}assignValuesForTab1(e){this.tab1=!1}assignValuesForTab2(e){this.tab2=!1}assignValuesForTab3(e){this.tab3=!1}assignValuesForTab4(e){this.tab4=!1}assignValuesForTab5(e){this.tab5=!1}assignValuesForTab6(e){this.tab6=!1}assignValueFinish(e){this.finishFlag=e}previousStep(){this.router.navigate(["onboarding/customer-type"])}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(s.b),c.Rb(r.b),c.Rb(i.a),c.Rb(n.a),c.Rb(l.f),c.Rb(r.b),c.Rb(d.h))},e.\u0275cmp=c.Lb({type:e,selectors:[["app-new-customer-onboarding-screen"]],decls:30,vars:7,consts:[[1,"header"],[1,"headerMapping"],["fxLayout","row","fxLayoutAlign","start space-between",1,"mt-16"],[1,"headerArrow",3,"click"],[1,"text-large"],[1,"kycStatuscard"],[1,"label"],[1,"status"],[1,"full-width"],[3,"selectedIndex","selectedIndexChange"],["tabGroup",""],["label","Primary Information"],["screenTitle","Individual",3,"verificationType",4,"ngIf"],["label","Proof Of Identity"],[3,"screenInfo",4,"ngIf"],["label","Other Information"],[4,"ngIf"],["label","Professional Information"],["label","Financial Detail"],["label","Mandate"],["screenTitle","Individual",3,"verificationType"],[3,"screenInfo"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"h4",1),c.Tc(2,"Home>New Customer Onboarding | Individual"),c.Wb(),c.Xb(3,"div",2),c.Xb(4,"span",3),c.fc("click",function(){return t.previousStep()}),c.Xb(5,"mat-icon"),c.Tc(6,"arrow_back"),c.Wb(),c.Wb(),c.Xb(7,"span",4),c.Tc(8," New Customer Onboarding / Individual "),c.Wb(),c.Xb(9,"mat-card",5),c.Xb(10,"mat-card-content"),c.Xb(11,"mat-label",6),c.Tc(12,"KYC Status"),c.Wb(),c.Xb(13,"p",7),c.Tc(14,"APPROVED"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"div",8),c.Xb(16,"mat-tab-group",9,10),c.fc("selectedIndexChange",function(e){return t.tabIndex=e}),c.Xb(18,"mat-tab",11),c.Rc(19,k,1,1,"app-customer-basic-info",12),c.Wb(),c.Xb(20,"mat-tab",13),c.Rc(21,_,1,1,"app-genric-document-upload",14),c.Wb(),c.Xb(22,"mat-tab",15),c.Rc(23,N,1,0,"app-others-information",16),c.Wb(),c.Xb(24,"mat-tab",17),c.Rc(25,L,1,0,"app-professional-information",16),c.Wb(),c.Xb(26,"mat-tab",18),c.Rc(27,R,1,0,"app-financial-details",16),c.Wb(),c.Xb(28,"mat-tab",19),c.Rc(29,V,1,0,"app-mandate-details",16),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&e&&(c.Eb(16),c.rc("selectedIndex",t.tabIndex),c.Eb(3),c.rc("ngIf",0==t.tabIndex),c.Eb(2),c.rc("ngIf",1==t.tabIndex),c.Eb(2),c.rc("ngIf",2==t.tabIndex),c.Eb(2),c.rc("ngIf",3==t.tabIndex),c.Eb(2),c.rc("ngIf",4==t.tabIndex),c.Eb(2),c.rc("ngIf",5==t.tabIndex))},directives:[g.e,g.d,b.a,u.a,u.d,p.g,f.b,f.a,a.n,m.a,h.a,w,M.a,P.a,S.a],styles:[".popup-dialog-class[_ngcontent-%COMP%]   mat-dialog-container[_ngcontent-%COMP%]{padding-bottom:0;padding-right:0;padding-left:0}.jointCust[_ngcontent-%COMP%]{color:#004c97}.text-large[_ngcontent-%COMP%]{padding-left:20px;font-size:24px;width:36%}.headerArrow[_ngcontent-%COMP%]{padding-left:65px;cursor:pointer;margin-top:5px}.headerMapping[_ngcontent-%COMP%]{top:108px;left:120px;height:17px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 12px/17px Manrope;letter-spacing:var(--unnamed-character-spacing-0);text-align:left;font:normal normal normal 12px/17px Manrope;letter-spacing:0;color:#bfbfc1;padding-left:70px}.label[_ngcontent-%COMP%]{font-size:10px}.kycStatuscard[_ngcontent-%COMP%]{height:59px;width:12%;border-radius:8px;background:#e2f7f1 0 0 no-repeat padding-box;border:1px solid #008461;margin-left:42%;margin-top:-32px;padding:8px 0 0 20px!important}.status[_ngcontent-%COMP%]{color:#008461;opacity:.85;margin-bottom:20px}.header[_ngcontent-%COMP%]{padding-top:4%} .mat-tab-label-active{color:#004c97!important;font-family:manrope!important;opacity:1!important} .mat-tab-group.mat-primary .mat-ink-bar{background-color:#004c97!important;height:2px} .mat-tab-header{background-color:#fff} .mat-tab-label .mat-tab-label-content{width:12pc;font-size:14px;font-family:manrope} .mat-elevation-z4{box-shadow:none!important} .egret-blue.mat-tab-header-pagination-chevron{border-color:#004c97!important}"]}),e})();var A=o("u9T3"),j=o("vrAh"),z=o("pMoy"),D=o("f44v"),U=o("TN/R"),G=o("o4Yh"),B=o("40+f"),Y=o("e6WT"),q=o("SqCe"),H=o("rJgo"),J=o("BTe0"),K=o("pu8Q"),Z=o("zQhy"),Q=o("q7Ft"),$=o("jMqV"),ee=o("mPVK"),te=o("hzfI"),oe=o("l0rg"),ae=o("ZFy/"),ne=o("cUpR"),re=o("w9WL"),ie=o("jgPy"),ce=o("zMWy"),se=o("PCNd"),le=o("hrfs"),de=o("aLe/"),ge=o("EpeG");const be=[{path:"individual-onboarding",component:E},{path:"customer-type",component:(()=>{class e{constructor(e){this.dialogService=e}ngOnInit(){console.log("customerv2"),this.dialogService.openOnboardingVerificationMethod()}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(n.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["app-customer-type-dialog"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()}];var ue=o("Gp04");o("cMG6");let pe=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(t){return new(t||e)},providers:[P.a,S.a,M.a,w],imports:[[a.c,a.c,l.l,A.a,de.c,l.x,b.b,q.e,te.c,C.c,u.f,B.a,G.b,H.c,ee.a,x.b,K.a,p.e,j.b,Y.c,U.f,y.m,ie.a,$.b,D.b,ae.b,z.b,Q.g,le.a,Z.c,f.c,oe.b,J.b,A.a,re.a,ne.c,se.a,ce.a,ge.b,ue.a,d.l.forChild(be)]]}),e})()}}]);