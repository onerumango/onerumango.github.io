{"version":3,"file":"default-src_app_pages_token-v2_token-v2_page_ts.js","mappings":"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","sources":["./src/app/pages/token-v2/token-v2.page.ts"],"sourcesContent":["import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\r\nimport {\r\n  ModalController,\r\n  AlertController,\r\n  ActionSheetController,\r\n  Platform,\r\n} from '@ionic/angular';\r\nimport * as moment from 'moment';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { DataService } from 'src/app/services/data.service';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { TokenObjects } from '../transaction-popup/transaction-popup.page';\r\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\r\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-token-v2',\r\n  templateUrl: './token-v2.page.html',\r\n  styleUrls: ['./token-v2.page.scss'],\r\n})\r\nexport class TokenV2Page implements OnInit {\r\n  @ViewChild('openLink') openLink: ElementRef;\r\n  tokenObjects = new TokenObjects();\r\n  tokenResponse: any;\r\n  transAmount: any;\r\n  transDate: any;\r\n  transTime: any;\r\n  remarks: any;\r\n  public myAngularxQrCode: string = null;\r\n  blobUrl: any;\r\n  imageToShow: any;\r\n  branch: string;\r\n  phoneNumber: string;\r\n  productCode: any;\r\n  accountNum: string;\r\n  accounttype: string;\r\n  accountcurrency: string;\r\n  tokenTitle: string;\r\n  appointmentId: string;\r\n  appointmentDetails: any;\r\n  appointmentStatus: any;\r\n  handlerMessage = '';\r\n  roleMessage = '';\r\n  accountInfo: {};\r\n  trans: any;\r\n  tellerId: any;\r\n  @Input() value: any;\r\n  @Input() screen: string = 'mobile-kyc';\r\n  @Input() txntitle: any;\r\n  tranType: any;\r\n  @Input() scheduleInfo: any;\r\n  @Input() screenType: any;\r\n  image: Blob;\r\n  imageURL: SafeUrl;\r\n  isDevice: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private dataRoute: ActivatedRoute,\r\n    private api: ApiService,\r\n    private clipboard: Clipboard,\r\n    private sanitizer: DomSanitizer,\r\n    public platform: Platform,\r\n    private actionSheetCtrl: ActionSheetController,\r\n    private socialSharing: SocialSharing,\r\n    private toastService: ToastService,\r\n    private alertController: AlertController,\r\n    private modalCtrl: ModalController,\r\n    private shareDataService: DataService\r\n  ) {\r\n    this.myAngularxQrCode = 'Your QR code data string';\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.phoneNumber = localStorage.getItem('customerPhonenum');\r\n    this.isDevice = this.platform.is('cordova');\r\n\r\n    console.log(this.scheduleInfo);\r\n\r\n    this.api.getIndex().subscribe((resp) => {\r\n      this.assignProductCode(resp.index);\r\n    });\r\n\r\n    this.appointmentDetails = JSON.parse(\r\n      localStorage.getItem('AppointmentDetails')\r\n    );\r\n    console.log('NEW', this.appointmentDetails);\r\n    if (this.appointmentDetails) {\r\n      this.trans = this.appointmentDetails;\r\n      this.appointmentStatus = this.appointmentDetails.appointmentStatus;\r\n      this.appointmentId = this.appointmentDetails.appointmentId;\r\n      this.transAmount = this.appointmentDetails.transactionAmount;\r\n      this.transDate = moment(this.appointmentDetails.transactionDate).format(\r\n        'D MMMM y'\r\n      );\r\n      this.transTime = this.appointmentDetails.transactionTime;\r\n      this.branch = this.appointmentDetails.transactionBranch;\r\n      this.accountNum = this.appointmentDetails.accountNumber;\r\n      this.accounttype = this.appointmentDetails.accountType;\r\n      this.accountcurrency = this.appointmentDetails.accountCurrency;\r\n      this.tranType = this.appointmentDetails?.trnType;\r\n      this.remarks = this.appointmentDetails.remarks;\r\n      this.generateQRCode();\r\n    } else {\r\n      this.getData();\r\n    }\r\n  }\r\n\r\n  assignProductCode(index: any) {\r\n    this.productCode = index;\r\n  }\r\n\r\n  close() {\r\n    localStorage.removeItem('AppointmentDetails');\r\n    console.log(this.screen);\r\n    if (this.screen == 'onScreen') {\r\n      this.modalCtrl.dismiss();\r\n      this.router.navigate(['dashboard']);\r\n    } else {\r\n      this.modalCtrl.dismiss();\r\n    }\r\n  }\r\n\r\n  convertToCapital(value: string) {\r\n    return value.toLocaleLowerCase();\r\n  }\r\n\r\n  generateQRCode() {\r\n    this.tokenObjects.transactionId = this.value?.transactionId;\r\n    this.tokenObjects.accountId = this.accountNum;\r\n    this.tokenObjects.transactionDate = moment(\r\n      new Date(localStorage.getItem('TransactionDate'))\r\n    ).format('DD-MM-YYYY');\r\n    this.tokenObjects.transactionDate = localStorage.getItem('TransactionDate');\r\n    this.tokenObjects.timeSlot = localStorage.getItem('TransactionTime');\r\n    this.tokenObjects.productCode = this.productCode;\r\n    this.tokenObjects.phoneNumber = this.phoneNumber;\r\n\r\n    this.api.generateQRCode(this.tokenObjects).subscribe(\r\n      (tokenResp) => {\r\n        this.image = tokenResp;\r\n        this.imageURL = this.sanitizer.bypassSecurityTrustUrl(\r\n          URL.createObjectURL(this.image)\r\n        );\r\n      },\r\n      (err) => {\r\n        console.log('err : ', err);\r\n      }\r\n    );\r\n  }\r\n\r\n  nativeDevice(image: Blob) {\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      this.imageToShow = reader.result;\r\n      console.log(this.imageToShow);\r\n    };\r\n    reader.readAsDataURL(image);\r\n  }\r\n\r\n  async presentAlert(event) {\r\n    console.log(event);\r\n    const alert = await this.alertController.create({\r\n      // header: `<ion-icon ios=\"ios-add\" md=\"md-add\"></ion-icon>Add your info`,\r\n      message:\r\n        '<div class=\"alert-container\">' +\r\n        '<ion-icon class=\"alert-icon\" src=\"/assets/icon/v2/delete.svg\"></ion-icon>' +\r\n        '<div class=\"alert-header\">Cancel the Appointment?</div>' +\r\n        '<p class=\"alert-subHeader\">You will not have a chance to undo it.</p>' +\r\n        '</div>',\r\n      cssClass: 'delete-alert',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          cssClass: 'alert-delete-confirm',\r\n          role: 'confirm',\r\n          handler: () => {\r\n            this.handlerMessage = 'Alert confirmed';\r\n            this.delete();\r\n          },\r\n        },\r\n        {\r\n          text: 'Back',\r\n          cssClass: 'alert-delete-cancel',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            this.handlerMessage = 'Alert canceled';\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n\r\n    const { role } = await alert.onDidDismiss();\r\n    this.roleMessage = `Dismissed with role: ${role}`;\r\n  }\r\n\r\n  async editTransaction() {\r\n    console.log(this.appointmentDetails);\r\n    this.value = this.appointmentDetails;\r\n    console.log('value------', this.value);\r\n\r\n    localStorage.removeItem('AppointmentDetails');\r\n    history.pushState({ data: this.value }, '', '');\r\n    if (this.value.trnType == 'Cheque Deposit') {\r\n      this.router.navigateByUrl('/cheque-deposit-v2', {\r\n        state: { data: this.value },\r\n      });\r\n    } else if (this.value.trnType == 'Cheque Withdrawal') {\r\n      this.router.navigateByUrl('/cheque-withdrawal-v2', {\r\n        state: { data: this.value },\r\n      });\r\n    } else\r\n      this.router.navigateByUrl(\r\n        `/${this.value.trnType.toLowerCase().replace(' ', '')}`,\r\n        {\r\n          state: { data: this.value },\r\n        }\r\n      );\r\n    this.modalCtrl.dismiss(this.value);\r\n  }\r\n\r\n  delete() {\r\n    const data = {\r\n      appointmentId: this.trans.appointmentId,\r\n      operation: 'cancel',\r\n    };\r\n    console.log('cancelled!', data);\r\n    this.api.appointmentBooking(data).subscribe((resp) => {\r\n      console.log(resp);\r\n      localStorage.setItem('canceledAppointment', resp.transactionTime);\r\n      this.appointmentStatus = resp.appointmentStatus;\r\n      this.appointmentId = resp.appointmentId;\r\n      this.transAmount = resp.transactionAmount;\r\n      this.transDate = resp.transactionDate;\r\n      this.transTime = resp.transactionTime;\r\n      this.branch = resp.transactionBranch;\r\n      this.accountNum = resp.accountNumber;\r\n      this.accounttype = resp.accountType;\r\n      this.accountcurrency = resp.accountCurrency;\r\n      this.remarks = resp.remarks;\r\n    });\r\n  }\r\n\r\n  getData() {\r\n    this.shareDataService.getAccountInfo.subscribe((data) => {\r\n      console.log('Data', data);\r\n      this.accountInfo = data;\r\n    });\r\n\r\n    this.api\r\n      .getByTransactionId(this.value.transactionId)\r\n      .subscribe((response) => {\r\n        console.log(response);\r\n        this.tellerId = response.tellerId;\r\n        this.trans = JSON.stringify(response);\r\n        this.trans = JSON.parse(this.trans);\r\n        this.appointmentDetails = this.trans;\r\n        this.appointmentStatus = this.trans.appointmentStatus;\r\n        this.appointmentId = this.trans.appointmentId;\r\n        this.transAmount = this.trans.transactionAmount;\r\n        this.transDate = moment(this.trans.transactionDate).format('D MMMM y');\r\n        this.transTime = this.trans.transactionTime;\r\n        this.branch = this.trans.transactionBranch;\r\n        this.accountNum = this.trans.accountNumber;\r\n        this.accounttype = this.trans.accountType;\r\n        this.accountcurrency = this.trans.accountCurrency;\r\n        this.tranType = this.trans.trnType;\r\n        this.remarks = this.trans.remarks;\r\n\r\n        this.generateQRCode();\r\n      });\r\n  }\r\n\r\n  addToWallet() {\r\n    let payload = {\r\n      transactionId: this.value.transactionId,\r\n      addToWallet: true,\r\n    };\r\n\r\n    this.api.updateAddToWallet(payload).subscribe(\r\n      (res) => {\r\n        this.toastService.showToast('Added Successfully');\r\n        this.router.navigate(['dashboard']);\r\n      },\r\n      (err: any) => {\r\n        console.error(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  convertDate(date: any) {\r\n    let cDate = moment(date).format('D MMM y');\r\n    return cDate;\r\n  }\r\n\r\n  // TO Be Removed\r\n  convertTime(date: any) {\r\n    let cDate = moment(date).format('HH:MM A');\r\n    return cDate;\r\n  }\r\n\r\n  formatAMPM(dateVal, TimeVal) {\r\n    let date: any = new Date(dateVal + ' ' + TimeVal);\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    var ampm = hours >= 12 ? 'PM' : 'AM';\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // the hour '0' should be '12'\r\n    minutes = minutes < 10 ? '0' + minutes : minutes;\r\n    var strTime = hours + ':' + minutes + ' ' + ampm;\r\n    return strTime;\r\n  }\r\n\r\n  async openSheet() {\r\n    const actionSheet = await this.actionSheetCtrl.create({\r\n      header: 'Appointment Token Share',\r\n      animated: true,\r\n      buttons: [\r\n        {\r\n          text: 'Share via WhatsApp',\r\n          icon: 'share',\r\n          data: {\r\n            action: 'share',\r\n          },\r\n        },\r\n        {\r\n          text: 'Copy',\r\n          icon: 'copy',\r\n          data: {\r\n            action: 'copy',\r\n          },\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          icon: 'close',\r\n          data: {\r\n            action: 'cancel',\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await actionSheet.present();\r\n\r\n    const result = await actionSheet.onDidDismiss();\r\n\r\n    if (result?.data?.action == 'share') {\r\n      if (this.isDevice) {\r\n        this.openWhatsApp();\r\n      } else {\r\n        this.toastService.showToast('Try to share through native mobile');\r\n      }\r\n    } else if (result?.data?.action == 'copy') {\r\n      this.copyToken();\r\n    }\r\n    {\r\n      return;\r\n    }\r\n  }\r\n\r\n  mask(str, amt = 1) {\r\n    if (amt > str.length) {\r\n      return '*'.repeat(str.length);\r\n    } else {\r\n      return str.substr(0, str.length - amt) + '*'.repeat(amt);\r\n    }\r\n  }\r\n\r\n  copyToken() {\r\n    this.clipboard\r\n      .copy(`Your appointment token is ${this.appointmentId}`)\r\n      .then((res) => {\r\n        this.toastService.showToast('copied');\r\n      })\r\n      .catch((err) => {\r\n        this.toastService.showToast('Try to share through native mobile');\r\n      });\r\n  }\r\n\r\n  openWhatsApp() {\r\n    this.openLink.nativeElement.click();\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}