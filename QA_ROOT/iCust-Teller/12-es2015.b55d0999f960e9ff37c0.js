(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"4fRq":function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},EcEN:function(t,e,n){var r=n("xDdU"),o=n("xk4V"),i=o;i.v1=r,i.v4=o,t.exports=i},I2ZF:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}},VVaf:function(t,e,n){"use strict";n.r(e),n.d(e,"SessionsModule",function(){return E});var r=n("Kdsb"),o=n("ofXK"),i=n("3Pt+"),s=n("tyNb"),a=n("zMWy"),c=n("YUcS"),l=n("sYmb"),d=n("fXoL"),g=n("NFeN"),p=n("bTqV");const b=function(){return["/"]};let u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Ib({type:t,selectors:[["app-not-found"]],decls:15,vars:2,consts:[[1,"d-flex","align-items-center","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"div",2),d.Ub(3,"mat-icon",3),d.Rc(4,"error"),d.Tb(),d.Ub(5,"div",4),d.Ub(6,"h1",5),d.Rc(7,"404"),d.Tb(),d.Ub(8,"div",6),d.Rc(9,"Page Not Found!"),d.Tb(),d.Tb(),d.Tb(),d.Ub(10,"div",7),d.Ub(11,"button",8),d.Rc(12,"Back to Dashboard"),d.Tb(),d.Ub(13,"button",9),d.Rc(14,"Report this Problem"),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Bb(11),d.oc("routerLink",d.tc(1,b)))},directives:[g.a,p.a,s.h],styles:[""]}),t})();const h=function(){return["/"]};let f=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Ib({type:t,selectors:[["app-error"]],decls:15,vars:2,consts:[[1,"page-wrap","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"div",2),d.Ub(3,"mat-icon",3),d.Rc(4,"warning"),d.Tb(),d.Ub(5,"div",4),d.Ub(6,"h1",5),d.Rc(7,"500"),d.Tb(),d.Ub(8,"div",6),d.Rc(9,"Server Error!"),d.Tb(),d.Tb(),d.Tb(),d.Ub(10,"div",7),d.Ub(11,"button",8),d.Rc(12,"Back to Dashboard"),d.Tb(),d.Ub(13,"button",9),d.Rc(14,"Report this Problem"),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Bb(11),d.oc("routerLink",d.tc(1,h)))},directives:[g.a,p.a,s.h],styles:[""]}),t})();var m=n("nZzT"),v=n("0IaG"),x=n("rp8y"),y=n("tZUg"),w=n("dNgK"),P=n("XiUz");let C=(()=>{class t{constructor(t,e,n,r,o,i,s,a,c,l){this.dialogRef=t,this.fpCaptureService=e,this.data=n,this.cdr=r,this.snack=o,this.fingerPrintService=i,this.jwtService=s,this.formBuilder=a,this.ls=c,this.router=l,this.titleMessage="Please use your fingerprint to authenticate",this.contentMessage="Please place your thumb on the fingerprint reader to proceed.",this.totalItems=0,this.totalPages=0,this.flag=!1}ngOnInit(){this.custFormGroup=this.formBuilder.group({anyCustomerId:[""]})}applyFilter(t){t.target.value=t.target.value.trim(),this.customerId=t.target.value,console.log("Value : ",this.customerId)}getCutomerData(t){console.log("formData :: ",t)}goToClose(){this.dialogRef.close()}scan(){this.captureFingerPrint("Thumb")}captureFingerPrint(t){this.fingerPrintService.CallingSGIFPCapture().subscribe(e=>{console.log("capFingerPrint 29 ::: ",e),console.log("fingerName :: ",t),0==e.ErrorCode?(this.cdr.detectChanges(),console.log("this.customerId :: ",this.customerId),this.saveFingerPrint(e)):this.getError(e.ErrorCode)})}getFpDataForMatchOnPageLoad(t){console.log("TemplateBase64 :: ",t),this.fpCaptureService.getCustInfoByFp(0,100,4).subscribe(e=>{console.log("resp:: ",e),this.matchFpFromUi(t,e.data[0])})}matchFpFromUi(t,e){this.fpCaptureService.CallingSGIFPMatch(t,e.fpTemplateBase64).subscribe(t=>{if(console.log("fpResp : ",t),t.MatchingScore>=0&&0===t.ErrorCode){this.snack.open("Finger Print Authentication Completed Successfully","OK",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"});let t=e.customerId;return console.log("res",e),this.jwtService.setUserAndToken(e,!0),this.router.navigateByUrl("/others/dashboard"),this.ls.setItem("customer_id",t),this.cdr.markForCheck(),this.cdr.detectChanges(),void this.dialogRef.close({message:"Confirm",custId:t})}return this.snack.open("Finger Print Authentication Failed","error",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"}),void this.getError(t.ErrorCode)})}getError(t){let e=this.fpCaptureService.errorCodeService(t);console.log("error code",e)}saveFingerPrint(t){this.fpCaptureService.uploadFingerPrint(t).subscribe(t=>{console.log("after save ",t),this.cdr.markForCheck(),this.snack.open("Captured  Finger","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.getFpDataForMatchOnPageLoad(t.TemplateBase64)}}return t.\u0275fac=function(e){return new(e||t)(d.Ob(v.g),d.Ob(x.a),d.Ob(v.a),d.Ob(d.h),d.Ob(w.a),d.Ob(x.a),d.Ob(m.a),d.Ob(i.g),d.Ob(y.a),d.Ob(s.g))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-fingerprint"]],decls:19,vars:2,consts:[[2,"background-color","white"],["fxLayout","row",1,"contain",3,"click"],[1,"backIcon"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between center",1,""],[1,"card-title"],[1,"para"],[1,"matIcon"],["mat-flat-button","",1,"buttonScan",3,"click"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.cc("click",function(){return e.goToClose()}),d.Ub(2,"mat-icon",2),d.Rc(3,"close"),d.Tb(),d.Tb(),d.Ub(4,"div"),d.Ub(5,"div",3),d.Ub(6,"div"),d.Ub(7,"h3",4),d.Rc(8),d.Tb(),d.Pb(9,"br"),d.Ub(10,"div"),d.Ub(11,"p",5),d.Rc(12),d.Tb(),d.Tb(),d.Tb(),d.Ub(13,"div"),d.Ub(14,"mat-icon",6),d.Rc(15,"fingerprint"),d.Tb(),d.Tb(),d.Ub(16,"div"),d.Ub(17,"button",7),d.cc("click",function(){return e.scan()}),d.Rc(18,"SCAN"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Bb(8),d.Sc(e.titleMessage),d.Bb(4),d.Sc(e.contentMessage))},directives:[P.d,g.a,P.e,P.c,p.a],styles:[".main-div[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.text[_ngcontent-%COMP%]{justify-content:center;padding-top:25px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#000}.para[_ngcontent-%COMP%]{color:#000;text-align:center}.matIcon[_ngcontent-%COMP%]{color:#4badf7;padding-right:4rem;font-size:6rem}.card-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}.card-title[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:sans-serif;color:#000}p[_ngcontent-%COMP%]{font-size:12px}.buttonScan[_ngcontent-%COMP%]{width:170px;border-radius:25px;background-color:#456efe;color:#fff;font-family:sans-serif}.full-width[_ngcontent-%COMP%]{border-radius:10px}"]}),t})();var _=n("ETNk"),T=n("rmxa"),U=n("EcEN"),O=n("nm5K"),M=n("5eHb"),I=n("JqCM"),k=n("kmnG"),R=n("qFsG");function F(t,e){1&t&&(d.Ub(0,"mat-error",22),d.Rc(1," Please enter user Id "),d.Tb())}function S(t,e){1&t&&(d.Ub(0,"mat-error",22),d.Rc(1," Please enter Password "),d.Tb())}const D=[{path:"",children:[{path:"signin",component:(()=>{class t{constructor(t,e,n,r,o,i,s,a,c){this.fb=t,this.layout=e,this.router=n,this.jwtService=r,this.themeService=o,this.dialog=i,this.toastr=s,this.apiService=a,this.spinner=c,this.hide=!0}ngOnInit(){this.browserKey=Object(U.v4)(),this.signinForm=this.fb.group({username:["",i.C.required],password:["",i.C.required],systemCode:[this.browserKey]}),this.apiService.getSecurityPolicyDetails().subscribe(t=>{this.security=t[0]})}onSubmit(){this.signinForm.invalid?""!==this.signinForm.value.password&&""!==this.signinForm.value.username||this.toastr.error("Error","Please enter login credentials.",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3}):(this.spinner.show(),this.jwtService.loginIcut(this.signinForm.value).subscribe(t=>{console.log("ress",t),this.userResp=t,this.spinner.hide(),null==(null==t?void 0:t.data)&&"Account blocked, Max failed attempts reached"==t.message?this.toastr.error(""+t.message,"Error!",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3}):t&&(this.notifyPswdExpry=this.security.notifyPasswordExpiryInDays,this.pswdExpiry=this.security.pswdExpiry,0===this.pswdExpiry&&0===this.notifyPswdExpry||(this.currentDate=new Date,this.changePwdDate=new Date(this.userResp.pwdChangeDate),console.log(this.changePwdDate),this.differnceInTime=this.currentDate-this.changePwdDate,console.log(this.differnceInTime),this.differnceInDays=Math.floor(this.differnceInTime/864e5),this.finalDiff=this.pswdExpiry-this.differnceInDays,console.log(this.finalDiff,this.pswdExpiry,this.differnceInDays),0===this.finalDiff||this.finalDiff<=0?this.toastr.error("Error!","Your Password is expired. Please reset your password.",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3}):(console.log("if res",t),this.jwtService.setUserAndToken(t,!0),localStorage.setItem("branchName",t.branchName),localStorage.setItem("userName",t.userName),localStorage.setItem("browserId",this.browserKey),localStorage.setItem("tellerid",t.id),console.log(this.finalDiff),this.finalDiff>0&&this.finalDiff<=this.notifyPswdExpry&&"A"==this.security.authStatus&&this.toastr.error("Your password will expire in "+this.finalDiff+" day(s)",""),this.router.navigateByUrl("/others/dashboard"),this.showToast(t))))},t=>{console.log("err",t),this.spinner.hide(),t.error&&this.toastr.error(""+t.error,"Error!",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3})}))}onChange(t){console.log("e",t)}changeTheme1(t){this.layout.applyMatTheme(t)}openDialog(){this.dialog.open(C).afterClosed().subscribe(t=>{console.log("Dialog result: "+t)})}showToast(t){this.toastr.success(""+t.email,`Welcome, ${t.userName}!`,{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3})}}return t.\u0275fac=function(e){return new(e||t)(d.Ob(i.g),d.Ob(T.a),d.Ob(s.g),d.Ob(m.a),d.Ob(_.a),d.Ob(v.b),d.Ob(M.b),d.Ob(O.b),d.Ob(I.c))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-signin"]],decls:40,vars:5,consts:[[1,"login_container"],[1,"login_content"],[1,"login_heading"],[1,"login_subtitle"],["fxLayout","column",1,"login_form"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","type","text","name","username","placeholder","User Id","required",""],["class","errorColour",4,"ngIf"],["matInput","","formControlName","password","name","password","placeholder","********","required","",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],[1,"login_link_button"],["mat-raised-button","",1,"login_sigin",3,"click"],[1,"login_alternate_signin"],[1,"login_horizontal"],[1,"login_alternate_text"],[1,"login_methods"],["mat-raised-button","",1,"login_button",3,"click"],[1,"loginMethodCard"],["mat-raised-button","",1,"login_button"],[1,"login_image"],["src","assets/images/login-image.png"],[1,"errorColour"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"h1",2),d.Rc(3,"Demo Bank"),d.Tb(),d.Ub(4,"h2",3),d.Rc(5,"Welcome to DemoBank!"),d.Tb(),d.Ub(6,"div",4),d.Ub(7,"form",5),d.cc("ngSubmit",function(){return e.onSubmit()}),d.Ub(8,"mat-form-field",6),d.Ub(9,"mat-label"),d.Rc(10,"User Id"),d.Tb(),d.Pb(11,"input",7),d.Pc(12,F,2,0,"mat-error",8),d.Tb(),d.Ub(13,"mat-form-field",6),d.Ub(14,"mat-label"),d.Rc(15,"Password"),d.Tb(),d.Pb(16,"input",9),d.Ub(17,"mat-icon",10),d.cc("click",function(){return e.hide=!e.hide}),d.Rc(18),d.Tb(),d.Pc(19,S,2,0,"mat-error",8),d.Tb(),d.Ub(20,"button",11),d.Rc(21,"Forgot Password?"),d.Tb(),d.Ub(22,"button",12),d.cc("click",function(t){return e.onChange(t)}),d.Rc(23,"Sign In"),d.Tb(),d.Tb(),d.Ub(24,"div",13),d.Pb(25,"div",14),d.Ub(26,"div",15),d.Rc(27,"Or sign in using"),d.Tb(),d.Pb(28,"div",14),d.Tb(),d.Ub(29,"div",16),d.Ub(30,"button",17),d.cc("click",function(){return e.openDialog()}),d.Ub(31,"mat-icon",18),d.Rc(32,"fingerprint"),d.Tb(),d.Rc(33,"FingerPrint"),d.Tb(),d.Ub(34,"button",19),d.Ub(35,"mat-icon",18),d.Rc(36,"face"),d.Tb(),d.Rc(37,"Face Id"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(38,"div",20),d.Pb(39,"img",21),d.Tb(),d.Tb()),2&t&&(d.Bb(7),d.oc("formGroup",e.signinForm),d.Bb(5),d.oc("ngIf",e.signinForm.get("username").hasError("required")),d.Bb(4),d.oc("type",e.hide?"password":"text"),d.Bb(2),d.Sc(e.hide?"visibility_off":"visibility"),d.Bb(1),d.oc("ngIf",e.signinForm.get("password").hasError("required")))},directives:[P.d,i.D,i.u,i.l,k.c,k.g,R.b,i.d,i.t,i.j,i.B,o.n,g.a,k.i,p.a,k.b],styles:[".login_container[_ngcontent-%COMP%]{padding:40px;display:flex;justify-content:center}.login_subtitle[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:28px;padding-left:16px}.login_form[_ngcontent-%COMP%]{max-width:408px;width:100%;padding-left:16px;display:flex;flex-direction:column;gap:16px}.login_content[_ngcontent-%COMP%]{width:100%;max-width:568px;gap:16px;padding-left:20px}.login_heading[_ngcontent-%COMP%]{letter-spacing:0;color:#004c97}.login_link_button[_ngcontent-%COMP%]{color:#004c97;outline:none;background:none;box-shadow:none;border:none;align-self:flex-end;font-weight:700;margin-top:-10px;float:right}.login_horizontal[_ngcontent-%COMP%]{height:2px;width:100%;background-color:#004c97;height:1px;flex-grow:1;align-self:center}.login_alternate_text[_ngcontent-%COMP%]{width:100%;align-self:center;margin:auto;text-align:center;color:#004c97;font-weight:700}.login_button[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;align-items:center;width:100%;height:58px;background:#fff 0 0 no-repeat padding-box;box-shadow:3px 3px 15px rgba(0,0,0,.058823529411764705);border-radius:15px;border:none}.login_alternate_signin[_ngcontent-%COMP%]{display:flex;margin-top:20px}.login_sigin[_ngcontent-%COMP%]{background:transparent linear-gradient(90deg,#051a2d,#004c97) 0 0 no-repeat padding-box;border-radius:24px;opacity:1;padding:5px;width:100%;color:#fff;margin-top:20px}.login_image[_ngcontent-%COMP%]{display:block;display:flex;overflow:hidden;max-width:760px;min-height:520px;max-height:calc(100vh - 80px)}.login_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-o-object-fit:cover;object-fit:cover}.login_methods[_ngcontent-%COMP%]{display:flex;gap:16px}@media screen and (max-width:1023px){.login_image[_ngcontent-%COMP%]{display:none}.login_content[_ngcontent-%COMP%]{padding-left:0;max-width:408px}}@media screen and (max-width:767px){.login_container[_ngcontent-%COMP%]{padding:20px}.login_form[_ngcontent-%COMP%]{padding-left:0}.login_subtitle[_ngcontent-%COMP%]{margin:16px 0}}[_nghost-%COMP%]     .mat-form-field-outline-start{border-radius:15px 0 0 15px!important;min-width:10px!important}[_nghost-%COMP%]     .mat-form-field-outline-end{border-radius:0 15px 15px 0!important}.loginMethodCard[_ngcontent-%COMP%]{margin-right:20px;color:#004c97}"]}),t})(),data:{title:"Signin"}},{path:"404",component:u,data:{title:"Not Found"}},{path:"error",component:f,data:{title:"Error"}}]}];let E=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(e){return new(e||t)},imports:[[o.c,i.n,l.b,i.A,a.a,c.a,r.c,I.b,s.k.forChild(D)]]}),t})()},xDdU:function(t,e,n){var r,o,i=n("4fRq"),s=n("I2ZF"),a=0,c=0;t.exports=function(t,e,n){var l=e&&n||0,d=e||[],g=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==g||null==p){var b=i();null==g&&(g=r=[1|b[0],b[1],b[2],b[3],b[4],b[5]]),null==p&&(p=o=16383&(b[6]<<8|b[7]))}var u=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:c+1,f=u-a+(h-c)/1e4;if(f<0&&void 0===t.clockseq&&(p=p+1&16383),(f<0||u>a)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=u,c=h,o=p;var m=(1e4*(268435455&(u+=122192928e5))+h)%4294967296;d[l++]=m>>>24&255,d[l++]=m>>>16&255,d[l++]=m>>>8&255,d[l++]=255&m;var v=u/4294967296*1e4&268435455;d[l++]=v>>>8&255,d[l++]=255&v,d[l++]=v>>>24&15|16,d[l++]=v>>>16&255,d[l++]=p>>>8|128,d[l++]=255&p;for(var x=0;x<6;++x)d[l+x]=g[x];return e||s(d)}},xk4V:function(t,e,n){var r=n("4fRq"),o=n("I2ZF");t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[i+a]=s[a];return e||o(s)}}}]);