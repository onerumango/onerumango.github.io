"use strict";(self.webpackChunkicust=self.webpackChunkicust||[]).push([[172],{6172:(Ql,X,f)=>{f.r(X),f.d(X,{OthersModule:()=>Vl});var x=f(6696),l=f(9808),c=f(3075),w=f(7423),p=f(9224),ut=f(7446),lt=f(6688),mt=f(3954),k=f(5245),I=f(7531),ht=f(4623),dt=f(2181),pt=f(5899),J=f(9814),gt=f(2368),E=f(3251),tt=f(2155),_t=f(6166),ft=f(4829),Ct=f(8623),t=f(5e3);let xt=(()=>{class o{constructor(e){this.route=e}ngOnInit(){}onClickOfButton(){this.route.navigateByUrl("/others/cheque-withdrawal")}onClickOfButton1(){this.route.navigateByUrl("/others/cheque-withdrawal1")}onClickOfButton3(){this.route.navigateByUrl("/others/authenticate")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-blank"]],decls:7,vars:0,consts:[[1,"m-333"],["mat-button","","color","primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"p",0)(1,"button",1),t.NdJ("click",function(){return n.onClickOfButton1()}),t._uU(2,"Cheque-Withdrawal 2"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return n.onClickOfButton()}),t._uU(4,"Cheque-Withdrawal 3"),t.qZA(),t.TgZ(5,"button",1),t.NdJ("click",function(){return n.onClickOfButton3()}),t._uU(6,"Authentication"),t.qZA()())},dependencies:[w.lW]}),o})();var yt=f(1164),N=f(2848),T=f(6019),M=f(8726),A=f(8966),F=f(7261),m=f(7093);let L=(()=>{class o{constructor(e,n,a,i,s,u){this.dialogRef=e,this.apiService=n,this.snack=a,this.fb=i,this.router=s,this.data=u,this.verifyOtpModel=new M.l,this.afterSubmit=new t.vpe}ngOnInit(){this.title="An OTP has been sent to the Registered Mobile Number!",this.basicInformationForm=this.fb.group({otp:["",[c.kI.required]]})}closeClick(){this.dialogRef.close()}validateOtp(e){console.log("OTP validaion",e),""==e.otpNumber?this.snack.open("Please enter OTP to continue","OK",{duration:4e3,verticalPosition:"bottom",horizontalPosition:"right"}):(this.customerPhoneNum=localStorage.getItem("phonenumFromLogin"),console.log("Phonenumber from Local",this.customerPhoneNum,e),this.verifyOtpModel.sourceKey="mobile",this.verifyOtpModel.sourceValue=this.customerPhoneNum,this.verifyOtpModel.otp=e.otp,this.verifyOtpModel.type="",this.verifyOtpModel.isMobileLogin=!1,console.log("model",this.verifyOtpModel),this.apiService.verifyOtp(this.verifyOtpModel).subscribe(n=>{console.log("otpResp :: ",n),null!=n.data&&(""!=n.data.userId&&null!=n.data.userId&&"SUCCESS"==n.data.status?(this.afterSubmit.emit(!0),localStorage.setItem("userId",n.data.userId),this.snack.open("Validation successful","OK",{duration:1e3,verticalPosition:"bottom",horizontalPosition:"right"}),this.dialogRef.close(!0)):(this.dialogRef.close(!1),this.snack.open(`${n.data.responseMessage}`,"OK",{duration:4e3,verticalPosition:"bottom",horizontalPosition:"right"})))},n=>{console.log("wrong otp",n.status),this.snack.open("Incorrect OTP. Please try again.","OK",{duration:4e3,verticalPosition:"bottom",horizontalPosition:"right"})}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.so),t.Y36(N.s),t.Y36(F.ux),t.Y36(c.qu),t.Y36(x.F0),t.Y36(A.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-otp-verify"]],outputs:{afterSubmit:"afterSubmit"},decls:21,vars:4,consts:[["mat-button","","id","close","mat-dialog-close","",3,"click"],[1,"closeicon"],[3,"formGroup"],["fxLayout","row"],["id","box",1,"pd-2"],[1,"verification"],[1,"phoneNumber"],[1,"verify"],[1,"flex-grow-1"],["type","input",1,"inputMatcard"],["matInput","","id","otp","type","number","maxlength","6","oninput","this.value = this.value.slice(0, this.maxLength);","formControlName","otp",1,"alignment"],[1,"verify1"],["id","resend"],["mat-stroked-button","",1,"button",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return n.closeClick()}),t.TgZ(1,"mat-icon",1),t._uU(2,"close"),t.qZA()(),t.TgZ(3,"form",2)(4,"div",3)(5,"div",4)(6,"span",5),t._uU(7),t.qZA(),t.TgZ(8,"span",6),t._uU(9),t.qZA(),t.TgZ(10,"span",7),t._uU(11,"Please enter the OTP to verify"),t.qZA(),t.TgZ(12,"div",8)(13,"mat-card",9),t._UZ(14,"input",10),t.qZA()(),t.TgZ(15,"span",11),t._uU(16,"Not Recieved?"),t.TgZ(17,"span",12),t._uU(18," \xa0 Resend"),t.qZA()()()(),t.TgZ(19,"button",13),t.NdJ("click",function(){return n.validateOtp(n.basicInformationForm.value)}),t._uU(20,"Proceed"),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.basicInformationForm),t.xp6(4),t.Oqu(n.title),t.xp6(2),t.Oqu(n.number),t.xp6(10),t.Q6J("disabled",!n.basicInformationForm.valid))},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.nD,k.Hw,w.lW,p.a8,A.ZT,I.Nt,m.xw,c.sg,c.u],styles:[".phoneNumber[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:20px;color:#000;font-size:smaller;font-weight:bolder}.verification[_ngcontent-%COMP%]{display:block;text-align:center;margin:8% 5% 3%;font-size:20px}.verify[_ngcontent-%COMP%]{display:block;color:gray;font-size:14px;text-align:center;cursor:pointer}.verify1[_ngcontent-%COMP%]{display:block;color:gray;font-size:10px;text-align:center;margin-top:5px;cursor:pointer}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}.inputClass[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(255,255,255,.5),rgba(248,250,254,.5));border-top-style:hidden;border-right-style:hidden;border-left-style:hidden;border-bottom-style:hidden;box-shadow:0 3pt 6pt #00000029;font-weight:bolder}matCard[_ngcontent-%COMP%]{max-width:500px;align-items:center;justify-content:center;padding:5px;background-image:linear-gradient(rgba(255,255,255,.5),rgba(248,250,254,.5))}input[_ngcontent-%COMP%]{border-top-style:hidden;border-right-style:hidden;border-left-style:hidden;border-bottom-style:hidden;font-weight:bolder}.inputMatcard[_ngcontent-%COMP%]{padding:12px;max-width:40%;align-items:center;justify-content:center;display:flex;margin:20px auto auto}.button[_ngcontent-%COMP%]{width:170px;display:block;border-radius:45px;margin:25px auto 4%;color:#fff;background-color:#456efe}.cdk-overlay-pane.my-dialog[_ngcontent-%COMP%]{position:relative!important}.close.mat-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:5px;line-height:14px;min-width:auto}.closeicon[_ngcontent-%COMP%]{line-height:0px;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}#box[_ngcontent-%COMP%]{width:600px}#resend[_ngcontent-%COMP%]{font-weight:bolder;color:#000}#proceed[_ngcontent-%COMP%]{width:170px;background-color:#456efe;color:#fff;margin-top:25px;margin-bottom:4%}#otp[_ngcontent-%COMP%]{outline:none;text-align:center;letter-spacing:10px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),o})();var D=f(9122),g=f(7322),q=f(4107),O=f(508);const vt=["cdForm"];function Tt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1," keyboard_backspace"),t.qZA()}}function At(o,r){1&o&&t._UZ(0,"input",44),2&o&&t.Q6J("readonly",!0)}function bt(o,r){if(1&o&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.Oqu(e.accountType)}}function wt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",45),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,bt,2,2,"mat-option",46),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function It(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,At,1,1,"input",42),t.YNc(5,wt,2,1,"mat-select",43),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown)}}function Nt(o,r){if(1&o&&(t.TgZ(0,"mat-hint",21),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("Account Balance :",e.curr," ",e.formatAmount(e.accountBal),"")}}function kt(o,r){if(1&o&&(t.TgZ(0,"mat-hint",51),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij(" Holder Name :",e.userName,"")}}function qt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",48),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.cashdepositForm.get("accountNumber").value))}),t.qZA()(),t.YNc(5,Nt,2,2,"mat-hint",49),t._UZ(6,"br"),t.YNc(7,kt,2,2,"mat-hint",50),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.showAccountNum),t.xp6(2),t.Q6J("ngIf",!e.showAccountNum)}}function Zt(o,r){1&o&&t._UZ(0,"input",54),2&o&&t.Q6J("readonly",!0)}function Ft(o,r){if(1&o&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Dt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",55),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.fetchByAccountNum(a.value))}),t.TgZ(1,"mat-option"),t._uU(2,"select"),t.qZA(),t.YNc(3,Ft,2,2,"mat-option",46),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.accountNoList)}}function Mt(o,r){if(1&o&&(t.TgZ(0,"mat-hint",21),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("Account Balance : ",e.curr,"",e.formatAmount(e.accountBal),"")}}function Ot(o,r){if(1&o&&(t.TgZ(0,"mat-hint",51),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij(" Holder Name : ",e.userName,"")}}function Pt(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,Zt,1,1,"input",52),t.YNc(5,Dt,4,1,"mat-select",53),t.qZA(),t.YNc(6,Mt,2,2,"mat-hint",49),t._UZ(7,"br"),t.YNc(8,Ot,2,2,"mat-hint",50),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.flag1),t.xp6(1),t.Q6J("ngIf",e.flag1),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(2),t.Q6J("ngIf",e.hideDetails)}}function Bt(o,r){1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t._UZ(4,"input",44),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("readonly",!0))}function St(o,r){1&o&&t._UZ(0,"input",56),2&o&&t.Q6J("readonly",!0)}function Lt(o,r){1&o&&t._UZ(0,"input",56),2&o&&t.Q6J("readonly",!0)}function Jt(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Account Branch is Required! "),t.qZA())}function Ut(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.accountCurrencyImage(e.cashdepositForm.controls.accountCurrency.value):e.currencyImage,"")}}function Vt(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.currencyImage:e.accountCurrencyImage(e.cashdepositForm.controls.accountCurrency.value),"")}}function Qt(o,r){1&o&&t._UZ(0,"input",57),2&o&&t.Q6J("readonly",!0)}function Rt(o,r){1&o&&t._UZ(0,"input",57),2&o&&t.Q6J("readonly",!0)}function Yt(o,r){1&o&&t._UZ(0,"input",60),2&o&&t.Q6J("readonly",!0)}function Ht(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",63),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",22)(2,"div",64),t._uU(3),t.qZA(),t.TgZ(4,"div",65),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function Gt(o,r){if(1&o&&(t.TgZ(0,"mat-select",61),t.YNc(1,Ht,6,5,"mat-option",62),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function Kt(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",22)(5,"div",23),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",25),t.YNc(8,Yt,1,1,"input",58),t.YNc(9,Gt,2,2,"mat-select",59),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function Wt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",63),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",22)(2,"div",64),t._uU(3),t.qZA(),t.TgZ(4,"div",65),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function Et(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",22)(5,"div",23),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",25)(8,"mat-select",66),t.YNc(9,Wt,6,5,"mat-option",62),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(3),t.Q6J("ngForOf",e.countryValues)}}function zt(o,r){1&o&&t._UZ(0,"input",70),2&o&&t.Q6J("readonly",!0)}function jt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",71,72),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(2,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(2,3,e.transAmt,"1."))("readonly",e.isedit)}}function $t(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function Xt(o,r){if(1&o&&(t.TgZ(0,"div",67)(1,"mat-hint",21),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,zt,1,1,"input",68),t.YNc(5,jt,3,6,"input",69),t.qZA(),t.YNc(6,$t,2,0,"mat-error",20),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.cashdepositForm.get("transactionAmount").errors?null:e.cashdepositForm.get("transactionAmount").errors.min)}}function te(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function ee(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",67)(1,"mat-hint",21),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",73,72),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(6,"number"),t.qZA()(),t.YNc(7,te,2,0,"mat-error",20),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.transAmount)("value",t.xi3(6,3,e.transAmt,"2.")),t.xp6(3),t.Q6J("ngIf",null==e.cashdepositForm.get("transactionAmount").errors?null:e.cashdepositForm.get("transactionAmount").errors.min)}}function ne(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function oe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",86)(1,"div",87)(2,"p",88),t._uU(3,"2000"),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"div")(10,"input",92,93),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(12,"div",94),t.YNc(13,ne,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(11),n=t.oxw(2);t.xp6(13),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[2e3])}}function ae(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function ie(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"div",87)(2,"p",88),t._uU(3,"500"),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"input",96,97),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",94),t.YNc(12,ae,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[500])}}function re(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function ce(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"div",87)(2,"p",88),t._uU(3,"200"),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"input",98,99),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",94),t.YNc(12,re,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[200])}}function se(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function ue(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"div",87)(2,"p",88),t._uU(3,"100 "),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6," x"),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"input",100,101),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",94),t.YNc(12,se,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[100])}}function le(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function me(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"div",87)(2,"p",88),t._uU(3," 50"),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6," x"),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"input",102,103),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",94),t.YNc(12,le,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[50])}}function he(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function de(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"div",87)(2,"p",88),t._uU(3," 20 "),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6," x "),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"input",104,105),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",94),t.YNc(12,he,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[20])}}function pe(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function ge(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"div",87)(2,"p",88),t._uU(3," 10 "),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6," x "),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"input",106,107),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",94),t.YNc(12,pe,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[10])}}function _e(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"div",87)(2,"p",88),t._uU(3," 1 "),t.qZA()(),t.TgZ(4,"div",89)(5,"p",90),t._uU(6," x "),t.qZA()(),t.TgZ(7,"div",91)(8,"mat-card",18)(9,"input",108,107),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()()()}}function fe(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Total amount should be equal to ",e.cashdepositForm.value.transactionAmount," ")}}function Ce(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",74)(1,"form",null,75)(3,"mat-card",76)(4,"div",77)(5,"h4",78),t._uU(6,"Denomination"),t.qZA()(),t.TgZ(7,"div",79),t.YNc(8,oe,14,1,"div",80),t.YNc(9,ie,13,1,"div",81),t.YNc(10,ce,13,1,"div",81),t.YNc(11,ue,13,1,"div",81),t.YNc(12,me,13,1,"div",81),t.YNc(13,de,13,1,"div",81),t.YNc(14,ge,13,1,"div",81),t.YNc(15,_e,11,0,"div",81),t.qZA(),t.TgZ(16,"div",82)(17,"div",83)(18,"p",21),t._uU(19," Total Amount "),t.qZA(),t.TgZ(20,"mat-card",18)(21,"input",84),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmount=a)}),t.qZA()(),t.TgZ(22,"div",85),t.YNc(23,fe,2,1,"mat-error",20),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(8),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.transactionCurrency||"AED"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.transactionCurrency||"AED"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.transactionCurrency||"AED"==e.cashdepositForm.value.transactionCurrency),t.xp6(6),t.Q6J("ngModel",e.totalAmount),t.xp6(2),t.Q6J("ngIf",e.enableBtn1)}}function xe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",109),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1,"CANCEL"),t.qZA()}}function ye(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",110)(1,"button",111),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSaveofcashDeposit(a.cashdepositForm.value,a.ifQRvariable,a.cdForm))}),t._uU(2,"GENERATE TOKEN"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.cashdepositForm.get("transactionAmount").valid&&e.cashdepositForm.get("transactionCurrency").valid&&e.cashdepositForm.get("accountType").valid&&e.cashdepositForm.get("accountNumber").valid&&e.cashdepositForm.get("accountCurrency").valid&&e.cashdepositForm.get("totalChargeAmount").valid&&e.cashdepositForm.get("totalTransactionAmount").valid))}}function ve(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",110)(1,"button",111),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getOTP(a.cashdepositForm.value,a.ifQRvariable,a.cdForm))}),t._uU(2,"CONTINUE"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.cashdepositForm.get("transactionAmount").valid&&e.cashdepositForm.get("transactionCurrency").valid&&e.cashdepositForm.get("accountType").valid&&e.cashdepositForm.get("accountNumber").valid&&e.cashdepositForm.get("accountCurrency").valid&&e.cashdepositForm.get("totalChargeAmount").valid&&e.cashdepositForm.get("totalTransactionAmount").valid))}}let Te=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.dialog=s,this.cdr=u,this.ls=h,this.snack=d,this.changeDef=_,this.titleName="Cash Deposit",this.accType=["Savings","Deposit"],this.customerName=["Jane Smith","John Smith"],this.productCode="CHD",this.tokenOrigin="Kiosk",this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.ifQRvariable=!1,this.accounttypeArray=[],this.idList=[],this.tokenObjects=new T.R,this.isedit=!0,this.oTpModel=new M.m,this.enableContinue=!0,this.showAccountNum=!0,this.showAccoutType=!0,this.currencyImage="",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.hideDetails=!1,this.accountNoList=[],this.isLoading=!1,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),"New Customer"==this.custValidation&&(this.showAccountNum=!1,this.showAccoutType=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log("QRData",this.qrData),this.cashdepositForm=this.formBuilder.group({totalAmount:["",c.kI.required],transactionId:["",[c.kI.required]],customerId:["",[c.kI.required]],accountType:["",[c.kI.required]],accountNumber:["",[c.kI.required]],holderName:["",[c.kI.required]],accountCurrency:["",[c.kI.required]],transactionCurrency:["",[c.kI.required]],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],transactionAmount:["",[c.kI.required,c.kI.min(.1)]],productCode:["CHD",[c.kI.required]],tokenOrigin:["Kiosk",[c.kI.required]],createdBy:["",[c.kI.required]],createdTime:["",[c.kI.required]],modifiedBy:["",[c.kI.required]],modifiedTime:["",[c.kI.required]],recordStatus:["",[c.kI.required]],authStatus:["",[c.kI.required]],version:["",[c.kI.required]],accountBranch:["",[c.kI.required]],transactionBranch:["",[c.kI.required]]}),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.gettingallTansactionDetails(this.phoneNumber)),null!=this.qrData&&(this.ifQRvariable=!0,console.log("Account",this.qrData.accountId),this.cashdepositForm.controls.holderName.setValue(this.qrData.holderName),this.cashdepositForm.controls.accountType.setValue(this.qrData.accountType),this.cashdepositForm.controls.accountNumber.setValue(this.qrData.accountId),this.getChargeDetails(this.qrData.accountId,""),this.cashdepositForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.cashdepositForm.controls.accountCurrency.setValue(this.qrData.accountCurrency),this.cashdepositForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),this.accountBal=this.qrData.accountBalance,this.customerID=this.qrData.customerId,this.currencyImage="currency-flag-"+this.qrData.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),this.cashdepositForm.controls.transactionBranch.setValue(null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.qrData.transactionBranch:"Kasturi Nagar"),this.getAccountBranch()),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),this.appointmentId.data.appointmentId&&this.cashWithdrawlData()}fetchByAccountNum(e){this.cashdepositForm.controls.transactionAmount.reset(),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.cashdepositForm.controls.totalChargeAmount.value),console.log("Account Numebr",e),this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.curr=(0,l.jK)(n.currency,"narrow"),this.cashdepositForm.controls.accountType.setValue(n.accountType),this.cashdepositForm.controls.accountCurrency.setValue(n.currency),this.cashdepositForm.controls.accountBranch.setValue(n.accountBranch),this.cashdepositForm.controls.holderName.setValue(this.userName),this.getCountrynameValues(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.cashdepositForm.controls.transactionCurrency.setValue(n.currency),this.custAmountBal(e),this.cashdepositForm.controls.transactionBranch.setValue("Kasturi Nagar"),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e})}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName,console.log(this.branch)})})}onCountrySelected(e){console.log(e)}goToServiceScreens(){this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.cashdepositForm.controls.holderName.setValue(this.userName),this.custID=n.customerId,this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1));for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.cashdepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.cashdepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0]))})}getAccountType(e){this.cashdepositForm.controls.transactionAmount.reset(),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.cashdepositForm.controls.totalChargeAmount.value),this.accountNoList=[],console.log(e),this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e),console.log(this.accountNum1);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.getData(this.accountNoList[0])):(this.getData(this.accountNoList[0]),this.flag1=!0),this.getChargeDetails(this.accountNoList[0],"")}getData(e){this.hideDetails=!0,console.log(e);let n=this.accountNum1.filter(a=>a.accountId==e);console.log(n),this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.cashdepositForm.controls.accountCurrency.setValue(n[0].accountCurrency),this.cashdepositForm.controls.accountBranch.setValue(this.branch),this.selected=n[0].accountCurrency,this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.cashdepositForm.controls.transactionCurrency.setValue(n[0].accountCurrency),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),this.accountBal=this.idList[0].amount,console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.idList[0].accountId),this.cashdepositForm.controls.accountNumber.setValue(n[0].accountId),this.getChargeDetails(n[0].accountId,""),this.cashdepositForm.controls.accountBranch.setValue(n[0].accountBranch)}custAccountNumber(e){console.log(e),this.isedit=!1,this.idList=[...this.custAccountData].filter(a=>a.accountType===e.accountType),this.accountNoList=[];for(let a=0;a<this.idList.length;a++)"APPROVED"==this.idList[a].status&&this.accountNoList.push(this.idList[a].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.cashdepositForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.cashdepositForm.controls.accountNumber.setValue(this.accountNoList[0]),this.flag1=!0),this.cashdepositForm.controls.accountCurrency.setValue(e.accountCurrency),this.cashdepositForm.controls.accountBranch.setValue(this.branch),this.selected=e.accountCurrency,this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.cashdepositForm.controls.transactionCurrency.setValue(e.accountCurrency),console.log(this.cashdepositForm.value.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.accountNoList[0]),this.cashdepositForm.controls.accountBranch.setValue(e.accountBranch),this.getChargeDetails(this.accountNoList[0],e.amount)}custAmountBal(e){console.log(e);var n=this.idList.filter(function(a){if(a.accountId==e)return a});console.log(n),this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0],console.log(this.selectedAccountInfo)}setBalance(e,n=0){this.accountBal=e[n].currentBalance?e[n].currentBalance:null}onSaveofcashDeposit(e,n,a){e.transactionBranch=this.transBranch,console.log("Data",e,n,a),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(u=>{this.qrBranchCode=u});let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashdepositForm.value.transactionCurrency,s.push(i),console.log(s),i={});e.tokenBranch="KN",this.qrData&&this.qrData.transactionBranch&&(e.tokenBranch=this.qrBranchCode.transactionBranch),this.ifQRvariable?(e.customerId=this.custID,e.accountType=e.accountType,e.accountNumber=e.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)):(this.accountNum=JSON.stringify(this.selectedAccountInfo.accountId),e.transactionCurrency=e.transactionCurrency,e.accountNumber=this.selectedAccountInfo.accountId,e.customerId=this.custID,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.accountType=e.accountType,"yes"==this.denomRequired&&(e.denomination=s),localStorage.setItem("AccountNumber",this.accountNum),localStorage.setItem("ProductCode",this.productCode)),console.log("data::",this.appointmentId),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success",u),this.cashDepositResponse=u,this.tokenNum=this.cashDepositResponse.tokenNumber,this.estimatedTime=this.cashDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashDepositResponse&&this.dialogService.tokenGenerationDialog()})}getOTP(e,n,a){this.cashdepositValues=e,this.cashdeposiform=n,this.cashdepositType=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum;let s=this.cashdepositValues.transactionAmount.replace(/,/g,"");console.log(s),s>5e4?this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}):this.getOTPforSave(this.cashdepositValues,this.cashdeposiform,this.cashdepositType)}getOTPforSave(e,n,a){e.transactionBranch=this.transBranch;let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashdepositForm.value.transactionCurrency,s.push(i),console.log(s),i={});"New Customer"==this.custValidation&&(console.log("customer",this.custmerID),this.transactionId=localStorage.getItem("transactionId"),this.transactionStatus=localStorage.getItem("transactionStatus"),this.accountNum=e.accountNumber,e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)),e.tokenBranch="KN",this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,console.log(e.transactionId,e.transactionStatus),this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success",u),this.cashDepositResponse=u,this.tokenNum=this.cashDepositResponse.tokenNumber,this.estimatedTime=this.cashDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashDepositResponse&&this.dialogService.tokenGenerationDialog()})}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.cashdepositValues,this.cashdeposiform,this.cashdepositType)})}OnInput(e){this.transAmt=e.target.value,console.log(e.target.value),this.totalAmount=0;const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),parseFloat(this.balance)<parseFloat(this.transAmt)?(console.log("Bigger"),this.snack.open("Transaction Amount should not exceed than Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right"}),this.enableContinue=!1):this.enableContinue=!0,this.totalTransAmount=Number(this.transAmt)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),this.cdr.markForCheck(),this.cdr.detectChanges()}clicked(e){console.log(e)}addCurrencyImage(e){return e.toLowerCase()}onCountryChange(e){this.currencyImage="currency-flag-"+e.currencyCode.toLowerCase()}accountCurrencyImage(e){return e?"currency-flag-"+e.toLowerCase():""}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){this.a=this.cashdepositForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.cashdepositForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.cashdepositForm.value.totalAmount=this.cashdepositForm.value.totalAmount,console.log(this.cashdepositForm.value.totalAmount),console.log(this.cashdepositForm.value.transactionAmount),this.transamount=this.cashdepositForm.value.transactionAmount,this.totalAmount=this.cashdepositForm.value.totalAmount.toLocaleString("en-US"),this.enableBtn=this.transamount==this.totalAmount,this.enableBtn1=this.transamount>this.totalAmount||this.transamount<this.totalAmount,this.cashdepositForm.controls.totalAmount.setValue(this.cashdepositForm.value.totalAmount)}cashWithdrawlData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log("resp ::",e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.cashdepositForm.controls.accountType.setValue(e.data.accountType),this.cashdepositForm.controls.accountBranch.setValue(e.data.accountBranch),this.cashdepositForm.controls.accountNumber.setValue(e.data.accountNumber),this.getChargeDetails(e.data.accountNumber,e.data.transactionAmount),this.cashdepositForm.controls.accountCurrency.setValue(e.data.accountCurrency),this.cashdepositForm.controls.transactionCurrency.setValue(e.data.transactionCurrency),this.cashdepositForm.controls.transactionAmount.setValue(e.data.transactionAmount),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+e.data.transactionCurrency.toLowerCase(),console.log("amount::",this.cashdepositForm.controls.transactionAmount.value)})}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{console.log(a),this.chargeDetails=a,this.cashdepositForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails[0].amount),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(0),setTimeout(()=>{this.totalTransAmount=Number(0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}onclickofConfirm(e){let n={},a=[];for(let i=0;i<this.denomCodeArray.length;i++)e.value[this.denomCodeArray[i].key]&&(n.denominationKey=this.denomCodeArray[i].value,n.denominationValue=+e.value[this.denomCodeArray[i].key],n.currency=this.cashDepositResponse.value.transactionCurrency,a.push(n),console.log(a),n={})}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1)})}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cash-deposit"]],viewQuery:function(e,n){if(1&e&&t.Gf(vt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.cdForm=a.first)}},inputs:{tokenResp:"tokenResp"},decls:83,vars:26,consts:[[1,"fullcard"],["fxLayout","row"],["fxFlex","cashdepositForm.get('transactionAmount').value > 0? 70% : 100%"],[1,"h1"],[2,"color","grey","padding-right","4px"],[2,"padding-left","4px"],[1,"chequecard","topView"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],["class","backIcon",3,"click",4,"ngIf"],[1,"card-title"],[1,"full-width",2,"padding","0% 0% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","3%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","25%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","25%","fxFlex.xs","100%"],[1,"accountBranch"],[1,"inputCard"],["matInput","","type","text","class","full-width","formControlName","accountBranch",3,"readonly",4,"ngIf"],[4,"ngIf"],[1,"totalAmount"],["fxLayout","row wrap",1,"full-width"],["fxFlex","25%"],[3,"class",4,"ngIf"],["fxFlex","75%"],["matInput","","type","text","class","full-width","style","font-size:110%","formControlName","accountCurrency",3,"readonly",4,"ngIf"],["fxFlex","25.5%","fxFlex.xs","100%",4,"ngIf"],["matInput","","readonly","","formControlName","totalChargeAmount",1,"full-width"],["matInput","","readonly","","formControlName","totalTransactionAmount",1,"full-width"],[1,"tooltip"],["width","80%",3,"src"],[1,"tooltiptext"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],["fxFlex","30%",4,"ngIf"],["fxLayout","row wrap","id","buttonDiv",1,"flex-container","stretch"],["fxFlex","30%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","","class","buttonCancel full-width",3,"click",4,"ngIf"],["fxFlex","70%","fxFlex.xs","100%","class","paddingCls",4,"ngIf"],[1,"backIcon",3,"click"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType","style","background-color: #f9fafb;","placeholder","Select Account Type",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType","placeholder","Select Account Type",2,"background-color","#f9fafb",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"change"],["class","totalAmount",4,"ngIf"],["class","totalAmount",3,"readonly",4,"ngIf"],[1,"totalAmount",3,"readonly"],["matInput","","type","text","class","full-width","formControlName","accountNumber",3,"readonly",4,"ngIf"],["formControlName","accountNumber","style","background-color: #f9fafb;",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"readonly"],["formControlName","accountNumber",2,"background-color","#f9fafb",3,"selectionChange"],["matInput","","type","text","formControlName","accountBranch",1,"full-width",3,"readonly"],["matInput","","type","text","formControlName","accountCurrency",1,"full-width",2,"font-size","110%",3,"readonly"],["matInput","","type","text","class","full-width","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect","style","background-color: #f9fafb;",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",1,"full-width",3,"readonly"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb",3,"disabled"],["style","font-size:110%",3,"value","click",4,"ngFor","ngForOf"],[2,"font-size","110%",3,"value","click"],["fxFlex","15%"],["fxFlex","85%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb"],["fxFlex","25.5%","fxFlex.xs","100%"],["matInput","","type","text","class","full-width","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup","focus",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",1,"full-width",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup","focus"],["myRef",""],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","ngModelChange","keyup","focus"],["fxFlex","30%"],["cdForm","ngForm"],[1,"border-align"],["fxLayout","row",1,"pH10","full-width"],[1,"title-Font"],["id","denominationDiv",1,"pH10","full-width"],["class","paddingclass","fxLayoutAlign","center center",4,"ngIf"],["class","paddingclass","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap",1,"pH10","full-width"],["fxFlex","53%","fxFlex.xs","100%"],["matInput","","name","totalAmount","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"],[1,"pl10",2,"width","150%"],["fxLayoutAlign","center center",1,"paddingclass"],["fxFlex","20%"],[1,"quantityClass","text-small"],["fxFlex","10%"],[1,"operationTypeClass","text-small"],["fxFlex","70%"],["type","text","matInput","","name","count2000","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count2000",""],[1,"pl10"],["fxLayoutAlign","start center",1,"paddingclass"],["type","text","matInput","","name","count500","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count500",""],["type","text","matInput","","name","count200","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count200",""],["type","text","matInput","","name","count100","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count100",""],["type","text","matInput","","name","count50","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count50",""],["type","text","matInput","","name","count20","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count20",""],["type","text","matInput","","name","count10","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count10",""],["type","text","matInput","","name","count1","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","70%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3)(4,"span",4),t._uU(5,"Services"),t.qZA(),t.TgZ(6,"b"),t._uU(7,">"),t.qZA(),t.TgZ(8,"span",5)(9,"b"),t._uU(10,"Cash Deposit"),t.qZA()()(),t.TgZ(11,"mat-card",6)(12,"mat-card-title",7)(13,"div",8)(14,"div"),t.YNc(15,Tt,2,0,"mat-icon",9),t.qZA(),t._uU(16," \xa0\xa0 "),t.TgZ(17,"div",10),t._uU(18),t.qZA()()(),t.TgZ(19,"mat-card-content")(20,"div",11)(21,"form",12)(22,"div",13)(23,"div")(24,"div",14),t.ynx(25),t.YNc(26,It,6,2,"div",15),t.YNc(27,qt,8,2,"div",15),t.YNc(28,Pt,9,4,"div",15),t.YNc(29,Bt,5,1,"div",15),t.TgZ(30,"div",16)(31,"mat-hint",17),t._uU(32,"Account Branch*"),t.qZA(),t.TgZ(33,"mat-card",18),t.YNc(34,St,1,1,"input",19),t.YNc(35,Lt,1,1,"input",19),t.qZA(),t.YNc(36,Jt,2,0,"mat-error",20),t.qZA(),t.BQk(),t.qZA()(),t.TgZ(37,"div")(38,"div",14),t.ynx(39),t.TgZ(40,"div",16)(41,"mat-hint",21),t._uU(42,"Account Currency*"),t.qZA(),t.TgZ(43,"mat-card",18)(44,"div",22)(45,"div",23),t.YNc(46,Ut,1,3,"div",24),t.YNc(47,Vt,1,3,"div",24),t.qZA(),t.TgZ(48,"div",25),t.YNc(49,Qt,1,1,"input",26),t.YNc(50,Rt,1,1,"input",26),t.qZA()()()(),t.YNc(51,Kt,10,5,"div",15),t.YNc(52,Et,10,4,"div",15),t.YNc(53,Xt,7,3,"div",27),t.YNc(54,ee,8,6,"div",27),t.TgZ(55,"div",16)(56,"mat-hint",21),t._uU(57,"Total Charge Amount*"),t.qZA(),t.TgZ(58,"mat-card",18),t._UZ(59,"input",28),t.qZA()(),t.TgZ(60,"div",16)(61,"mat-hint",21),t._uU(62,"Total Transaction Amount*"),t.qZA(),t.TgZ(63,"mat-card",18),t._UZ(64,"input",29),t.qZA()(),t.TgZ(65,"div",30),t._UZ(66,"img",31),t.TgZ(67,"div",32)(68,"p",33),t._uU(69),t.qZA(),t.TgZ(70,"p",34),t._uU(71),t.qZA(),t._UZ(72,"hr"),t.TgZ(73,"p",35),t._uU(74),t.qZA()()(),t.BQk(),t.qZA()()()()()()()(),t.YNc(75,Ce,24,10,"div",36),t.qZA(),t.TgZ(76,"div")(77,"div",37),t.ynx(78),t.TgZ(79,"div",38),t.YNc(80,xe,2,0,"button",39),t.qZA(),t.YNc(81,ye,3,1,"div",40),t.YNc(82,ve,3,1,"div",40),t.BQk(),t.qZA()()()),2&e&&(t.xp6(15),t.Q6J("ngIf",n.phoneNumber),t.xp6(3),t.Oqu(n.titleName),t.xp6(3),t.Q6J("formGroup",n.cashdepositForm),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.cashdepositForm.get("accountBranch").touched&&!n.cashdepositForm.get("accountBranch").valid),t.xp6(10),t.Q6J("ngIf",n.ifQRvariable),t.xp6(1),t.Q6J("ngIf",!n.ifQRvariable),t.xp6(2),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(12),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij("Transaction Amount:",n.cashdepositForm.get("transactionAmount").value," "),t.xp6(2),t.hij("Total Charge Amount:",n.cashdepositForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij("Total Transaction Amount:",n.cashdepositForm.get("totalTransactionAmount").value," "),t.xp6(1),t.Q6J("ngIf","yes"==n.denomRequired&&(n.cashdepositForm.get("transactionAmount").value>0||n.transAmt>0)),t.xp6(5),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,k.Hw,w.lW,p.a8,p.dn,p.n5,g.TO,g.bx,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u,l.JJ],styles:['.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{cursor:pointer;margin-top:8px}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.h1[_ngcontent-%COMP%]{font-size:12px;padding-top:24px;padding-left:1%}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px}.accountBranch[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:50px;margin-left:26px}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1;top:-49px;left:130%}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.totalAmount.textcolor[_ngcontent-%COMP%]{color:#fff;font-size:smaller;color:#304156;padding-left:10px}.alignImage[_ngcontent-%COMP%]{margin-top:10px;float:right}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.topView[_ngcontent-%COMP%]{margin-top:8px;padding-top:0;padding-bottom:8px;margin-bottom:2px}.border-align[_ngcontent-%COMP%]{margin-top:45px;height:505px;border-radius:10px}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:940px;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;background-color:#f9fafb;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.paddingCls[_ngcontent-%COMP%]{padding:0% 2%}#buttonDiv[_ngcontent-%COMP%]{width:80%;margin-top:2%}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}']}),o})();const Ae=["cdForm"];function be(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1," arrow_back"),t.qZA()}}function we(o,r){1&o&&t._UZ(0,"input",46),2&o&&t.Q6J("readonly",!0)}function Ie(o,r){if(1&o&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.Oqu(e.accountType)}}function Ne(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",47),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,Ie,2,2,"mat-option",48),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function ke(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"mat-hint",22),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,we,1,1,"input",44),t.YNc(5,Ne,2,1,"mat-select",45),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown)}}function qe(o,r){if(1&o&&(t.TgZ(0,"mat-hint",22),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("Account Balance : ",e.curr,"",e.formatAmount(e.accountBal),"")}}function Ze(o,r){if(1&o&&(t.TgZ(0,"mat-hint",53),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij(" Holder Name : ",e.userName,"")}}function Fe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",21)(1,"mat-hint",22),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",50),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.cashwithdrawForm.get("accountNumber").value))}),t.qZA()(),t.YNc(5,qe,2,2,"mat-hint",51),t._UZ(6,"br"),t.YNc(7,Ze,2,2,"mat-hint",52),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.showAccountNum),t.xp6(2),t.Q6J("ngIf",!e.showAccountNum)}}function De(o,r){1&o&&t._UZ(0,"input",57),2&o&&t.Q6J("readonly",!0)}function Me(o,r){if(1&o&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij("",e," ")}}function Oe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",58),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.fetchByAccountNum(a.value))}),t.YNc(1,Me,2,2,"mat-option",48),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accountNoList)}}function Pe(o,r){if(1&o&&(t.TgZ(0,"mat-hint",22),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE(" Account Balance : ",e.curr,"",e.formatAmount(e.accountBal),"")}}function Be(o,r){if(1&o&&(t.TgZ(0,"mat-hint",59),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij("Holder Name : ",e.userName,"")}}function Se(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"mat-hint",22),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,De,1,1,"input",54),t.YNc(5,Oe,2,1,"mat-select",55),t.qZA(),t.YNc(6,Pe,2,2,"mat-hint",51),t._UZ(7,"br"),t.YNc(8,Be,2,2,"mat-hint",56),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.flag1),t.xp6(1),t.Q6J("ngIf",e.flag1),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(2),t.Q6J("ngIf",e.hideDetails)}}function Le(o,r){1&o&&(t.TgZ(0,"div",21)(1,"mat-hint",22),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t._UZ(4,"input",46),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("readonly",!0))}function Je(o,r){1&o&&t._UZ(0,"input",60),2&o&&t.Q6J("readonly",!0)}function Ue(o,r){1&o&&t._UZ(0,"input",60),2&o&&t.Q6J("readonly",!0)}function Ve(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Account Branch is Required! "),t.qZA())}function Qe(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.accountCurrencyImage(e.cashwithdrawForm.controls.accountCurrency.value):e.currencyImage,"")}}function Re(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.currencyImage:e.accountCurrencyImage(e.cashwithdrawForm.controls.accountCurrency.value),"")}}function Ye(o,r){1&o&&t._UZ(0,"input",61),2&o&&t.Q6J("readonly",!0)}function He(o,r){1&o&&t._UZ(0,"input",61),2&o&&t.Q6J("readonly",!0)}function Ge(o,r){1&o&&t._UZ(0,"input",64),2&o&&t.Q6J("readonly",!0)}function Ke(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",67),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",23)(2,"div",68),t._uU(3),t.qZA(),t.TgZ(4,"div",69),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function We(o,r){if(1&o&&(t.TgZ(0,"mat-select",65),t.YNc(1,Ke,6,5,"mat-option",66),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function Ee(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"mat-hint",22),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",23)(5,"div",24),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",26),t.YNc(8,Ge,1,1,"input",62),t.YNc(9,We,2,2,"mat-select",63),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function ze(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",67),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",23)(2,"div",68),t._uU(3),t.qZA(),t.TgZ(4,"div",69),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function je(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"mat-hint",22),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",23)(5,"div",24),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",26)(8,"mat-select",70),t.YNc(9,ze,6,5,"mat-option",66),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(3),t.Q6J("ngForOf",e.countryValues)}}function $e(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function Xe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",71)(1,"mat-hint",22),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",72,73),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(6,"number"),t.qZA()(),t.YNc(7,$e,2,0,"mat-error",20),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.transAmount)("value",t.xi3(6,3,e.transAmt,"2.")),t.xp6(3),t.Q6J("ngIf",null==e.cashwithdrawForm.get("transactionAmount").errors?null:e.cashwithdrawForm.get("transactionAmount").errors.min)}}function tn(o,r){1&o&&t._UZ(0,"input",76),2&o&&t.Q6J("readonly",!0)}function en(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",77,73),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(2,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(2,3,e.transAmt,"1."))("readonly",e.isedit)}}function nn(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function on(o,r){if(1&o&&(t.TgZ(0,"div",71)(1,"mat-hint",22),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,tn,1,1,"input",74),t.YNc(5,en,3,6,"input",75),t.qZA(),t.YNc(6,nn,2,0,"mat-error",20),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.cashwithdrawForm.get("transactionAmount").errors?null:e.cashwithdrawForm.get("transactionAmount").errors.min)}}function an(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function rn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",90)(1,"div",91)(2,"p",92),t._uU(3,"2000"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"div")(10,"input",96,97),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(12,"div",98),t.YNc(13,an,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(11),n=t.oxw(2);t.xp6(13),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[2e3])}}function cn(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function sn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",91)(2,"p",92),t._uU(3,"500"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"input",100,101),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",98),t.YNc(12,cn,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[500])}}function un(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function ln(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",91)(2,"p",92),t._uU(3,"200"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"input",102,103),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",98),t.YNc(12,un,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[200])}}function mn(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function hn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",91)(2,"p",92),t._uU(3,"100"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"input",104,105),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",98),t.YNc(12,mn,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[100])}}function dn(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function pn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",91)(2,"p",92),t._uU(3,"50"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"input",106,107),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",98),t.YNc(12,dn,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[50])}}function gn(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function _n(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",91)(2,"p",92),t._uU(3,"20"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"input",108,109),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",98),t.YNc(12,gn,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[20])}}function fn(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function Cn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",91)(2,"p",92),t._uU(3,"10"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"input",110,111),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",98),t.YNc(12,fn,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[10])}}function xn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",91)(2,"p",92),t._uU(3,"1"),t.qZA()(),t.TgZ(4,"div",93)(5,"p",94),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",95)(8,"mat-card",18)(9,"input",112,111),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()()()}}function yn(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Total amount should be equal to ",e.cashwithdrawForm.value.transactionAmount," ")}}function vn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",78)(1,"form",null,79)(3,"mat-card",80)(4,"div",81)(5,"h4",82),t._uU(6,"Denomination"),t.qZA()(),t.TgZ(7,"div",83),t.YNc(8,rn,14,1,"div",84),t.YNc(9,sn,13,1,"div",85),t.YNc(10,ln,13,1,"div",85),t.YNc(11,hn,13,1,"div",85),t.YNc(12,pn,13,1,"div",85),t.YNc(13,_n,13,1,"div",85),t.YNc(14,Cn,13,1,"div",85),t.YNc(15,xn,11,0,"div",85),t.qZA(),t.TgZ(16,"div",86)(17,"div",87)(18,"p",22),t._uU(19,"Total Amount"),t.qZA(),t.TgZ(20,"mat-card",18)(21,"input",88),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmount=a)}),t.qZA()(),t.TgZ(22,"div",89),t.YNc(23,yn,2,1,"mat-error",20),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(8),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.transactionCurrency||"AED"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.transactionCurrency||"AED"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.accountCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.transactionCurrency||"AED"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(6),t.Q6J("ngModel",e.totalAmount),t.xp6(2),t.Q6J("ngIf",e.enableBtn1)}}function Tn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",113),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1,"CANCEL"),t.qZA()}}function An(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",114)(1,"button",115),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSaveofCashWithdraw(a.cashwithdrawForm.value,a.ifQRvariable,a.cdForm))}),t._uU(2,"GENERATE TOKEN"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.cashwithdrawForm.get("transactionCurrency").valid&&e.cashwithdrawForm.get("accountType").valid&&e.cashwithdrawForm.get("accountNumber").valid&&e.cashwithdrawForm.get("accountCurrency").valid&&e.cashwithdrawForm.get("transactionAmount").valid&&e.cashwithdrawForm.get("totalChargeAmount").valid&&e.cashwithdrawForm.get("totalTransactionAmount").valid))}}function bn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",114)(1,"button",115),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getOTP(a.cashwithdrawForm.value,a.ifQRvariable,a.cdForm))}),t._uU(2,"CONTINUE"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.cashwithdrawForm.get("transactionAmount").valid&&e.cashwithdrawForm.get("transactionCurrency").valid&&e.cashwithdrawForm.get("accountType").valid&&e.cashwithdrawForm.get("accountNumber").valid&&e.cashwithdrawForm.get("accountCurrency").valid&&e.cashwithdrawForm.get("transactionAmount").valid&&e.cashwithdrawForm.get("totalChargeAmount").valid&&e.cashwithdrawForm.get("totalTransactionAmount").valid))}}let wn=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v,b,y){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.fb=s,this.ls=u,this.snack=h,this.changeDef=d,this.elRef=_,this.renderer=v,this.dialog=b,this.cdr=y,this.cashWithdrawal="Cash Withdrawal",this.countryFormControl=new c.NI,this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.ifQRvariable=!1,this.productCode="CHW",this.tokenOrigin="Kiosk",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="1234",this.accounttypeArray=[],this.idList=[],this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.tokenObjects=new T.R,this.enableContinue=!0,this.isedit=!0,this.currencyImage="",this.accountNoList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1,this.denomRequired="",this.hideDetails=!1}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log("QRData",this.qrData),this.cashwithdrawForm=this.fb.group({transactionId:["",[c.kI.required]],customerId:["",[c.kI.required]],accountNumber:["",[c.kI.required]],accountType:["",[c.kI.required]],holderName:["",[c.kI.required]],accountCurrency:["",[c.kI.required]],transactionCurrency:["",[c.kI.required]],transactionAmount:["",[c.kI.required,c.kI.min(.1)]],accountBalance:[""],productCode:["CHW",[c.kI.required]],tokenOrigin:["Kiosk",[c.kI.required]],exchangeRate:["",[c.kI.required]],accountAmount:["",[c.kI.required]],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],narrative:["",[c.kI.required]],denomination:[null,[c.kI.required]],totalAmount:["",[c.kI.required]],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],estimatedWaitTime:["",[c.kI.required]],accountBranch:["",[c.kI.required]],transactionBranch:["",[c.kI.required]]}),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),"New Customer"==this.custValidation&&(this.showAccountNum=!1,this.showAccoutType=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1),console.log("CWH :: "+this.cashwithdrawForm.value),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.gettingallTansactionDetails(this.phoneNumber)),null!=this.qrData&&(this.ifQRvariable=!0,console.log("Account",this.qrData),this.cashwithdrawForm.controls.holderName.setValue(this.qrData.holderName),this.cashwithdrawForm.controls.accountType.setValue(this.qrData.accountType),this.cashwithdrawForm.controls.accountNumber.setValue(this.qrData.accountId),this.getChargeDetails(this.qrData.accountId,""),this.cashwithdrawForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.cashwithdrawForm.controls.accountCurrency.setValue(this.qrData.accountCurrency),this.cashwithdrawForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),this.accountBal=this.qrData.accountBalance,this.customerID=this.qrData.customerId,this.currencyImage="currency-flag-"+this.qrData.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),this.cashwithdrawForm.controls.transactionBranch.setValue(null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.qrData.transactionBranch:"Kasturi Nagar"),this.getAccountBranch()),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),this.appointmentId.data.appointmentId&&this.cashWithdrawlData()}fetchByAccountNum(e){this.cashwithdrawForm.controls.transactionAmount.reset(),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.cashwithdrawForm.controls.totalChargeAmount.value),console.log("Account Numebr",e),this.ifQRvariable=!0,this.apiService.fetchByaccNum(e).subscribe(n=>{e!=(null==n?void 0:n.accountId)||null==n.accountId?(console.log("statement"),this.snack.open("Account Number Doesn't Exist","OK",{duration:4e3,verticalPosition:"bottom",horizontalPosition:"right"}),this.cashwithdrawForm.reset(),this.userName="",this.accountBal="",this.curr=""):(console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.cashwithdrawForm.controls.accountType.setValue(n.accountType),this.cashwithdrawForm.controls.accountBranch.setValue(n.accountBranch),this.cashwithdrawForm.controls.holderName.setValue(this.userName),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.cashwithdrawForm.controls.transactionCurrency.setValue(n.currency),this.cashwithdrawForm.controls.accountCurrency.setValue(n.currency),console.log(this.ifQRvariable),this.custAmountBal(e),this.cashwithdrawForm.controls.transactionBranch.setValue("Kasturi Nagar")),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName,console.log(this.branch)})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}onCountrySelected(e){}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.cashwithdrawForm.controls.holderName.setValue(this.userName),this.custID=n.customerId,console.log("Cust",this.custID),this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1)),console.log(this.accounttypeArray);for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);console.log(this.accountNoList),this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.cashwithdrawForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.cashwithdrawForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0]))})}getAccountType(e){this.cashwithdrawForm.controls.transactionAmount.reset(),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.cashwithdrawForm.controls.totalChargeAmount.value),this.accountNoList=[],this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.getData(this.accountNoList[0]),this.cashwithdrawForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.getData(this.accountNoList[0]),this.flag1=!0),this.getChargeDetails(this.accountNoList[0],"")}custAccountNumber(e){console.log("custype :: ",e),this.isedit=!1,this.idList=[...this.custAccountData].filter(n=>n.accountType===e.accountType),console.log("idList :: ",this.idList),this.accountNoList=[];for(let n=0;n<this.idList.length;n++)"APPROVED"==this.idList[n].status&&this.accountNoList.push(this.idList[n].accountId);console.log("accountNoList :: ",this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.cashwithdrawForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.cashwithdrawForm.controls.accountNumber.setValue(this.accountNoList[0]),this.flag1=!0),this.cashwithdrawForm.controls.accountCurrency.setValue(e.accountCurrency),this.cashwithdrawForm.controls.accountBranch.setValue(this.branch),console.log("AccountCurrency",e.accountCurrency),this.selected=e.accountCurrency,this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.cashwithdrawForm.controls.transactionCurrency.setValue(e.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.accountNoList[0]),this.cashwithdrawForm.controls.accountBranch.setValue(e.accountBranch),this.getChargeDetails(this.accountNoList[0],e.amount)}getData(e){this.hideDetails=!0;let n=this.accountNum1.filter(a=>a.accountId==e);this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.cashwithdrawForm.controls.accountCurrency.setValue(n[0].accountCurrency),this.cashwithdrawForm.controls.accountBranch.setValue(this.branch),this.selected=n[0].accountCurrency,this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.cashwithdrawForm.controls.transactionCurrency.setValue(n[0].accountCurrency),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),this.accountBal=n[0].amount,localStorage.setItem("AccountBal",this.accountBal),this.cashwithdrawForm.controls.accountNumber.setValue(n[0].accountId),this.custAmountBal(n[0].accountId),this.cashwithdrawForm.controls.accountBranch.setValue(n[0].accountBranch),this.getChargeDetails(n[0].accountId,"")}custAmountBal(e){var n=this.idList.filter(function(a){if(a.accountId==e)return a});this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0],console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal)}getOTP(e,n,a){this.cashwithDrwValues=e,this.cashwithDrwType=n,this.cashwithDrwform=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum;let s=this.cashwithDrwValues.transactionAmount.replace(/,/g,"");console.log(s),s>5e4?this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}):this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,this.cashwithDrwform)}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{console.log("submit",a),a&&this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,this.cashwithDrwform)})}getOTPforSave(e,n,a){let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashwithdrawForm.value.transactionCurrency,s.push(i),console.log(s),i={});"New Customer"==this.custValidation&&(this.accountNum=e.accountNumber,e.customerId=this.custmerID?this.custmerID:0,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custmerID?this.custmerID:0,e.transactionBranch=this.transBranch,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,console.log(e.transactionId,e.transactionStatus),console.log("before api call :: ",e),this.apiService.saveofCashwithdraw(e).subscribe(u=>{console.log("Response Success, Data Saved",u),this.cashWithdrawResponse=u,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashWithdrawResponse&&this.dialogService.tokenGenerationDialog()})}goToServiceScreens(){this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}onSaveofCashWithdraw(e,n,a){e.transactionBranch=this.transBranch,this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(u=>{this.qrBranchCode=u});let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashwithdrawForm.value.transactionCurrency,s.push(i),console.log(s),i={});e.tokenBranch="KN",this.ifQRvariable?(e.customerId=this.custID,e.accountType=e.accountType,e.accountNumber=e.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,"yes"==this.denomRequired&&(e.denomination=s),this.qrData&&this.qrData.transactionBranch&&(e.tokenBranch=this.qrBranchCode.transactionBranch),e.accountBalance=this.accountBal):(this.accountNum=JSON.stringify(this.selectedAccountInfo.accountId),e.transactionAmount=e.transactionAmount.replace(/,/g,""),localStorage.setItem("AccountNumber",this.accountNum),localStorage.setItem("ProductCode",this.productCode),e.customerId=this.custID,e.transactionCurrency=e.transactionCurrency,e.accountNumber=this.selectedAccountInfo.accountId,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,e.accountType=e.accountType,"yes"==this.denomRequired&&(e.denomination=s)),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),console.log(e.transactionId,e.transactionStatus),console.log("before api call :: ",e),this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success, Data Saved",u),this.cashWithdrawResponse=u,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashWithdrawResponse&&this.dialogService.tokenGenerationDialog()})}checkValue(e){e.target.value<0&&(e.target.value=0)}OnInput(e){this.transAmt=e.target.value,console.log(e.target.value),this.totalAmount=0;const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),parseFloat(this.balance)<parseFloat(this.transAmt)?(console.log("Bigger"),this.snack.open("Transaction Amount should not exceed than Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right"}),this.enableContinue=!1):this.enableContinue=!0,this.totalTransAmount=Number(this.transAmt)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),this.cdr.markForCheck(),this.cdr.detectChanges()}clicked(e){}addCurrencyImage(e){return e.toLowerCase()}onCountryChange(e){this.currencyImage="currency-flag-"+e.currencyCode.toLowerCase()}accountCurrencyImage(e){return e?"currency-flag-"+e.toLowerCase():""}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){this.a=this.cashwithdrawForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.cashwithdrawForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.cashwithdrawForm.value.totalAmount=this.cashwithdrawForm.value.totalAmount,console.log(this.cashwithdrawForm.value.totalAmount),console.log(this.cashwithdrawForm.value.transactionAmount),this.transamount=this.cashwithdrawForm.value.transactionAmount,this.totalAmount=this.cashwithdrawForm.value.totalAmount.toLocaleString("en-US"),this.enableBtn=this.transamount==this.totalAmount,this.enableBtn1=this.transamount>this.totalAmount||this.transamount<this.totalAmount,this.cashwithdrawForm.controls.totalAmount.setValue(this.cashwithdrawForm.value.totalAmount)}cashWithdrawlData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log(e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.accountCurrency=e.accountCurrency,this.cashwithdrawForm.controls.accountType.setValue(e.data.accountType),this.cashwithdrawForm.controls.accountBranch.setValue(e.data.accountBranch),this.cashwithdrawForm.controls.accountNumber.setValue(e.data.accountNumber),this.getChargeDetails(e.data.accountNumber,e.data.transactionAmount),this.cashwithdrawForm.controls.accountCurrency.setValue(e.data.accountCurrency),this.cashwithdrawForm.controls.transactionCurrency.setValue(e.data.transactionCurrency),this.cashwithdrawForm.controls.transactionAmount.setValue(e.data.transactionAmount),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+e.data.transactionCurrency.toLowerCase()})}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{console.log(a),this.chargeDetails=a,this.cashwithdrawForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails[0].amount),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(0),setTimeout(()=>{this.totalTransAmount=Number(0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1)})}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(c.qu),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(A.uw),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cash-withdrawal"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ae,5),2&e){let a;t.iGM(a=t.CRH())&&(n.cdForm=a.first)}},inputs:{tokenResp:"tokenResp"},decls:86,vars:25,consts:[[1,"fullcard"],["fxLayout","row"],["fxFlex","cashwithdrawForm.get('transactionAmount').value > 0? 70% : 100%"],[1,"h1"],[2,"color","grey","padding-right","4px"],[2,"padding-left","4px"],[1,"chequecard","topView"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],["class","backIcon",3,"click",4,"ngIf"],[1,"card-title"],[1,"full-width",2,"padding","0% 0% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","3%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","25%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","23%","fxFlex.xs","100%"],[1,"accountBranch"],[1,"inputCard"],["matInput","","type","text","class","full-width","formControlName","accountBranch",3,"readonly",4,"ngIf"],[4,"ngIf"],["fxFlex","25%","fxFlex.xs","100%"],[1,"totalAmount"],["fxLayout","row wrap",1,"full-width"],["fxFlex","25%"],[3,"class",4,"ngIf"],["fxFlex","75%"],["matInput","","type","text","class","full-width","style","font-size:110%","formControlName","accountCurrency",3,"readonly",4,"ngIf"],["matInput","","type","text","style","font-size:110%","class","full-width","formControlName","accountCurrency",3,"readonly",4,"ngIf"],["fxFlex","25.5%","fxFlex.xs","100%",4,"ngIf"],["matInput","","readonly","","formControlName","totalChargeAmount",1,"full-width"],["matInput","","type","text","readonly","","onlyNumber","","formControlName","totalTransactionAmount"],[1,"tooltip"],["width","80%",3,"src"],[1,"tooltiptext"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],["fxFlex","30%",4,"ngIf"],["fxLayout","row wrap","id","buttonDiv",1,"flex-container","stretch"],["fxFlex","30%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","","class","buttonCancel full-width",3,"click",4,"ngIf"],["fxFlex","70%","fxFlex.xs","100%","class","paddingCls",4,"ngIf"],[1,"backIcon",3,"click"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType","style","background-color: #f9fafb;","placeholder","Select Account Type",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType","placeholder","Select Account Type",2,"background-color","#f9fafb",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"change"],["class","totalAmount",4,"ngIf"],["class","totalAmount",3,"readonly",4,"ngIf"],[1,"totalAmount",3,"readonly"],["matInput","","type","text","class","full-width","formControlName","accountNumber",3,"readonly",4,"ngIf"],["formControlName","accountNumber","style","background-color: #f9fafb; ","placeholder","Select Account Number",3,"selectionChange",4,"ngIf"],["class","totalAmount","formControlName","holderName",3,"readonly",4,"ngIf"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"readonly"],["formControlName","accountNumber","placeholder","Select Account Number",2,"background-color","#f9fafb",3,"selectionChange"],["formControlName","holderName",1,"totalAmount",3,"readonly"],["matInput","","type","text","formControlName","accountBranch",1,"full-width",3,"readonly"],["matInput","","type","text","formControlName","accountCurrency",1,"full-width",2,"font-size","110%",3,"readonly"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect","style","background-color: #f9fafb;font-weight: bold;",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb","font-weight","bold",3,"disabled"],["style","font-size:110%",3,"value","click",4,"ngFor","ngForOf"],[2,"font-size","110%",3,"value","click"],["fxFlex","15%"],["fxFlex","85%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb","font-weight","bold"],["fxFlex","25.5%","fxFlex.xs","100%"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","ngModelChange","keyup","focus"],["myRef",""],["matInput","","type","text","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup","focus",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup","focus"],["fxFlex","30%"],["cdForm","ngForm"],[1,"border-align"],["fxLayout","row",1,"pH10","full-width"],[1,"title-Font"],["id","denominationDiv",1,"pH10","full-width"],["class","paddingclass","fxLayoutAlign","center center",4,"ngIf"],["class","paddingclass","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap",1,"pH10","full-width"],["fxFlex","53%","fxFlex.xs","100%"],["matInput","","name","totalAmount","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"],[1,"pl10",2,"width","150%"],["fxLayoutAlign","center center",1,"paddingclass"],["fxFlex","20%"],[1,"quantityClass","text-small"],["fxFlex","10%"],[1,"operationTypeClass","text-small"],["fxFlex","70%"],["type","text","matInput","","name","count2000","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count2000",""],[1,"pl10"],["fxLayoutAlign","start center",1,"paddingclass"],["type","text","matInput","","name","count500","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count500",""],["type","text","matInput","","name","count200","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count200",""],["type","text","matInput","","name","count100","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count100",""],["type","text","matInput","","name","count50","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count50",""],["type","text","matInput","","name","count20","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count20",""],["type","text","matInput","","name","count10","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count10",""],["type","text","matInput","","name","count1","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","70%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3)(4,"span",4),t._uU(5,"Services"),t.qZA(),t.TgZ(6,"b"),t._uU(7,">"),t.qZA(),t.TgZ(8,"span",5)(9,"b"),t._uU(10,"Cash Withdrawal"),t.qZA()()(),t.TgZ(11,"mat-card",6)(12,"mat-card-title",7)(13,"div",8)(14,"div"),t.YNc(15,be,2,0,"mat-icon",9),t.qZA(),t._uU(16,"\xa0\xa0 "),t.TgZ(17,"div",10),t._uU(18,"Cash Withdrawal"),t.qZA()()(),t.TgZ(19,"mat-card-content")(20,"div",11)(21,"form",12)(22,"div",13)(23,"div")(24,"div",14),t.ynx(25),t.YNc(26,ke,6,2,"div",15),t.YNc(27,Fe,8,2,"div",15),t.YNc(28,Se,9,4,"div",15),t.YNc(29,Le,5,1,"div",15),t.TgZ(30,"div",16)(31,"mat-hint",17),t._uU(32,"Account Branch*"),t.qZA(),t.TgZ(33,"mat-card",18),t.YNc(34,Je,1,1,"input",19),t.YNc(35,Ue,1,1,"input",19),t.qZA(),t.YNc(36,Ve,2,0,"mat-error",20),t.qZA(),t.BQk(),t.qZA()(),t.TgZ(37,"div")(38,"div",14),t.ynx(39),t.TgZ(40,"div",21)(41,"mat-hint",22),t._uU(42,"Account Currency*"),t.qZA(),t.TgZ(43,"mat-card",18)(44,"div",23)(45,"div",24),t.YNc(46,Qe,1,3,"div",25),t.YNc(47,Re,1,3,"div",25),t.qZA(),t.TgZ(48,"div",26),t.YNc(49,Ye,1,1,"input",27),t.YNc(50,He,1,1,"input",28),t.qZA()()()(),t.YNc(51,Ee,10,5,"div",15),t.YNc(52,je,10,4,"div",15),t.YNc(53,Xe,8,6,"div",29),t.YNc(54,on,7,3,"div",29),t.TgZ(55,"div",21)(56,"mat-hint",22),t._uU(57,"Total Charge Amount*"),t.qZA(),t.TgZ(58,"mat-card",18),t._UZ(59,"input",30),t.qZA()(),t.TgZ(60,"div",21)(61,"mat-hint",22),t._uU(62,"Total Transaction Amount*"),t.qZA(),t.TgZ(63,"mat-card",18),t._UZ(64,"input",31),t.qZA()(),t.TgZ(65,"div",32),t._UZ(66,"img",33),t.TgZ(67,"div",34)(68,"p",35),t._uU(69),t.qZA(),t.TgZ(70,"p",36),t._uU(71),t.qZA(),t._UZ(72,"hr"),t.TgZ(73,"p",37),t._uU(74),t.qZA()()(),t.BQk(),t.qZA()(),t.TgZ(75,"div")(76,"div",14),t.GkF(77),t.qZA()()()()()()()(),t.YNc(78,vn,24,10,"div",38),t.qZA(),t.TgZ(79,"div")(80,"div",39),t.ynx(81),t.TgZ(82,"div",40),t.YNc(83,Tn,2,0,"button",41),t.qZA(),t.YNc(84,An,3,1,"div",42),t.YNc(85,bn,3,1,"div",42),t.BQk(),t.qZA()()()),2&e&&(t.xp6(15),t.Q6J("ngIf",n.phoneNumber),t.xp6(6),t.Q6J("formGroup",n.cashwithdrawForm),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.cashwithdrawForm.get("accountBranch").touched&&!n.cashwithdrawForm.get("accountBranch").valid),t.xp6(10),t.Q6J("ngIf",n.ifQRvariable),t.xp6(1),t.Q6J("ngIf",!n.ifQRvariable),t.xp6(2),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(12),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij("Transaction Amount:",n.cashwithdrawForm.get("transactionAmount").value," "),t.xp6(2),t.hij("Total Charge Amount:",n.cashwithdrawForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij("Total Transaction Amount:",n.cashwithdrawForm.get("totalTransactionAmount").value," "),t.xp6(4),t.Q6J("ngIf","yes"==n.denomRequired&&(n.cashwithdrawForm.get("transactionAmount").value>0||n.transAmt>0)),t.xp6(5),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,k.Hw,w.lW,p.a8,p.dn,p.n5,g.TO,g.bx,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u,l.JJ],styles:['.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{cursor:pointer;margin-top:8px}.h1[_ngcontent-%COMP%]{font-size:12px;padding-top:24px;padding-left:1%}.h2[_ngcontent-%COMP%]{font-size:14px;padding-top:24px}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:50px;margin-left:26px}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1;top:-49px;left:130%}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#304156;padding-left:10px}.textcolor[_ngcontent-%COMP%]{color:#fff}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.chequecard1[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;height:90%;width:100%;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.paddingCls[_ngcontent-%COMP%]{padding:0% 2%}#buttonDiv[_ngcontent-%COMP%]{width:80%;margin-top:2%}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.alignImage[_ngcontent-%COMP%]{margin-top:10px;float:right}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:940px;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;background-color:#f9fafb;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#102245;padding-left:10px}.accountBranch[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.topView[_ngcontent-%COMP%]{margin-top:8px;padding-top:0;padding-bottom:8px;margin-bottom:2px}.border-align[_ngcontent-%COMP%]{margin-top:45px;height:530px;border-radius:10px}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}']}),o})();var P=f(8104),S=f(3322),et=f(7579);const In=["video"],Nn=["canvas"];function kn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.rotateVideoInput(!0))}),t.qZA()}}class z{constructor(r,e,n){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=e,this._imageAsDataUrl=r,this._imageData=n}static getDataFromDataUrl(r,e){return r.replace(`data:${e};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=z.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}let nt=(()=>{class o{constructor(){this.width=640,this.height=480,this.videoOptions=o.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=o.DEFAULT_IMAGE_TYPE,this.imageQuality=o.DEFAULT_IMAGE_QUALITY,this.imageCapture=new t.vpe,this.initError=new t.vpe,this.imageClick=new t.vpe,this.cameraSwitched=new t.vpe,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(e){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe(()=>{this.takeSnapshot()})}set switchCamera(e){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe(n=>{"string"==typeof n?this.switchToVideoInput(n):this.rotateVideoInput(!1!==n)})}static getMediaConstraintsForDevice(e,n){const a=n||this.DEFAULT_VIDEO_OPTIONS;return e&&(a.deviceId={exact:e}),a}static getDeviceIdFromMediaStreamTrack(e){if(e.getSettings&&e.getSettings()&&e.getSettings().deviceId)return e.getSettings().deviceId;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().deviceId){const n=e.getConstraints().deviceId;return o.getValueFromConstrainDOMString(n)}}static getFacingModeFromMediaStreamTrack(e){if(e){if(e.getSettings&&e.getSettings()&&e.getSettings().facingMode)return e.getSettings().facingMode;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().facingMode){const n=e.getConstraints().facingMode;return o.getValueFromConstrainDOMString(n)}}}static isUserFacing(e){const n=o.getFacingModeFromMediaStreamTrack(e);return!!n&&"user"===n.toLowerCase()}static getValueFromConstrainDOMString(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if("object"==typeof e){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(e=>{this.initError.next({message:e}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const e=this.nativeVideoElement,n={width:this.width,height:this.height};e.videoWidth&&(n.width=e.videoWidth,n.height=e.videoHeight);const a=this.canvas.nativeElement;a.width=n.width,a.height=n.height;const i=a.getContext("2d");i.drawImage(e,0,0);const s=this.imageType?this.imageType:o.DEFAULT_IMAGE_TYPE,h=a.toDataURL(s,this.imageQuality?this.imageQuality:o.DEFAULT_IMAGE_QUALITY);let d=null;this.captureImageData&&(d=i.getImageData(0,0,a.width,a.height)),this.imageCapture.next(new z(h,s,d))}rotateVideoInput(e){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(e?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)}videoResize(){}get videoWidth(){const e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)}get videoHeight(){const e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)}get videoStyleClasses(){let e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height}initWebcam(e,n){const a=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const i=o.getMediaConstraintsForDevice(e,n);navigator.mediaDevices.getUserMedia({video:i}).then(s=>{this.mediaStream=s,a.srcObject=s,a.play(),this.activeVideoSettings=s.getVideoTracks()[0].getSettings();const u=o.getDeviceIdFromMediaStreamTrack(s.getVideoTracks()[0]);this.cameraSwitched.next(u),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=u?this.availableVideoInputs.findIndex(h=>h.deviceId===u):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(s=>{this.initError.next({message:s.message,mediaStreamError:s})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let e="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}}return o.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(e=>e.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((e,n)=>{(class qn{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((r,e)=>{navigator.mediaDevices.enumerateDevices().then(n=>{r(n.filter(a=>"videoinput"===a.kind))}).catch(n=>{e(n.message||n)})}):Promise.reject("enumerateDevices() not supported.")}}).getAvailableVideoInputs().then(a=>{this.availableVideoInputs=a,e(a)}).catch(a=>{this.availableVideoInputs=[],n(a)})})}}return o.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},o.DEFAULT_IMAGE_TYPE="image/jpeg",o.DEFAULT_IMAGE_QUALITY=.92,o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["webcam"]],viewQuery:function(e,n){if(1&e&&(t.Gf(In,7),t.Gf(Nn,7)),2&e){let a;t.iGM(a=t.CRH())&&(n.video=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return n.imageClick.next()}),t.TgZ(1,"video",1,2),t.NdJ("resize",function(){return n.videoResize()}),t.qZA(),t.YNc(3,kn,1,0,"div",3),t._UZ(4,"canvas",4,5),t.qZA()),2&e&&(t.xp6(1),t.Tol(n.videoStyleClasses),t.Q6J("width",n.videoWidth)("height",n.videoHeight),t.xp6(2),t.Q6J("ngIf",n.allowCameraSwitch&&n.availableVideoInputs.length>1&&n.videoInitialized),t.xp6(1),t.Q6J("width",n.width)("height",n.height))},dependencies:[l.O5],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),o})(),Zn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez]]}),o})(),ot=(()=>{class o{constructor(e,n){this.dialogRef=e,this.router=n,this.flag=!1,this.retakeFlag=!0,this.submitFlag=!0,this.trigger=new et.x,this.nextWebcam=new et.x,this.sysImage=""}ngOnInit(){}getSnapshot(){this.flag=!0,this.trigger.next("")}captureImg(e){this.webcamImage=e,this.sysImage=null==e?void 0:e.imageAsDataUrl,sessionStorage.setItem("sysImage",this.sysImage),console.info("got webcam image",this.sysImage)}get invokeObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}retake(){this.flag=!1,this.retakeFlag=!1,this.submitFlag=!1}submit(){this.dialogRef.close(),sessionStorage.getItem("sysImage")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.so),t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ocr-scan-page"]],decls:16,vars:6,consts:[[1,"container","mt-5"],[1,"col-md-12"],[3,"hidden","trigger","imageCapture"],[1,"col-12",3,"hidden"],["height","300px","width","100%",3,"src"],[1,"scan","full-width"],["fxLayout","row","fxLayoutAlign","space-evenly center"],["mat-flat-button","",1,"camBtn",3,"hidden","click"],["src","assets/images/redcam.svg"],[1,"retakeBtn"],["src","assets/images/cambgr.svg",3,"click"],["src","assets/images/submitIcon.svg"],[1,"submitBtn"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"webcam",2),t.NdJ("imageCapture",function(i){return n.captureImg(i)}),t.qZA()(),t.TgZ(3,"div",3),t._UZ(4,"img",4),t.qZA()(),t.TgZ(5,"mat-card",5)(6,"div",6)(7,"button",7),t.NdJ("click",function(){return n.retake()}),t._UZ(8,"img",8),t.TgZ(9,"span",9),t._uU(10,"Retake"),t.qZA()(),t.TgZ(11,"img",10),t.NdJ("click",function(){return n.getSnapshot()}),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return n.submit()}),t._UZ(13,"img",11),t.TgZ(14,"span",12),t._uU(15,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("hidden",n.flag)("trigger",n.invokeObservable),t.xp6(1),t.Q6J("hidden",!n.flag),t.xp6(1),t.Q6J("src",n.sysImage,t.LSH),t.xp6(3),t.Q6J("hidden",n.retakeFlag),t.xp6(5),t.Q6J("hidden",n.submitFlag))},dependencies:[nt,w.lW,p.a8,m.xw,m.Wh],styles:[".scan[_ngcontent-%COMP%]{background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;color:#fff;font-family:sans-serif;height:50%}.camBtn[_ngcontent-%COMP%]{width:15%;height:38px;color:#e50000;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 6px #00000029;border-radius:28px;opacity:100%}.retakeBtn[_ngcontent-%COMP%]{color:#f33;padding-left:15px}.submitBtn[_ngcontent-%COMP%]{color:#004c97;padding-left:15px}.is-hidden[_ngcontent-%COMP%]{display:none}"]}),o})();function Fn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.scanChequeFront())}),t.TgZ(1,"div",10)(2,"div",11),t._UZ(3,"img",12),t.qZA(),t.TgZ(4,"h3",13),t._uU(5,"Front"),t.qZA()()()}}function Dn(o,r){if(1&o&&(t.TgZ(0,"div",14)(1,"div",10)(2,"div",11),t._UZ(3,"img",15)(4,"img",16),t.qZA(),t.TgZ(5,"h3",17),t._uU(6,"Front"),t.qZA()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("src",e.capturedImageFront,t.LSH)}}function Mn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.scanChequeBack())}),t.TgZ(1,"div",10)(2,"div",11),t._UZ(3,"img",12),t.qZA(),t.TgZ(4,"h3",13),t._uU(5,"Back"),t.qZA()()()}}function On(o,r){if(1&o&&(t.TgZ(0,"div",14)(1,"div",10)(2,"div",11),t._UZ(3,"img",15)(4,"img",16),t.qZA(),t.TgZ(5,"h3",17),t._uU(6,"Back"),t.qZA()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("src",e.capturedImageBack,t.LSH)}}function Pn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",18)(1,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancel())}),t._uU(2,"Cancel"),t.qZA(),t.TgZ(3,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.submit())}),t._uU(4,"Submit"),t.qZA()()}}let Bn=(()=>{class o{constructor(e,n,a){this.dialog=e,this.dialogRef=n,this.router=a,this.flag=!1,this.flag1=!1}ngOnInit(){}scanChequeFront(){console.log("front click"),this.dialog.open(ot,{width:"100%",height:"80%"}).afterClosed().subscribe(n=>{this.capturedImageFront=sessionStorage.getItem("sysImage"),this.flag=!0,console.log("1",this.flag)})}scanChequeBack(){console.log("back click"),this.dialog.open(ot,{width:"100%",height:"80%"}).afterClosed().subscribe(n=>{this.capturedImageBack=sessionStorage.getItem("sysImage"),this.flag1=!0,console.log("1",this.flag1)})}back(){this.dialogRef.close()}cancel(){this.dialogRef.close()}submit(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.uw),t.Y36(A.so),t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-capture-cheque-details"]],decls:17,vars:5,consts:[[1,"captureSection"],["fxLayout","row","fxLayoutAlign","start","fxLayoutGap","16px"],[2,"cursor","pointer",3,"click"],[2,"font-weight","bold"],[1,"captureCheque"],[1,"row"],["class","column",3,"click",4,"ngIf"],["class","column",4,"ngIf"],["class","pt-30","fxLayout","row","fxLayoutAlign","space-between center",4,"ngIf"],[1,"column",3,"click"],[1,"card"],[1,"card1"],["src","assets/images/imgCap.svg","alt","",1,"card_icon"],[1,"headingscheque"],[1,"column"],[1,"cheque_img",3,"src"],["src","assets/images/tickMark.svg","alt","",1,"card_icon"],[1,"headingscheque","success"],["fxLayout","row","fxLayoutAlign","space-between center",1,"pt-30"],["mat-flat-button","",1,"cancelBtn",3,"click"],["mat-flat-button","",1,"submitBtn",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return n.back()}),t._uU(3,"arrow_back"),t.qZA(),t.TgZ(4,"h1",3),t._uU(5,"Take a Photo of the cheque"),t.qZA()(),t.TgZ(6,"div")(7,"p",4),t._uU(8," It is a long established fact that a reader will be distracted by the readable content of a page "),t._UZ(9,"br"),t._uU(10," when looking at its layout. "),t.qZA()(),t.TgZ(11,"div",5),t.YNc(12,Fn,6,0,"div",6),t.YNc(13,Dn,7,1,"div",7),t.YNc(14,Mn,6,0,"div",6),t.YNc(15,On,7,1,"div",7),t.qZA(),t.YNc(16,Pn,5,0,"div",8),t.qZA()),2&e&&(t.xp6(12),t.Q6J("ngIf",0==n.flag),t.xp6(1),t.Q6J("ngIf",1==n.flag),t.xp6(1),t.Q6J("ngIf",0==n.flag1),t.xp6(1),t.Q6J("ngIf",1==n.flag1),t.xp6(1),t.Q6J("ngIf",1==n.flag||1==n.flag1))},dependencies:[l.O5,k.Hw,w.lW,m.xw,m.SQ,m.Wh],styles:['.captureSection[_ngcontent-%COMP%]{margin-top:3%}p[_ngcontent-%COMP%]{color:#6e6e6e;font-size:15px;padding-left:45px}.captureCheque[_ngcontent-%COMP%]{color:var(--unnamed-color-9a9a9a);text-align:left;font:normal normal medium 16px/19px Manrope;letter-spacing:-.32px;color:#9a9a9a;opacity:1}.column[_ngcontent-%COMP%]{float:left;width:50%;padding:0 10px}.row[_ngcontent-%COMP%]{margin:0 -5px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;padding:10px 8px 8px;text-align:center;height:50mm;color:#004c97;width:100%;height:243px;background:var(--unnamed-color-ffffff) 0% 0% no-repeat padding-box;background:#ffffff 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:18px;opacity:1}.card1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;text-align:center;height:40mm;margin-bottom:1%;background:var(--unnamed-color-004c9750) 0% 0% no-repeat padding-box;background:rgba(0,76,151,.3137254902) 0% 0% no-repeat padding-box;border-radius:10px;opacity:1;width:100%;height:176px;position:relative;overflow:hidden}.card1[_ngcontent-%COMP%]   .cheque_img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.card1[_ngcontent-%COMP%]   .card_icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.headingscheque[_ngcontent-%COMP%]{color:#004c97;text-align:center;font-size:20px;font-weight:400;font-family:poppins,sans-serif;letter-spacing:0px;opacity:1;margin-top:10px}.headingscheque.success[_ngcontent-%COMP%]{color:#008461}@media screen and (max-width: 600px){.column[_ngcontent-%COMP%]{width:100%;display:block;margin-bottom:20px}}.submitBtn[_ngcontent-%COMP%]{width:30%;margin-right:18%;height:38px;color:#fff;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.cancelBtn[_ngcontent-%COMP%]{width:30%;height:38px;margin-left:18%;color:#e50000;background:#ffffff 0% 0% no-repeat padding-box;box-shadow:0 3px 6px #00000029;border-radius:28px;opacity:100%}.pt-30[_ngcontent-%COMP%]{padding-top:30px}']}),o})(),Sn=(()=>{class o{constructor(e,n,a){this.dialog=e,this.dialogRef=n,this.router=a}ngOnInit(){}close(){this.dialogRef.close(),this.router.navigateByUrl("/others/cheq-deposit")}scan(){this.dialog.open(Bn,{width:"70%",height:"65%"}),this.router.navigateByUrl("/others/cheq-deposit")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.uw),t.Y36(A.so),t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-scan-your-cheque"]],decls:16,vars:0,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row","fxLayoutAlign","center"],["fxLayout","row","fxLayoutAlign","center",1,"scanImage"],["src","assets/images/pageScan.svg","alt",""],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-flat-button","",1,"buttonSkip",3,"click"],["mat-flat-button","",1,"buttonScan",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-icon",1),t.NdJ("click",function(){return n.close()}),t._uU(2,"close"),t.qZA()(),t.TgZ(3,"div",2)(4,"h1"),t._uU(5,"Scan The Cheque"),t.qZA()(),t.TgZ(6,"div",2)(7,"p"),t._uU(8,"Would you like to scan the cheque details"),t.qZA()(),t.TgZ(9,"div",3),t._UZ(10,"img",4),t.qZA(),t.TgZ(11,"div",5)(12,"button",6),t.NdJ("click",function(){return n.close()}),t._uU(13,"Skip"),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){return n.scan()}),t._uU(15,"Scan"),t.qZA()())},dependencies:[k.Hw,w.lW,m.xw,m.Wh],styles:[".backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0%;font-size:20px;color:#6e6e6e}.contain[_ngcontent-%COMP%]{justify-content:flex-end}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#6e6e6e}.buttonScan[_ngcontent-%COMP%]{width:30%;margin-right:18%;height:38px;color:#fff;background:transparent linear-gradient(90deg,#051A2D 0%,#004C97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.buttonSkip[_ngcontent-%COMP%]{width:30%;height:38px;margin-left:18%;color:#e50000;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 6px #00000029;border-radius:28px;opacity:100%}.scanImage[_ngcontent-%COMP%]{margin-top:5%;margin-bottom:8%}"]}),o})();function Ln(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.back.emit())}),t._uU(1,"arrow_back"),t.qZA()}}function Jn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.scanTheCheque())}),t._uU(1,"Scan Your Cheque"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",null!=(null==e.transactiondata?null:e.transactiondata.transactionAmount)&&"yes"==e.denominationRequired?"scan1":"scan2")}}function Un(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,Ln,2,0,"mat-icon",5),t.TgZ(3,"h2",6),t._uU(4),t.qZA(),t.YNc(5,Jn,2,1,"button",7),t.qZA()()),2&o){const e=t.oxw();t.Q6J("ngClass",null!=(null==e.transactiondata?null:e.transactiondata.transactionAmount)&&"yes"==e.denominationRequired?"section2":"section1"),t.xp6(2),t.Q6J("ngIf",null!=e.custValidation||null!=e.custNameFromLogin),t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf","Cheque Withdrawal"===e.chqPage)}}function Vn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.scanTheCheque())}),t._uU(1,"Scan Your Cheque"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",null!=(null==e.transactiondata?null:e.transactiondata.transactionAmount)&&"yes"==e.denominationRequired?"scan1":"scan2")}}function Qn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",10)(2,"h2",6)(3,"mat-icon",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back.emit())}),t._uU(4,"arrow_back"),t.qZA(),t._uU(5),t.qZA(),t.YNc(6,Vn,2,1,"button",7),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("ngClass","Cash"==e.paymentData.rePaymentMode&&"yes"==e.denominationRequired?"section2":"section1"),t.xp6(5),t.hij(" \xa0",e.title,""),t.xp6(1),t.Q6J("ngIf","Cheque Withdrawal"==e.title||"Loan RePayment"==e.title&&"Cheque"==e.paymentData.rePaymentMode||"Loan Disbursement"==e.title&&"Cheque"==e.paymentData.rePaymentMode)}}function Rn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.back.emit())}),t._uU(1,"arrow_back"),t.qZA()}}function Yn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.scanTheCheque())}),t._uU(1,"Scan Your Cheque"),t.qZA()}}function Hn(o,r){if(1&o&&(t.TgZ(0,"div",11)(1,"div",4),t.YNc(2,Rn,2,0,"mat-icon",5),t.TgZ(3,"h2",6),t._uU(4),t.qZA(),t.YNc(5,Yn,2,0,"button",12),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null!=e.custValidation||null!=e.custNameFromLogin),t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf","Cheque Deposit"===e.chqPage)}}function Gn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.back.emit())}),t._uU(1,"arrow_back"),t.qZA()}}function Kn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,Gn,2,0,"mat-icon",5),t.TgZ(3,"h2",6),t._uU(4),t.qZA(),t.TgZ(5,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.scanCurency())}),t._uU(6,"Currency Converter"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null!=e.custValidation||null!=e.custNameFromLogin),t.xp6(2),t.Oqu(e.title)}}let U=(()=>{class o{constructor(e,n,a,i,s){this.dialog=e,this._location=n,this.ls=a,this.router=i,this.dataService=s,this.title=null,this.back=new t.vpe}ngOnInit(){console.log("Inside Header",this.back),this.chqPage=localStorage.getItem("chq_page"),this.appointmentId=this.ls.getItem("TransactionType"),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),this.denominationRequired=localStorage.getItem("DenominationRequired"),this.dataService.gettransactionFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(this.transactiondata=e,console.log(this.transactiondata))}),this.dataService.getaccountFormdata.subscribe(e=>{console.log(0===Object.keys(e).length,e.constructor===Object),0!=Object.keys(e).length&&e.constructor===Object&&(this.accountData=e)}),this.dataService.getdenominationFormdata.subscribe(e=>{e&&(this.denominationdata=e)}),this.dataService.getNavParam.subscribe(e=>{console.log(e),this.titleData=e}),this.dataService.getpaymentInfoFormdata.subscribe(e=>{console.log(e),this.paymentData=e})}goToServiceScreens(){console.log("hgfhg"),this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}scanTheCheque(){this.dialog.open(Sn,{width:"60%",height:"65%"})}scanCurency(){this.router.navigateByUrl("others/currency-converter")}back1(){this.router.navigateByUrl("others/kioskHome"),console.log("Logssss"),this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.accountData),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.dataService.removePaymentInfoFormData(this.paymentData)}backButton(){this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.accountData),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.dataService.removePaymentInfoFormData(this.paymentData),this._location.back()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.uw),t.Y36(l.Ye),t.Y36(D.g),t.Y36(x.F0),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-header"]],inputs:{title:"title",screen:"screen"},outputs:{back:"back"},decls:4,vars:4,consts:[[3,"ngClass",4,"ngIf"],["class","section1",4,"ngIf"],["class","section2",4,"ngIf"],[3,"ngClass"],["fxLayout","row","fxLayoutAlign","start","fxLayoutGap","16px"],["style","cursor: pointer;",3,"click",4,"ngIf"],[2,"font-weight","bold"],["mat-button","",3,"ngClass","click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["mat-button","",3,"ngClass","click"],["fxLayout","row",1,"container"],[1,"section1"],["class","scan2","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"scan2",3,"click"],[1,"section2"],["fxLayout","row","fxLayoutAlign","start","fxLayoutGap","16px",2,"margin-left","105px","margin-right","246px"],["mat-button","",1,"currencyConverter",3,"click"]],template:function(e,n){1&e&&(t.YNc(0,Un,6,4,"div",0),t.YNc(1,Qn,7,3,"div",0),t.YNc(2,Hn,6,3,"div",1),t.YNc(3,Kn,7,2,"div",2)),2&e&&(t.Q6J("ngIf","Cash Withdrawal"==n.chqPage||"Cash Deposit"==n.chqPage||"Cheque Withdrawal"==n.chqPage),t.xp6(1),t.Q6J("ngIf","Loan RePayment"==n.title||"Loan Disbursement"==n.title),t.xp6(1),t.Q6J("ngIf","Cheque Deposit"==n.chqPage),t.xp6(1),t.Q6J("ngIf","Cash Forex Transaction"==n.chqPage))},dependencies:[l.mk,l.O5,m.xw,m.SQ,m.Wh,S.oO,w.lW,k.Hw],styles:[".section1[_ngcontent-%COMP%]{top:-5%;left:7.9%;position:relative}.section2[_ngcontent-%COMP%]{top:-5%;position:relative}.scan1[_ngcontent-%COMP%], .scan2[_ngcontent-%COMP%]{width:170px;border-radius:25px;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;color:#fff;font-family:sans-serif;left:44%;height:35px;margin-top:0%}.currencyConverter[_ngcontent-%COMP%]{width:200px;border-radius:25px;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;color:#fff;font-family:sans-serif;left:62%;height:35px;margin-top:-1.5%}"]}),o})();function Wn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancel.emit())}),t._uU(1," Back "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.cancelDisabled)}}function En(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.save.emit("showAccountNum"))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.saveDisabled),t.xp6(1),t.hij(" ",e.saveText," ")}}function zn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.save.emit("NotshowAccountNum"))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.saveDisabled),t.xp6(1),t.hij(" ",e.saveText," ")}}let V=(()=>{class o{constructor(e){this.dialogService=e,this.showAccountNum=!0,this.title="Form",this.saveText="Continue",this.cancelText="Cancel",this.cancelDisabled=!1,this.saveDisabled=!1,this.saving=!1,this.cancel=new t.vpe,this.save=new t.vpe,this.exit=new t.vpe}ngOnInit(){console.log("Inside Footer"),this.chqPage=localStorage.getItem("chq_page"),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),console.log(this.custValidation,this.custNameFromLogin),"New Customer"==this.custValidation&&(this.showAccountNum=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1)}clickExit(){this.dialogService.clickExit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-footer"]],inputs:{title:"title",saveText:"saveText",cancelText:"cancelText",cancelDisabled:"cancelDisabled",saveDisabled:"saveDisabled",saving:"saving"},outputs:{cancel:"cancel",save:"save",exit:"exit"},decls:6,vars:4,consts:[["fxLayout","row","fxFlex","100%",1,"footer_btn_wrapper",2,"justify-content","center","display","flex",3,"ngClass"],["class","backBtn","mat-button","","fxFlex","16%",3,"disabled","click",4,"ngIf"],["mat-flat-button","","class","continueBtn","fxFlex","43.5%",3,"disabled","click",4,"ngIf"],["mat-button","","fxFlex","15%",1,"exitBtn",3,"click"],["mat-button","","fxFlex","16%",1,"backBtn",3,"disabled","click"],["mat-flat-button","","fxFlex","43.5%",1,"continueBtn",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Wn,2,1,"button",1),t.YNc(2,En,2,2,"button",2),t.YNc(3,zn,2,2,"button",2),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.clickExit()}),t._uU(5,"Exit"),t.qZA()()),2&e&&(t.Q6J("ngClass","Cash Forex Transaction"==n.chqPage?"btnAlign2":"btnAlign"),t.xp6(1),t.Q6J("ngIf",null!=n.custValidation||null!=n.custNameFromLogin),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum))},dependencies:[l.mk,l.O5,m.xw,m.yH,S.oO,w.lW],styles:[".footer_btn_wrapper[_ngcontent-%COMP%]{margin-top:1rem;margin-left:15%;column-gap:12px}.continueBtn[_ngcontent-%COMP%]{height:40px;color:#fff;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.backBtn[_ngcontent-%COMP%]{font-weight:700;height:40px;background:#ffffff 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px;margin-left:5.3%}.exitBtn[_ngcontent-%COMP%]{color:#e50000;font-weight:700;height:40px;background:#ffffff 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}.btnAlign[_ngcontent-%COMP%]{align-items:center;margin-left:-5.2%}.btnAlign2[_ngcontent-%COMP%]{margin-left:20%}"]}),o})();class R{}function jn(o,r){1&o&&t._UZ(0,"input",21),2&o&&t.Q6J("readonly",!0)}function $n(o,r){1&o&&t._UZ(0,"input",21),2&o&&t.Q6J("readonly",!0)}function Xn(o,r){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.hij(" ",e.accountType," ")}}function to(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",22),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,Xn,2,2,"mat-option",23),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function eo(o,r){if(1&o&&(t.TgZ(0,"span",25),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(e.accountForm.get("accountCurrency").value)}}function no(o,r){1&o&&t._UZ(0,"input",26),2&o&&t.Q6J("readonly",!0)}function oo(o,r){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function ao(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",27),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.fetchByAccountNum(a.value))}),t.YNc(1,oo,2,2,"mat-option",23),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.accountNoList)}}function io(o,r){if(1&o&&(t.TgZ(0,"div",11)(1,"div",12)(2,"mat-form-field",13)(3,"mat-label"),t._uU(4,"Account Type*"),t.qZA(),t.YNc(5,jn,1,1,"input",14),t.YNc(6,$n,1,1,"input",14),t.YNc(7,to,2,1,"mat-select",15),t.qZA()(),t.TgZ(8,"div",12)(9,"mat-form-field",16)(10,"mat-label"),t._uU(11,"Account Number*"),t.qZA(),t.TgZ(12,"div",17),t.YNc(13,eo,2,1,"span",18),t.YNc(14,no,1,1,"input",19),t.YNc(15,ao,2,1,"mat-select",20),t.qZA()()()()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",!e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown),t.xp6(6),t.Q6J("ngIf",e.displayFlag),t.xp6(1),t.Q6J("ngIf",!e.flag1),t.xp6(1),t.Q6J("ngIf",e.flag1)}}function ro(o,r){if(1&o&&(t.TgZ(0,"span",25),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(e.accountForm.get("accountCurrency").value)}}function co(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"mat-form-field",13)(3,"mat-label"),t._uU(4,"Account Number*"),t.qZA(),t.TgZ(5,"div",17),t.YNc(6,ro,2,1,"span",18),t.TgZ(7,"input",28),t.NdJ("change",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.fetchByAccountNum(a.accountForm.get("accountNumber").value))}),t.qZA()()()(),t.TgZ(8,"div",12)(9,"mat-form-field",29)(10,"mat-label"),t._uU(11,"Account Type*"),t.qZA(),t._UZ(12,"input",21),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.displayFlag),t.xp6(6),t.Q6J("readonly",!0)}}function so(o,r){if(1&o&&(t.TgZ(0,"div")(1,"mat-hint",31),t._uU(2,"Account Balance "),t.qZA(),t.TgZ(3,"p",32),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.AsE("",e.curr,"",e.formatAmount(e.accountBal),"")}}function uo(o,r){1&o&&(t.TgZ(0,"div")(1,"mat-hint",31),t._uU(2,"Account Balance "),t.qZA(),t.TgZ(3,"p",32),t._uU(4),t.qZA()()),2&o&&(t.xp6(4),t.Oqu("XXXXXX"))}function lo(o,r){if(1&o&&(t.TgZ(0,"div",30),t.YNc(1,so,5,2,"div",6),t.YNc(2,uo,5,1,"div",6),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.showzero),t.xp6(1),t.Q6J("ngIf",e.showzero)}}function mo(o,r){if(1&o&&(t.TgZ(0,"div",33)(1,"mat-hint",31),t._uU(2,"Customer Name "),t.qZA(),t.TgZ(3,"p",32),t._uU(4),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(4),t.Oqu(e.userName)}}function ho(o,r){if(1&o&&(t.TgZ(0,"div",34)(1,"mat-hint",31),t._uU(2,"Account Branch "),t.qZA(),t.TgZ(3,"p",32),t._uU(4),t.qZA()()),2&o){const e=t.oxw(2);let n;t.xp6(4),t.Oqu(null==(n=e.accountForm.get("accountBranch"))?null:n.value)}}function po(o,r){if(1&o&&(t.TgZ(0,"form",4),t.YNc(1,io,16,6,"div",5),t.YNc(2,co,13,2,"div",6),t.TgZ(3,"div",7),t.YNc(4,lo,3,2,"div",8),t.YNc(5,mo,5,1,"div",9),t.YNc(6,ho,5,1,"div",10),t.qZA()()),2&o){const e=t.oxw();t.Q6J("formGroup",e.accountForm),t.xp6(1),t.Q6J("ngIf",e.showAccountNum),t.xp6(1),t.Q6J("ngIf",!e.showAccountNum),t.xp6(2),t.Q6J("ngIf",e.hideAccNum&&e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails)}}let H=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v,b,y,B){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.fb=s,this.ls=u,this.snack=h,this.changeDef=d,this.elRef=_,this.renderer=v,this.dialog=b,this.cdr=y,this.dataService=B,this.cashWithdrawal="Cash Withdrawal",this.loading=!1,this.ifQRvariable=!1,this.productCode="CHW",this.tokenOrigin="Kiosk",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="1234",this.accounttypeArray=[],this.idList=[],this.tokenObjects=new R,this.enableContinue=!0,this.isedit=!0,this.currencyImage="",this.accountNoList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1,this.displayFlag=!1,this.denomRequired="",this.hideDetails=!1,this.hideAccNum=!1,this.showzero=!0,this.subscriptions=[],this.onChange=()=>{},this.onTouched=()=>{}}get value(){return this.accountForm.value}set value(e){this.accountForm.patchValue(e),this.onChange(e),this.onTouched()}get emailControl(){return this.accountForm.controls.email}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.showzero=!0,this.accountForm=new c.cw({customerId:new c.NI(""),accountNumber:new c.NI("",[c.kI.required]),accountType:new c.NI("",[c.kI.required]),holderName:new c.NI(""),accountCurrency:new c.NI(""),accountBalance:new c.NI(""),accountBranch:new c.NI("")}),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),setTimeout(()=>{null!=this.qrData&&(console.log("Account",this.qrData),console.log(this.accountForm),this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!1,this.currencyCode=this.qrData.accountCurrency,this.userName=this.qrData.holderName,this.accountBal=0==this.qrData.accountBalance?"00000":this.qrData.accountBalance,this.accountForm.controls.customerId.patchValue(this.qrData.customerId),this.accountForm.controls.accountType.patchValue(this.qrData.accountType),this.accountForm.controls.accountNumber.patchValue(this.qrData.accountId),this.accountForm.controls.accountBalance.patchValue(0==this.qrData.accountBalance?"00000":this.qrData.accountBalance),this.accountForm.controls.holderName.patchValue(this.qrData.holderName),this.accountForm.controls.accountCurrency.patchValue(this.qrData.accountCurrency),this.accountForm.controls.accountBranch.patchValue(this.qrData.accountBranch),console.log(this.accountForm))},1e3),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),("New Customer"==this.custValidation||null!=this.custNameFromLogin)&&(this.hideAccNum=!1,this.showAccountNum=!1,this.showAccoutType=!1,this.showzero=!0),console.log("CWH :: "+this.accountForm.value),this.appointmentId&&this.appointmentId.data.appointmentId&&this.cashWithdrawlData(),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.hideAccNum=!0,this.showAccountNum=!0,this.showAccoutType=!0,this.showzero=!1,console.log("New Customer"),this.gettingallTansactionDetails(this.phoneNumber)),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),this.subscriptions.push(this.accountForm.valueChanges.subscribe(e=>{this.onChange(e),this.onTouched()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}registerOnChange(e){this.onChange=e}writeValue(e){e&&(this.value=e),null===e&&this.accountForm.reset()}registerOnTouched(e){this.onTouched=e}validate(e){return this.accountForm.valid?null:{profile:{valid:!1}}}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1)})}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}gettingallTansactionDetails(e){this.loading=!0,console.log("gfhg"),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{this.loading=!1,console.log("All Transaction Details",n),this.accountCurrency1=n.accountCurrency,this.currencyCode=n.currencyCode,console.log(this.currencyCode),this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.accountForm.controls.holderName.patchValue(this.userName),this.custID=n.customerId,this.accountForm.controls.customerId.patchValue(n.customerId),this.accountForm.controls.accountCurrency.patchValue(n.accountCurrency),console.log("Cust",this.custID),this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1)),console.log(this.accounttypeArray);for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&(console.log(this.custAccountData[a].primaryAcc),this.custAccountData[a].primaryAcc?(console.log(this.custAccountData[a]),this.accountForm.controls.accountNumber.patchValue(this.custAccountData[a].accountId),this.accountForm.controls.accountType.patchValue(this.custAccountData[a].accountType),console.log(this.accountForm.controls.accountType)):this.accountForm.controls.accountNumber.patchValue(this.accountNoList[0]),this.accountNoList.push(this.custAccountData[a]),this.accountNoList.push(this.custAccountData[a]));console.log(this.accountNoList),this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!1,this.accountForm.controls.accountType.patchValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!1,this.accountForm.controls.accountType.patchValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0])),this.cdr.markForCheck()},n=>{this.loading=!1})}custAccountNumber(e){console.log("custype :: ",e),this.isedit=!1,this.idList=[...this.custAccountData].filter(n=>n.accountType===e.accountType),console.log("idList :: ",this.idList),this.accountNoList=[];for(let n=0;n<this.idList.length;n++)"APPROVED"==this.idList[n].status&&this.accountNoList.push(this.idList[n].accountId);console.log("accountNoList :: ",this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.displayFlag=!0,this.accountForm.controls.accountNumber.patchValue(this.accountNoList[0])):(this.accountForm.controls.accountNumber.patchValue(this.accountNoList[0]),this.flag1=!0,this.displayFlag=!0),console.log("AccountCurrency",e.accountCurrency),this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),0==this.idList[0].amount?(this.accountBal="00000",localStorage.setItem("AccountBal",this.idList[0].amount)):(this.accountBal=this.idList[0].amount,console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal)),this.custAmountBal(this.accountNoList[0]),this.accountForm.controls.accountBranch.patchValue(e.accountBranch)}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}cashWithdrawlData(){this.apiService.getAppointmentIdFetchDetails(this.appointmentId.data.appointmentId).subscribe(e=>{console.log(e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.hideAccNum=!0,this.hideDetails=!0,this.showzero=!1,this.flag1=!1,this.displayFlag=!0,this.userName=e.data.holderName,0==e.data.accountBalance?(this.accountBal="00000",this.accountForm.controls.accountBalance.patchValue("00000")):(this.accountBal=e.data.accountBalance,this.accountForm.controls.accountBalance.patchValue(e.data.accountBalance)),this.currencyCode=e.data.accountCurrency,this.accountForm.controls.accountType.patchValue(e.data.accountType),this.accountForm.controls.accountBranch.patchValue(e.data.accountBranch),this.accountForm.controls.accountNumber.patchValue(e.data.accountNumber),this.accountForm.controls.accountCurrency.patchValue(e.data.accountCurrency),console.log(e.data.accountCurrency),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase(),console.log(this.currencyImage),this.dataService.sendaccountFormData(this.cashData)}),console.log(this.cashData)}fetchByAccountNum(e){console.log("Account Numebr",e),this.flag1=!0,this.displayFlag=!0,this.ifQRvariable=!0,"New Customer"==this.custValidation||null!=this.custNameFromLogin?(this.hideAccNum=!0,this.showzero=!0):(this.hideAccNum=!0,this.showzero=!1),this.hideDetails=!0,this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("statement",n),this.accountForm.controls.accountCurrency.patchValue(null==n?void 0:n.currency),e!=(null==n?void 0:n.accountId)||null==n.accountId?(this.snack.open("Account Number Doesn't Exist","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right",panelClass:["snackbar"]}),this.accountForm.reset(),this.userName="",this.accountBal="",this.curr=""):(console.log("Account Number Rsp",n),this.dataService.sendaccountFormData(n),this.userName=n.accHolderName,0==n.accBalance?(console.log("for zero balance 1"),this.accountBal="00000",this.accountForm.value.accountBalance="00000"):(this.accountBal=n.accBalance,this.accountForm.value.accountBalance=n.accBalance),this.custmerID=n.customerId,localStorage.setItem("AccountBal",n.accBalance),this.accountNumber=n.accountId,console.log(this.accountForm),this.accountForm.controls.accountBranch.patchValue(n.accountBranch),this.accountForm.controls.customerId.patchValue(n.customerId),this.curr=(0,l.jK)(n.currency,"narrow"),this.accountForm.controls.accountType.patchValue(n.accountType),this.accountForm.controls.holderName.patchValue(this.userName),this.getCountrynameValues(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.accountCurrency1=n.currency,console.log(this.ifQRvariable),this.custAmountBal(e)),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}getAccountType(e){console.log("get Account Type"),this.accountNoList=[],this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.displayFlag=!0,this.getData(this.accountNoList[0]),this.accountForm.controls.accountNumber.patchValue(this.accountNoList[0])):(this.getData(this.accountNoList[0]),this.flag1=!0,this.displayFlag=!0)}getData(e){this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!1;let n=this.accountNum1.filter(a=>a.accountId==e);this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.accountCurrency1=n[0].accountCurrency,this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),0==n[0].amount?(this.accountBal="00000",localStorage.setItem("AccountBal",n[0].amount)):(this.accountBal=n[0].amount,console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal)),this.accountForm.controls.accountNumber.patchValue(n[0].accountId),this.custAmountBal(n[0].accountId)}custAmountBal(e){var n,a;console.log(e);var i=this.idList.filter(function(s){if(s.accountId==e)return s});console.log(i),this.accountForm.controls.accountCurrency.patchValue(null!==(n=i[0])&&void 0!==n&&n.accountCurrency?null===(a=i[0])||void 0===a?void 0:a.accountCurrency:this.accountCurrency1),i.length>0&&(this.accNum=i[0].accountId,this.accountBal=0==i[0].amount?"00000":i[0].amount,this.selectedAccountInfo=i[0]),console.log(this.accountBal),this.accountForm.controls.accountBalance.patchValue(this.accountBal),console.log(this.accountForm)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(c.qu),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-account-information-form"]],features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0},{provide:c.Cf,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],decls:5,vars:1,consts:[[1,"section"],[1,"accountHeader"],[1,"accountInfoCard"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayoutGap","-24%","fxLayout","row",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","5%",2,"justify-content","space-between","margin-left","2%","height","30px","margin-top","-3px"],["fxLayout","column","formControlName","accountBalance",4,"ngIf"],["fxLayout","column","formControlName","holderName",4,"ngIf"],["fxLayout","column","formControlName","accountBranch","class","acBranch",4,"ngIf"],["fxLayoutGap","-24%","fxLayout","row"],["fxFlex","100%",2,"font-size","10px"],["appearance","outline","fxFlex","60%",2,"border-radius","12px","line-height","inherit"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType",3,"selectionChange",4,"ngIf"],["appearance","outline","fxFlex","100%",2,"border-radius","12px","line-height","17px"],[2,"display","flex"],["class","currency_code",4,"ngIf"],["matInput","","type","text","class","full-width","formControlName","accountNumber",3,"readonly",4,"ngIf"],["formControlName","accountNumber",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"currency_code"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"readonly"],["formControlName","accountNumber",3,"selectionChange"],["type","text","formControlName","accountNumber","placeholder","Account Number","matInput","",3,"change"],["appearance","outline","fxFlex","90%",2,"border-radius","12px","line-height","17px"],["fxLayout","column","formControlName","accountBalance"],[1,"totalAmount"],[1,"hint"],["fxLayout","column","formControlName","holderName"],["fxLayout","column","formControlName","accountBranch",1,"acBranch"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card-title",1),t._uU(2,"Account Information"),t.qZA(),t.TgZ(3,"mat-card",2),t.YNc(4,po,7,6,"form",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.accountForm))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,m.xw,m.SQ,m.yH,g.KE,g.bx,g.hX,I.Nt,O.ey,q.gD,p.a8,p.n5],styles:['.section[_ngcontent-%COMP%]   .accountInfoCard[_ngcontent-%COMP%]{background:#f2f2f2 0% 0% no-repeat padding-box;border-radius:18px;box-shadow:unset!important;margin-left:15px}.section[_ngcontent-%COMP%]   .accountHeader[_ngcontent-%COMP%]{font-size:18px;color:var(--unnamed-color-004c97);text-align:left;font-family:Poppins,Medium;letter-spacing:-.38px;color:#004c97;opacity:1;margin-left:15px}.section[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:600;margin-left:1%;margin-bottom:0;color:#262831!important;width:max-content!important}.section[_ngcontent-%COMP%]   .acBranch[_ngcontent-%COMP%]{margin-right:55px}.section[_ngcontent-%COMP%]   .inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt #00000029;box-sizing:border-box;margin-left:0;padding:13px}.section[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:Poppins,Medium!important;color:#707070!important;margin-left:3%!important}.section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}.section[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px}.section[_ngcontent-%COMP%]   input.mat-input-element[_ngcontent-%COMP%]{margin-left:10px}.section[_ngcontent-%COMP%]   .totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#102245}.section[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.section[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.section[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.section[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.section[_ngcontent-%COMP%]   .textcolor[_ngcontent-%COMP%]{color:#fff}.section[_ngcontent-%COMP%]   #denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.section[_ngcontent-%COMP%]   .inputCard[_ngcontent-%COMP%]{box-sizing:border-box}.section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;outline:0;font-weight:700}.section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important}.section[_ngcontent-%COMP%]   .pb1[_ngcontent-%COMP%]{padding-bottom:1%}.section[_ngcontent-%COMP%]   .operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.section[_ngcontent-%COMP%]   .quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.section[_ngcontent-%COMP%]   .paddingclass[_ngcontent-%COMP%]{padding:2%}.section[_ngcontent-%COMP%]   .inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.section   [_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}.section   [_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}.section   [_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}.section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.section[_ngcontent-%COMP%]   .readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.section[_ngcontent-%COMP%]   .readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.section[_ngcontent-%COMP%]   .continueBtn[_ngcontent-%COMP%]{width:553px;height:50px;color:#fff;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.section[_ngcontent-%COMP%]   .exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:30%;background-color:#fff;color:#e50000;font-family:sans-serif;font-weight:700}.section[_ngcontent-%COMP%]   .backBtn[_ngcontent-%COMP%]{font-weight:700;width:263px;height:50px;background:#ffffff 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}.section[_ngcontent-%COMP%]   .currency_code[_ngcontent-%COMP%]{background-color:#004c9724;border:2px solid #004c97;border-radius:4px;padding:1px 4px;font-size:9px;color:#004c97;font-weight:600;margin-left:13px}.section   [_nghost-%COMP%]     .mat-form-field-label-wrapper{left:6px!important}.section   [_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-label{margin-top:-.4em!important}'],changeDetection:0}),o})();function go(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",36),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.onChangeChequeType(i))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function _o(o,r){if(1&o&&(t.TgZ(0,"mat-select",34),t.YNc(1,go,2,2,"mat-option",35),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.chequeTypes)}}function fo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",36),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.onChangeChequeType(i))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function Co(o,r){if(1&o&&(t.TgZ(0,"mat-select",34),t.YNc(1,fo,2,2,"mat-option",35),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.chequeTypes)}}function xo(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",32)(1,"mat-label"),t._uU(2,"Cheque Type*"),t.qZA(),t.YNc(3,_o,2,1,"mat-select",33),t.YNc(4,Co,2,1,"mat-select",33),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf","Cheque Deposit"===e.chqPage),t.xp6(1),t.Q6J("ngIf","Cheque Withdrawal"===e.chqPage)}}function yo(o,r){1&o&&t._UZ(0,"input",40)}function vo(o,r){1&o&&t._UZ(0,"input",40)}function To(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",37)(1,"mat-label",38),t._uU(2,"Cheque Number*"),t.qZA(),t.YNc(3,yo,1,0,"input",39),t.YNc(4,vo,1,0,"input",39),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function Ao(o,r){if(1&o&&(t.TgZ(0,"div",27)(1,"div",28),t.YNc(2,xo,5,2,"mat-form-field",29),t.qZA(),t.TgZ(3,"div",30),t.YNc(4,To,5,2,"mat-form-field",31),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.showAccountNum),t.xp6(2),t.Q6J("ngIf",e.showAccountNum)}}function bo(o,r){1&o&&t._UZ(0,"input",45),2&o&&t.Q6J("readonly",!0)}function wo(o,r){if(1&o&&t._UZ(0,"div",50),2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function Io(o,r){if(1&o&&t._UZ(0,"div",51),2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function No(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",36),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",47)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,wo,1,3,"div",48),t.YNc(5,Io,1,3,"div",49),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Q6J("ngIf",null==n.transactionForm.get("transactionAmount").value),t.xp6(1),t.Q6J("ngIf",null!=n.transactionForm.get("transactionAmount").value)}}function ko(o,r){if(1&o&&(t.TgZ(0,"mat-select",46),t.YNc(1,No,6,4,"mat-option",35),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function qo(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",41)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",42),t._UZ(4,"div"),t.qZA(),t.YNc(5,bo,1,1,"input",43),t.YNc(6,ko,2,2,"mat-select",44),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(1),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function Zo(o,r){if(1&o&&t._UZ(0,"div",50),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function Fo(o,r){if(1&o&&t._UZ(0,"div",51),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function Do(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",36),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",47)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,Zo,1,3,"div",48),t.YNc(5,Fo,1,3,"div",49),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Q6J("ngIf",null==n.transactionForm.get("transactionAmount").value),t.xp6(1),t.Q6J("ngIf",null!=n.transactionForm.get("transactionAmount").value)}}function Mo(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",41)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",42),t._UZ(4,"div"),t.qZA(),t.TgZ(5,"mat-select",52),t.YNc(6,Do,6,4,"mat-option",35),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngForOf",e.countryValues)}}function Oo(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function Po(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",53)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.TgZ(3,"input",54,55),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(5,"number"),t.qZA(),t.YNc(6,Oo,2,0,"mat-error",56),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.transAmount)("value",t.xi3(5,3,e.transAmt,"2.")),t.xp6(3),t.Q6J("ngIf",null==e.transactionForm.get("transactionAmount").errors?null:e.transactionForm.get("transactionAmount").errors.min)}}function Bo(o,r){1&o&&t._UZ(0,"input",60),2&o&&t.Q6J("readonly",!0)}function So(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))}),t.ALo(1,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(1,3,e.transAmt,"1."))("readonly",e.isedit)}}function Lo(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function Jo(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",53)(1,"mat-label",57),t._uU(2,"Transaction amount *"),t.qZA(),t.YNc(3,Bo,1,1,"input",58),t.YNc(4,So,2,6,"input",59),t.YNc(5,Lo,2,0,"mat-error",56),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.transactionForm.get("transactionAmount").errors?null:e.transactionForm.get("transactionAmount").errors.min)}}function Uo(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function Vo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",53)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.TgZ(3,"input",54,55),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(5,"number"),t.qZA(),t.YNc(6,Uo,2,0,"mat-error",56),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.transAmount)("value",t.xi3(5,3,e.transAmt,"2.")),t.xp6(3),t.Q6J("ngIf",null==e.transactionForm.get("transactionAmount").errors?null:e.transactionForm.get("transactionAmount").errors.min)}}function Qo(o,r){1&o&&t._UZ(0,"input",60),2&o&&t.Q6J("readonly",!0)}function Ro(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.OnInput(a))}),t.ALo(1,"number"),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("ngModel",e.transAmount)("value",t.xi3(1,3,e.transAmt,"1."))("readonly",e.isedit)}}function Yo(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function Ho(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",53)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.YNc(3,Qo,1,1,"input",58),t.YNc(4,Ro,2,6,"input",59),t.YNc(5,Yo,2,0,"mat-error",56),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.transactionForm.get("transactionAmount").errors?null:e.transactionForm.get("transactionAmount").errors.min)}}function Go(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",62)(1,"mat-form-field",63)(2,"mat-label"),t._uU(3,"Account Number"),t.qZA(),t.TgZ(4,"input",64),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.accountForm.get("accountNumber").value))}),t.qZA()(),t.YNc(5,Vo,7,6,"mat-form-field",7),t.YNc(6,Ho,6,3,"mat-form-field",7),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngClass","Cheque Deposit"==e.chqPage&&"Bearer - Same Bank Cheque"==e.transactionForm.get("chequeType").value?"accnum":"style:line-height:18px"),t.xp6(4),t.Q6J("ngIf",!e.showAccountNum),t.xp6(1),t.Q6J("ngIf",e.showAccountNum)}}function Ko(o,r){1&o&&(t.TgZ(0,"mat-form-field",65)(1,"mat-label"),t._uU(2,"Issuing Bank"),t.qZA(),t._UZ(3,"input",66),t.qZA())}function Wo(o,r){1&o&&(t.TgZ(0,"mat-form-field",70),t._UZ(1,"input",71),t.TgZ(2,"mat-label"),t._uU(3,"Negotiated Rate"),t.qZA()())}function Eo(o,r){if(1&o&&(t.TgZ(0,"span",72),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("Exchange rate : ",e.transactionForm.get("exchangeRate").value,"")}}function zo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"p",67),t.NdJ("keyup",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.displayWithNegotiate())}),t.YNc(1,Wo,4,0,"mat-form-field",68),t.YNc(2,Eo,2,1,"span",69),t.qZA()}if(2&o){const e=t.oxw();t.s9C("fxFlex",e.fxflexwidthNegotiated),t.xp6(1),t.Q6J("ngIf",e.transactionForm.get("transactionCurrency").value!=e.accountCurrency),t.xp6(1),t.Q6J("ngIf",e.transactionForm.get("transactionCurrency").value!=e.accountCurrency)}}function jo(o,r){1&o&&(t.TgZ(0,"div",73),t._UZ(1,"img",74),t.TgZ(2,"div",75),t._uU(3,' "Exchange rate may be changed at the time of transaction" '),t.qZA()())}let K=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v,b,y,B){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.fb=s,this.ls=u,this.snack=h,this.changeDef=d,this.elRef=_,this.renderer=v,this.dialog=b,this.cdr=y,this.dataService=B,this.cashWithdrawal="Cash Withdrawal",this.ifQRvariable=!1,this.productCode="CHW",this.tokenOrigin="Kiosk",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="1234",this.accounttypeArray=[],this.idList=[],this.tokenObjects=new R,this.enableContinue=!0,this.isedit=!1,this.currencyImage="",this.accountNoList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1,this.denomRequired="",this.hideDetails=!1,this.hideAccNum=!1,this.subscriptions=[],this.fxflexwidthNegotiated=37.5,this.fxflexwidthTotalChrAmt=22.7,this.fxflexwidthTotalTransAmt=37.5,this.chequeTypes=[],this.onChange=()=>{},this.onTouched=()=>{}}set value(e){this.transactionForm.setValue(e),this.onChange(e),this.onTouched()}get emailControl(){return this.transactionForm.controls.email}get passwordControl(){return this.transactionForm.controls.password}ngOnInit(){this.chqPage=localStorage.getItem("chq_page"),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),console.log("Tranaform",this.phoneNumber),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.transactionForm=new c.cw({transactionCurrency:new c.NI("",c.kI.required),transactionBranch:new c.NI(""),transactionAmount:new c.NI("",c.kI.required),totalTransactionAmount:new c.NI("",c.kI.required),negotiatedRate:new c.NI(""),totalChargeAmount:new c.NI("",c.kI.required),exchangeRate:new c.NI(""),totalAmount:new c.NI(""),transactionId:new c.NI(""),chequeNumber:new c.NI(""),chequeType:new c.NI(""),accountBank:new c.NI("")}),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),setTimeout(()=>{null!=this.qrData&&(console.log("Account",this.qrData),this.getChargeDetails(this.qrData.accountId,""),this.transactionForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.transactionForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),console.log(this.accountForm),this.customerID=this.qrData.customerId,this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.accountForm.controls.transactionBranch.setValue(this.qrData.transactionBranch):this.transactionForm.controls.transactionBranch.setValue("Kasthuri Nagar"),console.log("GetChargeDetails"))},1e3),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),("New Customer"==this.custValidation||null!=this.custNameFromLogin)&&(console.log("Inside New customer"),this.hideAccNum=!1,this.showAccountNum=!0,this.showAccoutType=!1),console.log("CWH :: "+this.custNameFromLogin,this.appointmentId,this.phoneNumber),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(console.log("Calling"),this.ifQRvariable=!1,this.hideAccNum=!0,this.showAccountNum=!0,this.gettingallTansactionDetails(this.phoneNumber),this.onChangeChequeType("Bearer - Other Bank Cheque")),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),("Cheque Withdrawal"==this.chqPage||"Cheque Deposit"==this.chqPage)&&this.getChequeType(this.chqPage),this.subscriptions.push(this.transactionForm.valueChanges.subscribe(e=>{this.onChange(e),this.onTouched()})),this.dataService.getaccountFormdata.subscribe(e=>{var n,a,i,s,u;0!=Object.keys(e).length&&e.constructor===Object&&(this.details=e,console.log(this.details),this.currencyImage=null!==(n=this.details)&&void 0!==n&&n.accountCurrency?"currency-flag-"+(null===(a=this.details)||void 0===a?void 0:a.accountCurrency.toLowerCase()):"currency-flag-"+(null===(i=this.details)||void 0===i?void 0:i.currency.toLowerCase()),this.transactionForm.controls.transactionCurrency.setValue(null!==(s=this.details)&&void 0!==s&&s.accountCurrency?this.details.accountCurrency:null===(u=this.details)||void 0===u?void 0:u.currency),this.details.appointmentId&&this.cashWithdrawlData(this.details),console.log(this.custValidation),("New Customer"==this.custValidation||null!=this.custNameFromLogin)&&(this.showAccountNum=!0,this.setValueForWalkInCustomer(e)))}),console.log(this.transactionForm.controls),console.log(this.transactionForm.controls.transactionCurrency.value),this.dataService.getNavParam.subscribe(e=>{console.log(e),this.titleData=e,this.trnType=e})}ngOnDestroy(){}formatNumber(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}registerOnChange(e){this.onChange=e}addCurrencyImage(e){return e.toLowerCase()}fetchByAccountNum(e){this.transactionForm.controls.transactionAmount.reset(),this.transactionForm.controls.totalTransactionAmount.setValue(this.transactionForm.controls.totalChargeAmount.value),console.log("Account Numebr",e),this.ifQRvariable=!0,this.apiService.fetchByaccNum(e).subscribe(n=>{e!=(null==n?void 0:n.accountId)||null==n.accountId?(console.log("statement"),this.snack.open("Account Number Doesn't Exist","OK",{duration:4e3,verticalPosition:"bottom",horizontalPosition:"right"}),this.transactionForm.reset(),this.userName="",this.accountBal="",this.curr=""):(console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.curr=(0,l.jK)(n.currency,"narrow"),this.getCountrynameValues(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),console.log(this.ifQRvariable),this.custAmountBal(e),this.transactionForm.controls.transactionBranch.setValue("Kasturi Nagar")),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}writeValue(e){e&&(this.value=e),null===e&&this.transactionForm.reset()}registerOnTouched(e){this.onTouched=e}validate(e){return this.transactionForm.valid?null:{profile:{valid:!1}}}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}onCountryChange(e){let n=e.currencyCode;console.log(n),this.currencyImage="currency-flag-"+n.toLowerCase(),this.fetchExchangeRateForCurrency(n),this.displayFlex(n,this.accountCurrency)}fetchExchangeRateForCurrency(e){this.apiService.fetchExchangeRateForCurrency(e,this.accountCurrency).subscribe(n=>{console.log(n),this.exchangerateResp=n,console.log(this.exchangerateResp),this.exchangerateResp&&(("Cash Withdrawal"==this.chqPage||"Cheque Withdrawal"==this.chqPage)&&(console.log(this.titleData),this.transactionForm.controls.exchangeRate.setValue(this.exchangerateResp[0].sellRate)),("Cash Deposit"==this.chqPage||"Cheque Deposit"==this.chqPage)&&this.transactionForm.controls.exchangeRate.setValue(this.exchangerateResp[0].buyRate)),setTimeout(()=>{this.transactionForm.controls.transactionCurrency.value==this.accountCurrency?(this.totalTransAmount=Number(this.transactionForm.controls.transactionAmount.value?this.transactionForm.controls.transactionAmount.value:0)+Number(this.chargeDetails[0].amount),this.transactionForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)):this.displayWithNegotiate()},10)})}displayWithNegotiate(){this.transactionForm.controls.transactionCurrency.value!=this.accountCurrency&&(this.totalTransAmount=Number(this.transactionForm.controls.transactionAmount.value?this.transactionForm.controls.transactionAmount.value.replace(/\,/g,""):0)*Number(this.transactionForm.controls.negotiatedRate.value?this.transactionForm.controls.negotiatedRate.value:this.transactionForm.controls.exchangeRate.value)+Number(this.chargeDetails[0].amount),console.log("line 449 displaywithnegotiate",this.transactionForm.controls.transactionAmount.value),this.transactionForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),console.log(this.transactionForm.controls.exchangeRate.value))}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1,localStorage.setItem("DenominationRequired",n.denomRequired))})}getChequeType(e){console.log(e),"Cheque Withdrawal"==e&&(e="withdrawal_cheque_type"),"Cheque Deposit"==e&&(e="deposit_cheque_type"),this.apiService.fetchChequeType(e).subscribe(n=>{this.chequeTypes=n,console.log(this.chequeTypes)})}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}cashWithdrawlData(e){this.custID=e.customerId,this.ifQRvariable=!0,this.hideAccNum=!1,this.hideDetails=!0,this.showAccountNum=!0,this.userName=e.holderName,this.accountCurrency=e.accountCurrency,this.transactionForm.controls.transactionCurrency.setValue(e.accountCurrency?e.accountCurrency:""),this.transactionForm.controls.transactionAmount.setValue(e.transactionAmount),this.transactionForm.controls.chequeType.setValue(e.chequeType),this.transactionForm.controls.chequeNumber.setValue(e.chequeNumber),console.log(this.currencyImage),this.getChargeDetails(e.accountNumber,"")}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.custID=n.customerId,console.log("Cust",this.accountCurrency),this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1)),console.log(this.accounttypeArray);for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);this.accountCurrency=this.accountNoList[0].accountCurrency,console.log(this.accountNoList),this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.hideAccNum=!0,this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.hideAccNum=!0,this.custAccountNumber(n.custAccount[0]))})}custAccountNumber(e){console.log("custype :: ",e),this.idList=[...this.custAccountData].filter(n=>n.accountType===e.accountType),console.log("idList :: ",this.idList),this.accountNoList=[];for(let n=0;n<this.idList.length;n++)"APPROVED"==this.idList[n].status&&this.accountNoList.push(this.idList[n].accountId);console.log("accountNoList :: ",this.accountNoList),this.flag1=!(this.accountNoList.length<=1),this.accountCurrency=e.accountCurrency,console.log("AccountCurrency",e.accountCurrency),this.selected=e.accountCurrency,this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.transactionForm.controls.transactionCurrency.setValue(e.accountCurrency),this.displayFlex(this.transactionForm.controls.transactionCurrency.value,e.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),console.log(this.accountBal),this.custAmountBal(this.accountNoList[0]),this.getChargeDetails(this.accountNoList[0],e.amount),"Cheque Withdrawal"==this.chqPage&&(this.transactionForm.controls.chequeType.setValue(this.chequeTypes[0]),console.log(this.transactionForm)),"Cheque Deposit"==this.chqPage&&(this.transactionForm.controls.chequeType.setValue(this.chequeTypes[0]),console.log(this.transactionForm))}onChangeChequeType(e){console.log(e),"Cheque Deposit"===this.chqPage&&"Bearer - Other Bank Cheque"===e?(console.log(e),this.fxflexwidthNegotiated=26.3,this.fxflexwidthTotalChrAmt=37.5,this.fxflexwidthTotalTransAmt=34):"Cheque Withdrawal"==this.chqPage&&"Self"==e.name?(this.fxflexwidthNegotiated=34,this.fxflexwidthTotalChrAmt=29.5,this.fxflexwidthTotalTransAmt=29.5):"Cheque Withdrawal"==this.chqPage&&"Bearer"==e.name?(this.fxflexwidthNegotiated=29.5,this.fxflexwidthTotalChrAmt=29.5,this.fxflexwidthTotalTransAmt=34):"Cheque Deposit"===this.chqPage&&"Banker"===e||"Cheque Deposit"===this.chqPage&&"Traveler"===e?(console.log(e),this.fxflexwidthNegotiated=34,this.fxflexwidthTotalChrAmt=26.2,this.fxflexwidthTotalTransAmt=37.5):"Cheque Deposit"===this.chqPage&&"Bearer - Same Bank Cheque"===e?(console.log(e),this.fxflexwidthNegotiated=37.5,this.fxflexwidthTotalChrAmt=25.7,this.fxflexwidthTotalTransAmt=34.5):console.log(e)}displayFlex(e,n){console.log(e,n),("Cash Withdrawal"==this.chqPage||"Cash Deposit"==this.chqPage)&&e!=n&&(console.log("Flex Width with Nego"),this.fxflexwidthNegotiated=34.8,this.fxflexwidthTotalChrAmt=31,this.fxflexwidthTotalTransAmt=32),("Cash Withdrawal"==this.chqPage||"Cash Deposit"==this.chqPage)&&e==n&&(console.log("Flex Width without Nego"),this.fxflexwidthTotalChrAmt=37.5,this.fxflexwidthTotalTransAmt=37.5)}OnInput(e){this.transAmt=e.target.value,this.totalAmount=0,console.log("data :: ",this.idList[0]),console.log(this.accountBal,this.showAccountNum),this.custAmountBal(this.accountNoList[0]),this.denomRequired=localStorage.getItem("DenominationRequired"),this.dataService.sendtransactionFormData(this.transactionForm.value);const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),console.log(this.trnType),console.log(localStorage.getItem("trnType")),"Cash Withdrawal"==localStorage.getItem("trnType")||"Cheque Withdrawal"==localStorage.getItem("trnType")?(console.log(this.balance,this.transAmt),parseFloat(this.balance)<parseFloat(this.transAmt)&&(console.log("Bigger"),this.snack.open("Insufficient Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right",panelClass:["snackbar"]}),this.enableContinue=!1)):this.enableContinue=!0,this.transactionForm.controls.transactionCurrency.value==this.accountCurrency&&(console.log(this.accountCurrency),this.totalTransAmount=Number(this.transactionForm.controls.transactionAmount.value?this.transactionForm.controls.transactionAmount.value.replace(/\,/g,""):0)+Number(this.chargeDetails[0].amount),this.transactionForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)),this.transactionForm.controls.transactionCurrency.value!=this.accountCurrency&&(console.log(this.accountCurrency),console.log(this.chargeDetails[0].amount),this.totalTransAmount=Number(this.transactionForm.controls.transactionAmount.value?this.transactionForm.controls.transactionAmount.value.replace(/\,/g,""):0)*Number(this.transactionForm.controls.negotiatedRate.value?this.transactionForm.controls.negotiatedRate.value:this.transactionForm.controls.exchangeRate.value)+Number(this.chargeDetails[0].amount),console.log(this.totalTransAmount),this.transactionForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)),this.cdr.markForCheck(),this.cdr.detectChanges()}custAmountBal(e){var n=this.idList.filter(function(a){if(a.accountId==e)return a});console.log(n),n.length>0&&(this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0]),console.log(this.accountBal)}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{this.chargeDetails=a,console.log(this.chargeDetails),this.transactionForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.transactionForm.controls.transactionCurrency.value==this.accountCurrency&&(console.log(this.accountCurrency),this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails[0].amount),this.transactionForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)),this.transactionForm.controls.transactionCurrency.value!=this.accountCurrency&&(console.log(this.accountCurrency),this.totalTransAmount=Number(this.cashData.transactionAmount)*Number(this.transactionForm.controls.negotiatedRate.value?this.transactionForm.controls.negotiatedRate.value:this.transactionForm.controls.exchangeRate.value)+Number(this.chargeDetails[0].amount),console.log("line 845 getchrgedetails",this.totalTransAmount),this.transactionForm.controls.totalTransactionAmount.setValue(this.totalTransAmount))},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(this.transactionForm.controls.totalChargeAmount.value),setTimeout(()=>{this.totalTransAmount=Number(this.transactionForm.controls.transactionAmount.value?this.transactionForm.controls.transactionAmount.value:0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.transactionForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}totalAmountValue(e){this.a=this.transactionForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.transactionForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.transactionForm.value.totalAmount=this.transactionForm.value.totalAmount,console.log(this.transactionForm.value.totalAmount),console.log(this.transactionForm.value.transactionAmount),this.transamount=this.transactionForm.value.transactionAmount,this.totalAmount=this.transactionForm.value.totalAmount.toLocaleString("en-US"),this.enableBtn=this.transamount==this.totalAmount,this.enableBtn1=this.transamount>this.totalAmount||this.transamount<this.totalAmount,this.transactionForm.controls.totalAmount.setValue(this.transactionForm.value.totalAmount)}setValueForWalkInCustomer(e){console.log(e,this.accountCurrency),this.accountCurrency=e.currency,this.transactionForm.controls.transactionCurrency.setValue(null==e?void 0:e.currency),this.currencyImage="currency-flag-"+(null==e?void 0:e.currency.toLowerCase()),this.getChargeDetails(e.accountId,""),console.log(this.currencyImage)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(c.qu),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-transaction-information-form"]],viewQuery:function(e,n){if(1&e&&t.Gf(H,5),2&e){let a;t.iGM(a=t.CRH())&&(n.accountComponent=a.first)}},features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0},{provide:c.Cf,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],decls:48,vars:37,consts:[[1,"section"],[1,"transactionHeader"],[1,"transaction_form",3,"formGroup"],["fxLayout","column"],["fxLayout","row","fxLayoutGap","-24%","fxFlex","110%",4,"ngIf"],["fxLayout","row","fxLayoutGap","5px","fxFlex","110%",1,"transclass",3,"hidden"],["appearance","outline","fxFlex","37.5",4,"ngIf"],["appearance","outline","fxFlex","60.7",4,"ngIf"],["fxLayout","row","fxLayoutGap","5px","fxFlex","110%","class","transclass",4,"ngIf"],["fxFlex","110%","fxLayout","row wrap","fxFlex.sm","30.3","fxFlex.xs","50","fxLayoutGap","5px",1,"transclass"],["appearance","outline","fxFlex","37.5",2,"font-size","11px","line-height","inherit",3,"hidden"],["type","text","formControlName","accountNumber","placeholder","Account Number","matInput",""],["appearance","outline","fxFlex","34",2,"font-size","11px","line-height","inherit",3,"hidden"],["type","text","formControlName","accountBank","placeholder","Account Bank","matInput",""],["appearance","outline","fxFlex","37.5","style","font-size: 11px; line-height: inherit",4,"ngIf"],["fxLayout","column",3,"fxFlex","keyup",4,"ngIf"],["appearance","outline",1,"mat_form_field_margin",2,"font-size","11px","line-height","inherit",3,"fxFlex"],["matInput","","readonly","","formControlName","totalChargeAmount","type","number","placeholder","Total Charge Amount",3,"value"],["appearance","outline",1,"mat_form_field_margin",2,"font-size","11px","line-height","18.35px",3,"fxFlex"],["matInput","","fxFlex","95","type","number","readonly","","onlyNumber","","formControlName","totalTransactionAmount","placeholder","Total Transaction Amount",3,"ngModel"],["fxFlex","8",1,"tooltip"],["width","60%",3,"src"],[1,"text",3,"ngClass"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],["class","errormsge",4,"ngIf"],["fxLayout","row","fxLayoutGap","-24%","fxFlex","110%"],["fxFlex","100%",1,"transclass",2,"font-size","10px"],["appearance","outline","fxFlex","60%","style","line-height: inherit",4,"ngIf"],["fxFlex","100%",2,"font-size","11px"],["appearance","outline","fxFlex","98%","style","line-height: 20px",4,"ngIf"],["appearance","outline","fxFlex","60%",2,"line-height","inherit"],["formControlName","chequeType",4,"ngIf"],["formControlName","chequeType"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["appearance","outline","fxFlex","98%",2,"line-height","20px"],[1,"totalAmount"],["matInput","","onlyNumber","","formControlName","chequeNumber",4,"ngIf"],["matInput","","onlyNumber","","formControlName","chequeNumber"],["appearance","outline","fxFlex","37.5"],["fxFlex","11.5%"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly"],["formControlName","transactionCurrency",3,"disabled"],["fxLayout","row wrap"],["style","margin-top: 3%; margin-left: 4%",3,"class",4,"ngIf"],["style","margin-top: 6%; margin-left: 4%",3,"class",4,"ngIf"],[2,"margin-top","3%","margin-left","4%"],[2,"margin-top","6%","margin-left","4%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency"],["appearance","outline","fxFlex","60.7"],["matInput","","formControlName","transactionAmount",3,"ngModel","value","ngModelChange","keyup","focus"],["myRef",""],[4,"ngIf"],[1,"floatingLabel"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup"],["fxLayout","row","fxLayoutGap","5px","fxFlex","110%",1,"transclass"],["appearance","outline","fxFlex","37.5",2,"font-size","11px",3,"ngClass"],["type","text","formControlName","accountNumber","placeholder","Account Number","matInput","",3,"change"],["appearance","outline","fxFlex","37.5",2,"font-size","11px","line-height","inherit"],["type","text","formControlName","issuingBank","placeholder","Issuing Bank","matInput",""],["fxLayout","column",3,"fxFlex","keyup"],["appearance","outline","style","font-size: 11px; line-height: inherit",4,"ngIf"],["class","exchg",4,"ngIf"],["appearance","outline",2,"font-size","11px","line-height","inherit"],["matInput","","type","number","formControlName","negotiatedRate","placeholder","Negotiated rate"],[1,"exchg"],[1,"errormsge"],["src","assets/images/exchangemessageicon.png","alt",""],[1,"errortext"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card-title",1),t._uU(2,"Transaction Information"),t.qZA(),t.TgZ(3,"form",2)(4,"div",3),t.YNc(5,Ao,5,2,"div",4),t.TgZ(6,"div",5),t.YNc(7,qo,7,5,"mat-form-field",6),t.YNc(8,Mo,7,4,"mat-form-field",6),t.YNc(9,Po,7,6,"mat-form-field",7),t.YNc(10,Jo,6,3,"mat-form-field",7),t.qZA(),t.YNc(11,Go,7,3,"div",8),t.TgZ(12,"div")(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Account Number"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"mat-form-field",12)(19,"mat-label"),t._uU(20,"Account Bank"),t.qZA(),t._UZ(21,"input",13),t.qZA(),t.YNc(22,Ko,4,0,"mat-form-field",14),t.YNc(23,zo,3,3,"p",15),t.TgZ(24,"mat-form-field",16)(25,"mat-label"),t._uU(26,"Total Charge Amount *"),t.qZA(),t._UZ(27,"input",17),t.ALo(28,"number"),t.qZA(),t.TgZ(29,"mat-form-field",18)(30,"mat-label"),t._uU(31,"Total Transaction Amount"),t.qZA(),t._UZ(32,"input",19),t.ALo(33,"number"),t.TgZ(34,"div",20),t._UZ(35,"img",21),t.TgZ(36,"div",22)(37,"p",23),t._uU(38),t.ALo(39,"number"),t.qZA(),t.TgZ(40,"p",24),t._uU(41),t.ALo(42,"number"),t.qZA(),t._UZ(43,"hr"),t.TgZ(44,"p",25),t._uU(45),t.ALo(46,"number"),t.qZA()()()()()(),t.YNc(47,jo,4,0,"div",26),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.transactionForm),t.xp6(2),t.Q6J("ngIf","Cheque Deposit"==n.chqPage||"Cheque Withdrawal"==n.chqPage),t.xp6(1),t.Q6J("hidden","Cheque Deposit"==n.chqPage&&"Bearer - Same Bank Cheque"==n.transactionForm.get("chequeType").value),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf","Cheque Deposit"==n.chqPage&&"Bearer - Same Bank Cheque"==n.transactionForm.get("chequeType").value),t.xp6(3),t.Q6J("hidden","Bearer - Same Bank Cheque"==n.transactionForm.get("chequeType").value||"Banker"==n.transactionForm.get("chequeType").value||"Traveller"==n.transactionForm.get("chequeType").value||"Self"==n.transactionForm.get("chequeType").value||"Cash Withdrawal"==n.chqPage||"Cash Deposit"==n.chqPage),t.xp6(4),t.Q6J("hidden","Bearer - Same Bank Cheque"==n.transactionForm.get("chequeType").value||"Banker"==n.transactionForm.get("chequeType").value||"Traveler"==n.transactionForm.get("chequeType").value||"Self"==n.transactionForm.get("chequeType").value||"Traveller"==n.transactionForm.get("chequeType").value||"Bearer"==n.transactionForm.get("chequeType").value||"Cash Withdrawal"==n.chqPage||"Cash Deposit"==n.chqPage),t.xp6(4),t.Q6J("ngIf",!("Cheque Deposit"!=n.chqPage&&"Cheque Withdrawal"!=n.chqPage||"Banker"!=n.transactionForm.get("chequeType").value&&"Traveller"!=n.transactionForm.get("chequeType").value)),t.xp6(1),t.Q6J("ngIf",n.transactionForm.get("transactionCurrency").value!=n.accountCurrency||"Bearer - Other Bank Cheque"==n.transactionForm.get("chequeType").value||"Bearer - Same Bank Cheque"==n.transactionForm.get("chequeType").value||"Banker"==n.transactionForm.get("chequeType").value||"Traveler"==n.transactionForm.get("chequeType").value||"Self"==n.transactionForm.get("chequeType").value||"Traveller"==n.transactionForm.get("chequeType").value||"Bearer"==n.transactionForm.get("chequeType").value),t.xp6(1),t.s9C("fxFlex",n.fxflexwidthTotalChrAmt),t.xp6(3),t.Q6J("value",t.xi3(28,22,n.totalChargeAmount,"1.2-2")),t.xp6(2),t.s9C("fxFlex",n.fxflexwidthTotalTransAmt),t.xp6(3),t.Q6J("ngModel",t.xi3(33,25,n.totalTransactionAmount,"1.2-2")),t.xp6(3),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(1),t.Q6J("ngClass",n.transactionForm.get("transactionCurrency").value!=n.accountCurrency?"tooltiptextNeg":"tooltiptext"),t.xp6(2),t.hij(" Transaction Amount:",t.xi3(39,28,n.transactionForm.get("transactionAmount").value,"1.2-2")," "),t.xp6(3),t.hij(" Total Charge Amount:",t.xi3(42,31,n.transactionForm.get("totalChargeAmount").value,"1.2-2")," "),t.xp6(4),t.hij(" Total Transaction Amount:",t.xi3(46,34,n.transactionForm.get("totalTransactionAmount").value,"1.2-2")," "),t.xp6(2),t.Q6J("ngIf",n.transactionForm.get("transactionCurrency").value!=n.accountCurrency||"Bearer - Other Bank Cheque"==n.transactionForm.get("chequeType").value||"Bearer - Same Bank Cheque"==n.transactionForm.get("chequeType").value||"Banker"==n.transactionForm.get("chequeType").value||"Traveller"==n.transactionForm.get("chequeType").value||"Self"==n.transactionForm.get("chequeType").value||"Bearer"==n.transactionForm.get("chequeType").value))},dependencies:[l.mk,l.sg,l.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,m.xw,m.SQ,m.yH,S.oO,g.TO,g.KE,g.hX,I.Nt,O.ey,q.gD,p.n5,l.JJ],styles:[".transactionHeader[_ngcontent-%COMP%]{font-size:18px;color:var(--unnamed-color-004c97);text-align:left;font-family:Poppins,Medium;letter-spacing:-.38px;color:#004c97;opacity:1;margin-left:19px}.errormsge[_ngcontent-%COMP%]{display:flex;margin-left:17px}.transaction_form[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:0!important;margin-left:10px!important}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}[hidden][_ngcontent-%COMP%]{display:none!important}input.mat-input-element[_ngcontent-%COMP%]{margin-left:15px;caret-color:#102245!important;color:#102245!important}  .mat-form-field-appearance-outline.mat_form_field_margin .mat-form-field-outline{background-color:#f2f2f2}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#004c97!important}mat-label[_ngcontent-%COMP%]{font-family:Poppins,Medium!important;margin-left:18px!important}.accnum[_ngcontent-%COMP%]{line-height:22px;margin-top:2px}.transclass[_ngcontent-%COMP%]{margin-left:11px}.exchg[_ngcontent-%COMP%]{margin-top:-1%;font-size:12px;font-weight:700;margin-left:10px}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#ff3d57!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#004c97!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#ff3d57!important}"],changeDetection:0}),o})();const $o=["cdForm"];function Xo(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function ta(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"p",16),t._uU(3,"2000"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"div")(10,"input",21,22),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(12,"div",23),t.YNc(13,Xo,2,1,"mat-error",13),t.qZA()()()}if(2&o){const e=t.MAs(11),n=t.oxw(2);t.xp6(13),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[2e3])}}function ea(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function na(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",15)(2,"p",16),t._uU(3,"500"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"input",25,26),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",23),t.YNc(12,ea,2,1,"mat-error",13),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[500])}}function oa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function aa(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",15)(2,"p",16),t._uU(3,"200"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"input",27,28),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",23),t.YNc(12,oa,2,1,"mat-error",13),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[200])}}function ia(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function ra(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",15)(2,"p",16),t._uU(3,"100"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"input",29,30),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",23),t.YNc(12,ia,2,1,"mat-error",13),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[100])}}function ca(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function sa(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",15)(2,"p",16),t._uU(3,"50"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"input",31,32),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",23),t.YNc(12,ca,2,1,"mat-error",13),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[50])}}function ua(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function la(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",15)(2,"p",16),t._uU(3,"20"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"input",33,34),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",23),t.YNc(12,ua,2,1,"mat-error",13),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[20])}}function ma(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function ha(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",15)(2,"p",16),t._uU(3,"10"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"input",35,36),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",23),t.YNc(12,ma,2,1,"mat-error",13),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[10])}}function da(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",15)(2,"p",16),t._uU(3,"1"),t.qZA()(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-card",20)(9,"input",37,36),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()()()}}function pa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Denomination Total should be equal to ",e.transactionAmountValue," ")}}const ga=function(o){return{height:o}};function _a(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",2)(1,"form",null,3)(3,"mat-card-title",4),t._uU(4,"Denomination"),t.qZA(),t.TgZ(5,"div",5),t.YNc(6,ta,14,1,"div",6),t.YNc(7,na,13,1,"div",7),t.YNc(8,aa,13,1,"div",7),t.YNc(9,ra,13,1,"div",7),t.YNc(10,sa,13,1,"div",7),t.YNc(11,la,13,1,"div",7),t.YNc(12,ha,13,1,"div",7),t.YNc(13,da,11,0,"div",7),t.qZA(),t.TgZ(14,"div",8)(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),t._uU(18,"Denomination Total"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmount=a)}),t.qZA()(),t._UZ(20,"br"),t.TgZ(21,"div",12),t.YNc(22,pa,2,1,"mat-error",13),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("ngStyle",t.VKq(11,ga,e.title&&e.title.toLowerCase().includes("cheque withdrawal")?"96.3%":"96.1%")),t.xp6(6),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"Loan Payment"==e.chqPage||"Loan Disbursement"==e.chqPage),t.xp6(1),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"USD"==e.transactiondata.transactionCurrency||"AED"==e.transactiondata.transactionCurrency||"Loan Payment"==e.chqPage),t.xp6(1),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"Loan Payment"==e.chqPage),t.xp6(1),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"USD"==e.transactiondata.transactionCurrency||"AED"==e.transactiondata.transactionCurrency||"Loan Payment"==e.chqPage),t.xp6(1),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"USD"==e.transactiondata.accountCurrency||"Loan Payment"==e.chqPage),t.xp6(1),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"Loan Payment"==e.chqPage),t.xp6(1),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"Loan Payment"==e.chqPage),t.xp6(1),t.Q6J("ngIf","INR"==e.transactiondata.transactionCurrency||"USD"==e.transactiondata.transactionCurrency||"AED"==e.transactiondata.transactionCurrency||"Loan Payment"==e.chqPage),t.xp6(6),t.Q6J("ngModel",e.totalAmount),t.xp6(3),t.Q6J("ngIf",e.enableBtn1)}}function fa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function Ca(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function xa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function ya(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function va(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function Ta(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function Aa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function ba(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Total amount should be equal to ",e.forexData.forextotaldenomin," ")}}function wa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function Ia(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function Na(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function ka(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function qa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function Za(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function Fa(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function Da(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Total amount should be equal to ",e.forexData.forextotaldenomout," ")}}function Ma(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",38)(1,"form",null,3)(3,"mat-tab-group")(4,"mat-tab",39)(5,"div",40)(6,"div",41)(7,"div",14)(8,"div",15)(9,"p",16),t._uU(10,"2000"),t.qZA()(),t.TgZ(11,"div",17)(12,"p",18),t._uU(13,"x"),t.qZA()(),t.TgZ(14,"div",19)(15,"mat-card",20)(16,"div")(17,"input",42,43),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(19,"div",23),t.YNc(20,fa,2,1,"mat-error",13),t.qZA()()(),t.TgZ(21,"div",24)(22,"div",15)(23,"p",16),t._uU(24,"500"),t.qZA()(),t.TgZ(25,"div",17)(26,"p",18),t._uU(27,"x"),t.qZA()(),t.TgZ(28,"div",19)(29,"mat-card",20)(30,"input",44,45),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(32,"div",23),t.YNc(33,Ca,2,1,"mat-error",13),t.qZA()()()(),t.TgZ(34,"div",41)(35,"div",24)(36,"div",15)(37,"p",16),t._uU(38,"200"),t.qZA()(),t.TgZ(39,"div",17)(40,"p",18),t._uU(41,"x"),t.qZA()(),t.TgZ(42,"div",19)(43,"mat-card",20)(44,"input",46,47),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(46,"div",23),t.YNc(47,xa,2,1,"mat-error",13),t.qZA()()(),t.TgZ(48,"div",24)(49,"div",15)(50,"p",16),t._uU(51,"100"),t.qZA()(),t.TgZ(52,"div",17)(53,"p",18),t._uU(54,"x"),t.qZA()(),t.TgZ(55,"div",19)(56,"mat-card",20)(57,"input",48,49),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(59,"div",23),t.YNc(60,ya,2,1,"mat-error",13),t.qZA()()()(),t.TgZ(61,"div",41)(62,"div",24)(63,"div",15)(64,"p",16),t._uU(65,"50"),t.qZA()(),t.TgZ(66,"div",17)(67,"p",18),t._uU(68,"x"),t.qZA()(),t.TgZ(69,"div",19)(70,"mat-card",20)(71,"input",50,51),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(73,"div",23),t.YNc(74,va,2,1,"mat-error",13),t.qZA()()(),t.TgZ(75,"div",24)(76,"div",15)(77,"p",16),t._uU(78,"20"),t.qZA()(),t.TgZ(79,"div",17)(80,"p",18),t._uU(81,"x"),t.qZA()(),t.TgZ(82,"div",19)(83,"mat-card",20)(84,"input",52,53),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(86,"div",23),t.YNc(87,Ta,2,1,"mat-error",13),t.qZA()()()(),t.TgZ(88,"div",41)(89,"div",24)(90,"div",15)(91,"p",16),t._uU(92,"10"),t.qZA()(),t.TgZ(93,"div",17)(94,"p",18),t._uU(95,"x"),t.qZA()(),t.TgZ(96,"div",19)(97,"mat-card",20)(98,"input",54,55),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(100,"div",23),t.YNc(101,Aa,2,1,"mat-error",13),t.qZA()()(),t.TgZ(102,"div",24)(103,"div",15)(104,"p",16),t._uU(105,"1"),t.qZA()(),t.TgZ(106,"div",17)(107,"p",18),t._uU(108,"x"),t.qZA()(),t.TgZ(109,"div",19)(110,"mat-card",20)(111,"input",56,55),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()()()()()(),t.TgZ(113,"div",57)(114,"div",9)(115,"mat-form-field",58)(116,"mat-label"),t._uU(117,"Denomination Total"),t.qZA(),t.TgZ(118,"input",59),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmountIn=a)}),t.qZA()(),t._UZ(119,"br")(120,"br"),t.TgZ(121,"div",12),t.YNc(122,ba,2,1,"mat-error",13),t.qZA()()()(),t.TgZ(123,"mat-tab",60)(124,"div",61)(125,"div",41)(126,"div",14)(127,"div",15)(128,"p",16),t._uU(129,"2000"),t.qZA()(),t.TgZ(130,"div",17)(131,"p",18),t._uU(132,"x"),t.qZA()(),t.TgZ(133,"div",19)(134,"mat-card",20)(135,"div")(136,"input",21,22),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(138,"div",23),t.YNc(139,wa,2,1,"mat-error",13),t.qZA()()(),t.TgZ(140,"div",24)(141,"div",15)(142,"p",16),t._uU(143,"500"),t.qZA()(),t.TgZ(144,"div",17)(145,"p",18),t._uU(146,"x"),t.qZA()(),t.TgZ(147,"div",19)(148,"mat-card",20)(149,"input",25,26),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(151,"div",23),t.YNc(152,Ia,2,1,"mat-error",13),t.qZA()()()(),t.TgZ(153,"div",41)(154,"div",24)(155,"div",15)(156,"p",16),t._uU(157,"200"),t.qZA()(),t.TgZ(158,"div",17)(159,"p",18),t._uU(160,"x"),t.qZA()(),t.TgZ(161,"div",19)(162,"mat-card",20)(163,"input",27,28),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(165,"div",23),t.YNc(166,Na,2,1,"mat-error",13),t.qZA()()(),t.TgZ(167,"div",24)(168,"div",15)(169,"p",16),t._uU(170,"100"),t.qZA()(),t.TgZ(171,"div",17)(172,"p",18),t._uU(173,"x"),t.qZA()(),t.TgZ(174,"div",19)(175,"mat-card",20)(176,"input",29,30),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(178,"div",23),t.YNc(179,ka,2,1,"mat-error",13),t.qZA()()()(),t.TgZ(180,"div",41)(181,"div",24)(182,"div",15)(183,"p",16),t._uU(184,"50"),t.qZA()(),t.TgZ(185,"div",17)(186,"p",18),t._uU(187,"x"),t.qZA()(),t.TgZ(188,"div",19)(189,"mat-card",20)(190,"input",31,32),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(192,"div",23),t.YNc(193,qa,2,1,"mat-error",13),t.qZA()()(),t.TgZ(194,"div",24)(195,"div",15)(196,"p",16),t._uU(197,"20"),t.qZA()(),t.TgZ(198,"div",17)(199,"p",18),t._uU(200,"x"),t.qZA()(),t.TgZ(201,"div",19)(202,"mat-card",20)(203,"input",33,34),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(205,"div",23),t.YNc(206,Za,2,1,"mat-error",13),t.qZA()()()(),t.TgZ(207,"div",41)(208,"div",24)(209,"div",15)(210,"p",16),t._uU(211,"10"),t.qZA()(),t.TgZ(212,"div",17)(213,"p",18),t._uU(214,"x"),t.qZA()(),t.TgZ(215,"div",19)(216,"mat-card",20)(217,"input",35,36),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(219,"div",23),t.YNc(220,Fa,2,1,"mat-error",13),t.qZA()()(),t.TgZ(221,"div",24)(222,"div",15)(223,"p",16),t._uU(224,"1"),t.qZA()(),t.TgZ(225,"div",17)(226,"p",18),t._uU(227,"x"),t.qZA()(),t.TgZ(228,"div",19)(229,"mat-card",20)(230,"input",37,36),t.NdJ("keyup",function(){t.CHM(e);const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()()()()()(),t.TgZ(232,"div",57)(233,"div",9)(234,"mat-form-field",58)(235,"mat-label"),t._uU(236,"Denomination Amount"),t.qZA(),t.TgZ(237,"input",62),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmountOut=a)}),t.qZA()(),t._UZ(238,"br")(239,"br"),t.TgZ(240,"div",12),t.YNc(241,Da,2,1,"mat-error",13),t.qZA()()()()()()()}if(2&o){const e=t.MAs(18),n=t.MAs(31),a=t.MAs(45),i=t.MAs(58),s=t.MAs(72),u=t.MAs(85),h=t.MAs(99),d=t.MAs(137),_=t.MAs(150),v=t.MAs(164),b=t.MAs(177),y=t.MAs(191),B=t.MAs(204),Q=t.MAs(218),C=t.oxw();t.xp6(20),t.Q6J("ngIf",C.denominationlimit&&e.value>C.denominationLimit[2e3]),t.xp6(13),t.Q6J("ngIf",C.denominationlimit&&n.value>C.denominationLimit[500]),t.xp6(14),t.Q6J("ngIf",C.denominationlimit&&a.value>C.denominationLimit[200]),t.xp6(13),t.Q6J("ngIf",C.denominationlimit&&i.value>C.denominationLimit[100]),t.xp6(14),t.Q6J("ngIf",C.denominationlimit&&s.value>C.denominationLimit[50]),t.xp6(13),t.Q6J("ngIf",C.denominationlimit&&u.value>C.denominationLimit[20]),t.xp6(14),t.Q6J("ngIf",C.denominationlimit&&h.value>C.denominationLimit[10]),t.xp6(17),t.Q6J("ngModel",C.totalAmountIn),t.xp6(4),t.Q6J("ngIf",C.enableBtnn1),t.xp6(17),t.Q6J("ngIf",C.denominationlimit&&d.value>C.denominationLimit[2e3]),t.xp6(13),t.Q6J("ngIf",C.denominationlimit&&_.value>C.denominationLimit[500]),t.xp6(14),t.Q6J("ngIf",C.denominationlimit&&v.value>C.denominationLimit[200]),t.xp6(13),t.Q6J("ngIf",C.denominationlimit&&b.value>C.denominationLimit[100]),t.xp6(14),t.Q6J("ngIf",C.denominationlimit&&y.value>C.denominationLimit[50]),t.xp6(13),t.Q6J("ngIf",C.denominationlimit&&B.value>C.denominationLimit[20]),t.xp6(14),t.Q6J("ngIf",C.denominationlimit&&Q.value>C.denominationLimit[10]),t.xp6(17),t.Q6J("ngModel",C.totalAmountOut),t.xp6(4),t.Q6J("ngIf",C.enablebtn1)}}let G=(()=>{class o{constructor(e){this.dataService=e,this.title="",this.subscriptions=[],this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.enableBtn=!0,this.enableBtn1=!1,this.enableBtnn=!0,this.enableBtnn1=!1,this.enablebtn=!0,this.enablebtn1=!1,this.onChange=()=>{},this.onTouched=()=>{}}get value(){return this.cdForm.value}set value(e){this.cdForm.setValue(e),this.onChange(e),this.onTouched()}ngOnInit(){console.log(this.cdForm),this.chqPage=localStorage.getItem("chq_page"),console.log(this.chqPage),this.dataService.gettransactionFormdata.subscribe(e=>{e&&(console.log("Account component?",e),this.transactiondata=e)}),this.dataService.getpaymentInfoFormdata.subscribe(e=>{e&&(console.log("Account component?",e),this.transactiondata=e)}),this.dataService.getforexTransTypeData.subscribe(e=>{e&&(console.log("Account component?",e),this.forexData=e)}),this.dataService.getNavParam.subscribe(e=>{e&&(console.log("Account component?",e),this.denomRequired=e,console.log(this.transactiondata.transactionAmounts))})}registerOnChange(e){this.onChange=e}addCurrencyImage(e){return e.toLowerCase()}writeValue(e){var n;e&&(this.value=e),null===e&&(null===(n=this.cdForm)||void 0===n||n.reset())}registerOnTouched(e){this.onTouched=e}validate(e){var n;return null!==(n=this.cdForm)&&void 0!==n&&n.valid?null:{profile:{valid:!1}}}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){console.log(this.chqPage),this.dataService.sendDenominationFormData(e.form),"Cash Forex Transaction"!=this.chqPage?(console.log("transaction data",this.transactiondata),this.transactionAmountValue="Loan Disbursement"==this.chqPage?this.transactiondata.loanDisburshmentAmount:"Loan Payment"==this.chqPage?this.transactiondata.loanRepaymentAmount:this.transactiondata.transactionAmount,this.transactionAmountValue=this.transactionAmountValue.replace(/\,/g,""),this.transactionAmountValue=parseInt(this.transactionAmountValue,10),this.cdForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.cdForm.value.totalAmount=this.cdForm.value.totalAmount,console.log(this.cdForm.value.totalAmount),console.log(this.cdForm.value.transactionAmount),this.transamount=this.cdForm.value.transactionAmount,this.totalAmount=this.cdForm.value.totalAmount.toLocaleString("en-US"),this.totalAmount=this.totalAmount.replace(/\,/g,""),this.enableBtn=this.transamount==this.totalAmount,console.log(this.transamount,this.totalAmount),this.enableBtn1=this.transactionAmountValue>this.totalAmount||this.transactionAmountValue<this.totalAmount,console.log(this.cdForm.value.totalAmount),this.cdForm.controls.totalAmount.setValue(this.cdForm.value.totalAmount)):"Cash Forex Transaction"==this.chqPage&&document.getElementById("denominationIn")?(console.log("forex",this.forexData),this.cdForm.value.totalAmountIn=(e.value.countin2000?2e3*e.value.countin2000:0)+(e.value.countin500?500*e.value.countin500:0)+(e.value.countin200?200*e.value.countin200:0)+(e.value.countin100?100*e.value.countin100:0)+(e.value.countin50?50*e.value.countin50:0)+(e.value.countin20?20*e.value.countin20:0)+(e.value.countin10?10*e.value.countin10:0)+(e.value.countin1?1*e.value.countin1:0),this.totalAmountIn=this.cdForm.value.totalAmountIn,this.forexin=this.forexData.forextotaldenomin,console.log(this.forexin,this.totalAmountIn),this.enableBtnn=this.forexin==this.totalAmountIn,this.enableBtnn1=this.forexin>this.totalAmountIn||this.forexin<this.totalAmountIn,this.cdForm.controls.totalAmountIn.setValue(this.totalAmountIn)):"Cash Forex Transaction"==this.chqPage&&document.getElementById("denominationOut")&&(console.log(this.cdForm.controls.totalAmountOut),this.cdForm.value.totalAmountOut=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.totalAmountOut=this.cdForm.value.totalAmountOut,this.forexout=this.forexData.forextotaldenomout,console.log(this.forexout,this.totalAmountOut),this.enablebtn=this.forexout==this.totalAmountOut,this.enablebtn1=this.forexout>this.totalAmountOut||this.forexout<this.totalAmountOut,this.cdForm.controls.totalAmountOut.setValue(this.totalAmountOut))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-denomination-info"]],viewQuery:function(e,n){if(1&e&&t.Gf($o,5),2&e){let a;t.iGM(a=t.CRH())&&(n.cdForm=a.first)}},inputs:{title:"title"},features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0},{provide:c.Cf,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],decls:2,vars:2,consts:[["style","border-radius: 10px;",3,"ngStyle",4,"ngIf"],["style","height:94.8%;",4,"ngIf"],[2,"border-radius","10px",3,"ngStyle"],["cdForm","ngForm"],[2,"font-size","15px","color","#004C97","margin-left","1%"],["id","denominationDiv",1,"pH10","full-width"],["class","paddingclass","fxLayoutAlign","center center",4,"ngIf"],["class","paddingclass","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","53%","fxFlex.xs","100%"],["appearance","outline",1,"mat_form_field_margin",2,"font-size","10px","padding-top","20px","line-height","revert"],["matInput","","name","totalAmount","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"],[1,"pl10",2,"width","150%"],[4,"ngIf"],["fxLayoutAlign","center center",1,"paddingclass"],["fxFlex","20%"],[1,"quantityClass","text-small"],["fxFlex","10%"],[1,"operationTypeClass","text-small"],["fxFlex","70%"],[1,"inputCard"],["type","text","matInput","","name","count2000","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count2000",""],[1,"pl10"],["fxLayoutAlign","start center",1,"paddingclass"],["type","text","matInput","","name","count500","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count500",""],["type","text","matInput","","name","count200","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count200",""],["type","text","matInput","","name","count100","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count100",""],["type","text","matInput","","name","count50","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count50",""],["type","text","matInput","","name","count20","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count20",""],["type","text","matInput","","name","count10","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count10",""],["type","text","matInput","","name","count1","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],[2,"height","94.8%"],["label","Denomination In",2,"overflow","hidden"],["id","denominationIn","Fxflex","","FxLayout","column",1,"pH10","full-width",2,"overflow","hidden"],[1,"flexalign"],["type","text","matInput","","name","countin2000","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["countin2000",""],["type","text","matInput","","name","countin500","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["countin500",""],["type","text","matInput","","name","countin200","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["countin200",""],["type","text","matInput","","name","countin100","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["countin100",""],["type","text","matInput","","name","countin50","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["countin50",""],["type","text","matInput","","name","countin20","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["countin20",""],["type","text","matInput","","name","countin10","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["countin10",""],["type","text","matInput","","name","countin1","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["fxLayout","row wrap",1,"pH10","full-width"],["appearance","outline",1,"inputCard"],["matInput","","name","totalAmountIn","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"],["label","Denomination Out"],["id","denominationOut","Fxflex","","FxLayout","column",1,"pH10","full-width"],["matInput","","name","totalAmountOut","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.YNc(0,_a,23,13,"mat-card",0),t.YNc(1,Ma,242,18,"mat-card",1)),2&e&&(t.Q6J("ngIf","Cash Forex Transaction"!=n.chqPage),t.xp6(1),t.Q6J("ngIf","Cash Forex Transaction"==n.chqPage))},dependencies:[l.O5,l.PC,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,m.xw,m.Wh,m.yH,S.Zl,g.TO,g.KE,g.hX,I.Nt,p.a8,p.n5,E.SP,E.uX],styles:['.accountInfoCard[_ngcontent-%COMP%]{background:#F2F2F2 0% 0% no-repeat padding-box;border-radius:18px}.hint[_ngcontent-%COMP%]{margin-left:1%}  .mat-form-field-appearance-outline.mat_form_field_margin .mat-form-field-outline{background-color:#f2f2f2}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt #00000029;box-sizing:border-box;margin-left:0;padding:13px}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#304156}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.textcolor[_ngcontent-%COMP%]{color:#fff}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.continueBtn[_ngcontent-%COMP%]{width:553px;height:50px;color:#fff;background:transparent linear-gradient(90deg,#051A2D 0%,#004C97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:30%;background-color:#fff;color:#e50000;font-family:sans-serif;font-weight:700}.backBtn[_ngcontent-%COMP%]{font-weight:700;width:263px;height:50px;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}  .mat-tab-body-content{height:100%;overflow:hidden!important}  .egret-navy .mat-tab-group.mat-primary .mat-ink-bar, .egret-navy[_ngcontent-%COMP%]   .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%]{background-color:#004c97}  .egret-navy .mat-ripple .mat-tab-label .mat-focus-indicator .mat-tab-label-active{color:#004c97}.flexalign[_ngcontent-%COMP%]{display:flex;flex-direction:row}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.inputCard[_ngcontent-%COMP%]{background-color:#fffefe;box-sizing:border-box;height:46px}input[_ngcontent-%COMP%]{border:0;outline:0;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}'],changeDetection:0}),o})();function Oa(o,r){if(1&o&&(t.TgZ(0,"div",11),t._UZ(1,"app-denomination-info",12),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("title",e.title)}}function Pa(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"app-header",3),t.NdJ("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome1())}),t.qZA()(),t.TgZ(3,"div",4)(4,"mat-card",5),t._UZ(5,"app-account-information-form",6)(6,"app-transaction-information-form",7),t.qZA(),t.YNc(7,Oa,2,1,"div",8),t.qZA(),t.TgZ(8,"div",9)(9,"app-footer",10),t.NdJ("save",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit(a))})("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome())})("exit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.chequewithdrawalForm),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"headerclass":""),t.xp6(1),t.Q6J("title",e.title),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"cdcard":""),t.xp6(4),t.Q6J("ngIf",e.displayDenom),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"footclass":""),t.xp6(1),t.Q6J("cancelDisabled",!1)("saveDisabled",e.chequewithdrawalForm.get("account").invalid||e.chequewithdrawalForm.get("transaction").invalid||e.tokendisable)}}let Ba=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.formBuilder=e,this.ls=n,this.apiService=a,this.router=i,this.dialogService=s,this.dialog=u,this.snack=h,this.dataService=d,this._location=_,this.title="Cheque Withdrawal",this.Token=new Sa,this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="KN",this.oTpModel=new M.m,this.ifQRvariable=!1,this.denomRequired="",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.tokenOrigin="Kiosk",this.displayDenom=!1,this.tokendisable=!1}ngOnInit(){this.custValidation=localStorage.getItem("customerValidation"),this.chequewithdrawalForm=this.formBuilder.group({account:["",c.kI.required],transaction:["",c.kI.required],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],productCode:["CQW",c.kI.required],tokenOrigin:["Kiosk",c.kI.required],estimatedWaitTime:["",[c.kI.required]],narrative:["",[c.kI.required]]}),console.log("Cash withdrawal",this.chequewithdrawalForm),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.chequewithdrawalForm.valueChanges.subscribe(e=>{console.log("Value Changes",e)}),console.log(this.chequewithdrawalForm.get("account").valid),this.chequewithdrawalForm.get("account").valueChanges.subscribe(e=>{console.log("Value changes for account",e)}),this.dataService.gettransactionFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(console.log("Account component?",e),this.transactiondata=e,this.transactiondata.transactionAmount&&(this.displayDenom=!0))}),this.dataService.getdenominationFormdata.subscribe(e=>{e&&(console.log("Account component?",e),this.denominationdata=e)}),this.dataService.getaccountFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(console.log("Account component?",e),this.appointmentDetails=e,console.log("Account component?",this.appointmentDetails.appointmentId))}),this.dataService.getNavParam.subscribe(e=>{console.log(e),this.titleData=e})}onSubmit(e){console.log("On submit form",this.chequewithdrawalForm.value,e),"showAccountNum"==e&&this.onSaveofchequeDeposit(this.chequewithdrawalForm.value,this.ifQRvariable,""),"NotshowAccountNum"==e&&this.getOTP(this.chequewithdrawalForm.value,this.ifQRvariable,"")}redirectToHome1(){console.log("Redirect"),this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}redirectToHome(){this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}onSaveofchequeDeposit(e,n,a){var i,s,u,h,d,_;if(this.Token.transactionBranch=this.transBranch,this.Token.tokenBranch="KN",Number(null!==(i=this.appointmentDetails)&&void 0!==i&&i.appointmentId?this.chequewithdrawalForm.value.transaction.transactionAmount:this.chequewithdrawalForm.value.transaction.transactionAmount.replace(/,/g,""))>this.chequewithdrawalForm.value.account.accountBalance)console.log("insufficient_cheq_cond_true");else if(""===this.chequewithdrawalForm.value.transaction.transactionAmount)console.log("please enter transaction amount");else if(this.chequewithdrawalForm.value.transaction.totalTransactionAmount>this.chequewithdrawalForm.value.account.accountBalance)console.log("total transaction amount high");else{console.log("insufficient_cheq_cond_false"),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(y=>{this.qrBranchCode=y,console.log(y)});let v={},b=[];if("yes"==this.denomRequired)for(let y=0;y<this.denomCodeArray.length;y++)a.value[this.denomCodeArray[y].key]&&(v.denominationKey=this.denomCodeArray[y].value,v.denominationValue=+a.value[this.denomCodeArray[y].key],v.currency=this.chequewithdrawalForm.value.transactionCurrency,b.push(v),console.log(b),v={});null!==(s=this.appointmentDetails)&&void 0!==s&&s.appointmentId?(console.log(this.appointmentDetails),this.Token.customerId=this.appointmentDetails.customerId,this.Token.accountNumber=this.appointmentDetails.accountNumber,this.Token.accountType=this.appointmentDetails.accountType,this.Token.accountCurrency=this.appointmentDetails.accountCurrency,this.Token.accountBalance=this.appointmentDetails.accountBalance,this.Token.accountBranch=this.appointmentDetails.accountBranch,this.Token.holderName=this.appointmentDetails.holderName,this.Token.transactionCurrency=this.appointmentDetails.transactionCurrency,this.Token.transactionAmount=this.appointmentDetails.transactionAmount,this.Token.transactionId=this.appointmentDetails.transactionId,this.Token.totalChargeAmount=this.appointmentDetails.totalChargeAmount,this.Token.totalTransactionAmount=this.appointmentDetails.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="","yes"==this.denomRequired&&(this.Token.denomination=b),console.log("Not a qrvariable",this.Token)):(console.log("form--",e,null==e?void 0:e.account,null===(u=null==e?void 0:e.account)||void 0===u?void 0:u.accountNumber),this.Token.customerId=null===(h=null==e?void 0:e.account)||void 0===h?void 0:h.customerId,this.Token.accountNumber=null===(d=null==e?void 0:e.account)||void 0===d?void 0:d.accountNumber,this.Token.accountType=null===(_=null==e?void 0:e.account)||void 0===_?void 0:_.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=this.qrData?e.transaction.transactionAmount:e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.chequeType=e.transaction.chequeType,this.Token.chequeNumber=e.transaction.chequeNumber,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="","yes"==this.denomRequired&&(this.Token.denomination=b)),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),console.log(this.Token),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.Token).subscribe(y=>{console.log("Response Success, Data Saved",y),this.cheqDepositResponse=y,this.tokenNum=this.cheqDepositResponse.tokenNumber,this.estimatedTime=this.cheqDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cheqDepositResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},y=>{console.log(y),this.tokendisable=!1})}console.log("no resp"),setTimeout(()=>{null==this.cheqDepositResponse&&(console.log(this.cheqDepositResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}getOTP(e,n,a){this.phonenum=this.ls.getItem("phonenumFromLogin"),this.chequewithdrawValues=e,this.chequewithdrawtype=n,this.chequewithdrawalForm=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum,this.oTpModel.isMobileLogin=!1;let s=this.chequewithdrawValues.transaction.transactionAmount.replace(/,/g,"");console.log(s),s>=5e4?(this.tokendisable=!0,this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))})):this.getOTPforSave(this.chequewithdrawValues,this.chequewithdrawtype,this.chequewithdrawalForm)}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.chequewithdrawValues,this.chequewithdrawtype,this.chequewithdrawalForm)})}getOTPforSave1(e,n,a){e.transactionBranch=this.transBranch,"New Customer"==this.custValidation&&(console.log("customer",this.custID),this.accountNum=e.accountNumber,e.customerId=this.custID?this.custID:0,e.accountType=e.accountType,e.accountNumber=this.accountNum,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal),e.tokenBranch="KN",this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custID?this.custID:0,e.accountType=e.accountType,e.accountNumber=this.accountNum,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,this.apiService.saveofCashDeposit(e).subscribe(i=>{console.log("Response Success",i),this.cheqDepositResponse=i,this.tokenNum=this.cheqDepositResponse.tokenNumber,this.estimatedTime=this.cheqDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cheqDepositResponse&&this.dialogService.tokenGenerationDialog()})}getOTPforSave(e,n,a){console.log(e);let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.chequewithdrawalForm.value.transactionCurrency,s.push(i),console.log(s),i={});console.log(this.custValidation),"New Customer"==this.custValidation?(this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.chequeType=e.transaction.chequeType,this.Token.chequeNumber=e.transaction.chequeNumber,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="","yes"==this.denomRequired&&(this.Token.denomination=s)):(console.log("Not a new customer"),this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.chequeType=e.transaction.chequeType,this.Token.chequeNumber=e.transaction.chequeNumber,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="","yes"==this.denomRequired&&(this.Token.denomination=s),console.log(this.Token)),this.appointmentId&&this.appointmentId.data&&(this.Token.transactionId=this.appointmentId.data.transactionId,this.Token.transactionStatus=this.appointmentId.data.transactionStatus),console.log("before api call :: ",this.Token),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.Token).subscribe(u=>{console.log("Response Success",u),this.cheqDepositResponse=u,this.tokenNum=this.cheqDepositResponse.tokenNumber,this.estimatedTime=this.cheqDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cheqDepositResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},u=>{console.log(u),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cheqDepositResponse&&(console.log(this.cheqDepositResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}ngOnDestroy(){localStorage.removeItem("chq_page")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(D.g),t.Y36(N.s),t.Y36(x.F0),t.Y36(T.x),t.Y36(A.uw),t.Y36(F.ux),t.Y36(P.D),t.Y36(l.Ye))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cheq-w"]],decls:1,vars:1,consts:[["class","screensize",3,"formGroup",4,"ngIf"],[1,"screensize",3,"formGroup"],[2,"margin-top","-3%",3,"ngClass"],[3,"title","back"],["fxLayout","row",3,"ngClass"],["fxFlex","79.5%",2,"margin-top","0.9%","box-shadow","0px 3px 6px #00000029","border-radius","10px","opacity","1","margin-left","7.5%"],["formControlName","account"],["formControlName","transaction"],["style","margin-top: -0.1%; margin-left: -16px; margin-bottom: 4px;",4,"ngIf"],[2,"margin-top","-1%",3,"ngClass"],["saveText","Continue",3,"cancelDisabled","saveDisabled","save","cancel","exit"],[2,"margin-top","-0.1%","margin-left","-16px","margin-bottom","4px"],["formControlName","denomination",3,"title"]],template:function(e,n){1&e&&t.YNc(0,Pa,10,8,"form",0),2&e&&t.Q6J("ngIf",n.chequewithdrawalForm)},dependencies:[l.mk,l.O5,c._Y,c.JJ,c.JL,p.a8,m.xw,m.yH,S.oO,c.sg,c.u,U,V,H,K,G],styles:[".footclass[_ngcontent-%COMP%]{margin-left:-.6%;box-sizing:border-box;max-width:145%!important;margin-right:-40px}.headerclass[_ngcontent-%COMP%]{margin-left:93px}.cdcard[_ngcontent-%COMP%]{justify-content:center;margin-left:8px;margin-right:140px}"]}),o})();class Sa{}function La(o,r){1&o&&(t.TgZ(0,"div",12),t._UZ(1,"app-denomination-info",13),t.qZA())}function Ja(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",2)(1,"div",3)(2,"app-header",4),t.NdJ("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome1())}),t.qZA()(),t.TgZ(3,"div",5)(4,"mat-card",6),t._UZ(5,"app-account-information-form",7)(6,"app-transaction-information-form",8),t.qZA(),t.YNc(7,La,2,0,"div",9),t.qZA(),t.TgZ(8,"div",10)(9,"app-footer",11),t.NdJ("save",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit(a))})("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome())})("exit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.cashDepositForm),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"headerclass":""),t.xp6(1),t.Q6J("title",e.title),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"cdcard":""),t.xp6(4),t.Q6J("ngIf",e.displayDenom),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"footclass":""),t.xp6(1),t.Q6J("cancelDisabled",!1)("saveDisabled",e.cashDepositForm.get("account").invalid||e.cashDepositForm.get("transaction").invalid||e.tokendisable)}}let Ua=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.formBuilder=e,this.ls=n,this.apiService=a,this.router=i,this.dialogService=s,this.dataService=u,this._location=h,this.dialog=d,this.cd=_,this.title="Cash Deposit",this.Token=new Va,this.denomRequired="",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.ifQRvariable=!1,this.tokenOrigin="Kiosk",this.enableContinue=!0,this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="KN",this.oTpModel=new M.m,this.displayDenom=!1,this.tokendisable=!1}ngOnInit(){this.custValidation=localStorage.getItem("customerValidation"),this.cashDepositForm=this.formBuilder.group({account:["",c.kI.required],transaction:["",c.kI.required],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],productCode:["CHD",c.kI.required],tokenOrigin:["Kiosk",c.kI.required],estimatedWaitTime:["",[c.kI.required]],narrative:["",[c.kI.required]]}),console.log("Cash Deposit",this.cashDepositForm),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.denomRequired=localStorage.getItem("DenominationRequired"),this.cashDepositForm.valueChanges.subscribe(e=>{console.log("Value Changes",e)}),console.log(this.cashDepositForm.get("account").valid),this.cashDepositForm.get("account").valueChanges.subscribe(e=>{console.log("Value changes for account",e)}),this.dataService.gettransactionFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(console.log("Account component?",e),this.transactiondata=e,this.transactiondata.transactionAmount&&(this.displayDenom=!0))}),this.dataService.getdenominationFormdata.subscribe(e=>{e&&(console.log("Account component?",e),this.denominationdata=e)}),this.dataService.getaccountFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(console.log("Account component?",e),this.appointmentDetails=e,console.log("Account component?",this.appointmentDetails.appointmentId))}),this.dataService.getNavParam.subscribe(e=>{console.log(e),this.titleData=e})}ngDoCheck(){this.cd.markForCheck()}ngOnDestroy(){localStorage.removeItem("chq_page")}onSubmit(e){console.log("On submit form",this.cashDepositForm.value,e),"showAccountNum"==e&&(console.log("First Condition"),this.onSaveofcashDeposit(this.cashDepositForm.value,this.ifQRvariable,this.denominationdata)),"NotshowAccountNum"==e&&(console.log("Second Condition"),this.getOTP(this.cashDepositForm.value,this.ifQRvariable,""))}redirectToHome1(){console.log("Redirect"),this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}redirectToHome(){this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}onSaveofcashDeposit(e,n,a){var i;console.log(e,n,a),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(h=>{this.qrBranchCode=h});let s={},u=[];if("yes"==this.denomRequired)for(let h=0;h<this.denomCodeArray.length;h++)a.value[this.denomCodeArray[h].key]&&(s.denominationKey=this.denomCodeArray[h].value,s.denominationValue=+a.value[this.denomCodeArray[h].key],s.currency=this.cashDepositForm.value.transactionCurrency,u.push(s),console.log(u),s={});console.log(this.ifQRvariable),null!==(i=this.appointmentDetails)&&void 0!==i&&i.appointmentId?(console.log(this.appointmentDetails),this.Token.customerId=this.appointmentDetails.customerId,this.Token.accountNumber=this.appointmentDetails.accountNumber,this.Token.accountType=this.appointmentDetails.accountType,this.Token.accountCurrency=this.appointmentDetails.accountCurrency,this.Token.accountBalance=this.appointmentDetails.accountBalance,this.Token.accountBranch=this.appointmentDetails.accountBranch,this.Token.holderName=this.appointmentDetails.holderName,this.Token.transactionCurrency=this.appointmentDetails.transactionCurrency,this.Token.transactionAmount=this.appointmentDetails.transactionAmount,this.Token.transactionId=this.appointmentDetails.transactionId,this.Token.totalChargeAmount=this.appointmentDetails.totalChargeAmount,this.Token.totalTransactionAmount=this.appointmentDetails.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHD",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.denomination=[],this.Token.totalAmount="","yes"==this.denomRequired&&(this.Token.denomination=u),console.log("Not a qrvariable",this.Token)):(console.log("Not a qrvariable",this.Token),this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=this.qrData?e.transaction.transactionAmount:e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHD",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.denomination=[],this.Token.totalAmount="",console.log(this.denomRequired),"yes"==this.denomRequired&&(console.log(u),this.Token.denomination=u),console.log("Not a qrvariable",this.Token)),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.Token).subscribe(h=>{console.log("Response Success, Data Saved",h),this.cashWithdrawResponse=h,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cashWithdrawResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},h=>{console.log(h),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cashWithdrawResponse&&(console.log(this.cashWithdrawResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}getOTP(e,n,a){console.log("Get Otp",e,n),this.phonenum=this.ls.getItem("phonenumFromLogin"),this.cashdepositValues=e,this.cashDepositType=n,this.cashDenomination=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum,this.oTpModel.isMobileLogin=!1;let s=this.cashdepositValues.transaction.transactionAmount.replace(/,/g,"");console.log(s),s>=5e4?(this.tokendisable=!0,this.apiService.getOtp(this.oTpModel).subscribe(u=>{console.log("otp1",u),u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))})):(console.log("Else"),this.getOTPforSave(this.cashdepositValues,this.cashDepositType,this.cashDenomination))}cashdeposiform(e,n,a){throw new Error("Method not implemented.")}openDialogOTP(e){console.log("num",e),this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.cashdepositValues,this.cashdepositType,"")})}getOTPforSave(e,n,a){console.log(e);let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashdepositForm.value.transactionCurrency,s.push(i),console.log(s),i={});console.log(this.custValidation),"New Customer"==this.custValidation?(this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHD",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="","yes"==this.denomRequired&&(this.Token.denomination=s)):(console.log("Not a new customer"),this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHD",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.denomination=[],this.Token.totalAmount="","yes"==this.denomRequired&&(this.Token.denomination=s),console.log(this.Token)),this.appointmentId&&this.appointmentId.data&&(this.Token.transactionId=this.appointmentId.data.transactionId,this.Token.transactionStatus=this.appointmentId.data.transactionStatus),console.log("before api call :: ",this.Token),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.Token).subscribe(u=>{console.log("Response Success",u),this.cashDepositResponse=u,this.tokenNum=this.cashDepositResponse.tokenNumber,this.estimatedTime=this.cashDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cashDepositResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},u=>{console.log(u),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cashDepositResponse&&(console.log(this.cashDepositResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}onReset(){this.cashDepositForm.reset()}back(){this._location.back()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(D.g),t.Y36(N.s),t.Y36(x.F0),t.Y36(T.x),t.Y36(P.D),t.Y36(l.Ye),t.Y36(A.uw),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cd-service"]],decls:2,vars:1,consts:[[1,"screensize"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[2,"margin-top","-3%",3,"ngClass"],[3,"title","back"],["fxLayout","row",3,"ngClass"],["fxFlex","79.5%",2,"margin-top","1%","height","450px","box-shadow","0px 3px 6px #00000029","border-radius","10px","opacity","1","margin-left","7.5%"],["formControlName","account"],["formControlName","transaction"],["style","margin-top: -0.1%; margin-left: -16px; margin-bottom: 7px;",4,"ngIf"],[2,"margin-top","-1%",3,"ngClass"],["saveText","Continue",3,"cancelDisabled","saveDisabled","save","cancel","exit"],[2,"margin-top","-0.1%","margin-left","-16px","margin-bottom","7px"],["formControlName","denomination"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ja,10,8,"form",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.cashDepositForm))},dependencies:[l.mk,l.O5,c._Y,c.JJ,c.JL,p.a8,m.xw,m.yH,S.oO,c.sg,c.u,U,V,H,K,G],styles:[".footclass[_ngcontent-%COMP%]{margin-left:-.6%;box-sizing:border-box;max-width:145%!important;margin-right:-40px}.headerclass[_ngcontent-%COMP%]{margin-left:93px}.cdcard[_ngcontent-%COMP%]{justify-content:center;margin-left:8px;margin-right:140px}"],changeDetection:0}),o})();class Va{}function Qa(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",39),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1,"keyboard_backspace"),t.qZA()}}function Ra(o,r){1&o&&t._UZ(0,"input",42),2&o&&t.Q6J("readonly",!0)}function Ya(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",45),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.custAccountNumber(i))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.Oqu(e.accountType)}}function Ha(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",43),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,Ya,2,2,"mat-option",44),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function Ga(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,Ra,1,1,"input",40),t.YNc(5,Ha,2,1,"mat-select",41),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown)}}function Ka(o,r){if(1&o&&(t.TgZ(0,"mat-hint",21),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("Account Balance : ",e.curr,"",e.formatAmount(e.accountBal),"")}}function Wa(o,r){if(1&o&&(t.TgZ(0,"mat-hint",49),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij(" Holder Name : ",e.userName,"")}}function Ea(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",46),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.chequedepositForm.get("accountNumber").value))}),t.qZA()(),t.YNc(5,Ka,2,2,"mat-hint",47),t._UZ(6,"br"),t.YNc(7,Wa,2,2,"mat-hint",48),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.showAccountNum),t.xp6(2),t.Q6J("ngIf",!e.showAccountNum)}}function za(o,r){1&o&&t._UZ(0,"input",53),2&o&&t.Q6J("readonly",!0)}function ja(o,r){if(1&o&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function $a(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",54),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.fetchByAccountNum(a.value))}),t.TgZ(1,"mat-option"),t._uU(2,"select"),t.qZA(),t.YNc(3,ja,2,2,"mat-option",55),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.accountNoList)}}function Xa(o,r){if(1&o&&(t.TgZ(0,"mat-hint",21),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("Account Balance :",e.curr," ",e.formatAmount(e.accountBal),"")}}function ti(o,r){if(1&o&&(t.TgZ(0,"mat-hint",57),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij("Holder Name :",e.userName,"")}}function ei(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,za,1,1,"input",50),t.YNc(5,$a,4,1,"mat-select",51),t.qZA(),t.YNc(6,Xa,2,2,"mat-hint",47),t._UZ(7,"br"),t.YNc(8,ti,2,2,"mat-hint",52),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.flag1),t.xp6(1),t.Q6J("ngIf",e.flag1),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(2),t.Q6J("ngIf",e.hideDetails)}}function ni(o,r){1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t._UZ(4,"input",42),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("readonly",!0))}function oi(o,r){1&o&&t._UZ(0,"input",58),2&o&&t.Q6J("readonly",!0)}function ai(o,r){1&o&&t._UZ(0,"input",58),2&o&&t.Q6J("readonly",!0)}function ii(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Account Branch is Required! "),t.qZA())}function ri(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.accountCurrencyImage(e.chequedepositForm.controls.accountCurrency.value):e.currencyImage,"")}}function ci(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.currencyImage:e.accountCurrencyImage(e.chequedepositForm.controls.accountCurrency.value),"")}}function si(o,r){1&o&&t._UZ(0,"input",59),2&o&&t.Q6J("readonly",!0)}function ui(o,r){1&o&&t._UZ(0,"input",59),2&o&&t.Q6J("readonly",!0)}function li(o,r){1&o&&t._UZ(0,"input",62),2&o&&t.Q6J("readonly",!0)}function mi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",65),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",22)(2,"div",66),t._uU(3),t.qZA(),t.TgZ(4,"div",67),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function hi(o,r){if(1&o&&(t.TgZ(0,"mat-select",63),t.YNc(1,mi,6,5,"mat-option",64),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function di(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",22)(5,"div",23),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",25),t.YNc(8,li,1,1,"input",60),t.YNc(9,hi,2,2,"mat-select",61),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function pi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",65),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",22)(2,"div",66),t._uU(3),t.qZA(),t.TgZ(4,"div",67),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function gi(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",22)(5,"div",23),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",25)(8,"mat-select",68),t.YNc(9,pi,6,5,"mat-option",64),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(3),t.Q6J("ngForOf",e.countryValues)}}function _i(o,r){1&o&&t._UZ(0,"input",71),2&o&&t.Q6J("readonly",!0)}function fi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",72,73),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(2,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(2,3,e.transAmt,"1."))("readonly",e.isedit)}}function Ci(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function xi(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,_i,1,1,"input",69),t.YNc(5,fi,3,6,"input",70),t.qZA(),t.YNc(6,Ci,2,0,"mat-error",20),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.chequedepositForm.get("transactionAmount").errors?null:e.chequedepositForm.get("transactionAmount").errors.min)}}function yi(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function vi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",74,73),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(6,"number"),t.qZA()(),t.YNc(7,yi,2,0,"mat-error",20),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.transAmount)("value",t.xi3(6,3,e.transAmt,"1.")),t.xp6(3),t.Q6J("ngIf",null==e.chequedepositForm.get("transactionAmount").errors?null:e.chequedepositForm.get("transactionAmount").errors.min)}}function Ti(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",75),t.NdJ("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()}}function Ai(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",75),t.NdJ("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()}}function bi(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Cheque Number is Required! "),t.qZA())}function wi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",76),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1,"CANCEL"),t.qZA()}}function Ii(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",77)(1,"button",78),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSaveofchequeDeposit(a.chequedepositForm.value,a.ifQRvariable))}),t._uU(2,"CONTINUE"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.chequedepositForm.get("transactionCurrency").valid&&e.chequedepositForm.get("transactionAmount").valid&&e.chequedepositForm.get("accountCurrency").valid&&e.chequedepositForm.get("accountNumber").valid&&e.chequedepositForm.get("accountType").valid&&e.chequedepositForm.get("chequeNumber").valid&&e.chequedepositForm.get("totalChargeAmount").valid&&e.chequedepositForm.get("totalTransactionAmount").valid))}}function Ni(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",77)(1,"button",78),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getOTP(a.chequedepositForm.value,a.ifQRvariable))}),t._uU(2,"CONTINUE"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.chequedepositForm.get("transactionCurrency").valid&&e.chequedepositForm.get("transactionAmount").valid&&e.chequedepositForm.get("accountCurrency").valid&&e.chequedepositForm.get("accountNumber").valid&&e.chequedepositForm.get("accountType").valid&&e.chequedepositForm.get("chequeNumber").valid&&e.chequedepositForm.get("totalChargeAmount").valid&&e.chequedepositForm.get("totalTransactionAmount").valid))}}let ki=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.dialog=s,this.cdr=u,this.ls=h,this.snack=d,this.changeDef=_,this.titleName="Cheque Deposit",this.accType=["Savings","Deposit"],this.customerName=["Jane Smith","John Smith"],this.productCode="CQD",this.tokenOrigin="Kiosk",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.accounttypeArray=[],this.idList=[],this.tokenObjects=new T.R,this.isedit=!0,this.enableContinue=!0,this.currencyImage="",this.ifQRvariable=!1,this.accountNoList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.accountDropdown=!1,this.flag1=!1,this.hideDetails=!1}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),"New Customer"==this.custValidation&&(this.showAccountNum=!1,this.showAccoutType=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log("QRData",this.qrData),this.chequedepositForm=this.formBuilder.group({transactionId:["",[c.kI.required]],chequeNumber:["",[c.kI.required]],customerId:["",[c.kI.required]],accountType:["",[c.kI.required]],totalAmount:["",c.kI.required],accountNumber:["",[c.kI.required]],holderName:["",[c.kI.required]],accountCurrency:["",[c.kI.required]],transactionCurrency:["",[c.kI.required]],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],transactionAmount:["",[c.kI.required,c.kI.min(.1)]],accountBalance:["",[c.kI.required]],productCode:["CQD",[c.kI.required]],tokenOrigin:["Kiosk",[c.kI.required]],createdBy:["",[c.kI.required]],createdTime:["",[c.kI.required]],modifiedBy:["",[c.kI.required]],modifiedTime:["",[c.kI.required]],recordStatus:["",[c.kI.required]],authStatus:["",[c.kI.required]],version:["",[c.kI.required]],accountBranch:["",[c.kI.required]],transactionBranch:["",[c.kI.required]]}),console.log(this.chequedepositForm.value),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.gettingallTansactionDetails(this.phoneNumber)),null!=this.qrData&&(this.ifQRvariable=!0,console.log("Account",this.qrData.accountId),this.chequedepositForm.controls.holderName.setValue(this.qrData.holderName),this.chequedepositForm.controls.accountType.setValue(this.qrData.accountType),this.chequedepositForm.controls.accountNumber.setValue(this.qrData.accountId),this.getChargeDetails(this.qrData.accountId,""),this.chequedepositForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.chequedepositForm.controls.accountCurrency.setValue(this.qrData.accountCurrency),this.chequedepositForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),this.accountBal=this.qrData.accountBalance,this.customerID=this.qrData.customerId,this.currencyImage="currency-flag-"+this.qrData.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),this.chequedepositForm.controls.transactionBranch.setValue(null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.qrData.transactionBranch:"Kasturi Nagar"),this.getAccountBranch()),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.appointmentId.data.appointmentId&&this.cashWithdrawlData()}fetchByAccountNum(e){this.chequedepositForm.controls.transactionAmount.reset(),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.chequedepositForm.controls.totalChargeAmount.value),this.chequedepositForm.controls.chequeNumber.reset(),console.log("Account Numebr",e),this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.curr=(0,l.jK)(n.currency,"narrow"),this.chequedepositForm.controls.accountType.setValue(n.accountType),this.chequedepositForm.controls.accountCurrency.setValue(n.currency),this.chequedepositForm.controls.accountBranch.setValue(n.accountBranch),this.chequedepositForm.controls.holderName.setValue(this.userName),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.getCountrynameValues(),this.chequedepositForm.controls.transactionCurrency.setValue(n.currency),this.custAmountBal(e),this.chequedepositForm.controls.transactionBranch.setValue("Kasturi Nagar"),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}getOTP(e,n,a){this.chequedepositValues=e,this.chequedepositype=n,this.chequedepositform=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum;let s=this.chequedepositValues.transactionAmount.replace(/,/g,"");console.log(s),s>5e4?this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}):this.getOTPforSave(this.chequedepositValues,this.chequedepositype,this.chequedepositform)}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.chequedepositValues,this.chequedepositype,this.chequedepositform)})}getOTPforSave(e,n,a){e.transactionBranch=this.transBranch,"New Customer"==this.custValidation&&(console.log("customer",this.custmerID),this.accountNum=e.accountNumber,e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal),e.tokenBranch="KN",this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,this.apiService.saveofCashDeposit(e).subscribe(i=>{console.log("Response Success",i),this.cashDepositResponse=i,this.tokenNum=this.cashDepositResponse.tokenNumber,this.estimatedTime=this.cashDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashDepositResponse&&this.dialogService.tokenGenerationDialog()})}_keyPress(e){let a=String.fromCharCode(e.charCode);/[0-9 a-z A-Z]/.test(a)||e.preventDefault()}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName,console.log(this.branch)})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}onCountrySelected(e){console.log(e)}goToServiceScreens(){this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.chequedepositForm.controls.holderName.setValue(this.userName),this.custID=n.customerId,this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1));for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.chequedepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.chequedepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0]))})}getAccountType(e){this.chequedepositForm.controls.transactionAmount.reset(),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.chequedepositForm.controls.totalChargeAmount.value),this.chequedepositForm.controls.chequeNumber.reset(),this.accountNoList=[],this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e),console.log(this.accountNum1);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.chequedepositForm.controls.accountNumber.setValue(this.accountNoList[0]),this.getData(this.accountNoList[0])):(this.flag1=!0,this.getData(this.accountNoList[0])),this.getChargeDetails(this.accountNoList[0],"")}custAccountNumber(e){this.isedit=!1,this.idList=[...this.custAccountData].filter(a=>a.accountType===e.accountType),this.accountNoList=[];for(let a=0;a<this.idList.length;a++)"APPROVED"==this.idList[a].status&&this.accountNoList.push(this.idList[a].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.chequedepositForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.chequedepositForm.controls.accountNumber.setValue(this.accountNoList[0]),this.flag1=!0),this.chequedepositForm.controls.accountCurrency.setValue(e.accountCurrency),this.chequedepositForm.controls.accountBranch.setValue(this.branch),this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.chequedepositForm.controls.transactionCurrency.setValue(e.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.accountNoList[0]),this.chequedepositForm.controls.accountBranch.setValue(e.accountBranch),this.getChargeDetails(this.accountNoList[0],e.amount)}getData(e){this.hideDetails=!0,console.log(e);let n=this.accountNum1.filter(a=>a.accountId==e);console.log(n),this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.chequedepositForm.controls.accountCurrency.setValue(n[0].accountCurrency),this.chequedepositForm.controls.accountBranch.setValue(this.branch),this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.chequedepositForm.controls.transactionCurrency.setValue(n[0].accountCurrency),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),this.accountBal=this.idList[0].amount,localStorage.setItem("AccountBal",this.accountBal),this.chequedepositForm.controls.accountNumber.setValue(this.idList[0].accountId),this.custAmountBal(this.idList[0].accountId),this.chequedepositForm.controls.accountNumber.setValue(n[0].accountId),this.chequedepositForm.controls.accountBranch.setValue(n[0].accountBranch),this.getChargeDetails(n[0].accountId,"")}custAmountBal(e){console.log(e);var n=this.idList.filter(function(a){if(a.accountId==e)return a});console.log(n),this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0]}setBalance(e,n=0){this.accountBal=e[n].currentBalance?e[n].currentBalance:null}onSaveofchequeDeposit(e,n){e.transactionBranch=this.transBranch,e.tokenBranch="KN",this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(a=>{this.qrBranchCode=a}),this.ifQRvariable?(console.log(e),e.customerId=this.custID,e.accountType=e.accountType,e.accountNumber=e.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount,e.totalAmount=e.totalAmount,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,e.transactionId=e.transactionId,e.appointmentId=e.appointmentId):(console.log("chequedepositData",e),this.accountNum=JSON.stringify(this.selectedAccountInfo.accountId),console.log("this.accountNum ",this.accountNum),localStorage.setItem("AccountNumber",this.accountNum),localStorage.setItem("ProductCode",this.productCode),e.tokenBranch="KN",e.customerId=this.custID,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.accountNumber=this.selectedAccountInfo.accountId,e.accountType=e.accountType,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal),this.qrData&&this.qrData.transactionBranch&&(e.tokenBranch=this.qrBranchCode.transactionBranch),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),console.log(e.transactionId,e.transactionStatus),this.apiService.saveofCashDeposit(e).subscribe(a=>{console.log(" Response Success",a),this.chequeDepositResponse=a,this.tokenNum=this.chequeDepositResponse.tokenNumber,this.estimatedTime=this.chequeDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.chequeDepositResponse&&this.dialogService.tokenGenerationDialog()})}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){this.a=this.chequedepositForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.chequedepositForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),console.log(this.chequedepositForm.value.totalAmount),console.log(this.chequedepositForm.value.transactionAmount),this.transamount=this.chequedepositForm.value.transactionAmount,this.totalAmount=this.chequedepositForm.value.totalAmount,this.chequedepositForm.controls.totalAmount.setValue(this.chequedepositForm.value.totalAmount)}OnInput(e){this.transAmt=e.target.value;const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),parseFloat(this.balance)<parseFloat(this.transAmt)?(console.log("Bigger"),this.snack.open("Transaction Amount should not exceed than Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right"}),this.enableContinue=!1):this.enableContinue=!0,this.totalTransAmount=Number(this.transAmt)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),this.cdr.markForCheck(),this.cdr.detectChanges()}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{console.log(a),this.chargeDetails=a,this.chequedepositForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(0),setTimeout(()=>{this.totalTransAmount=Number(0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}addCurrencyImage(e){return e.toLowerCase()}clicked(e){console.log(e)}onCountryChange(e){this.currencyImage="currency-flag-"+e.currencyCode.toLowerCase()}accountCurrencyImage(e){return e?"currency-flag-"+e.toLowerCase():""}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}cashWithdrawlData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log(e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.chequedepositForm.controls.accountType.setValue(e.data.accountType),this.chequedepositForm.controls.accountBranch.setValue(e.data.accountBranch),this.chequedepositForm.controls.accountNumber.setValue(e.data.accountNumber),this.chequedepositForm.controls.chequeNumber.setValue(e.data.chequeNumber),this.getChargeDetails(e.data.accountNumber,e.data.transactionAmount),this.chequedepositForm.controls.accountCurrency.setValue(e.data.accountCurrency),this.chequedepositForm.controls.transactionCurrency.setValue(e.data.transactionCurrency),this.chequedepositForm.controls.transactionAmount.setValue(e.data.transactionAmount),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+e.data.transactionCurrency.toLowerCase()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cheque-deposit"]],decls:89,vars:28,consts:[[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"h1"],[2,"color","grey","padding-right","4px"],[2,"padding-left","4px"],[1,"chequecard"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],["class","backIcon",3,"click",4,"ngIf"],[1,"card-title"],[1,"full-width",2,"padding","0% 0% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","3%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","25%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","25%","fxFlex.xs","100%"],[1,"accountBranch"],[1,"inputCard"],["matInput","","type","text","class","full-width","formControlName","accountBranch",3,"readonly",4,"ngIf"],[4,"ngIf"],[1,"totalAmount"],["fxLayout","row wrap",1,"full-width"],["fxFlex","25%"],[3,"class",4,"ngIf"],["fxFlex","75%"],["matInput","","type","text","class","full-width","style","font-size:110%","formControlName","accountCurrency",3,"readonly",4,"ngIf"],["matInput","","type","text","maxlength","6","class","full-width","formControlName","chequeNumber",3,"keypress",4,"ngIf"],["matInput","","readonly","","formControlName","totalChargeAmount",1,"full-width"],["matInput","","type","text","readonly","","onlyNumber","","formControlName","totalTransactionAmount"],[1,"tooltip"],["width","80%",3,"src"],[1,"tooltiptext"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],["fxFlex","30%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","","class","buttonCancel full-width",3,"click",4,"ngIf"],["fxFlex","70%","fxFlex.xs","100%","class","paddingCls",4,"ngIf"],[1,"backIcon",3,"click"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType","style","background-color: #f9fafb;","placeholder","Select Account Type",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType","placeholder","Select Account Type",2,"background-color","#f9fafb",3,"selectionChange"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"change"],["class","totalAmount",4,"ngIf"],["class","totalAmount",3,"readonly",4,"ngIf"],[1,"totalAmount",3,"readonly"],["matInput","","type","text","class","full-width","formControlName","accountNumber",3,"readonly",4,"ngIf"],["formControlName","accountNumber","style","background-color: #f9fafb;",3,"selectionChange",4,"ngIf"],["class","totalAmount","formControlName","holderName",3,"readonly",4,"ngIf"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"readonly"],["formControlName","accountNumber",2,"background-color","#f9fafb",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","holderName",1,"totalAmount",3,"readonly"],["matInput","","type","text","formControlName","accountBranch",1,"full-width",3,"readonly"],["matInput","","type","text","formControlName","accountCurrency",1,"full-width",2,"font-size","110%",3,"readonly"],["matInput","","type","text","class","full-width","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect","style","background-color: #f9fafb;",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",1,"full-width",3,"readonly"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb",3,"disabled"],["style","font-size:110%",3,"value","click",4,"ngFor","ngForOf"],[2,"font-size","110%",3,"value","click"],["fxFlex","15%"],["fxFlex","85%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb"],["matInput","","type","text","class","full-width","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup","focus",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",1,"full-width",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup","focus"],["myRef",""],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","ngModelChange","keyup","focus"],["matInput","","type","text","maxlength","6","formControlName","chequeNumber",1,"full-width",3,"keypress"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","70%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3)(4,"span",4),t._uU(5,"Services"),t.qZA(),t.TgZ(6,"b"),t._uU(7,">"),t.qZA(),t.TgZ(8,"span",5)(9,"b"),t._uU(10,"Cheque Deposit"),t.qZA()()(),t.TgZ(11,"mat-card",6)(12,"mat-card-title",7)(13,"div",8)(14,"div"),t.YNc(15,Qa,2,0,"mat-icon",9),t.qZA(),t._uU(16,"\xa0\xa0 "),t.TgZ(17,"div",10),t._uU(18),t.qZA()()(),t.TgZ(19,"mat-card-content")(20,"div",11)(21,"form",12)(22,"div",13)(23,"div")(24,"div",14),t.ynx(25),t.YNc(26,Ga,6,2,"div",15),t.YNc(27,Ea,8,2,"div",15),t.YNc(28,ei,9,4,"div",15),t.YNc(29,ni,5,1,"div",15),t.TgZ(30,"div",16)(31,"mat-hint",17),t._uU(32,"Account Branch*"),t.qZA(),t.TgZ(33,"mat-card",18),t.YNc(34,oi,1,1,"input",19),t.YNc(35,ai,1,1,"input",19),t.qZA(),t.YNc(36,ii,2,0,"mat-error",20),t.qZA(),t.TgZ(37,"div",16)(38,"mat-hint",21),t._uU(39,"Account Currency*"),t.qZA(),t.TgZ(40,"mat-card",18)(41,"div",22)(42,"div",23),t.YNc(43,ri,1,3,"div",24),t.YNc(44,ci,1,3,"div",24),t.qZA(),t.TgZ(45,"div",25),t.YNc(46,si,1,1,"input",26),t.YNc(47,ui,1,1,"input",26),t.qZA()()()(),t.BQk(),t.qZA()(),t.TgZ(48,"div")(49,"div",14),t.ynx(50),t.YNc(51,di,10,5,"div",15),t.YNc(52,gi,10,4,"div",15),t.YNc(53,xi,7,3,"div",15),t.YNc(54,vi,8,6,"div",15),t.TgZ(55,"div",16)(56,"mat-hint",21),t._uU(57,"Cheque Number*"),t.qZA(),t.TgZ(58,"mat-card",18),t.YNc(59,Ti,1,0,"input",27),t.YNc(60,Ai,1,0,"input",27),t.qZA(),t.YNc(61,bi,2,0,"mat-error",20),t.qZA(),t.TgZ(62,"div",16)(63,"mat-hint",21),t._uU(64,"Total Charge Amount*"),t.qZA(),t.TgZ(65,"mat-card",18),t._UZ(66,"input",28),t.qZA()(),t.TgZ(67,"div",16)(68,"mat-hint",21),t._uU(69,"Total Transaction Amount*"),t.qZA(),t.TgZ(70,"mat-card",18),t._UZ(71,"input",29),t.qZA()(),t.TgZ(72,"div",30),t._UZ(73,"img",31),t.TgZ(74,"div",32)(75,"p",33),t._uU(76),t.qZA(),t.TgZ(77,"p",34),t._uU(78),t.qZA(),t._UZ(79,"hr"),t.TgZ(80,"p",35),t._uU(81),t.qZA()()(),t.BQk(),t.qZA()()()()()()(),t.TgZ(82,"div")(83,"div",14),t.ynx(84),t.TgZ(85,"div",36),t.YNc(86,wi,2,0,"button",37),t.qZA(),t.YNc(87,Ii,3,1,"div",38),t.YNc(88,Ni,3,1,"div",38),t.BQk(),t.qZA()()()()()),2&e&&(t.xp6(15),t.Q6J("ngIf",n.phoneNumber),t.xp6(3),t.Oqu(n.titleName),t.xp6(3),t.Q6J("formGroup",n.chequedepositForm),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.chequedepositForm.get("accountBranch").touched&&!n.chequedepositForm.get("accountBranch").valid),t.xp6(7),t.Q6J("ngIf",n.ifQRvariable),t.xp6(1),t.Q6J("ngIf",!n.ifQRvariable),t.xp6(2),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(4),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.chequedepositForm.get("chequeNumber").touched&&!n.chequedepositForm.get("chequeNumber").valid),t.xp6(12),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij("Transaction Amount:",n.chequedepositForm.get("transactionAmount").value," "),t.xp6(2),t.hij("Total Charge Amount:",n.chequedepositForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij("Total Transaction Amount:",n.chequedepositForm.get("totalTransactionAmount").value," "),t.xp6(5),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.nD,k.Hw,w.lW,p.a8,p.dn,p.n5,g.TO,g.bx,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u,l.JJ],styles:['.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{cursor:pointer;margin-top:8px}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.paddingCls[_ngcontent-%COMP%]{padding:0% 2%}.h1[_ngcontent-%COMP%]{font-size:12px;padding-top:24px;padding-left:1%}#buttonDiv[_ngcontent-%COMP%]{width:50%;margin-top:2%}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:50px;margin-left:26px}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1;top:-49px;left:130%}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.totalAmount.textcolor[_ngcontent-%COMP%]{color:#fff;font-size:smaller;color:#304156;padding-left:10px}.alignImage[_ngcontent-%COMP%]{margin-top:10px;float:right}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.accountBranch[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:940px;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;background-color:#f9fafb;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}']}),o})();var qi=f(2543);const Zi=["cdForm"];function Fi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1,"keyboard_backspace"),t.qZA()}}function Di(o,r){1&o&&t._UZ(0,"input",44),2&o&&t.Q6J("readonly",!0)}function Mi(o,r){if(1&o&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.Oqu(e.accountType)}}function Oi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",45),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,Mi,2,2,"mat-option",46),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function Pi(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,Di,1,1,"input",42),t.YNc(5,Oi,2,1,"mat-select",43),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown)}}function Bi(o,r){if(1&o&&(t.TgZ(0,"mat-hint",21),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("Account Balance : ",e.curr,"",e.formatAmount(e.accountBal)," ")}}function Si(o,r){if(1&o&&(t.TgZ(0,"mat-hint",51),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij(" Holder Name : ",e.userName,"")}}function Li(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",48),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.chequewithdrawForm.get("accountNumber").value))}),t.qZA()(),t.YNc(5,Bi,2,2,"mat-hint",49),t._UZ(6,"br"),t.YNc(7,Si,2,2,"mat-hint",50),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.showAccountNum),t.xp6(2),t.Q6J("ngIf",!e.showAccountNum)}}function Ji(o,r){1&o&&t._UZ(0,"input",55),2&o&&t.Q6J("readonly",!0)}function Ui(o,r){if(1&o&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Vi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",56),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.fetchByAccountNum(a.value))}),t.TgZ(1,"mat-option"),t._uU(2,"Select"),t.qZA(),t.YNc(3,Ui,2,2,"mat-option",46),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.accountNoList)}}function Qi(o,r){if(1&o&&(t.TgZ(0,"mat-hint",21),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("Account Balance :",e.curr," ",e.formatAmount(e.accountBal),"")}}function Ri(o,r){if(1&o&&(t.TgZ(0,"mat-hint",57),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("readonly",!0),t.xp6(1),t.hij("Holder Name :",e.userName,"")}}function Yi(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Number*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,Ji,1,1,"input",52),t.YNc(5,Vi,4,1,"mat-select",53),t.qZA(),t.YNc(6,Qi,2,2,"mat-hint",49),t._UZ(7,"br"),t.YNc(8,Ri,2,2,"mat-hint",54),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.flag1),t.xp6(1),t.Q6J("ngIf",e.flag1),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(2),t.Q6J("ngIf",e.hideDetails)}}function Hi(o,r){1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Account Type*"),t.qZA(),t.TgZ(3,"mat-card",18),t._UZ(4,"input",44),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("readonly",!0))}function Gi(o,r){1&o&&t._UZ(0,"input",58),2&o&&t.Q6J("readonly",!0)}function Ki(o,r){1&o&&t._UZ(0,"input",58),2&o&&t.Q6J("readonly",!0)}function Wi(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Account Branch is Required! "),t.qZA())}function Ei(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.accountCurrencyImage(e.chequewithdrawForm.controls.accountCurrency.value):e.currencyImage,"")}}function zi(o,r){if(1&o&&t._UZ(0,"div"),2&o){const e=t.oxw();t.Gre("currency-flag ",e.isedit?e.currencyImage:e.accountCurrencyImage(e.chequewithdrawForm.controls.accountCurrency.value),"")}}function ji(o,r){1&o&&t._UZ(0,"input",59),2&o&&t.Q6J("readonly",!0)}function $i(o,r){1&o&&t._UZ(0,"input",59),2&o&&t.Q6J("readonly",!0)}function Xi(o,r){1&o&&t._UZ(0,"input",64),2&o&&t.Q6J("readonly",!0)}function tr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",67),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",22)(2,"div",68),t._uU(3),t.qZA(),t.TgZ(4,"div",69),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function er(o,r){if(1&o&&(t.TgZ(0,"mat-select",65),t.YNc(1,tr,6,5,"mat-option",66),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function nr(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",22)(5,"div",60),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",61),t.YNc(8,Xi,1,1,"input",62),t.YNc(9,er,2,2,"mat-select",63),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function or(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",67),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",22)(2,"div",68),t._uU(3),t.qZA(),t.TgZ(4,"div",69),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function ar(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Currency* "),t.qZA(),t.TgZ(3,"mat-card",18)(4,"div",22)(5,"div",23),t._UZ(6,"div"),t.qZA(),t.TgZ(7,"div",25)(8,"mat-select",70),t.YNc(9,or,6,5,"mat-option",66),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(6),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(3),t.Q6J("ngForOf",e.countryValues)}}function ir(o,r){1&o&&t._UZ(0,"input",73),2&o&&t.Q6J("readonly",!0)}function rr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",74,75),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(2,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(2,3,e.transAmt,"1."))("readonly",e.isedit)}}function cr(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function sr(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18),t.YNc(4,ir,1,1,"input",71),t.YNc(5,rr,3,6,"input",72),t.qZA(),t.YNc(6,cr,2,0,"mat-error",20),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.chequewithdrawForm.get("transactionAmount").errors?null:e.chequewithdrawForm.get("transactionAmount").errors.min)}}function ur(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function lr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"mat-hint",21),t._uU(2,"Transaction Amount*"),t.qZA(),t.TgZ(3,"mat-card",18)(4,"input",76,75),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(6,"number"),t.qZA()(),t.YNc(7,ur,2,0,"mat-error",20),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.transAmount)("value",t.xi3(6,3,e.transAmt,"1.")),t.xp6(3),t.Q6J("ngIf",null==e.chequewithdrawForm.get("transactionAmount").errors?null:e.chequewithdrawForm.get("transactionAmount").errors.min)}}function mr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",77),t.NdJ("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()}}function hr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",77),t.NdJ("keypress",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.omit_number(a))}),t.qZA()}}function dr(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Cheque Number is Required! "),t.qZA())}function pr(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function gr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",90)(2,"p",91),t._uU(3,"2000"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"div")(10,"input",94,95),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(12,"div",96),t.YNc(13,pr,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(11),n=t.oxw(2);t.xp6(13),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[2e3])}}function _r(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function fr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"div",90)(2,"p",91),t._uU(3,"500"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"input",98,99),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",96),t.YNc(12,_r,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[500])}}function Cr(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function xr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"div",90)(2,"p",91),t._uU(3,"200"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"input",100,101),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",96),t.YNc(12,Cr,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[200])}}function yr(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function vr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"div",90)(2,"p",91),t._uU(3,"100"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"input",102,103),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",96),t.YNc(12,yr,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[100])}}function Tr(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function Ar(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"div",90)(2,"p",91),t._uU(3,"50"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"input",104,105),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",96),t.YNc(12,Tr,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[50])}}function br(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function wr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"div",90)(2,"p",91),t._uU(3,"20"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"input",106,107),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",96),t.YNc(12,br,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[20])}}function Ir(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function Nr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"div",90)(2,"p",91),t._uU(3,"10"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"input",108,109),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",96),t.YNc(12,Ir,2,1,"mat-error",20),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[10])}}function kr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"div",90)(2,"p",91),t._uU(3,"1"),t.qZA()(),t.TgZ(4,"div",92)(5,"p",93),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",61)(8,"mat-card",18)(9,"input",110,109),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()()()}}function qr(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Total amount should be equal to ",e.chequewithdrawForm.value.transactionAmount," ")}}function Zr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",60)(1,"form",null,78)(3,"mat-card",79)(4,"div",80)(5,"h4",81),t._uU(6,"Denomination"),t.qZA()(),t.TgZ(7,"div",82),t.YNc(8,gr,14,1,"div",83),t.YNc(9,fr,13,1,"div",84),t.YNc(10,xr,13,1,"div",84),t.YNc(11,vr,13,1,"div",84),t.YNc(12,Ar,13,1,"div",84),t.YNc(13,wr,13,1,"div",84),t.YNc(14,Nr,13,1,"div",84),t.YNc(15,kr,11,0,"div",84),t.qZA(),t.TgZ(16,"div",85)(17,"div",86)(18,"p",21),t._uU(19,"Total Amount"),t.qZA(),t.TgZ(20,"mat-card",18)(21,"input",87),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmount=a)}),t.qZA()(),t.TgZ(22,"div",88),t.YNc(23,qr,2,1,"mat-error",20),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(8),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency||"USD"==e.chequewithdrawForm.value.transactionCurrency||"AED"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency||"USD"==e.chequewithdrawForm.value.transactionCurrency||"AED"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency||"USD"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.chequewithdrawForm.value.transactionCurrency||"USD"==e.chequewithdrawForm.value.transactionCurrency||"AED"==e.chequewithdrawForm.value.transactionCurrency),t.xp6(6),t.Q6J("ngModel",e.totalAmount),t.xp6(2),t.Q6J("ngIf",e.enableBtn1)}}function Fr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",111),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToServiceScreens())}),t._uU(1,"CANCEL"),t.qZA()}}function Dr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",112)(1,"button",113),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSaveofChequeWithdraw(a.chequewithdrawForm.value,a.ifQRvariable,a.cdForm))}),t._uU(2,"GENERATE TOKEN"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.chequewithdrawForm.get("transactionCurrency").valid&&e.chequewithdrawForm.get("accountNumber").valid&&e.chequewithdrawForm.get("accountType").valid&&e.chequewithdrawForm.get("accountCurrency").valid&&e.chequewithdrawForm.get("transactionAmount").valid&&e.chequewithdrawForm.get("chequeNumber").valid&&e.chequewithdrawForm.get("totalChargeAmount").valid&&e.chequewithdrawForm.get("totalTransactionAmount").valid))}}function Mr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",112)(1,"button",113),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getOTP(a.chequewithdrawForm.value,a.ifQRvariable,a.cdForm))}),t._uU(2,"CONTINUE"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!(e.enableContinue&&e.chequewithdrawForm.get("transactionAmount").valid&&e.chequewithdrawForm.get("transactionCurrency").valid&&e.chequewithdrawForm.get("accountNumber").valid&&e.chequewithdrawForm.get("accountType").valid&&e.chequewithdrawForm.get("accountCurrency").valid&&e.chequewithdrawForm.get("transactionAmount").valid&&e.chequewithdrawForm.get("chequeNumber").valid&&e.chequewithdrawForm.get("totalChargeAmount").valid&&e.chequewithdrawForm.get("totalTransactionAmount").valid))}}let Or=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v){this.router=e,this.toast=n,this.formBuilder=a,this.dialogService=i,this.apiService=s,this.dialog=u,this.cdr=h,this.ls=d,this.snack=_,this.changeDef=v,this.ifQRvariable=!1,this.countryFormControl=new c.NI,this.productCode="CQW",this.tokenOrigin="Kiosk",this.accountType=["Savings","Current","Deposit"],this.holderName=["Jane smith","Micheal smith"],this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.accounttypeArray=[],this.idList=[],this.tokenObjects=new T.R,this.isedit=!0,this.enableContinue=!0,this.currencyImage="",this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.hideDetails=!1,this.accountNoList=[],this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log("QRData",this.qrData),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),"New Customer"==this.custValidation&&(this.showAccountNum=!1,this.showAccoutType=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1),this.chequewithdrawForm=this.formBuilder.group({transactionId:["",[c.kI.required]],chequeNumber:["",[c.kI.required]],customerId:["",[c.kI.required]],accountNumber:["",[c.kI.required]],accountType:["",[c.kI.required]],holderName:["",[c.kI.required]],accountCurrency:["",[c.kI.required]],totalAmount:["",c.kI.required],transactionCurrency:["",[c.kI.required]],transactionAmount:["",[c.kI.required,c.kI.min(.1)]],accountBalance:[""],productCode:["CQW",[c.kI.required]],tokenOrigin:["Kiosk",[c.kI.required]],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],createdBy:["",[c.kI.required]],createdTime:["",[c.kI.required]],modifiedBy:["",[c.kI.required]],modifiedTime:["",[c.kI.required]],recordStatus:["",[c.kI.required]],authStatus:["",[c.kI.required]],version:["",[c.kI.required]],accountBranch:["",[c.kI.required]],transactionBranch:["",[c.kI.required]]}),console.log(this.chequewithdrawForm.value),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.gettingallTansactionDetails(this.phoneNumber)),null!=this.qrData&&(this.ifQRvariable=!0,console.log("Account",this.qrData.accountId),this.chequewithdrawForm.controls.holderName.setValue(this.qrData.holderName),this.chequewithdrawForm.controls.accountType.setValue(this.qrData.accountType),this.chequewithdrawForm.controls.accountNumber.setValue(this.qrData.accountId),this.getChargeDetails(this.qrData.accountId,""),this.chequewithdrawForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.chequewithdrawForm.controls.accountCurrency.setValue(this.qrData.accountCurrency),this.chequewithdrawForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),this.accountBal=this.qrData.accountBalance,this.customerID=this.qrData.customerId,this.currencyImage="currency-flag-"+this.qrData.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),this.chequewithdrawForm.controls.transactionBranch.setValue(this.qrData.transactionBranch),this.chequewithdrawForm.controls.transactionBranch.setValue(null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.qrData.transactionBranch:"Kasturi Nagar"),this.getAccountBranch()),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),this.appointmentId.data.appointmentId&&this.cashWithdrawlData()}fetchByAccountNum(e){this.chequewithdrawForm.controls.transactionAmount.reset(),this.chequewithdrawForm.controls.totalTransactionAmount.setValue(this.chequewithdrawForm.controls.totalChargeAmount.value),this.chequewithdrawForm.controls.chequeNumber.reset(),console.log("Account Numebr",e),this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.curr=(0,l.jK)(n.currency,"narrow"),this.chequewithdrawForm.controls.accountType.setValue(n.accountType),this.chequewithdrawForm.controls.accountCurrency.setValue(n.currency),this.chequewithdrawForm.controls.accountBranch.setValue(n.accountBranch),this.chequewithdrawForm.controls.holderName.setValue(this.userName),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.getCountrynameValues(),this.chequewithdrawForm.controls.transactionCurrency.setValue(n.currency),this.custAmountBal(e),this.chequewithdrawForm.controls.transactionBranch.setValue("Kasturi Nagar"),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}getOTP(e,n,a){this.chequewithdrawValues=e,this.chequewithdrawtype=n,this.chequewithdrawform=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum;let s=this.chequewithdrawValues.transactionAmount.replace(/,/g,"");console.log(s),s>5e4?this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}):this.getOTPforSave(this.chequewithdrawValues,this.chequewithdrawtype,this.chequewithdrawform)}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.chequewithdrawValues,this.chequewithdrawtype,this.chequewithdrawform)})}getOTPforSave(e,n,a){e.transactionBranch=this.transBranch;let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.chequewithdrawForm.value.transactionCurrency,s.push(i),console.log(s),i={});"New Customer"==this.custValidation&&(console.log("customer",this.custmerID),this.accountNum=e.accountNumber,e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)),e.tokenBranch="KN",this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success",u),this.chequeWithrwResponse=u,this.tokenNum=this.chequeWithrwResponse.tokenNumber,this.estimatedTime=this.chequeWithrwResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.chequeWithrwResponse&&this.dialogService.tokenGenerationDialog()})}_keyPress(e){let a=String.fromCharCode(e.charCode);/[0-9 a-z A-Z]/.test(a)||e.preventDefault()}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName,console.log(this.branch)})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e})}onCountrySelected(e){console.log(e)}goToServiceScreens(){this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.chequewithdrawForm.controls.holderName.setValue(this.userName),this.custID=n.customerId,this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1));for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.chequewithdrawForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.chequewithdrawForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0]))})}getAccountType(e){this.chequewithdrawForm.controls.transactionAmount.reset(),this.chequewithdrawForm.controls.totalTransactionAmount.setValue(this.chequewithdrawForm.controls.totalChargeAmount.value),this.chequewithdrawForm.controls.chequeNumber.reset(),this.accountNoList=[],console.log(e),this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e),console.log(this.accountNum1);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.chequewithdrawForm.controls.accountNumber.setValue(this.accountNoList[0]),this.getData(this.accountNoList[0])):(this.getData(this.accountNoList[0]),this.flag1=!0),this.getChargeDetails(this.accountNoList[0],"")}getData(e){this.hideDetails=!0,console.log(e);let n=this.accountNum1.filter(a=>a.accountId==e);console.log(n),this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.chequewithdrawForm.controls.accountCurrency.setValue(n[0].accountCurrency),this.chequewithdrawForm.controls.accountBranch.setValue(this.branch),this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.chequewithdrawForm.controls.transactionCurrency.setValue(n[0].accountCurrency),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),this.accountBal=this.idList[0].amount,console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.idList[0].accountId),this.chequewithdrawForm.controls.accountNumber.setValue(n[0].accountId),this.chequewithdrawForm.controls.accountBranch.setValue(n[0].accountBranch),this.getChargeDetails(n[0].accountId,"")}custAccountNumber(e){this.isedit=!1,this.idList=[...this.custAccountData].filter(n=>n.accountType===e.accountType),this.accountNoList=[];for(let n=0;n<this.idList.length;n++)"APPROVED"==this.idList[n].status&&this.accountNoList.push(this.idList[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.chequewithdrawForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.chequewithdrawForm.controls.accountNumber.setValue(this.accountNoList[0]),this.flag1=!0),this.chequewithdrawForm.controls.accountCurrency.setValue(e.accountCurrency),this.chequewithdrawForm.controls.accountBranch.setValue(this.branch),this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.chequewithdrawForm.controls.transactionCurrency.setValue(e.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.accountNoList[0]),this.chequewithdrawForm.controls.accountBranch.setValue(e.accountBranch),this.getChargeDetails(this.accountNoList[0],e.amount)}custAmountBal(e){console.log(e);var n=this.idList.filter(function(a){if(a.accountId==e)return a});this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0]}setBalance(e,n=0){this.accountBal=e[n].currentBalance?e[n].currentBalance:null}onSaveofChequeWithdraw(e,n,a){e.transactionBranch=this.transBranch;let i={},s=[];if(this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(u=>{this.qrBranchCode=u}),"yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.chequewithdrawForm.value.transactionCurrency,s.push(i),console.log(s),i={});e.tokenBranch="KN",console.log("onSaveofChequeWithdraw",e),this.ifQRvariable?(e.customerId=this.custID,e.accountType=e.accountType,e.accountNumber=e.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)):(this.accountNum=JSON.stringify(this.selectedAccountInfo.accountId),localStorage.setItem("AccountNumber",this.accountNum),localStorage.setItem("ProductCode",this.productCode),e.customerId=this.custID,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.accountNumber=this.selectedAccountInfo.accountId,e.accountType=e.accountType,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)),this.qrData&&this.qrData.transactionBranch&&(e.tokenBranch=this.qrBranchCode.transactionBranch),console.log("this.appointmentId::",this.appointmentId),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),console.log(e.transactionId,e.transactionStatus),this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success",u),this.chequeWithrwResponse=u,this.tokenNum=this.chequeWithrwResponse.tokenNumber,this.estimatedTime=this.chequeWithrwResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.chequeWithrwResponse&&this.dialogService.tokenGenerationDialog()})}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){this.a=this.chequewithdrawForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.chequewithdrawForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.chequewithdrawForm.value.totalAmount=this.chequewithdrawForm.value.totalAmount,console.log(this.chequewithdrawForm.value.totalAmount),console.log(this.chequewithdrawForm.value.transactionAmount),this.transamount=this.chequewithdrawForm.value.transactionAmount,this.totalAmount=this.chequewithdrawForm.value.totalAmount.toLocaleString("en-US"),this.enableBtn=this.transamount==this.totalAmount,this.enableBtn1=this.transamount>this.totalAmount||this.transamount<this.totalAmount,this.chequewithdrawForm.controls.totalAmount.setValue(this.chequewithdrawForm.value.totalAmount)}OnInput(e){this.transAmt=e.target.value,console.log(e.target.value),this.totalAmount=0;const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),parseFloat(this.balance)<parseFloat(this.transAmt)?(console.log("Bigger"),this.snack.open("Transaction Amount should not exceed than Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right"}),this.enableContinue=!1):this.enableContinue=!0,this.totalTransAmount=Number(this.transAmt)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.chequewithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),this.cdr.markForCheck(),this.cdr.detectChanges()}addCurrencyImage(e){return e.toLowerCase()}onCountryChange(e){this.currencyImage="currency-flag-"+e.currencyCode.toLowerCase()}accountCurrencyImage(e){return e?"currency-flag-"+e.toLowerCase():""}clicked(e){console.log(e)}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1)})}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}cashWithdrawlData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log(e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.chequewithdrawForm.controls.accountType.setValue(e.data.accountType),this.chequewithdrawForm.controls.accountBranch.setValue(e.data.accountBranch),this.chequewithdrawForm.controls.accountNumber.setValue(e.data.accountNumber),this.chequewithdrawForm.controls.chequeNumber.setValue(e.data.chequeNumber),this.getChargeDetails(e.data.accountNumber,e.data.transactionAmount),this.chequewithdrawForm.controls.accountCurrency.setValue(e.data.accountCurrency),this.chequewithdrawForm.controls.transactionCurrency.setValue(e.data.transactionCurrency),this.chequewithdrawForm.controls.transactionAmount.setValue(e.data.transactionAmount),this.currencyImage="currency-flag-"+e.data.transactionCurrency.toLowerCase(),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase()})}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{console.log(a),this.chargeDetails=a,this.chequewithdrawForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.chequewithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(0),setTimeout(()=>{this.totalTransAmount=Number(0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.chequewithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(qi.l),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cheque-withdrawal"]],viewQuery:function(e,n){if(1&e&&t.Gf(Zi,5),2&e){let a;t.iGM(a=t.CRH())&&(n.cdForm=a.first)}},inputs:{title:"title"},decls:90,vars:28,consts:[[1,"fullcard"],["fxLayout","row"],["fxFlex","chequewithdrawForm.get('transactionAmount').value > 0? 70% : 100%"],[1,"h1"],[2,"color","grey","padding-right","4px"],[2,"padding-left","4px"],[1,"chequecard","topView"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],["class","backIcon",3,"click",4,"ngIf"],[1,"card-title"],[1,"full-width",2,"padding","0% 0% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","3%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","25%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","25%","fxFlex.xs","100%"],[1,"accountBranch"],[1,"inputCard"],["matInput","","type","text","class","full-width","formControlName","accountBranch",3,"readonly",4,"ngIf"],[4,"ngIf"],[1,"totalAmount"],["fxLayout","row wrap",1,"full-width"],["fxFlex","25%"],[3,"class",4,"ngIf"],["fxFlex","75%"],["matInput","","type","text","class","full-width","style","font-size:110%","formControlName","accountCurrency",3,"readonly",4,"ngIf"],["matInput","","type","text","maxlength","6","class","full-width","formControlName","chequeNumber",3,"keypress",4,"ngIf"],["matInput","","readonly","","formControlName","totalChargeAmount",1,"full-width"],["matInput","","type","text","readonly","","onlyNumber","","formControlName","totalTransactionAmount"],[1,"tooltip"],["width","80%",3,"src"],[1,"tooltiptext"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],["fxFlex","30%",4,"ngIf"],["fxLayout","row wrap","id","buttonDiv",1,"flex-container","stretch"],["fxFlex","30%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","","class","buttonCancel full-width",3,"click",4,"ngIf"],["fxFlex","70%","fxFlex.xs","100%","class","paddingCls",4,"ngIf"],[1,"backIcon",3,"click"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType","style","background-color: #f9fafb;","placeholder","Select Account Type",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType","placeholder","Select Account Type",2,"background-color","#f9fafb",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"change"],["class","totalAmount",4,"ngIf"],["class","totalAmount",3,"readonly",4,"ngIf"],[1,"totalAmount",3,"readonly"],["matInput","","type","text","class","full-width","formControlName","accountNumber",3,"readonly",4,"ngIf"],["formControlName","accountNumber","style","background-color: #f9fafb;",3,"selectionChange",4,"ngIf"],["class","totalAmount","formControlName","holderName",3,"readonly",4,"ngIf"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"readonly"],["formControlName","accountNumber",2,"background-color","#f9fafb",3,"selectionChange"],["formControlName","holderName",1,"totalAmount",3,"readonly"],["matInput","","type","text","formControlName","accountBranch",1,"full-width",3,"readonly"],["matInput","","type","text","formControlName","accountCurrency",1,"full-width",2,"font-size","110%",3,"readonly"],["fxFlex","30%"],["fxFlex","70%"],["matInput","","type","text","class","full-width","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect","style","background-color: #f9fafb;",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",1,"full-width",3,"readonly"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb",3,"disabled"],["style","font-size:110%",3,"value","click",4,"ngFor","ngForOf"],[2,"font-size","110%",3,"value","click"],["fxFlex","15%"],["fxFlex","85%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency","id","testSelect",2,"background-color","#f9fafb"],["matInput","","type","text","class","full-width","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup","focus",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",1,"full-width",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup","focus"],["myRef",""],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","ngModelChange","keyup","focus"],["matInput","","type","text","maxlength","6","formControlName","chequeNumber",1,"full-width",3,"keypress"],["cdForm","ngForm"],[1,"border-align"],["fxLayout","row",1,"pH10","full-width"],[1,"title-Font"],["id","denominationDiv",1,"pH10","full-width"],["class","paddingclass","fxLayoutAlign","center center",4,"ngIf"],["class","paddingclass","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap",1,"pH10","full-width"],["fxFlex","53%","fxFlex.xs","100%"],["matInput","","name","totalAmount","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"],[1,"pl10",2,"width","150%"],["fxLayoutAlign","center center",1,"paddingclass"],["fxFlex","20%"],[1,"quantityClass","text-small"],["fxFlex","10%"],[1,"operationTypeClass","text-small"],["type","text","matInput","","name","count2000","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count2000",""],[1,"pl10"],["fxLayoutAlign","start center",1,"paddingclass"],["type","text","matInput","","name","count500","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count500",""],["type","text","matInput","","name","count200","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count200",""],["type","text","matInput","","name","count100","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count100",""],["type","text","matInput","","name","count50","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count50",""],["type","text","matInput","","name","count20","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count20",""],["type","text","matInput","","name","count10","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count10",""],["type","text","matInput","","name","count1","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","70%","fxFlex.xs","100%",1,"paddingCls"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3)(4,"span",4),t._uU(5,"Services"),t.qZA(),t.TgZ(6,"b"),t._uU(7,">"),t.qZA(),t.TgZ(8,"span",5)(9,"b"),t._uU(10,"Cheque Withdrawal"),t.qZA()()(),t.TgZ(11,"mat-card",6)(12,"mat-card-title",7)(13,"div",8)(14,"div"),t.YNc(15,Fi,2,0,"mat-icon",9),t.qZA(),t._uU(16,"\xa0\xa0 "),t.TgZ(17,"div",10),t._uU(18,"Cheque Withdrawal"),t.qZA()()(),t.TgZ(19,"mat-card-content")(20,"div",11)(21,"form",12)(22,"div",13)(23,"div")(24,"div",14),t.ynx(25),t.YNc(26,Pi,6,2,"div",15),t.YNc(27,Li,8,2,"div",15),t.YNc(28,Yi,9,4,"div",15),t.YNc(29,Hi,5,1,"div",15),t.TgZ(30,"div",16)(31,"mat-hint",17),t._uU(32,"Account Branch*"),t.qZA(),t.TgZ(33,"mat-card",18),t.YNc(34,Gi,1,1,"input",19),t.YNc(35,Ki,1,1,"input",19),t.qZA(),t.YNc(36,Wi,2,0,"mat-error",20),t.qZA(),t.TgZ(37,"div",16)(38,"mat-hint",21),t._uU(39,"Account Currency*"),t.qZA(),t.TgZ(40,"mat-card",18)(41,"div",22)(42,"div",23),t.YNc(43,Ei,1,3,"div",24),t.YNc(44,zi,1,3,"div",24),t.qZA(),t.TgZ(45,"div",25),t.YNc(46,ji,1,1,"input",26),t.YNc(47,$i,1,1,"input",26),t.qZA()()()(),t.BQk(),t.qZA()(),t.TgZ(48,"div")(49,"div",14),t.ynx(50),t.YNc(51,nr,10,5,"div",15),t.YNc(52,ar,10,4,"div",15),t.YNc(53,sr,7,3,"div",15),t.YNc(54,lr,8,6,"div",15),t.TgZ(55,"div",16)(56,"mat-hint",21),t._uU(57,"Cheque Number*"),t.qZA(),t.TgZ(58,"mat-card",18),t.YNc(59,mr,1,0,"input",27),t.YNc(60,hr,1,0,"input",27),t.qZA(),t.YNc(61,dr,2,0,"mat-error",20),t.qZA(),t.TgZ(62,"div",16)(63,"mat-hint",21),t._uU(64,"Total Charge Amount*"),t.qZA(),t.TgZ(65,"mat-card",18),t._UZ(66,"input",28),t.qZA()(),t.TgZ(67,"div",16)(68,"mat-hint",21),t._uU(69,"Total Transaction Amount*"),t.qZA(),t.TgZ(70,"mat-card",18),t._UZ(71,"input",29),t.qZA()(),t.TgZ(72,"div",30),t._UZ(73,"img",31),t.TgZ(74,"div",32)(75,"p",33),t._uU(76),t.qZA(),t.TgZ(77,"p",34),t._uU(78),t.qZA(),t._UZ(79,"hr"),t.TgZ(80,"p",35),t._uU(81),t.qZA()()(),t.BQk(),t.qZA()()()()()()()(),t.YNc(82,Zr,24,10,"div",36),t.qZA(),t.TgZ(83,"div")(84,"div",37),t.ynx(85),t.TgZ(86,"div",38),t.YNc(87,Fr,2,0,"button",39),t.qZA(),t.YNc(88,Dr,3,1,"div",40),t.YNc(89,Mr,3,1,"div",40),t.BQk(),t.qZA()()()),2&e&&(t.xp6(15),t.Q6J("ngIf",n.phoneNumber),t.xp6(6),t.Q6J("formGroup",n.chequewithdrawForm),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.chequewithdrawForm.get("accountBranch").touched&&!n.chequewithdrawForm.get("accountBranch").valid),t.xp6(7),t.Q6J("ngIf",n.ifQRvariable),t.xp6(1),t.Q6J("ngIf",!n.ifQRvariable),t.xp6(2),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(4),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",!n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.chequewithdrawForm.get("chequeNumber").touched&&!n.chequewithdrawForm.get("chequeNumber").valid),t.xp6(12),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij("Transaction Amount:",n.chequewithdrawForm.get("transactionAmount").value," "),t.xp6(2),t.hij("Total Charge Amount:",n.chequewithdrawForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij("Total Transaction Amount:",n.chequewithdrawForm.get("totalTransactionAmount").value," "),t.xp6(1),t.Q6J("ngIf","yes"==n.denomRequired&&(n.chequewithdrawForm.get("transactionAmount").value>0||n.transAmt>0)),t.xp6(5),t.Q6J("ngIf",n.phoneNumber),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.nD,c.On,c.F,k.Hw,w.lW,p.a8,p.dn,p.n5,g.TO,g.bx,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u,l.JJ],styles:['.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{cursor:pointer;margin-top:8px}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:80%;border-radius:10px}.paddingCls[_ngcontent-%COMP%]{padding:0% 2%}.topView[_ngcontent-%COMP%]{margin-top:8px;padding-top:0;padding-bottom:106px;margin-bottom:2px}.border-align[_ngcontent-%COMP%]{margin-top:45px;height:520px;border-radius:10px}.h1[_ngcontent-%COMP%]{font-size:12px;padding-top:24px;padding-left:1%}#buttonDiv[_ngcontent-%COMP%]{width:80%;margin-top:-2%}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px}.accountBranch[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:50px;margin-left:26px}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1;top:-49px;left:130%}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.totalAmount.textcolor[_ngcontent-%COMP%]{color:#fff;font-size:smaller;color:#304156;padding-left:10px}.alignImage[_ngcontent-%COMP%]{margin-top:10px;float:right}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:940px;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;background-color:#f9fafb;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}']}),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Pr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12),t.ynx(1),t.TgZ(2,"mat-card",13),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw();return t.KtG(s.goToService(i))}),t.TgZ(3,"div",14)(4,"mat-card",15)(5,"mat-icon",16),t._uU(6,"payments"),t.qZA()()(),t._UZ(7,"br"),t.TgZ(8,"mat-hint",17),t._uU(9),t.qZA()(),t.BQk(),t.qZA()}if(2&o){const e=r.$implicit;t.xp6(2),t.Q6J("ngClass",e.flag?"borderCard":"inputCard"),t.xp6(7),t.Oqu(e.title)}}let Br=(()=>{class o{constructor(e){this.router=e,this.flag=!0,this.continue="CONTINUE",this.active={},this.folders=[{title:"Cash Withdrawal",id:1,flag:!1},{title:"Cash Deposit",id:2,flag:!1},{title:"Cheque Deposit",id:3,flag:!1},{title:"Cheque Withdrawal",id:4,flag:!1},{title:"Forex Transaction",id:5,flag:!1},{title:"Loan Payment",id:6,flag:!1},{title:"Deposit Top Up",id:7,flag:!1},{title:"Utility Bill Payment",id:8,flag:!1}]}ngOnInit(){}trackByFn(e,n){return e}goToService(e){this.active!==e&&(this.active=e,this.folders.forEach(n=>{n.flag=!1})),this.folders[e].flag=!this.folders[e].flag}contiueButton(){console.log(this.active);const e=this.folders.filter(n=>!0===n.flag);return console.log(e),e.length>0}goToOperation(){this.router.navigateByUrl("/others/master")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cheque-withdrawal1"]],decls:21,vars:3,consts:[[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","72%"],[1,"chequecard"],[1,"card-title"],["fxLayout","row wrap"],[1,"totalAmount"],[1,"arrows"],[1,"full-width"],["fxLayout","row wrap","fxLayoutGap","40px ","class","gapBtw",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxLayoutAlign","center center"],["mat-flat-button","",3,"ngClass","click"],["fxLayout","row wrap","fxLayoutGap","40px ",1,"gapBtw"],[3,"ngClass","click"],[2,"margin-top","15%"],[1,"insideCard"],[1,"serviceIcons"],[1,"insideTitle"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"br"),t.TgZ(2,"div",1)(3,"div",2)(4,"mat-card",3)(5,"mat-card-title")(6,"div",4),t._uU(7,"Services"),t.qZA(),t.TgZ(8,"div",5)(9,"mat-hint",6),t._uU(10,"Select one and continue"),t.qZA(),t._UZ(11,"mat-card",7),t.qZA()(),t.TgZ(12,"mat-card-content")(13,"div",8),t.YNc(14,Pr,10,2,"div",9),t.qZA(),t._UZ(15,"br")(16,"br"),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){return n.goToOperation()}),t._uU(19),t.qZA()(),t._UZ(20,"br"),t.qZA()()()()()),2&e&&(t.xp6(14),t.Q6J("ngForOf",n.folders),t.xp6(4),t.Q6J("ngClass",n.contiueButton()?"buttonActive":"buttonPassive"),t.xp6(1),t.Oqu(n.continue))},dependencies:[l.mk,l.sg,k.Hw,w.lW,p.a8,p.dn,p.n5,g.bx,m.xw,m.SQ,m.Wh,m.yH,S.oO],styles:[".fullcard[_ngcontent-%COMP%]{background-color:#ecf3f2;width:100%;height:110%}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:20px}.gapBtw[_ngcontent-%COMP%]{padding:8px}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:20px;padding-left:10px}.totalAmount[_ngcontent-%COMP%]{font-size:12px;color:#7e84a3;padding-top:8px;padding-left:10px}.insideTitle[_ngcontent-%COMP%]{font-size:12px;color:#7e84a3;padding-left:40px}.full-width[_ngcontent-%COMP%]{flex-direction:row;display:flex;padding:15px;overflow:auto}.insideCard[_ngcontent-%COMP%]{width:120px;height:130px;background-color:#fe6700;border-radius:20px;margin-left:15%}.inputCard[_ngcontent-%COMP%]{background-color:#fff;box-sizing:border-box;width:210px;height:280px;cursor:pointer}.borderCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;width:210px;height:280px;border-style:solid;border-width:thin;border-color:#456efe;cursor:pointer}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.buttonActive[_ngcontent-%COMP%]{border-radius:20px;width:750px;background-color:#1bcd9d;color:#fff}.buttonPassive[_ngcontent-%COMP%]{border-radius:20px;width:750px;background-color:#e3e3e3;color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#E3E3E3;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#E3E3E3}.arrows[_ngcontent-%COMP%]{height:15px;width:8%;border-radius:20px;margin-left:90%;margin-top:-4%}.serviceIcons[_ngcontent-%COMP%]{color:#fff;font-size:36px;padding:26px}"]}),o})();function Sr(o,r){1&o&&(t.TgZ(0,"div",11),t._UZ(1,"app-denomination-info",12),t.qZA())}function Lr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"app-header",3),t.NdJ("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome1())}),t.qZA()(),t.TgZ(3,"div",4)(4,"mat-card",5),t._UZ(5,"app-account-information-form",6)(6,"app-transaction-information-form",7),t.qZA(),t.YNc(7,Sr,2,0,"div",8),t.qZA(),t.TgZ(8,"div",9)(9,"app-footer",10),t.NdJ("save",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit(a))})("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome())})("exit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.cashWithdrawForm),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"headerclass":""),t.xp6(1),t.Q6J("title",e.title),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"cdcard":""),t.xp6(4),t.Q6J("ngIf",e.displayDenom),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"footclass":""),t.xp6(1),t.Q6J("cancelDisabled",!1)("saveDisabled",e.cashWithdrawForm.get("account").invalid||e.cashWithdrawForm.get("transaction").invalid||e.tokendisable)}}let Jr=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v){this.formBuilder=e,this.ls=n,this.apiService=a,this.router=i,this.dialogService=s,this.dialog=u,this.snack=h,this._location=d,this.dataService=_,this.cd=v,this.title="Cash Withdrawal",this.Token=new Ur,this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.ifQRvariable=!1,this.tokenOrigin="Kiosk",this.enableContinue=!0,this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="KN",this.oTpModel=new M.m,this.displayDenom=!1,this.tokendisable=!1}ngOnInit(){this.custValidation=localStorage.getItem("customerValidation"),this.cashWithdrawForm=this.formBuilder.group({account:["",[c.kI.required]],transaction:["",[c.kI.required]],denomination:[],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],productCode:["CHW",c.kI.required],tokenOrigin:["Kiosk",c.kI.required],estimatedWaitTime:["",[c.kI.required]],narrative:["",[c.kI.required]]}),console.log("Cash withdrawal",this.cashWithdrawForm),this.denominationRequired=localStorage.getItem("DenominationRequired"),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.dataService.gettransactionFormdata.subscribe(e=>{console.log(0===Object.keys(e).length,e.constructor===Object),0!=Object.keys(e).length&&e.constructor===Object&&(this.transactiondata=e,console.log(this.transactiondata),this.transactiondata.transactionAmount&&"yes"==this.denominationRequired&&(this.displayDenom=!0))}),this.dataService.getdenominationFormdata.subscribe(e=>{e&&(console.log("Account component?",e),this.denominationdata=e)}),this.dataService.getaccountFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(this.appointmentDetails=e,console.log("Account component?",this.appointmentDetails.appointmentId))}),this.dataService.getNavParam.subscribe(e=>{console.log(e),this.titleData=e})}ngAfterViewInit(){console.log("Cash withdrawal",this.cashWithdrawForm)}ngDoCheck(){this.cd.markForCheck()}ngOnDestroy(){localStorage.removeItem("chq_page")}ngOnChange(){this.transactiondata.transactionAmount&&(this.displayDenom=!0)}onSubmit(e){console.log("On submit form",this.cashWithdrawForm.value,e),"showAccountNum"==e&&(console.log("First Condition"),this.onSaveofCashWithdraw(this.cashWithdrawForm.value,this.ifQRvariable,this.denominationdata)),"NotshowAccountNum"==e&&(console.log("Second Condition"),this.getOTP(this.cashWithdrawForm.value,this.ifQRvariable,this.denominationdata))}onSaveofCashWithdraw(e,n,a){var i,s;if(console.log(e,n,a),Number(null!==(i=this.appointmentDetails)&&void 0!==i&&i.appointmentId?this.cashWithdrawForm.value.transaction.transactionAmount:this.cashWithdrawForm.value.transaction.transactionAmount.replace(/,/g,""))>this.cashWithdrawForm.value.account.accountBalance)console.log("insufficient_true");else if(""===this.cashWithdrawForm.value.transaction.transactionAmount)console.log("please enter transaction amount");else if(this.cashWithdrawForm.value.transaction.totalTransactionAmount>this.cashWithdrawForm.value.account.accountBalance)console.log("total transaction amount high");else{console.log("insufficient_false"),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(d=>{this.qrBranchCode=d});let u={},h=[];if("yes"==this.denominationRequired)for(let d=0;d<this.denomCodeArray.length;d++)a.value[this.denomCodeArray[d].key]&&(u.denominationKey=this.denomCodeArray[d].value,u.denominationValue=+a.value[this.denomCodeArray[d].key],u.currency=this.cashWithdrawForm.value.transactionCurrency,h.push(u),console.log(h),u={});console.log("Not a qrvariable",this.Token),null!==(s=this.appointmentDetails)&&void 0!==s&&s.appointmentId?(console.log(this.appointmentDetails),this.Token.customerId=this.appointmentDetails.customerId,this.Token.accountNumber=this.appointmentDetails.accountNumber,this.Token.accountType=this.appointmentDetails.accountType,this.Token.accountCurrency=this.appointmentDetails.accountCurrency,this.Token.accountBalance=this.appointmentDetails.accountBalance,this.Token.accountBranch=this.appointmentDetails.accountBranch,this.Token.holderName=this.appointmentDetails.holderName,this.Token.transactionCurrency=this.appointmentDetails.transactionCurrency,this.Token.transactionAmount=this.appointmentDetails.transactionAmount,this.Token.transactionId=this.appointmentDetails.transactionId,this.Token.totalChargeAmount=this.appointmentDetails.totalChargeAmount,this.Token.totalTransactionAmount=this.appointmentDetails.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="","yes"==this.denominationRequired&&(this.Token.denomination=h),console.log("Not a qrvariable",this.Token)):(console.log(e),console.log("Not a qrvariable",this.Token),this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.accountCurrency=e.account.accountCurrency,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=this.qrData?e.transaction.transactionAmount:e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.exchangeRate=e.transaction.exchangeRate,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="","yes"==this.denominationRequired&&(this.Token.denomination=h),console.log("Not a qrvariable",this.Token)),console.log("before api call :: ",this.Token),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.Token).subscribe(d=>{console.log("Response Success, Data Saved",d),this.cashWithdrawResponse=d,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cashWithdrawResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},d=>{console.log(d),this.tokendisable=!1})}console.log("no resp"),setTimeout(()=>{null==this.cashWithdrawResponse&&(console.log(this.cashWithdrawResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}getOTP(e,n,a){console.log("Get Otp",e,n),this.phonenum=this.ls.getItem("phonenumFromLogin"),this.cashwithDrwValues=e,this.cashwithDrwType=n,this.cashWithdrawalDenomination=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum,this.oTpModel.isMobileLogin=!1;let s=this.cashwithDrwValues.transaction.transactionAmount.replace(/,/g,"");console.log(s),s>=5e4?(this.tokendisable=!0,this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))})):(console.log("Else"),this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,this.cashWithdrawalDenomination))}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{console.log("submit",a),a&&this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,"")})}getOTPforSave(e,n,a){console.log(e);let i={},s=[];if("yes"==this.denominationRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashWithdrawForm.value.transactionCurrency,s.push(i),console.log(s),i={});console.log(this.custValidation),"New Customer"==this.custValidation&&(this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.denomination=[],this.Token.totalAmount="","yes"==this.denominationRequired&&(this.Token.denomination=s)),this.appointmentId&&this.appointmentId.data&&(this.Token.transactionId=this.appointmentId.data.transactionId,this.Token.transactionStatus=this.appointmentId.data.transactionStatus),console.log(this.Token),this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CHW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.denomination=[],this.Token.totalAmount="",console.log("before api call :: ",this.Token),this.tokendisable=!0,this.apiService.saveofCashwithdraw(this.Token).subscribe(u=>{console.log("Response Success, Data Saved",u),this.cashWithdrawResponse=u,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cashWithdrawResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},u=>{console.log(u),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cashWithdrawResponse&&(console.log(this.cashWithdrawResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}onReset(){this.cashWithdrawForm.reset()}redirectToHome(){this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}redirectToHome1(){console.log("Redirect"),this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}back(){this._location.back()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(D.g),t.Y36(N.s),t.Y36(x.F0),t.Y36(T.x),t.Y36(A.uw),t.Y36(F.ux),t.Y36(l.Ye),t.Y36(P.D),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cw-service"]],decls:1,vars:1,consts:[["class","screensize",3,"formGroup",4,"ngIf"],[1,"screensize",3,"formGroup"],[2,"margin-top","-3%",3,"ngClass"],[3,"title","back"],["fxLayout","row",3,"ngClass"],["fxFlex","79.5%",2,"margin-top","1%","height","450px","box-shadow","0px 3px 6px #00000029","border-radius","10px","opacity","1","margin-left","7.5%"],["formControlName","account"],["formControlName","transaction"],["style","margin-top: -0.1%; margin-left: -16px; margin-bottom: 7px;",4,"ngIf"],[2,"margin-top","-1%",3,"ngClass"],["saveText","Continue",3,"cancelDisabled","saveDisabled","save","cancel","exit"],[2,"margin-top","-0.1%","margin-left","-16px","margin-bottom","7px"],["formControlName","denomination"]],template:function(e,n){1&e&&t.YNc(0,Lr,10,8,"form",0),2&e&&t.Q6J("ngIf",n.cashWithdrawForm)},dependencies:[l.mk,l.O5,c._Y,c.JJ,c.JL,p.a8,m.xw,m.yH,S.oO,c.sg,c.u,U,V,H,K,G],styles:[".footclass[_ngcontent-%COMP%]{margin-left:-.6%;box-sizing:border-box;max-width:145%!important;margin-right:-40px}.headerclass[_ngcontent-%COMP%]{margin-left:93px}.cdcard[_ngcontent-%COMP%]{justify-content:center;margin-left:8px;margin-right:140px}"],changeDetection:0}),o})();class Ur{}function Vr(o,r){if(1&o&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function Qr(o,r){if(1&o&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function Rr(o,r){if(1&o&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}let Yr=(()=>{class o{constructor(e,n,a){this.router=e,this.formBuilder=n,this.dialogService=a,this.depositTopUp="Deposit Top Up",this.testing=[{value:"Demo",viewValue:"Demo 1"},{value:"Demo",viewValue:"Demo 2"},{value:"Demo",viewValue:"Demo 3"}]}ngOnInit(){this.depositForm=this.formBuilder.group({depositAccount:["",[c.kI.required]],revisedAmount:["",[c.kI.required]],maturityAmount:["",[c.kI.required]],payFromAccount:["",[c.kI.required]],holderName:["",[c.kI.required]],topupAmount:["",[c.kI.required]]})}goToServiceScreens(){this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-deposit-topup"]],decls:69,vars:5,consts:[[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","80%"],[1,"chequecard"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],[1,"backIcon",3,"click"],[1,"card-title"],[1,"full-width",2,"padding","0% 3% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"totalAmount"],[1,"inputCard"],["formControlName","depositAccount",1,"full-width",2,"background-color","#f9fafb"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","revisedAmount","type","text","name","revisedAmount",1,"full-width","inputClass"],["fxFlex","34%","fxFlex.xs","100%"],["matInput","","formControlName","maturityAmount","type","text","name","maturityAmount",1,"full-width","inputClass"],["layout","row"],["flex","",1,"line"],["formControlName","payFromAccount",1,"full-width",2,"background-color","#f9fafb"],["formControlName","holderName",1,"full-width",2,"background-color","#f9fafb"],["matInput","","formControlName","topupAmount","type","text","name","topupAmount",1,"full-width","inputClass"],["fxFlex","30%","fxFlex.xs","100%",2,"padding","0% 1%"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","70%","fxFlex.xs","100%",2,"padding","0% 2%"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-title",4)(5,"div",5)(6,"div")(7,"mat-icon",6),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(8,"keyboard_backspace"),t.qZA()(),t._uU(9," \xa0\xa0 "),t.TgZ(10,"div",7),t._uU(11,"Deposit Top Up"),t.qZA()()(),t.TgZ(12,"mat-card-content")(13,"div",8)(14,"form",9)(15,"div",10)(16,"div")(17,"div",11),t.ynx(18),t.TgZ(19,"div",12)(20,"mat-hint",13),t._uU(21,"Deposit Account* "),t.qZA(),t.TgZ(22,"mat-card",14)(23,"mat-select",15),t.YNc(24,Vr,2,2,"mat-option",16),t.qZA()(),t.TgZ(25,"mat-hint",13),t._uU(26,"Account Balance : $12,09470"),t.qZA()(),t.TgZ(27,"div",12)(28,"mat-hint",13),t._uU(29,"Revised Principal Amount*"),t.qZA(),t.TgZ(30,"mat-card",14),t._UZ(31,"input",17),t.qZA()(),t.TgZ(32,"div",18)(33,"mat-hint",13),t._uU(34,"Revised Maturity Amount* "),t.qZA(),t.TgZ(35,"mat-card",14),t._UZ(36,"input",19),t.qZA()(),t.BQk(),t.qZA()(),t.TgZ(37,"div")(38,"span",20),t._UZ(39,"hr",21),t.qZA()(),t.TgZ(40,"div")(41,"div",11),t.ynx(42),t.TgZ(43,"div",12)(44,"mat-hint",13),t._uU(45,"Pay from Account*"),t.qZA(),t.TgZ(46,"mat-card",14)(47,"mat-select",22),t.YNc(48,Qr,2,2,"mat-option",16),t.qZA()()(),t.TgZ(49,"div",12)(50,"mat-hint",13),t._uU(51," Holder Name* "),t.qZA(),t.TgZ(52,"mat-card",14)(53,"mat-select",23),t.YNc(54,Rr,2,2,"mat-option",16),t.qZA()()(),t.TgZ(55,"div",12)(56,"mat-hint",13),t._uU(57,"Top Up Amount*"),t.qZA(),t.TgZ(58,"mat-card",14),t._UZ(59,"input",24),t.qZA()(),t.BQk(),t.qZA()(),t.TgZ(60,"div")(61,"div",11),t.ynx(62),t.TgZ(63,"div",25)(64,"button",26),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(65,"CANCEL"),t.qZA()(),t.TgZ(66,"div",27)(67,"button",28),t.NdJ("click",function(){return n.goToAuthenticate()}),t._uU(68,"CONTINUE"),t.qZA()(),t.BQk(),t.qZA()()()()()()()()()()),2&e&&(t.xp6(14),t.Q6J("formGroup",n.depositForm),t.xp6(10),t.Q6J("ngForOf",n.testing),t.xp6(24),t.Q6J("ngForOf",n.testing),t.xp6(6),t.Q6J("ngForOf",n.testing),t.xp6(13),t.Q6J("disabled",!(n.depositForm.get("depositAccount").valid&&n.depositForm.get("revisedAmount").valid&&n.depositForm.get("maturityAmount").valid&&n.depositForm.get("payFromAccount").valid&&n.depositForm.get("holderName").valid&&n.depositForm.get("topupAmount").valid)))},dependencies:[l.sg,c._Y,c.Fj,c.JJ,c.JL,k.Hw,w.lW,p.a8,p.dn,p.n5,g.bx,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u],styles:[".fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{padding-top:8px;cursor:pointer}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:97%;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.inputClass[_ngcontent-%COMP%]{background-color:#f9fafb;border-top-style:hidden;border-right-style:hidden;border-left-style:hidden;border-bottom-style:hidden}input[_ngcontent-%COMP%]:focus{outline:none}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}"]}),o})();var at=f(7352);function Hr(o,r){if(1&o&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function Gr(o,r){if(1&o&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}let Kr=(()=>{class o{constructor(e,n,a){this.router=e,this.formBuilder=n,this.dialogService=a,this.countryFormControl=new c.NI,this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.forexTransaction="Forex Transaction",this.testing=[{value:"Demo",viewValue:"Demo 1"},{value:"Demo",viewValue:"Demo 2"},{value:"Demo",viewValue:"Demo 3"}]}ngOnInit(){this.forexForm=this.formBuilder.group({accountNumber:["",[c.kI.required]],holderName:["",[c.kI.required]],fxCurrency:[""],fxAmount:["",[c.kI.required]],negotiatedRate:["",[c.kI.required]],country:[{value:{name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},disabled:!1}]}),this.forexForm.get("country").valueChanges.subscribe(e=>console.log("this.countryFormGroup.get('country').valueChanges",e)),this.countryFormControl.valueChanges.subscribe(e=>console.log("this.countryFormControl.valueChanges",e))}onCountrySelected(e){console.log(e)}goToServiceScreens(){this.router.navigateByUrl("/others/kioskHome")}goToToken(){this.dialogService.tokenGenerationDialog()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-forex-transaction"]],decls:75,vars:5,consts:[[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","80%"],[1,"chequecard"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],[1,"backIcon",3,"click"],[1,"card-title"],[1,"full-width",2,"padding","0% 0% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"totalAmount"],[1,"inputCard"],["formControlName","accountNumber",1,"full-width",2,"background-color","#f9fafb"],[3,"value",4,"ngFor","ngForOf"],["formControlName","holderName",1,"full-width",2,"background-color","#f9fafb"],[1,"radioDiv"],["name","transactionType"],["value","buy","checked","true"],["value","sell"],["layout","row"],["flex","",1,"line"],[1,"inputCard",2,"padding","0% 6%"],["formControlName","fxCurrency","label","","appearance","none",1,"full-width","fxCurrencyClass",3,"value","onCountrySelected"],["matInput","","formControlName","fxAmount","type","text","name","fxAmount",1,"full-width","inputClass"],["matInput","","formControlName","negotiatedRate","type","text","name","accountNumber",1,"full-width","inputClass"],["fxFlex","30%","fxFlex.xs","100%",2,"padding","0% 1%"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","70%","fxFlex.xs","100%",2,"padding","0% 2%"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-title",4)(5,"div",5)(6,"div")(7,"mat-icon",6),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(8,"keyboard_backspace"),t.qZA()(),t._uU(9," \xa0\xa0 "),t.TgZ(10,"div",7),t._uU(11,"Forex Transaction"),t.qZA()()(),t.TgZ(12,"mat-card-content")(13,"div",8)(14,"form",9)(15,"div",10)(16,"div")(17,"div",11),t.ynx(18),t.TgZ(19,"div",12)(20,"mat-hint",13),t._uU(21,"Account Number*"),t.qZA(),t.TgZ(22,"mat-card",14)(23,"mat-select",15),t.YNc(24,Hr,2,2,"mat-option",16),t.qZA()(),t.TgZ(25,"mat-hint",13),t._uU(26,"Account Balance : $12,09470"),t.qZA()(),t.TgZ(27,"div",12)(28,"mat-hint",13),t._uU(29,"Holder Name*"),t.qZA(),t.TgZ(30,"mat-card",14)(31,"mat-select",17),t.YNc(32,Gr,2,2,"mat-option",16),t.qZA()()(),t.TgZ(33,"div",12)(34,"mat-hint",13),t._uU(35," Transaction Type*"),t.qZA(),t.TgZ(36,"div",18)(37,"mat-radio-group",19)(38,"mat-radio-button",20),t._uU(39,"Buy"),t.qZA(),t._uU(40," \xa0 \xa0 "),t.TgZ(41,"mat-radio-button",21),t._uU(42,"Sell"),t.qZA()()()(),t.BQk(),t.qZA()(),t.TgZ(43,"div")(44,"span",22),t._UZ(45,"hr",23),t.qZA()(),t.TgZ(46,"div")(47,"div",11),t.ynx(48),t.TgZ(49,"div",12)(50,"mat-hint",13),t._uU(51,"FX Currency*"),t.qZA(),t.TgZ(52,"mat-card",24)(53,"mat-select-country",25),t.NdJ("onCountrySelected",function(i){return n.onCountrySelected(i)}),t.qZA()()(),t.TgZ(54,"div",12)(55,"mat-hint",13),t._uU(56," FX Amount* "),t.qZA(),t.TgZ(57,"mat-card",14),t._UZ(58,"input",26),t.qZA()(),t.TgZ(59,"div",12)(60,"mat-hint",13),t._uU(61,"Negotiated Rate*"),t.qZA(),t.TgZ(62,"mat-card",14),t._UZ(63,"input",27),t.qZA(),t.TgZ(64,"mat-hint",13),t._uU(65,"Exchange Rate : 0.89"),t.qZA()(),t.BQk(),t.qZA()(),t.TgZ(66,"div")(67,"div",11),t.ynx(68),t.TgZ(69,"div",28)(70,"button",29),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(71,"CANCEL"),t.qZA()(),t.TgZ(72,"div",30)(73,"button",31),t.NdJ("click",function(){return n.goToToken()}),t._uU(74,"CONTINUE"),t.qZA()(),t.BQk(),t.qZA()()()()()()()()()()),2&e&&(t.xp6(14),t.Q6J("formGroup",n.forexForm),t.xp6(10),t.Q6J("ngForOf",n.testing),t.xp6(8),t.Q6J("ngForOf",n.testing),t.xp6(21),t.Q6J("value",n.defaultValue),t.xp6(20),t.Q6J("disabled",!(n.forexForm.get("accountNumber").valid&&n.forexForm.get("holderName").valid&&n.forexForm.get("fxCurrency").valid&&n.forexForm.get("fxAmount").valid&&n.forexForm.get("negotiatedRate").valid)))},dependencies:[l.sg,c._Y,c.Fj,c.JJ,c.JL,k.Hw,w.lW,p.a8,p.dn,p.n5,J.VQ,J.U0,g.bx,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u,at.ZP],styles:[".fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{padding-top:8px;cursor:pointer}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:940px;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.heightAdjust[_ngcontent-%COMP%]{padding:0 0 0 10px}.inputClass[_ngcontent-%COMP%]{background-color:#f9fafb;border-top-style:hidden;border-right-style:hidden;border-left-style:hidden;border-bottom-style:hidden}input[_ngcontent-%COMP%]:focus{outline:none}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}.radioDiv[_ngcontent-%COMP%]{padding-top:24px;padding-left:1rem}  .mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#00f!important}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#00f!important}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#00f!important}[_nghost-%COMP%]     mat-radio-button>label>span>span.mat-radio-outer-circle{border:1px solid white;box-shadow:1px 3px 6px #e1e1e2}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}"]}),o})();function Wr(o,r){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"img",20),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.s9C("src",e.image,t.LSH),t.Q6J("ngClass","Cash Withdrawal"==e.title||"Traveler Cheque"==e.title?"image1":"image2")}}function Er(o,r){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"img",20),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.s9C("src",e.srcimage2,t.LSH),t.Q6J("ngClass","Cash Withdrawal"==e.title||"Traveler Cheque"==e.title?"image1":"image2")}}function zr(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw();return t.KtG(s.goToOperations(i))}),t.TgZ(1,"mat-card",16),t.NdJ("mouseover",function(){const i=t.CHM(e).$implicit;return t.KtG(i.flag=!0)})("mouseleave",function(){const i=t.CHM(e).$implicit;return t.KtG(i.flag=!1)}),t.YNc(2,Wr,2,2,"div",17),t.YNc(3,Er,2,2,"div",17),t.TgZ(4,"mat-card-content",18),t._uU(5),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf",e.flag),t.xp6(1),t.Q6J("ngIf",!e.flag),t.xp6(1),t.Q6J("ngClass","Cash Withdrawal"==e.title||"Traveler Cheque"==e.title?"matcontentcard1":"matcontentcard2"),t.xp6(1),t.hij(" ",e.title,"")}}let jr=(()=>{class o{constructor(e,n,a){this.router=e,this.dataService=n,this.dialogService=a,this.isSelect=!1,this.active={},this.folders=[{title:"Cash Withdrawal",id:1,flag:!1,link:"others/cw-cash-withdrawal",image:"assets/images/cashwithdrawalService.png",srcimage2:"assets/images/cashwithdrawlService2.png"},{title:"Cash Deposit",id:2,flag:!1,link:"others/cd-cash-deposit",image:"assets/images/cashDepositService2.png",srcimage2:"assets/images/cashDepositService.png"},{title:"Cheque Withdrawal",id:4,flag:!1,link:"others/cheq-withdrawal",image:"assets/images/chequewithdralService2.png",srcimage2:"assets/images/chequewithdrawalService.png"},{title:"Cheque Deposit",id:3,flag:!1,link:"others/cheq-deposit",image:"assets/images/chequedepositService2.png",srcimage2:"assets/images/chequedepositService.png"},{title:"Forex Transaction",id:5,flag:!1,link:"others/forex-service",image:"assets/images/forexService2.png",srcimage2:"assets/images/forexService.png"},{title:"Deposit Top Up",id:6,flag:!1,link:"others/deposit-topup",image:"assets/images/deposittopup2.png",srcimage2:"assets/images/deposittopup.png"},{title:"Utility Bill Payment",id:7,flag:!1,link:"others/utility-billpayment",image:"assets/images/utilityService2.png",srcimage2:"assets/images/utilityService.png"},{title:"Traveler Cheque",id:8,flag:!1,link:"others/loan-payment",image:"assets/images/travelercheque2.png",srcimage2:"assets/images/travelercheque.png"},{title:"Loan Payment",id:9,flag:!1,link:"others/loan-repayment",image:"assets/images/loanpayment2.png",srcimage2:"assets/images/loanPayment.png"},{title:"Loan Disbursement",id:10,flag:!1,link:"others/loan-disburshment",image:"assets/images/loanpayment2.png",srcimage2:"assets/images/loanPayment.png"}]}ngOnInit(){this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),console.log(this.custNameFromLogin),null!=this.custNameFromLogin&&(console.log(this.folders),this.folders=this.folders.filter(e=>"Cash Withdrawal"!==e.title),this.folders=this.folders.filter(e=>"Loan Disbursement"!==e.title),console.log(this.folders))}OnSelect(){this.isSelect=!0}goToService(e){console.log(e),this.active!==e&&(this.active=e,this.folders.forEach(n=>{n.flag=!1})),this.folders[e].flag=!this.folders[e].flag}goToOperations(e){console.log(e,this.active),this.active!==e&&(this.active=e,this.folders.forEach(n=>{n.flag=!1})),console.log(this.folders[e].flag),this.folders[e].flag=!this.folders[e].flag,console.log(this.folders[e].flag),console.log(this.folders),this.enableList=this.folders.filter(n=>!0===n.flag),console.log(this.enableList),this.dataService.sendNavParam(this.enableList[0].title),console.log(this.enableList),console.log(this.enableList[0].title),localStorage.setItem("trnType",this.enableList[0].title),this.timer=setTimeout(()=>{this.router.navigateByUrl(`/${this.enableList[0].link}`)},200),localStorage.setItem("chq_page",this.enableList[0].title)}contiueButton(){return this.enableList=this.folders.filter(e=>!0===e.flag),this.enableList.length>0}clickExit(){this.dialogService.clickExit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(P.D),t.Y36(T.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-kiosk-homepage"]],decls:20,vars:2,consts:[[1,"mainDiv"],["fxLayoutAlign","start center"],["fxFlex","80%",1,"titleCard"],[1,"header_content"],[1,"headtitle"],[1,"headContent"],[1,"header_image"],["src","assets/images/home-header.png","alt",""],["fxLayout","column wrap","fxLayoutAlign","start end","fxLayoutGap","1%",1,"servicecards"],["fxLayout","row wrap","fxLayoutAlign"," start end","fxLayoutGap","1.3%",1,"contentDiv"],["class","card_box",3,"click",4,"ngFor","ngForOf"],["fxLayout","row"],["fxLayoutGap","20px",1,"full-width",2,"margin-left","4.5%"],["mat-flat-button","",1,"continue",3,"ngClass"],["mat-flat-button","",1,"exitBtn",3,"click"],[1,"card_box",3,"click"],[1,"contentCard1",3,"mouseover","mouseleave"],["fxLayoutAlign","center",4,"ngIf"],["fxLayoutAlign","center",3,"ngClass"],["fxLayoutAlign","center"],["alt","",3,"ngClass","src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div",3)(4,"span",4),t._uU(5,"Services"),t.qZA(),t.TgZ(6,"div",5),t._uU(7," Services related to core banking applications. Through this, you can access all the Service "),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"img",7),t.qZA()()(),t.TgZ(10,"div")(11,"div",8)(12,"div",9),t.YNc(13,zr,6,4,"div",10),t.qZA()(),t.TgZ(14,"div",11)(15,"div",12)(16,"button",13),t._uU(17," Continue "),t.qZA(),t.TgZ(18,"button",14),t.NdJ("click",function(){return n.clickExit()}),t._uU(19," Exit "),t.qZA()()()()()),2&e&&(t.xp6(13),t.Q6J("ngForOf",n.folders),t.xp6(3),t.Q6J("ngClass",n.contiueButton()?"buttonActive":"buttonPassive"))},dependencies:[l.mk,l.sg,l.O5,w.lW,p.a8,p.dn,m.xw,m.SQ,m.Wh,m.yH,S.oO],styles:[".mainDiv[_ngcontent-%COMP%]{margin-top:-3%;height:800px}.titleCard[_ngcontent-%COMP%]{background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;border-radius:20px;opacity:1;display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;overflow:unset;margin:38px auto 0 98px}.titleCard[_ngcontent-%COMP%]   .header_content[_ngcontent-%COMP%]{width:75%}.titleCard[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]{width:25%;position:relative}.titleCard[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;position:absolute;right:12px;top:0;transform:translateY(-60%)}.headtitle[_ngcontent-%COMP%]{top:175px;left:148px;text-align:left;font-size:32px;font-family:SFPro;letter-spacing:0px;color:#fff;opacity:1}.headContent[_ngcontent-%COMP%]{min-height:48px;text-align:left;font-size:15px;font-family:SFPro;letter-spacing:0px;color:#fff;opacity:.87;width:64%}.contentCard1[_ngcontent-%COMP%]{top:12px;width:160px;height:140px;background:#fffefe 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:18px;opacity:1}.contentCard1[_ngcontent-%COMP%]:hover{border-radius:20px;min-width:13.5%;cursor:pointer;border-top:#fa6500 solid 12px}.contentCard1[_ngcontent-%COMP%]:hover   .matIconColor[_ngcontent-%COMP%]{color:#1d5286}.contentDiv[_ngcontent-%COMP%]{height:10%;width:95.7%}.contentCard2[_ngcontent-%COMP%]{top:10px;width:130px;height:130px;background:#fffefe 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:18px;opacity:1}.image1[_ngcontent-%COMP%]{margin-top:10%;margin-left:10px;max-width:60px!important}.mat-card[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child:not(.header_content), .mat-card-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child:not(.header_content){width:43px!important;margin-left:30%!important}.matcontentcard1[_ngcontent-%COMP%]{margin-top:42%;font-size:10px;font-weight:700}.matcontentcard2[_ngcontent-%COMP%]{margin-top:30%;font-size:10px;font-weight:700}.buttonActive[_ngcontent-%COMP%]{border-radius:20px;width:60%;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;color:#fff;font-family:sans-serif}.buttonPassive[_ngcontent-%COMP%]{border-radius:20px;width:60%;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:37.5%;background-color:#fff;color:#e50000;font-family:sans-serif;box-shadow:0 3px 15px #0000001a}.matTitle[_ngcontent-%COMP%]{background-color:#fa6500}.card_box[_ngcontent-%COMP%]{position:relative;width:20.7%;margin-left:-2%}.contentCardBorder[_ngcontent-%COMP%]{width:150px;height:130px;background:#fffefe 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:18px;opacity:1;position:absolute;transform:translateY(-10px)}.continue[_ngcontent-%COMP%]{width:45.5%!important;margin-left:38px!important;margin-top:30px}.servicecards[_ngcontent-%COMP%]{margin-left:4.6%;margin-right:6.5%}"]}),o})();function $r(o,r){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function Xr(o,r){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function tc(o,r){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}let ec=(()=>{class o{constructor(e,n,a){this.router=e,this.formBuilder=n,this.dialogService=a,this.loanPayment="Loan Payment",this.testing=[{value:"Demo",viewValue:"Demo 1"},{value:"Demo",viewValue:"Demo 2"},{value:"Demo",viewValue:"Demo 3"}]}ngOnInit(){this.loanpaymentForm=this.formBuilder.group({loanAccount:["",[c.kI.required]],currentArrears:["",[c.kI.required]],currentDue:["",[c.kI.required]],principalOutstanding:["",[c.kI.required]],payFromAccount:["",[c.kI.required]],holderName:["",[c.kI.required]],repaymentAmount:["",[c.kI.required]]})}goToServiceScreens(){this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-loan-payment"]],decls:74,vars:5,consts:[[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","80%"],[1,"chequecard"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],[1,"backIcon",3,"click"],[1,"card-title"],[1,"full-width",2,"padding","0% 3% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","31%","fxFlex.xs","100%"],[1,"totalAmount"],[1,"firstCard"],["formControlName","loanAccount",1,"full-width",2,"background-color","#f9fafb"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","23%","fxFlex.xs","100%"],[1,"loanCard"],["matInput","","formControlName","currentArrears","type","text","name","currentArrears",1,"full-width","inputClass"],["matInput","","formControlName","currentDue","type","text","name","currentDue",1,"full-width","inputClass"],["matInput","","formControlName","principalOutstanding","type","text","name","principalOutstanding",1,"full-width","inputClass"],["layout","row"],["flex","",1,"line"],["fxFlex","33%","fxFlex.xs","100%"],[1,"inputCard"],["formControlName","payFromAccount",1,"full-width",2,"background-color","#f9fafb"],["formControlName","holderName",1,"full-width",2,"background-color","#f9fafb"],["fxFlex","34%","fxFlex.xs","100%"],["matInput","","formControlName","repaymentAmount","type","text","name","repaymentAmount",1,"full-width","inputClass"],["fxFlex","30%","fxFlex.xs","100%",2,"padding","0% 1%"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","70%","fxFlex.xs","100%",2,"padding","0% 2%"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-title",4)(5,"div",5)(6,"div")(7,"mat-icon",6),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(8,"keyboard_backspace"),t.qZA()(),t._uU(9," \xa0\xa0 "),t.TgZ(10,"div",7),t._uU(11,"Loan Payment"),t.qZA()()(),t.TgZ(12,"mat-card-content")(13,"div",8)(14,"form",9)(15,"div",10)(16,"div")(17,"div",11),t.ynx(18),t.TgZ(19,"div",12)(20,"mat-hint",13),t._uU(21,"Loan Account*"),t.qZA(),t.TgZ(22,"mat-card",14)(23,"mat-select",15),t.YNc(24,$r,2,2,"mat-option",16),t.qZA()()(),t.TgZ(25,"div",17)(26,"mat-hint",13),t._uU(27,"Current Arrears*"),t.qZA(),t.TgZ(28,"mat-card",18),t._UZ(29,"input",19),t.qZA()(),t.TgZ(30,"div",17)(31,"mat-hint",13),t._uU(32,"Current Due*"),t.qZA(),t.TgZ(33,"mat-card",18),t._UZ(34,"input",20),t.qZA()(),t.TgZ(35,"div",17)(36,"mat-hint",13),t._uU(37,"Principal Outstanding* "),t.qZA(),t.TgZ(38,"mat-card",18),t._UZ(39,"input",21),t.qZA()(),t.BQk(),t.qZA()(),t.TgZ(40,"div")(41,"span",22),t._UZ(42,"hr",23),t.qZA()(),t.TgZ(43,"div")(44,"div",11),t.ynx(45),t.TgZ(46,"div",24)(47,"mat-hint",13),t._uU(48,"Pay from Account*"),t.qZA(),t.TgZ(49,"mat-card",25)(50,"mat-select",26),t.YNc(51,Xr,2,2,"mat-option",16),t.qZA()(),t.TgZ(52,"mat-hint",13),t._uU(53,"Account Balance : $12,09,98"),t.qZA()(),t.TgZ(54,"div",24)(55,"mat-hint",13),t._uU(56,"Holder Name* "),t.qZA(),t.TgZ(57,"mat-card",25)(58,"mat-select",27),t.YNc(59,tc,2,2,"mat-option",16),t.qZA()()(),t.TgZ(60,"div",28)(61,"mat-hint",13),t._uU(62,"Repayment Amount* "),t.qZA(),t.TgZ(63,"mat-card",25),t._UZ(64,"input",29),t.qZA()(),t.BQk(),t.qZA()(),t.TgZ(65,"div")(66,"div",11),t.ynx(67),t.TgZ(68,"div",30)(69,"button",31),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(70,"CANCEL"),t.qZA()(),t.TgZ(71,"div",32)(72,"button",33),t.NdJ("click",function(){return n.goToAuthenticate()}),t._uU(73,"CONTINUE"),t.qZA()(),t.BQk(),t.qZA()()()()()()()()()()),2&e&&(t.xp6(14),t.Q6J("formGroup",n.loanpaymentForm),t.xp6(10),t.Q6J("ngForOf",n.testing),t.xp6(27),t.Q6J("ngForOf",n.testing),t.xp6(8),t.Q6J("ngForOf",n.testing),t.xp6(13),t.Q6J("disabled",!(n.loanpaymentForm.get("loanAccount").valid&&n.loanpaymentForm.get("currentArrears").valid&&n.loanpaymentForm.get("currentDue").valid&&n.loanpaymentForm.get("principalOutstanding").valid&&n.loanpaymentForm.get("payFromAccount").valid&&n.loanpaymentForm.get("holderName").valid&&n.loanpaymentForm.get("repaymentAmount").valid)))},dependencies:[l.sg,c._Y,c.Fj,c.JJ,c.JL,k.Hw,w.lW,p.a8,p.dn,p.n5,g.bx,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u],styles:[".fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{padding-top:8px;cursor:pointer}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:97%;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%], .firstCard[_ngcontent-%COMP%], .loanCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.inputClass[_ngcontent-%COMP%]{background-color:#f9fafb;border-top-style:hidden;border-right-style:hidden;border-left-style:hidden;border-bottom-style:hidden}input[_ngcontent-%COMP%]:focus{outline:none}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}"]}),o})();const nc=["cdForm"];function oc(o,r){1&o&&t._UZ(0,"input",43),2&o&&t.Q6J("readonly",!0)}function ac(o,r){if(1&o&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.Oqu(e.accountType)}}function ic(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",44),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,ac,2,2,"mat-option",45),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function rc(o,r){if(1&o&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function cc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",47),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.fetchByAccountNum(a.value))}),t.YNc(1,rc,2,2,"mat-option",45),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accountNoList)}}function sc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",36)(1,"mat-form-field",37)(2,"mat-label"),t._uU(3,"Account Type*"),t.qZA(),t.YNc(4,oc,1,1,"input",38),t.YNc(5,ic,2,1,"mat-select",39),t.qZA(),t.TgZ(6,"mat-form-field",40)(7,"mat-label"),t._uU(8,"Account Number*"),t.qZA(),t.TgZ(9,"input",41),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.cashdepositForm.get("accountNumber").value))}),t.qZA(),t.YNc(10,cc,2,1,"mat-select",42),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown),t.xp6(5),t.Q6J("ngIf",e.flag1)}}function uc(o,r){if(1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Holder Name "),t.qZA(),t.TgZ(3,"p",19),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.userName)}}function lc(o,r){if(1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Account Balance "),t.qZA(),t.TgZ(3,"p",19),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.AsE("",e.curr,"",e.formatAmount(e.accountBal),"")}}function mc(o,r){1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Account Branch "),t.qZA(),t.TgZ(3,"p",19),t._uU(4,"Gayathri"),t.qZA()())}function hc(o,r){1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Account currency "),t.qZA(),t.TgZ(3,"p",19),t._uU(4,"Gayathri"),t.qZA()())}function dc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",36)(1,"mat-form-field",40)(2,"mat-label"),t._uU(3,"Account Number*"),t.qZA(),t.TgZ(4,"input",50),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.cashdepositForm.get("accountNumber").value))}),t.qZA()(),t.TgZ(5,"mat-form-field",37)(6,"mat-label"),t._uU(7,"Account Type*"),t.qZA(),t._UZ(8,"input",43),t.qZA()()}2&o&&(t.xp6(8),t.Q6J("readonly",!0))}function pc(o,r){1&o&&t._UZ(0,"input",54),2&o&&t.Q6J("readonly",!0)}function gc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",57),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",16)(2,"div",58),t._uU(3),t.qZA(),t.TgZ(4,"div",59),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function _c(o,r){if(1&o&&(t.TgZ(0,"mat-select",55),t.YNc(1,gc,6,5,"mat-option",56),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function fc(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",37)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",51),t._UZ(4,"div"),t.qZA(),t.YNc(5,pc,1,1,"input",52),t.YNc(6,_c,2,2,"mat-select",53),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(1),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function Cc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",57),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",16)(2,"div",58),t._uU(3),t.qZA(),t.TgZ(4,"div",59),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function xc(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",37)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",51),t._UZ(4,"div"),t.qZA(),t.TgZ(5,"mat-select",60),t.YNc(6,Cc,6,5,"mat-option",56),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngForOf",e.countryValues)}}function yc(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function vc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",61)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.TgZ(3,"input",62,63),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(5,"number"),t.qZA(),t.YNc(6,yc,2,0,"mat-error",64),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.transAmount)("value",t.xi3(5,3,e.transAmt,"2.")),t.xp6(3),t.Q6J("ngIf",null==e.cashdepositForm.get("transactionAmount").errors?null:e.cashdepositForm.get("transactionAmount").errors.min)}}function Tc(o,r){1&o&&t._UZ(0,"input",67),2&o&&t.Q6J("readonly",!0)}function Ac(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",68,63),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(2,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(2,3,e.transAmt,"1."))("readonly",e.isedit)}}function bc(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function wc(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",61)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.YNc(3,Tc,1,1,"input",65),t.YNc(4,Ac,3,6,"input",66),t.YNc(5,bc,2,0,"mat-error",64),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.cashdepositForm.get("transactionAmount").errors?null:e.cashdepositForm.get("transactionAmount").errors.min)}}function Ic(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function Nc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",80)(1,"div",81)(2,"p",82),t._uU(3,"2000"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"div")(10,"input",86,87),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(12,"div",88),t.YNc(13,Ic,2,1,"mat-error",64),t.qZA()()()}if(2&o){const e=t.MAs(11),n=t.oxw(2);t.xp6(13),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[2e3])}}function kc(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function qc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"500"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",90,91),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,kc,2,1,"mat-error",64),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[500])}}function Zc(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function Fc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"200"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",92,93),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Zc,2,1,"mat-error",64),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[200])}}function Dc(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function Mc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"100"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",94,95),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Dc,2,1,"mat-error",64),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[100])}}function Oc(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function Pc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"50"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",96,97),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Oc,2,1,"mat-error",64),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[50])}}function Bc(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function Sc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"20"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",98,99),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Bc,2,1,"mat-error",64),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[20])}}function Lc(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function Jc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"10"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",100,101),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Lc,2,1,"mat-error",64),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[10])}}function Uc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"1"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",102,101),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()()()}}function Vc(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Total amount should be equal to ",e.cashdepositForm.value.transactionAmount," ")}}function Qc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",69)(1,"form",null,70)(3,"mat-card-title",71),t._uU(4,"Denomination"),t.qZA(),t.TgZ(5,"div",72),t.YNc(6,Nc,14,1,"div",73),t.YNc(7,qc,13,1,"div",74),t.YNc(8,Fc,13,1,"div",74),t.YNc(9,Mc,13,1,"div",74),t.YNc(10,Pc,13,1,"div",74),t.YNc(11,Sc,13,1,"div",74),t.YNc(12,Jc,13,1,"div",74),t.YNc(13,Uc,11,0,"div",74),t.qZA(),t.TgZ(14,"div",75)(15,"div",76)(16,"p",49),t._uU(17,"Total Amount"),t.qZA(),t.TgZ(18,"mat-card",77)(19,"input",78),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmount=a)}),t.qZA()(),t.TgZ(20,"div",79),t.YNc(21,Vc,2,1,"mat-error",64),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.transactionCurrency||"AED"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.transactionCurrency||"AED"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.accountCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashdepositForm.value.transactionCurrency||"USD"==e.cashdepositForm.value.transactionCurrency||"AED"==e.cashdepositForm.value.transactionCurrency),t.xp6(6),t.Q6J("ngModel",e.totalAmount),t.xp6(2),t.Q6J("ngIf",e.enableBtn1)}}let Rc=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.dialog=s,this.cdr=u,this.ls=h,this.snack=d,this.changeDef=_,this.titleName="Cash Deposit",this.accType=["Savings","Deposit"],this.customerName=["Jane Smith","John Smith"],this.productCode="CHD",this.tokenOrigin="Kiosk",this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.ifQRvariable=!1,this.accounttypeArray=[],this.idList=[],this.tokenObjects=new R,this.isedit=!0,this.oTpModel=new M.m,this.enableContinue=!0,this.showAccountNum=!0,this.showAccoutType=!0,this.currencyImage="",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.hideDetails=!1,this.accountNoList=[],this.isLoading=!1,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),"New Customer"==this.custValidation&&(this.showAccountNum=!1,this.showAccoutType=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log("QRData",this.qrData),this.cashdepositForm=this.formBuilder.group({totalAmount:["",c.kI.required],transactionId:["",[c.kI.required]],customerId:["",[c.kI.required]],accountType:["",[c.kI.required]],accountNumber:["",[c.kI.required]],holderName:["",[c.kI.required]],accountCurrency:["",[c.kI.required]],transactionCurrency:["",[c.kI.required]],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],transactionAmount:["",[c.kI.required,c.kI.min(.1)]],productCode:["CHD",[c.kI.required]],tokenOrigin:["Kiosk",[c.kI.required]],createdBy:["",[c.kI.required]],createdTime:["",[c.kI.required]],modifiedBy:["",[c.kI.required]],modifiedTime:["",[c.kI.required]],recordStatus:["",[c.kI.required]],authStatus:["",[c.kI.required]],version:["",[c.kI.required]],accountBranch:["",[c.kI.required]],transactionBranch:["",[c.kI.required]]}),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.gettingallTansactionDetails(this.phoneNumber)),null!=this.qrData&&(this.ifQRvariable=!0,console.log("Account",this.qrData.accountId),this.cashdepositForm.controls.holderName.setValue(this.qrData.holderName),this.cashdepositForm.controls.accountType.setValue(this.qrData.accountType),this.cashdepositForm.controls.accountNumber.setValue(this.qrData.accountId),this.getChargeDetails(this.qrData.accountId,""),this.cashdepositForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.cashdepositForm.controls.accountCurrency.setValue(this.qrData.accountCurrency),this.cashdepositForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),this.accountBal=this.qrData.accountBalance,this.customerID=this.qrData.customerId,this.currencyImage="currency-flag-"+this.qrData.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),this.cashdepositForm.controls.transactionBranch.setValue(null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.qrData.transactionBranch:"Kasturi Nagar"),this.getAccountBranch()),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),this.appointmentId.data.appointmentId&&this.cashWithdrawlData()}fetchByAccountNum(e){this.cashdepositForm.controls.transactionAmount.reset(),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.cashdepositForm.controls.totalChargeAmount.value),console.log("Account Numebr",e),this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.curr=(0,l.jK)(n.currency,"narrow"),this.cashdepositForm.controls.accountType.setValue(n.accountType),this.cashdepositForm.controls.accountCurrency.setValue(n.currency),this.cashdepositForm.controls.accountBranch.setValue(n.accountBranch),this.cashdepositForm.controls.holderName.setValue(this.userName),this.getCountrynameValues(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.cashdepositForm.controls.transactionCurrency.setValue(n.currency),this.custAmountBal(e),this.cashdepositForm.controls.transactionBranch.setValue("Kasturi Nagar"),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e})}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName,console.log(this.branch)})})}onCountrySelected(e){console.log(e)}goToServiceScreens(){this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.cashdepositForm.controls.holderName.setValue(this.userName),this.custID=n.customerId,this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1));for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.cashdepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.cashdepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0]))})}getAccountType(e){this.cashdepositForm.controls.transactionAmount.reset(),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.cashdepositForm.controls.totalChargeAmount.value),this.accountNoList=[],console.log(e),this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e),console.log(this.accountNum1);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.getData(this.accountNoList[0])):(this.getData(this.accountNoList[0]),this.flag1=!0),this.getChargeDetails(this.accountNoList[0],"")}getData(e){this.hideDetails=!0,console.log(e);let n=this.accountNum1.filter(a=>a.accountId==e);console.log(n),this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.cashdepositForm.controls.accountCurrency.setValue(n[0].accountCurrency),this.cashdepositForm.controls.accountBranch.setValue(this.branch),this.selected=n[0].accountCurrency,this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.cashdepositForm.controls.transactionCurrency.setValue(n[0].accountCurrency),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),this.accountBal=this.idList[0].amount,console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.idList[0].accountId),this.cashdepositForm.controls.accountNumber.setValue(n[0].accountId),this.getChargeDetails(n[0].accountId,""),this.cashdepositForm.controls.accountBranch.setValue(n[0].accountBranch)}custAccountNumber(e){console.log(e),this.isedit=!1,this.idList=[...this.custAccountData].filter(a=>a.accountType===e.accountType),this.accountNoList=[];for(let a=0;a<this.idList.length;a++)"APPROVED"==this.idList[a].status&&this.accountNoList.push(this.idList[a].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.cashdepositForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.cashdepositForm.controls.accountNumber.setValue(this.accountNoList[0]),this.flag1=!0),this.cashdepositForm.controls.accountCurrency.setValue(e.accountCurrency),this.cashdepositForm.controls.accountBranch.setValue(this.branch),this.selected=e.accountCurrency,this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.cashdepositForm.controls.transactionCurrency.setValue(e.accountCurrency),console.log(this.cashdepositForm.value.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.accountNoList[0]),this.cashdepositForm.controls.accountBranch.setValue(e.accountBranch),this.getChargeDetails(this.accountNoList[0],e.amount)}custAmountBal(e){console.log(e);var n=this.idList.filter(function(a){if(a.accountId==e)return a});console.log(n),this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0],console.log(this.selectedAccountInfo)}setBalance(e,n=0){this.accountBal=e[n].currentBalance?e[n].currentBalance:null}onSaveofcashDeposit(e,n,a){e.transactionBranch=this.transBranch,console.log("Data",e,n,a),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(u=>{this.qrBranchCode=u});let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashdepositForm.value.transactionCurrency,s.push(i),console.log(s),i={});e.tokenBranch="KN",this.qrData&&this.qrData.transactionBranch&&(e.tokenBranch=this.qrBranchCode.transactionBranch),this.ifQRvariable?(e.customerId=this.custID,e.accountType=e.accountType,e.accountNumber=e.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)):(this.accountNum=JSON.stringify(this.selectedAccountInfo.accountId),e.transactionCurrency=e.transactionCurrency,e.accountNumber=this.selectedAccountInfo.accountId,e.customerId=this.custID,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.accountType=e.accountType,"yes"==this.denomRequired&&(e.denomination=s),localStorage.setItem("AccountNumber",this.accountNum),localStorage.setItem("ProductCode",this.productCode)),console.log("data::",this.appointmentId),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success",u),this.cashDepositResponse=u,this.tokenNum=this.cashDepositResponse.tokenNumber,this.estimatedTime=this.cashDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashDepositResponse&&this.dialogService.tokenGenerationDialog()})}getOTP(e,n,a){this.cashdepositValues=e,this.cashdeposiform=n,this.cashdepositType=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum;let s=this.cashdepositValues.transactionAmount.replace(/,/g,"");console.log(s),s>5e4?this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}):this.getOTPforSave(this.cashdepositValues,this.cashdeposiform,this.cashdepositType)}getOTPforSave(e,n,a){e.transactionBranch=this.transBranch;let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashdepositForm.value.transactionCurrency,s.push(i),console.log(s),i={});"New Customer"==this.custValidation&&(console.log("customer",this.custmerID),this.transactionId=localStorage.getItem("transactionId"),this.transactionStatus=localStorage.getItem("transactionStatus"),this.accountNum=e.accountNumber,e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)),e.tokenBranch="KN",this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,console.log(e.transactionId,e.transactionStatus),this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success",u),this.cashDepositResponse=u,this.tokenNum=this.cashDepositResponse.tokenNumber,this.estimatedTime=this.cashDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashDepositResponse&&this.dialogService.tokenGenerationDialog()})}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.cashdepositValues,this.cashdeposiform,this.cashdepositType)})}OnInput(e){this.transAmt=e.target.value,console.log(e.target.value),this.totalAmount=0;const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),parseFloat(this.balance)<parseFloat(this.transAmt)?(console.log("Bigger"),this.snack.open("Transaction Amount should not exceed than Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right"}),this.enableContinue=!1):this.enableContinue=!0,this.totalTransAmount=Number(this.transAmt)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),this.cdr.markForCheck(),this.cdr.detectChanges()}clicked(e){console.log(e)}addCurrencyImage(e){return e.toLowerCase()}onCountryChange(e){this.currencyImage="currency-flag-"+e.currencyCode.toLowerCase()}accountCurrencyImage(e){return e?"currency-flag-"+e.toLowerCase():""}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){this.a=this.cashdepositForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.cashdepositForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.cashdepositForm.value.totalAmount=this.cashdepositForm.value.totalAmount,console.log(this.cashdepositForm.value.totalAmount),console.log(this.cashdepositForm.value.transactionAmount),this.transamount=this.cashdepositForm.value.transactionAmount,this.totalAmount=this.cashdepositForm.value.totalAmount.toLocaleString("en-US"),this.enableBtn=this.transamount==this.totalAmount,this.enableBtn1=this.transamount>this.totalAmount||this.transamount<this.totalAmount,this.cashdepositForm.controls.totalAmount.setValue(this.cashdepositForm.value.totalAmount)}cashWithdrawlData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log("resp ::",e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.cashdepositForm.controls.accountType.setValue(e.data.accountType),this.cashdepositForm.controls.accountBranch.setValue(e.data.accountBranch),this.cashdepositForm.controls.accountNumber.setValue(e.data.accountNumber),this.getChargeDetails(e.data.accountNumber,e.data.transactionAmount),this.cashdepositForm.controls.accountCurrency.setValue(e.data.accountCurrency),this.cashdepositForm.controls.transactionCurrency.setValue(e.data.transactionCurrency),this.cashdepositForm.controls.transactionAmount.setValue(e.data.transactionAmount),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+e.data.transactionCurrency.toLowerCase(),console.log("amount::",this.cashdepositForm.controls.transactionAmount.value)})}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{console.log(a),this.chargeDetails=a,this.cashdepositForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails[0].amount),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(0),setTimeout(()=>{this.totalTransAmount=Number(0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.cashdepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}onclickofConfirm(e){let n={},a=[];for(let i=0;i<this.denomCodeArray.length;i++)e.value[this.denomCodeArray[i].key]&&(n.denominationKey=this.denomCodeArray[i].value,n.denominationValue=+e.value[this.denomCodeArray[i].key],n.currency=this.cashDepositResponse.value.transactionCurrency,a.push(n),console.log(a),n={})}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1)})}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-newcashdeposit"]],viewQuery:function(e,n){if(1&e&&t.Gf(nc,5),2&e){let a;t.iGM(a=t.CRH())&&(n.cdForm=a.first)}},inputs:{tokenResp:"tokenResp"},decls:56,vars:16,consts:[[2,"margin-top","-4%"],["fxLayout","row","fxLayoutGap","20px",2,"color","#000000","padding-left","5%"],[2,"cursor","pointer",3,"click"],[2,"font-weight","bold"],["fxLayout","row wrap","fxFlexFill","","fxLayoutGap","1px","fxLayoutAlign","center",2,"padding-left","4%"],["fxFlex","100%",3,"formGroup"],["fxFlex","calc(33%-25px)","fxLayout","column"],[1,"accinfo",2,"font-size","22px","color","#004C97","margin-left","1%"],["fxFlex","calc(13%-25px)",1,"accountInfoCard"],["fxLayoutGap","50px",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","10%",2,"margin-left","2%"],["fxLayout","column",4,"ngIf"],[1,"accinfo"],["fxLayoutGap","50px",2,"margin-left","1%"],["appearance","outline","style","border-radius: 12px;","fxFlex","35%",4,"ngIf"],["appearance","outline","style","border-radius: 12px;","fxFlex","55%",4,"ngIf"],["fxLayout","row wrap"],["fxLayout","column","fxFlex","36%"],["matInput","","readonly","","placeholder","Negotiated rate"],[1,"hint"],["fxFlex","25%",1,"chargebox"],["matInput","","readonly","","formControlName","totalChargeAmount","placeholder","Total Charge Amount",1,"full-width"],["fxFlex","25%","fxLayout","row",2,"height","45%"],["matInput","","type","text","readonly","","onlyNumber","","formControlName","totalTransactionAmount","placeholder","Total Charge Amount"],[1,"tooltip"],["width","80%",3,"src"],[1,"tooltiptext"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],["fxFlex","30%",4,"ngIf"],["fxLayout","row"],["fxLayoutAlign","center","fxLayoutGap","20px",1,"full-width"],["mat-flat-button","",1,"backBtn"],["mat-flat-button","",1,"continueBtn"],["mat-flat-button","",1,"exitBtn"],["fxLayoutGap","50px"],["appearance","outline","fxFlex","35%",2,"border-radius","12px"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType","style","background-color: #f9fafb;","placeholder","Select Account Type",3,"selectionChange",4,"ngIf"],["appearance","outline","fxFlex","57%",2,"border-radius","12px"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"change"],["formControlName","accountNumber",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType","placeholder","Select Account Type",2,"background-color","#f9fafb",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","accountNumber",3,"selectionChange"],["fxLayout","column"],[1,"totalAmount"],["type","text","formControlName","accountNumber","placeholder","Account Number","matInput","",3,"change"],["fxFlex","25%"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly"],["formControlName","transactionCurrency",3,"disabled"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxFlex","15%"],["fxFlex","85%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency"],["appearance","outline","fxFlex","55%",2,"border-radius","12px"],["matInput","","formControlName","transactionAmount",3,"ngModel","value","ngModelChange","keyup","focus"],["myRef",""],[4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup","focus",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup","focus"],["fxFlex","30%"],["cdForm","ngForm"],[2,"font-size","15px","color","#004C97","margin-left","1%"],["id","denominationDiv",1,"pH10","full-width"],["class","paddingclass","fxLayoutAlign","center center",4,"ngIf"],["class","paddingclass","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap",1,"pH10","full-width"],["fxFlex","53%","fxFlex.xs","100%"],[1,"inputCard"],["matInput","","name","totalAmount","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"],[1,"pl10",2,"width","150%"],["fxLayoutAlign","center center",1,"paddingclass"],["fxFlex","20%"],[1,"quantityClass","text-small"],["fxFlex","10%"],[1,"operationTypeClass","text-small"],["fxFlex","70%"],["type","text","matInput","","name","count2000","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count2000",""],[1,"pl10"],["fxLayoutAlign","start center",1,"paddingclass"],["type","text","matInput","","name","count500","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count500",""],["type","text","matInput","","name","count200","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count200",""],["type","text","matInput","","name","count100","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count100",""],["type","text","matInput","","name","count50","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count50",""],["type","text","matInput","","name","count20","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count20",""],["type","text","matInput","","name","count10","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count10",""],["type","text","matInput","","name","count1","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(3,"arrow_back"),t.qZA(),t.TgZ(4,"h1",3),t._uU(5,"Cash Deposit"),t.qZA()(),t.TgZ(6,"div",4)(7,"form",5)(8,"mat-card",6)(9,"mat-card-title",7),t._uU(10,"Account Information"),t.qZA(),t.TgZ(11,"mat-card",8),t.YNc(12,sc,11,3,"div",9),t.TgZ(13,"div",10),t.YNc(14,uc,5,1,"div",11),t.YNc(15,lc,5,2,"div",11),t.YNc(16,mc,5,0,"div",11),t.YNc(17,hc,5,0,"div",11),t.qZA(),t.YNc(18,dc,9,1,"div",9),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"mat-card-title",12),t._uU(21,"Transaction Information"),t.qZA(),t.TgZ(22,"div",13),t.YNc(23,fc,7,5,"mat-form-field",14),t.YNc(24,xc,7,4,"mat-form-field",14),t.YNc(25,vc,7,6,"mat-form-field",15),t.YNc(26,wc,6,3,"mat-form-field",15),t.qZA(),t.TgZ(27,"div",16)(28,"div",17)(29,"mat-card"),t._UZ(30,"input",18),t.qZA(),t.TgZ(31,"p",19),t._uU(32,"Exchange rate : 0.89"),t.qZA()(),t.TgZ(33,"mat-card",20),t._UZ(34,"input",21),t.qZA(),t.TgZ(35,"mat-card",22),t._UZ(36,"input",23),t.TgZ(37,"div",24),t._UZ(38,"img",25),t.TgZ(39,"div",26)(40,"p",27),t._uU(41),t.qZA(),t.TgZ(42,"p",28),t._uU(43),t.qZA(),t._UZ(44,"hr"),t.TgZ(45,"p",29),t._uU(46),t.qZA()()()()()(),t.YNc(47,Qc,22,10,"mat-card",30),t.qZA()()(),t.TgZ(48,"div",31)(49,"div",32)(50,"button",33),t._uU(51,"Back"),t.qZA(),t.TgZ(52,"button",34),t._uU(53,"Continue"),t.qZA(),t.TgZ(54,"button",35),t._uU(55,"Exit"),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",n.cashdepositForm),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(2),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(12),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij("Transaction Amount:",n.cashdepositForm.get("transactionAmount").value,""),t.xp6(2),t.hij("Total Charge Amount:",n.cashdepositForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij("Total Transaction Amount:",n.cashdepositForm.get("totalTransactionAmount").value,""),t.xp6(1),t.Q6J("ngIf","yes"==n.denomRequired&&(n.cashdepositForm.get("transactionAmount").value>0||n.transAmt>0)))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,k.Hw,w.lW,p.a8,p.n5,g.TO,g.KE,g.bx,g.hX,I.Nt,m.xw,m.SQ,m.Wh,m.s9,m.yH,q.gD,O.ey,c.sg,c.u,l.JJ],styles:['.accountInfoCard[_ngcontent-%COMP%]{background:#F2F2F2 0% 0% no-repeat padding-box;border-radius:18px}.hint[_ngcontent-%COMP%]{margin-left:7%}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt #00000029;box-sizing:border-box;margin-left:0;padding:13px}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#304156}.chargebox[_ngcontent-%COMP%]{height:45%;margin-left:3.5%;max-width:27.5%!important}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.textcolor[_ngcontent-%COMP%]{color:#fff}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.inputCard[_ngcontent-%COMP%]{box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;background-color:#f9fafb;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.continueBtn[_ngcontent-%COMP%]{width:553px;height:50px;color:#fff;background:transparent linear-gradient(90deg,#051A2D 0%,#004C97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:30%;background-color:#fff;color:#e50000;font-family:sans-serif;font-weight:700}.backBtn[_ngcontent-%COMP%]{font-weight:700;width:263px;height:50px;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}.accinfo[_ngcontent-%COMP%]{font-size:22px;color:#004c97;margin-left:1%;font-family:Poppins,Medium}']}),o})();const Yc=["cdForm"];function Hc(o,r){1&o&&t._UZ(0,"input",41),2&o&&t.Q6J("readonly",!0)}function Gc(o,r){if(1&o&&(t.TgZ(0,"mat-option",44),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.hij(" ",e.accountType," ")}}function Kc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",42),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,Gc,2,2,"mat-option",43),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function Wc(o,r){1&o&&t._UZ(0,"input",45),2&o&&t.Q6J("readonly",!0)}function Ec(o,r){if(1&o&&(t.TgZ(0,"mat-option",44),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function zc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",46),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.fetchByAccountNum(a.value))}),t.YNc(1,Ec,2,2,"mat-option",43),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accountNoList)}}function jc(o,r){if(1&o&&(t.TgZ(0,"div",34)(1,"mat-form-field",35)(2,"mat-label"),t._uU(3,"Account Type*"),t.qZA(),t.YNc(4,Hc,1,1,"input",36),t.YNc(5,Kc,2,1,"mat-select",37),t.qZA(),t.TgZ(6,"mat-form-field",38)(7,"mat-label"),t._uU(8,"Account Number*"),t.qZA(),t.YNc(9,Wc,1,1,"input",39),t.YNc(10,zc,2,1,"mat-select",40),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown),t.xp6(4),t.Q6J("ngIf",!e.flag1),t.xp6(1),t.Q6J("ngIf",e.flag1)}}function $c(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"mat-form-field",38)(2,"mat-label"),t._uU(3,"Account Number*"),t.qZA(),t.TgZ(4,"input",47),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.cashwithdrawForm.get("accountNumber").value))}),t.qZA()(),t.TgZ(5,"mat-form-field",35)(6,"mat-label"),t._uU(7,"Account Type*"),t.qZA(),t._UZ(8,"input",41),t.qZA()()}2&o&&(t.xp6(8),t.Q6J("readonly",!0))}function Xc(o,r){if(1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Holder Name "),t.qZA(),t.TgZ(3,"p",27),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.userName)}}function ts(o,r){if(1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Account Balance "),t.qZA(),t.TgZ(3,"p",27),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.AsE("",e.curr,"",e.formatAmount(e.accountBal),"")}}function es(o,r){1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Account Branch "),t.qZA(),t.TgZ(3,"p",27),t._uU(4,"Gayathri"),t.qZA()())}function ns(o,r){if(1&o&&(t.TgZ(0,"div",48)(1,"mat-hint",49),t._uU(2,"Account currency "),t.qZA(),t.TgZ(3,"div",50),t._UZ(4,"div"),t.TgZ(5,"span"),t._uU(6),t.qZA()()()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Oqu(e.accountCurrency)}}function os(o,r){1&o&&t._UZ(0,"input",53),2&o&&t.Q6J("readonly",!0)}function as(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",15)(2,"div",57),t._uU(3),t.qZA(),t.TgZ(4,"div",58),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function is(o,r){if(1&o&&(t.TgZ(0,"mat-select",54),t.YNc(1,as,6,5,"mat-option",55),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function rs(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",35)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",17),t._UZ(4,"div"),t.qZA(),t.YNc(5,os,1,1,"input",51),t.YNc(6,is,2,2,"mat-select",52),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(1),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function cs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",15)(2,"div",57),t._uU(3),t.qZA(),t.TgZ(4,"div",58),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function ss(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",35)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",17),t._UZ(4,"div"),t.qZA(),t.TgZ(5,"mat-select",59),t.YNc(6,cs,6,5,"mat-option",55),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngForOf",e.countryValues)}}function us(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function ls(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",60)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.TgZ(3,"input",61,62),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(5,"number"),t.qZA(),t.YNc(6,us,2,0,"mat-error",63),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.transAmount)("value",t.xi3(5,3,e.transAmt,"2.")),t.xp6(3),t.Q6J("ngIf",null==e.cashwithdrawForm.get("transactionAmount").errors?null:e.cashwithdrawForm.get("transactionAmount").errors.min)}}function ms(o,r){1&o&&t._UZ(0,"input",66),2&o&&t.Q6J("readonly",!0)}function hs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",67,62),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(2,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(2,3,e.transAmt,"1."))("readonly",e.isedit)}}function ds(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function ps(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",60)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.YNc(3,ms,1,1,"input",64),t.YNc(4,hs,3,6,"input",65),t.YNc(5,ds,2,0,"mat-error",63),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.cashwithdrawForm.get("transactionAmount").errors?null:e.cashwithdrawForm.get("transactionAmount").errors.min)}}function gs(o,r){1&o&&(t.TgZ(0,"div",68)(1,"mat-card"),t._UZ(2,"input",69),t.qZA()())}function _s(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[2e3]," ")}}function fs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",80)(1,"div",81)(2,"p",82),t._uU(3,"2000"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"div")(10,"input",86,87),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()(),t.TgZ(12,"div",88),t.YNc(13,_s,2,1,"mat-error",63),t.qZA()()()}if(2&o){const e=t.MAs(11),n=t.oxw(2);t.xp6(13),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[2e3])}}function Cs(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[500]," ")}}function xs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"500"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",90,91),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Cs,2,1,"mat-error",63),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[500])}}function ys(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[200]," ")}}function vs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"200"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",92,93),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,ys,2,1,"mat-error",63),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[200])}}function Ts(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[100]," ")}}function As(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"100"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",94,95),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Ts,2,1,"mat-error",63),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[100])}}function bs(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[50]," ")}}function ws(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"50"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",96,97),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,bs,2,1,"mat-error",63),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[50])}}function Is(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[20]," ")}}function Ns(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"20"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",98,99),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,Is,2,1,"mat-error",63),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[20])}}function ks(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" Please enter <= ",e.denominationLimit[10]," ")}}function qs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"10"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",100,101),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()(),t.TgZ(11,"div",88),t.YNc(12,ks,2,1,"mat-error",63),t.qZA()()()}if(2&o){const e=t.MAs(10),n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",n.denominationlimit&&e.value>n.denominationLimit[10])}}function Zs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",81)(2,"p",82),t._uU(3,"1"),t.qZA()(),t.TgZ(4,"div",83)(5,"p",84),t._uU(6,"x"),t.qZA()(),t.TgZ(7,"div",85)(8,"mat-card",77)(9,"input",102,101),t.NdJ("keyup",function(){t.CHM(e),t.oxw();const a=t.MAs(2),i=t.oxw();return t.KtG(i.totalAmountValue(a))})("keypress",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.omit_number(a))}),t.qZA()()()()}}function Fs(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" Total amount should be equal to ",e.cashwithdrawForm.value.transactionAmount," ")}}function Ds(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",70)(1,"form",null,71)(3,"mat-card-title",7),t._uU(4,"Denomination"),t.qZA(),t.TgZ(5,"div",72),t.YNc(6,fs,14,1,"div",73),t.YNc(7,xs,13,1,"div",74),t.YNc(8,vs,13,1,"div",74),t.YNc(9,As,13,1,"div",74),t.YNc(10,ws,13,1,"div",74),t.YNc(11,Ns,13,1,"div",74),t.YNc(12,qs,13,1,"div",74),t.YNc(13,Zs,11,0,"div",74),t.qZA(),t.TgZ(14,"div",75)(15,"div",76)(16,"p",49),t._uU(17,"Total Amount"),t.qZA(),t.TgZ(18,"mat-card",77)(19,"input",78),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.totalAmount=a)}),t.qZA()(),t.TgZ(20,"div",79),t.YNc(21,Fs,2,1,"mat-error",63),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.transactionCurrency||"AED"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.transactionCurrency||"AED"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.accountCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(1),t.Q6J("ngIf","INR"==e.cashwithdrawForm.value.transactionCurrency||"USD"==e.cashwithdrawForm.value.transactionCurrency||"AED"==e.cashwithdrawForm.value.transactionCurrency),t.xp6(6),t.Q6J("ngModel",e.totalAmount),t.xp6(2),t.Q6J("ngIf",e.enableBtn1)}}function Ms(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSaveofCashWithdraw(a.cashwithdrawForm.value,a.ifQRvariable,a.cdForm))}),t._uU(1,"Continue1"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!(e.enableContinue&&e.cashwithdrawForm.get("transactionCurrency").valid&&e.cashwithdrawForm.get("accountType").valid&&e.cashwithdrawForm.get("accountNumber").valid&&e.cashwithdrawForm.get("accountCurrency").valid&&e.cashwithdrawForm.get("transactionAmount").valid&&e.cashwithdrawForm.get("totalChargeAmount").valid&&e.cashwithdrawForm.get("totalTransactionAmount").valid))}}function Os(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getOTP(a.cashwithdrawForm.value,a.ifQRvariable,a.cdForm))}),t._uU(1,"Continue2"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!(e.enableContinue&&e.cashwithdrawForm.get("transactionAmount").valid&&e.cashwithdrawForm.get("transactionCurrency").valid&&e.cashwithdrawForm.get("accountType").valid&&e.cashwithdrawForm.get("accountNumber").valid&&e.cashwithdrawForm.get("accountCurrency").valid&&e.cashwithdrawForm.get("transactionAmount").valid&&e.cashwithdrawForm.get("totalChargeAmount").valid&&e.cashwithdrawForm.get("totalTransactionAmount").valid))}}let Ps=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v,b,y){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.fb=s,this.ls=u,this.snack=h,this.changeDef=d,this.elRef=_,this.renderer=v,this.dialog=b,this.cdr=y,this.cashWithdrawal="Cash Withdrawal",this.countryFormControl=new c.NI,this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.ifQRvariable=!1,this.productCode="CHW",this.tokenOrigin="Kiosk",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="1234",this.accounttypeArray=[],this.idList=[],this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.tokenObjects=new R,this.enableContinue=!0,this.isedit=!0,this.currencyImage="",this.accountNoList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1,this.denomRequired="",this.hideDetails=!1,this.hideAccNum=!1}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log("QRData",this.qrData),this.cashwithdrawForm=this.fb.group({transactionId:["",[c.kI.required]],customerId:["",[c.kI.required]],accountNumber:["",[c.kI.required]],accountType:["",[c.kI.required]],holderName:["",[c.kI.required]],accountCurrency:["",[c.kI.required]],transactionCurrency:["",[c.kI.required]],transactionAmount:["",[c.kI.required,c.kI.min(.1)]],accountBalance:[""],productCode:["CHW",[c.kI.required]],tokenOrigin:["Kiosk",[c.kI.required]],exchangeRate:["",[c.kI.required]],accountAmount:["",[c.kI.required]],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],narrative:["",[c.kI.required]],denomination:[null,[c.kI.required]],totalAmount:["",[c.kI.required]],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],estimatedWaitTime:["",[c.kI.required]],accountBranch:["",[c.kI.required]],transactionBranch:["",[c.kI.required]]}),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),"New Customer"==this.custValidation&&(this.hideAccNum=!1,this.showAccountNum=!1,this.showAccoutType=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1),console.log("CWH :: "+this.cashwithdrawForm.value),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.gettingallTansactionDetails(this.phoneNumber)),null!=this.qrData&&(this.ifQRvariable=!0,this.hideAccNum=!1,console.log("Account",this.qrData),this.cashwithdrawForm.controls.holderName.setValue(this.qrData.holderName),this.cashwithdrawForm.controls.accountType.setValue(this.qrData.accountType),this.cashwithdrawForm.controls.accountNumber.setValue(this.qrData.accountId),this.getChargeDetails(this.qrData.accountId,""),this.cashwithdrawForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.cashwithdrawForm.controls.accountCurrency.setValue(this.qrData.accountCurrency),this.cashwithdrawForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),this.accountBal=this.qrData.accountBalance,this.customerID=this.qrData.customerId,this.accountCurrency=this.qrData.accountCurrency,this.currencyImage="currency-flag-"+this.qrData.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),this.cashwithdrawForm.controls.transactionBranch.setValue(null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.qrData.transactionBranch:"Kasturi Nagar"),this.getAccountBranch()),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),this.appointmentId.data.appointmentId&&this.cashWithdrawlData()}fetchByAccountNum(e){this.cashwithdrawForm.controls.transactionAmount.reset(),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.cashwithdrawForm.controls.totalChargeAmount.value),console.log("Account Numebr",e),this.ifQRvariable=!0,this.hideAccNum=!1,this.hideDetails=!0,this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.curr=(0,l.jK)(n.currency,"narrow"),this.cashwithdrawForm.controls.accountType.setValue(n.accountType),this.cashwithdrawForm.controls.accountBranch.setValue(n.accountBranch),this.cashwithdrawForm.controls.holderName.setValue(this.userName),this.getCountrynameValues(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.cashwithdrawForm.controls.transactionCurrency.setValue(n.currency),this.cashwithdrawForm.controls.accountCurrency.setValue(n.currency),this.accountCurrency=n.currency,console.log(this.ifQRvariable),this.custAmountBal(e),this.cashwithdrawForm.controls.transactionBranch.setValue("Kasturi Nagar"),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName,console.log(this.branch)})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}onCountrySelected(e){}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.accountCurrency=n.accountCurrency,this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.cashwithdrawForm.controls.holderName.setValue(this.userName),this.custID=n.customerId,console.log("Cust",this.custID),this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1)),console.log(this.accounttypeArray);for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);console.log(this.accountNoList),this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.hideAccNum=!0,this.cashwithdrawForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.hideAccNum=!0,this.cashwithdrawForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0]))})}getAccountType(e){this.cashwithdrawForm.controls.transactionAmount.reset(),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.cashwithdrawForm.controls.totalChargeAmount.value),this.accountNoList=[],this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.getData(this.accountNoList[0]),this.cashwithdrawForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.getData(this.accountNoList[0]),this.flag1=!0),this.getChargeDetails(this.accountNoList[0],"")}custAccountNumber(e){console.log("custype :: ",e),this.isedit=!1,this.idList=[...this.custAccountData].filter(n=>n.accountType===e.accountType),console.log("idList :: ",this.idList),this.accountNoList=[];for(let n=0;n<this.idList.length;n++)"APPROVED"==this.idList[n].status&&this.accountNoList.push(this.idList[n].accountId);console.log("accountNoList :: ",this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.cashwithdrawForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.cashwithdrawForm.controls.accountNumber.setValue(this.accountNoList[0]),this.flag1=!0),this.cashwithdrawForm.controls.accountCurrency.setValue(e.accountCurrency),this.cashwithdrawForm.controls.accountBranch.setValue(this.branch),console.log("AccountCurrency",e.accountCurrency),this.selected=e.accountCurrency,this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.cashwithdrawForm.controls.transactionCurrency.setValue(e.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.accountNoList[0]),this.cashwithdrawForm.controls.accountBranch.setValue(e.accountBranch),this.getChargeDetails(this.accountNoList[0],e.amount)}getData(e){this.hideDetails=!0,this.hideAccNum=!0;let n=this.accountNum1.filter(a=>a.accountId==e);this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.cashwithdrawForm.controls.accountCurrency.setValue(n[0].accountCurrency),this.cashwithdrawForm.controls.accountBranch.setValue(this.branch),this.selected=n[0].accountCurrency,this.accountCurrency=n[0].accountCurrency,this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.cashwithdrawForm.controls.transactionCurrency.setValue(n[0].accountCurrency),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),this.accountBal=n[0].amount,localStorage.setItem("AccountBal",this.accountBal),this.cashwithdrawForm.controls.accountNumber.setValue(n[0].accountId),this.custAmountBal(n[0].accountId),this.cashwithdrawForm.controls.accountBranch.setValue(n[0].accountBranch),this.getChargeDetails(n[0].accountId,"")}custAmountBal(e){var n=this.idList.filter(function(a){if(a.accountId==e)return a});n&&(this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0]),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal)}getOTP(e,n,a){this.cashwithDrwValues=e,this.cashwithDrwType=n,this.cashwithDrwform=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum;let s=this.cashwithDrwValues.transactionAmount.replace(/,/g,"");console.log(s),s>5e4?this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}):this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,this.cashwithDrwform)}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{console.log("submit",a),a&&this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,this.cashwithDrwform)})}getOTPforSave(e,n,a){let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashwithdrawForm.value.transactionCurrency,s.push(i),console.log(s),i={});"New Customer"==this.custValidation&&(this.accountNum=e.accountNumber,e.customerId=this.custmerID?this.custmerID:0,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,"yes"==this.denomRequired&&(e.denomination=s)),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custmerID?this.custmerID:0,e.transactionBranch=this.transBranch,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,console.log(e.transactionId,e.transactionStatus),console.log("before api call :: ",e),this.apiService.saveofCashwithdraw(e).subscribe(u=>{console.log("Response Success, Data Saved",u),this.cashWithdrawResponse=u,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashWithdrawResponse&&this.dialogService.tokenGenerationDialog()})}goToServiceScreens(){console.log("hgfhg"),this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}onSaveofCashWithdraw(e,n,a){e.transactionBranch=this.transBranch,this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(u=>{this.qrBranchCode=u});let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.cashwithdrawForm.value.transactionCurrency,s.push(i),console.log(s),i={});e.tokenBranch="KN",this.ifQRvariable?(e.customerId=this.custID,e.accountType=e.accountType,e.accountNumber=e.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,"yes"==this.denomRequired&&(e.denomination=s),this.qrData&&this.qrData.transactionBranch&&(e.tokenBranch=this.qrBranchCode.transactionBranch),e.accountBalance=this.accountBal):(this.accountNum=JSON.stringify(this.selectedAccountInfo.accountId),e.transactionAmount=e.transactionAmount.replace(/,/g,""),localStorage.setItem("AccountNumber",this.accountNum),localStorage.setItem("ProductCode",this.productCode),e.customerId=this.custID,e.transactionCurrency=e.transactionCurrency,e.accountNumber=this.selectedAccountInfo.accountId,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,e.accountType=e.accountType,"yes"==this.denomRequired&&(e.denomination=s)),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),console.log(e.transactionId,e.transactionStatus),console.log("before api call :: ",e),this.apiService.saveofCashDeposit(e).subscribe(u=>{console.log("Response Success, Data Saved",u),this.cashWithdrawResponse=u,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashWithdrawResponse&&this.dialogService.tokenGenerationDialog()})}checkValue(e){e.target.value<0&&(e.target.value=0)}OnInput(e){this.transAmt=e.target.value,console.log(e.target.value),this.totalAmount=0;const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),parseFloat(this.balance)<parseFloat(this.transAmt)?(console.log("Bigger"),this.snack.open("Transaction Amount should not exceed than Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right"}),this.enableContinue=!1):this.enableContinue=!0,this.totalTransAmount=Number(this.transAmt)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),this.cdr.markForCheck(),this.cdr.detectChanges()}clicked(e){}addCurrencyImage(e){return e.toLowerCase()}onCountryChange(e){this.currencyImage="currency-flag-"+e.currencyCode.toLowerCase()}accountCurrencyImage(e){return e?"currency-flag-"+e.toLowerCase():""}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){console.log(e),this.a=this.cashwithdrawForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.cashwithdrawForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),this.cashwithdrawForm.value.totalAmount=this.cashwithdrawForm.value.totalAmount,console.log(this.cashwithdrawForm.value.totalAmount),console.log(this.cashwithdrawForm.value.transactionAmount),this.transamount=this.cashwithdrawForm.value.transactionAmount,this.totalAmount=this.cashwithdrawForm.value.totalAmount.toLocaleString("en-US"),this.enableBtn=this.transamount==this.totalAmount,this.enableBtn1=this.transamount>this.totalAmount||this.transamount<this.totalAmount,this.cashwithdrawForm.controls.totalAmount.setValue(this.cashwithdrawForm.value.totalAmount)}cashWithdrawlData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log(e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.hideAccNum=!1,this.hideDetails=!0,this.userName=e.data.holderName,this.accountCurrency=e.data.accountCurrency,this.cashwithdrawForm.controls.accountType.setValue(e.data.accountType),this.cashwithdrawForm.controls.accountBranch.setValue(e.data.accountBranch),this.cashwithdrawForm.controls.accountNumber.setValue(e.data.accountNumber),this.getChargeDetails(e.data.accountNumber,e.data.transactionAmount),this.cashwithdrawForm.controls.accountCurrency.setValue(e.data.accountCurrency),this.cashwithdrawForm.controls.transactionCurrency.setValue(e.data.transactionCurrency),this.cashwithdrawForm.controls.transactionAmount.setValue(e.data.transactionAmount),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+e.data.transactionCurrency.toLowerCase()})}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{console.log(a),this.chargeDetails=a,this.cashwithdrawForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails[0].amount),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(0),setTimeout(()=>{this.totalTransAmount=Number(0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.cashwithdrawForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1)})}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(c.qu),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(A.uw),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-newcashwithdrawal"]],viewQuery:function(e,n){if(1&e&&t.Gf(Yc,5),2&e){let a;t.iGM(a=t.CRH())&&(n.cdForm=a.first)}},inputs:{tokenResp:"tokenResp"},decls:55,vars:19,consts:[["fxLayout","column",2,"margin-top","-4%"],["fxLayout","row","fxLayoutGap","20px",2,"color","#000000","padding-left","5%"],[2,"cursor","pointer",3,"click"],[2,"font-weight","bold"],["fxLayout","row wrap","fxFlexFill","","fxLayoutGap","1px","fxLayoutAlign","center",2,"padding-left","4%"],["fxFlex","100%",3,"formGroup"],["fxFlex","calc(33%-25px)","fxLayout","column"],[2,"font-size","15px","color","#004C97","margin-left","1%"],["fxFlex","calc(13%-25px)",1,"accountInfoCard"],["fxLayoutGap","50px",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","10%",2,"margin-left","2%"],["fxLayout","column",4,"ngIf"],["fxLayoutGap","50px",2,"margin-left","1%"],["appearance","outline","style","border-radius: 12px;","fxFlex","35%",4,"ngIf"],["appearance","outline","style","border-radius: 12px;","fxFlex","55%",4,"ngIf"],["fxLayout","row wrap"],["fxLayout","column wrap","fxFlex","36%",4,"ngIf"],["fxFlex","25%"],["matInput","","readonly","","formControlName","totalChargeAmount","placeholder","Total Charge Amount"],["fxFlex","25%","fxLayout","row"],["matInput","","type","text","readonly","","onlyNumber","","formControlName","totalTransactionAmount","placeholder","Total Charge Amount"],[1,"tooltip"],["width","80%",3,"src"],[1,"tooltiptext"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],[1,"hint"],["fxFlex","30%",4,"ngIf"],["fxLayout","row"],["fxLayoutAlign","center","fxLayoutGap","20px",1,"full-width"],["mat-flat-button","",1,"backBtn"],["mat-flat-button","","class","continueBtn",3,"disabled","click",4,"ngIf"],["mat-flat-button","",1,"exitBtn"],["fxLayoutGap","50px"],["appearance","outline","fxFlex","35%",2,"border-radius","12px"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType",3,"selectionChange",4,"ngIf"],["appearance","outline","fxFlex","57%",2,"border-radius","12px"],["matInput","","type","text","class","full-width","formControlName","accountNumber",3,"readonly",4,"ngIf"],["formControlName","accountNumber",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"readonly"],["formControlName","accountNumber",3,"selectionChange"],["type","text","formControlName","accountNumber","placeholder","Account Number","matInput","",3,"change"],["fxLayout","column"],[1,"totalAmount"],["fxLayoutGap","20px","fxLayout","row"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly"],["formControlName","transactionCurrency",3,"disabled"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxFlex","15%"],["fxFlex","85%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency"],["appearance","outline","fxFlex","55%",2,"border-radius","12px"],["matInput","","formControlName","transactionAmount",3,"ngModel","value","ngModelChange","keyup","focus"],["myRef",""],[4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup","focus",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup","focus"],["fxLayout","column wrap","fxFlex","36%"],["matInput","","readonly","","placeholder","Negotiated rate"],["fxFlex","30%"],["cdForm","ngForm"],["id","denominationDiv",1,"pH10","full-width"],["class","paddingclass","fxLayoutAlign","center center",4,"ngIf"],["class","paddingclass","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap",1,"pH10","full-width"],["fxFlex","53%","fxFlex.xs","100%"],[1,"inputCard"],["matInput","","name","totalAmount","readonly","",1,"full-width","inputClass",3,"ngModel","ngModelChange"],[1,"pl10",2,"width","150%"],["fxLayoutAlign","center center",1,"paddingclass"],["fxFlex","20%"],[1,"quantityClass","text-small"],["fxFlex","10%"],[1,"operationTypeClass","text-small"],["fxFlex","70%"],["type","text","matInput","","name","count2000","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count2000",""],[1,"pl10"],["fxLayoutAlign","start center",1,"paddingclass"],["type","text","matInput","","name","count500","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count500",""],["type","text","matInput","","name","count200","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count200",""],["type","text","matInput","","name","count100","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count100",""],["type","text","matInput","","name","count50","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count50",""],["type","text","matInput","","name","count20","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count20",""],["type","text","matInput","","name","count10","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["count10",""],["type","text","matInput","","name","count1","ngModel","",1,"full-width","inputClass",3,"keyup","keypress"],["mat-flat-button","",1,"continueBtn",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(3,"arrow_back"),t.qZA(),t.TgZ(4,"h1",3),t._uU(5,"Cash Withdrawal"),t.qZA()(),t.TgZ(6,"div",4)(7,"form",5)(8,"mat-card",6)(9,"mat-card-title",7),t._uU(10,"Account Information"),t.qZA(),t.TgZ(11,"mat-card",8),t.YNc(12,jc,11,4,"div",9),t.YNc(13,$c,9,1,"div",9),t.TgZ(14,"div",10),t.YNc(15,Xc,5,1,"div",11),t.YNc(16,ts,5,2,"div",11),t.YNc(17,es,5,0,"div",11),t.YNc(18,ns,7,4,"div",11),t.qZA()(),t._UZ(19,"br"),t.TgZ(20,"mat-card-title",7),t._uU(21,"Transaction Information"),t.qZA(),t.TgZ(22,"div",12),t.YNc(23,rs,7,5,"mat-form-field",13),t.YNc(24,ss,7,4,"mat-form-field",13),t.YNc(25,ls,7,6,"mat-form-field",14),t.YNc(26,ps,6,3,"mat-form-field",14),t.qZA(),t.TgZ(27,"div",15),t.YNc(28,gs,3,0,"div",16),t.TgZ(29,"mat-card",17),t._UZ(30,"input",18),t.qZA(),t.TgZ(31,"mat-card",19),t._UZ(32,"input",20),t.TgZ(33,"div",21),t._UZ(34,"img",22),t.TgZ(35,"div",23)(36,"p",24),t._uU(37),t.qZA(),t.TgZ(38,"p",25),t._uU(39),t.qZA(),t._UZ(40,"hr"),t.TgZ(41,"p",26),t._uU(42),t.qZA()()()()(),t.TgZ(43,"div")(44,"p",27),t._uU(45,"Exchange rate : 0.89"),t.qZA()()(),t.YNc(46,Ds,22,10,"mat-card",28),t.qZA()()(),t.TgZ(47,"div",29)(48,"div",30)(49,"button",31),t._uU(50,"Back"),t.qZA(),t.YNc(51,Ms,2,1,"button",32),t.YNc(52,Os,2,1,"button",32),t.TgZ(53,"button",33),t._uU(54,"Exit"),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",n.cashwithdrawForm),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(2),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideAccNum),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(2),t.Q6J("ngIf",n.cashwithdrawForm.get("transactionCurrency").value!=n.accountCurrency),t.xp6(6),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij("Transaction Amount:",n.cashwithdrawForm.get("transactionAmount").value,""),t.xp6(2),t.hij("Total Charge Amount:",n.cashwithdrawForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij("Total Transaction Amount:",n.cashwithdrawForm.get("totalTransactionAmount").value,""),t.xp6(4),t.Q6J("ngIf","yes"==n.denomRequired&&(n.cashwithdrawForm.get("transactionAmount").value>0||n.transAmt>0)),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,k.Hw,w.lW,p.a8,p.n5,g.TO,g.KE,g.bx,g.hX,I.Nt,m.xw,m.SQ,m.Wh,m.s9,m.yH,q.gD,O.ey,c.sg,c.u,l.JJ],styles:['.accountInfoCard[_ngcontent-%COMP%]{background:#F2F2F2 0% 0% no-repeat padding-box;border-radius:18px}.hint[_ngcontent-%COMP%]{margin-left:1%}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt #00000029;box-sizing:border-box;margin-left:0;padding:13px}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#304156}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.textcolor[_ngcontent-%COMP%]{color:#fff}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;background-color:#f9fafb;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.continueBtn[_ngcontent-%COMP%]{width:553px;height:50px;color:#fff;background:transparent linear-gradient(90deg,#051A2D 0%,#004C97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:30%;background-color:#fff;color:#e50000;font-family:sans-serif;font-weight:700}.backBtn[_ngcontent-%COMP%]{font-weight:700;width:263px;height:50px;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}']}),o})();function Bs(o,r){1&o&&t._UZ(0,"input",42),2&o&&t.Q6J("readonly",!0)}function Ss(o,r){if(1&o&&(t.TgZ(0,"mat-option",45),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.accountType),t.xp6(1),t.Oqu(e.accountType)}}function Ls(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",43),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getAccountType(a.value))}),t.YNc(1,Ss,2,2,"mat-option",44),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function Js(o,r){if(1&o&&(t.TgZ(0,"mat-option",45),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Us(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",46),t.NdJ("selectionChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.fetchByAccountNum(a.value))}),t.YNc(1,Js,2,2,"mat-option",44),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.accountNoList)}}function Vs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",35)(1,"mat-form-field",36)(2,"mat-label"),t._uU(3,"Account Type*"),t.qZA(),t.YNc(4,Bs,1,1,"input",37),t.YNc(5,Ls,2,1,"mat-select",38),t.qZA(),t.TgZ(6,"mat-form-field",39)(7,"mat-label"),t._uU(8,"Account Number*"),t.qZA(),t.TgZ(9,"input",40),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.chequedepositForm.get("accountNumber").value))}),t.qZA(),t.YNc(10,Us,2,1,"mat-select",41),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown),t.xp6(5),t.Q6J("ngIf",e.flag1)}}function Qs(o,r){if(1&o&&(t.TgZ(0,"div",47)(1,"mat-hint",48),t._uU(2,"Holder Name "),t.qZA(),t.TgZ(3,"p",19),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.userName)}}function Rs(o,r){if(1&o&&(t.TgZ(0,"div",47)(1,"mat-hint",48),t._uU(2,"Account Balance "),t.qZA(),t.TgZ(3,"p",19),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.AsE("",e.curr,"",e.formatAmount(e.accountBal),"")}}function Ys(o,r){1&o&&(t.TgZ(0,"div",47)(1,"mat-hint",48),t._uU(2,"Account Branch "),t.qZA(),t.TgZ(3,"p",19),t._uU(4,"Gayathri"),t.qZA()())}function Hs(o,r){1&o&&(t.TgZ(0,"div",47)(1,"mat-hint",48),t._uU(2,"Account currency "),t.qZA(),t.TgZ(3,"p",19),t._uU(4,"Gayathri"),t.qZA()())}function Gs(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",35)(1,"mat-form-field",39)(2,"mat-label"),t._uU(3,"Account Number*"),t.qZA(),t.TgZ(4,"input",49),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.fetchByAccountNum(a.chequedepositForm.get("accountNumber").value))}),t.qZA()(),t.TgZ(5,"mat-form-field",36)(6,"mat-label"),t._uU(7,"Account Type*"),t.qZA(),t._UZ(8,"input",42),t.qZA()()}2&o&&(t.xp6(8),t.Q6J("readonly",!0))}function Ks(o,r){1&o&&t._UZ(0,"input",53),2&o&&t.Q6J("readonly",!0)}function Ws(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",16)(2,"div",57),t._uU(3),t.qZA(),t.TgZ(4,"div",58),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function Es(o,r){if(1&o&&(t.TgZ(0,"mat-select",54),t.YNc(1,Ws,6,5,"mat-option",55),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isedit),t.xp6(1),t.Q6J("ngForOf",e.countryValues)}}function zs(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",36)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",50),t._UZ(4,"div"),t.qZA(),t.YNc(5,Ks,1,1,"input",51),t.YNc(6,Es,2,2,"mat-select",52),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(1),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function js(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",16)(2,"div",57),t._uU(3),t.qZA(),t.TgZ(4,"div",58),t._UZ(5,"div"),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(2),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function $s(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",36)(1,"mat-label"),t._uU(2,"Transaction currency*"),t.qZA(),t.TgZ(3,"div",50),t._UZ(4,"div"),t.qZA(),t.TgZ(5,"mat-select",59),t.YNc(6,js,6,5,"mat-option",55),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage,""),t.xp6(2),t.Q6J("ngForOf",e.countryValues)}}function Xs(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function tu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",60)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.TgZ(3,"input",61,62),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.clicked(a))}),t.ALo(5,"number"),t.qZA(),t.YNc(6,Xs,2,0,"mat-error",63),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.transAmount)("value",t.xi3(5,3,e.transAmt,"2.")),t.xp6(3),t.Q6J("ngIf",null==e.chequedepositForm.get("transactionAmount").errors?null:e.chequedepositForm.get("transactionAmount").errors.min)}}function eu(o,r){1&o&&t._UZ(0,"input",66),2&o&&t.Q6J("readonly",!0)}function nu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",67,62),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.transAmount=a)})("keyup",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.OnInput(a))})("focus",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clicked(a))}),t.ALo(2,"number"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("ngModel",e.transAmount)("value",t.xi3(2,3,e.transAmt,"1."))("readonly",e.isedit)}}function ou(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount must be greater than zero "),t.qZA())}function au(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",60)(1,"mat-label"),t._uU(2,"Transaction amount *"),t.qZA(),t.YNc(3,eu,1,1,"input",64),t.YNc(4,nu,3,6,"input",65),t.YNc(5,ou,2,0,"mat-error",63),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==e.chequedepositForm.get("transactionAmount").errors?null:e.chequedepositForm.get("transactionAmount").errors.min)}}function iu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSaveofchequeDeposit(a.chequedepositForm.value,a.ifQRvariable))}),t._uU(1,"Continue"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!(e.enableContinue&&e.chequedepositForm.get("transactionCurrency").valid&&e.chequedepositForm.get("transactionAmount").valid&&e.chequedepositForm.get("accountNumber").valid&&e.chequedepositForm.get("accountType").valid&&e.chequedepositForm.get("totalChargeAmount").valid&&e.chequedepositForm.get("totalTransactionAmount").valid))}}function ru(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getOTP(a.chequedepositForm.value,a.ifQRvariable))}),t._uU(1,"Continue"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!(e.enableContinue&&e.chequedepositForm.get("transactionCurrency").valid&&e.chequedepositForm.get("transactionAmount").valid&&e.chequedepositForm.get("accountNumber").valid&&e.chequedepositForm.get("accountType").valid&&e.chequedepositForm.get("totalChargeAmount").valid&&e.chequedepositForm.get("totalTransactionAmount").valid))}}let cu=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.dialog=s,this.cdr=u,this.ls=h,this.snack=d,this.changeDef=_,this.titleName="Cheque Deposit",this.accType=["Savings","Deposit"],this.customerName=["Jane Smith","John Smith"],this.productCode="CQD",this.tokenOrigin="Kiosk",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.defaultValue={name:"Deutschland",alpha2Code:"DE",alpha3Code:"DEU",numericCode:"276",callingCode:"+49"},this.accounttypeArray=[],this.idList=[],this.tokenObjects=new R,this.isedit=!0,this.enableContinue=!0,this.currencyImage="",this.ifQRvariable=!1,this.accountNoList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.accountDropdown=!1,this.flag1=!1,this.hideDetails=!1}ngOnInit(){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),"New Customer"==this.custValidation&&(this.showAccountNum=!1,this.showAccoutType=!1),null!=this.custNameFromLogin&&(this.showAccountNum=!1),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log("QRData",this.qrData),this.chequedepositForm=this.formBuilder.group({transactionId:["",[c.kI.required]],chequeNumber:["",[c.kI.required]],customerId:["",[c.kI.required]],accountType:["",[c.kI.required]],totalAmount:["",c.kI.required],accountNumber:["",[c.kI.required]],holderName:["",[c.kI.required]],accountCurrency:["",[c.kI.required]],transactionCurrency:["",[c.kI.required]],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],transactionAmount:["",[c.kI.required,c.kI.min(.1)]],accountBalance:["",[c.kI.required]],productCode:["CQD",[c.kI.required]],tokenOrigin:["Kiosk",[c.kI.required]],createdBy:["",[c.kI.required]],createdTime:["",[c.kI.required]],modifiedBy:["",[c.kI.required]],modifiedTime:["",[c.kI.required]],recordStatus:["",[c.kI.required]],authStatus:["",[c.kI.required]],version:["",[c.kI.required]],accountBranch:["",[c.kI.required]],transactionBranch:["",[c.kI.required]]}),console.log(this.chequedepositForm.value),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.gettingallTansactionDetails(this.phoneNumber)),null!=this.qrData&&(this.ifQRvariable=!0,console.log("Account",this.qrData.accountId),this.chequedepositForm.controls.holderName.setValue(this.qrData.holderName),this.chequedepositForm.controls.accountType.setValue(this.qrData.accountType),this.chequedepositForm.controls.accountNumber.setValue(this.qrData.accountId),this.getChargeDetails(this.qrData.accountId,""),this.chequedepositForm.controls.transactionAmount.setValue(this.qrData.transactionAmount),this.chequedepositForm.controls.accountCurrency.setValue(this.qrData.accountCurrency),this.chequedepositForm.controls.transactionCurrency.setValue(this.qrData.transactionCurrency),this.accountBal=this.qrData.accountBalance,this.customerID=this.qrData.customerId,this.currencyImage="currency-flag-"+this.qrData.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+this.qrData.transactionCurrency.toLowerCase(),this.chequedepositForm.controls.transactionBranch.setValue(null!=this.qrData.transactionBranch&&""!=this.qrData.transactionBranch?this.qrData.transactionBranch:"Kasturi Nagar"),this.getAccountBranch()),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.appointmentId.data.appointmentId&&this.cashWithdrawlData()}fetchByAccountNum(e){this.chequedepositForm.controls.transactionAmount.reset(),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.chequedepositForm.controls.totalChargeAmount.value),this.chequedepositForm.controls.chequeNumber.reset(),console.log("Account Numebr",e),this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("Account Number Rsp",n),this.getChargeDetails(e,""),this.userName=n.accHolderName,this.accountBal=n.accBalance,this.custmerID=n.customerId,this.accountNumber=n.accountId,this.accountCurrency=n.accountCurrency,this.curr=(0,l.jK)(n.currency,"narrow"),this.chequedepositForm.controls.accountType.setValue(n.accountType),this.chequedepositForm.controls.accountCurrency.setValue(n.currency),this.chequedepositForm.controls.accountBranch.setValue(n.accountBranch),this.chequedepositForm.controls.holderName.setValue(this.userName),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.getCountrynameValues(),this.chequedepositForm.controls.transactionCurrency.setValue(n.currency),this.custAmountBal(e),this.chequedepositForm.controls.transactionBranch.setValue("Kasturi Nagar"),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}getOTP(e,n,a){this.chequedepositValues=e,this.chequedepositype=n,this.chequedepositform=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum;let s=this.chequedepositValues.transactionAmount.replace(/,/g,"");console.log(s),s>5e4?this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}):this.getOTPforSave(this.chequedepositValues,this.chequedepositype,this.chequedepositform)}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.chequedepositValues,this.chequedepositype,this.chequedepositform)})}getOTPforSave(e,n,a){e.transactionBranch=this.transBranch,"New Customer"==this.custValidation&&(console.log("customer",this.custmerID),this.accountNum=e.accountNumber,e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal),e.tokenBranch="KN",this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),e.customerId=this.custmerID?this.custmerID:0,e.accountType=e.accountType,e.accountNumber=this.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,this.apiService.saveofCashDeposit(e).subscribe(i=>{console.log("Response Success",i),this.cashDepositResponse=i,this.tokenNum=this.cashDepositResponse.tokenNumber,this.estimatedTime=this.cashDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.cashDepositResponse&&this.dialogService.tokenGenerationDialog()})}_keyPress(e){let a=String.fromCharCode(e.charCode);/[0-9 a-z A-Z]/.test(a)||e.preventDefault()}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName,console.log(this.branch)})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}onCountrySelected(e){console.log(e)}goToServiceScreens(){this.appointmentId?this.appointmentId.data.appointmentId&&(this.router.navigateByUrl("/sessions/login"),localStorage.removeItem("FromLogin"),localStorage.removeItem("TransactionType"),localStorage.removeItem("customerId"),localStorage.removeItem("phonenumFromLogin"),localStorage.removeItem("customerValidation"),localStorage.removeItem("otpPhoneNum"),localStorage.removeItem("AccountBal"),localStorage.removeItem("AccountNumber"),localStorage.removeItem("ProductCode"),localStorage.removeItem("tokenNumer"),localStorage.removeItem("estimatedTiming"),localStorage.removeItem("userId"),localStorage.removeItem("scannerData"),localStorage.removeItem("custholderName")):this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}gettingallTansactionDetails(e){this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.userName=(n.firstName?n.firstName+" ":" ")+(n.middleName?n.middleName+" ":" ")+(n.lastName?n.lastName:" "),this.chequedepositForm.controls.holderName.setValue(this.userName),this.custID=n.customerId,this.custAccountData=n.custAccount,this.accounttypeArray=[...this.custAccountData].filter(({accountType:a},i)=>![...this.custAccountData].map(s=>s.accountType).includes(a,i+1));for(let a=0;a<this.custAccountData.length;a++)"APPROVED"==this.custAccountData[a].status&&this.accountNoList.push(this.custAccountData[a]);this.custAccountData&&this.accountNoList.length<=1?(this.accountDropdown=!1,this.hideDetails=!0,this.chequedepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(this.accountNoList[0])):(this.accountDropdown=!0,this.hideDetails=!0,this.chequedepositForm.controls.accountType.setValue(n.custAccount[0].accountType),this.custAccountNumber(n.custAccount[0]))})}getAccountType(e){this.chequedepositForm.controls.transactionAmount.reset(),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.chequedepositForm.controls.totalChargeAmount.value),this.chequedepositForm.controls.chequeNumber.reset(),this.accountNoList=[],this.isedit=!1,this.accountNum1=[...this.custAccountData].filter((n,a)=>n.accountType==e),console.log(this.accountNum1);for(let n=0;n<this.custAccountData.length;n++)"APPROVED"==this.custAccountData[n].status&&this.custAccountData[n].accountType==e&&this.accountNoList.push(this.custAccountData[n].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.chequedepositForm.controls.accountNumber.setValue(this.accountNoList[0]),this.getData(this.accountNoList[0])):(this.flag1=!0,this.getData(this.accountNoList[0])),this.getChargeDetails(this.accountNoList[0],"")}custAccountNumber(e){this.isedit=!1,this.idList=[...this.custAccountData].filter(a=>a.accountType===e.accountType),this.accountNoList=[];for(let a=0;a<this.idList.length;a++)"APPROVED"==this.idList[a].status&&this.accountNoList.push(this.idList[a].accountId);console.log(this.accountNoList),this.accountNoList.length<=1?(this.flag1=!1,this.chequedepositForm.controls.accountNumber.setValue(this.accountNoList[0])):(this.chequedepositForm.controls.accountNumber.setValue(this.accountNoList[0]),this.flag1=!0),this.chequedepositForm.controls.accountCurrency.setValue(e.accountCurrency),this.chequedepositForm.controls.accountBranch.setValue(this.branch),this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.chequedepositForm.controls.transactionCurrency.setValue(e.accountCurrency),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal),this.custAmountBal(this.accountNoList[0]),this.chequedepositForm.controls.accountBranch.setValue(e.accountBranch),this.getChargeDetails(this.accountNoList[0],e.amount)}getData(e){this.hideDetails=!0,console.log(e);let n=this.accountNum1.filter(a=>a.accountId==e);console.log(n),this.idList=[...this.custAccountData].filter(a=>a.accountType===n[0].accountType),this.chequedepositForm.controls.accountCurrency.setValue(n[0].accountCurrency),this.chequedepositForm.controls.accountBranch.setValue(this.branch),this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.curr=(0,l.jK)(n[0].accountCurrency,"narrow"),this.chequedepositForm.controls.transactionCurrency.setValue(n[0].accountCurrency),this.currencyImage="currency-flag-"+n[0].accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),this.accountBal=this.idList[0].amount,localStorage.setItem("AccountBal",this.accountBal),this.chequedepositForm.controls.accountNumber.setValue(this.idList[0].accountId),this.custAmountBal(this.idList[0].accountId),this.chequedepositForm.controls.accountNumber.setValue(n[0].accountId),this.chequedepositForm.controls.accountBranch.setValue(n[0].accountBranch),this.getChargeDetails(n[0].accountId,"")}custAmountBal(e){console.log(e);var n=this.idList.filter(function(a){if(a.accountId==e)return a});console.log(n),this.accNum=n[0].accountId,this.accountBal=n[0].amount,this.selectedAccountInfo=n[0]}setBalance(e,n=0){this.accountBal=e[n].currentBalance?e[n].currentBalance:null}onSaveofchequeDeposit(e,n){e.transactionBranch=this.transBranch,e.tokenBranch="KN",this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(a=>{this.qrBranchCode=a}),this.ifQRvariable?(console.log(e),e.customerId=this.custID,e.accountType=e.accountType,e.accountNumber=e.accountNumber,e.holderName=e.holderName,e.accountCurrency=e.accountCurrency,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount,e.totalAmount=e.totalAmount,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal,e.transactionId=e.transactionId,e.appointmentId=e.appointmentId):(console.log("chequedepositData",e),this.accountNum=JSON.stringify(this.selectedAccountInfo.accountId),console.log("this.accountNum ",this.accountNum),localStorage.setItem("AccountNumber",this.accountNum),localStorage.setItem("ProductCode",this.productCode),e.tokenBranch="KN",e.customerId=this.custID,e.transactionCurrency=e.transactionCurrency,e.transactionAmount=e.transactionAmount.replace(/,/g,""),e.accountNumber=this.selectedAccountInfo.accountId,e.accountType=e.accountType,e.productCode=this.productCode,e.tokenOrigin=this.tokenOrigin,e.accountBalance=this.accountBal),this.qrData&&this.qrData.transactionBranch&&(e.tokenBranch=this.qrBranchCode.transactionBranch),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),console.log(e.transactionId,e.transactionStatus),this.apiService.saveofCashDeposit(e).subscribe(a=>{console.log(" Response Success",a),this.chequeDepositResponse=a,this.tokenNum=this.chequeDepositResponse.tokenNumber,this.estimatedTime=this.chequeDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.chequeDepositResponse&&this.dialogService.tokenGenerationDialog()})}omit_number(e){var n;return(n=e.charCode)>47&&n<58}totalAmountValue(e){this.a=this.chequedepositForm.value.transactionAmount,this.a=this.a.replace(/\,/g,""),this.a=parseInt(this.a,10),this.chequedepositForm.value.totalAmount=(e.value.count2000?2e3*e.value.count2000:0)+(e.value.count500?500*e.value.count500:0)+(e.value.count200?200*e.value.count200:0)+(e.value.count100?100*e.value.count100:0)+(e.value.count50?50*e.value.count50:0)+(e.value.count20?20*e.value.count20:0)+(e.value.count10?10*e.value.count10:0)+(e.value.count1?1*e.value.count1:0),console.log(this.chequedepositForm.value.totalAmount),console.log(this.chequedepositForm.value.transactionAmount),this.transamount=this.chequedepositForm.value.transactionAmount,this.totalAmount=this.chequedepositForm.value.totalAmount,this.chequedepositForm.controls.totalAmount.setValue(this.chequedepositForm.value.totalAmount)}OnInput(e){this.transAmt=e.target.value;const n=this.transAmount;let a=!1;"."===n.charAt(n.length-1)&&(a=!0);const i=n.replace(/[^0-9.]/g,"");this.transAmt=Number(i)||"",this.transAmount=this.transAmt.toLocaleString("en-IN"),a&&(this.transAmount=this.transAmount.concat(".")),this.changeDef.detectChanges(),this.balance=localStorage.getItem("AccountBal"),parseFloat(this.balance)<parseFloat(this.transAmt)?(console.log("Bigger"),this.snack.open("Transaction Amount should not exceed than Account Balance","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right"}),this.enableContinue=!1):this.enableContinue=!0,this.totalTransAmount=Number(this.transAmt)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount),this.cdr.markForCheck(),this.cdr.detectChanges()}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{console.log(a),this.chargeDetails=a,this.chequedepositForm.controls.totalChargeAmount.setValue(this.chargeDetails?this.chargeDetails[0].amount:"")}),this.cashData?(setTimeout(()=>{this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(0),setTimeout(()=>{this.totalTransAmount=Number(0)+Number(this.chargeDetails?this.chargeDetails[0].amount:""),console.log(this.totalTransAmount),this.chequedepositForm.controls.totalTransactionAmount.setValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}addCurrencyImage(e){return e.toLowerCase()}clicked(e){console.log(e)}onCountryChange(e){this.currencyImage="currency-flag-"+e.currencyCode.toLowerCase()}accountCurrencyImage(e){return e?"currency-flag-"+e.toLowerCase():""}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}cashWithdrawlData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log(e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.chequedepositForm.controls.accountType.setValue(e.data.accountType),this.chequedepositForm.controls.accountBranch.setValue(e.data.accountBranch),this.chequedepositForm.controls.accountNumber.setValue(e.data.accountNumber),this.chequedepositForm.controls.chequeNumber.setValue(e.data.chequeNumber),this.getChargeDetails(e.data.accountNumber,e.data.transactionAmount),this.chequedepositForm.controls.accountCurrency.setValue(e.data.accountCurrency),this.chequedepositForm.controls.transactionCurrency.setValue(e.data.transactionCurrency),this.chequedepositForm.controls.transactionAmount.setValue(e.data.transactionAmount),this.currencyImage="currency-flag-"+e.data.accountCurrency.toLowerCase(),this.currencyImage="currency-flag-"+e.data.transactionCurrency.toLowerCase()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-newchequedeposit"]],decls:55,vars:17,consts:[[2,"margin-top","-4%"],["fxLayout","row","fxLayoutGap","20px",2,"color","#000000","padding-left","5%"],[2,"cursor","pointer",3,"click"],[2,"font-weight","bold"],["fxLayout","row wrap","fxFlexFill","","fxLayoutGap","1px","fxLayoutAlign","center",2,"padding-left","4%"],["fxFlex","100%",3,"formGroup"],["fxFlex","calc(33%-25px)","fxLayout","column"],[1,"accinfo",2,"font-size","22px","color","#004C97","margin-left","1%"],["fxFlex","calc(13%-25px)",1,"accountInfoCard"],["fxLayoutGap","50px",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","10%",2,"margin-left","2%"],["fxLayout","column",4,"ngIf"],[1,"accinfo"],["fxLayoutGap","50px",2,"margin-left","1%"],["appearance","outline","style","border-radius: 12px;","fxFlex","35%",4,"ngIf"],["appearance","outline","style","border-radius: 12px;","fxFlex","55%",4,"ngIf"],["fxLayout","row wrap"],["fxLayout","column","fxFlex","36%"],["matInput","","readonly","","placeholder","Negotiated rate"],[1,"hint"],["fxFlex","25%",1,"chargebox"],["matInput","","readonly","","formControlName","totalChargeAmount","placeholder","Total Charge Amount",1,"full-width"],["fxFlex","25%","fxLayout","row",2,"height","45%"],["matInput","","type","text","readonly","","onlyNumber","","formControlName","totalTransactionAmount","placeholder","Total Charge Amount"],[1,"tooltip"],["width","80%",3,"src"],[1,"tooltiptext"],[1,"totalAmount","textcolor",2,"margin-top","10px","margin-bottom","6px"],[1,"totalAmount","textcolor"],[1,"totalAmount","textcolor",2,"margin-right","10px"],["fxLayout","row"],["fxLayoutAlign","center","fxLayoutGap","20px",1,"full-width"],["mat-flat-button","",1,"backBtn"],["mat-flat-button","","class","continueBtn",3,"disabled","click",4,"ngIf"],["mat-flat-button","",1,"exitBtn"],["fxLayoutGap","50px"],["appearance","outline","fxFlex","35%",2,"border-radius","12px"],["matInput","","type","text","class","full-width","formControlName","accountType",3,"readonly",4,"ngIf"],["formControlName","accountType","style","background-color: #f9fafb;","placeholder","Select Account Type",3,"selectionChange",4,"ngIf"],["appearance","outline","fxFlex","57%",2,"border-radius","12px"],["matInput","","type","text","formControlName","accountNumber",1,"full-width",3,"change"],["formControlName","accountNumber",3,"selectionChange",4,"ngIf"],["matInput","","type","text","formControlName","accountType",1,"full-width",3,"readonly"],["formControlName","accountType","placeholder","Select Account Type",2,"background-color","#f9fafb",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","accountNumber",3,"selectionChange"],["fxLayout","column"],[1,"totalAmount"],["type","text","formControlName","accountNumber","placeholder","Account Number","matInput","",3,"change"],["fxFlex","25%"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly",4,"ngIf"],["formControlName","transactionCurrency",3,"disabled",4,"ngIf"],["matInput","","type","text","formControlName","transactionCurrency",3,"readonly"],["formControlName","transactionCurrency",3,"disabled"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxFlex","15%"],["fxFlex","85%"],["formControlName","transactionCurrency","placeholder","Select Transaction Currency"],["appearance","outline","fxFlex","55%",2,"border-radius","12px"],["matInput","","formControlName","transactionAmount",3,"ngModel","value","ngModelChange","keyup","focus"],["myRef",""],[4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly",4,"ngIf"],["matInput","","class","full-width","formControlName","transactionAmount",3,"ngModel","value","readonly","ngModelChange","keyup","focus",4,"ngIf"],["matInput","","type","text","formControlName","transactionAmount",3,"readonly"],["matInput","","formControlName","transactionAmount",1,"full-width",3,"ngModel","value","readonly","ngModelChange","keyup","focus"],["mat-flat-button","",1,"continueBtn",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(3,"arrow_back"),t.qZA(),t.TgZ(4,"h1",3),t._uU(5,"Cash Deposit"),t.qZA()(),t.TgZ(6,"div",4)(7,"form",5)(8,"mat-card",6)(9,"mat-card-title",7),t._uU(10,"Account Information"),t.qZA(),t.TgZ(11,"mat-card",8),t.YNc(12,Vs,11,3,"div",9),t.TgZ(13,"div",10),t.YNc(14,Qs,5,1,"div",11),t.YNc(15,Rs,5,2,"div",11),t.YNc(16,Ys,5,0,"div",11),t.YNc(17,Hs,5,0,"div",11),t.qZA(),t.YNc(18,Gs,9,1,"div",9),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"mat-card-title",12),t._uU(21,"Transaction Information"),t.qZA(),t.TgZ(22,"div",13),t.YNc(23,zs,7,5,"mat-form-field",14),t.YNc(24,$s,7,4,"mat-form-field",14),t.YNc(25,tu,7,6,"mat-form-field",15),t.YNc(26,au,6,3,"mat-form-field",15),t.qZA(),t.TgZ(27,"div",16)(28,"div",17)(29,"mat-card"),t._UZ(30,"input",18),t.qZA(),t.TgZ(31,"p",19),t._uU(32,"Exchange rate : 0.89"),t.qZA()(),t.TgZ(33,"mat-card",20),t._UZ(34,"input",21),t.qZA(),t.TgZ(35,"mat-card",22),t._UZ(36,"input",23),t.TgZ(37,"div",24),t._UZ(38,"img",25),t.TgZ(39,"div",26)(40,"p",27),t._uU(41),t.qZA(),t.TgZ(42,"p",28),t._uU(43),t.qZA(),t._UZ(44,"hr"),t.TgZ(45,"p",29),t._uU(46),t.qZA()()()()()()()()(),t.TgZ(47,"div",30)(48,"div",31)(49,"button",32),t._uU(50,"Back"),t.qZA(),t.YNc(51,iu,2,1,"button",33),t.YNc(52,ru,2,1,"button",33),t.TgZ(53,"button",34),t._uU(54,"Exit"),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",n.chequedepositForm),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(2),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",n.hideDetails),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum),t.xp6(1),t.Q6J("ngIf",n.showAccountNum),t.xp6(12),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij("Transaction Amount:",n.chequedepositForm.get("transactionAmount").value,""),t.xp6(2),t.hij("Total Charge Amount:",n.chequedepositForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij("Total Transaction Amount:",n.chequedepositForm.get("totalTransactionAmount").value,""),t.xp6(5),t.Q6J("ngIf",n.showAccountNum),t.xp6(1),t.Q6J("ngIf",!n.showAccountNum))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,k.Hw,w.lW,p.a8,p.n5,g.TO,g.KE,g.bx,g.hX,I.Nt,m.xw,m.SQ,m.Wh,m.s9,m.yH,q.gD,O.ey,c.sg,c.u,l.JJ],styles:['.accountInfoCard[_ngcontent-%COMP%]{background:#F2F2F2 0% 0% no-repeat padding-box;border-radius:18px}.hint[_ngcontent-%COMP%]{margin-left:7%}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt #00000029;box-sizing:border-box;margin-left:0;padding:13px}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#304156}.chargebox[_ngcontent-%COMP%]{height:45%;margin-left:3.5%;max-width:27.5%!important}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.textcolor[_ngcontent-%COMP%]{color:#fff}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.inputCard[_ngcontent-%COMP%]{box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;background-color:#f9fafb;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.continueBtn[_ngcontent-%COMP%]{width:553px;height:50px;color:#fff;background:transparent linear-gradient(90deg,#051A2D 0%,#004C97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:30%;background-color:#fff;color:#e50000;font-family:sans-serif;font-weight:700}.backBtn[_ngcontent-%COMP%]{font-weight:700;width:263px;height:50px;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}.accinfo[_ngcontent-%COMP%]{font-size:22px;color:#004c97;margin-left:1%;font-family:Poppins,Medium}']}),o})();const su=["contentDiv"],uu=["widgetsContent"];function lu(o,r){1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",30),t.qZA())}function mu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",18),t.ynx(1),t.TgZ(2,"mat-card",19),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw();return t.KtG(s.goToService(i))}),t.TgZ(3,"div",20),t.YNc(4,lu,2,0,"div",21),t.qZA(),t.TgZ(5,"div",22)(6,"div",23)(7,"mat-card",24)(8,"div",25)(9,"div")(10,"mat-card",26),t._UZ(11,"img",27),t.qZA()()()()()(),t.TgZ(12,"div",28)(13,"mat-hint",29),t._uU(14),t.qZA()()(),t.BQk(),t.qZA()}if(2&o){const e=r.$implicit;t.xp6(2),t.Q6J("ngClass",e.flag?"borderCard":"inputCard"),t.xp6(2),t.Q6J("ngIf",e.flag),t.xp6(2),t.Q6J("ngClass",e.flag?"mt9":"mt25"),t.xp6(5),t.s9C("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.title)}}let hu=(()=>{class o{constructor(e){this.router=e,this.flag=!0,this.continue="CONTINUE",this.active={},this.folders=[{title:"Cash Withdrawal",id:1,flag:!1,link:"others/cash-withdrawal",image:"assets/images/cash_withdrawal.png"},{title:"Cash Deposit",id:2,flag:!1,link:"others/cash-deposit",image:"assets/images/cash_deposit.png"},{title:"Cheque Deposit",id:3,flag:!1,link:"others/cheque-deposit",image:"assets/images/cheque_deposit.png"},{title:"Cheque Withdrawal",id:4,flag:!1,link:"others/cheque-withdrawal",image:"assets/images/check_withdrawal.png"},{title:"Forex Transaction",id:5,flag:!1,link:"others/forex-transaction",image:"assets/images/forex_transaction.png"},{title:"Loan Payment",id:6,flag:!1,link:"others/loan-payment",image:"assets/images/loan_payment.png"},{title:"Deposit Top Up",id:7,flag:!1,link:"others/deposit-topup",image:"assets/images/deposit_top_up.png"},{title:"Utility Bill Payment",id:8,flag:!1,link:"others/utility-billpayment",image:"assets/images/utility_billpayment.png"}]}ngOnInit(){}goToService(e){this.active!==e&&(this.active=e,this.folders.forEach(n=>{n.flag=!1})),this.folders[e].flag=!this.folders[e].flag}contiueButton(){return this.enableList=this.folders.filter(e=>!0===e.flag),console.log(this.enableList),this.enableList.length>0}goToOperations(){this.router.navigate([this.enableList[0].link])}scrollLeft(){this.contentDiv.nativeElement.scrollLeft-=640}scrollRight(){this.contentDiv.nativeElement.scrollLeft+=640}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-select-service"]],viewQuery:function(e,n){if(1&e&&(t.Gf(su,5,t.SBq),t.Gf(uu,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.contentDiv=a.first),t.iGM(a=t.CRH())&&(n.widgetsContent=a.first)}},decls:33,vars:3,consts:[[1,"fullcard"],["fxLayout","row-wrap","fxLayoutAlign","center center"],["fxFlex","72%"],[1,"chequecard"],[1,"matcard-title"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"card-title"],["fxLayout","row wrap"],[1,"totalAmount"],[1,"slideCard"],["mat-icon-button","",3,"click"],[1,"scrollIcon"],[1,"custom-slider-main"],["contentDiv","","widgetsContent",""],["fxLayout","row wrap","fxLayoutGap","40px ","class","gapBtw",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center",2,"padding","0% 2%"],[1,"full-width",2,"padding","2% 0% 3.5% 0%"],["mat-flat-button","",3,"ngClass","click"],["fxLayout","row wrap","fxLayoutGap","40px ",1,"gapBtw"],[3,"ngClass","click"],["fxLayout","row","fxLayoutAlign","start center"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between center"],[3,"ngClass"],[1,"insideCard"],["fxLayout","row","fxLayoutAlign","center center"],[1,"matCardTransparent",2,"background-color","transparent"],["alt","",3,"src"],[2,"text-align","center","padding-top","20%"],[1,"insideTitle"],["src","assets/images/checked.png","alt","",2,"width","23px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"br"),t.TgZ(2,"div",1)(3,"div",2)(4,"mat-card",3)(5,"mat-card-title",4)(6,"div",5)(7,"div")(8,"div",6),t._uU(9,"Services"),t.qZA(),t.TgZ(10,"div",7)(11,"mat-hint",8),t._uU(12,"Select one and continue"),t.qZA()()(),t.TgZ(13,"div")(14,"mat-card",9)(15,"div",5)(16,"div")(17,"button",10),t.NdJ("click",function(){return n.scrollLeft()}),t.TgZ(18,"mat-icon",11),t._uU(19,"chevron_left"),t.qZA()()(),t.TgZ(20,"div")(21,"button",10),t.NdJ("click",function(){return n.scrollRight()}),t.TgZ(22,"mat-icon",11),t._uU(23,"chevron_right"),t.qZA()()()()()()()(),t.TgZ(24,"mat-card-content")(25,"div",12,13),t.YNc(28,mu,15,5,"div",14),t.qZA(),t.TgZ(29,"div",15)(30,"div",16)(31,"button",17),t.NdJ("click",function(){return n.goToOperations()}),t._uU(32),t.qZA()()()()()()()()),2&e&&(t.xp6(28),t.Q6J("ngForOf",n.folders),t.xp6(3),t.Q6J("ngClass",n.contiueButton()?"buttonActive":"buttonPassive"),t.xp6(1),t.Oqu(n.continue))},dependencies:[l.mk,l.sg,l.O5,k.Hw,w.lW,p.a8,p.dn,p.n5,g.bx,m.xw,m.SQ,m.Wh,m.yH,S.oO],styles:[".fullcard[_ngcontent-%COMP%]{background-color:#ecf3f2;width:100%;height:100%}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.gapBtw[_ngcontent-%COMP%]{padding:8px}.card-title[_ngcontent-%COMP%]{font-family:system-ui;font-size:24px;padding-left:10px}.totalAmount[_ngcontent-%COMP%]{font-family:system-ui;font-size:14px;padding-top:8px;padding-left:10px}.insideTitle[_ngcontent-%COMP%]{font-size:13px;font-family:system-ui;color:#000;font-weight:500}.noScrollDiv[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.noScrollDiv[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow-x:scroll}#contentDiv[_ngcontent-%COMP%]{display:flex;overflow:hidden;scroll-behavior:smooth}.matCardTransparent.mat-card[_ngcontent-%COMP%]{box-shadow:0 0,0 0!important}.mt25[_ngcontent-%COMP%]{margin-top:25%}.mt9[_ngcontent-%COMP%]{margin-top:9%}.full-width[_ngcontent-%COMP%]{flex-direction:row;display:flex;padding:15px;overflow:auto}.insideCard[_ngcontent-%COMP%]{width:120px;height:130px;background-color:#fe6700;border-radius:30px}.inputCard[_ngcontent-%COMP%]{background-color:#fff;box-sizing:border-box;width:210px;height:300px;cursor:pointer;border-radius:10px}.borderCard[_ngcontent-%COMP%]{box-sizing:border-box;width:210px;height:300px;border-style:solid;border-width:thin;border-color:#456efe;cursor:pointer;border-radius:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.buttonActive[_ngcontent-%COMP%]{border-radius:20px;width:100%;background-color:#1bcd9d;color:#fff;font-family:sans-serif}.buttonPassive[_ngcontent-%COMP%]{border-radius:20px;width:100%;background-color:#e3e3e3;color:#fff;font-family:sans-serif}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#E3E3E3;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#E3E3E3}.serviceIcons[_ngcontent-%COMP%]{color:#fff;font-size:36px;padding:26px}.slideCard[_ngcontent-%COMP%]{border:1px solid #ecf3f2;padding:0!important;border-radius:30px;width:80px}.custom-slider-main[_ngcontent-%COMP%]{display:flex;overflow:hidden;scroll-behavior:smooth}.matcard-title[_ngcontent-%COMP%]{padding:2%;margin-bottom:-2%}.scrollIcon[_ngcontent-%COMP%]{font-size:26px;color:#456efe}"]}),o})();var W=f(6856);function du(o,r){if(1&o&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}let pu=(()=>{class o{constructor(e,n,a){this.router=e,this.formBuilder=n,this.dialogService=a,this.utilityBillpayment="Utility Bill Payment",this.testing=[{value:"Demo",viewValue:"Demo 1"},{value:"Demo",viewValue:"Demo 2"},{value:"Demo",viewValue:"Demo 3"}]}ngOnInit(){this.utilityBillPaymentForm=this.formBuilder.group({billerName:["",[c.kI.required]],amount:["",[c.kI.required]],payFromAcc:["",[c.kI.required]],billDate:["",[c.kI.required]],billNumber:["",[c.kI.required]]})}goToServiceScreens(){this.router.navigateByUrl("/others/kioskHome")}goToAuthenticate(){this.dialogService.authenticationDialog()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-utility-billpayment"]],decls:69,vars:5,consts:[[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","80%"],[1,"chequecard"],[2,"padding","2%"],["fxLayout","row","fxLayoutAlign","start center"],[1,"backIcon",3,"click"],[1,"card-title"],[1,"full-width",2,"padding","0% 3% 3% 2%"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"totalAmount"],[1,"inputCard"],["matInput","","formControlName","billerName","type","text","name","billerName",1,"full-width","inputClass"],["matInput","","formControlName","amount","type","text","name","amount",1,"full-width","inputClass"],["fxFlex","34%","fxFlex.xs","100%"],["matInput","","formControlName","payFromAcc","type","text","name","payFromAcc",1,"full-width","inputClass"],["layout","row"],["flex","",1,"line"],[1,"inputCard","heightAdjust"],["matInput","","formControlName","billDate",1,"inputWidth","inputClass",3,"matDatepicker"],["matSuffix","",2,"margin-left","15%",3,"for"],["picker",""],["formControlName","billNumber",1,"full-width",2,"background-color","#f9fafb"],[3,"value",4,"ngFor","ngForOf"],["rows","5","cols","6",1,"full-width","inputClass"],["fxFlex","30%","fxFlex.xs","100%",2,"padding","0% 1%"],["mat-flat-button","",1,"buttonCancel","full-width",3,"click"],["fxFlex","100%","fxFlex.xs","100%",2,"padding","0% 2%"],["mat-flat-button","",1,"buttonNext","full-width",3,"disabled","click"],[3,"value"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-title",4)(5,"div",5)(6,"div")(7,"mat-icon",6),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(8,"keyboard_backspace"),t.qZA()(),t._uU(9," \xa0\xa0 "),t.TgZ(10,"div",7),t._uU(11,"Utility Bill Payment"),t.qZA()()(),t.TgZ(12,"mat-card-content")(13,"div",8)(14,"form",9)(15,"div",10)(16,"div")(17,"div",11),t.ynx(18),t.TgZ(19,"div",12)(20,"mat-hint",13),t._uU(21,"Biller Name*"),t.qZA(),t.TgZ(22,"mat-card",14),t._UZ(23,"input",15),t.qZA()(),t.TgZ(24,"div",12)(25,"mat-hint",13),t._uU(26," Amount*"),t.qZA(),t.TgZ(27,"mat-card",14),t._UZ(28,"input",16),t.qZA()(),t.TgZ(29,"div",17)(30,"mat-hint",13),t._uU(31,"Pay from Account* "),t.qZA(),t.TgZ(32,"mat-card",14),t._UZ(33,"input",18),t.qZA()(),t.BQk(),t.qZA()(),t.TgZ(34,"div")(35,"span",19),t._UZ(36,"hr",20),t.qZA()(),t.TgZ(37,"div")(38,"div",11),t.ynx(39),t.TgZ(40,"div",12)(41,"mat-hint",13),t._uU(42,"Bill Date*"),t.qZA(),t.TgZ(43,"mat-card",21),t._UZ(44,"input",22)(45,"mat-datepicker-toggle",23)(46,"mat-datepicker",null,24),t.qZA()(),t.TgZ(48,"div",12)(49,"mat-hint",13),t._uU(50,"Bill Number* "),t.qZA(),t.TgZ(51,"mat-card",14)(52,"mat-select",25),t.YNc(53,du,2,2,"mat-option",26),t.qZA()()(),t.TgZ(54,"div",17)(55,"mat-hint",13),t._uU(56,"Remark"),t.qZA(),t.TgZ(57,"mat-card",14)(58,"textarea",27),t._uU(59,"                                                "),t.qZA()()(),t.BQk(),t.qZA()(),t.TgZ(60,"div")(61,"div",11),t.ynx(62),t.TgZ(63,"div",28)(64,"button",29),t.NdJ("click",function(){return n.goToServiceScreens()}),t._uU(65,"CANCEL"),t.qZA()(),t.TgZ(66,"div",30)(67,"button",31),t.NdJ("click",function(){return n.goToAuthenticate()}),t._uU(68,"CONTINUE"),t.qZA()(),t.BQk(),t.qZA()()()()()()()()()()),2&e){const a=t.MAs(47);t.xp6(14),t.Q6J("formGroup",n.utilityBillPaymentForm),t.xp6(30),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a),t.xp6(8),t.Q6J("ngForOf",n.testing),t.xp6(14),t.Q6J("disabled",!(n.utilityBillPaymentForm.get("billerName").valid&&n.utilityBillPaymentForm.get("amount").valid&&n.utilityBillPaymentForm.get("payFromAcc").valid&&n.utilityBillPaymentForm.get("billDate").valid&&n.utilityBillPaymentForm.get("billNumber").valid))}},dependencies:[l.sg,c._Y,c.Fj,c.JJ,c.JL,k.Hw,w.lW,p.a8,p.dn,p.n5,g.bx,g.R9,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u,W.Mq,W.hl,W.nW],styles:[".fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:110%}.backIcon[_ngcontent-%COMP%]{padding-top:3px;cursor:pointer}.chequecard[_ngcontent-%COMP%]{margin-top:2%;height:auto;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:20px}.outer-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.content-Div[_ngcontent-%COMP%]{padding:6%}.paddingright[_ngcontent-%COMP%]{padding-right:20px}.closeDrawerIcon[_ngcontent-%COMP%]{font-size:xx-large}.title-Class[_ngcontent-%COMP%]{color:#000;font-family:sans-serif;font-weight:700}.spaceDiv[_ngcontent-%COMP%]{padding-right:3%}.spaceUserImage[_ngcontent-%COMP%]{padding-left:2%;width:12%}.user-name-Div[_ngcontent-%COMP%]{font-size:small;font-weight:bolder;font-family:sans-serif;margin-top:10px;margin-bottom:-10px}.title-Font[_ngcontent-%COMP%]{font-family:sans-serif;color:#000;width:90%;font-weight:700}.token-Div[_ngcontent-%COMP%]{font-size:x-small;color:#7e84a3;font-family:sans-serif}.token-id-class[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#fafafa;border-radius:4px}.width100[_ngcontent-%COMP%]{width:100%}.details-Div[_ngcontent-%COMP%]{background-color:#f8f8f8}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.icon[_ngcontent-%COMP%]{float:right;color:#000;font-weight:700}.btnConfirmClass[_ngcontent-%COMP%]{background-color:#456efe;color:#fff;border-radius:20px;width:120px;font-family:sans-serif;font-size:smaller}.btnDiv[_ngcontent-%COMP%]{padding-top:15%}.btnCancelClass[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#5d5d5d!important;border-radius:20px!important;width:120px!important;font-family:sans-serif!important;font-size:smaller!important}.width50[_ngcontent-%COMP%]{width:50%}.line[_ngcontent-%COMP%]{width:97%;align-self:center;border-top-width:1px;border-top-style:solid;border-top-color:#f5f5f5;margin-left:2%}.buttonNext[_ngcontent-%COMP%]{border-radius:20px;font-family:sans-serif;background-color:#1bcd9d;color:#fff}.buttonCancel[_ngcontent-%COMP%]{border-radius:25px;border-color:#fff;background-color:#e3e3e3;color:#fff;font-family:sans-serif}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.heightAdjust[_ngcontent-%COMP%]{padding:6px}.inputClass[_ngcontent-%COMP%]{background-color:#f9fafb;border-top-style:hidden;border-right-style:hidden;border-left-style:hidden;border-bottom-style:hidden}input[_ngcontent-%COMP%]:focus{outline:none}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#7e84a3;padding-left:10px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.chargeDetailsTbl[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-collapse:collapse;border-radius:10px}.chargeDetailsDiv[_ngcontent-%COMP%]{padding-bottom:20px}.thchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f2f0f0;color:#968e8e;font-family:sans-serif;text-align:center;border-bottom-style:none}.tbchargeDetailsTbl[_ngcontent-%COMP%]{background-color:#f9f9f9;font-size:x-small;font-family:sans-serif;text-align:center;color:#726868}.titleHead[_ngcontent-%COMP%]{padding-bottom:20px}.inputWidth[_ngcontent-%COMP%]{width:180px}"]}),o})();function gu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"app-header",3),t.NdJ("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome1())}),t.qZA()(),t.TgZ(3,"div",4)(4,"mat-card",5),t._UZ(5,"app-account-information-form",6)(6,"app-transaction-information-form",7),t.qZA()(),t.TgZ(7,"div",8)(8,"app-footer",9),t.NdJ("save",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit(a))})("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome())})("exit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.cheqDepositForm),t.xp6(2),t.Q6J("title",e.title),t.xp6(6),t.Q6J("cancelDisabled",!1)("saveDisabled",e.cheqDepositForm.get("account").invalid||e.cheqDepositForm.get("transaction").invalid||e.tokendisable)}}let _u=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v){this.formBuilder=e,this.ls=n,this.apiService=a,this.router=i,this.dialogService=s,this.dialog=u,this.snack=h,this._location=d,this.dataService=_,this.cd=v,this.title="Cheque Deposit",this.Token=new fu,this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="KN",this.oTpModel=new M.m,this.ifQRvariable=!1,this.denomRequired="",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.tokenOrigin="Kiosk",this.displayDenom=!1,this.tokendisable=!1}ngOnInit(){this.custValidation=localStorage.getItem("customerValidation"),this.cheqDepositForm=this.formBuilder.group({account:["",c.kI.required],transaction:["",c.kI.required],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],productCode:["CQD",c.kI.required],tokenOrigin:["Kiosk",c.kI.required],estimatedWaitTime:["",[c.kI.required]],narrative:["",[c.kI.required]]}),console.log("Cash withdrawal",this.cheqDepositForm),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.cheqDepositForm.valueChanges.subscribe(e=>{console.log("Value Changes",e)}),console.log(this.cheqDepositForm.get("account").valid),this.cheqDepositForm.get("account").valueChanges.subscribe(e=>{console.log("Value changes for account",e)}),this.dataService.gettransactionFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(console.log("Account component?",e),this.transactiondata=e,this.transactiondata.transactionAmount&&(this.displayDenom=!0))}),this.dataService.getaccountFormdata.subscribe(e=>{0!=Object.keys(e).length&&e.constructor===Object&&(console.log("Account component?",e),this.appointmentDetails=e,console.log("Account component?",this.appointmentDetails.appointmentId))}),this.dataService.getNavParam.subscribe(e=>{console.log(e),this.titleData=e})}redirectToHome1(){console.log("Redirect"),this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}redirectToHome(){this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removeNavParam(this.titleData),this.dataService.removedenominationFormData(this.denominationdata),this.router.navigateByUrl("/others/kioskHome")}onSubmit(e){console.log("On submit form",this.cheqDepositForm.value,e),"showAccountNum"==e&&this.onSaveofchequeDeposit(this.cheqDepositForm.value,this.ifQRvariable,this.denominationdata),"NotshowAccountNum"==e&&this.getOTP(this.cheqDepositForm.value,this.ifQRvariable,this.denominationdata)}onSaveofchequeDeposit(e,n,a){var i;console.log(e,n,a),this.Token.transactionBranch=this.transBranch,this.Token.tokenBranch="KN",this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(s=>{this.qrBranchCode=s,console.log(s)}),null!==(i=this.appointmentDetails)&&void 0!==i&&i.appointmentId?(console.log(this.appointmentDetails),this.Token.customerId=this.appointmentDetails.customerId,this.Token.accountNumber=this.appointmentDetails.accountNumber,this.Token.accountType=this.appointmentDetails.accountType,this.Token.accountCurrency=this.appointmentDetails.accountCurrency,this.Token.accountBalance=this.appointmentDetails.accountBalance,this.Token.accountBranch=this.appointmentDetails.accountBranch,this.Token.holderName=this.appointmentDetails.holderName,this.Token.transactionCurrency=this.appointmentDetails.transactionCurrency,this.Token.transactionAmount=this.appointmentDetails.transactionAmount,this.Token.transactionId=this.appointmentDetails.transactionId,this.Token.totalChargeAmount=this.appointmentDetails.totalChargeAmount,this.Token.totalTransactionAmount=this.appointmentDetails.totalTransactionAmount,this.Token.chequeType=e.transaction.chequeType,this.Token.chequeNumber=e.transaction.chequeNumber,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQD",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="",console.log("Not a qrvariable",this.Token)):(console.log("Not a qrvariable",this.Token),this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=this.qrData?e.transaction.transactionAmount:e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.chequeType=e.transaction.chequeType,this.Token.chequeNumber=e.transaction.chequeNumber,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQD",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount=""),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.Token).subscribe(s=>{console.log("Response Success, Data Saved",s),this.cheqDepositResponse=s,this.tokenNum=this.cheqDepositResponse.tokenNumber,this.estimatedTime=this.cheqDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cheqDepositResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},s=>{console.log(s),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cheqDepositResponse&&(console.log(this.cheqDepositResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}getOTP(e,n,a){this.phonenum=this.ls.getItem("phonenumFromLogin"),this.chequedepositValues=e,this.chequedepositype=n,this.cheqDepositForm=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum,this.oTpModel.isMobileLogin=!1;let s=this.chequedepositValues.transaction.transactionAmount.replace(/,/g,"");console.log(s),s>=5e4?(this.tokendisable=!0,this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&(this.openDialogOTP(this.phonenum),this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))})):this.getOTPforSave(this.chequedepositValues,this.chequedepositype,this.cheqDepositForm)}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getOTPforSave(this.chequedepositValues,this.chequedepositype,this.cheqDepositForm)})}getOTPforSave(e,n,a){console.log(e),console.log(this.custValidation),"New Customer"==this.custValidation?(this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.chequeType=e.transaction.chequeType,this.Token.chequeNumber=e.transaction.chequeNumber,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQD",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount=""):(console.log("Not a new customer"),this.Token.customerId=e.account.customerId,this.Token.accountNumber=e.account.accountNumber,this.Token.accountType=e.account.accountType,this.Token.accountCurrency=e.account.accountCurrency,this.Token.accountBalance=e.account.accountBalance,this.Token.accountBranch=e.account.accountBranch,this.Token.holderName=e.account.holderName,this.Token.transactionCurrency=e.transaction.transactionCurrency,this.Token.transactionAmount=e.transaction.transactionAmount.replace(/,/g,""),this.Token.transactionId=e.transaction.transactionId,this.Token.totalChargeAmount=e.transaction.totalChargeAmount,this.Token.totalTransactionAmount=e.transaction.totalTransactionAmount,this.Token.chequeType=e.transaction.chequeType,this.Token.chequeNumber=e.transaction.chequeNumber,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="CQW",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.exchangeRate="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="",console.log(this.Token)),this.appointmentId&&this.appointmentId.data&&(this.Token.transactionId=this.appointmentId.data.transactionId,this.Token.transactionStatus=this.appointmentId.data.transactionStatus),console.log("before api call :: ",this.Token),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.Token).subscribe(i=>{console.log("Response Success",i),this.cheqDepositResponse=i,this.tokenNum=this.cheqDepositResponse.tokenNumber,this.estimatedTime=this.cheqDepositResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cheqDepositResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},i=>{console.log(i),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cheqDepositResponse&&(console.log(this.cheqDepositResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}ngOnDestroy(){localStorage.removeItem("chq_page")}ngDoCheck(){this.cd.markForCheck()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(D.g),t.Y36(N.s),t.Y36(x.F0),t.Y36(T.x),t.Y36(A.uw),t.Y36(F.ux),t.Y36(l.Ye),t.Y36(P.D),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cheq-d"]],decls:1,vars:1,consts:[["class","screensize",3,"formGroup",4,"ngIf"],[1,"screensize",3,"formGroup"],[2,"margin-top","-3%"],[3,"title","back"],["fxLayout","row"],["fxFlex","79.5%",2,"margin-top","0.9%","height","535px","box-shadow","0px 3px 6px #00000029","border-radius","10px","opacity","1","margin-left","7.5%"],["formControlName","account"],["formControlName","transaction"],[2,"margin-top","-1%","margin-left","-0.3%"],["saveText","Continue",3,"cancelDisabled","saveDisabled","save","cancel","exit"]],template:function(e,n){1&e&&t.YNc(0,gu,9,4,"form",0),2&e&&t.Q6J("ngIf",n.cheqDepositForm)},dependencies:[l.O5,c._Y,c.JJ,c.JL,p.a8,m.xw,m.yH,c.sg,c.u,U,V,H,K],changeDetection:0}),o})();class fu{}function Cu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",42),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onForexCountryChange(i))}),t.TgZ(1,"div",43)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"div",44),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("value",e.currencyCode)("disabled",e.currencyCode==n.payOrReceiveCurr),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function xu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",47),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onReceiveCountryChange(i))}),t.TgZ(1,"div",43)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"div",44),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Gre("currency-flag currency-flag-",n.addCurrencyImage1(e.currencyCode)," alignImage")}}function yu(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",8)(1,"mat-label"),t._uU(2,"Receive currency"),t.qZA(),t.TgZ(3,"div",10),t._UZ(4,"div"),t.qZA(),t.TgZ(5,"mat-select",45),t.YNc(6,xu,5,5,"mat-option",46),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage2,""),t.xp6(2),t.Q6J("ngForOf",e.countryValues)}}function vu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",49),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onReceiveCountryChange(i))}),t.TgZ(1,"div",43)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"div",44),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("hidden",n.shouldHideOption(e.currencyCode))("value",e.currencyCode)("disabled",e.currencyCode==n.forexCurrency),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Gre("currency-flag currency-flag-",n.addCurrencyImage1(e.currencyCode)," alignImage")}}function Tu(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",8)(1,"mat-label"),t._uU(2,"Pay currency"),t.qZA(),t.TgZ(3,"div",10),t._UZ(4,"div"),t.qZA(),t.TgZ(5,"mat-select",45),t.YNc(6,vu,5,7,"mat-option",48),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Gre("currency-flag ",e.currencyImage2,""),t.xp6(2),t.Q6J("ngForOf",e.countryValues)}}function Au(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",50),t.NdJ("keyup",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.displatTotalAmount())}),t.TgZ(1,"mat-label"),t._uU(2,"Receive amount*"),t.qZA(),t._UZ(3,"input",51,15),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("readOnly",e.ispayamount)}}function bu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",50),t.NdJ("keyup",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.displatTotalAmount())}),t.TgZ(1,"mat-label"),t._uU(2,"Pay amount*"),t.qZA(),t._UZ(3,"input",51,15),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("readOnly",e.ispayamount)}}let it=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v,b,y,B){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.fb=s,this.ls=u,this.snack=h,this.changeDef=d,this.elRef=_,this.renderer=v,this.dialog=b,this.cdr=y,this.dataService=B,this.forexTransaction="Forex Transaction",this.ifQRvariable=!1,this.productCode="FTX",this.tokenOrigin="Kiosk",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="1234",this.accounttypeArray=[],this.idList=[],this.tokenObjects=new R,this.enableContinue=!0,this.isedit=!1,this.currencyImage="",this.accountNoList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1,this.denomRequired="",this.hideDetails=!1,this.hideAccNum=!1,this.subscriptions=[],this.checked=!0,this.ispayamount=!1,this.isforexamount=!1,this.totalval=5,this.onChange=()=>{},this.onTouched=()=>{},this.sourceRuleMappingArray=[]}get value(){return this.detailsForm.value}set value(e){this.detailsForm.setValue(e),this.onChange(e),this.onTouched()}get emailControl(){return this.detailsForm.controls.email}ngOnInit(){this.chqPage=localStorage.getItem("chq_page"),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),console.log("Tranaform",this.phoneNumber),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.detailsForm=new c.cw({customerId:new c.NI(""),forexTransType:new c.NI("purchase",c.kI.required),forexCurrency:new c.NI("",c.kI.required),transactionBranch:new c.NI(""),forexAmount:new c.NI("",c.kI.required),totalTransactionAmount:new c.NI(""),negotiatedRate:new c.NI(""),totalChargeAmount:new c.NI(""),exchangeRate:new c.NI(""),documentNumber:new c.NI("",c.kI.required),documentId:new c.NI("",[c.kI.required]),forexTransCurrency:new c.NI("",[c.kI.required]),forexTransAmount:new c.NI("",[c.kI.required]),totalAmountIn:new c.NI(""),totalAmountOut:new c.NI(""),forextotaldenomin:new c.NI(""),forextotaldenomout:new c.NI("")}),console.log(this.detailsForm),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),("New Customer"==this.custValidation||null!=this.custNameFromLogin)&&(this.hideAccNum=!1,this.showAccountNum=!1,this.showAccoutType=!1),this.appointmentId&&this.appointmentId.data.appointmentId&&(console.log("check"),this.cashWithdrawlData()),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.hideAccNum=!0,this.showAccountNum=!0,this.showAccoutType=!0,console.log("New Customer"),this.gettingallTansactionDetails(this.phoneNumber)),this.getCountrynameValues(),this.subscriptions.push(this.detailsForm.valueChanges.subscribe(e=>{this.onChange(e),this.onTouched()})),console.log(this.detailsForm)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}displatTotalAmount(){console.log("Amount",this.detailsForm.controls.forexTransCurrency.value,this.totalval),this.chargeamount=Number(this.detailsForm.controls.forexTransAmount.value)-this.totalval,this.detailsForm.controls.totalTransactionAmount.setValue(this.chargeamount)}registerOnChange(e){this.onChange=e}writeValue(e){e&&(this.value=e),null===e&&this.detailsForm.reset()}registerOnTouched(e){this.onTouched=e}validate(e){return this.detailsForm.valid?null:{profile:{valid:!1}}}setValueForWalkInCustomer(e){console.log(e,this.accountCurrency),this.accountCurrency=e.currency,this.detailsForm.controls.transactionCurrency.setValue(null==e?void 0:e.currency),this.currencyImage="currency-flag-"+(null==e?void 0:e.currency.toLowerCase()),console.log(this.currencyImage)}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}onForexCountryChange(e){let n=e.currencyCode;this.forexCurrency=n,console.log(this.forexCurrency),this.currencyImage="currency-flag-"+n.toLowerCase(),this.fetchExchangeRateForexcurrency(this.payOrReceiveCurr,this.forexCurrency)}onReceiveCountryChange(e){let n=e.currencyCode;console.log(n),this.payOrReceiveCurr=n,this.currencyImage2="currency-flag-"+n.toLowerCase(),this.fetchExchangeRateForexcurrency(this.forexCurrency,this.payOrReceiveCurr)}addCurrencyImage(e){return e.toLowerCase()}addCurrencyImage1(e){return e.toLowerCase()}fetchExchangeRateForexcurrency(e,n){console.log(e,n),this.apiService.fetchExchangeRateForCurrency(e,n).subscribe(a=>{console.log(a),null==a?(this.detailsForm.controls.exchangeRate.setValue(34),this.convertedamount()):(this.exchangerateResp=a,this.denomRequired=null==a?void 0:a.denomRequired,"yes"==a.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1),"sale"==this.detailsForm.controls.forexTransType.value?(console.log(this.exchangerateResp[0].sellRate),this.detailsForm.controls.exchangeRate.setValue(this.exchangerateResp[0].sellRate),this.convertedamount()):(console.log(this.exchangerateResp[0].buyRate),this.detailsForm.controls.exchangeRate.setValue(this.exchangerateResp[0].buyRate),this.convertedamount()))}),console.log(this.detailsForm.value.exchangeRate)}cashWithdrawlData(){console.log("func is calling"),this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{console.log("working"),console.log(e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.hideAccNum=!1,this.hideDetails=!0,this.flag1=!1,this.detailsForm.controls.forexAmount.setValue(e.data.forexAmount),this.detailsForm.controls.forexTransAmount.setValue(e.data.forexTransAmount),this.detailsForm.controls.forexTransType.setValue(e.data.forexTransType),this.detailsForm.controls.customerId.setValue(e.data.customerId),this.detailsForm.controls.forexCurrency.setValue(e.data.forexCurrency),this.detailsForm.controls.forexTransCurrency.setValue(e.data.forexTransCurrency),this.detailsForm.controls.documentId.setValue(e.data.documentId),this.detailsForm.controls.documentNumber.setValue(e.data.documentNumber),this.detailsForm.controls.documentNumber.setValue(e.data.documentNumber),this.detailsForm.controls.totalTransactionAmount.setValue(e.data.forexTransAmount),this.detailsForm.controls.totalChargeAmount.setValue(5),this.detailsForm.controls.exchangeRate.setValue(e.data.exchangeRate),this.detailsForm.controls.negotiatedRate.setValue(e.data.negotiatedRate),console.log(e.data.forexTransType),e.data.accountCurrency.toLowerCase(),console.log(this.currencyImage),this.dataService.sendaccountFormData(this.cashData)}),console.log(this.cashData)}gettingallTansactionDetails(e){console.log("gfhg"),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.apiService.gettingTransactionDetails(this.phoneNumber).subscribe(n=>{console.log("All Transaction Details",n),this.detailsForm.controls.customerId.setValue(n.customerId),this.detailsForm.controls.forexTransType.setValue("purchase"),this.detailsForm.controls.totalChargeAmount.setValue(5),"purchase"==this.detailsForm.value.forexTransType&&console.log("Purchase"),console.log(this.accountNoList)})}changeTransType(e){console.log(e),this.transactionTypes=e,this.checked=!this.checked,this.dataService.sendNavforexTransType(e),console.log(this.detailsForm)}shouldHideOption(e){return this.sourceRuleMappingArray.find(n=>n==e)}convertedamount(){""!=this.detailsForm.controls.forexAmount.value&&""!=this.detailsForm.value.exchangeRate&&""==this.detailsForm.controls.forexTransAmount.value||this.ispayamount?(console.log("forex amount"),this.payamount=this.detailsForm.controls.negotiatedRate.value?Number(this.detailsForm.controls.forexAmount.value)*Number(this.detailsForm.controls.negotiatedRate.value):Number(this.detailsForm.controls.forexAmount.value)*this.detailsForm.value.exchangeRate,this.detailsForm.controls.forexTransAmount.setValue(this.payamount),this.displatTotalAmount(),this.ispayamount=!0,this.detailsForm.controls.forextotaldenomin.setValue(this.detailsForm.value.forexAmount),this.detailsForm.controls.forextotaldenomout.setValue(this.detailsForm.value.forexTransAmount)):(""!=this.detailsForm.controls.forexTransAmount.value&&""!=this.detailsForm.value.exchangeRate&&""==this.detailsForm.controls.forexAmount.value||this.isforexamount)&&(console.log("pay amount"),this.transcamount=this.detailsForm.controls.negotiatedRate.value?Number(this.detailsForm.controls.forexTransAmount.value)*Number(this.detailsForm.controls.negotiatedRate.value):Number(this.detailsForm.controls.forexTransAmount.value)*this.detailsForm.value.exchangeRate,this.detailsForm.controls.forexAmount.setValue(this.transcamount),this.displatTotalAmount(),this.isforexamount=!0,this.detailsForm.controls.forextotaldenomin.setValue(this.detailsForm.value.forexTransAmount),this.detailsForm.controls.forextotaldenomout.setValue(this.detailsForm.value.forexAmount)),this.dataService.sendNavforexTransType(this.detailsForm.value)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(c.qu),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-details-information"]],features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0},{provide:c.Cf,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],decls:73,vars:18,consts:[[1,"section"],[2,"font-size","15px","color","#004c97","margin-top","20px"],[2,"flex-direction","column","margin-top","18px",3,"formGroup"],["fxFlex","row wrap","fxFlex","100%",2,"margin-left","-20px"],["color","primary","formControlName","forexTransType","aria-label","Select an option",3,"change"],["value","purchase",2,"padding","0 1rem",3,"ngClass","checked"],["value","sale",3,"ngClass"],["fxFlex","row wrap","fxLayoutGap","1%","fxFlex","100%",1,"form_row_wrap",2,"margin-top","10px"],["appearance","outline","fxFlex","35%",2,"border-radius","12px"],[2,"color","#707070","border-color","#707070 !important"],["fxFlex","11%"],["formControlName","forexCurrency"],[3,"value","disabled","click",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","60%",1,"mat_form_field_border",2,"border-radius","12px"],["matInput","","type","number","formControlName","forexAmount",3,"readOnly"],["myRef",""],["fxFlex","row wrap","fxLayoutGap","1%","fxFlex","100%",1,"form_row_wrap"],["appearance","outline","style","border-radius: 12px","fxFlex","35%",4,"ngIf"],["appearance","outline","style","border-radius: 12px","fxFlex","60%",3,"keyup",4,"ngIf"],["appearance","outline","fxFlex","35%",2,"border-radius","12px","font-size","11px"],["matInput","","placeholder","negotiate rate","formControlName","negotiatedRate","type","number",3,"keyup"],["appearance","outline","floatLabel","always","fxFlex","60%",1,"mat_form_field_border",2,"border-radius","12px","font-size","10px"],[2,"color","#004c97","font-size","15px"],["formControlName","documentId"],["value","passport"],["value","visa"],["formControlName","exchangeRate"],[1,"hint"],["appearance","outline","floatLabel","always","fxFlex","96%",1,"mat_form_field_border",2,"border-radius","12px","font-size","11px"],["matInput","","type","text","formControlName","documentNumber"],["appearance","outline","fxFlex","35%",1,"mat_form_field_margin",2,"border-radius","12px","font-size","11px",3,"keyup"],["matInput","","placeholder","Total Charge Amount","formControlName","totalChargeAmount","type","number","readonly","",3,"ngModel","ngModelChange"],["appearance","outline","fxFlex","35%",1,"mat_form_field_margin",2,"border-radius","12px","font-size","11px"],["matInput","","placeholder","Total Transaction Amount","formControlName","totalTransactionAmount","type","text","readonly",""],["fxFlex","8",1,"tooltip"],["width","60%",3,"src"],[1,"tooltiptextNeg","text"],[2,"margin-top","10px","margin-bottom","6px"],[2,"margin-top","10px"],[1,"errormsge"],["src","assets/images/exchangemessageicon.png","alt",""],[1,"errortext"],[3,"value","disabled","click"],["fxLayout","row wrap"],[2,"margin-top","3.5%","margin-left","4%"],["formControlName","forexTransCurrency"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[3,"hidden","value","disabled","click",4,"ngFor","ngForOf"],[3,"hidden","value","disabled","click"],["appearance","outline","fxFlex","60%",2,"border-radius","12px",3,"keyup"],["matInput","","type","number","formControlName","forexTransAmount",3,"readOnly"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card-title",1),t._uU(2,"Details Information"),t.qZA(),t.TgZ(3,"form",2)(4,"div",3)(5,"mat-label"),t._uU(6,"Transaction type"),t.qZA(),t.TgZ(7,"mat-radio-group",4),t.NdJ("change",function(i){return n.changeTransType(i.value)}),t.TgZ(8,"mat-radio-button",5),t._uU(9,"Purchase "),t.qZA(),t.TgZ(10,"mat-radio-button",6),t._uU(11,"Sale"),t.qZA()()(),t.TgZ(12,"div",7)(13,"mat-form-field",8)(14,"mat-label",9),t._uU(15,"Forex currency"),t.qZA(),t.TgZ(16,"div",10),t._UZ(17,"div"),t.qZA(),t.TgZ(18,"mat-select",11),t.YNc(19,Cu,5,6,"mat-option",12),t.qZA()(),t.TgZ(20,"mat-form-field",13)(21,"mat-label"),t._uU(22,"Forex amount *"),t.qZA(),t._UZ(23,"input",14,15),t.qZA()(),t.TgZ(25,"div",16),t.YNc(26,yu,7,4,"mat-form-field",17),t.YNc(27,Tu,7,4,"mat-form-field",17),t.YNc(28,Au,5,1,"mat-form-field",18),t.YNc(29,bu,5,1,"mat-form-field",18),t.qZA(),t.TgZ(30,"div",16)(31,"mat-form-field",19)(32,"input",20),t.NdJ("keyup",function(){return n.convertedamount()}),t.qZA(),t.TgZ(33,"mat-label"),t._uU(34," negotiate rate"),t.qZA()(),t.TgZ(35,"mat-form-field",21)(36,"mat-label",22),t._uU(37,"Document ID"),t.qZA(),t.TgZ(38,"mat-select",23)(39,"mat-option",24),t._uU(40," passport "),t.qZA(),t.TgZ(41,"mat-option",25),t._uU(42," visa "),t.qZA()()()(),t.TgZ(43,"div",26)(44,"p",27),t._uU(45),t.qZA()(),t.TgZ(46,"div",16)(47,"mat-form-field",28)(48,"mat-label"),t._uU(49,"Document Number*"),t.qZA(),t._UZ(50,"input",29,15),t.qZA()(),t.TgZ(52,"div",16)(53,"mat-form-field",30),t.NdJ("keyup",function(){return n.displatTotalAmount()}),t.TgZ(54,"input",31),t.NdJ("ngModelChange",function(i){return n.totalval=i}),t.qZA(),t.TgZ(55,"mat-label"),t._uU(56,"Total Charge Amount"),t.qZA()(),t.TgZ(57,"mat-form-field",32),t._UZ(58,"input",33),t.TgZ(59,"mat-label"),t._uU(60,"Total Transaction Amount"),t.qZA(),t.TgZ(61,"div",34),t._UZ(62,"img",35),t.TgZ(63,"div",36)(64,"p",37),t._uU(65),t.qZA(),t._UZ(66,"hr"),t.TgZ(67,"p",38),t._uU(68),t.qZA()()()()(),t.TgZ(69,"div",39),t._UZ(70,"img",40),t.TgZ(71,"div",41),t._uU(72,'"Exchange rate may be changed at the time of transaction"'),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.detailsForm),t.xp6(5),t.Q6J("ngClass",n.checked?"trnTypeColorBlue":"trnTypeColorBlack")("checked",n.checked),t.xp6(2),t.Q6J("ngClass",n.checked?"trnTypeColorBlack":"trnTypeColorBlue"),t.xp6(7),t.Gre("currency-flag ",n.currencyImage,""),t.xp6(2),t.Q6J("ngForOf",n.countryValues),t.xp6(4),t.Q6J("readOnly",n.isforexamount),t.xp6(3),t.Q6J("ngIf","sale"==n.detailsForm.get("forexTransType").value),t.xp6(1),t.Q6J("ngIf","purchase"==n.detailsForm.get("forexTransType").value),t.xp6(1),t.Q6J("ngIf","sale"==n.detailsForm.get("forexTransType").value),t.xp6(1),t.Q6J("ngIf","purchase"==n.detailsForm.get("forexTransType").value),t.xp6(16),t.hij("Exchange rate : ",n.detailsForm.get("exchangeRate").value,""),t.xp6(9),t.Q6J("ngModel",n.totalval),t.xp6(8),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij(" Total Charge Amount:",n.detailsForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij(" Total Transaction Amount:",n.detailsForm.get("totalTransactionAmount").value," "))},dependencies:[l.mk,l.sg,l.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,m.xw,m.SQ,m.yH,S.oO,g.KE,g.hX,I.Nt,O.ey,J.VQ,J.U0,q.gD,p.n5],styles:[".section[_ngcontent-%COMP%]{margin-left:2%}.accountInfoCard[_ngcontent-%COMP%]{background:#f2f2f2 0% 0% no-repeat padding-box;border-radius:18px;box-shadow:unset!important}.checkBox[_ngcontent-%COMP%]{border-radius:50%}.transType[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}  .mat-form-field-wrapper{padding-bottom:.4em}mat-radio-button[_ngcontent-%COMP%]{font-size:12px;margin-left:10px}  .egret-navy .mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#004c97}  .egret-navy .mat-radio-button.mat-primary .mat-radio-inner-circle{background-color:#004c97}.trnTypeColorBlue[_ngcontent-%COMP%]{color:#004c97}.trnTypeColorBlack[_ngcontent-%COMP%]{color:#000}.errormsge[_ngcontent-%COMP%]{display:flex;margin-top:10px}  .mat-focused .mat-form-field-label{color:#004c97!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#004c97!important}  .mat-form-field-appearance-outline.mat_form_field_border .mat-form-field-outline{color:#004c97!important}mat-label[_ngcontent-%COMP%]{font-family:Poppins,Medium!important;margin-left:3%!important}  .mat-select-value-text{margin-left:10px}input.mat-input-element[_ngcontent-%COMP%]{margin-left:10px}.hint[_ngcontent-%COMP%]{font-size:10px;font-weight:700}  .mat-form-field-underline{background-color:green!important}  .mat-form-field-ripple{background-color:green!important}"],changeDetection:0}),o})();function wu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",2)(1,"div",3)(2,"mat-card",4),t._UZ(3,"app-details-information",5),t.qZA(),t.TgZ(4,"div",6),t._UZ(5,"app-denomination-info",7),t.qZA()(),t.TgZ(6,"div",8)(7,"app-footer",9),t.NdJ("save",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit(a))})("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome())})("exit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.forexForm),t.xp6(7),t.Q6J("cancelDisabled",!1)("saveDisabled",!e.forexForm.get("detailInfo").valid||e.tokendisable)}}let Iu=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.formBuilder=e,this.ls=n,this.apiService=a,this.router=i,this.dialogService=s,this.dialog=u,this.snack=h,this._location=d,this.dataService=_,this.title="Cash Forex Transaction",this.forexToken=new Nu,this.denomRequired="",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.ifQRvariable=!1,this.tokenOrigin="Kiosk",this.enableContinue=!0,this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="KN",this.oTpModel=new M.m,this.displayDenom=!1,this.saveDisabled=!0,this.tokendisable=!1}ngOnInit(){this.custValidation=localStorage.getItem("customerValidation"),this.forexForm=this.formBuilder.group({detailInfo:["",c.kI.required],denomination:[],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:[""],productCode:["FTX",c.kI.required],tokenOrigin:["Kiosk",c.kI.required],estimatedWaitTime:[""],narrative:[""]}),console.log("Cash withdrawal",this.forexForm),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),console.log(this.appointmentId),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.dataService.gettransactionFormdata.subscribe(e=>{console.log(0===Object.keys(e).length,e.constructor===Object),0!=Object.keys(e).length&&e.constructor===Object&&(this.transactiondata=e,console.log(this.transactiondata),this.transactiondata.transactionAmount&&(this.displayDenom=!0))}),this.dataService.getdenominationFormdata.subscribe(e=>{e&&(console.log("Account component?",e),this.denominationdata=e)}),this.dataService.getaccountFormdata.subscribe(e=>{console.log("121",e),0!=Object.keys(e).length&&e.constructor===Object&&(console.log("123",e),this.appointmentDetails=e,console.log("Account component?",this.appointmentDetails.appointmentId))}),this.dataService.getNavParam.subscribe(e=>{console.log(e),this.titleData=e})}ngOnDestroy(){localStorage.removeItem("chq_page")}onSubmit(e){console.log("On submit form",this.forexForm,e),"showAccountNum"==e&&(console.log("First Condition"),this.onSaveofCashWithdraw(this.forexForm.value,this.ifQRvariable,this.denominationdata)),"NotshowAccountNum"==e&&(console.log("Second Condition"),this.getOTP(this.forexForm.value,this.ifQRvariable,this.denominationdata))}onSaveofCashWithdraw(e,n,a){var i;console.log(e,n,a),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(h=>{this.qrBranchCode=h});let s={},u=[];if("yes"==this.denomRequired)for(let h=0;h<this.denomCodeArray.length;h++)a.value[this.denomCodeArray[h].key]&&(s.denominationKey=this.denomCodeArray[h].value,s.denominationValue=+a.value[this.denomCodeArray[h].key],s.currency=this.forexForm.value.transactionCurrency,u.push(s),console.log(u),s={});null!==(i=this.appointmentDetails)&&void 0!==i&&i.appointmentId?(console.log("for forex appoinrment",this.appointmentDetails),this.forexToken.customerId=this.appointmentDetails.customerId,this.forexToken.accountNumber=this.appointmentDetails.accountNumber,this.forexToken.accountType=this.appointmentDetails.accountType,this.forexToken.accountCurrency=this.appointmentDetails.accountCurrency,this.forexToken.accountBalance=this.appointmentDetails.accountBalance,this.forexToken.accountBranch=this.appointmentDetails.accountBranch,this.forexToken.holderName=this.appointmentDetails.holderName,this.forexToken.forexTransCurrency=this.appointmentDetails.forexTransCurrency,this.forexToken.forexTransAmount=this.appointmentDetails.forexTransAmount,this.forexToken.documentId=this.appointmentDetails.documentId,this.forexToken.totalChargeAmount=this.appointmentDetails.totalChargeAmount,this.forexToken.totalTransactionAmount=this.appointmentDetails.forexTransAmount,this.forexToken.forexCurrency=this.appointmentDetails.currency,this.forexToken.forexAmount=this.appointmentDetails.amount,this.forexToken.documentNumber=this.appointmentDetails.documentNumber,this.forexToken.exchangeRate=this.appointmentDetails.exchangeRate,this.forexToken.negotiatedRate=this.appointmentDetails.negotiatedRate,this.forexToken.transactionBranch=this.transBranch,this.forexToken.entityCode=this.entityCode,this.forexToken.bankCode=this.bankCode,this.forexToken.tokenBranch=this.tokenBranch,this.forexToken.customerCategory=this.custPref,this.forexToken.productCode="FTX",this.forexToken.tokenOrigin=this.tokenOrigin,this.forexToken.tokenNumber="",this.forexToken.estimatedWaitTime="",this.forexToken.exchangeRate="",this.forexToken.accountAmount="",this.forexToken.narrative="",this.forexToken.totalAmount="","yes"==this.denomRequired&&(this.forexToken.denomination=u),console.log("Not a qrvariable",this.forexToken)):(console.log(e),console.log("Not a qrvariable",e.detailInfo),this.forexToken.customerId=e.detailInfo.customerId,this.forexToken.transType=e.detailInfo.transType,this.forexToken.forexCurrency=e.detailInfo.forexCurrency,this.forexToken.forexAmount=e.detailInfo.forexAmount,this.forexToken.negotiatedRate=e.detailInfo.negotiatedRate,this.forexToken.totalTransactionAmount=e.detailInfo.totalTransactionAmount,this.forexToken.exchangeRate=e.detailInfo.exchangeRate,this.forexToken.documentNumber=e.detailInfo.documentNumber,this.forexToken.totalChargeAmount=e.detailInfo.totalChargeAmount,this.forexToken.totalTransactionAmount=e.detailInfo.totalTransactionAmount,this.forexToken.exchangeRate=e.detailInfo.exchangeRate,this.forexToken.documentNumber=e.detailInfo.documentNumber,this.forexToken.documentId=e.detailInfo.documentId,this.forexToken.forexTransType=e.detailInfo.forexTransType,this.forexToken.forexTransAmount=e.detailInfo.forexTransAmount,this.forexToken.forexTransCurrency=e.detailInfo.forexTransCurrency,this.forexToken.transactionBranch=this.transBranch,this.forexToken.entityCode=this.entityCode,this.forexToken.bankCode=this.bankCode,this.forexToken.tokenBranch=this.tokenBranch,this.forexToken.customerCategory=this.custPref,this.forexToken.productCode="FTX",this.forexToken.tokenOrigin=this.tokenOrigin,this.forexToken.tokenNumber="",this.forexToken.estimatedWaitTime="",this.forexToken.accountAmount="",this.forexToken.narrative="",this.forexToken.totalAmount="",console.log(this.denomRequired),"yes"==this.denomRequired&&(this.forexToken.denomination=u),console.log("Not a qrvariable",this.forexToken)),this.appointmentId&&this.appointmentId.data&&(e.transactionId=this.appointmentId.data.transactionId,e.transactionStatus=this.appointmentId.data.transactionStatus),this.tokendisable=!0,this.apiService.saveofCashDeposit(this.forexToken).subscribe(h=>{console.log("Response Success, Data Saved",h),this.cashWithdrawResponse=h,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cashWithdrawResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},h=>{console.log(h),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cashWithdrawResponse&&(console.log(this.cashWithdrawResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}getOTP(e,n,a){console.log("Get Otp",e,n),this.phonenum=this.ls.getItem("otpPhoneNum"),this.cashwithDrwValues=e,this.cashwithDrwType=n,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum,this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,"")}openDialogOTP(e){this.dialog.open(L,{data:{number:e,type:"numbr"},disableClose:!0}).afterClosed().subscribe(a=>{console.log("submit",a),a&&this.getOTPforSave(this.cashwithDrwValues,this.cashwithDrwType,"")})}getOTPforSave(e,n,a){let i={},s=[];if("yes"==this.denomRequired)for(let u=0;u<this.denomCodeArray.length;u++)a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.forexForm.value.transactionCurrency,s.push(i),console.log(s),i={});console.log(this.custValidation),"New Customer"==this.custValidation&&(this.forexToken.customerId="1",this.forexToken.transType=e.detailInfo.transType,this.forexToken.forexCurrency=e.detailInfo.forexCurrency,this.forexToken.forexAmount=e.detailInfo.forexAmount,this.forexToken.negotiatedRate=e.detailInfo.negotiatedRate,this.forexToken.totalTransactionAmount=e.detailInfo.totalTransactionAmount,this.forexToken.exchangeRate=e.detailInfo.exchangeRate,this.forexToken.documentNumber=e.detailInfo.documentNumber,this.forexToken.totalChargeAmount=e.detailInfo.totalChargeAmount,this.forexToken.totalTransactionAmount=e.detailInfo.totalTransactionAmount,this.forexToken.exchangeRate=e.detailInfo.exchangeRate,this.forexToken.documentNumber=e.detailInfo.documentNumber,this.forexToken.documentId=e.detailInfo.documentId,this.forexToken.forexTransType=e.detailInfo.forexTransType,this.forexToken.forexTransAmount=e.detailInfo.forexTransAmount,this.forexToken.forexTransCurrency=e.detailInfo.forexTransCurrency,this.forexToken.transactionBranch=this.transBranch,this.forexToken.entityCode=this.entityCode,this.forexToken.bankCode=this.bankCode,this.forexToken.tokenBranch=this.tokenBranch,this.forexToken.customerCategory=this.custPref,this.forexToken.productCode="FTX",this.forexToken.tokenOrigin=this.tokenOrigin,this.forexToken.tokenNumber="",this.forexToken.estimatedWaitTime="",this.forexToken.accountAmount="",this.forexToken.narrative="",this.forexToken.totalAmount="",console.log(this.denomRequired),"yes"==this.denomRequired&&(this.forexToken.denomination=s)),this.appointmentId&&this.appointmentId.data&&(this.forexToken.transactionId=this.appointmentId.data.transactionId,this.forexToken.transactionStatus=this.appointmentId.data.transactionStatus),this.tokendisable=!0,this.apiService.saveofCashwithdraw(this.forexToken).subscribe(u=>{console.log("Response Success, Data Saved",u),this.cashWithdrawResponse=u,this.tokenNum=this.cashWithdrawResponse.tokenNumber,this.estimatedTime=this.cashWithdrawResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.cashWithdrawResponse&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},u=>{console.log(u),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.cashWithdrawResponse&&(console.log(this.cashWithdrawResponse),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}onReset(){this.forexForm.reset()}redirectToHome1(){console.log("Redirect"),this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}redirectToHome(){this.dataService.removetransactionFormData(this.transactiondata),this.dataService.removeaccountFormData(this.appointmentDetails),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removeNavParam(this.titleData),this.router.navigateByUrl("/others/kioskHome")}back(){this._location.back()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(D.g),t.Y36(N.s),t.Y36(x.F0),t.Y36(T.x),t.Y36(A.uw),t.Y36(F.ux),t.Y36(l.Ye),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-forex-service"]],decls:2,vars:2,consts:[[3,"title","back"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row",1,"cdcard"],["fxFlex","70%",2,"margin-top","-2%","box-shadow","0px 3px 6px #00000029","border-radius","10px","opacity","1","height","480px"],["formControlName","detailInfo"],[2,"margin-top","-2.9%","margin-left","-15px"],["formControlName","denomination"],[2,"margin-top","-1%","margin-left","-320px","margin-right","-125px"],["saveText","Continue",3,"cancelDisabled","saveDisabled","save","cancel","exit"]],template:function(e,n){1&e&&(t.TgZ(0,"app-header",0),t.NdJ("back",function(){return n.redirectToHome1()}),t.qZA(),t.YNc(1,wu,8,3,"form",1)),2&e&&(t.Q6J("title",n.title),t.xp6(1),t.Q6J("ngIf",n.forexForm))},dependencies:[l.O5,c._Y,c.JJ,c.JL,p.a8,m.xw,m.yH,c.sg,c.u,U,V,G,it],styles:[".cdcard[_ngcontent-%COMP%]{justify-content:center;margin-left:80px;margin-right:120px}"]}),o})();class Nu{}function ku(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.fromCurrency1(i,"fromCurrency"))}),t.TgZ(1,"div",24)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"div",25),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function qu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.toCurrency(i,"toCurrency"))}),t.TgZ(1,"div",24)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"div",25),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function Zu(o,r){if(1&o&&(t.TgZ(0,"p",26),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE("",e.curr," ",e.midRate,"")}}function Fu(o,r){if(1&o&&(t.TgZ(0,"p",27),t._uU(1),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.lnq("1",null==(n=e.currencyForm.get("toCurrency"))?null:n.value," = ",e.midRate," ",null==(n=e.currencyForm.get("fromCurrency"))?null:n.value," ")}}let Du=(()=>{class o{constructor(e,n,a,i){this.router=e,this.formBuilder=n,this.apiService=a,this.dataService=i}ngOnInit(){this.currencyForm=this.formBuilder.group({amount:["",c.kI.required],fromCurrency:["",c.kI.required],toCurrency:["",c.kI.required],exchangeRate:["",c.kI.required],equivalentAmount:["",c.kI.required]}),this.getCountrynameValues(),this.dataService.getforexTransTypeData.subscribe(e=>{console.log(e),this.forexdata=e})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}addCurrencyImage(e){return e.toLowerCase()}addCurrencyImage1(e){return e.toLowerCase()}fromCurrency1(e,n){this.onForexCountryChange(e,n);let a=e.currencyCode;console.log(this.fromCurrencyConverter,this.toCurrencyConverter),this.fromCurrency=a,this.currencyImage="currency-flag-"+a.toLowerCase()}toCurrency(e,n){var a;this.onForexCountryChange(e,n);let i=e.currencyCode;console.log(this.fromCurrencyConverter,this.toCurrencyConverter),this.fromCurrency=i,this.curr=(0,l.jK)(null===(a=this.currencyForm.get("toCurrency"))||void 0===a?void 0:a.value,"narrow"),console.log(this.curr),this.currencyImage1="currency-flag-"+i.toLowerCase()}onForexCountryChange(e,n){"fromCurrency"==n?this.fromCurrencyConverter=e.currencyCode:this.toCurrencyConverter=e.currencyCode,this.fromCurrencyConverter&&this.toCurrencyConverter&&this.apiService.fetchExchangeRateForCurrency(this.fromCurrencyConverter,this.toCurrencyConverter).subscribe(a=>{if("purchase"==this.forexdata){this.currencyForm.get("exchangeRate").setValue(a[a.length-1].buyRate);var i=this.curr+Number(this.currencyForm.get("amount").value)*Number(a[a.length-1].buyRate);console.log(i),this.currencyForm.get("equivalentAmount").setValue(this.curr+Number(this.currencyForm.get("amount").value)*Number(a[a.length-1].buyRate))}else this.currencyForm.get("exchangeRate").setValue(a[a.length-1].sellRate),i=this.curr+Number(this.currencyForm.get("amount").value)*Number(a[a.length-1].sellRate),console.log(i),this.currencyForm.get("equivalentAmount").setValue(this.curr+Number(this.currencyForm.get("amount").value)*Number(a[a.length-1].sellRate));console.log(a),this.midRate=a[0].midRate,console.log(this.midRate)})}exchangecountry(e,n,a,i){this.currencyForm.get("fromCurrency").setValue(n),this.currencyForm.get("toCurrency").setValue(e),this.currencyImage=i,this.currencyImage1=a}back(){this.router.navigateByUrl("/others/forex-service")}cancel(){this.router.navigateByUrl("/others/forex-service")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(N.s),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-currency-converter"]],decls:45,vars:11,consts:[[1,"matcardSize"],[1,"headPart"],[2,"cursor","pointer","margin-top","5px",3,"click"],[1,"header"],[2,"flex-direction","column",3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","1%","fxFlex","100%"],["appearance","outline","fxflex","45%",2,"border-radius","12px","width","32%"],["matInput","","type","number","formControlName","amount"],["appearance","outline","fxflex","45%",2,"border-radius","12px","width","30%"],["fxFlex","10%"],["formControlName","fromCurrency"],[3,"value","click",4,"ngFor","ngForOf"],[1,"icon",3,"click"],["formControlName","toCurrency"],["fxFlex","row wrap","fxFlex","100%"],["appearance","outline","fxflex","90%",2,"border-radius","12px","width","97.5%","font-size","11px"],["matInput","","formControlName","equivalentAmount",2,"margin-left","10px","margin-top","5px","font-size","13px"],["fxLayout","column",1,"midSpan",2,"margin-top","-20px"],["style","height: 1px;font-size: 10px;color: #004C97;font-weight: bold;",4,"ngIf"],["style","height: 1px;font-size: 9px;",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px",1,"footer_btn_wrapper"],["mat-button","",1,"backBtn",3,"click"],["mat-flat-button","",1,"continueBtn",3,"click"],[3,"value","click"],["fxLayout","row wrap"],[2,"margin-top","3.5%","margin-left","4%"],[2,"height","1px","font-size","10px","color","#004C97","font-weight","bold"],[2,"height","1px","font-size","9px"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return n.back()}),t._uU(3,"arrow_back"),t.qZA(),t.TgZ(4,"mat-card-title",3),t._uU(5,"Currency Converter"),t.qZA()(),t.TgZ(6,"mat-card-content")(7,"div")(8,"form",4)(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Amount *"),t.qZA(),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"mat-form-field",8)(15,"mat-label"),t._uU(16,"From*"),t.qZA(),t.TgZ(17,"div",9),t._UZ(18,"div"),t.qZA(),t._uU(19,"\xa0\xa0\xa0\xa0\xa0\xa0 "),t.TgZ(20,"mat-select",10),t.YNc(21,ku,5,5,"mat-option",11),t.qZA()(),t.TgZ(22,"mat-icon",12),t.NdJ("click",function(){return n.exchangecountry(n.currencyForm.get("fromCurrency").value,n.currencyForm.get("toCurrency").value,n.currencyImage,n.currencyImage1)}),t._uU(23,"swap_horiz"),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"To*"),t.qZA(),t.TgZ(27,"div",9),t._UZ(28,"div"),t.qZA(),t._uU(29,"\xa0\xa0\xa0\xa0\xa0\xa0 "),t.TgZ(30,"mat-select",13),t.YNc(31,qu,5,5,"mat-option",11),t.qZA()()(),t.TgZ(32,"div",14)(33,"mat-form-field",15)(34,"mat-label"),t._uU(35,"Equivalent amount *"),t.qZA(),t._UZ(36,"input",16),t.TgZ(37,"div",17),t.YNc(38,Zu,2,2,"p",18),t.YNc(39,Fu,2,3,"p",19),t.qZA()()()()()()(),t.TgZ(40,"div",20)(41,"button",21),t.NdJ("click",function(){return n.cancel()}),t._uU(42," Back "),t.qZA(),t.TgZ(43,"button",22),t.NdJ("click",function(){return n.cancel()}),t._uU(44," continue "),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("formGroup",n.currencyForm),t.xp6(10),t.Gre("currency-flag ",n.currencyImage,""),t.xp6(3),t.Q6J("ngForOf",n.countryValues),t.xp6(7),t.Gre("currency-flag ",n.currencyImage1,""),t.xp6(3),t.Q6J("ngForOf",n.countryValues),t.xp6(7),t.Q6J("ngIf",n.midRate),t.xp6(1),t.Q6J("ngIf",n.midRate))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,k.Hw,w.lW,p.a8,p.dn,p.n5,g.KE,g.hX,I.Nt,m.xw,m.SQ,m.Wh,m.yH,q.gD,O.ey,c.sg,c.u],styles:[".inputCard1[_ngcontent-%COMP%]{padding-top:5%;padding-left:5%;padding-right:5%;font-size:14px}.inputCard1[_ngcontent-%COMP%]   mat-grid[_ngcontent-%COMP%]{padding:0}.headPart[_ngcontent-%COMP%]{display:flex;column-gap:10px}.header[_ngcontent-%COMP%]{font-weight:700;font-style:Poppins;font-size:24px;margin-bottom:28px}.matcardSize[_ngcontent-%COMP%]{width:80%;height:460px;margin-left:11%;margin-top:-1%;border-radius:10px;padding:25px}.continueBtn[_ngcontent-%COMP%]{width:600px;height:40px;color:#fff;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;border-radius:25px;font-family:sans-serif}.icon[_ngcontent-%COMP%]{color:#004c97;cursor:pointer;margin-top:16px}.midSpan[_ngcontent-%COMP%]{float:right}.backBtn[_ngcontent-%COMP%]{margin-left:12%;font-weight:700;width:270px;height:40px;background:#ffffff 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}"]}),o})();function Mu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.onLoanTypeChange(i.loanType))}),t.TgZ(1,"mat-icon",21),t._uU(2," trip_origin "),t.qZA(),t._uU(3),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.loanType),t.xp6(3),t.hij(" ",e.loanType,"")}}function Ou(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-select",17),t.NdJ("valueChange",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.selected1=a)}),t.TgZ(1,"mat-select-trigger"),t._UZ(2,"mat-icon",18),t._uU(3),t.qZA(),t.YNc(4,Mu,4,2,"mat-option",19),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("value",e.selected1),t.xp6(3),t.Oqu(e.selected1),t.xp6(1),t.Q6J("ngForOf",e.accounttypeArray)}}function Pu(o,r){1&o&&t._UZ(0,"input",22),2&o&&t.Q6J("readonly",!0)}function Bu(o,r){1&o&&t._UZ(0,"input",22),2&o&&t.Q6J("readonly",!0)}function Su(o,r){if(1&o&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Oqu(e.loanForm.get("accountCurrency").value)}}function Lu(o,r){if(1&o&&(t.TgZ(0,"mat-option",30)(1,"mat-icon",21),t._uU(2," trip_origin "),t.qZA(),t._uU(3),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.loanAccountId),t.xp6(3),t.hij(" ",e.loanAccountId," ")}}function Ju(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",23)(1,"mat-label",24),t._uU(2,"Loan Account*"),t.qZA(),t.TgZ(3,"div",25),t.YNc(4,Su,2,1,"span",26),t.TgZ(5,"mat-select",27),t.NdJ("valueChange",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.selected2=a)})("selectionChange",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.fetchByLoanAccountNum(a.value,i.titleVal))}),t.TgZ(6,"mat-select-trigger"),t._UZ(7,"mat-icon",18),t._uU(8),t.qZA(),t.YNc(9,Lu,4,2,"mat-option",28),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Q6J("ngIf",e.displayFlag),t.xp6(1),t.Q6J("value",e.selected2),t.xp6(3),t.Oqu(e.selected2),t.xp6(1),t.Q6J("ngForOf",e.loanAccounts)}}function Uu(o,r){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"mat-form-field",11)(3,"mat-label",12),t._uU(4,"Loan Type*"),t.qZA(),t.YNc(5,Ou,5,3,"mat-select",13),t.YNc(6,Pu,1,1,"input",14),t.YNc(7,Bu,1,1,"input",14),t.qZA()(),t.TgZ(8,"div",15),t.YNc(9,Ju,10,4,"mat-form-field",16),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.phoneNumber&&e.accountDropdown),t.xp6(1),t.Q6J("ngIf",!e.phoneNumber&&e.accountDropdown),t.xp6(1),t.Q6J("ngIf",e.phoneNumber&&!e.accountDropdown),t.xp6(2),t.Q6J("ngIf",!e.flag1)}}function Vu(o,r){if(1&o&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(e.loanForm.get("accountCurrency").value)}}function Qu(o,r){1&o&&(t.TgZ(0,"mat-form-field",35)(1,"mat-label"),t._uU(2,"Loan Type*"),t.qZA(),t._UZ(3,"input",22),t.qZA()),2&o&&(t.xp6(3),t.Q6J("readonly",!0))}function Ru(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",31)(1,"div",15)(2,"mat-form-field",32)(3,"mat-label"),t._uU(4,"Loan Account*"),t.qZA(),t.TgZ(5,"div",25),t.YNc(6,Vu,2,1,"span",26),t.TgZ(7,"input",33),t.NdJ("change",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.fetchByLoanAccountNum(a.loanForm.get("loanAccountId").value,a.titleVal))}),t.qZA()()()(),t.TgZ(8,"div",15),t.YNc(9,Qu,4,1,"mat-form-field",34),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.displayFlag),t.xp6(3),t.Q6J("ngIf",e.flag1)}}function Yu(o,r){if(1&o&&(t.TgZ(0,"div",39)(1,"mat-hint",40),t._uU(2,"Account Branch "),t.qZA(),t.TgZ(3,"p",41),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(e.loanForm.get("accountBranch").value)}}function Hu(o,r){if(1&o&&(t.TgZ(0,"div",39)(1,"mat-hint",40),t._uU(2,"Current arrears"),t.qZA(),t.TgZ(3,"p",41),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(e.loanForm.get("currentArrears").value)}}function Gu(o,r){if(1&o&&(t.TgZ(0,"div",42)(1,"mat-hint",40),t._uU(2,"Principal Outstanding"),t.qZA(),t.TgZ(3,"p",41),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(e.loanForm.get("principalOutstanding").value)}}function Ku(o,r){1&o&&(t.TgZ(0,"div",42)(1,"mat-hint",40),t._uU(2,"Interest due "),t.qZA(),t.TgZ(3,"p",41),t._uU(4,"hjk"),t.qZA()())}function Wu(o,r){if(1&o&&(t.TgZ(0,"div",42)(1,"mat-hint",40),t._uU(2,"Loan Breakup Dues "),t.qZA(),t.TgZ(3,"div",43)(4,"div",44),t._uU(5,"yuhjk"),t.qZA(),t.TgZ(6,"div",45),t._UZ(7,"img",46),t.TgZ(8,"div",47)(9,"p",48),t._uU(10),t.qZA(),t.TgZ(11,"p",49),t._uU(12),t.qZA(),t.TgZ(13,"p",49),t._uU(14),t.qZA(),t.TgZ(15,"p",49),t._uU(16),t.qZA(),t.TgZ(17,"p",49),t._uU(18),t.qZA()()()()()),2&o){const e=t.oxw(3);t.xp6(7),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.hij(" Principal:",e.loanForm.get("accountBranch").value," "),t.xp6(2),t.hij(" Interest:",e.loanForm.get("accountBranch").value," "),t.xp6(2),t.hij(" Principal Penalty:",e.loanForm.get("accountBranch").value," "),t.xp6(2),t.hij(" Interest Penalty:",e.loanForm.get("accountBranch").value," "),t.xp6(2),t.hij(" Fee:",e.loanForm.get("accountBranch").value," ")}}function Eu(o,r){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,Yu,5,1,"div",37),t.YNc(2,Hu,5,1,"div",37),t.YNc(3,Gu,5,1,"div",38),t.YNc(4,Ku,5,0,"div",38),t.YNc(5,Wu,19,6,"div",38),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.hideAccNum&&e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails)}}function zu(o,r){if(1&o&&(t.TgZ(0,"div",52)(1,"mat-hint",53),t._uU(2,"Sanctioned Amount "),t.qZA(),t.TgZ(3,"p",54),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.AsE(" ",e.curr,"",e.loanForm.get("sanctionedAmount").value," ")}}function ju(o,r){if(1&o&&(t.TgZ(0,"div",52)(1,"mat-hint",53),t._uU(2,"Disburshed Amount "),t.qZA(),t.TgZ(3,"p",54),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.AsE(" ",e.curr,"",e.loanForm.get("disbursedAmount").value," ")}}function $u(o,r){if(1&o&&(t.TgZ(0,"div",52)(1,"mat-hint",53),t._uU(2,"Customer Name "),t.qZA(),t.TgZ(3,"p",54),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(e.loanForm.get("customerName").value)}}function Xu(o,r){if(1&o&&(t.TgZ(0,"div",52)(1,"mat-hint",53),t._uU(2,"Account Branch "),t.qZA(),t.TgZ(3,"p",54),t._uU(4),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(e.loanForm.get("accountBranch").value)}}function tl(o,r){if(1&o&&(t.TgZ(0,"div",50),t.YNc(1,zu,5,2,"div",51),t.YNc(2,ju,5,2,"div",51),t.YNc(3,$u,5,1,"div",51),t.YNc(4,Xu,5,1,"div",51),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails),t.xp6(1),t.Q6J("ngIf",e.hideDetails)}}function el(o,r){if(1&o&&(t.TgZ(0,"form",4),t.YNc(1,Uu,10,4,"div",5),t.YNc(2,Ru,10,2,"div",6),t.YNc(3,Eu,6,5,"div",7),t.YNc(4,tl,5,4,"div",8),t.qZA()),2&o){const e=t.oxw();t.Q6J("formGroup",e.loanForm),t.xp6(1),t.Q6J("ngIf",e.showAccountNum),t.xp6(1),t.Q6J("ngIf",!e.showAccountNum),t.xp6(1),t.Q6J("ngIf","Repayment"==e.titleVal),t.xp6(1),t.Q6J("ngIf","Disbursement"==e.titleVal)}}let j=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_,v,b,y,B){this.router=e,this.formBuilder=n,this.dialogService=a,this.apiService=i,this.fb=s,this.ls=u,this.snack=h,this.changeDef=d,this.elRef=_,this.renderer=v,this.dialog=b,this.cdr=y,this.dataService=B,this.ifQRvariable=!1,this.productCode="CHW",this.tokenOrigin="Kiosk",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="1234",this.accounttypeArray=[],this.idList=[],this.tokenObjects=new R,this.enableContinue=!0,this.isedit=!0,this.currencyImage="",this.accountNoList=[],this.loanList=[],this.showAccountNum=!0,this.showAccoutType=!0,this.oTpModel=new M.m,this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!1,this.flag1=!1,this.displayFlag=!1,this.denomRequired="",this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!0,this.subscriptions=[],this.loanAccounts=[],this.testing=[{value:"Home Loan",viewValue:"Home Loan"},{value:"Education",viewValue:"Education"},{value:"Vehicle",viewValue:"Vehicle"},{value:"Personal",viewValue:"Personal"}],this.onChange=()=>{},this.onTouched=()=>{}}get value(){return this.loanForm.value}set value(e){this.loanForm.setValue(e),this.onChange(e),this.onTouched()}get emailControl(){return this.loanForm.controls.email}ngOnInit(){console.log(this.titleVal),this.module=this.titleVal,this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=this.ls.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.showzero=!0,this.loanForm=new c.cw({customerId:new c.NI(""),loanType:new c.NI("",[c.kI.required]),loanAccountId:new c.NI("",[c.kI.required]),currentArrears:new c.NI(""),currentDue:new c.NI(""),principalOutstanding:new c.NI(""),loanBreakupDues:new c.NI(""),accountBranch:new c.NI(""),accountCurrency:new c.NI(""),customerName:new c.NI(""),disbursedAmount:new c.NI(""),sanctionedAmount:new c.NI("")}),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),setTimeout(()=>{null!=this.qrData&&(console.log("Account",this.qrData),this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!1,this.currencyCode=this.qrData.accountCurrency,this.userName=this.qrData.holderName,this.accountBal=this.qrData.accountBalance)},1e3),this.custValidation=localStorage.getItem("customerValidation"),this.custNameFromLogin=localStorage.getItem("FromLogin"),("New Customer"==this.custValidation||null!=this.custNameFromLogin)&&(this.hideAccNum=!1,this.showAccountNum=!1,this.showAccoutType=!1,this.showzero=!0,this.flag1=!0),this.appointmentId&&this.appointmentId.data.appointmentId&&this.setAppointmentIdData(),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.hideAccNum=!0,this.showAccountNum=!0,this.showAccoutType=!0,this.showzero=!1,this.gettingallTansactionDetails(this.phoneNumber,this.module)),this.getCountrynameValues(),this.getAccountBranch(),this.gettransactionBranch("account_branch"),this.getBankInformation("KN"),this.subscriptions.push(this.loanForm.valueChanges.subscribe(e=>{this.onChange(e),this.onTouched()})),console.log(this.loanForm)}onLoanTypeChange(e){console.log(e);for(let n=0;n<this.loanAccountData.length;n++)"APPROVED"==this.loanAccountData[n].status&&this.loanAccountData[n].loanType==e&&(console.log(this.loanAccountData[n]),this.loanList.push(this.loanAccountData[n].loanAccountId));console.log(this.loanList),this.loanList.length<=1?(this.flag1=!1,this.loanForm.controls.loanAccountId.setValue(this.loanList[0])):(this.flag1=!0,this.loanForm.controls.loanAccountId.setValue(this.loanList[0])),this.dataService.sendloanFormData(this.loanAccountData)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}registerOnChange(e){this.onChange=e}writeValue(e){e&&(this.value=e),null===e&&this.loanForm.reset()}registerOnTouched(e){this.onTouched=e}validate(e){return this.loanForm.valid?null:{profile:{valid:!1}}}getBankInformation(e){this.apiService.fetchBankInfoByBranchCode(e).subscribe(n=>{console.log(n),this.denomRequired=n.denomRequired,localStorage.setItem("DenominationRequired",this.denomRequired),"yes"==n.denomRequired&&(this.enableBtn=!1,this.enableBtn1=!1)})}gettransactionBranch(e){this.apiService.getTransactionBranch(e).subscribe(n=>{console.log("branches :: ",n),this.trasactionBranches=n})}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName})})}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{this.countryValues=e,console.log(this.countryValues)})}fetchByLoanAccountNum(e,n){console.log(e,n),this.displayFlag=!0,this.ifQRvariable=!0,"New Customer"==this.custValidation||null!=this.custNameFromLogin?(this.hideAccNum=!0,this.showzero=!0):(this.hideAccNum=!0,this.showzero=!1),this.hideDetails=!0,console.log(e),this.apiService.fetchByLoanInfoByLoanId(e,n).subscribe(a=>{var i,s,u,h,d;this.loanAccountDetails=a.data,console.log("statement",this.loanAccountDetails),this.dataService.sendloanFormData(this.loanAccountDetails),e!=(null===(i=this.loanAccountDetails[0])||void 0===i?void 0:i.loanAccountId)||null==this.loanAccountDetails[0].loanAccountId?(this.snack.open("Account Number Doesn't Exist","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right",panelClass:["snackbar"]}),this.loanForm.reset(),this.userName="",this.accountBal="",this.curr=""):(console.log("statement",this.loanAccountDetails),this.loanForm.controls.loanType.setValue(null===(s=this.loanAccountDetails[0])||void 0===s?void 0:s.loanType),this.loanForm.controls.accountCurrency.setValue(null===(u=this.loanAccountDetails[0])||void 0===u?void 0:u.accountCurrency),this.loanForm.controls.accountBranch.setValue(null===(h=this.loanAccountDetails[0])||void 0===h?void 0:h.accountBranch),this.loanForm.controls.customerName.setValue(null===(d=this.loanAccountDetails[0])||void 0===d?void 0:d.customerName),"Disbursement"==n?(this.loanForm.controls.disbursedAmount.setValue(this.loanAccountDetails[0].disbursedAmount?this.loanAccountDetails[0].disbursedAmount:0),this.loanForm.controls.sanctionedAmount.setValue(this.loanAccountDetails[0].sanctionedAmount?this.loanAccountDetails[0].sanctionedAmount:0)):"Repayment"==n&&(this.loanForm.controls.currentArrears.setValue(this.loanAccountDetails[0].currentArrears?this.loanAccountDetails[0].currentArrears:0),this.loanForm.controls.principalOutstanding.setValue(this.loanAccountDetails[0].principalOutstanding?this.loanAccountDetails[0].principalOutstanding:0),this.loanForm.controls.loanBreakupDues.setValue(this.loanAccountDetails[0].loanBreakupDues?this.loanAccountDetails[0].loanBreakupDues:0)),this.getCountrynameValues(),console.log(this.ifQRvariable))})}fetchByAccountNum(e){console.log("Account Numebr",e),this.flag1=!0,this.displayFlag=!0,this.ifQRvariable=!0,"New Customer"==this.custValidation||null!=this.custNameFromLogin?(this.hideAccNum=!0,this.showzero=!0):(this.hideAccNum=!0,this.showzero=!1),this.hideDetails=!0,this.apiService.fetchByaccNum(e).subscribe(n=>{console.log("statement",n),this.loanForm.controls.accountCurrency.setValue(null==n?void 0:n.currency),e!=(null==n?void 0:n.accountId)||null==n.accountId?(this.snack.open("Account Number Doesn't Exist","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right",panelClass:["snackbar"]}),this.loanForm.reset(),this.userName="",this.accountBal="",this.curr=""):(console.log("Account Number Rsp",n),this.dataService.sendloanFormData(n),this.userName=n.accHolderName,0==n.accBalance?(console.log("for zero balance 1"),this.accountBal="00000",this.loanForm.value.accountBalance="00000"):(this.accountBal=n.accBalance,this.loanForm.value.accountBalance=n.accBalance),this.custmerID=n.customerId,localStorage.setItem("AccountBal",n.accBalance),this.accountNumber=n.accountId,this.loanForm.controls.accountBranch.setValue(n.accountBranch),this.loanForm.controls.customerId.setValue(n.customerId),this.curr=(0,l.jK)(n.currency,"narrow"),this.loanForm.controls.accountType.setValue(n.accountType),this.loanForm.controls.holderName.setValue(this.userName),this.getCountrynameValues(),this.currencyImage="currency-flag-"+n.currency.toLowerCase(),this.accountCurrency1=n.currency,console.log(this.ifQRvariable)),this.apiService.fetchByaccDeatilsoncustId(n.customerId).subscribe(a=>{this.phonenum=a[0].phoneNumber,localStorage.setItem("otpPhoneNum",this.phonenum)})})}gettingallTansactionDetails(e,n){this.apiService.gettingTransactionDetails(e).subscribe(a=>{this.dataService.sendloanRepaymentData(a),this.loanForm.controls.customerId.setValue(a.customerId),this.custID=this.loanForm.get("customerId").value,this.getLoanAccountData(e,this.module,this.custID)})}getLoanAccountData(e,n,a){this.displayFlag=!0,this.apiService.gettingLoanAccDetails(e,n).subscribe(i=>{var s;console.log(i),console.log(n),200==(null==i?void 0:i.status)?("Disbursement"==n&&(this.loanAccounts=null==i?void 0:i.data.filter(u=>0==(null==u?void 0:u.disbursementComplete)),this.loanForm.get("sanctionedAmount").patchValue(this.loanAccounts[0].sanctionedAmount),this.loanForm.get("disbursedAmount").patchValue(this.loanAccounts[0].disbursedAmount)),"Repayment"==n&&(this.loanAccounts=null==i?void 0:i.data.filter(u=>0==(null==u?void 0:u.repaymentAllowed)),console.log(n,this.loanAccounts),this.loanForm.get("currentArrears").patchValue(null===(s=this.loanAccounts[0])||void 0===s?void 0:s.currentArrears),this.loanForm.get("principalOutstanding").patchValue(this.loanAccounts[0].principalOutstanding)),this.loanForm.get("loanAccountId").patchValue(this.loanAccounts[0].loanAccountId),this.loanForm.get("accountCurrency").patchValue(this.loanAccounts[0].accountCurrency),this.loanForm.get("loanType").patchValue(this.loanAccounts[0].loanType),this.selected2=this.loanAccounts[0].loanAccountId,this.selected1=this.loanAccounts[0].loanType,this.loanForm.get("customerName").patchValue(this.loanAccounts[0].customerName),this.loanForm.get("accountBranch").patchValue(this.loanAccounts[0].accountBranch),this.dataService.sendloanFormData(this.loanAccounts),this.selected2=this.loanAccounts[0].loanAccountId,this.selected1=this.loanAccounts[0].loanType,this.curr=(0,l.jK)(this.loanAccounts[0].accountCurrency,"narrow"),this.fetchDisbursementAccInfo(a),console.log(this.loanForm)):(this.loanAccounts=[],this.snack.open(null==i?void 0:i.message))},i=>{this.snack.open(i)}),this.accounttypeArray=this.accountNoList,console.log(this.accounttypeArray)}custAccountNumber(e){}formatAmount(e){if(e)return e&&e.toString().split(".")[0].length>3?e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3):e.toString()}setAppointmentIdData(){this.apiService.getAppointmentId(this.appointmentId.data.appointmentId).subscribe(e=>{var n,a,i,s;console.log("RESP",e),this.cashData=e.data,this.custID=e.data.customerId,this.ifQRvariable=!0,this.hideAccNum=!0,this.hideDetails=!0,this.showzero=!1,this.flag1=!0,this.displayFlag=!0,this.accountDropdown=!0,this.currencyCode=e.data.accountCurrency,this.loanForm.controls.loanType.setValue(e.data.accountType),this.loanForm.controls.loanAccountId.setValue(e.data.modeInfo[0].loanAccountNo),this.loanForm.controls.customerName.setValue(null===(n=e.data)||void 0===n?void 0:n.holderName),this.loanForm.controls.accountBranch.setValue(e.data.accountBranch),this.loanForm.controls.accountCurrency.setValue(null===(a=e.data)||void 0===a?void 0:a.accountCurrency),this.fetchDisbursementAccInfo(e.data.customerId),"Repayment"==this.titleVal&&(this.loanForm.controls.principalOutstanding.setValue(null===(i=e.data.loanInfo[0])||void 0===i?void 0:i.principalOutstanding),this.loanForm.controls.currentArrears.setValue(null===(s=e.data.loanInfo[0])||void 0===s?void 0:s.currentArrears)),"Disbursement"==this.titleVal&&(this.loanForm.controls.sanctionedAmount.setValue(e.data.loanInfo[0].sanctionedAmount),this.loanForm.controls.disbursedAmount.setValue(e.data.loanInfo[0].disbursedAmount)),console.log(e.data.accountCurrency),this.dataService.sendloanRepaymentData(this.cashData)}),console.log(this.cashData)}fetchDisbursementAccInfo(e){this.apiService.fetchDisbursementAccInfo(e).subscribe(n=>{if(200==(null==n?void 0:n.status)){let a=null==n?void 0:n.data.reverse();this.ls.setItem("DISB_ACNT",a)}else this.ls.setItem("DISB_ACNT",[])},n=>{this.snack.open(n)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(T.x),t.Y36(N.s),t.Y36(c.qu),t.Y36(D.g),t.Y36(F.ux),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(A.uw),t.Y36(t.sBO),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-loan-information-form"]],inputs:{titleVal:"titleVal"},features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0},{provide:c.Cf,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],decls:6,vars:1,consts:[[1,"section"],[1,"accountHeader"],[1,"accountInfoCard"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","first_row","fxLayoutGap","-24%","fxLayout","row",4,"ngIf"],["fxLayoutGap","5px",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-around","class","accountInfo",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","2%","style","\n            justify-content: space-between;\n            margin-left: 2%;\n            height: 30px;\n            margin-top: -3px;\n          ",4,"ngIf"],["fxLayoutGap","-24%","fxLayout","row",1,"first_row"],["fxFlex","100%"],["appearance","outline","fxFlex","60%"],[1,"loanTypeFont"],["formControlName","loanType","optionDisableCentering","",3,"value","valueChange",4,"ngIf"],["matInput","","type","text","class","full-width","formControlName","loanType",3,"readonly",4,"ngIf"],["fxFlex","100%",2,"font-size","10px"],["class","auto-width loan_account","appearance","outline","style","border-radius: 12px","fxFlex","100%",4,"ngIf"],["formControlName","loanType","optionDisableCentering","",3,"value","valueChange"],[1,"selection-icon"],["class","filterDropDown",3,"value","click",4,"ngFor","ngForOf"],[1,"filterDropDown",3,"value","click"],[1,"actionIcon"],["matInput","","type","text","formControlName","loanType",1,"full-width",3,"readonly"],["appearance","outline","fxFlex","100%",1,"auto-width","loan_account",2,"border-radius","12px"],[1,"loanAccountFont"],[2,"display","flex"],["class","currency_code",4,"ngIf"],["formControlName","loanAccountId","optionDisableCentering","",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"currency_code"],[3,"value"],["fxLayoutGap","5px"],["appearance","outline","fxFlex","70%",2,"border-radius","12px"],["matInput","","type","text","formControlName","loanAccountId","placeholder","Account Number",3,"change"],["appearance","outline","style","border-radius: 12px","fxFlex","80%",4,"ngIf"],["appearance","outline","fxFlex","80%",2,"border-radius","12px"],["fxLayout","row wrap","fxLayoutAlign","space-around",1,"accountInfo"],["fxLayout","column","fxFlex","18",4,"ngIf"],["fxLayout","column","fxFlex","18","class","acBranch",4,"ngIf"],["fxLayout","column","fxFlex","18"],[1,"account_details_heading"],[1,"account_details_values"],["fxLayout","column","fxFlex","18",1,"acBranch"],["fxLayout","row"],["fxFlex","60",1,"account_details_values"],["fxFlex","40",1,"tooltip"],[1,"imgIcon",3,"src"],[1,"tooltiptextNeg","text"],[2,"margin-top","10px","margin-bottom","6px"],[2,"margin-bottom","6px"],["fxLayout","row wrap","fxLayoutGap","2%",2,"justify-content","space-between","margin-left","2%","height","30px","margin-top","-3px"],["fxLayout","column",4,"ngIf"],["fxLayout","column"],[1,"totalAmount"],[1,"hint"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card-title",1),t._uU(2,"Loan Information"),t.qZA(),t.TgZ(3,"div")(4,"mat-card",2),t.YNc(5,el,5,5,"form",3),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngIf",n.loanForm))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,m.xw,m.SQ,m.Wh,m.yH,g.KE,g.bx,g.hX,I.Nt,O.ey,q.gD,q.$L,p.a8,p.n5,k.Hw],styles:[".accountInfoCard[_ngcontent-%COMP%]{background:#f2f2f2 0% 0% no-repeat padding-box;border-radius:18px;box-shadow:unset!important;max-height:175px}.loanTypeFont[_ngcontent-%COMP%]{font-family:poppins;font-size:13px;color:#707070;opacity:1;letter-spacing:0px}.loanAccountFont[_ngcontent-%COMP%]{font-family:Poppins!important;font-size:13px;color:#707070!important;opacity:1;letter-spacing:0px}.accountHeader[_ngcontent-%COMP%]{font-size:18px;text-align:left;font-family:poppins,Medium;letter-spacing:-.38px;color:#004c97;opacity:1;padding-left:17px;margin-bottom:10px}.account_details_values[_ngcontent-%COMP%]{font-family:poppins;font-size:16px;color:#262831;opacity:100%;letter-spacing:-.36px}.imgIcon[_ngcontent-%COMP%]{height:20px;padding-top:5px}.accountInfo[_ngcontent-%COMP%]{margin-left:15px}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt #00000029;box-sizing:border-box;margin-left:0;padding:13px}mat-label[_ngcontent-%COMP%]{font-family:Poppins,Medium!important;color:#707070!important;margin-left:3%!important}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}  .mat-select-value-text{margin-left:10px}input.mat-input-element[_ngcontent-%COMP%]{margin-left:10px}.account_details_heading[_ngcontent-%COMP%]{font-family:Poppins;font-size:13px;color:#102245;opacity:50%;letter-spacing:-.26px;margin-bottom:15px}.textcolor[_ngcontent-%COMP%]{color:#fff}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.inputCard[_ngcontent-%COMP%]{box-sizing:border-box}input[_ngcontent-%COMP%]{border:0;outline:0;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.continueBtn[_ngcontent-%COMP%]{width:553px;height:50px;color:#fff;background:transparent linear-gradient(90deg,#051a2d 0%,#004c97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:30%;background-color:#fff;color:#e50000;font-family:sans-serif;font-weight:700}.backBtn[_ngcontent-%COMP%]{font-weight:700;width:263px;height:50px;background:#ffffff 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}.currency_code[_ngcontent-%COMP%]{background-color:#004c9724;border:1px solid #004c97;border-radius:6px;font-size:15px;font-family:Poppins;color:#004c97;margin-left:13px;padding:5px;width:50px;text-align:center}.loan_account[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{padding-top:8px}mat-label[_ngcontent-%COMP%]{font-family:Poppins,Medium!important;margin-left:18px!important}.actionIcon[_ngcontent-%COMP%]:hover{color:#004c97}.filterDropDown[_ngcontent-%COMP%]:hover   .actionIcon[_ngcontent-%COMP%]{color:#004c97!important}.recent_transName[_ngcontent-%COMP%]   .actionIcon[_ngcontent-%COMP%]:hover{color:red}.selection-icon[_ngcontent-%COMP%]{position:relative;top:6px;margin-right:16px;display:none}  .egret-navy .mat-option.mat-active{background:rgba(44,44,44,.04);color:#004c97}  .egret-navy .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#004c97}.auto-width[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto!important}.auto-width[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{max-width:100%;width:auto}"],changeDetection:0}),o})();const Y=void 0;function al(o,r){if(1&o&&(t.TgZ(0,"mat-radio-button",31),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.mode),t.xp6(1),t.hij(" ",e.mode," ")}}function il(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",32),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onCountryChange(i))}),t.TgZ(1,"div",33)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"div",34),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("value",e.currencyCode),t.xp6(3),t.Oqu(e.currencyCode),t.xp6(1),t.Gre("currency-flag currency-flag-",n.addCurrencyImage(e.currencyCode)," alignImage")}}function rl(o,r){if(1&o&&(t.TgZ(0,"mat-option",46)(1,"mat-icon",47),t._uU(2," trip_origin "),t.qZA(),t._uU(3),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e.accountNumber),t.xp6(3),t.hij(" ",null==e?null:e.accountNumber,"")}}function cl(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.addAccount())}),t._uU(1," Add Account "),t.qZA()}}function sl(o,r){if(1&o&&(t.TgZ(0,"div")(1,"mat-hint",44),t._uU(2,"Account type "),t.qZA(),t.TgZ(3,"p",45),t._uU(4),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ","Internal"===(null==e.filteredPaymentAccount?null:e.filteredPaymentAccount.transferType)||"Other Bank"===(null==e.filteredPaymentAccount?null:e.filteredPaymentAccount.transferType)?null==e.filteredPaymentAccount?null:e.filteredPaymentAccount.transferType:null==e.filteredPaymentAccount?null:e.filteredPaymentAccount.accountType," ")}}function ul(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",35)(2,"mat-card",36)(3,"mat-form-field",17)(4,"mat-label"),t._uU(5,"Account Number*"),t.qZA(),t.TgZ(6,"div",37)(7,"mat-select",38)(8,"mat-select-trigger")(9,"span",39),t._uU(10),t.qZA(),t._uU(11),t.qZA(),t.YNc(12,rl,4,2,"mat-option",40),t.qZA()(),t.YNc(13,cl,2,0,"button",41),t.qZA(),t.TgZ(14,"div",42)(15,"div",43)(16,"div")(17,"mat-hint",44),t._uU(18,"Account Balance "),t.qZA(),t.TgZ(19,"p",45),t._uU(20),t.qZA()()(),t.TgZ(21,"div",43)(22,"div")(23,"mat-hint",44),t._uU(24,"Customer Name "),t.qZA(),t.TgZ(25,"p",45),t._uU(26),t.qZA()()(),t.TgZ(27,"div",43),t.YNc(28,sl,5,1,"div",14),t.qZA(),t.TgZ(29,"div",43)(30,"div")(31,"mat-hint",44),t._uU(32,"Account Branch "),t.qZA(),t.TgZ(33,"p",45),t._uU(34),t.qZA()()()()()(),t.BQk()),2&o){const e=t.oxw();let n,a,i,s,u;t.xp6(1),t.s9C("fxFlex",e.fxwidthAccountDetails),t.xp6(6),t.Q6J("ngClass",1==e.accountList.length?"removeArrow":""),t.xp6(3),t.Oqu(null==(n=e.paymentForm.get("accountCurrency"))?null:n.value),t.xp6(1),t.hij(" ",null==(a=e.paymentForm.get("accountNumber"))?null:a.value," "),t.xp6(1),t.Q6J("ngForOf",e.accountList),t.xp6(1),t.Q6J("ngIf","loanDisburshment"==e.loanType),t.xp6(7),t.hij(" ",null==(i=e.paymentForm.get("accountBalance"))?null:i.value," "),t.xp6(6),t.hij(" ",null==(s=e.paymentForm.get("holderName"))?null:s.value," "),t.xp6(2),t.Q6J("ngIf","Repayment"!==e.titleVal),t.xp6(6),t.hij(" ",null==(u=e.paymentForm.get("accountBranch"))?null:u.value," ")}}function ll(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"mat-form-field",17)(2,"mat-label"),t._uU(3,"Cheque number*"),t.qZA(),t._UZ(4,"input",49),t.qZA()()),2&o){const e=t.oxw();t.s9C("fxFlex",e.fxWidthchequeNumber)}}function ml(o,r){if(1&o&&(t.TgZ(0,"mat-option",46)(1,"mat-icon",47),t._uU(2," trip_origin "),t.qZA(),t._uU(3),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(3),t.hij(" ",e.value," ")}}function hl(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",21)(1,"mat-form-field",17)(2,"mat-label"),t._uU(3,"Cheque Type"),t.qZA(),t.TgZ(4,"mat-select",50),t.NdJ("valueChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.chequeType=a)}),t.TgZ(5,"mat-select-trigger"),t._UZ(6,"mat-icon",51),t._uU(7),t.qZA(),t.YNc(8,ml,4,2,"mat-option",40),t.qZA()()()}if(2&o){const e=t.oxw();t.s9C("fxFlex",e.fxwidthChqType),t.xp6(4),t.Q6J("value",e.chequeType),t.xp6(3),t.Oqu(e.chequeType),t.xp6(1),t.Q6J("ngForOf",e.ChequeType)}}function dl(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"mat-form-field",17)(2,"mat-label"),t._uU(3,"Name On The Cheque"),t.qZA(),t._UZ(4,"input",52),t.qZA()()),2&o){const e=t.oxw();t.s9C("fxFlex",e.fxnameOnTheCheque)}}function pl(o,r){1&o&&(t.TgZ(0,"mat-form-field",54)(1,"mat-label"),t._uU(2,"Account number"),t.qZA(),t._UZ(3,"input",55),t.qZA())}function gl(o,r){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,pl,4,0,"mat-form-field",53),t.qZA()),2&o){const e=t.oxw();t.s9C("fxFlex",e.fxAccoundNumber),t.xp6(1),t.Q6J("ngIf","Repayment"==e.titleVal)}}function _l(o,r){1&o&&(t.TgZ(0,"mat-form-field",54)(1,"mat-label"),t._uU(2,"Account Bank/Branch"),t.qZA(),t._UZ(3,"input",56),t.qZA())}function fl(o,r){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,_l,4,0,"mat-form-field",53),t.qZA()),2&o){const e=t.oxw();t.s9C("fxFlex",e.fxAccountBank),t.xp6(1),t.Q6J("ngIf","Repayment"==e.titleVal)}}function Cl(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Denomination total should match with the transaction amount "),t.qZA())}(0,l.qS)(["en-IN",[["a","p"],["am","pm"],Y],[["am","pm"],Y,Y],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Y,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Y,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[0,0],["dd/MM/yy","dd-MMM-y","d MMMM y","EEEE, d MMMM, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Y,"{1} 'at' {0}",Y],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##,##0.###","#,##,##0%","\xa4#,##,##0.00","#E0"],"INR","\u20b9","Indian Rupee",{JPY:["JP\xa5","\xa5"]},"ltr",function nl(o){const e=Math.floor(Math.abs(o)),n=o.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}]);let $=(()=>{class o{constructor(e,n,a,i,s,u,h){this.apiService=e,this.dataService=n,this.router=a,this.snack=i,this.cdr=s,this.ls=u,this.formBuilder=h,this.checked=!0,this.showAccountNum=!0,this.showAccoutType=!0,this.ifQRvariable=!1,this.productCode="CHW",this.tokenOrigin="Kiosk",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="1234",this.custAccountData=[],this.accounttypeArray=[],this.idList=[],this.enableContinue=!0,this.isedit=!0,this.currencyImage="",this.accountList=[],this.accountNoList=[],this.enableBtn=!0,this.enableBtn1=!1,this.accountDropdown=!0,this.flag1=!1,this.displayFlag=!0,this.denomRequired="",this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!0,this.ChequeType=[{value:"Bearer Cheque"},{value:"Banker Cheque"},{value:"Demand Draft"},{value:"Traveller"}],this.subscriptions=[],this.paymentMode=[{mode:"Cash",viewValue:"Home Loan",display:!1},{mode:"Account",viewValue:"Education",display:!0},{mode:"Cheque",viewValue:"Vehicle",display:!1}],this.displayNegotiated=!1,this.isShowDenomError=!1,this.chargeAmount=5,this.fxwidthTransactionCurrency=32,this.fxwidthAccountDetails=67,this.fxWidthLoanRepaymentDisbirsment=32,this.fxwidthTotalChargeAmt=34,this.fxwidthChqType=32,this.fxNegorate=32,this.selectedMode="Account",this.onChange=()=>{},this.onTouched=()=>{}}get value(){return this.paymentForm.value}set value(e){this.paymentForm.patchValue(e),this.onChange(e),this.onTouched()}get emailControl(){return this.paymentForm.controls.email}ngOnInit(){var e;this.selectedMode="Account",this.phoneNumber=localStorage.getItem("phonenumFromLogin"),this.appointmentId=localStorage.getItem("TransactionType"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.customerId=localStorage.getItem("customerId");let n=this.ls.getItem("DISB_ACNT");this.parseAccountData(n),this.module=this.titleVal,this.buildForm(),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),this.custNameFromLogin=localStorage.getItem("FromLogin"),this.custValidation=localStorage.getItem("customerValidation"),this.dataService.getloanRepaymentData.subscribe(a=>{var i;0!=Object.keys(a).length&&a.constructor==Object&&(this.loanRepaymentFullData=a,null!==(i=this.loanRepaymentFullData)&&void 0!==i&&i.appointmentId&&this.setAppointmentIdData(this.loanRepaymentFullData))}),this.dataService.getloanFormdata.subscribe(a=>{console.log(0!=Object.keys(a).length,a.constructor===Object,a),0!=Object.keys(a).length&&a.constructor!=Object&&(this.loanData=a,console.log(this.loanData),this.gettingallTansactionDetails(this.loanData),this.getChargeDetails(this.loanData[0].loanAccountId,""),("New Customer"==this.custValidation||null!=this.custNameFromLogin)&&(this.setWalkinCustomerData(this.loanData),this.showAccountNum=!0))}),setTimeout(()=>{null!=this.qrData&&(console.log("Account",this.qrData),this.hideDetails=!0,this.hideAccNum=!0,this.showzero=!1,this.currencyCode=this.qrData.accountCurrency,this.userName=this.qrData.holderName,this.accountBal=this.qrData.accountBalance)},1e3),this.phoneNumber&&null==this.custNameFromLogin&&null==this.appointmentId&&(this.ifQRvariable=!1,this.hideAccNum=!0,this.showAccountNum=!0,this.showAccoutType=!0,this.showzero=!1,this.selectedMode="Account",null===(e=this.paymentForm.get("rePaymentMode"))||void 0===e||e.setValue(this.selectedMode),console.log("selectedmode",this.selectedMode)),this.getCountrynameValues(),this.subscriptions.push(this.paymentForm.valueChanges.subscribe(a=>{this.onChange(a),this.onTouched()})),console.log(this.paymentForm),("New Customer"==this.custValidation||null!=this.custNameFromLogin)&&(this.hideAccNum=!1,this.showAccountNum=!1,this.showAccoutType=!1),this.paymentForm.get("rePaymentMode").valueChanges.subscribe(a=>{console.log("dadadadadaadadad",a),this.dataService.sendPaymentInfoFormData(this.paymentForm.value),"Account"==a?this.addProperty():this.removeProperty()}),this.paymentForm.get("accountNumber").valueChanges.subscribe(a=>{var i,s,u,h,d,_,v,b,y;console.log("accountPAYMENTSAELEELWEWELELEL",a),this.selectedPaymentAccount=a;let B=null===(i=this.accountList)||void 0===i?void 0:i.filter(Q=>Q.accountNumber===this.selectedPaymentAccount);this.filteredPaymentAccount=B[0],console.log(this.filteredPaymentAccount),console.log(typeof(null===(s=this.filteredPaymentAccount)||void 0===s?void 0:s.accountNumber)),this.paymentForm.controls.accountCurrency.patchValue(null===(u=this.filteredPaymentAccount)||void 0===u?void 0:u.accountCurrency),this.paymentForm.controls.accountBalance.patchValue(null!==(h=this.filteredPaymentAccount)&&void 0!==h&&h.accountBalance?null===(d=this.filteredPaymentAccount)||void 0===d?void 0:d.accountBalance:0),this.paymentForm.controls.holderName.patchValue(null!==(_=this.filteredPaymentAccount)&&void 0!==_&&_.customerName?null===(v=this.filteredPaymentAccount)||void 0===v?void 0:v.customerName:""),this.paymentForm.controls.accountBranch.patchValue(null!==(b=this.filteredPaymentAccount)&&void 0!==b&&b.bankCode?null===(y=this.filteredPaymentAccount)||void 0===y?void 0:y.bankCode:""),console.log(this.paymentForm.value)}),this.cdr.markForCheck()}buildForm(){this.paymentForm=this.formBuilder.group({rePaymentMode:["",[c.kI.required]],transactionCurrency:["",[c.kI.required]],transactionAmount:["",[c.kI.required]],chequeType:[""],denomination:[null],nameOnCheque:[""],totalChargeAmount:["",[c.kI.required]],totalTransactionAmount:["",[c.kI.required]],exchangeRate:[""],accountNumber:[""],accountBalance:[""],holderName:[""],accountBranch:[""],chequeNumber:[""],accountCurrency:[""]})}addProperty(){document.querySelector(".mat-card").style.setProperty("display","none !important")}removeProperty(){document.querySelector(".mat-card").style.removeProperty("display")}parseAccountData(e){for(let n=0;n<(null==e?void 0:e.length);n++){const a=e[n];let i={id:null==a?void 0:a.id,customerId:null==a?void 0:a.customerId,transferType:null==a?void 0:a.transferType,accountNumber:parseInt(null==a?void 0:a.accountNumber),accountCurrency:null==a?void 0:a.accountCurrency,customerName:null==a?void 0:a.customerName,bankCode:null==a?void 0:a.bankCode,customerNickName:null==a?void 0:a.customerNickName,accountType:null==a?void 0:a.accountType,accountBalance:null==a?void 0:a.accountBalance};this.accountList.push(i)}}ngOnChanges(){}changeTransType(){var e;let n=null===(e=this.paymentForm.get("rePaymentMode"))||void 0===e?void 0:e.value;console.log("data",n),console.log("mode",this.selectedMode),this.dataService.sendPaymentInfoFormData(this.paymentForm.value),"Account"===n&&(this.fxWidthLoanRepaymentDisbirsment=32,this.fxwidthAccountDetails=67),"Cash"===n&&(this.fxwidthTransactionCurrency=32,this.fxWidthLoanRepaymentDisbirsment=67,this.fxwidthTotalChargeAmt=34),"Cheque"==n&&(this.fxWidthchequeNumber=67,this.fxnameOnTheCheque=34,this.fxWidthLoanRepaymentDisbirsment=32,this.fxAccountBank=34,this.fxAccoundNumber=32),"Cash"==n&&"Repayment"!==this.titleVal&&(this.fxNegorate=32),"Cheque"==n&&"Repayment"!==this.titleVal&&(this.fxWidthLoanRepaymentDisbirsment=65,this.fxNegorate=34,this.fxwidthTotalChargeAmt=32)}getAccountBranch(){this.apiService.getBranchforKiosk().subscribe(e=>{this.branchData=e,console.log(this.branchData),e.forEach((n,a)=>{this.branch=e[a].branchName})})}setAppointmentIdData(e){var n,a,i,s,u;console.log(e),this.custID=e.customerId,this.ifQRvariable=!0,this.hideAccNum=!1,this.hideDetails=!0,this.userName=e.holderName,this.displayNegotiated=!1,this.accountCurrency=e.accountCurrency,this.chargeAmount=null!==(n=null==e?void 0:e.totalChargeAmount)&&void 0!==n?n:this.chargeAmount,this.selectedMode=e.modeInfo[0].rePaymentMode,this.cdr.markForCheck(),this.paymentForm.controls.rePaymentMode.patchValue(this.selectedMode),console.log(this.paymentForm),this.paymentForm.controls.transactionCurrency.patchValue(e.transactionCurrency?e.transactionCurrency:""),this.accountCurrency!=this.paymentForm.controls.transactionCurrency.value&&(this.displayNegotiated=!0),this.currencyImage="currency-flag-"+(null==e?void 0:e.transactionCurrency.toLowerCase()),this.paymentForm.controls.transactionAmount.patchValue(e.transactionAmount),this.staticExcangeRate=null==e?void 0:e.exchangeRate,null===(a=this.paymentForm.get("exchangeRate"))||void 0===a||a.patchValue(null==e?void 0:e.exchangeRate),"Cheque"==e.modeInfo[0].rePaymentMode&&(this.chequeType=e.modeInfo[0].chequeType,this.paymentForm.controls.chequeType.patchValue(e.modeInfo[0].chequeType),this.paymentForm.controls.nameOnCheque.patchValue(e.modeInfo[0].nameOnCheque),this.paymentForm.controls.chequeNumber.patchValue(e.modeInfo[0].chequeNo)),"Account"==e.modeInfo[0].rePaymentMode&&(this.selectedPaymentAccount=null===(i=e.modeInfo[0])||void 0===i?void 0:i.accountNumber,null===(s=this.paymentForm.get("accountNumber"))||void 0===s||s.patchValue(null===(u=e.modeInfo[0])||void 0===u?void 0:u.accountNumber),this.paymentForm.controls.accountCurrency.patchValue(e.modeInfo[0].accountCurrency),this.paymentForm.controls.accountBalance.patchValue(e.modeInfo[0].accountBalance?e.modeInfo[0].accountBalance:0),this.paymentForm.controls.holderName.patchValue(e.holderName),this.paymentForm.controls.accountBranch.patchValue(e.modeInfo[0].accountBranch)),"Cash"==e.modeInfo[0].rePaymentMode&&this.paymentForm.controls.denomination.patchValue(null==e?void 0:e.denomination),console.log(this.currencyImage),this.getChargeDetails(e.accountNumber,"")}onCountryChange(e){let n=e.currencyCode;console.log(this.paymentForm),this.currencyImage="currency-flag-"+n.toLowerCase(),this.accountCurrency!=this.paymentForm.controls.transactionCurrency.value?(this.displayNegotiated=!0,this.fetchExchangeRateForCurrency(n,this.accountCurrency)):this.displayNegotiated=!1}setWalkinCustomerData(e){var n,a;this.accountCurrency=e[0].accountCurrency,this.paymentForm.controls.transactionAmount.patchValue(null!==(n=e[0])&&void 0!==n&&n.currentArrears?null===(a=e[0])||void 0===a?void 0:a.currentArrears:0),this.paymentForm.controls.transactionCurrency.patchValue(e[0].accountCurrency),this.currencyImage="currency-flag-"+e[0].accountCurrency.toLowerCase(),console.log(this.paymentForm)}OnInput(e){this.repaymentAmount=e.target.value,this.totalAmount=0,this.denomRequired="yes",this.dataService.sendPaymentInfoFormData(this.paymentForm.value),this.transAmount=this.repaymentAmount.toLocaleString("en-IN"),this.cdr.detectChanges(),console.log(this.balance,this.repaymentAmount),console.log(this.titleVal),"Repayment"===this.titleVal&&parseFloat(this.loanData[0].principalOutstanding)<parseFloat(this.repaymentAmount)&&(console.log("Bigger"),this.snack.open("Loan repayment amount should not exceed principal outstanding","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right",panelClass:["snackbar"]})),"Disbursement"===this.titleVal&&(console.log("inside disbursement",this.loanData[0].sanctionedAmount,this.loanData[0].disbursedAmount),this.disbursedTotalAmount=this.loanData[0].sanctionedAmount-this.loanData[0].disbursedAmount,console.log("data :: ",this.disbursedTotalAmount),parseFloat(this.disbursedTotalAmount)<parseFloat(this.repaymentAmount)&&(console.log("Biggerrrr"),this.isShowDenomError=!0,this.snack.open("Loan Disbursement amount should not exceed Sanctioned amount","OK",{duration:2e3,verticalPosition:"top",horizontalPosition:"right",panelClass:["snackbar"]}))),"Repayment"===this.titleVal&&(this.paymentForm.controls.transactionCurrency.value==this.accountCurrency&&(console.log(this.accountCurrency),this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value.replace(/\,/g,""):0)+Number(this.paymentForm.controls.totalChargeAmount.value),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)),this.paymentForm.controls.transactionCurrency.value!=this.accountCurrency&&(console.log(this.accountCurrency),console.log(this.paymentForm.controls.totalChargeAmount.value),this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value.replace(/\,/g,""):0)*Number(this.paymentForm.controls.exchangeRate.value)+Number(this.paymentForm.controls.totalChargeAmount.value),console.log("line 786 on input()",this.totalTransAmount),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount))),"Disbursement"===this.titleVal&&(this.paymentForm.controls.transactionCurrency.value==this.accountCurrency&&(console.log(this.accountCurrency),this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value:0)+Number(this.paymentForm.controls.totalChargeAmount.value),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)),this.paymentForm.controls.transactionCurrency.value!=this.accountCurrency&&(console.log(this.paymentForm.get("totalChargeAmount").value),this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value.replace(/\,/g,""):0)*Number(this.paymentForm.controls.exchangeRate.value)+Number(this.paymentForm.get("totalChargeAmount").value),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)))}fetchExchangeRateForCurrency(e,n){console.log(e,n),this.apiService.fetchExchangeRateForCurrency(e,n).subscribe(a=>{console.log(a),this.exchangerateResp=a,console.log(this.exchangerateResp),this.exchangerateResp&&this.paymentForm.get("exchangeRate").patchValue(this.exchangerateResp[0].buyRate),setTimeout(()=>{this.paymentForm.controls.transactionCurrency.value==this.accountCurrency?("Disbursement"===this.titleVal&&(this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value:0)+Number(this.chargeDetails[0].amount),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)),"Repayment"===this.titleVal&&(this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value:0)+Number(this.chargeDetails[0].amount),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount))):this.displayWithNegotiate()},10)})}displayWithNegotiate(){this.paymentForm.controls.transactionCurrency.value!=this.accountCurrency&&("Disbursement"===this.titleVal&&(this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value.replace(/\,/g,""):0)*Number(this.paymentForm.controls.exchangeRate.value)+Number(this.chargeDetails[0].amount),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)),"Repayment"===this.titleVal&&(this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value.replace(/\,/g,""):0)*Number(this.paymentForm.controls.exchangeRate.value)+Number(this.chargeDetails[0].amount),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)))}getCountrynameValues(){this.apiService.getCountryValues().subscribe(e=>{var n;this.countryValues=e,console.log(this.countryValues),null!==(n=this.loanRepaymentFullData)&&void 0!==n&&n.appointmentId&&this.paymentForm.controls.rePaymentMode.patchValue(this.loanRepaymentFullData.modeInfo[0].rePaymentMode)})}getChargeDetails(e,n){this.apiService.fetchChargeDetails(e).subscribe(a=>{this.chargeDetails=a,console.log(this.chargeDetails),this.paymentForm.controls.totalChargeAmount.patchValue(this.chargeDetails?this.chargeDetails[0].amount:"10")}),this.cashData?(setTimeout(()=>{this.paymentForm.controls.transactionCurrency.value==this.accountCurrency&&(console.log(this.accountCurrency),this.totalTransAmount=Number(this.cashData.transactionAmount)+Number(10),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)),this.paymentForm.controls.transactionCurrency.value!=this.accountCurrency&&(console.log(this.accountCurrency),this.totalTransAmount=Number(this.cashData.transactionAmount)*Number(this.paymentForm.controls.exchangeRate.value)+Number(10),console.log("line 845 getchrgedetails",this.totalTransAmount),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount))},1e3),this.cdr.markForCheck(),this.cdr.detectChanges()):(console.log(this.chargeDetails),console.log(this.paymentForm.controls.totalChargeAmount.value),setTimeout(()=>{this.totalTransAmount=Number(this.paymentForm.controls.transactionAmount.value?this.paymentForm.controls.transactionAmount.value:0)+Number(this.chargeDetails?this.chargeDetails[0].amount:"10"),console.log(this.totalTransAmount),this.paymentForm.controls.totalTransactionAmount.patchValue(this.totalTransAmount)},1e3),this.cdr.markForCheck(),this.cdr.detectChanges())}custAccountNumber(e){console.log("custype :: ",e),this.isedit=!1,this.idList=[...this.custAccountData].filter(n=>n.accountType===e.accountType),console.log("idList :: ",this.idList),this.accountNoList=[];for(let n=0;n<this.idList.length;n++)"APPROVED"==this.idList[n].status&&this.accountNoList.push(this.idList[n].accountId);console.log("accountNoList :: ",this.accountNoList),this.accountNoList.length<=1?(console.log("accountNoList 1:: ",this.accountNoList),this.flag1=!1,this.displayFlag=!0,this.selected2=this.accountNoList[0],this.paymentForm.controls.accountNumber.patchValue(this.accountNoList[0])):(this.selected2=this.accountNoList[0],console.log("accountNoList 2:: ",this.selected2),this.paymentForm.controls.accountNumber.patchValue(this.accountNoList[0]),this.flag1=!0,this.displayFlag=!0),console.log("AccountCurrency",e.accountCurrency),this.curr=(0,l.jK)(e.accountCurrency,"narrow"),this.currencyImage="currency-flag-"+e.accountCurrency.toLowerCase(),console.log("data :: ",this.idList[0]),0==this.idList[0].amount?(this.accountBal="00000",this.paymentForm.controls.accountBalance.patchValue(this.formatedPrice),localStorage.setItem("AccountBal",this.idList[0].amount)):(this.accountBal=this.idList[0].amount,console.log(this.accountBal),localStorage.setItem("AccountBal",this.accountBal)),this.custAmountBal(this.accountNoList[0])}custAmountBal(e){var n,a;console.log(e);var i=this.idList.filter(function(s){if(s.accountId==e)return s});console.log(i),this.paymentForm.controls.accountCurrency.patchValue(null!==(n=i[0])&&void 0!==n&&n.accountCurrency?null===(a=i[0])||void 0===a?void 0:a.accountCurrency:this.accountCurrency1),i.length>0&&(this.accNum=i[0].accountId,this.accountBal=0==i[0].amount?"00000":i[0].amount,this.selectedAccountInfo=i[0]),console.log(this.accountBal),this.paymentForm.controls.accountBalance.patchValue(this.accountBal),console.log(this.paymentForm)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}registerOnChange(e){this.onChange=e}writeValue(e){e&&(this.value=e),null===e&&this.paymentForm.reset()}registerOnTouched(e){this.onTouched=e}validate(e){return this.paymentForm.valid?null:{profile:{valid:!1}}}onBlurEvent(e){this.updateTransAmount()}addCurrencyImage(e){return e.toLowerCase()}gettingallTansactionDetails(e){var n,a;console.log(e),this.currencyImage="currency-flag-"+e[0].accountCurrency.toLowerCase(),this.paymentForm.get("transactionCurrency").patchValue(e[0].accountCurrency),this.accountCurrency=e[0].accountCurrency,"Repayment"==this.titleVal&&this.paymentForm.controls.transactionAmount.patchValue(null!==(n=e[0])&&void 0!==n&&n.currentArrears?null===(a=e[0])||void 0===a?void 0:a.currentArrears:0),this.dataService.sendPaymentInfoFormData(this.paymentForm.value)}addAccount(){this.router.navigateByUrl("others/add-account")}updateTransAmount(){var e,n,a;let i=null===(e=this.paymentForm.get("loanDisburshmentAmount"))||void 0===e?void 0:e.value,s="undefined"!=i||null!=i?null==i?void 0:i.replace(/,/g,""):0;if(!isNaN(s)){let u=s*(null===(n=this.paymentForm.get("exchangeRate"))||void 0===n?void 0:n.value)+this.chargeAmount;if(!isNaN(u)){let h=this.dataService.formatCurrency(u,null===(a=this.paymentForm.get("transactionCurrency"))||void 0===a?void 0:a.value);this.paymentForm.get("totalTransactionAmount").patchValue(h),this.cdr.markForCheck()}}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(N.s),t.Y36(P.D),t.Y36(x.F0),t.Y36(F.ux),t.Y36(t.sBO),t.Y36(D.g),t.Y36(c.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-payment-information"]],inputs:{loanType:"loanType",titleVal:"titleVal"},features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0},{provide:c.Cf,useExisting:(0,t.Gpc)(()=>o),multi:!0}]),t.TTD],decls:63,vars:28,consts:[[1,"paymentInfo"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","space-between center",1,"RadioBtbDiv"],[1,"accountHeader"],["fxFlex","","fxLayoutAlign","end","fxLayoutAlignGap","10",1,"paymentModeDiv"],[1,"PaymentModeFont"],["color","primary","formControlName","rePaymentMode",3,"ngModel","change","ngModelChange"],["class","PaymentRadio PaymentModeFont","fxLayoutGap","10",3,"value",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutGap","20"],["fxLayout","row wrap","fxLayoutAlign","space-between start","fxLayoutGap","10",1,"transactionDiv"],["appearance","outline",1,"full-width",3,"fxFlex"],["fxFlex","10"],["placeholder","Select Transaction Currency","formControlName","transactionCurrency"],[3,"value","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"fxFlex",4,"ngIf"],[3,"fxFlex","ngClass"],["appearance","outline",1,"full-width"],["matInput","","formControlName","transactionAmount",3,"keyup"],["matInput","","placeholder","Negotiated Rate","formControlName","exchangeRate"],[1,"hint-text"],[3,"fxFlex"],["matInput","","placeholder","Total Charge amount","formControlName","totalChargeAmount"],["fxFlex","32",3,"ngClass"],["matInput","","placeholder","Total Transaction amount","formControlName","totalTransactionAmount"],["matSuffix","",1,"tooltip"],["width","60%",3,"src"],[1,"text","tooltiptextNeg"],[1,"errormsge"],["src","assets/images/exchangemessageicon.png","alt",""],[1,"errortext"],["fxLayoutGap","10",1,"PaymentRadio","PaymentModeFont",3,"value"],[3,"value","click"],["fxLayout","row wrap"],[2,"margin-top","5%","margin-left","4%"],[1,"side","AccountDetails",3,"fxFlex"],[1,"accountInfoCard"],[2,"display","flex"],["formControlName","accountNumber",3,"ngClass"],[1,"currency_code"],[3,"value",4,"ngFor","ngForOf"],["class","buttonStyle","mat-button","","matSuffix","","mat-stroked-button","",3,"click",4,"ngIf"],["fxLayout","row",2,"justify-content","space-between","display","inline"],["fxLayout","column"],[1,"totalAmount"],[1,"hint"],[3,"value"],[1,"actionIcon"],["mat-button","","matSuffix","","mat-stroked-button","",1,"buttonStyle",3,"click"],["matInput","","type","text","formControlName","chequeNumber",1,"full-width"],["formControlName","chequeType","optionDisableCentering","",3,"value","valueChange"],[1,"selection-icon"],["matInput","","type","text","formControlName","nameOnCheque",1,"full-width"],["fxFlex","","appearance","outline",4,"ngIf"],["fxFlex","","appearance","outline"],["matInput","","placeholder","Account number","formControlName","accountNumber"],["matInput","","placeholder","Account Bank/Branch","formControlName","accountBranch"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"mat-card-title",3),t._uU(4,"Payment Information"),t.qZA(),t.TgZ(5,"span",4)(6,"mat-label",5),t._uU(7,"Payment Mode"),t.qZA(),t._uU(8,"\xa0 "),t.TgZ(9,"mat-radio-group",6),t.NdJ("change",function(){return n.changeTransType()})("ngModelChange",function(i){return n.selectedMode=i}),t.YNc(10,al,2,2,"mat-radio-button",7),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Transaction currency*"),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"div"),t.qZA(),t.TgZ(18,"mat-select",12),t.YNc(19,il,5,5,"mat-option",13),t.qZA()(),t.YNc(20,ul,35,10,"ng-container",14),t.YNc(21,ll,5,1,"div",15),t.YNc(22,hl,9,4,"div",15),t.YNc(23,dl,5,1,"div",15),t.YNc(24,gl,2,2,"div",15),t.YNc(25,fl,2,2,"div",15),t.TgZ(26,"div",16)(27,"mat-form-field",17)(28,"mat-label"),t._uU(29),t.qZA(),t.TgZ(30,"input",18),t.NdJ("keyup",function(i){return n.OnInput(i)}),t.qZA()(),t.YNc(31,Cl,2,0,"mat-error",14),t.qZA(),t.TgZ(32,"div",16)(33,"mat-form-field",17)(34,"mat-label"),t._uU(35,"Negotiated Rate"),t.qZA(),t._UZ(36,"input",19),t.TgZ(37,"mat-hint",20),t._uU(38),t.qZA()()(),t.TgZ(39,"div",21)(40,"mat-form-field",17)(41,"mat-label"),t._uU(42,"Total Charge amount"),t.qZA(),t._UZ(43,"input",22),t.qZA()(),t.TgZ(44,"div",23)(45,"mat-form-field",17)(46,"mat-label"),t._uU(47,"Total Transaction amount"),t.qZA(),t._UZ(48,"input",24),t.TgZ(49,"div",25),t._UZ(50,"img",26),t.TgZ(51,"div",27)(52,"p"),t._uU(53),t.qZA(),t.TgZ(54,"p"),t._uU(55),t.qZA(),t._UZ(56,"hr"),t.TgZ(57,"p"),t._uU(58),t.qZA()()()()()(),t.TgZ(59,"div",28),t._UZ(60,"img",29),t.TgZ(61,"div",30),t._uU(62,' "Exchange rate may be changed at the time of transaction" '),t.qZA()()()()()),2&e){let a,i,s,u;t.xp6(1),t.Q6J("formGroup",n.paymentForm),t.xp6(8),t.Q6J("ngModel",n.selectedMode),t.xp6(1),t.Q6J("ngForOf",n.paymentMode),t.xp6(3),t.s9C("fxFlex",n.fxwidthTransactionCurrency),t.xp6(4),t.Gre("currency-flag ",n.currencyImage,""),t.xp6(2),t.Q6J("ngForOf",n.countryValues),t.xp6(1),t.Q6J("ngIf","Account"==n.selectedMode),t.xp6(1),t.Q6J("ngIf","Cheque"==n.paymentForm.get("rePaymentMode").value&&"Repayment"===n.titleVal),t.xp6(1),t.Q6J("ngIf","Cheque"==n.paymentForm.get("rePaymentMode").value&&"Repayment"!==n.titleVal),t.xp6(1),t.Q6J("ngIf","Cheque"==n.paymentForm.get("rePaymentMode").value&&"Repayment"!==n.titleVal),t.xp6(1),t.Q6J("ngIf","Cheque"==n.paymentForm.get("rePaymentMode").value),t.xp6(1),t.Q6J("ngIf","Cheque"==n.paymentForm.get("rePaymentMode").value),t.xp6(1),t.s9C("fxFlex",n.fxWidthLoanRepaymentDisbirsment),t.Q6J("ngClass","Account"==(null==(a=n.paymentForm.get("rePaymentMode"))?null:a.value)?"mt-55":""),t.xp6(3),t.Oqu("Repayment"==n.titleVal?"Loan Repayment amount":"Loan Disbursement amount"),t.xp6(2),t.Q6J("ngIf",n.isShowDenomError),t.xp6(1),t.s9C("fxFlex",n.fxNegorate),t.Q6J("ngClass","Account"==(null==(i=n.paymentForm.get("rePaymentMode"))?null:i.value)?"ml-370":""),t.xp6(6),t.hij(" Exchange rate : ",n.staticExcangeRate," "),t.xp6(1),t.s9C("fxFlex",n.fxwidthTotalChargeAmt),t.xp6(5),t.Q6J("ngClass","Cheque"==(null==(s=n.paymentForm.get("rePaymentMode"))?null:s.value)&&"Repayment"!==n.titleVal?"chqTotTransactionDis":"chqTotTransactionRepay"),t.xp6(6),t.Q6J("src","assets/images/info.svg",t.LSH),t.xp6(3),t.AsE(" ","Repayment"==n.titleVal?"Loan Repayment amount":"Loan Disbursement amount",":",null==(u=n.paymentForm.get("transactionAmount"))?null:u.value," "),t.xp6(2),t.hij(" Total Charge Amount:",n.paymentForm.get("totalChargeAmount").value," "),t.xp6(3),t.hij(" Total Transaction Amount:",n.paymentForm.get("totalTransactionAmount").value," ")}},dependencies:[l.mk,l.sg,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,m.xw,m.SQ,m.Wh,m.yH,S.oO,w.lW,g.TO,g.KE,g.bx,g.hX,g.R9,I.Nt,O.ey,J.VQ,J.U0,q.gD,q.$L,p.a8,p.n5,k.Hw],styles:[".paymentInfo[_ngcontent-%COMP%]   .accountHeader[_ngcontent-%COMP%]{font-size:18px;color:var(--unnamed-color-004c97);text-align:left;font-family:Poppins,Medium;letter-spacing:-.44px;color:#004c97;opacity:1}.paymentInfo[_ngcontent-%COMP%]   .trnTypeColorBlue[_ngcontent-%COMP%]{color:#004c97}.paymentInfo[_ngcontent-%COMP%]   .trnTypeColorBlack[_ngcontent-%COMP%]{color:#000}.paymentInfo[_ngcontent-%COMP%]   .RadioBtbDiv[_ngcontent-%COMP%], .paymentInfo[_ngcontent-%COMP%]   .transactionDiv[_ngcontent-%COMP%]{padding:0 0 0 20px}.paymentInfo[_ngcontent-%COMP%]   .errormsge[_ngcontent-%COMP%]{display:flex;margin-top:50px;margin-left:17px}.paymentInfo[_ngcontent-%COMP%]   .chqTotTransactionDis[_ngcontent-%COMP%]{position:relative;left:-369px}.paymentInfo[_ngcontent-%COMP%]   .chqTotTransactionRepay[_ngcontent-%COMP%]{left:0}.paymentInfo[_ngcontent-%COMP%]   .mt-55[_ngcontent-%COMP%]{margin-top:-55px}.paymentInfo[_ngcontent-%COMP%]   .ml-370[_ngcontent-%COMP%]{margin-left:-347px}.paymentInfo[_ngcontent-%COMP%]   .transactionDiv[_ngcontent-%COMP%]{padding:0 20px}.paymentInfo[_ngcontent-%COMP%]   .RadioBtbDiv[_ngcontent-%COMP%]{margin-bottom:20px}.paymentInfo[_ngcontent-%COMP%]   .AccountDetails[_ngcontent-%COMP%]{margin-top:-20px}.paymentInfo[_ngcontent-%COMP%]   .paymentModeDiv[_ngcontent-%COMP%]{padding-right:25px}.paymentInfo[_ngcontent-%COMP%]   .PaymentModeFont[_ngcontent-%COMP%]{font-family:poppins;font-size:16px;color:#707070;opacity:100%;letter-spacing:-.36px;padding-left:15px}.paymentInfo[_ngcontent-%COMP%]     .PaymentRadio .mat-radio-outer-circle{border-color:#fff;box-shadow:0 3px 15px #00000029}.paymentInfo[_ngcontent-%COMP%]     .egret-navy .mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#004c97;font-size:10px}.paymentInfo[_ngcontent-%COMP%]     .egret-navy .mat-radio-button.mat-primary .mat-radio-inner-circle{background-color:#004c97}.paymentInfo[_ngcontent-%COMP%]   .totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#102245}.paymentInfo[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:600;margin-left:1%;margin-bottom:0}.paymentInfo[_ngcontent-%COMP%]   .accountInfoCard[_ngcontent-%COMP%]{background:#f2f2f2 0% 0% no-repeat padding-box;border-radius:18px;box-shadow:unset!important;margin-left:-.2px;margin-right:0!important;display:flex;flex-direction:column;flex:1 1 170%!important}.paymentInfo[_ngcontent-%COMP%]   .actionIcon[_ngcontent-%COMP%]:hover{color:#004c97}.paymentInfo[_ngcontent-%COMP%]   .filterDropDown[_ngcontent-%COMP%]:hover   .actionIcon[_ngcontent-%COMP%]{color:#004c97!important}.paymentInfo[_ngcontent-%COMP%]   .recent_transName[_ngcontent-%COMP%]   .actionIcon[_ngcontent-%COMP%]:hover{color:red}.paymentInfo[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{position:relative;top:6px;margin-right:16px;display:none}.paymentInfo[_ngcontent-%COMP%]   .currency_code[_ngcontent-%COMP%]{background-color:#004c9724;border:1px solid #004c97;width:38px;height:18px;border-radius:4px;font-size:9px;color:#004c97;font-weight:600;text-transform:uppercase;margin-left:13px}.paymentInfo[_ngcontent-%COMP%]   .totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#102245;opacity:70%}.paymentInfo[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:5px}.paymentInfo[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:600;margin-left:1%;margin-bottom:0;font-size:11px}.paymentInfo[_ngcontent-%COMP%]   .maincontainer[_ngcontent-%COMP%]{margin-left:5px}.paymentInfo[_ngcontent-%COMP%]     .mat-form-field-appearance-outline.mat_form_field_margin .mat-form-field-outline{background-color:#f2f2f2}.paymentInfo[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:-.45em 0!important}.paymentInfo[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:Poppins,Medium!important;color:#707070!important;margin-left:3%!important}.paymentInfo[_ngcontent-%COMP%]   .firstWrapper1[_ngcontent-%COMP%]{display:flex;flex-direction:column!important;justify-content:space-around;margin-left:10px;margin-top:30px}.paymentInfo[_ngcontent-%COMP%]   .currency-label[_ngcontent-%COMP%]{width:43px;height:26px;background:rgba(0,76,151,.1411764706);border:1pt solid #004c97;margin:0;display:inline-grid;padding:5px;color:#004c97}.paymentInfo[_ngcontent-%COMP%]   .firstWrapper2[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;margin-left:10px;margin-top:25px}.paymentInfo[_ngcontent-%COMP%]   .firstWrapper3[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;margin-left:10px;width:100%}.paymentInfo[_ngcontent-%COMP%]   .acBranch[_ngcontent-%COMP%]{margin-right:55px}.paymentInfo[_ngcontent-%COMP%]     .egret-navy .mat-radio-button.mat-primary.mat-radio-checked{color:#004c97!important}.paymentInfo[_ngcontent-%COMP%]   .buttonStyle[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#051a2d,#004c97)!important;color:#fff;border-radius:10px;top:-3px}"],changeDetection:0}),o})();function xl(o,r){1&o&&(t.TgZ(0,"div",12),t._UZ(1,"app-denomination-info",13),t.qZA())}function yl(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",2)(1,"div",3)(2,"app-header",4),t.NdJ("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome1())}),t.qZA()(),t.TgZ(3,"div",5)(4,"mat-card",6),t._UZ(5,"app-loan-information-form",7)(6,"app-payment-information",8),t.qZA(),t.YNc(7,xl,2,0,"div",9),t.qZA(),t.TgZ(8,"div",10)(9,"app-footer",11),t.NdJ("save",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit(a))})("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome())})("exit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.loanRepaymentForm),t.xp6(2),t.Q6J("title",e.title),t.xp6(5),t.Q6J("ngIf",e.displayDenom),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"footclass":""),t.xp6(1),t.Q6J("cancelDisabled",!1)}}let vl=(()=>{class o{constructor(e,n,a,i,s,u,h,d,_){this.formBuilder=e,this.ls=n,this.apiService=a,this.router=i,this.dialogService=s,this.dialog=u,this.snack=h,this._location=d,this.dataService=_,this.title="Loan RePayment",this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="KN",this.oTpModel=new M.m,this.ifQRvariable=!1,this.denomRequired="",this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.tokenOrigin="Kiosk",this.Token=new rt,this.tokendisable=!1,this.displayDenom=!1}ngOnInit(){this.custNameFromLogin=localStorage.getItem("FromLogin"),this.custValidation=localStorage.getItem("customerValidation"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.denomRequired=localStorage.getItem("DenominationRequired"),console.log(this.Token),this.loanRepaymentForm=this.formBuilder.group({loanInfo:[],paymentInfo:[],denomination:[],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],productCode:["LNR",c.kI.required],tokenOrigin:["Kiosk",c.kI.required],estimatedWaitTime:["",[c.kI.required]],narrative:["",[c.kI.required]]}),this.qrData=JSON.parse(JSON.parse(localStorage.getItem("scannerData"))),console.log(this.loanRepaymentForm),this.dataService.getdenominationFormdata.subscribe(e=>{e&&(console.log("Account component?",e),this.denominationdata=e)}),this.dataService.getpaymentInfoFormdata.subscribe(e=>{console.log(0===Object.keys(e).length,e.constructor===Object),0!=Object.keys(e).length&&e.constructor===Object&&(this.paymentData=e,console.log(this.paymentData,this.denominationRequired),this.displayDenom="Cash"==this.paymentData.rePaymentMode)}),this.dataService.getloanRepaymentData.subscribe(e=>{e&&(this.appointmentDetails=e,console.log("Account component?",this.appointmentDetails.appointmentId))})}redirectToHome(){this.router.navigateByUrl("/others/kioskHome")}redirectToHome1(){console.log("Redirect"),this.router.navigateByUrl("/others/kioskHome")}back(){this._location.back()}onSubmit(e){console.log(this.loanRepaymentForm),"showAccountNum"==e&&(console.log("First Condition"),this.onSaveofCashWithdraw(this.loanRepaymentForm.value,this.ifQRvariable,this.denominationdata)),"NotshowAccountNum"==e&&(console.log("Second Condition",this.loanRepaymentForm),this.getOTP(this.loanRepaymentForm.value,this.ifQRvariable,this.denominationdata))}getOTP(e,n,a){console.log("Get Otp",e,a),this.phonenum=this.ls.getItem("phonenumFromLogin"),this.loanDataForm=e,this.loanRepaymentDenomination=a,this.oTpModel.source="customer",this.oTpModel.source_key="mobile",this.oTpModel.source_value=this.phonenum,this.oTpModel.isMobileLogin=!1;let s=this.loanDataForm.paymentInfo.loanRepaymentAmount;console.log(s),s>=5e4?(this.tokendisable=!0,this.apiService.getOtp(this.oTpModel).subscribe(u=>{u&&this.snack.open("An OTP has been sent to the Registered Mobile Number.","",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})):(console.log("Else"),this.getOTPforSave(this.loanDataForm,"",this.loanRepaymentDenomination))}getOTPforSave(e,n,a){console.log(e);let i={},s=[];if(console.log(this.denomRequired,Object.keys(this.denominationdata).length),"yes"==this.denomRequired&&0!=Object.keys(this.denominationdata).length)for(let u=0;u<this.denomCodeArray.length;u++)console.log(a.value),a.value[this.denomCodeArray[u].key]&&(i.denominationKey=this.denomCodeArray[u].value,i.denominationValue=+a.value[this.denomCodeArray[u].key],i.currency=this.loanRepaymentForm.value.transactionCurrency,s.push(i),console.log(s),i={});if(console.log(this.custValidation),"New Customer"==this.custValidation||null!=this.custNameFromLogin){let u=[];u.push("Cheque"==e.paymentInfo.rePaymentMode?{category:"Repayment",rePaymentMode:e.paymentInfo.rePaymentMode,accountNumber:e.paymentInfo.accountNumber,accountCurrency:e.paymentInfo.accountCurrency,accountBranch:e.paymentInfo.accountBranch,chequeType:e.paymentInfo.chequeType,nameOfTheCheque:e.paymentInfo.nameOfTheCheque}:"Account"==e.paymentInfo.rePaymentMode?{category:"Repayment",rePaymentMode:e.paymentInfo.rePaymentMode,accountNumber:e.paymentInfo.accountNumber,accountCurrency:e.paymentInfo.accountCurrency,accountBranch:e.paymentInfo.accountBranch,accountBalance:e.paymentInfo.accountBalance,customerNumber:e.paymentInfo.holderName,accountType:e.paymentInfo.accountType}:{loanAccountNo:e.loanInfo.loanAccountId,category:"Repayment",rePaymentMode:e.paymentInfo.rePaymentMode}),this.Token.modeInfo=u,this.Token.accountNumber=e.loanInfo.loanAccountId,this.Token.customerId=e.loanInfo.customerId?e.loanInfo.customerId:0,this.Token.transactionCurrency=e.paymentInfo.transactionCurrency,this.Token.negotiatedRate=e.paymentInfo.negotiatedRate,this.Token.totalChargeAmount=e.paymentInfo.totalChargeAmount,this.Token.totalTransactionAmount=e.paymentInfo.totalTransactionAmount,this.Token.accountType=e.loanInfo.loanType,this.Token.accountCurrency=e.loanInfo.accountCurrency,this.Token.holderName=e.loanInfo.customerName,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="LNR",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.accountAmount="",this.Token.narrative="",this.Token.denomination=[],this.Token.totalAmount="",console.log(s),"Cash"==e.paymentInfo.rePaymentMode&&"yes"==this.denomRequired&&(this.Token.denomination=s)}console.log("before api call :: ",this.Token),this.tokendisable=!0,this.apiService.saveofCashwithdraw(this.Token).subscribe(u=>{console.log("Response Success, Data Saved",u),this.loanRepaymentResp=u,this.tokenNum=this.loanRepaymentResp.tokenNumber,this.estimatedTime=this.loanRepaymentResp.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.loanRepaymentResp&&(this.tokendisable=!0,this.dialogService.tokenGenerationDialog())},u=>{console.log(u),this.tokendisable=!1}),console.log("no resp"),setTimeout(()=>{null==this.loanRepaymentResp&&(console.log(this.loanRepaymentResp),this.tokendisable=!1),console.log("out",this.tokendisable)},3e4)}onSaveofCashWithdraw(e,n,a){var i;console.log(e,n,a),console.log("insufficient_false"),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(h=>{this.qrBranchCode=h});let s={},u=[];if("yes"==this.denomRequired&&0!=Object.keys(this.denominationdata).length){console.log(this.denomCodeArray);for(let h=0;h<this.denomCodeArray.length;h++)a.value[this.denomCodeArray[h].key]&&(s.denominationKey=this.denomCodeArray[h].value,s.denominationValue=+a.value[this.denomCodeArray[h].key],s.currency=this.loanRepaymentForm.value.transactionCurrency,u.push(s),console.log(u),s={})}if(console.log(this.appointmentDetails),null!==(i=this.appointmentDetails)&&void 0!==i&&i.appointmentId){console.log(this.appointmentDetails);let h=[];h.push("Cheque"==this.appointmentDetails.modeInfo[0].rePaymentMode?{category:"Repayment",rePaymentMode:this.appointmentDetails.modeInfo[0].rePaymentMode,accountCurrency:this.appointmentDetails.accountCurrency,accountBranch:this.appointmentDetails.modeInfo[0].accountBranch,chequeType:this.appointmentDetails.modeInfo[0].chequeType,nameOfTheCheque:this.appointmentDetails.modeInfo[0].nameOfTheCheque}:"Account"==this.appointmentDetails.modeInfo[0].rePaymentMode?{loanAccountNo:this.appointmentDetails.modeInfo[0].loanAccountNo,category:"Repayment",rePaymentMode:this.appointmentDetails.modeInfo[0].rePaymentMode,accountNumber:this.appointmentDetails.modeInfo[0].accountNumber,accountCurrency:this.appointmentDetails.modeInfo[0].accountCurrency,accountBranch:this.appointmentDetails.modeInfo[0].accountBranch,accountBalance:this.appointmentDetails.modeInfo[0].accountBalance,customerNumber:this.appointmentDetails.modeInfo[0].holderName,accountType:this.appointmentDetails.modeInfo[0].accountType}:{loanAccountNo:this.appointmentDetails.modeInfo[0].loanAccountNo,category:"Repayment",rePaymentMode:this.appointmentDetails.modeInfo[0].rePaymentMode}),this.Token.modeInfo=h,this.Token.accountNumber=this.appointmentDetails.accountNumber,this.Token.holderName=this.appointmentDetails.holderName,this.Token.accountCurrency=this.appointmentDetails.accountCurrency,this.Token.appointmentId=this.appointmentDetails.appointmentId?this.appointmentDetails.appointmentId:0,this.Token.appointmentStatus=this.appointmentDetails.appointmentStatus,this.Token.transactionAmount=this.appointmentDetails.transactionAmount,this.Token.customerId=this.appointmentDetails.customerId?this.appointmentDetails.customerId:0,this.Token.transactionCurrency=this.appointmentDetails.transactionCurrency,this.Token.accountNumber=this.appointmentDetails.accountNumber,this.Token.negotiatedRate=this.appointmentDetails.negotiatedRate,this.Token.totalChargeAmount=this.appointmentDetails.totalChargeAmount,this.Token.totalTransactionAmount=this.appointmentDetails.totalTransactionAmount,this.Token.accountType=this.appointmentDetails.accountType,this.Token.accountBranch=this.appointmentDetails.accountBranch,this.Token.customerId=this.appointmentDetails.customerId?this.appointmentDetails.customerId:0,console.log("Not a qrvariable",this.Token),this.Token.transactionCurrency=this.appointmentDetails.transactionCurrency,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="LNR",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.accountAmount="",this.Token.narrative=this.appointmentDetails.remarks,this.Token.totalAmount="",this.Token.denomination=[],console.log(u),"Cash"==this.appointmentDetails.modeInfo[0].rePaymentMode.rePaymentMode&&"yes"==this.denomRequired&&(this.Token.denomination=u),console.log("Not a qrvariable",this.Token)}else{console.log(e);let h=[];h.push("Cheque"==e.paymentInfo.rePaymentMode?{loanAccountNo:e.loanInfo.loanAccountId,category:"Repayment",rePaymentMode:e.paymentInfo.rePaymentMode,accountNumber:e.paymentInfo.accountNumber,accountCurrency:e.loanInfo.accountCurrency,accountBranch:e.paymentInfo.accountBranch,chequeNo:e.paymentInfo.chequeNumber,nameOfTheCheque:e.paymentInfo.nameOfTheCheque}:"Account"==e.paymentInfo.rePaymentMode?{loanAccountNo:e.loanInfo.loanAccountId,category:"Repayment",rePaymentMode:e.paymentInfo.rePaymentMode,accountNumber:e.paymentInfo.accountNumber,accountCurrency:e.loanInfo.accountCurrency,accountBranch:e.paymentInfo.accountBranch,accountBalance:e.paymentInfo.accountBalance,accountType:e.paymentInfo.accountType,customerName:e.paymentInfo.holderName}:{loanAccountNo:e.loanInfo.loanAccountId,category:"Repayment",rePaymentMode:e.paymentInfo.rePaymentMode}),this.Token.modeInfo=h,this.Token.customerId=e.loanInfo.customerId?e.loanInfo.customerId:0,this.Token.transactionCurrency=e.paymentInfo.transactionCurrency,this.Token.negotiatedRate=e.paymentInfo.negotiatedRate,this.Token.totalChargeAmount=e.paymentInfo.totalChargeAmount,this.Token.totalTransactionAmount=e.paymentInfo.totalTransactionAmount,this.Token.accountType=e.loanInfo.loanType,this.Token.accountCurrency=e.loanInfo.accountCurrency,this.Token.holderName=e.loanInfo.holderName,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="LNR",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="",console.log(u),"Cash"==this.paymentData.rePaymentMode&&"yes"==this.denomRequired&&(this.Token.denomination=u),console.log("Not a qrvariable",this.Token)}this.apiService.saveofCashDeposit(this.Token).subscribe(h=>{console.log("Response Success, Data Saved",h),this.loanResponse=h,this.tokenNum=this.loanResponse.tokenNumber,this.estimatedTime=this.loanResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.enableContinue=!1,this.loanResponse&&this.dialogService.tokenGenerationDialog()}),this.Token&&(this.tokendisable=!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(D.g),t.Y36(N.s),t.Y36(x.F0),t.Y36(T.x),t.Y36(A.uw),t.Y36(F.ux),t.Y36(l.Ye),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-loan-repayment-service"]],decls:2,vars:1,consts:[[1,"loanRepaymentServiceModule"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[2,"margin-top","-3%"],[3,"title","back"],["fxLayout","row",2,"justify-content","center"],["fxFlex","85%",1,"matcard_loanRepayment_Component"],["titleVal","Repayment","formControlName","loanInfo"],["titleVal","Repayment","formControlName","paymentInfo","loanType","loanRepayment"],["style","margin-top: 0%; margin-left: -16px; margin-bottom: 7px;",4,"ngIf"],[2,"margin-top","-1%",3,"ngClass"],["saveText","Continue",3,"cancelDisabled","save","cancel","exit"],[2,"margin-top","0%","margin-left","-16px","margin-bottom","7px"],["formControlName","denomination"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,yl,10,5,"form",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.loanRepaymentForm))},dependencies:[l.mk,l.O5,c._Y,c.JJ,c.JL,p.a8,m.xw,m.yH,S.oO,c.sg,c.u,U,V,G,j,$],styles:[".footclass[_ngcontent-%COMP%]{margin-left:-10.8%;box-sizing:border-box;max-width:150%!important;margin-right:-150px}.matcard_loanRepayment_Component[_ngcontent-%COMP%]{border-radius:12px;background-color:#fffefe;box-shadow:0 3px 15px #00000017}"]}),o})();class rt{}let ct=(()=>{class o{constructor(e){this._el=e}onInputChange(e){const n=this._el.nativeElement.value;this._el.nativeElement.value=n.replace(/[^0-9]*/g,""),n!==this._el.nativeElement.value&&e.stopPropagation()}onIonInputChange(e){const n=this._el.nativeElement.value;this._el.nativeElement.value=n.replace(/[^0-9]*/g,""),n!==this._el.nativeElement.value&&e.stopPropagation()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["ion-input","numbersOnly",""],["input","numbersOnly",""]],hostBindings:function(e,n){1&e&&t.NdJ("ion-input",function(i){return n.onInputChange(i)})("input",function(i){return n.onIonInputChange(i)})}}),o})();function Tl(o,r){if(1&o&&(t.TgZ(0,"form",1)(1,"mat-card-title",13),t._uU(2,"Denomination"),t.qZA(),t.TgZ(3,"div",14)(4,"div",15)(5,"div",16)(6,"p",17),t._uU(7,"2000"),t.qZA()(),t.TgZ(8,"div",18)(9,"p",19),t._uU(10,"x"),t.qZA()(),t.TgZ(11,"div",20)(12,"mat-card",21)(13,"div"),t._UZ(14,"input",22,23),t.qZA()()()(),t.TgZ(16,"div",24)(17,"div",16)(18,"p",17),t._uU(19,"500"),t.qZA()(),t.TgZ(20,"div",18)(21,"p",19),t._uU(22,"x"),t.qZA()(),t.TgZ(23,"div",20)(24,"mat-card",21),t._UZ(25,"input",25,26),t.qZA()()(),t.TgZ(27,"div",24)(28,"div",16)(29,"p",17),t._uU(30,"200"),t.qZA()(),t.TgZ(31,"div",18)(32,"p",19),t._uU(33,"x"),t.qZA()(),t.TgZ(34,"div",20)(35,"mat-card",21),t._UZ(36,"input",27,28),t.qZA()()(),t.TgZ(38,"div",24)(39,"div",16)(40,"p",17),t._uU(41,"100"),t.qZA()(),t.TgZ(42,"div",18)(43,"p",19),t._uU(44,"x"),t.qZA()(),t.TgZ(45,"div",20)(46,"mat-card",21),t._UZ(47,"input",29,30),t.qZA()()(),t.TgZ(49,"div",24)(50,"div",16)(51,"p",17),t._uU(52,"50"),t.qZA()(),t.TgZ(53,"div",18)(54,"p",19),t._uU(55,"x"),t.qZA()(),t.TgZ(56,"div",20)(57,"mat-card",21),t._UZ(58,"input",31,32),t.qZA()()(),t.TgZ(60,"div",24)(61,"div",16)(62,"p",17),t._uU(63,"20"),t.qZA()(),t.TgZ(64,"div",18)(65,"p",19),t._uU(66,"x"),t.qZA()(),t.TgZ(67,"div",20)(68,"mat-card",21),t._UZ(69,"input",33,34),t.qZA()()(),t.TgZ(71,"div",24)(72,"div",16)(73,"p",17),t._uU(74,"10"),t.qZA()(),t.TgZ(75,"div",18)(76,"p",19),t._uU(77,"x"),t.qZA()(),t.TgZ(78,"div",20)(79,"mat-card",21),t._UZ(80,"input",35,36),t.qZA()()(),t.TgZ(82,"div",24)(83,"div",16)(84,"p",17),t._uU(85,"1"),t.qZA()(),t.TgZ(86,"div",18)(87,"p",19),t._uU(88,"x"),t.qZA()(),t.TgZ(89,"div",20)(90,"mat-card",21),t._UZ(91,"input",37,36),t.qZA()()()(),t.TgZ(93,"div",38)(94,"div",39)(95,"mat-form-field",40)(96,"mat-label"),t._uU(97,"Denomination Total"),t.qZA(),t._UZ(98,"input",41),t.qZA()()()()),2&o){const e=t.oxw(3);t.Q6J("formGroup",e.denominationForm),t.xp6(98),t.Q6J("value",e.total)}}function Al(o,r){if(1&o&&(t.TgZ(0,"mat-card",12),t.YNc(1,Tl,99,2,"form",0),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.denominationForm)}}function bl(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"app-header",4),t.NdJ("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome1())}),t.qZA()()(),t.TgZ(4,"div",5)(5,"mat-card",6),t._UZ(6,"app-loan-information-form",7)(7,"app-payment-information",8),t.qZA(),t.YNc(8,Al,2,1,"mat-card",9),t.qZA(),t.TgZ(9,"div",10)(10,"app-footer",11),t.NdJ("save",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit(a))})("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToHome())})("exit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.loanDisburshmentForm),t.xp6(3),t.Q6J("title",e.title),t.xp6(5),t.Q6J("ngIf",e.displayDenom),t.xp6(1),t.Q6J("ngClass",e.displayDenom?"footclass":""),t.xp6(1),t.Q6J("cancelDisabled",!1)("saveDisabled",e.loanDisburshmentForm.get("loanInfo").invalid)}}function Il(o,r){if(1&o&&(t.TgZ(0,"mat-radio-button",26),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.mode)("checked",e.checked),t.xp6(1),t.hij(" ",e.mode," ")}}function Nl(o,r){1&o&&(t.TgZ(0,"span",27),t._uU(1,"INR"),t.qZA())}function kl(o,r){1&o&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"mat-form-field",15)(4,"mat-label"),t._uU(5,"Bank Code"),t.qZA(),t.TgZ(6,"div",17),t._UZ(7,"input",28),t.qZA()(),t.TgZ(8,"mat-form-field",20)(9,"mat-label"),t._uU(10,"Customer Nick Name"),t.qZA(),t.TgZ(11,"div",17),t._UZ(12,"input",29),t.qZA()()()()())}function ql(o,r){1&o&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",30)(3,"mat-form-field",31)(4,"mat-label"),t._uU(5,"Customer Nick Name"),t.qZA(),t.TgZ(6,"div",17),t._UZ(7,"input",29),t.qZA()()()()())}const Fl=[{path:"",children:[{path:"blank",component:xt},{path:"cheque-withdrawal",component:Or},{path:"services",component:hu},{path:"authenticate",component:yt.g},{path:"cash-withdrawal",component:wn},{path:"cash-deposit",component:Te},{path:"cheque-deposit",component:ki},{path:"cheque-withdrawal",component:Br},{path:"forex-transaction",component:Kr},{path:"loan-payment",component:ec},{path:"deposit-topup",component:Yr},{path:"utility-billpayment",component:pu},{path:"kioskHome",component:jr},{path:"cashwithdrawalService",component:Ps},{path:"cashDepositService",component:Rc},{path:"chequeDepositService",component:cu},{path:"cw-cash-withdrawal",component:Jr},{path:"cheq-deposit",component:_u},{path:"cheq-withdrawal",component:Ba},{path:"cd-cash-deposit",component:Ua},{path:"forex-service",component:Iu},{path:"currency-converter",component:Du},{path:"loan-repayment",component:vl},{path:"loan-disburshment",component:(()=>{class o{constructor(e,n,a,i,s,u,h){this.formBuilder=e,this.dialogService=n,this._location=a,this.router=i,this.apiService=s,this.dataService=u,this.cdr=h,this.title="Loan Disbursement",this.displayDenom=!0,this.custPref="N",this.entityCode="ENTCD",this.bankCode="BNKC",this.tokenBranch="KN",this.tokenOrigin="Kiosk",this.tokendisable=!1,this.denomCodeArray=[{key:"count2000",value:2e3},{key:"count500",value:500},{key:"count200",value:200},{key:"count100",value:100},{key:"count50",value:50},{key:"count20",value:20},{key:"count10",value:10},{key:"count1",value:1}],this.Token=new rt,this.denomination_keys=[{key:"two_thousand",value:2e3,denom_key:2e3},{key:"five_hundred",value:500,denom_key:500},{key:"two_hundred",value:200,denom_key:200},{key:"one_hundred",value:100,denom_key:100},{key:"fifty",value:50,denom_key:50},{key:"twenty",value:20,denom_key:20},{key:"ten",value:10,denom_key:10},{key:"one",value:1,denom_key:1}],this.total=0,this.denomData=[]}ngOnInit(){this.custValidation=localStorage.getItem("customerValidation"),this.transBranch=localStorage.getItem("TRANSACTIONBRANCH"),this.denomRequired=localStorage.getItem("DenominationRequired"),this.buildDenomForm(),this.loanDisburshmentForm=this.formBuilder.group({loanInfo:[],paymentInfo:[],denomination:[],entityCode:[this.entityCode,[c.kI.required]],bankCode:[this.bankCode,[c.kI.required]],tokenBranch:[this.tokenBranch,[c.kI.required]],customerCategory:[this.custPref,[c.kI.required]],tokenNumber:["",[c.kI.required]],productCode:["LND",c.kI.required],tokenOrigin:["Kiosk",c.kI.required],estimatedWaitTime:["",[c.kI.required]],narrative:["",[c.kI.required]]}),this.dataService.getpaymentInfoFormdata.subscribe(e=>{var n,a;console.log("state data for payment",e),e&&(this.paymentData=e,this.displayDenom="Cash"==this.paymentData.rePaymentMode,this.denomData=null===(n=this.paymentData)||void 0===n?void 0:n.denomination,null!=(null===(a=this.paymentData)||void 0===a?void 0:a.denomination)?this.populateDenomination():this.denominationForm.patchValue([]),console.log(this.displayDenom))}),this.dataService.getdenominationFormdata.subscribe(e=>{console.log("state data for denomination",e),e&&(console.log("Account component?",e),this.denominationdata=e)}),this.dataService.getloanRepaymentData.subscribe(e=>{var n,a;console.log("state data for payment::::",e),e&&(this.appointmentDetails=e,this.displayDenom="Cash"==(null===(a=null===(n=null==e?void 0:e.modeInfo)||void 0===n?void 0:n[0])||void 0===a?void 0:a.rePaymentMode),console.log(this.displayDenom))}),this.denominationForm.valueChanges.subscribe(e=>{let n=0;Object.keys(this.denominationForm.controls).forEach(a=>{var i;for(let s=0;s<this.denomination_keys.length;s++){const u=this.denomination_keys[s];u.key==a&&(n+=u.value*Number(null===(i=this.denominationForm.get(`${a}`))||void 0===i?void 0:i.value))}}),this.total=n})}calculateTotalAmount(){let e=0;Object.keys(this.denominationForm.controls).forEach(n=>{var a;for(let i=0;i<this.denomination_keys.length;i++){const s=this.denomination_keys[i];s.key==n&&(e+=s.value*Number(null===(a=this.denominationForm.get(`${n}`))||void 0===a?void 0:a.value))}}),this.total=e}populateDenomination(){this.denomination_keys.forEach((e,n)=>{var a;for(let i=0;i<this.denomData.length;i++){const s=this.denomData[i];s.denominationKey===e.denom_key&&(null===(a=this.denominationForm.get(null==e?void 0:e.key))||void 0===a||a.patchValue(null==s?void 0:s.denominationValue))}}),this.calculateTotalAmount()}redirectToHome(){this.router.navigateByUrl("/others/kioskHome"),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removePaymentInfoFormData(this.paymentData)}redirectToHome1(){console.log("Redirect"),this.router.navigateByUrl("/others/kioskHome"),this.dataService.removedenominationFormData(this.denominationdata),this.dataService.removePaymentInfoFormData(this.paymentData)}back(){this._location.back()}buildDenomForm(){this.denominationForm=this.formBuilder.group({two_thousand:"",five_hundred:"",two_hundred:"",one_hundred:"",fifty:"",twenty:"",ten:"",one:""})}onSubmit(e){console.log(this.loanDisburshmentForm),"showAccountNum"==e&&(console.log("First Condition"),this.onSaveofCashWithdraw(this.loanDisburshmentForm.value,this.ifQRvariable,this.denominationdata)),"NotshowAccountNum"==e&&console.log("Second Condition")}onSaveofCashWithdraw(e,n,a){var i,s,u,h,d,_,v,b,y,B;console.log(e,n,a),console.log("insufficient_false"),this.qrData&&this.qrData.transactionBranch&&this.apiService.fetchBranchInfoByBranchName(this.qrData.transactionBranch).subscribe(Z=>{this.qrBranchCode=Z});let Q={},C=[];if(console.log(0!=Object.keys(this.denominationdata).length,this.denominationdata.constructor===Object),"yes"==this.denomRequired&&0!=Object.keys(this.denominationdata).length)for(let Z=0;Z<this.denomCodeArray.length;Z++)a.value[null===(i=this.denomCodeArray[Z])||void 0===i?void 0:i.key]&&(Q.denominationKey=null===(s=this.denomCodeArray[Z])||void 0===s?void 0:s.value,Q.denominationValue=+a.value[null===(u=this.denomCodeArray[Z])||void 0===u?void 0:u.key],Q.currency=this.loanDisburshmentForm.value.transactionCurrency,C.push(Q),console.log(C),Q={});if(null!==(h=this.appointmentDetails)&&void 0!==h&&h.appointmentId){console.log(this.appointmentDetails);let Z=[];Z.push("Cheque"==this.appointmentDetails.modeInfo[0].rePaymentMode?{category:"Disbursement",rePaymentMode:this.appointmentDetails.modeInfo[0].rePaymentMode,accountCurrency:null===(d=this.appointmentDetails)||void 0===d?void 0:d.modeInfo[0].accountCurrency,accountBranch:null===(_=this.appointmentDetails)||void 0===_?void 0:_.modeInfo[0].accountBranch,chequeType:null===(v=this.appointmentDetails)||void 0===v?void 0:v.modeInfo[0].chequeType,nameOnCheque:null===(b=this.appointmentDetails)||void 0===b?void 0:b.modeInfo[0].nameOnCheque,customerNumber:null===(y=this.appointmentDetails)||void 0===y?void 0:y.modeInfo[0].holderName,accountBalance:null===(B=this.appointmentDetails)||void 0===B?void 0:B.modeInfo[0].accountBalance}:"Account"==this.appointmentDetails.modeInfo[0].rePaymentMode?{category:"Disbursement",rePaymentMode:this.appointmentDetails.modeInfo[0].rePaymentMode,accountNumber:this.appointmentDetails.modeInfo[0].accountNumber,accountCurrency:this.appointmentDetails.modeInfo[0].accountCurrency,accountBranch:this.appointmentDetails.modeInfo[0].accountBranch,accountBalance:this.appointmentDetails.modeInfo[0].accountBalance}:{loanAccountNo:this.appointmentDetails.modeInfo[0].loanAccountNo,category:"Disbursement",rePaymentMode:this.appointmentDetails.modeInfo[0].rePaymentMode}),this.Token.accountNumber=this.appointmentDetails.accountNumber,this.Token.accountType=this.appointmentDetails.loanType,this.Token.modeInfo=Z,this.Token.holderName=this.appointmentDetails.holderName,this.Token.accountCurrency=this.appointmentDetails.accountCurrency,this.Token.appointmentId=this.appointmentDetails.appointmentId?this.appointmentDetails.appointmentId:0,this.Token.appointmentStatus=this.appointmentDetails.appointmentStatus,this.Token.transactionAmount=this.appointmentDetails.transactionAmount,this.Token.customerId=this.appointmentDetails.customerId?this.appointmentDetails.customerId:0,this.Token.transactionCurrency=this.appointmentDetails.transactionCurrency,this.Token.accountType=this.appointmentDetails.accountType,this.Token.negotiatedRate=this.appointmentDetails.negotiatedRate,this.Token.totalChargeAmount=this.appointmentDetails.totalChargeAmount,this.Token.totalTransactionAmount=this.appointmentDetails.totalTransactionAmount,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="LND",this.Token.tokenOrigin=this.tokenOrigin,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.accountAmount="",this.Token.narrative=this.appointmentDetails.remarks,this.Token.totalAmount="",console.log(C),"Cash"==this.appointmentDetails.modeInfo[0].rePaymentMode&&"yes"==this.denomRequired&&(this.Token.denomination=C),console.log("Not a qrvariable",this.Token)}else{console.log(e);let Z=[];Z.push("Cheque"==e.paymentInfo.rePaymentMode?{category:"Disbursement",rePaymentMode:e.paymentInfo.rePaymentMode,accountCurrency:e.loanInfo.accountCurrency,accountBranch:e.paymentInfo.accountBranch,chequeType:e.paymentInfo.chequeType,nameOfTheCheque:e.paymentInfo.nameOfTheCheque}:"Account"==e.paymentInfo.rePaymentMode?{category:"Disbursement",rePaymentMode:e.paymentInfo.rePaymentMode,accountNumber:e.paymentInfo.accountNumber,accountCurrency:e.loanInfo.accountCurrency,accountBranch:e.paymentInfo.accountBranch,accountBalance:e.paymentInfo.accountBalance}:{loanAccountNo:e.loanInfo.loanAccountId,category:"Disbursement",rePaymentMode:e.paymentInfo.rePaymentMode}),this.Token.modeInfo=Z,this.Token.customerId=e.loanInfo.customerId?e.loanInfo.customerId:0,console.log("Not a qrvariable",this.Token),this.Token.transactionCurrency=e.paymentInfo.transactionCurrency,this.Token.accountNumber=e.loanInfo.loanAccountId,this.Token.negotiatedRate=e.paymentInfo.negotiatedRate,this.Token.totalChargeAmount=e.paymentInfo.totalChargeAmount,this.Token.totalTransactionAmount=e.paymentInfo.totalTransactionAmount,this.Token.accountType=e.loanInfo.accountType,this.Token.holderName=e.loanInfo.holderName,this.Token.transactionBranch=this.transBranch,this.Token.entityCode=this.entityCode,this.Token.bankCode=this.bankCode,this.Token.tokenBranch=this.tokenBranch,this.Token.customerCategory=this.custPref,this.Token.productCode="LND",this.Token.tokenOrigin=this.tokenOrigin,this.Token.transactionAmount=e.paymentInfo.loanDisburshmentAmount,this.Token.tokenNumber="",this.Token.estimatedWaitTime="",this.Token.accountAmount="",this.Token.narrative="",this.Token.totalAmount="",console.log(this.denomRequired),"Cash"==this.paymentData.rePaymentMode&&"yes"==this.denomRequired&&(this.Token.denomination=C),console.log("Not a qrvariable",this.Token)}this.apiService.saveofCashDeposit(this.Token).subscribe(Z=>{console.log("Response Success, Data Saved",Z),this.loanResponse=Z,this.tokenNum=this.loanResponse.tokenNumber,this.estimatedTime=this.loanResponse.estimatedWaitTime,localStorage.setItem("tokenNumer",this.tokenNum),localStorage.setItem("estimatedTiming",this.estimatedTime),this.loanResponse&&this.dialogService.tokenGenerationDialog()}),this.Token&&(this.tokendisable=!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(T.x),t.Y36(l.Ye),t.Y36(x.F0),t.Y36(N.s),t.Y36(P.D),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-loan-disburshment"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row"],[1,"custom-container"],[3,"title","back"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","85"],["titleVal","Disbursement","formControlName","loanInfo"],["titleVal","Disbursement","formControlName","paymentInfo","loanType","loanDisburshment"],["fxFlex","25","style","border-radius: 10px;",4,"ngIf"],[2,"margin-top","-1%",3,"ngClass"],["saveText","Continue",3,"cancelDisabled","saveDisabled","save","cancel","exit"],["fxFlex","25",2,"border-radius","10px"],[2,"font-size","15px","color","#004C97","margin-left","1%"],["id","denominationDiv",1,"pH10","full-width"],["fxLayoutAlign","center center",1,"paddingclass"],["fxFlex","20%"],[1,"quantityClass","text-small"],["fxFlex","10%"],[1,"operationTypeClass","text-small"],["fxFlex","70%"],[1,"inputCard"],["type","tel","matInput","","formControlName","two_thousand","numbersOnly","","name","count2000",1,"full-width","inputClass"],["count2000",""],["fxLayoutAlign","start center",1,"paddingclass"],["type","tel","matInput","","formControlName","five_hundred","numbersOnly","","name","count500",1,"full-width","inputClass"],["count500",""],["type","tel","matInput","","formControlName","two_hundred","numbersOnly","","name","count200",1,"full-width","inputClass"],["count200",""],["type","tel","matInput","","formControlName","one_hundred","numbersOnly","","name","count100",1,"full-width","inputClass"],["count100",""],["type","tel","matInput","","formControlName","fifty","numbersOnly","","name","count50",1,"full-width","inputClass"],["count50",""],["type","tel","matInput","","formControlName","twenty","numbersOnly","","name","count20",1,"full-width","inputClass"],["count20",""],["type","tel","matInput","","formControlName","ten","numbersOnly","","name","count10",1,"full-width","inputClass"],["count10",""],["type","tel","matInput","","formControlName","one","numbersOnly","","name","count1",1,"full-width","inputClass"],["fxLayout","row",1,"mt-16"],["fxFlex","100"],["appearance","outline",1,"full-width"],["matInput","","type","tel","readonly","true",1,"full-width","inputClass",3,"value"]],template:function(e,n){1&e&&t.YNc(0,bl,11,6,"form",0),2&e&&t.Q6J("ngIf",n.loanDisburshmentForm)},dependencies:[l.mk,l.O5,c._Y,c.Fj,c.JJ,c.JL,p.a8,p.n5,g.KE,g.hX,I.Nt,m.xw,m.Wh,m.yH,S.oO,c.sg,c.u,U,V,j,$,ct],styles:['.custom-container[_ngcontent-%COMP%]{width:1170px;text-align:left}.accountInfoCard[_ngcontent-%COMP%]{background:#F2F2F2 0% 0% no-repeat padding-box;border-radius:18px}.hint[_ngcontent-%COMP%]{margin-left:1%}  .mat-form-field-appearance-outline.mat_form_field_margin .mat-form-field-outline{background-color:#f2f2f2}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt #00000029;box-sizing:border-box;margin-left:0;padding:13px}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:7px;box-shadow:0 3px 15px #00000017}.totalAmount[_ngcontent-%COMP%]{font-size:smaller;color:#304156}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:200px;width:max-content;background-color:#fe6700;color:#fff;text-align:start;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #fe6700 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.textcolor[_ngcontent-%COMP%]{color:#fff}#denominationDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.pb1[_ngcontent-%COMP%]{padding-bottom:1%}.operationTypeClass[_ngcontent-%COMP%]{color:#a1a1a1;margin:auto}.quantityClass[_ngcontent-%COMP%]{color:#000;margin:auto;font-weight:500}.paddingclass[_ngcontent-%COMP%]{padding:2%}[_nghost-%COMP%]     mat-select-country>mat-form-field{width:100%!important}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-suffix>mat-icon>svg{margin-bottom:-8px}[_nghost-%COMP%]     mat-select-country>mat-form-field>div.mat-form-field-wrapper{padding-bottom:.8rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.continueBtn[_ngcontent-%COMP%]{width:553px;height:50px;color:#fff;background:transparent linear-gradient(90deg,#051A2D 0%,#004C97 100%) 0% 0% no-repeat padding-box;border-radius:28px;font-family:sans-serif}.exitBtn[_ngcontent-%COMP%]{border-radius:20px;width:30%;background-color:#fff;color:#e50000;font-family:sans-serif;font-weight:700}.backBtn[_ngcontent-%COMP%]{font-weight:700;width:263px;height:50px;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 15px #00000017;border-radius:25px}  .mat-tab-body-content{height:100%;overflow:hidden!important}  .egret-navy .mat-tab-group.mat-primary .mat-ink-bar, .egret-navy[_ngcontent-%COMP%]   .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%]{background-color:#004c97}  .egret-navy .mat-ripple .mat-tab-label .mat-focus-indicator .mat-tab-label-active{color:#004c97}.flexalign[_ngcontent-%COMP%]{display:flex;flex-direction:row}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px #f8f8f8,0 5px 8px #e9e9e9}.inputCard[_ngcontent-%COMP%]{background-color:#fffefe;box-sizing:border-box;height:46px}input[_ngcontent-%COMP%]{border:0;outline:0;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}'],changeDetection:0}),o})()},{path:"add-account",component:(()=>{class o{constructor(e,n,a,i,s,u){this.router=e,this.formBuilder=n,this._location=a,this.dataService=i,this.apiService=s,this.snack=u,this.title="Add Account",this.trnTypeLoan="Internal",this.displayFlag=!0,this.trnTypeMode=[{mode:"Internal",viewValue:"Internal",display:!1,checked:!0},{mode:"Other Bank",viewValue:"Other Bank",display:!1,checked:!1}]}ngOnInit(){var e;console.log(this.trnTypeMode),this.currentUser=localStorage.getItem("customerId"),this.addAccountDisburshment=this.formBuilder.group({transferType:[this.trnTypeLoan,[c.kI.required]],accountNumber:["",[c.kI.required]],customerName:["",[c.kI.required]],bankCode:[""],customerNickName:["",[c.kI.required]],accountCurrency:["INR",[c.kI.required]],customerId:[this.currentUser,[c.kI.required]]}),null===(e=this.addAccountDisburshment.get("transferType"))||void 0===e||e.valueChanges.subscribe(n=>{var a;"Internal"===n?(null===(a=this.addAccountDisburshment.get("bankCode"))||void 0===a||a.patchValue(""),this.addAccountDisburshment.get("bankCode").clearValidators(),this.addAccountDisburshment.get("bankCode").updateValueAndValidity()):(this.addAccountDisburshment.get("bankCode").setValidators([c.kI.required]),this.addAccountDisburshment.get("bankCode").updateValueAndValidity())})}redirectToHome(){console.log("Redirect"),this.router.navigateByUrl("/others/loan-disburshment")}onSubmit(e){if(!this.addAccountDisburshment.valid)return!1;console.log(this.addAccountDisburshment.value),this.apiService.addNewAccountToDisburse(this.addAccountDisburshment.value).subscribe(n=>{console.log(n),this.snack.open(null==n?void 0:n.message)},n=>{this.snack.open(n)})}redirectToHome1(){console.log("Redirect"),this.router.navigateByUrl("/others/kioskHome")}changeTransType(e){console.log(e),this.trnTypeLoan=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.F0),t.Y36(c.qu),t.Y36(l.Ye),t.Y36(P.D),t.Y36(N.s),t.Y36(F.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-account-disburshment"]],decls:34,vars:6,consts:[["fxLayout","row"],[3,"title","back"],["fxLayout","column","fxFlex","70%"],[2,"margin-top","1%","height","450px","box-shadow","0px 3px 6px #00000029","border-radius","10px","opacity","1"],[3,"formGroup"],[1,"flex","justify-center"],[2,"flex-direction","column"],[1,"accountHeader"],["fxLayoutAlign","start space-between",1,"flex",2,"margin-bottom","2%"],[2,"margin-right","2%"],["fxLayoutGap","4px","color","primary","formControlName","transferType","aria-label","Select an option",3,"change"],[3,"value","checked",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column"],[2,"display","flex","flex-direction","row"],["fxFlex","110","fxLayoutGap","4px"],["fxFlex","65","appearance","outline",2,"border-radius","12px"],[1,"p-1"],[2,"display","flex"],["class","currency_code",4,"ngIf"],["matInput","","type","number","formControlName","accountNumber",1,"full-width"],["fxFlex","33","appearance","outline",2,"border-radius","12px"],["matInput","","type","text","formControlName","customerName",1,"full-width"],["style","display: flex; flex-direction: column",4,"ngIf"],[2,"flex-direction","row"],[2,"margin-top","-1%"],["saveText","Continue",3,"save","cancel"],[3,"value","checked"],[1,"currency_code"],["matInput","","type","number","formControlName","bankCode",1,"full-width"],["matInput","","type","text","formControlName","customerNickName",1,"full-width"],["fxFlex","110"],["fxFlex","98.5","appearance","outline",2,"border-radius","12px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"app-header",1),t.NdJ("back",function(){return n.redirectToHome()}),t.qZA()(),t.TgZ(2,"div",2)(3,"mat-card",3)(4,"form",4)(5,"div",5)(6,"div",6)(7,"mat-card-title",7),t._uU(8,"Details Information"),t.qZA(),t.TgZ(9,"div",8)(10,"mat-label",9),t._uU(11,"Transaction Type"),t.qZA(),t.TgZ(12,"mat-radio-group",10),t.NdJ("change",function(i){return n.changeTransType(i.value)}),t.YNc(13,Il,2,3,"mat-radio-button",11),t.qZA()(),t.TgZ(14,"div",12)(15,"div",13)(16,"div",14)(17,"mat-form-field",15)(18,"mat-label",16),t._uU(19,"Account Number"),t.qZA(),t.TgZ(20,"div",17),t.YNc(21,Nl,2,0,"span",18),t._UZ(22,"input",19),t.qZA()(),t.TgZ(23,"mat-form-field",20)(24,"mat-label"),t._uU(25,"Customer Name"),t.qZA(),t.TgZ(26,"div",17),t._UZ(27,"input",21),t.qZA()()()()(),t.YNc(28,kl,13,0,"div",22),t.YNc(29,ql,8,0,"div",22),t.qZA()()()(),t.TgZ(30,"div",5)(31,"div",23)(32,"div",24)(33,"app-footer",25),t.NdJ("save",function(){return n.onSubmit(n.addAccountDisburshment.value)})("cancel",function(){return n.redirectToHome1()}),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("title",n.title),t.xp6(3),t.Q6J("formGroup",n.addAccountDisburshment),t.xp6(9),t.Q6J("ngForOf",n.trnTypeMode),t.xp6(8),t.Q6J("ngIf",n.displayFlag),t.xp6(7),t.Q6J("ngIf","Other Bank"==n.trnTypeLoan),t.xp6(1),t.Q6J("ngIf","Internal"==n.trnTypeLoan))},dependencies:[l.sg,l.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,p.a8,p.n5,J.VQ,J.U0,g.KE,g.hX,I.Nt,m.xw,m.SQ,m.Wh,m.yH,c.sg,c.u,U,V],styles:[".accountHeader[_ngcontent-%COMP%]{font-size:15px;color:var(--unnamed-color-004c97);text-align:left;font-family:Poppins,Medium;letter-spacing:-.38px;color:#004c97;opacity:1}.currency_code[_ngcontent-%COMP%]{background-color:#004c9724;border:2px solid #004c97;border-radius:4px;padding:1px 4px;font-size:9px;color:#004c97;font-weight:600;margin-left:13px}  .mat-form-field-appearance-outline.mat_form_field_margin .mat-form-field-outline{background-color:#f2f2f2}  .egret-navy .mat-radio-button.mat-primary.mat-radio-checked{color:#004c97!important}.addacchead[_ngcontent-%COMP%]{margin-left:30px}"]}),o})()}]}];var Dl=f(1734),Ml=f(4218),Ol=f(3680),Pl=f(6377),Bl=f(1589),Sl=f(1207);let st=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[l.H9,l.JJ,{provide:t.EJc,useValue:"INR"}],imports:[l.ez]}),o})(),Ul=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,c.u5,c.UX,x.Bz,Ml.aw,tt.o9,Ol.Xd,Bl.D,Pl.U,st,Sl.m]}),o})(),Vl=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,c.u5,ht.ie,k.Ps,Zn,w.ot,p.QW,dt.Tx,gt.rP,mt.N6,lt.Hi,ut.p9,A.Is,J.Fk,E.Nh,I.c,pt.Cv,tt.o9,_t.xD,ft.m9,Ct.m,q.LD,c.UX,W.FA,at.r$.forRoot("de"),x.Bz.forChild(Fl),Dl.f,Ul,st]}),o})()}}]);