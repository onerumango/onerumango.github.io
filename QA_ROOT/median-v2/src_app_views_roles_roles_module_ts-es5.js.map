{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA,UAAIA,aAAa,GAAIC,SAAI,IAAIA,SAAI,CAACD,aAAb,IAA+B,UAAUE,EAAV,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AAC1E,YAAIA,IAAI,IAAIC,SAAS,CAACC,MAAVD,KAAqB,CAAjC,EAAoC,KAAK,IAAIE,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGL,IAAI,CAACG,MAApB,EAA4BG,EAAjC,EAAqCF,CAAC,GAAGC,CAAzC,EAA4CD,CAAC,EAA7C,EAAiD;AACjF,cAAIE,EAAE,IAAI,EAAEF,CAAC,IAAIJ,IAAP,CAAV,EAAwB;AACpB,gBAAI,CAACM,EAAL,EAASA,EAAE,GAAGC,KAAK,CAACC,SAAND,CAAgBE,KAAhBF,CAAsBG,IAAtBH,CAA2BP,IAA3BO,EAAiC,CAAjCA,EAAoCH,CAApCG,CAALD;AACTA,cAAE,CAACF,CAAD,CAAFE,GAAQN,IAAI,CAACI,CAAD,CAAZE;AACH;AACJ;AACD,eAAOP,EAAE,CAACY,MAAHZ,CAAUO,EAAE,IAAIC,KAAK,CAACC,SAAND,CAAgBE,KAAhBF,CAAsBG,IAAtBH,CAA2BP,IAA3BO,CAAhBR,CAAP;AAPJ;AASA;AACA;AACA;AACA;AACA;AACA;;;AAIA,UAAIa,mBAAkB;AAAG;AAAe,kBAAY;AAChD,iBAASA,kBAAT,CAA4BC,EAA5B,EAAgCC,GAAhC,EAAqCC,QAArC,EAA+C;AAC3C,eAAKF,EAAL,GAAUA,EAAV;AACA,eAAKC,GAAL,GAAWA,GAAX;AACA,eAAKC,QAAL,GAAgBA,QAAhB;AACA;AACR;AACA;;AACQ,eAAKC,SAAL,GAAiB,EAAjB;AACH;;AACDJ,0BAAkB,CAACJ,SAAnBI,CAA6BK,QAA7BL,GAAwC,YAAY;AAChD,cAAIM,KAAK,GAAG,IAAZ;;AACA,cAAI,KAAKC,SAAT,EAAoB;AAChB,iBAAKA,SAAL,CAAeC,SAAf,CAAyB,UAAUC,OAAV,EAAmB;AACxCH,mBAAK,CAACI,YAANJ,CAAmBG,OAAnBH;AADJ;AADJ,iBAKK;AACD,iBAAKI,YAAL,CAAkB,IAAlB;AACH;AATL;;AAWAV,0BAAkB,CAACJ,SAAnBI,CAA6BW,WAA7BX,GAA2C,YAAY;AACnD,cAAI,KAAKO,SAAT,EAAoB;AAChB,iBAAKA,SAAL,CAAeK,WAAf;AACH;;AACD,cAAI,KAAKC,EAAT,EAAa;AACT,iBAAKA,EAAL,CAAQC,OAAR,CAAgB,IAAhB;AACH;AANL;;AAQAd,0BAAkB,CAACJ,SAAnBI,CAA6BU,YAA7BV,GAA4C,UAAUI,SAAV,EAAqB;AAC7D,cAAIE,KAAK,GAAG,IAAZ,CAD6D,CAE7D;;;AACA,cAAIF,SAAJ,EAAe;AACX,iBAAKA,SAAL,GAAiBA,SAAjB;AACH;;AACD,eAAKW,UAAL,GAAkB,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACrDF,mBAAO,CAACC,OAARD,CAAgBV,KAAK,CAACF,SAAtBY,EAAiCG,IAAjCH,CAAsC,UAAUI,iBAAV,EAA6B;AAC/D;AACA,kBAAIC,YAAY,GAAGC,MAAM,CAACC,IAAPD,CAAYF,iBAAZE,EAA+B/B,MAA/B+B,KAA0C,CAA1CA,IAA+CE,CAAC,CAAC,UAAD,EAAalB,KAAK,CAACL,EAANK,CAASmB,aAAtB,CAADD,CAAsCjC,MAAtCiC,KAAiD,CAAnH;;AACA,kBAAIH,YAAJ,EAAkB;AACdH,sBAAM,CAAC,8CAAD,CAANA;AACA;AAL2D,gBAO/D;;;AACAQ,wBAAU,CAAC,YAAY;AACnB;AACA,oBAAIjB,OAAO,GAAG;AACVkB,6BAAW,EAAE,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,KAArB,EAA4B;AACrC,wBAAIV,iBAAiB,CAACW,OAAtB,EAA+B;AAC3B,0BAAIA,OAAO,GAAGX,iBAAiB,CAACW,OAAhC;;AACAzB,2BAAK,CAAC0B,oBAAN1B,CAA2BsB,GAA3BtB,EAAgCyB,OAAhCzB;;AACAA,2BAAK,CAAC2B,kBAAN3B,CAAyBsB,GAAzBtB,EAA8ByB,OAA9BzB,EAAuCuB,IAAvCvB;AAJiC,sBAMrC;;;AACA,wBAAIc,iBAAiB,CAACO,WAAtB,EAAmC;AAC/BP,uCAAiB,CAACO,WAAlBP,CAA8BQ,GAA9BR,EAAmCS,IAAnCT,EAAyCU,KAAzCV;AACH;AACJ;AAXS,iBAAd,CAFmB,CAenB;;AACAX,uBAAO,GAAGa,MAAM,CAACY,MAAPZ,CAAc,EAAdA,EAAkBF,iBAAlBE,EAAqCb,OAArCa,CAAVb;AACAH,qBAAK,CAACO,EAANP,GAAWkB,CAAC,CAAClB,KAAK,CAACL,EAANK,CAASmB,aAAV,CAADD,CAA0BW,SAA1BX,CAAoCf,OAApCe,CAAXlB;AACAW,uBAAO,CAACX,KAAK,CAACO,EAAP,CAAPI;AAlBM,gBAAVS;AARJ;AADc,YAAlB;AANJ;;AAsCA1B,0BAAkB,CAACJ,SAAnBI,CAA6BgC,oBAA7BhC,GAAoD,UAAU4B,GAAV,EAAeG,OAAf,EAAwB;AACxE;AACA,cAAIK,YAAY,GAAGL,OAAO,CAACM,MAARN,CAAe,UAAUO,CAAV,EAAa;AAAE,mBAAOA,CAAC,CAACC,cAAFD,IAAoB,CAACA,CAAC,CAACE,aAA9B;AAA9B,YAAnB;AACAJ,sBAAY,CAACK,OAAbL,CAAqB,UAAUnC,EAAV,EAAc;AAC/B,gBAAIyC,IAAI,GAAGzC,EAAE,CAACsC,cAAd;AACA,gBAAII,QAAQ,GAAG1C,EAAE,CAAC2C,UAAH3C,IAAiB,EAAhC,CAF+B,CAG/B;;AACA,gBAAIT,CAAC,GAAGuC,OAAO,CAACc,SAARd,CAAkB,UAAUe,CAAV,EAAa;AAAE,qBAAOA,CAAC,CAACjB,IAAFiB,KAAW7C,EAAE,CAAC4B,IAArB;AAAjC,cAAR,CAJ+B,CAK/B;;AACA,gBAAIkB,UAAU,GAAGnB,GAAG,CAACoB,UAAJpB,CAAeqB,IAAfrB,CAAoBpC,CAApBoC,CAAjB,CAN+B,CAO/B;;AACA,gBAAIsB,MAAM,GAAG1B,CAAC,CAACuB,UAAD,CAADvB,CAAc2B,IAAd3B,EAAb;AACA,gBAAI4B,WAAW,GAAGV,IAAI,CAACW,SAALX,CAAeY,KAAfZ,CAAqBA,IAArBA,EAA2BzD,aAAa,CAAC,CAACiE,MAAD,CAAD,EAAWP,QAAX,EAAqB,KAArB,CAAxCD,CAAlB,CAT+B,CAU/B;;AACAlB,aAAC,CAACuB,UAAD,CAADvB,CAAc2B,IAAd3B,CAAmB4B,WAAnB5B;AAXJ;AAHJ;;AAiBAxB,0BAAkB,CAACJ,SAAnBI,CAA6BiC,kBAA7BjC,GAAkD,UAAU4B,GAAV,EAAeG,OAAf,EAAwBF,IAAxB,EAA8B;AAC5E,cAAIvB,KAAK,GAAG,IAAZ,CAD4E,CAE5E;;;AACA,cAAIiD,gBAAgB,GAAGxB,OAAO,CAACM,MAARN,CAAe,UAAUO,CAAV,EAAa;AAAE,mBAAOA,CAAC,CAACE,aAAFF,IAAmB,CAACA,CAAC,CAACC,cAA7B;AAA9B,YAAvB;AACAgB,0BAAgB,CAACd,OAAjBc,CAAyB,UAAUtD,EAAV,EAAc;AACnC,gBAAIuD,EAAE,GAAGvD,EAAE,CAACuC,aAAZ;AAAA,gBAA2BiB,GAAG,GAAGD,EAAE,CAACC,GAApC;AAAA,gBAAyCC,OAAO,GAAGF,EAAE,CAACE,OAAtD,CADmC,CAEnC;;AACA,gBAAIlE,CAAC,GAAGuC,OAAO,CAACc,SAARd,CAAkB,UAAUe,CAAV,EAAa;AAAE,qBAAOA,CAAC,CAACjB,IAAFiB,KAAW7C,EAAE,CAAC4B,IAArB;AAAjC,cAAR;AACA,gBAAI8B,aAAa,GAAG/B,GAAG,CAACoB,UAAJpB,CAAeqB,IAAfrB,CAAoBpC,CAApBoC,CAApB,CAJmC,CAKnC;;AACAJ,aAAC,CAACmC,aAAD,CAADnC,CAAiBoC,IAAjBpC,CAAsB,EAAtBA,EANmC,CAOnC;AACA;;AACA,gBAAIqC,QAAQ,GAAGvC,MAAM,CAACY,MAAPZ,CAAc,EAAdA,EAAkBoC,OAAlBpC,EAA2BoC,OAAO,KAAK,IAAZA,IAAoBA,OAAO,KAAK,KAAK,CAArCA,GAAyC,KAAK,CAA9CA,GAAkDA,OAAO,CAACI,QAArFxC,EAA+F;AAC1GyC,qBAAO,EAAElC;AADiG,aAA/FP,CAAf;;AAGA,gBAAI0C,QAAQ,GAAG1D,KAAK,CAACJ,GAANI,CAAU2D,kBAAV3D,CAA6BmD,GAA7BnD,EAAkCuD,QAAlCvD,CAAf;;AACAA,iBAAK,CAACH,QAANG,CAAe4D,WAAf5D,CAA2BqD,aAA3BrD,EAA0C0D,QAAQ,CAACG,SAATH,CAAmB,CAAnBA,CAA1C1D;AAbJ;AAJJ;;AAoBAN,0BAAkB,CAACoE,IAAnBpE;AAAA,2BAA+GA,kBAA/G,EAAqGqE,gEAA8CA,qDAA9CA,CAArG,EAAqGA,gEAAwEA,2DAAxEA,CAArG,EAAqGA,gEAAwGA,oDAAxGA,CAArG;AAAA;;AACArE,0BAAkB,CAACsE,IAAnBtE,kBADqGqE,gEACrG;AAAAE,gBAAmGvE,kBAAnG;AAAAwE;AAAAC;AAAArE;AAAAG;AAAA;AAAA,SADqG8D,CACrGrE;AACA,eAAOA,kBAAP;AA1GoC,SAAxC;;AA6GA;AAAA,2DALyGqE,gEAKdrE,mBALcqE,EAKkB,CAAC;AAChHE,cAAI,EAAEG,oDAD0G;AAEhHC,cAAI,EAAE,CAAC;AACCC,oBAAQ,EAAE;AADX,WAAD;AAF0G,SAAD,CALlBP,EAU7E,YAAY;AAAE,iBAAO,CAAC;AAAEE,gBAAI,EAAEF;AAAR,WAAD,EAA0B;AAAEE,gBAAI,EAAEF;AAAR,WAA1B,EAAyD;AAAEE,gBAAI,EAAEF;AAAR,WAAzD,CAAP;AAL1C,SALyGA,EAU6C;AAAEjE,mBAAS,EAAE,CAAC;AACpJmE,gBAAI,EAAEM;AAD8I,WAAD,CAAb;AAEtItE,mBAAS,EAAE,CAAC;AACZgE,gBAAI,EAAEM;AADM,WAAD;AAF2H,SAV7CR,CAKzG;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HA;AACA;AACA;AACA;AACA;AACA;;;AAKA,UAAIS,iBAAgB;AAAG;AAAe,kBAAY;AAC9C,iBAASA,gBAAT,GAA4B,CAC3B;;AACDA,wBAAgB,CAACC,OAAjBD,GAA2B,YAAY;AACnC,iBAAO;AACHE,oBAAQ,EAAEF;AADP,WAAP;AADJ;;AAKAA,wBAAgB,CAACV,IAAjBU;AAAA,2BAA6GA,gBAA7G;AAAA;;AACAA,wBAAgB,CAACG,IAAjBH,kBADmGT,+DACnG;AAAAE,gBAA8GO;AAA9G,SADmGT,CACnGS;AACAA,wBAAgB,CAACI,IAAjBJ,kBAFmGT,+DAEnG;AAAAc,oBAA0I,CAACC,yDAAD,CAA1I;AAAA,SAFmGf,CAEnGS;AACA,eAAOA,gBAAP;AAXkC,SAAtC;;AAcA;AAAA,2DANuGT,gEAMZS,iBANYT,EAMkB,CAAC;AAC9GE,cAAI,EAAEc,mDADwG;AAE9GV,cAAI,EAAE,CAAC;AACCQ,mBAAO,EAAE,CAACC,yDAAD,CADV;AAECE,wBAAY,EAAE,CAACtF,6EAAD,CAFf;AAGCuF,mBAAO,EAAE,CAACvF,6EAAD;AAHV,WAAD;AAFwG,SAAD,CANlBqE,EAMvG,IANuGA,EAMvG,IANuGA,CAMvG;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UClBamB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCLAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiCDC;;AACEA;;AACFA;;;;;;AACAA;;AACEA;;AACFA;;;;;;AAZFA;;AAOEA;;AAGAA;;AAGFA;;;;;;AANQA;;AAAAA;;AAGAA;;AAAAA;;;;;;AA2BNA;;AACEA;;AACFA;;;;;;AATFA;;AAOEA;;AAGFA;;;;;;AAHQA;;AAAAA;;;;;;;;AAONA;;AACEA;;AACEA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAOAA;;AACFA;;AACFA;;;;;;;;AARIA;;AAAAA,kJAEC,UAFD,EAECC,eAFD;;AAMAD;;AAAAA;;;;;;;;AAyDJA;;AAEEA;;AACEA;;AAAyBA;;AAAmBA;;AAC9CA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIb,WAJa,EAIFE,qBAJE,EAIFC,KAJE,EAIFC,sBAJE;AAIF,WAJE;;AAHFJ;;AAeFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIR,MAJQ,EAIFE,qBAJE,EAIFC,KAJE,EAIFE,sBAJE;AAIF,WAJE;;AAHFL;;AAeFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIP,KAJO,EAIFE,qBAJE,EAIFC,KAJE,EAIFG,sBAJE;AAIF,WAJE;;AAHFN;;AAeFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIR,MAJQ,EAIFE,qBAJE,EAIFC,KAJE,EAIFI,sBAJE;AAIF,WAJE;;AAHFP;;AAeFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIR,MAJQ,EAIFE,qBAJE,EAIFC,KAJE,EAIFK,sBAJE;AAIF,WAJE;;AAHFR;;AAeFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIV,QAJU,EAIFE,qBAJE,EAIFC,KAJE,EAIFM,sBAJE;AAIF,WAJE;;AAHFT;;AAeFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIT,OAJS,EAIFE,qBAJE,EAIFC,KAJE,EAIFO,sBAJE;AAIF,WAJE;;AAHFV;;AAeFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGEA;AAAA;;AAAA;AAAA;;AAAA;;AAAA,sDAIV,QAJU,EAIFE,qBAJE,EAIFC,KAJE,EAIFQ,sBAJE;AAIF,WAJE;;AAHFX;;AAeFA;;AACFA;;AAWFA;;;;;;;;AApK6BA;;AAAAA;;AAMrBA;;AAAAA,gGAAqB,SAArB,EAAqBY,8CAArB;;AAmBAZ;;AAAAA,gGAAqB,SAArB,EAAqBa,oCAArB;;AAmBAb;;AAAAA,gGAAqB,SAArB,EAAqBa,mCAArB;;AAmBAb;;AAAAA,gGAAqB,SAArB,EAAqBa,oCAArB;;AAmBAb;;AAAAA,gGAAqB,SAArB,EAAqBa,oCAArB;;AAmBAb;;AAAAA,gGAAqB,SAArB,EAAqBa,sCAArB;;AAmBAb;;AAAAA,gGAAqB,SAArB,EAAqBa,qCAArB;;AAmBAb;;AAAAA,gGAAqB,SAArB,EAAqBa,sCAArB;;;;;;;;;;;;AA6Bdb;;AACEA;;AACEA;;AAGEA;AAAAA;;AAAA;;AAAA;AAAA;;AAEAA;;AACFA;;AACFA;;AACAA;;AACEA;;AAIEA;;AACFA;;AACFA;;AACFA;;;;;;AAdMA;;AAAAA;;AAQAA;;AAAAA;;;;;;;;AASFA;;AASEA;;AAEEA;AAAAA;;AAAA;;AAAA;AAAA;;AAEAA;;AACFA;;AACFA;;;;;;AAFIA;;AAAAA;;;;;;;;AAGJA;;AACEA;;AAGEA;AAAAA;;AAAA;;AAAA;AAAA;;AAEAA;;AACFA;;AACFA;;;;;;AALIA;;AAAAA;;;;;;;;AAMJA;;AASEA;;AAEEA;AAAAA;;AAAA;;AAAA;AAAA;;AAIAA;;AACFA;;AACFA;;;;;;AALIA;;AAAAA,iGAAqB,UAArB,EAAqBc,eAArB;;AAGAd;;AAAAA;;;;;;;;AAGJA;;AAWEA;;AAEEA;AAAAA;;AAAA;;AAAA;AAAA;;AAGAA;;AACFA;;AACFA;;;;;;AAJIA;;AAAAA;;AAEAA;;AAAAA;;;;;;;;AAGJA;;AAWEA;;AAEEA;AAAAA;;AAAA;;AAAA;AAAA;;AAGAA;;AACFA;;AACFA;;;;;;AAJIA;;AAAAA;;AAEAA;;AAAAA;;;;;;;;AAGJA;;AAQEA;;AAGEA;AAAAA;;AAAA;;AAAA;AAAA;;AAEAA;;AACFA;;AACFA;;;;;;AALIA;;AAAAA;;AAGAA;;AAAAA;;;;;;AAhGRA;;AACEA;;AACEA;;AAgBAA;;AASAA;;AAkBAA;;AAmBAA;;AAmBAA;;AAiBAA;;AACEA;;AAIEA;;AACFA;;AACFA;;AACFA;;AACFA;;;;;;AAzGOA;;AAAAA;;AAcoBA;;AAAAA;;AAWpBA;;AAAAA;;AAkBAA;;AAAAA;;AAmBAA;;AAAAA;;AAmBAA;;AAAAA;;AAkBCA;;AAAAA;;;;;;AAUdA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAKA;;AACTA;;AAAGA;;AAA8BA;;AACnCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAgBA;;AACpBA;;AACEA;;;;AAGFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AAAGA;;AAAmCA;;AACxCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAOA;;AACXA;;AAAGA;;AAAgCA;;AACrCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAkBA;;AACtBA;;AACEA;;;;AAGFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAwBA;;AAC5BA;;AAAGA;;AAAoCA;;AACzCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAoBA;;AACxBA;;AAAGA;;AAAiCA;;AACtCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAmBA;;AACvBA;;AAAGA;;AAA8BA;;AACnCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;;;;;AA9IiBA;;AAAAA;;AAkBDA;;AAAAA;;AAoBCA;;AAAAA;;AAiBAA;;AAAAA;;AAkBDA;;AAAAA;;AAoBCA;;AAAAA;;AAqBAA;;AAAAA;;AAqBAA;;AAAAA;;;;UCvjBJe;AAoEX,uCAAmBC,WAAnB,EAAqDC,GAArD,EAA8EC,KAA9E,EAA6GC,WAA7G,EACUC,MADV,EACkCC,GA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","names":["__spreadArray","undefined","to","from","pack","arguments","length","i","l","ar","Array","prototype","slice","call","concat","DataTableDirective","el","vcr","renderer","dtOptions","ngOnInit","_this","dtTrigger","subscribe","options","displayTable","ngOnDestroy","unsubscribe","dt","destroy","dtInstance","Promise","resolve","reject","then","resolvedDTOptions","isTableEmpty","Object","keys","$","nativeElement","setTimeout","rowCallback","row","data","index","columns","applyNgPipeTransform","applyNgRefTemplate","assign","DataTable","colsWithPipe","filter","x","ngPipeInstance","ngTemplateRef","forEach","pipe","pipeArgs","ngPipeArgs","findIndex","e","rowFromCol","childNodes","item","rowVal","text","rowValAfter","transform","apply","colsWithTemplate","_a","ref","context","cellFromIndex","html","_context","userData","adtData","instance","createEmbeddedView","appendChild","rootNodes","ɵfac","i0","ɵdir","type","selectors","inputs","Directive","args","selector","Input","DataTablesModule","forRoot","ngModule","ɵmod","ɵinj","imports","CommonModule","NgModule","declarations","exports","fmosrolesdata","Roles","_angular_core__WEBPACK_IMPORTED_MODULE_8__","ctx_r3","$event","i_r16","ctx_r17","ctx_r19","ctx_r20","ctx_r21","ctx_r22","ctx_r23","ctx_r24","ctx_r25","ctx_r4","roles_r15","ctx_r30","RoleDetailsComponent","roleService","api","route","formBuilder","router","cdr","iziToast","modalService","canDeactivateGuard","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_0__","src_app_shared_models_role__WEBPACK_IMPORTED_MODULE_2__","src_app_shared_models_fmosroledata__WEBPACK_IMPORTED_MODULE_1__","rxjs__WEBPACK_IMPORTED_MODULE_9__","roleNavObj","localStorage","getItem","roleNavigationObject","JSON","parse","getIndexValue","console","log","resp","paramScreen","createRole","username","replace","navSubscription","getNavParam","editRoleScreen","editFlag","modifyRoleObject","id","queryParams","roleName","roleDesc","makerId","makerDtStamp","checkerId","checkerDtStamp","recordStatus","version","authStatus","firstTimeAuth","buildRoleForm","fetchdynamicroles","fetchScreenPermissions","screenLabelList","roleCodes","message","modifyScreen","auditLog","myform","group","_angular_forms__WEBPACK_IMPORTED_MODULE_10__","UsernameValidator","cannotContainSpace","screenlist","permissionlength","permissionlist","permissionidobj","screenId","screensId","permissionarray","j","push","permissionstring","join","permissionId","permissions","enableEdit","openBtn","closeBtn","submitBtn","num","event","btnNameSelected","rolestype","sweetalert2__WEBPACK_IMPORTED_MODULE_3___default","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","icon","result","isConfirmed","verifyRole","updatedRoleObject","markForCheck","closelockRecord","userId","reopenRecord","deleteStatusFlag","deleteRole","navigate","isDisable","permissionslist","screenoccurence","rolessorteddata","ind","permission","toString","newpermission","gettabindex","newRolesData","permissionDto","screenid","obj","modifiedRole","roleDto","get","value","newmodifyRoleService","validationResponse","fetchNewRolePermissions","formTouched","touched","fetchdynamicrolesdata","tabDto","labelDto","screenDto","arrayC","arrayB","labelsarray","permissionsarray","initalizepermissions","labelarray","missiongpermissions","items","screenindex","permissionobj","screenName","scrnm","n","tabId","tabName","tabindex","screen","screenslist","element","getscreenlist","screenvisibility","visibility","label","labellist","charAt","labelName","tabname","screens","labels","labelslist","fetchnewscreenlabels","preparingPermissiondto","idexist","screenname","selectedtab","indexdata","tabheaders","indexval","indexOf","previouschecklist","splice","checkedlist","checklistclass","checklist","strchklist","array","checkval","testchecklist","strinchklst","permissiondata","stringlength","temp","count","match","roleScreenList","s","NEW","EDIT","DELETE","CLOSE","REOPEN","AUTH","UNLOCK","PRINT","VIEW","selectAllChecked","submitted","save","newRole","createnewrole","role","enableSelectAll","g","action","r","m","Screens","newperm1","newperm","split","p","labelId","button","roles","SELECTALL","isExit","navigationExtras","sendNavParam","content","open","ariaLabelledBy","windowClass","closeResult","reason","getDismissReason","_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__","val","acceptval","setItem","pageDeactive","dismissAll","decls","vars","consts","template","ctx","control","_angular_core__WEBPACK_IMPORTED_MODULE_6__","RoleListComponent","rxjs__WEBPACK_IMPORTED_MODULE_7__","src_app_shared_models_role__WEBPACK_IMPORTED_MODULE_1__","getRoles","pagingType","pageLength","processing","columnDefs","targets","order","lengthMenu","isLoading","getAllRoles","statusArr","find","startsWith","allRoles","next","userObject","setIndexValue","new1","copy1","delete1","close1","unlock1","reopen1","print1","auth1","view1","stringify","removeItem","sweetalert2__WEBPACK_IMPORTED_MODULE_2___default","window","location","reload","routes","path","component","_role_list_role_list_component__WEBPACK_IMPORTED_MODULE_2__","_role_details_role_details_component__WEBPACK_IMPORTED_MODULE_1__","canDeactivate","src_app_shared_guards_can_deactivate_guard__WEBPACK_IMPORTED_MODULE_0__","RolesRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_4__","RolesModule","_angular_common__WEBPACK_IMPORTED_MODULE_6__","_angular_forms__WEBPACK_IMPORTED_MODULE_7__","src_app_shared_components_components_module__WEBPACK_IMPORTED_MODULE_3__","_roles_routing_module__WEBPACK_IMPORTED_MODULE_0__","angular_datatables__WEBPACK_IMPORTED_MODULE_4__","_role_list_role_list_component__WEBPACK_IMPORTED_MODULE_1__","_role_details_role_details_component__WEBPACK_IMPORTED_MODULE_2__"],"sources":["webpack:///node_modules/angular-datatables/index.js","webpack:///node_modules/angular-datatables/src/angular-datatables.directive.js","webpack:///node_modules/angular-datatables/src/angular-datatables.module.js","webpack:///src/app/shared/models/fmosroledata.ts","webpack:///src/app/shared/models/role.ts","webpack:///src/app/views/roles/role-details/role-details.component.html","webpack:///src/app/views/roles/role-details/role-details.component.ts","webpack:///src/app/views/roles/role-list/role-list.component.html","webpack:///src/app/views/roles/role-list/role-list.component.ts","webpack:///src/app/views/roles/roles-routing.module.ts","webpack:///src/app/views/roles/roles.module.ts"],"sourcesContent":["/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\n/**\n * @module\n * @description\n * Entry point from which you should import all public library APIs.\n */\nexport { DataTableDirective } from './src/angular-datatables.directive';\nexport { DataTablesModule } from './src/angular-datatables.module';\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\nimport { Directive, ElementRef, Input, Renderer2, ViewContainerRef } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nvar DataTableDirective = /** @class */ (function () {\n    function DataTableDirective(el, vcr, renderer) {\n        this.el = el;\n        this.vcr = vcr;\n        this.renderer = renderer;\n        /**\n         * The DataTable option you pass to configure your table.\n         */\n        this.dtOptions = {};\n    }\n    DataTableDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.dtTrigger) {\n            this.dtTrigger.subscribe(function (options) {\n                _this.displayTable(options);\n            });\n        }\n        else {\n            this.displayTable(null);\n        }\n    };\n    DataTableDirective.prototype.ngOnDestroy = function () {\n        if (this.dtTrigger) {\n            this.dtTrigger.unsubscribe();\n        }\n        if (this.dt) {\n            this.dt.destroy(true);\n        }\n    };\n    DataTableDirective.prototype.displayTable = function (dtOptions) {\n        var _this = this;\n        // assign new options if provided\n        if (dtOptions) {\n            this.dtOptions = dtOptions;\n        }\n        this.dtInstance = new Promise(function (resolve, reject) {\n            Promise.resolve(_this.dtOptions).then(function (resolvedDTOptions) {\n                // validate object\n                var isTableEmpty = Object.keys(resolvedDTOptions).length === 0 && $('tbody tr', _this.el.nativeElement).length === 0;\n                if (isTableEmpty) {\n                    reject('Both the table and dtOptions cannot be empty');\n                    return;\n                }\n                // Using setTimeout as a \"hack\" to be \"part\" of NgZone\n                setTimeout(function () {\n                    // Assign DT properties here\n                    var options = {\n                        rowCallback: function (row, data, index) {\n                            if (resolvedDTOptions.columns) {\n                                var columns = resolvedDTOptions.columns;\n                                _this.applyNgPipeTransform(row, columns);\n                                _this.applyNgRefTemplate(row, columns, data);\n                            }\n                            // run user specified row callback if provided.\n                            if (resolvedDTOptions.rowCallback) {\n                                resolvedDTOptions.rowCallback(row, data, index);\n                            }\n                        }\n                    };\n                    // merge user's config with ours\n                    options = Object.assign({}, resolvedDTOptions, options);\n                    _this.dt = $(_this.el.nativeElement).DataTable(options);\n                    resolve(_this.dt);\n                });\n            });\n        });\n    };\n    DataTableDirective.prototype.applyNgPipeTransform = function (row, columns) {\n        // Filter columns with pipe declared\n        var colsWithPipe = columns.filter(function (x) { return x.ngPipeInstance && !x.ngTemplateRef; });\n        colsWithPipe.forEach(function (el) {\n            var pipe = el.ngPipeInstance;\n            var pipeArgs = el.ngPipeArgs || [];\n            // find index of column using `data` attr\n            var i = columns.findIndex(function (e) { return e.data === el.data; });\n            // get <td> element which holds data using index\n            var rowFromCol = row.childNodes.item(i);\n            // Transform data with Pipe and PipeArgs\n            var rowVal = $(rowFromCol).text();\n            var rowValAfter = pipe.transform.apply(pipe, __spreadArray([rowVal], pipeArgs, false));\n            // Apply transformed string to <td>\n            $(rowFromCol).text(rowValAfter);\n        });\n    };\n    DataTableDirective.prototype.applyNgRefTemplate = function (row, columns, data) {\n        var _this = this;\n        // Filter columns using `ngTemplateRef`\n        var colsWithTemplate = columns.filter(function (x) { return x.ngTemplateRef && !x.ngPipeInstance; });\n        colsWithTemplate.forEach(function (el) {\n            var _a = el.ngTemplateRef, ref = _a.ref, context = _a.context;\n            // get <td> element which holds data using index\n            var i = columns.findIndex(function (e) { return e.data === el.data; });\n            var cellFromIndex = row.childNodes.item(i);\n            // reset cell before applying transform\n            $(cellFromIndex).html('');\n            // render onto DOM\n            // finalize context to be sent to user\n            var _context = Object.assign({}, context, context === null || context === void 0 ? void 0 : context.userData, {\n                adtData: data\n            });\n            var instance = _this.vcr.createEmbeddedView(ref, _context);\n            _this.renderer.appendChild(cellFromIndex, instance.rootNodes[0]);\n        });\n    };\n    DataTableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.1\", ngImport: i0, type: DataTableDirective, deps: [{ token: i0.ElementRef }, { token: i0.ViewContainerRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Directive });\n    DataTableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.0.1\", type: DataTableDirective, selector: \"[datatable]\", inputs: { dtOptions: \"dtOptions\", dtTrigger: \"dtTrigger\" }, ngImport: i0 });\n    return DataTableDirective;\n}());\nexport { DataTableDirective };\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.1\", ngImport: i0, type: DataTableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[datatable]'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ViewContainerRef }, { type: i0.Renderer2 }]; }, propDecorators: { dtOptions: [{\n                type: Input\n            }], dtTrigger: [{\n                type: Input\n            }] } });\n","/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataTableDirective } from './angular-datatables.directive';\nimport * as i0 from \"@angular/core\";\nvar DataTablesModule = /** @class */ (function () {\n    function DataTablesModule() {\n    }\n    DataTablesModule.forRoot = function () {\n        return {\n            ngModule: DataTablesModule\n        };\n    };\n    DataTablesModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.1\", ngImport: i0, type: DataTablesModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    DataTablesModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.0.1\", ngImport: i0, type: DataTablesModule, declarations: [DataTableDirective], imports: [CommonModule], exports: [DataTableDirective] });\n    DataTablesModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.0.1\", ngImport: i0, type: DataTablesModule, imports: [[CommonModule]] });\n    return DataTablesModule;\n}());\nexport { DataTablesModule };\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.1\", ngImport: i0, type: DataTablesModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    declarations: [DataTableDirective],\n                    exports: [DataTableDirective]\n                }]\n        }] });\n","import {roleScreens} from './roleScreens'; \r\nimport {roleLabels} from './roleLabels';\r\nimport {fmosRolePermissions} from './fmosRolePermissions';\r\nimport {roleTabs} from './roleTabs';\r\nimport {fmosroles} from './fmosroles';\r\n\r\nexport class fmosrolesdata {\r\n    roleDto:fmosroles[];\r\n    permissionDto:fmosRolePermissions[];\r\n    tabDto:roleTabs;\r\n    labelDto:roleLabels[];\r\n    screenDto:roleScreens[];\r\n}\r\n\r\n","\r\nexport class Roles {\r\n  id: number;\r\nmakerId: string;\r\nverifierId: string;\r\nmakerDtStamp: string;\r\ncheckerDtStamp: string;\r\nrecordStatus: string;\r\nauthStatus: string;\r\ncheckerId:string;\r\nroleName: string;\r\nroleDesc: string;\r\nversion:number;\r\n public new1: string;\r\n public copy1: string;\r\n public delete1: string;\r\n public close1: string;\r\n public unlock1: string;\r\n public reopen1: string;\r\n public print1: string;\r\n public auth1: string;\r\n public view1: string;\r\n public new2: string;\r\n public copy2: string;\r\n public delete2: string;\r\n public close2: string;\r\n public unlock2: string;\r\n public reopen2: string;\r\n public print2: string;\r\n public auth2: string;\r\n public view2: string;\r\n public new3: string;\r\n public copy3: string;\r\n public delete3: string;\r\n public close3: string;\r\n public unlock3: string;\r\n public reopen3: string;\r\n public print3: string;\r\n public auth3: string;\r\n public view3: string;\r\n public new4: string;\r\n public copy4: string;\r\n public delete4: string;\r\n public close4: string;\r\n public unlock4: string;\r\n public reopen4: string;\r\n public print4: string;\r\n public auth4: string;\r\n public view4: string;\r\n public new5: string;\r\n public copy5: string;\r\n public delete5: string;\r\n public close5: string;\r\n public unlock5: string;\r\n public reopen5: string;\r\n public print5: string;\r\n public auth5: string;\r\n public view5: string;\r\n public new6: string;\r\n public copy6: string;\r\n public delete6: string;\r\n public close6: string;\r\n public unlock6: string;\r\n public reopen6: string;\r\n public print6: string;\r\n public auth6: string;\r\n public view6: string;\r\n public new7: string;\r\n public copy7: string;\r\n public delete7: string;\r\n public close7: string;\r\n public unlock7: string;\r\n public reopen7: string;\r\n public print7: string;\r\n public auth7: string;\r\n public view7: string;\r\n public new8: string;\r\n public copy8: string;\r\n public delete8: string;\r\n public close8: string;\r\n public unlock8: string;\r\n public reopen8: string;\r\n public print8: string;\r\n public auth8: string;\r\n public view8: string;\r\n public new9: string;\r\n public copy9: string;\r\n public delete9: string;\r\n public close9: string;\r\n public unlock9: string;\r\n public reopen9: string;\r\n public print9: string;\r\n public auth9: string;\r\n public view9: string;\r\n public view10: string;\r\n public view11: string;\r\n public view12: string;\r\n public view13: string;\r\n public view14: string;\r\n public new15: string;\r\n public copy15: string;\r\n public delete15: string;\r\n public close15: string;\r\n public unlock15: string;\r\n public reopen15: string;\r\n public print15: string;\r\n public auth15: string;\r\n public view15: string;\r\n public new16: string;\r\n public copy16: string;\r\n public delete16: string;\r\n public close16: string;\r\n public unlock16: string;\r\n public reopen16: string;\r\n public print16: string;\r\n public auth16: string;\r\n public view16: string;\r\n public new17: string;\r\n public copy17: string;\r\n public delete17: string;\r\n public close17: string;\r\n public unlock17: string;\r\n public reopen17: string;\r\n public print17: string;\r\n public auth17: string;\r\n public view17: string;\r\n public new18: string;\r\n public copy18: string;\r\n public delete18: string;\r\n public close18: string;\r\n public unlock18: string;\r\n public reopen18: string;\r\n public print18: string;\r\n public auth18: string;\r\n public view18: string;\r\n public new19: string;\r\n public copy19: string;\r\n public delete19: string;\r\n public close19: string;\r\n public unlock19: string;\r\n public reopen19: string;\r\n public print19: string;\r\n public auth19: string;\r\n public view19: string;\r\n public new20: string;\r\n public copy20: string;\r\n public delete20: string;\r\n public close20: string;\r\n public unlock20: string;\r\n public reopen20: string;\r\n public print20: string;\r\n public auth20: string;\r\n public view20: string;\r\n public view21: string;\r\n public view22: string;\r\n public view23: string;\r\n public updatedBy: string;\r\n public new24: string;\r\n public copy24: string;\r\n public delete24: string;\r\n public close24: string;\r\n public unlock24: string;\r\n public reopen24: string;\r\n public print24: string;\r\n public auth24: string;\r\n public view24: string;\r\n fristTimeAuth: string;\r\n firstTimeAuth: string;\r\n}\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Role Management</h2>\r\n  </div>\r\n  <form\r\n    action=\"\"\r\n    class=\"formStyle\"\r\n    #roleForm=\"ngForm\"\r\n    novalidate\r\n    [formGroup]=\"myform\"\r\n  >\r\n    <div class=\"dbCardStyle\">\r\n      <div class=\"row gy-4\">\r\n        <div class=\"col-lg-4\">\r\n          <label for=\"roleName\" class=\"formLbl\"\r\n            >Role Name <span class=\"colorRed\">*</span></label\r\n          >\r\n          <input\r\n            id=\"roleName\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            formControlName=\"roleName\"\r\n            [readonly]=\"editFlag\"\r\n            name=\"roleName\"\r\n            placeholder=\"Role Name\"\r\n            value=\"\"\r\n          />\r\n          <div\r\n            class=\"errorColor\"\r\n            *ngIf=\"\r\n              myform.get('roleName').invalid &&\r\n              (myform.get('roleName').dirty || myform.get('roleName').touched)\r\n            \"\r\n          >\r\n            <div *ngIf=\"myform.get('roleName').errors.required\">\r\n              Please Enter RoleName\r\n            </div>\r\n            <div *ngIf=\"myform.get('roleName').errors.cannotContainSpace\">\r\n              RoleName cannot contain space\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4\">\r\n          <label for=\"roleDescription\" class=\"formLbl\"\r\n            >Role Description <span class=\"colorRed\">*</span></label\r\n          >\r\n          <input\r\n            id=\"roleDescription\"\r\n            type=\"text\"\r\n            formControlName=\"roleDesc\"\r\n            required\r\n            name=\"roleDesc\"\r\n            [readonly]=\"editFlag\"\r\n            class=\"form-control\"\r\n            placeholder=\"Tupe your Text\"\r\n            value=\"\"\r\n          />\r\n          <div\r\n            class=\"errorColor\"\r\n            *ngIf=\"\r\n              myform.get('roleDesc').invalid &&\r\n              (myform.get('roleDesc').dirty || myform.get('roleDesc').touched)\r\n            \"\r\n          >\r\n            <div *ngIf=\"myform.get('roleDesc').errors.required\">\r\n              Please Enter RoleDesc\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-12\">\r\n          <div class=\"row g-2 justify-content-center\">\r\n            <div class=\"col-auto\" *ngFor=\"let btn of screenName; let i = index\">\r\n              <button\r\n                (click)=\"getPermission(btn.tabId, btn.tabName)\"\r\n                [ngClass]=\"\r\n                  btn.tabName == btnNameSelected ? 'active' : 'notActive'\r\n                \"\r\n                [disabled]=\"editFlag\"\r\n                class=\"btn btnOutlinePrimary\"\r\n              >\r\n                {{ btn.tabName }}\r\n              </button>\r\n            </div>\r\n\r\n            <!-- <div class=\"col-auto\">\r\n                <button  (click)=\"getPermission('0','System Maintenance')\" class=\"btn btnOutlinePrimary\">System Maintenance</button>\r\n              </div> -->\r\n            <!-- <div class=\"col-auto\">\r\n                <button  (click)=\"getPermission('1','System Param Maintenance')\" class=\"btn btnOutlinePrimary\">System Param Maintenance</button>\r\n              </div>\r\n              <div class=\"col-auto\">\r\n                <button  (click)=\"getPermission('2','File Upload Maintenance')\" class=\"btn btnOutlinePrimary\">File Upload Maintenance</button>\r\n              </div>\r\n              <div class=\"col-auto\">\r\n                <button  (click)=\"getPermission('3','File Upload')\" class=\"btn btnOutlinePrimary\">File Upload</button>\r\n              </div>\r\n              <div class=\"col-auto\">\r\n                <button  (click)=\"getPermission('4','Account Block')\" class=\"btn btnOutlinePrimary\">Account Block</button>\r\n              </div> \r\n              <div class=\"col-auto\">\r\n                <button  (click)=\"getPermission('5','Account Closure')\" [ngClass]=\"'Account Closure' == btnNameSelected ? 'active' :'notActive' \" [disabled]=\"editFlag\" class=\"btn btnOutlinePrimary\">Account Closure</button>\r\n              </div> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"dbCardStyle\">\r\n      <div class=\"form-check\">\r\n        <label>Select All</label>\r\n        <input\r\n          type=\"checkbox\"\r\n          (click)=\"clickRoleAction1()\"\r\n          [disabled]=\"editFlag\"\r\n          [checked]=\"isEnabled()\"\r\n          (click)=\"clickAllAction('SELECTALLOPT', $event.target.checked)\"\r\n          class=\"form-check-input\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"table-responsive\">\r\n        <table id=\"dbTable1\" class=\"table tableStyle\">\r\n          <thead>\r\n            <tr>\r\n              <th>Screen</th>\r\n              <th>Select All</th>\r\n              <th>View</th>\r\n              <th>NEW</th>\r\n              <th>EDIT</th>\r\n              <th>Auth</th>\r\n              <th>Delete</th>\r\n              <th>Close</th>\r\n              <th>Reopen</th>\r\n              <!-- <th>Unlock</th>\r\n                <th>Print</th> -->\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let roles of roleScreenList; let i = index\">\r\n              <!-- <td><span class=\"primaryColor\">Select</span></td> -->\r\n              <td>\r\n                <span class=\"link-color\">{{ roles.Screens }}</span>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'SELECTALL',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"selectAllChecked || roles.SELECTALL\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'VIEW',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"roles.VIEW == '0' ? false : true\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'NEW',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"roles.NEW == '0' ? false : true\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'EDIT',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"roles.EDIT == '0' ? false : true\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'AUTH',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"roles.AUTH == '0' ? false : true\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'DELETE',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"roles.DELETE == '0' ? false : true\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'CLOSE',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"roles.CLOSE == '0' ? false : true\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [disabled]=\"editFlag\"\r\n                    (click)=\"\r\n                      clickRoleAction(\r\n                        roles,\r\n                        'REOPEN',\r\n                        $event.target.checked,\r\n                        i,\r\n                        roleScreenList\r\n                      )\r\n                    \"\r\n                    [checked]=\"roles.REOPEN == '0' ? false : true\"\r\n                    class=\"form-check-input\"\r\n                  />\r\n                </div>\r\n              </td>\r\n              <!-- <td>\r\n                  <div class=\"form-check\">\r\n                    <input type=\"checkbox\" [disabled]=\"editFlag\" (click)=\"clickRoleAction(roles, 'UNLOCK', $event.target.checked)\" [checked]=\"roles.UNLOCK == '0' ? false : true\" class=\"form-check-input\">\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"form-check\">\r\n                    <input type=\"checkbox\" [disabled]=\"editFlag\" (click)=\"clickRoleAction(roles, 'PRINT', $event.target.checked)\" [checked]=\"roles.PRINT == '0' ? false : true\" class=\"form-check-input\">\r\n                  </div>\r\n                </td> -->\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"row g-3 pb-3 justify-content-end pt-3\" *ngIf=\"!modifyScreen\">\r\n        <div class=\"col-auto\">\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            [attr.disabled]=\"!myform.valid || submitBtn\"\r\n            (click)=\"onSubmit()\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <button\r\n            [routerLink]=\"['/roles/list']\"\r\n            class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n          >\r\n            Exit\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-12\" *ngIf=\"modifyScreen\">\r\n        <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n          <div\r\n            class=\"col-auto\"\r\n            *ngIf=\"\r\n              editFlag &&\r\n              roleCodes.edit &&\r\n              (modifyRoleObject.recordStatus == 'Open' ||\r\n                modifyRoleObject.recordStatus == 'OPEN')\r\n            \"\r\n          >\r\n            <button\r\n              class=\"btn smBtn minWdSmBtn btnUpdate\"\r\n              (click)=\"editValues()\"\r\n            >\r\n              {{ roleCodes.edit.labelDescription }}\r\n            </button>\r\n          </div>\r\n          <div class=\"col-auto\" *ngIf=\"!editFlag\">\r\n            <button\r\n              class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n              [disabled]=\"!myform.dirty && isDisable\"\r\n              (click)=\"modifyRoles()\"\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n          <div\r\n            class=\"col-auto\"\r\n            *ngIf=\"\r\n              (modifyRoleObject.authStatus == 'UNAUTHORIZED' ||\r\n                modifyRoleObject.authStatus == 'Unauthorized' ||\r\n                modifyRoleObject.authStatus == 'U') &&\r\n              roleCodes.auth\r\n            \"\r\n          >\r\n            <button\r\n              class=\"btn smBtn minWdSmBtn btnAuth\"\r\n              (click)=\"verifyRole(modifyRoleObject.roleName)\"\r\n              [hidden]=\"enableEdit\"\r\n              [disabled]=\"authBtn\"\r\n            >\r\n              {{ roleCodes.auth.labelDescription }}\r\n            </button>\r\n          </div>\r\n          <div\r\n            class=\"col-auto\"\r\n            *ngIf=\"\r\n              (modifyRoleObject.recordStatus == 'CLOSED' ||\r\n                modifyRoleObject.recordStatus == 'Close' ||\r\n                modifyRoleObject.recordStatus == 'C') &&\r\n              (modifyRoleObject.firstTimeAuth == 'YES' ||\r\n                modifyRoleObject.firstTimeAuth == 'Y') &&\r\n              roleCodes.reopen\r\n            \"\r\n          >\r\n            <button\r\n              class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n              (click)=\"reopenRecord(modifyRoleObject.roleName)\"\r\n              [hidden]=\"!openHide || enableEdit\"\r\n            >\r\n              {{ roleCodes.reopen.labelDescription }}\r\n            </button>\r\n          </div>\r\n          <div\r\n            class=\"col-auto\"\r\n            *ngIf=\"\r\n              (modifyRoleObject.recordStatus == 'OPEN' ||\r\n                modifyRoleObject.recordStatus == 'Open' ||\r\n                modifyRoleObject.recordStatus == 'O') &&\r\n              (modifyRoleObject.firstTimeAuth == 'YES' ||\r\n                modifyRoleObject.firstTimeAuth == 'Y') &&\r\n              roleCodes.close\r\n            \"\r\n          >\r\n            <button\r\n              class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n              (click)=\"closeRecord(modifyRoleObject.roleName)\"\r\n              [hidden]=\"!closeHide || enableEdit\"\r\n            >\r\n              {{ roleCodes.close.labelDescription }}\r\n            </button>\r\n          </div>\r\n          <div\r\n            class=\"col-auto\"\r\n            *ngIf=\"\r\n              (modifyRoleObject.firstTimeAuth == 'NO' ||\r\n                modifyRoleObject.firstTimeAuth == 'N') &&\r\n              roleCodes.delete\r\n            \"\r\n          >\r\n            <button\r\n              class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n              [hidden]=\"enableEdit\"\r\n              (click)=\"deleteRole(modifyRoleObject.roleName)\"\r\n            >\r\n              {{ roleCodes.delete.labelDescription }}\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"col-auto\">\r\n            <button\r\n              class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n              [routerLink]=\"['/roles/list']\"\r\n            >\r\n              Exit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<div class=\"dbCardStyle\" *ngIf=\"modifyRoleObject.roleName != undefined\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n              <i class=\"fa fa-edit faClass\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker</h2>\r\n              <p>{{ modifyRoleObject.makerId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n              <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker Time Stamp</h2>\r\n              <p>\r\n                {{\r\n                  modifyRoleObject.makerDtStamp | date : \"MM/dd/yyyy, h:mm a\"\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n              <i class=\"fa fa-files-o faRecordStatus\" aria-hidden=\"true\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Record Status</h2>\r\n              <p>{{ modifyRoleObject.recordStatus }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker</h2>\r\n              <p>{{ modifyRoleObject.checkerId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n              <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker Time Stamp</h2>\r\n              <p>\r\n                {{\r\n                  modifyRoleObject.checkerDtStamp | date : \"MM/dd/yyyy, h:mm a\"\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n              <i class=\"fa fa-shield faClassFirstTimeAuth\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>First Time Authorization</h2>\r\n              <p>{{ modifyRoleObject.firstTimeAuth }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/authorize.svg\"\r\n                alt=\"...\"\r\n                class=\"modImage\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Authorization Status</h2>\r\n              <p>{{ modifyRoleObject.authStatus }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/modification.svg\"\r\n                class=\"modImage\"\r\n                alt=\"...\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Modification Number</h2>\r\n              <p>{{ modifyRoleObject.version }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { ChangeDetectorRef, Component, ElementRef, Input, OnInit, Pipe, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormControl, FormGroup, Validators, ValidationErrors, FormBuilder } from '@angular/forms';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { el } from 'date-fns/locale';\r\nimport { Ng2IzitoastService } from 'ng2-izitoast';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { fmosrolesdata } from 'src/app/shared/models/fmosroledata';\r\nimport { Roles } from 'src/app/shared/models/role';\r\nimport { ApiService } from 'src/app/shared/services/api.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'npr-role-details',\r\n  templateUrl: './role-details.component.html',\r\n  styleUrls: ['./role-details.component.scss']\r\n})\r\nexport class RoleDetailsComponent implements OnInit, IDeactivateComponent {\r\n  screenLables: any;\r\n\r\n  // fmosRolesData: fmosrolesdata = new fmosrolesdata();\r\n  roleCodes = new permissionsLabels();\r\n\r\n  @Input()\r\n  modifyRoleObject: Roles = new Roles();\r\n  // role: Roles = new Roles();\r\n  rolessorteddata: any;\r\n  // newfmostabsdata: any = { tabslist: [] };\r\n  public selectedtab: string;\r\n  previouschecklist: any = [];\r\n  checkedlist: any = [];\r\n  roleScreenList: any;\r\n  username: string;\r\n  enableList: any;\r\n  nextButton: any;\r\n  btnNameSelected: string;\r\n  screenName: any = [];\r\n  submitted: boolean;\r\n  selectedCheckList: any;\r\n  modifyScreen: boolean = false;\r\n  editFlag = false;\r\n  enableEdit: boolean = false;\r\n  newRolesData: fmosrolesdata = new fmosrolesdata();\r\n  // newRolestabsdata: any = { tabslist: [] };\r\n  updatedRoleObject: any;\r\n  validationResponse: any;\r\n  checkAll: boolean = false;\r\n  enableButton: boolean;\r\n  openBtn: boolean = true;\r\n  closeBtn: boolean = true;\r\n  authBtn: boolean = false;\r\n  openHide: boolean = true;\r\n  closeHide: boolean = true;\r\n  isDisable: boolean = true;\r\n  // num=0;\r\n  myform: FormGroup;\r\n  formTouched: boolean = true;\r\n  roleNavObj: any;\r\n  closeResult = '';\r\n  // myform = new FormGroup({\r\n  //   roleName: new FormControl('',[Validators.required,UsernameValidator.cannotContainSpace]),\r\n  //   roleDesc: new FormControl('', [\r\n  //     Validators.required,\r\n  //   ]),\r\n  // });\r\n  indexdata: any;\r\n  navSubscription: any;\r\n  editRoleScreen: any;\r\n  isDesc: boolean;\r\n  column: any;\r\n  records: any;\r\n  submitBtn: boolean;\r\n  deleteStatusFlag: Object;\r\n  selectAllChecked: boolean = false;\r\n  eventItem: any;\r\n  roleNavigationObject: any;\r\n  paramScreen: any;\r\n  private _http: any;\r\n  acceptval: any;\r\n  rejectval: any;\r\n  pageDeactive: string;\r\n  showDialog = false;\r\n\r\n  subject = new Subject<boolean>();\r\n\r\n  constructor(public roleService: RoleService, private api: ApiService, private route: ActivatedRoute, private formBuilder: FormBuilder,\r\n    private router: Router, private cdr: ChangeDetectorRef, public iziToast: Ng2IzitoastService,\r\n    private modalService: NgbModal, private canDeactivateGuard: CanDeactivateGuard) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n\r\n    this.roleNavObj = localStorage.getItem('roleNavObj');\r\n    this.roleNavigationObject = JSON.parse(this.roleNavObj);\r\n\r\n    this.roleService.getIndexValue().subscribe(resp => {\r\n      console.log(resp);\r\n      this.paramScreen = resp;\r\n      if (resp.index === '') {\r\n        this.createRole();\r\n      }\r\n    })\r\n    this.username = localStorage.getItem('userFromLogin').replace(/['\"]+/g, '');\r\n    this.navSubscription = this.roleService.getNavParam.subscribe(data => this.editRoleScreen = data);\r\n    console.log(this.editRoleScreen);\r\n    //this.getPermission(1,'System Maintenance');\r\n    this.editFlag = false;\r\n\r\n\r\n\r\n\r\n    this.modifyRoleObject.id = this.editRoleScreen.queryParams.id;\r\n    this.modifyRoleObject.roleName = this.editRoleScreen.queryParams.roleName;\r\n    this.modifyRoleObject.roleDesc = this.editRoleScreen.queryParams.roleDesc;\r\n    this.modifyRoleObject.makerId = this.editRoleScreen.queryParams.makerId;\r\n    this.modifyRoleObject.makerDtStamp = this.editRoleScreen.queryParams.makerDtStamp;\r\n    this.modifyRoleObject.checkerId = this.editRoleScreen.queryParams.checkerId;\r\n    this.modifyRoleObject.checkerDtStamp = this.editRoleScreen.queryParams.checkerDtStamp;\r\n    this.modifyRoleObject.recordStatus = this.editRoleScreen.queryParams.recordStatus;\r\n    this.modifyRoleObject.version = this.editRoleScreen.queryParams.version;\r\n\r\n    console.log(this.modifyRoleObject);\r\n\r\n    if (this.modifyRoleObject.recordStatus == 'Open') {\r\n      this.modifyRoleObject.recordStatus = \"OPEN\";\r\n    } else if (this.modifyRoleObject.recordStatus == 'C') {\r\n      this.modifyRoleObject.recordStatus = \"CLOSED\"\r\n    } else {\r\n      this.modifyRoleObject.recordStatus = this.editRoleScreen.queryParams.recordStatus;\r\n    }\r\n    this.modifyRoleObject.authStatus = this.editRoleScreen.queryParams.authStatus;\r\n    if (this.modifyRoleObject.authStatus == 'A') {\r\n      this.modifyRoleObject.authStatus = \"AUTHORIZED\";\r\n    } else if (this.modifyRoleObject.authStatus == 'U') {\r\n      this.modifyRoleObject.authStatus = \"UNAUTHORIZED\"\r\n    } else {\r\n      this.modifyRoleObject.authStatus = this.editRoleScreen.queryParams.authStatus;\r\n    }\r\n    this.modifyRoleObject.firstTimeAuth = this.editRoleScreen.queryParams.firstTimeAuth;\r\n    if (this.modifyRoleObject.firstTimeAuth == 'Y') {\r\n      this.modifyRoleObject.firstTimeAuth = \"YES\";\r\n    } else if (this.modifyRoleObject.firstTimeAuth == 'N') {\r\n      this.modifyRoleObject.firstTimeAuth = \"NO\";\r\n    }\r\n    else {\r\n      this.modifyRoleObject.firstTimeAuth = this.editRoleScreen.queryParams.firstTimeAuth;\r\n    }\r\n    console.log(this.roleNavigationObject);\r\n    if (JSON.parse(this.roleNavObj) != null) {\r\n      console.log(\"Inside If\")\r\n      this.buildRoleForm(this.roleNavigationObject);\r\n      this.modifyRoleObject = this.roleNavigationObject;\r\n    }\r\n    if ((this.modifyRoleObject.roleName == undefined && this.paramScreen.index == 'new') || this.roleNavigationObject == null) {\r\n      console.log(\"Undesfined\")\r\n      this.buildRoleForm(this.modifyRoleObject);\r\n\r\n    }\r\n\r\n\r\n    this.fetchdynamicroles();\r\n    this.roleService.fetchScreenPermissions('Roles');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n    // this.modifyRoleObject=this.roleNavigationObject;\r\n    if (this.modifyRoleObject.roleName || this.roleNavigationObject.roleName) {\r\n      this.modifyScreen = true;\r\n      this.editFlag = true;\r\n    }\r\n    this.auditLog();\r\n  }\r\n\r\n  buildRoleForm(data?) {\r\n    console.log(data);\r\n    this.myform = this.formBuilder.group({\r\n      roleName: [data.roleName ? data.roleName : '', [Validators.required, UsernameValidator.cannotContainSpace]],\r\n      roleDesc: [data.roleDesc ? data.roleDesc : '', Validators.required],\r\n    });\r\n\r\n  }\r\n\r\n  preparingPermissiondto(screenlist, permissionlength) {\r\n    let permissionlist = [];\r\n    for (let i = 0; i < screenlist.length; i++) {\r\n      let permissionidobj = { roleName: '', screenId: screenlist[i].screensId.screenId };\r\n      let permissionarray = [];\r\n      for (let j = 0; j < permissionlength; j++) {\r\n        permissionarray.push(0);\r\n      }\r\n      let permissionstring = permissionarray.join(\"\");\r\n      permissionlist.push({ permissionId: permissionidobj, permissions: permissionstring });\r\n    } //for loop endng\r\n    return permissionlist;\r\n  }\r\n  editValues() {\r\n    this.enableEdit = true;\r\n    this.editFlag = false;\r\n    this.openBtn = false;\r\n    // this.authBtn=false;\r\n    this.closeBtn = false;\r\n    this.submitBtn = true;\r\n\r\n  }\r\n\r\n\r\n  getPermission(num, event) {\r\n    this.btnNameSelected = event;\r\n    // console.log(num);\r\n    if (num != null || num != undefined) {\r\n      this.rolestype(num);\r\n      console.log(\"inside If\");\r\n    }\r\n    else {\r\n      this.rolestype(1);\r\n      console.log(\"Else\");\r\n    }\r\n    this.roleService.fetchScreenPermissions('Roles');\r\n  }\r\n\r\n  // verify/authorize a user\r\n  verifyRole(roleName) {\r\n\r\n    console.log(roleName, this.username);\r\n    if (this.modifyRoleObject.makerId === this.username) {\r\n      Swal.fire(\r\n\r\n        {\r\n          text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#E6224A',\r\n          cancelButtonColor: '#011945',\r\n          // confirmButtonText: 'PROCEED.'\r\n          cancelButtonText: 'NO',\r\n          confirmButtonText: 'YES',\r\n          icon: 'info'\r\n        }\r\n      ).then((result => {\r\n        if (result.isConfirmed === true) {\r\n          Swal.fire({\r\n            text: 'Maker Cannot Authorize Record!',\r\n            icon: 'error'\r\n          });\r\n        }\r\n\r\n      }))\r\n\r\n      return;\r\n    } else {\r\n      // this.roleService.verifyRole(roleName, this.username).subscribe(data => {\r\n      //   this.updatedRoleObject = data;\r\n      //   this.cdr.markForCheck();\r\n      //   this.modifyRoleObject = this.updatedRoleObject;\r\n      Swal.fire(\r\n\r\n        {\r\n          text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#E6224A',\r\n          cancelButtonColor: '#011945',\r\n          // confirmButtonText: 'PROCEED.'\r\n          cancelButtonText: 'NO',\r\n          confirmButtonText: 'YES',\r\n          icon: 'info'\r\n        }\r\n      ).then((result => {\r\n        if (result.isConfirmed === true) {\r\n          this.roleService.verifyRole(roleName, this.username).subscribe(data => {\r\n            this.updatedRoleObject = data;\r\n            this.cdr.markForCheck();\r\n            this.modifyRoleObject = this.updatedRoleObject;\r\n            if (this.modifyRoleObject) {\r\n              this.auditLog();\r\n              Swal.fire(\r\n                {\r\n                  text: \"Role is Authorized\",\r\n                  icon: 'success'\r\n                }\r\n\r\n              );\r\n\r\n            }\r\n          });\r\n        }\r\n      }))\r\n      // Swal.fire(\"Role is Authorized \");\r\n\r\n      // });\r\n    }\r\n  }\r\n  // close a user\r\n  closeRecord(roleName) {\r\n    // this.roleService.closelockRecord(roleName, this.username).subscribe(data => {\r\n    //   this.updatedRoleObject = data;\r\n    //   this.cdr.markForCheck();\r\n    //   this.modifyRoleObject = this.updatedRoleObject;\r\n    //   console.log('role is closed',this.updatedRoleObject.recordStatus);\r\n    //   this.openBtn=false;\r\n    //   this.closeBtn=false;\r\n    // if(this.updatedRoleObject.recordStatus=='C'){\r\n    // this.closeHide=true;\r\n    Swal.fire(\r\n\r\n      {\r\n        text: 'You are trying to Closed record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info'\r\n      }\r\n    ).then((result => {\r\n      if (result.isConfirmed === true) {\r\n        this.roleService.closelockRecord(roleName, this.username).subscribe(data => {\r\n          this.updatedRoleObject = data;\r\n          this.cdr.markForCheck();\r\n          this.modifyRoleObject = this.updatedRoleObject;\r\n          console.log('role is closed', this.updatedRoleObject.recordStatus);\r\n          this.openBtn = false;\r\n          this.closeBtn = false;\r\n          if (this.updatedRoleObject) {\r\n            this.auditLog();\r\n            Swal.fire(\r\n              {\r\n                text: \"Role is Closed\",\r\n                icon: 'success'\r\n              }\r\n\r\n            );\r\n\r\n          }\r\n        });\r\n      }\r\n    }))\r\n    if (this.updatedRoleObject === false) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n\r\n        text: 'Failed to Closed Record '\r\n      });\r\n    }\r\n    // Swal.fire(\"Role is Closed \");\r\n    // }\r\n\r\n    // });\r\n  }\r\n  // reopen a user\r\n\r\n  // reopen a user\r\n  reopenRecord(userId) {\r\n    // this.roleService.reopenRecord(userId, this.username).subscribe(data => {\r\n    //   this.updatedRoleObject = data;\r\n    //   this.cdr.markForCheck();\r\n    //   this.modifyRoleObject = this.updatedRoleObject;\r\n    //   console.log('user is reopened');\r\n    //   this.openBtn=false;\r\n    //   this.closeBtn=false;\r\n    // if(this.updatedRoleObject.recordStatus=='O'){\r\n    // this.openHide=true;\r\n    Swal.fire(\r\n\r\n      {\r\n        text: 'You are trying to Reopen record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info'\r\n      }\r\n    ).then((result => {\r\n      if (result.isConfirmed === true) {\r\n        this.roleService.reopenRecord(userId, this.username).subscribe(data => {\r\n\r\n          this.updatedRoleObject = data;\r\n          this.cdr.markForCheck();\r\n          this.modifyRoleObject = this.updatedRoleObject;\r\n          console.log('user is reopened');\r\n          this.openBtn = false;\r\n          this.closeBtn = false;\r\n          if (this.updatedRoleObject) {\r\n            this.auditLog();\r\n            Swal.fire(\r\n              {\r\n                text: \"Role is Reopened\",\r\n                icon: 'success'\r\n              }\r\n\r\n            );\r\n\r\n          }\r\n        });\r\n      }\r\n    }))\r\n    if (this.deleteStatusFlag === false) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n\r\n        text: 'Failed to Reopened Record '\r\n      });\r\n    }\r\n    // Swal.fire(\"Role is Reopened \");\r\n    // }\r\n\r\n    // });\r\n  }\r\n  // delete a user\r\n  deleteRole(roleName) {\r\n    // this.roleService.deleteRole(roleName, this.username).subscribe(data => {\r\n    //   console.log('user is deleted');\r\n\r\n    Swal.fire(\r\n\r\n      {\r\n        text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info'\r\n      }\r\n    ).then((result => {\r\n      if (result.isConfirmed === true) {\r\n        this.roleService.deleteRole(roleName, this.username).subscribe(data => {\r\n          //console.log('deleteData', datafrombackendtoDelete);\r\n          this.deleteStatusFlag = data;\r\n          if (this.deleteStatusFlag) {\r\n            Swal.fire(\r\n              {\r\n                text: \"Role is Deleted\",\r\n                icon: 'success'\r\n              }\r\n\r\n            );\r\n            this.router.navigate(['/roles/list']);\r\n          }\r\n        });\r\n      }\r\n    }))\r\n    if (this.deleteStatusFlag === false) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n\r\n        text: 'Failed to Delete Record '\r\n      });\r\n    }\r\n    // });\r\n  }\r\n  button() {\r\n    this.isDisable = false;\r\n  }\r\n  modifyRoles() {\r\n    let permissionslist = [];\r\n    for (let i = 0; i < this.rolessorteddata.length; i++) {\r\n      let screenoccurence = this.rolessorteddata[i].screenlist;\r\n      for (let ind = 0; ind < screenoccurence.length; ind++) {\r\n        if (screenoccurence[ind].permission.toString() != screenoccurence[ind].newpermission.toString()) {\r\n          let gettabindex = this.newRolesData.permissionDto.findIndex(function (item) { return item.permissionId.screenId == screenoccurence[ind].screenid });\r\n          if (gettabindex >= 0) {\r\n            let obj = { 'permissionId': this.newRolesData.permissionDto[gettabindex].permissionId };\r\n            obj[\"permissions\"] = screenoccurence[ind].newpermission;\r\n            permissionslist.push(obj);\r\n          }\r\n        } //if\r\n      } //for loop endng\r\n    } //for loop endng\r\n    let modifiedRole: any = { roleDto: this.newRolesData.roleDto };\r\n\r\n    modifiedRole.permissionDto = permissionslist;\r\n    console.log(modifiedRole);\r\n\r\n    // modifiedRole.roleDto.roleDesc = this.modifyRoleObject.roleDesc;\r\n    modifiedRole.roleDto.roleDesc = this.myform.get('roleDesc').value\r\n    modifiedRole.roleDto.makerId = this.username;\r\n    this.roleService.newmodifyRoleService(modifiedRole).subscribe(data => {\r\n      this.validationResponse = data;\r\n      this.cdr.markForCheck();\r\n      let userId = localStorage.getItem('userFromLogin');\r\n      this.roleService.fetchNewRolePermissions(userId);\r\n      console.log(this.validationResponse);\r\n      this.modifyRoleObject = this.validationResponse;\r\n      console.log(this.modifyRoleObject);\r\n      if (this.validationResponse) {\r\n        // this.responseError = 'success';\r\n        Swal.fire(\"Role is Updated \");\r\n\r\n        this.formTouched = !this.myform.touched;\r\n        this.submitBtn = true;\r\n        this.editFlag = true;\r\n        this.enableEdit = false;\r\n        // this.modifyScreen=true;\r\n        console.log(\"IF IF IF IF IF\");\r\n        this.auditLog();\r\n        console.log(this.modifyRoleObject);\r\n        console.log(this.roleCodes);\r\n      } else {\r\n        // this.responseError = 'Server Error';\r\n\r\n        Swal.fire({\r\n          icon: 'error',\r\n\r\n          text: 'Server Error '\r\n        });\r\n        // this.iziToast.show({\r\n        //   message: `Server Error`,\r\n        //   image: \"assets/images/user.png\",\r\n        //   icon: 'ico ico-error',\r\n        //   theme:\"dark\",\r\n        //   layout: 2,\r\n        //   // imageWidth:50,\r\n        //   balloon: false,\r\n        //   position: \"topRight\",\r\n        //   progressBarColor: \"red\",\r\n        //   pauseOnHover: true,\r\n        // });\r\n        console.log(\"ELSE ELSE ELSE ELSE\");\r\n      }\r\n    });\r\n  }\r\n\r\n  fetchdynamicroles() {\r\n    console.log(this.roleNavigationObject);\r\n\r\n    if (this.roleNavigationObject != null) {\r\n\r\n      this.modifyRoleObject.roleName = this.roleNavigationObject.roleName\r\n    }\r\n    if (this.modifyRoleObject.roleName != null) {\r\n      this.roleService.fetchdynamicrolesdata(this.modifyRoleObject.roleName).subscribe(data => {\r\n        console.log('fetch', data);\r\n        this.newRolesData.roleDto = data.roleDto;\r\n        this.newRolesData.permissionDto = data.permissionDto;\r\n        this.newRolesData.tabDto = data.tabDto;\r\n        this.newRolesData.labelDto = data.labelDto;\r\n        this.newRolesData.screenDto = data.screenDto;\r\n        let arrayC = [];\r\n        let arrayB = data.screenDto;\r\n        let labelsarray = data.labelDto;\r\n        let permissionsarray = data.permissionDto;\r\n        console.log(this.newRolesData, \"New roles Data\")\r\n        //new code regarding old roles screens 04/08\r\n        if (permissionsarray && permissionsarray.length < data.screenDto.length) {\r\n          let initalizepermissions = '';\r\n          if (data.labelDto) {\r\n            let labelarray = [];\r\n            for (let i = 0; i < data.labelDto.length; i++) {\r\n              labelarray.push(0);\r\n            }\r\n            let missiongpermissions = labelarray.join(\"\");\r\n            initalizepermissions = missiongpermissions;\r\n          }\r\n          for (let i = 0; i < data.screenDto.length; i++) {\r\n            let items = data.screenDto[i];\r\n            let screenindex = permissionsarray.findIndex(function (item) { return item.permissionId.screenId == items.screensId.screenId });\r\n            if (screenindex == -1) {\r\n              let permissionobj = { roleName: this.modifyRoleObject.roleName, screenId: items.screensId.screenId };\r\n              let obj: any = { permissionId: permissionobj, permissions: initalizepermissions };\r\n              permissionsarray.push(obj);\r\n            }\r\n          }\r\n        }\r\n        this.screenName = this.newRolesData.tabDto;\r\n        let scrnm: any = [];\r\n        for (let n = 0; n < this.screenName.length; n++) {\r\n          scrnm[this.screenName[n].tabId - 1] = this.screenName[n];\r\n        }\r\n        this.screenName = [];\r\n        for (let n = 0; n < scrnm.length; n++) {\r\n          if (scrnm[n] != undefined) {\r\n            this.screenName[this.screenName.length] = scrnm[n];\r\n          }\r\n        }\r\n\r\n        console.log(this.btnNameSelected)\r\n        if (this.btnNameSelected == null || this.btnNameSelected == undefined) {\r\n          this.btnNameSelected = this.screenName[0].tabName;\r\n        }\r\n        //end of new code regarding old roles screens 04/08\r\n        //fetch screens for tabs\r\n        // data.tabDto.forEach(function(element){\r\n        for (let tabindex = 0; tabindex < data.tabDto.length; tabindex++) {\r\n          let screen = [];\r\n          let screenslist = [];\r\n          let element = data.tabDto[tabindex];\r\n          screenslist = this.getscreenlist(arrayB, element, permissionsarray, screen, screenslist);\r\n          //fetching screen list \r\n          // console.log('arrayc', screenslist);\r\n          //  arrayB.forEach((items) => {\r\n\r\n          // }) //arrayb fntn endng\r\n          //end of fetching screen list\r\n          //fetching labels for screen\r\n          let screenvisibility = element.visibility.toString();\r\n          let label = [];\r\n          let labellist = [];\r\n          for (let i = 0; i < screenvisibility.length; i++) {\r\n            if (screenvisibility.charAt(i) == 1) {\r\n              label.push(labelsarray[i].labelName);\r\n              labellist.push(labelsarray[i]);\r\n            }\r\n          }\r\n          //end of fetching labels for screen\r\n          arrayC.push({ tabId: element.tabId, tabname: element.tabName, screens: screen, screenlist: screenslist, labels: label, labelslist: labellist });\r\n        }\r\n        this.rolessorteddata = arrayC;\r\n        // this.newRolestabsdata.tabslist = arrayC;\r\n        this.rolestype(1);\r\n        console.log('arrayc', arrayC);\r\n        //end of fetching screen for tabs\r\n      });\r\n    } else {\r\n      this.roleService.fetchnewscreenlabels().subscribe(data => {\r\n        // console.log(data);\r\n        let permissionsarray = this.preparingPermissiondto(data.screenDto, data.labelDto.length);\r\n        // let permissionsarray = data.permissionDto ; // Added - Gayathri\r\n\r\n        this.newRolesData.roleDto = data.roleDto;\r\n        this.newRolesData.permissionDto = permissionsarray;\r\n        this.newRolesData.tabDto = data.tabDto;\r\n        this.newRolesData.labelDto = data.labelDto;\r\n        this.newRolesData.screenDto = data.screenDto;\r\n        let arrayC = [];\r\n        let arrayB = data.screenDto;\r\n        let labelsarray = data.labelDto;\r\n        this.screenName = this.newRolesData.tabDto;\r\n        let scrnm: any = [];\r\n        for (let n = 0; n < this.screenName.length; n++) {\r\n          scrnm[this.screenName[n].tabId - 1] = this.screenName[n];\r\n        }\r\n        // console.log(\"scrnm: \", scrnm);\r\n        this.screenName = [];\r\n        // console.log(\"scrnm 1: \", this.screenName);\r\n        for (let n = 0; n < scrnm.length; n++) {\r\n          if (scrnm[n] != undefined) {\r\n            this.screenName[this.screenName.length] = scrnm[n];\r\n          }\r\n        }\r\n        // console.log(\"scrName 2: \", this.screenName);\r\n\r\n        //  console.log(this.btnNameSelected)\r\n        if (this.btnNameSelected == null || this.btnNameSelected == undefined) {\r\n          this.btnNameSelected = this.screenName[0].tabName;\r\n        }\r\n\r\n        for (let tabindex = 0; tabindex < data.tabDto.length; tabindex++) {\r\n          let screen = [];\r\n          let screenslist = [];\r\n          let element = data.tabDto[tabindex];\r\n          // console.log(element);\r\n          screenslist = this.getscreenlist(arrayB, element, permissionsarray, screen, screenslist);\r\n          // console.log(screenslist);\r\n          //fetching screen list \r\n          //end of fetching screen list\r\n          //fetching labels for screen\r\n          let screenvisibility = element.visibility.toString();\r\n          let label = [];\r\n          let labellist = [];\r\n          for (let i = 0; i < screenvisibility.length; i++) {\r\n            if (screenvisibility.charAt(i) == 1) {\r\n              label.push(labelsarray[i].labelName);\r\n              labellist.push(labelsarray[i]);\r\n            }\r\n          }\r\n          //end of fetching labels for screen\r\n          arrayC.push({ tabId: element.tabId, tabname: element.tabName, screens: screen, screenlist: screenslist, labels: label, labelslist: labellist });\r\n        }\r\n        // console.log(arrayC);\r\n        this.rolessorteddata = arrayC;\r\n        // this.newfmostabsdata.tabslist = arrayC;\r\n        // console.log( this.newfmostabsdata.tabslist);\r\n        this.rolestype(1);\r\n        //end of fetching screen for tabs\r\n      });\r\n    }\r\n  }\r\n  getscreenlist(arrayB, element, permissionsarray, screen, screenslist) {\r\n    /* arrayB.forEach((items) => {\r\n      if(element.tabId == items.screensId.tabId)\r\n      {\r\n        let idexist = permissionsarray.findIndex(function(item){ return item.permissionId.screenId == items.screensId.screenId}); \r\n         screen.push(items.screenName);\r\n         screenslist.push({screenname:items.screenName, screenid:items.screensId.screenId, permission:permissionsarray[idexist].permissions, newpermission:permissionsarray[idexist].permissions});\r\n      } //if \r\n    }) //arrayb fnctn endng */\r\n    for (let ind = 0; ind < arrayB.length; ind++) {\r\n      let items = arrayB[ind];\r\n      if (element.tabId == items.screensId.tabId) {\r\n        let idexist = permissionsarray.findIndex(function (item) { return item.permissionId.screenId == items.screensId.screenId });\r\n        screen.push(items.screenName);\r\n        if (idexist > -1)\r\n          screenslist.push({ screenname: items.screenName, screenid: items.screensId.screenId, permission: permissionsarray[idexist].permissions, newpermission: permissionsarray[idexist].permissions });\r\n      } //if \r\n    } //for loop endng\r\n    return screenslist;\r\n  }\r\n  // getPermission(num,event) {\r\n  //   this.roleService.fetchScreenPermissions('Roles');\r\n  //   this.cdr.markForCheck();\r\n  // }\r\n  rolestype(tabId: number) {\r\n    console.log(tabId);\r\n    // console.log(this.modifyRoleObject.roleName);\r\n    // console.log(this.rolessorteddata);\r\n\r\n    let index: number;\r\n    index = this.rolessorteddata.findIndex(function (item) { return item.tabId == tabId });\r\n    // console.log(index);\r\n    this.selectedtab = this.rolessorteddata[index].tabname;\r\n    this.indexdata = this.rolessorteddata[index];\r\n\r\n    let tabheaders = this.indexdata.labels;\r\n    let indexval = tabheaders.indexOf('Screens');\r\n    this.previouschecklist.splice(index, 0, this.checkedlist);\r\n    let checklistclass = [];\r\n    if (indexval == -1) {\r\n      tabheaders.splice(0, 0, 'Screens');\r\n      tabheaders.splice(1, 0, 'checkbox');\r\n    }\r\n    let screenslist: any = [];\r\n    let checklist: any = [];\r\n    let strchklist: any = [];\r\n    // console.log(this.indexdata,\"Index data\");\r\n    let data = this.indexdata.screenlist;\r\n    for (let i = 0; i < data.length; i++) {\r\n      let array: any = [];\r\n      var obj = {};\r\n      var checkval = {};\r\n      var testchecklist: any = [{ value: '' }, { value: '' }];\r\n      var strinchklst: any = [{ value: '' }, { value: '' }];\r\n      array.push(data[i].screenname);\r\n      obj[this.indexdata.labels[0]] = data[i].screenname;\r\n      obj[this.indexdata.labels[1]] = 'checkbox';\r\n      checkval[this.indexdata.labels[0]] = true;\r\n      checkval[this.indexdata.labels[1]] = true;\r\n      let permissiondata = data[i].newpermission.toString();\r\n      let stringlength = permissiondata.length;\r\n      //check if all occurences is checked\r\n      var temp = permissiondata;\r\n      var count = (temp.match(/1/g) || []).length;\r\n      if (stringlength == count) {\r\n        checklistclass.push(i);\r\n      }\r\n      /* if(stringlength == count)\r\n       {\r\n          testchecklist[0].value = true;\r\n          strinchklst[0].value = true;\r\n          testchecklist[1].value = true;\r\n          strinchklst[1].value = true;\r\n       } //if */\r\n      //end of checking all occurences\r\n      for (let j = 0; j < stringlength; j++) {\r\n        obj[this.indexdata.labels[2 + j]] = permissiondata.charAt(j);\r\n        if (permissiondata.charAt(j) == 1) {\r\n          checkval[this.indexdata.labels[2 + j]] = true;\r\n          testchecklist.push({ value: true });\r\n          strinchklst.push({ value: true });\r\n        }\r\n        else {\r\n          checkval[this.indexdata.labels[2 + j]] = false;\r\n          testchecklist.push({ value: false });\r\n          strinchklst.push({ value: false });\r\n        }\r\n      } //for loop endng\r\n      screenslist.push(obj);\r\n      checklist.push(testchecklist);\r\n      strchklist.push(strinchklst);\r\n    } //for loop endng\r\n    // this.displayedcolumns = tabheaders;\r\n    // this.checkedlist = checklist;\r\n    // this.storechecklist = strchklist;\r\n    // console.log(screenslist);\r\n    this.roleScreenList = screenslist;\r\n    console.log(this.roleScreenList);\r\n    for (let s = 0; s < this.roleScreenList.length; s++) {\r\n      console.log(this.roleScreenList[s], \"AUTH INside for\");\r\n      if (this.roleScreenList[s].NEW == \"0\" ||\r\n        this.roleScreenList[s].EDIT == \"0\" ||\r\n        this.roleScreenList[s].DELETE == \"0\" ||\r\n        this.roleScreenList[s].CLOSE == \"0\" ||\r\n        this.roleScreenList[s].REOPEN == \"0\" ||\r\n        this.roleScreenList[s].AUTH == \"0\" ||\r\n        this.roleScreenList[s].UNLOCK == \"0\" ||\r\n        this.roleScreenList[s].PRINT == \"0\" ||\r\n        this.roleScreenList[s].VIEW == \"0\") {\r\n        console.log(\"Tabs are Selected\");\r\n        this.selectAllChecked = false;\r\n      }\r\n      else {\r\n        this.selectAllChecked = true;\r\n      }\r\n    }\r\n\r\n    // console.log(checklist);\r\n    // console.log(strchklist);\r\n    // this.datasource.list = new MatTableDataSource(screenslist);\r\n    // this.selection.clear();\r\n    // if (this.enabledefaulttrigger)\r\n    // document.getElementById('defaultele').click();\r\n    /* if(checklistclass.length)\r\n      {\r\n        setTimeout(() => {\r\n          this.appendcheckclass(checklistclass);\r\n        }, 3000);\r\n      } //if  */\r\n  }\r\n  onSubmit() {\r\n    this.submitted = true;\r\n    this.save();\r\n  }\r\n  save() {\r\n\r\n    // this.role.maker = this.username;\r\n    console.log(this.username);\r\n    this.modifyRoleObject.makerId = this.username;\r\n    let permissionslist = [];\r\n    for (let i = 0; i < this.rolessorteddata.length; i++) {\r\n      let screenoccurence = this.rolessorteddata[i].screenlist;\r\n      for (let ind = 0; ind < screenoccurence.length; ind++) {\r\n        //if (screenoccurence[ind].permission.toString() != screenoccurence[ind].newpermission.toString()) {\r\n        // let gettabindex = this.fmosRolesData.permissionDto.findIndex(function (item) { return item.permissionId.screenId == screenoccurence[ind].screenid });\r\n        let gettabindex = this.newRolesData.permissionDto.findIndex(function (item) { return item.permissionId.screenId == screenoccurence[ind].screenid });\r\n        console.log(gettabindex);\r\n        if (gettabindex >= 0) {\r\n          // this.fmosRolesData.permissionDto[gettabindex].permissionId.roleName =  this.modifyRoleObject.roleName;\r\n          // let obj = { 'permissionId': this.fmosRolesData.permissionDto[gettabindex].permissionId };\r\n          console.log(this.modifyRoleObject);\r\n          console.log(this.myform.get('roleName').value);\r\n          this.newRolesData.permissionDto[gettabindex].permissionId.roleName = this.myform.get('roleName').value;;\r\n          let obj = { 'permissionId': this.newRolesData.permissionDto[gettabindex].permissionId };\r\n          obj[\"permissions\"] = screenoccurence[ind].newpermission;\r\n          permissionslist.push(obj);\r\n          console.log(permissionslist);\r\n        }\r\n        // } //if\r\n      } //for loop endng\r\n    } //for loop endng\r\n    console.log(this.modifyRoleObject);\r\n    this.modifyRoleObject.roleName = this.myform.get('roleName').value;\r\n    this.modifyRoleObject.roleDesc = this.myform.get('roleDesc').value;\r\n    console.log(this.modifyRoleObject);\r\n    let newRole: any = { roleDto: this.modifyRoleObject };\r\n    newRole.permissionDto = permissionslist;\r\n    console.log(newRole);\r\n    this.roleService.createnewrole(newRole)\r\n      .subscribe(role => {\r\n        console.log(role);\r\n        if (role) {\r\n          this.modifyRoleObject = role;\r\n          if (role) {\r\n            if (role.roleDto) {\r\n              this.modifyRoleObject = role.roleDto;\r\n              if (this.modifyRoleObject.recordStatus == 'Open') {\r\n                this.modifyRoleObject.recordStatus = \"OPEN\";\r\n              } else if (this.modifyRoleObject.recordStatus == 'C') {\r\n                this.modifyRoleObject.recordStatus = \"CLOSE\"\r\n              } else {\r\n                this.modifyRoleObject.recordStatus = this.editRoleScreen.queryParams.recordStatus;\r\n              }\r\n              this.modifyRoleObject.authStatus = this.editRoleScreen.queryParams.authStatus;\r\n              if (this.modifyRoleObject.authStatus == 'A') {\r\n                this.modifyRoleObject.authStatus = \"AUTHORIZED\";\r\n              }\r\n\r\n              else {\r\n                this.modifyRoleObject.authStatus = this.editRoleScreen.queryParams.authStatus;\r\n              }\r\n              this.modifyRoleObject.authStatus = \"UNAUTHORIZED\"\r\n\r\n              this.modifyRoleObject.firstTimeAuth = this.editRoleScreen.queryParams.firstTimeAuth;\r\n              if (this.modifyRoleObject.firstTimeAuth == 'Y') {\r\n                this.modifyRoleObject.firstTimeAuth = \"YES\";\r\n              } else if (this.modifyRoleObject.firstTimeAuth == 'N') {\r\n                this.modifyRoleObject.firstTimeAuth = \"NO\";\r\n              }\r\n\r\n              this.modifyRoleObject.firstTimeAuth = \"NO\";\r\n            }\r\n            this.editFlag = true;\r\n            this.submitBtn = true;\r\n            this.modifyScreen = true;\r\n            this.auditLog();\r\n\r\n            Swal.fire(\"Role is Created\")\r\n            this.fetchdynamicroles();\r\n            this.formTouched = !this.myform.touched;\r\n          }\r\n        }\r\n        else if (!role) {\r\n          Swal.fire({\r\n            icon: 'error',\r\n\r\n            text: `Role already exist or Can’t save role without any permission.`\r\n          });\r\n        }\r\n        else {\r\n          Swal.fire({\r\n            icon: 'error',\r\n\r\n            text: `\"Failed \", 'Role already exist or Can’t save role without any permission.`\r\n          });\r\n\r\n        }\r\n        // this.cdr.markForCheck();\r\n      }, error => {\r\n\r\n        // if (HttpErrorResponse) {\r\n        //   Swal.fire('Server Error', 'error')\r\n\r\n        // }\r\n\r\n      });\r\n    // this.role = new Roles();\r\n  }\r\n\r\n  isEnabled() {\r\n    // console.log(this.roleScreenList[0],\"Before\");\r\n    let enableSelectAll = true;\r\n    for (let g = 0; g < this.roleScreenList.length; g++) {\r\n      // console.log(this.roleScreenList[1],\"Before\");\r\n      if (this.roleScreenList[g].NEW == '0' || this.roleScreenList[g].EDIT == '0' || this.roleScreenList[g].DELETE == '0' ||\r\n        this.roleScreenList[g].CLOSE == '0' || this.roleScreenList[g].REOPEN == '0' || this.roleScreenList[g].AUTH == '0' ||\r\n        this.roleScreenList[g].UNLOCK == '0' || this.roleScreenList[g].PRINT == '0' || this.roleScreenList[g].VIEW == '0') {\r\n        // console.log(g);\r\n        enableSelectAll = false;\r\n      }\r\n\r\n\r\n      // if(this.roleScreenList[g].NEW == '0' && this.roleScreenList[g].EDIT == '0' && this.roleScreenList[g].DELETE == '0' &&\r\n      // this.roleScreenList[g].CLOSE == '0' && this.roleScreenList[g].REOPEN == '0' && this.roleScreenList[g].AUTH == '0' &&\r\n      // this.roleScreenList[g].UNLOCK == '0' && this.roleScreenList[g].PRINT == '0' && this.roleScreenList[g].VIEW == '0'){\r\n      //   // console.log(g);\r\n      //   return false;\r\n      // }\r\n      // if(this.roleScreenList[g].NEW == '1' && this.roleScreenList[g].EDIT == '1' && this.roleScreenList[g].DELETE == '1' &&\r\n      // this.roleScreenList[g].CLOSE == '1' && this.roleScreenList[g].REOPEN == '1' && this.roleScreenList[g].AUTH == '1' &&\r\n      // this.roleScreenList[g].UNLOCK == '1' && this.roleScreenList[g].PRINT == '1' && this.roleScreenList[g].VIEW == '1'){\r\n      //   // console.log(this.roleScreenList,\"Elsssssssssssss/ssss\");\r\n      //   return true;\r\n      // }\r\n\r\n    }\r\n\r\n    return enableSelectAll;\r\n    // console.log(this.roleScreenList,\"After\");\r\n  }\r\n\r\n  clickAllAction(action, event) {\r\n    // console.log(this.checkAll);\r\n    console.log(action, event);\r\n    console.log(this.roleScreenList, \"Role screen list\");\r\n    for (let s = 0; s < this.roleScreenList.length; s++) {\r\n      console.log(this.roleScreenList[s], \"AUTH INside for\");\r\n      this.roleScreenList[s].NEW = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].EDIT = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].DELETE = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].CLOSE = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].REOPEN = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].AUTH = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].UNLOCK = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].PRINT = (event) ? \"1\" : \"0\";\r\n      this.roleScreenList[s].VIEW = (event) ? \"1\" : \"0\";\r\n      console.log(action, event);\r\n      if (event == true) {\r\n        this.selectAllChecked = true;\r\n      }\r\n      if (event == false) {\r\n        this.selectAllChecked = false;\r\n      }\r\n    }\r\n    for (let r = 0; r < this.roleScreenList.length; r++) {\r\n      for (let m = 0; m < this.rolessorteddata.length; m++) {\r\n        if (this.rolessorteddata[m].tabname == this.btnNameSelected) {\r\n          for (let n = 0; n < this.rolessorteddata[m].screenlist.length; n++) {\r\n            if (this.rolessorteddata[m].screenlist[n].screenname == this.roleScreenList[r].Screens) {\r\n              let newperm1 = this.rolessorteddata[m].screenlist[n].newpermission;\r\n              let newperm = newperm1.split('');\r\n              for (let p = 0; p < this.rolessorteddata[m].labelslist.length; p++) {\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"NEW\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].NEW;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"EDIT\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].EDIT;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"DELETE\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].DELETE;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"CLOSE\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].CLOSE;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"REOPEN\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].REOPEN;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"UNLOCK\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].UNLOCK;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"PRINT\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].PRINT;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"AUTH\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].AUTH;\r\n                }\r\n                if (this.rolessorteddata[m].labelslist[p].labelName == \"VIEW\") {\r\n                  newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = this.roleScreenList[r].VIEW;\r\n                }\r\n                newperm1 = newperm.join('');\r\n              }\r\n\r\n              this.rolessorteddata[m].screenlist[n].newpermission = newperm1;\r\n            }\r\n          }\r\n\r\n          //  console.log(action,\"action\");\r\n          //  console.log(event,\"event\");\r\n          console.log(this.rolessorteddata);\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(this.roleScreenList);\r\n    // console.log(this.checkAll);\r\n\r\n  }\r\n  clickRoleAction1() {\r\n    this.button();\r\n  }\r\n  clickRoleAction(roles, action, event, i, roleScreenList?) {\r\n\r\n    this.isDisable = false;\r\n    console.log(this.roleScreenList)\r\n    console.log(roles, \"Roles\");\r\n    console.log(action, \"action\");\r\n    console.log(event, \"event\");\r\n\r\n    this.button();\r\n\r\n    // if(roles.AUTH)\r\n    console.log(roles.Screens);\r\n    console.log(roles.NEW);\r\n    // let check = true;\r\n    // for (let index = 0; index < roleScreenList.length; index++) {\r\n    //   if (roleScreenList[index].AUTH == \"1\" && roleScreenList[index].NEW == \"1\" && roleScreenList[index].DELETE == \"1\" && roleScreenList[index].VIEW == \"1\" && roleScreenList[index].CLOSE == \"1\" && roleScreenList[index].REOPEN == \"1\" && roleScreenList[index].EDIT == \"1\") {\r\n    //     debugger\r\n    //     if (roleScreenList[index].SELECTALL == \"1\") {\r\n\r\n    //       this.selectAllChecked = true;\r\n    //     }\r\n    //     //roleScreenList[index].SELECTALL = 1;\r\n    //     this.check = true;\r\n    //     console.log(this.check);\r\n    //     console.log(roles.SELECTALL);\r\n\r\n\r\n    //   }\r\n    // }\r\n    // if (roles) {\r\n    //   this.selectAllChecked = true;\r\n    //   console.log(this.selectAllChecked);\r\n\r\n    // } else {\r\n    //   this.selectAllChecked = false\r\n    // }\r\n\r\n\r\n\r\n\r\n    if (roles.AUTH) {\r\n      console.log(this.selectAllChecked);\r\n      // this.selectAllChecked=false;\r\n    }\r\n    console.log(this.modifyRoleObject);\r\n    console.log(this.modifyRoleObject.roleName);\r\n    if (this.modifyRoleObject.roleName) {\r\n      if (action == \"NEW\" || action == \"SELECTALL\") {\r\n        roles.NEW = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n        console.log(roles.NEW, \"Inside New If\");\r\n      }\r\n      if (action == \"EDIT\" || action == \"SELECTALL\") {\r\n        roles.EDIT = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n      }\r\n      if (action == \"DELETE\" || action == \"SELECTALL\") {\r\n        roles.DELETE = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n      }\r\n      if (action == \"CLOSE\" || action == \"SELECTALL\") {\r\n        roles.CLOSE = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n      }\r\n      if (action == \"REOPEN\" || action == \"SELECTALL\") {\r\n        roles.REOPEN = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n      }\r\n      if (action == \"UNLOCK\" || action == \"SELECTALL\") {\r\n        roles.UNLOCK = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n      }\r\n      if (action == \"PRINT\" || action == \"SELECTALL\") {\r\n        roles.PRINT = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n      }\r\n      if (action == \"AUTH\" || action == \"SELECTALL\") {\r\n        roles.AUTH = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"1\";\r\n      }\r\n      if (action == \"VIEW\" || action == \"SELECTALL\") {\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (this.roleScreenList[i].AUTH == 1 || this.roleScreenList[i].CLOSE == 1 ||\r\n        this.roleScreenList[i].DELETE == 1 || this.roleScreenList[i].EDIT == 1 ||\r\n        this.roleScreenList[i].NEW == 1 || this.roleScreenList[i].PRINT == 1 ||\r\n        this.roleScreenList[i].REOPEN == 1) {\r\n\r\n        roles.VIEW = \"1\"\r\n      }\r\n      if (this.roleScreenList[i].AUTH == 1 && this.roleScreenList[i].CLOSE == 1 &&\r\n        this.roleScreenList[i].DELETE == 1 && this.roleScreenList[i].EDIT == 1 &&\r\n        this.roleScreenList[i].NEW == 1 && this.roleScreenList[i].REOPEN == 1) {\r\n\r\n        roles.VIEW = \"1\"\r\n        roles.SELECTALL = \"1\"\r\n        console.log(roles.SELECTALL);\r\n\r\n      }\r\n    }\r\n    else {\r\n      if (action == \"NEW\" || action == \"SELECTALL\") {\r\n        roles.NEW = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"EDIT\" || action == \"SELECTALL\") {\r\n        roles.EDIT = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"DELETE\" || action == \"SELECTALL\") {\r\n        roles.DELETE = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"CLOSE\" || action == \"SELECTALL\") {\r\n        roles.CLOSE = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"REOPEN\" || action == \"SELECTALL\") {\r\n        roles.REOPEN = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"UNLOCK\" || action == \"SELECTALL\") {\r\n        roles.UNLOCK = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"PRINT\" || action == \"SELECTALL\") {\r\n        roles.PRINT = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"AUTH\" || action == \"SELECTALL\") {\r\n        roles.AUTH = (event) ? \"1\" : \"0\";\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n      if (action == \"VIEW\" || action == \"SELECTALL\") {\r\n        roles.VIEW = (event) ? \"1\" : \"0\";\r\n      }\r\n\r\n      if (this.roleScreenList[i].AUTH == 1 || this.roleScreenList[i].CLOSE == 1 ||\r\n        this.roleScreenList[i].DELETE == 1 || this.roleScreenList[i].EDIT == 1 ||\r\n        this.roleScreenList[i].NEW == 1 || this.roleScreenList[i].PRINT == 1 ||\r\n        this.roleScreenList[i].REOPEN == 1) {\r\n\r\n        roles.VIEW = \"1\"\r\n\r\n\r\n      }\r\n      if (this.roleScreenList[i].AUTH == 1 && this.roleScreenList[i].CLOSE == 1 &&\r\n        this.roleScreenList[i].DELETE == 1 && this.roleScreenList[i].EDIT == 1 &&\r\n        this.roleScreenList[i].NEW == 1 && this.roleScreenList[i].REOPEN == 1) {\r\n\r\n        roles.VIEW = \"1\"\r\n        roles.SELECTALL = \"1\"\r\n        console.log(roles.SELECTALL);\r\n\r\n      }\r\n\r\n\r\n    }\r\n\r\n    for (let m = 0; m < this.rolessorteddata.length; m++) {\r\n      if (this.rolessorteddata[m].tabname == this.btnNameSelected) {\r\n        for (let n = 0; n < this.rolessorteddata[m].screenlist.length; n++) {\r\n          if (this.rolessorteddata[m].screenlist[n].screenname == roles.Screens) {\r\n            let newperm1 = this.rolessorteddata[m].screenlist[n].newpermission;\r\n            let newperm = newperm1.split('');\r\n            for (let p = 0; p < this.rolessorteddata[m].labelslist.length; p++) {\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"NEW\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.NEW;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"EDIT\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.EDIT;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"DELETE\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.DELETE;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"CLOSE\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.CLOSE;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"REOPEN\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.REOPEN;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"UNLOCK\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.UNLOCK;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"PRINT\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.PRINT;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"AUTH\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.AUTH;\r\n              }\r\n              if (this.rolessorteddata[m].labelslist[p].labelName == \"VIEW\") {\r\n                newperm[this.rolessorteddata[m].labelslist[p].labelId - 1] = roles.VIEW;\r\n              }\r\n              newperm1 = newperm.join('');\r\n            }\r\n\r\n            this.rolessorteddata[m].screenlist[n].newpermission = newperm1;\r\n          }\r\n        }\r\n\r\n        console.log(roles, \"Roles\");\r\n        // console.log(event,\"event\");\r\n        console.log(this.rolessorteddata);\r\n\r\n        // this.isEnabled();\r\n      }\r\n    }\r\n\r\n  }\r\n  reset() {\r\n    this.validationResponse = null;\r\n    this.modifyRoleObject = new Roles();\r\n    this.roleScreenList = null;\r\n    this.rolestype(1);\r\n    // this.router.navigate(['/dashboard']);\r\n  }\r\n  auditLog() {\r\n    if (this.modifyRoleObject.authStatus == 'U' || this.modifyRoleObject.authStatus == 'Unauthorized' || this.modifyRoleObject.authStatus == 'UNAUTHORIZED') {\r\n      this.modifyRoleObject.authStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (this.modifyRoleObject.authStatus == 'A' || this.modifyRoleObject.authStatus == 'Authorized' || this.modifyRoleObject.authStatus == 'AUTHORIZED') {\r\n      this.modifyRoleObject.authStatus = 'AUTHORIZED'\r\n    }\r\n    if (this.modifyRoleObject.recordStatus == 'O' || this.modifyRoleObject.recordStatus == 'Open') {\r\n      this.modifyRoleObject.recordStatus = 'OPEN'\r\n    }\r\n    if (this.modifyRoleObject.recordStatus == 'C' || this.modifyRoleObject.recordStatus == 'Close') {\r\n      this.modifyRoleObject.recordStatus = 'CLOSED'\r\n    }\r\n    if (this.modifyRoleObject.firstTimeAuth == 'N') {\r\n      console.log(\"NO\");\r\n      this.modifyRoleObject.firstTimeAuth = 'NO'\r\n    }\r\n    if (this.modifyRoleObject.firstTimeAuth == 'Y') {\r\n      this.modifyRoleObject.firstTimeAuth = 'YES'\r\n    }\r\n  }\r\n\r\n    canExit() : Promise<boolean> {\r\n      let isExit :boolean = false;\r\n      if ((this.myform.touched && this.formTouched == true) || (this.modifyRoleObject)) {\r\n      return Swal.fire({ \r\n        text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info',\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n        else {\r\n          isExit = false;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n\r\n      });\r\n    }\r\n    else {\r\n      isExit = true;\r\n      return new Promise((resolve, reject) => {\r\n        if (isExit === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          resolve(true);\r\n        }\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n  createRole() {\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {}\r\n    }\r\n    this.roleService.sendNavParam(navigationExtras);\r\n\r\n  }\r\n  openDialog(content) {\r\n    console.log(content, \"DetailsDTO\");\r\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title', windowClass: \"my-class\" }).result.then((result) => {\r\n      this.closeResult = `Closed with: ${result}`;\r\n    }, (reason) => {\r\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n    });\r\n  }\r\n  private getDismissReason(reason: any): string {\r\n    console.log(reason);\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'by pressing ESC';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'by clicking on a backdrop';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n\r\n  public accept(val) {\r\n    console.log(val);\r\n    this.acceptval = val;\r\n    if (this.acceptval == 'YES') {\r\n      localStorage.setItem('PageDeactivate', this.acceptval);\r\n      this.pageDeactive = localStorage.getItem('PageDeactivate');\r\n      console.log(this.pageDeactive, \"Page Deactivate\");\r\n    }\r\n\r\n  }\r\n\r\n  public reject() {\r\n    this.modalService.dismissAll();\r\n  }\r\n}\r\n\r\n\r\nexport class UsernameValidator {\r\n  static cannotContainSpace(control: AbstractControl): ValidationErrors | null {\r\n    if ((control.value as string).indexOf(' ') >= 0) {\r\n      return { cannotContainSpace: true }\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Role Management</h2>\r\n  </div>\r\n\r\n  <div class=\"dbCardStyle\">\r\n    <div class=\"row g-3 pb-3 justify-content-end\">\r\n      <div class=\"col-auto\" *ngIf=\"roleCodes.new\">\r\n        <button\r\n          (click)=\"createRole()\"\r\n          [routerLinkActive]=\"['active']\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          {{ roleCodes.new.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <button\r\n          [routerLink]=\"['/dashboard']\"\r\n          class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n        >\r\n          Exit\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n    <table\r\n      datatable\r\n      [dtOptions]=\"dtOptions\"\r\n      [dtTrigger]=\"dtTrigger\"\r\n      class=\"dataTable table tableStyle tableStyleSelect   nowrap vAlignMdl\"\r\n      style=\"width: 100%\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <th>Role Name</th>\r\n          <th>Role Description</th>\r\n          <th>Auth Status</th>\r\n          <th>Record Status</th>\r\n          <th>Date</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let roles of allRoles\">\r\n          <td>\r\n            <a\r\n              (click)=\"getRole(roles)\"\r\n              class=\"link-color\"\r\n              style=\"cursor: pointer\"\r\n              >{{ roles.roleName }}</a\r\n            >\r\n          </td>\r\n          <td>{{ roles.roleDesc }}</td>\r\n          <td>{{ roles.authStatus }}</td>\r\n          <td>{{ roles.recordStatus }}</td>\r\n          <td>{{ roles.makerDtStamp | date: 'medium' }}</td>\r\n          <td>\r\n            <button\r\n              class=\"btn\"\r\n              style=\"color: red\"\r\n              title=\"Authorize\"\r\n              [disabled]=\"\r\n                !(roles.authStatus == 'U' || roles.authStatus == 'Unauthorized')\r\n              \"\r\n              (click)=\"verifyRole(roles)\"\r\n            >\r\n              <img class=\"summaryIcon\" src=\"assets/images/authorize.svg\" alt=\"Authorize\" />\r\n            </button>\r\n            <button\r\n              class=\"btn\"\r\n              style=\"color: red\"\r\n              title=\"Delete\"\r\n              *ngIf=\"roles.firstTimeAuth == 'NO' || roles.firstTimeAuth == 'N'\"\r\n              (click)=\"deleteRole(roles)\"\r\n            >\r\n              <img class=\"summaryIcon\" src=\"assets/images/delete.svg\" alt=\"...\" />\r\n            </button>\r\n            <button\r\n              class=\"btn\"\r\n              style=\"color: red\"\r\n              title=\"Close\"\r\n              *ngIf=\"\r\n                (roles.recordStatus == 'OPEN' ||\r\n                  roles.recordStatus == 'Open') &&\r\n                (roles.firstTimeAuth == 'YES' || roles.firstTimeAuth == 'Y') &&\r\n                roleCodes.close\r\n              \"\r\n              (click)=\"closeRecord(roles)\"\r\n            >\r\n              <img class=\"summaryIcon\" src=\"assets/images/CROSS1.svg\" alt=\"...\" />\r\n            </button>\r\n            <button\r\n              class=\"btn\"\r\n              style=\"color: red\"\r\n              title=\"Reopen\"\r\n              *ngIf=\"\r\n                (roles.recordStatus == 'CLOSED' ||\r\n                  roles.recordStatus == 'Close') &&\r\n                (roles.firstTimeAuth == 'YES' || roles.firstTimeAuth == 'Y') &&\r\n                roleCodes.reopen\r\n              \"\r\n              (click)=\"reopenRecord(roles)\"\r\n            >\r\n              <img class=\"summaryIcon\" src=\"assets/images/open.svg\" alt=\"...\" />\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n    <ng-container *ngIf=\"isLoading\">\r\n      <div class=\"loading-page-center\">\r\n        <span class=\"indicator-progress\"\r\n          >Please wait...\r\n          <span\r\n            class=\"spinner-border spinner-border-sm align-middle ms-2\"\r\n          ></span\r\n        ></span>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnInit,\r\n  AfterViewInit,\r\n  ViewChild,\r\n  ViewChildren,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { Roles } from 'src/app/shared/models/role';\r\nimport { ApiService } from 'src/app/shared/services/api.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'npr-role-list',\r\n  templateUrl: './role-list.component.html',\r\n  styleUrls: ['./role-list.component.scss'],\r\n})\r\nexport class RoleListComponent implements OnInit, OnDestroy {\r\n  allRoles: Array<Roles>;\r\n  isLoading: boolean = false;\r\n  userRoles: string[];\r\n  roleCodes = new permissionsLabels();\r\n  dataSource: any;\r\n  dtOptions: DataTables.Settings = {};\r\n  dtTrigger: Subject<any> = new Subject<any>();\r\n\r\n  statusArr: String[] = ['Authorized', 'Unauthorized', 'Open', 'Close'];\r\n  updatedRoleObject: any;\r\n  username: string;\r\n  modifyRoleObject: Roles = new Roles();\r\n\r\n  deleteStatusFlag: Object;\r\n  openBtn: boolean = true;\r\n  closeBtn: boolean = true;\r\n  // @ViewChildren(MatPaginator) paginator: MatPaginator;\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    public roleService: RoleService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getRoles();\r\n    this.dtOptions = {\r\n      pagingType: 'full_numbers',\r\n      pageLength: 5,\r\n      processing: true,\r\n      columnDefs: [{ type: 'date', targets: [4] }],\r\n      order: [[4, 'desc']],\r\n      lengthMenu: [\r\n        [5, 10, 20, 30,-1],\r\n        [5, 10, 20, 30,\"ALL\"],\r\n      ],\r\n    };\r\n    this.roleService.fetchScreenPermissions('Roles');\r\n    this.roleService.screenLabelList.subscribe(\r\n      (message) => (this.roleCodes = message)\r\n    );\r\n    console.log(this.roleCodes);\r\n    this.username = localStorage.getItem('userFromLogin').replace(/['\"]+/g, '');\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n\r\n  getRoles() {\r\n    this.isLoading = true;\r\n    this.api.getAllRoles().subscribe((data) => {\r\n      for (let item of data.result) {\r\n        item.authStatus = this.statusArr.find((i) =>\r\n          i.startsWith(item.authStatus)\r\n        );\r\n\r\n        item.recordStatus = this.statusArr.find((i) =>\r\n          i.startsWith(item.recordStatus)\r\n        );\r\n      }\r\n      this.allRoles = data.result;\r\n      this.isLoading = false;\r\n      this.cdr.markForCheck();\r\n\r\n      console.log(this.allRoles);\r\n      this.dtTrigger.next();\r\n\r\n      // this.dataSource = new MatTableDataSource<Roles>( this.allRoles );\r\n      // this.dataSource.paginator = this.paginator;\r\n    });\r\n  }\r\n\r\n  getRole(userObject) {\r\n    this.modifyRoleObject = userObject;\r\n    console.log('inside modify');\r\n    console.log(this.modifyRoleObject);\r\n    this.roleService.setIndexValue({\r\n      index: 'edit',\r\n    });\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        id: this.modifyRoleObject.id,\r\n        roleName: this.modifyRoleObject.roleName,\r\n        roleDesc: this.modifyRoleObject.roleDesc,\r\n        new1: this.modifyRoleObject.new1,\r\n        copy1: this.modifyRoleObject.copy1,\r\n        delete1: this.modifyRoleObject.delete1,\r\n        close1: this.modifyRoleObject.close1,\r\n        unlock1: this.modifyRoleObject.unlock1,\r\n        reopen1: this.modifyRoleObject.reopen1,\r\n        print1: this.modifyRoleObject.print1,\r\n        auth1: this.modifyRoleObject.auth1,\r\n        view1: this.modifyRoleObject.view1,\r\n        makerId: this.modifyRoleObject.makerId,\r\n        makerDtStamp: this.modifyRoleObject.makerDtStamp,\r\n        checkerId: this.modifyRoleObject.checkerId,\r\n        checkerDtStamp: this.modifyRoleObject.checkerDtStamp,\r\n        recordStatus: this.modifyRoleObject.recordStatus,\r\n        authStatus: this.modifyRoleObject.authStatus,\r\n        firstTimeAuth: this.modifyRoleObject.firstTimeAuth,\r\n        version: this.modifyRoleObject.version,\r\n      },\r\n    };\r\n    localStorage.setItem('roleNavObj', JSON.stringify(this.modifyRoleObject));\r\n    this.roleService.sendNavParam(navigationExtras);\r\n    this.router.navigate(['/roles/create']);\r\n    //this.router.navigate(['/roles/search'], navigationExtras);\r\n  }\r\n  createRole() {\r\n    localStorage.removeItem('roleNavObj');\r\n    this.router.navigate(['/roles/create']);\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {},\r\n    };\r\n\r\n    this.roleService.sendNavParam(navigationExtras);\r\n    this.roleService.setIndexValue({\r\n      index: 'new',\r\n    });\r\n  }\r\n  verifyRole(roles) {\r\n    console.log(roles.makerId, this.username);\r\n    if (roles.makerId === this.username) {\r\n      Swal.fire({ text: 'Maker Cannot Authorize Record!', icon: 'error' });\r\n      return;\r\n    } else {\r\n      // this.roleService.verifyRole(roleName, this.username).subscribe(data => {\r\n      //   this.updatedRoleObject = data;\r\n      //   this.cdr.markForCheck();\r\n      //   this.modifyRoleObject = this.updatedRoleObject;\r\n      Swal.fire({\r\n        text:\r\n          'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info',\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          this.roleService\r\n            .verifyRole(roles.roleName, this.username)\r\n            .subscribe((data) => {\r\n              this.updatedRoleObject = data;\r\n              this.cdr.markForCheck();\r\n              this.modifyRoleObject = this.updatedRoleObject;\r\n              if (this.modifyRoleObject) {\r\n                // this.auditLog();\r\n                Swal.fire({\r\n                  text: 'Role is Authorized',\r\n                  icon: 'success',\r\n                }).then(() => window.location.reload());\r\n              }\r\n            });\r\n        }\r\n      });\r\n      // Swal.fire(\"Role is Authorized \");\r\n\r\n      // });\r\n    }\r\n  }\r\n  deleteRole(roles) {\r\n    // this.roleService.deleteRole(roleName, this.username).subscribe(data => {\r\n    //   console.log('user is deleted');\r\n\r\n    Swal.fire({\r\n      text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#E6224A',\r\n      cancelButtonColor: '#011945',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES',\r\n      icon: 'info',\r\n    }).then((result) => {\r\n      if (result.isConfirmed === true) {\r\n        this.roleService\r\n          .deleteRole(roles.roleName, this.username)\r\n          .subscribe((data) => {\r\n            //console.log('deleteData', datafrombackendtoDelete);\r\n            this.deleteStatusFlag = data;\r\n            if (this.deleteStatusFlag) {\r\n              Swal.fire({\r\n                text: 'Role is Deleted',\r\n                icon: 'success',\r\n              }).then(() => window.location.reload());\r\n              // this.router.navigate(['/roles/list']);\r\n            }\r\n          });\r\n      }\r\n    });\r\n    if (this.deleteStatusFlag === false) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n\r\n        text: 'Failed to Delete Record ',\r\n      });\r\n    }\r\n    // });\r\n  }\r\n\r\n  reopenRecord(roles) {\r\n    Swal.fire({\r\n      text: 'You are trying to Reopen record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#E6224A',\r\n      cancelButtonColor: '#011945',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES',\r\n      icon: 'info',\r\n    }).then((result) => {\r\n      if (result.isConfirmed === true) {\r\n        this.roleService\r\n          .reopenRecord(roles.roleName, this.username)\r\n          .subscribe((data) => {\r\n            this.updatedRoleObject = data;\r\n            this.cdr.markForCheck();\r\n            this.modifyRoleObject = this.updatedRoleObject;\r\n            console.log('user is reopened');\r\n            this.openBtn = false;\r\n            this.closeBtn = false;\r\n            if (this.updatedRoleObject) {\r\n              // this.auditLog();\r\n              Swal.fire({\r\n                text: 'Role is Reopened',\r\n                icon: 'success',\r\n              }).then(() => window.location.reload());\r\n            }\r\n          });\r\n      }\r\n    });\r\n    if (this.deleteStatusFlag === false) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n\r\n        text: 'Failed to Reopened Record ',\r\n      });\r\n    }\r\n  }\r\n  closeRecord(roles) {\r\n    Swal.fire({\r\n      text: 'You are trying to Closed record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#E6224A',\r\n      cancelButtonColor: '#011945',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES',\r\n      icon: 'info',\r\n    }).then((result) => {\r\n      if (result.isConfirmed === true) {\r\n        this.roleService\r\n          .closelockRecord(roles.roleName, this.username)\r\n          .subscribe((data) => {\r\n            this.updatedRoleObject = data;\r\n            this.cdr.markForCheck();\r\n            this.modifyRoleObject = this.updatedRoleObject;\r\n            console.log('role is closed', this.updatedRoleObject.recordStatus);\r\n            this.openBtn = false;\r\n            this.closeBtn = false;\r\n            if (this.updatedRoleObject) {\r\n              // this.auditLog();\r\n              Swal.fire({\r\n                text: 'Role is Closed',\r\n                icon: 'success',\r\n              }).then(() => window.location.reload());\r\n            }\r\n          });\r\n      }\r\n    });\r\n    if (this.updatedRoleObject === false) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n\r\n        text: 'Failed to Closed Record ',\r\n      });\r\n    }\r\n    // Swal.fire(\"Role is Closed \");\r\n    // }\r\n\r\n    // });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CanDeactivateGuard } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { RoleDetailsComponent } from './role-details/role-details.component';\r\nimport { RoleListComponent } from './role-list/role-list.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'list',\r\n    component: RoleListComponent\r\n  },{\r\n    path: 'create',\r\n    component: RoleDetailsComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path: 'details/:id',\r\n    component: RoleDetailsComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RolesRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RolesRoutingModule } from './roles-routing.module';\r\nimport { RoleListComponent } from './role-list/role-list.component';\r\nimport { RoleDetailsComponent } from './role-details/role-details.component';\r\nimport { ComponentsModule } from 'src/app/shared/components/components.module';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RoleListComponent,\r\n    RoleDetailsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    ComponentsModule,\r\n    RolesRoutingModule,\r\n    DataTablesModule,\r\n  ]\r\n})\r\nexport class RolesModule { }\r\n"]}