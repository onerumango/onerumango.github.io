{"version":3,"mappings":"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A;;AAAgCA;;AACrCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAgBA;;AACpBA;;AACEA;;;;AAGFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AAAGA;;AAAmCA;;AACxCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAOA;;AACXA;;AAAGA;;AAAiCA;;AACtCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAkBA;;AACtBA;;AACEA;;;;AAGFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAwBA;;AAC5BA;;AAAGA;;AAAmCA;;AACxCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAoBA;;AACxBA;;AAAGA;;AAAqCA;;AAC1CA;;AACFA;;AACFA;;AACFA;;AACFA;;AAEAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAmBA;;AAEvBA;;AAAGA;;AAAgCA;;AACrCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;;;;;AAhJiBA;;AAAAA;;AAkBDA;;AAAAA;;AAoBCA;;AAAAA;;AAiBAA;;AAAAA;;AAkBDA;;AAAAA;;AAoBC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","names":["_angular_core__WEBPACK_IMPORTED_MODULE_7__","ctx_r64","value","RuleTranslationDetailsComponent","rules","roleService","addSystem","router","cdr","_route","formBuilder","datePipe","elementRef","canDeactivateGuard","toastService","msgTranslation","translationDTO","rxjs__WEBPACK_IMPORTED_MODULE_8__","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_0__","currentUser","localStorage","getItem","ruleTransForm","group","transId","systemCode","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","messageType","serviceName","operationName","msgTransDetails","array","gettingExternalsystem","fetchingHeadertag","getById","snapshot","params","fetchScreenPermissions","screenLabelList","subscribe","roleCodes","message","setTimeout","console","log","disable","ruleTranslationBasedonId","resp","translationDeatils","editRuleTransResp","ruleTRespData","get","setValue","patchValue","index","length","addTransaltionGroup","item","at","Object","formattedMessageBasis","messageKey","messagebasis","markForCheck","onSelectionOFMessageType","onSlectionExternalSystem","gettingoperationAndService","recordStatus","reopenBtn","authBtnHide","approvedStatus","authBtn","extSysResp","externalSystem","err","event","sourcesystem","isExit","touched","formTouched","sweetalert2__WEBPACK_IMPORTED_MODULE_1___default","text","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","icon","then","result","isConfirmed","Promise","resolve","reject","msgType","source","logginuser","translationResp","messageBasisData","MdmtSystemService","mdmtSystemChannel","MdmtSystemChannel","keys","x","y","I","SERVICE","headerValue","translationDataOperation","multipleService","OPERATION","multipleOperation","translationDataService","O","showFetch","messageChannel","showFormat","messageFormat","fetchingIso","coulmnNameBasedonTableName","dbConnectString","dbServiceName","dbUsername","dbPassword","sysService","split","forEach","columnNameDD","push","element","getMtApi","mTMxResp","getMxApi","updatedFormData","map","data","rest","msgTranslationDet","ruleRecord","editruleTranslation","ruleTranslationResp","submit","showAuditLog","editValue","hideSubmit","showRecords","headerTag","defaultValue","systemChannelId","encryption","id","dataType","getTranslationItem","title","showDenyButton","denyButtonText","removeAt","selectedFiles","target","files","name","fileName","fileUploadWrapper","nativeElement","setAttribute","currentFileUpload","gettingBodyOfXml","xmlHttpResp","xmlRespData","afterupload","messageBasisIso","nodeTagList","fetchingHeaderTag","headerTagData","fetchingIsoForTcp","isoResp","matlabel1","fieldName","messageKeyIso","fieldNo","toString","gettinXMLmsgIncoming","xmlResp","messageBasis","displaySubmit","onlysubmit","document","getElementById","click","creatorId","RuleTranslationData","response","approverId","authorizeDone","hideAction","enable","iconColor","editBtn","deleted","deleteRuleTranslation","status","showdelete","closeBtn","navigateByUrl","i","dateValue","transform","Date","d","getHours","getMinutes","selectors","viewQuery","_angular_common__WEBPACK_IMPORTED_MODULE_12__","decls","vars","consts","template","routes","path","component","_rule_translation_rule_translation_component__WEBPACK_IMPORTED_MODULE_2__","_rule_translation_summary_rule_translation_summary_component__WEBPACK_IMPORTED_MODULE_1__","_rule_translation_details_rule_translation_details_component__WEBPACK_IMPORTED_MODULE_0__","RuleTranslationRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_4__","imports","exports","RuleTranslationSummaryComponent","ruleService","http","src_app_shared_config_app_constant__WEBPACK_IMPORTED_MODULE_2__","dtOptions","pagingType","pageLength","columnDefs","type","order","serverSide","lengthMenu","ajax","dataTablesParameters","callback","minNumber","start","maxNumber","pageNo","Math","floor","pageSize","search","API_URL","statusArr","find","startsWith","totalPages","totalNoOfPages","totalRecords","translationList","isLoading","recordsTotal","recordsFiltered","fetchingruleTranslation","dtTrigger","next","row","navigate","unsubscribe","window","location","reload","RuleTranslationModule","_angular_common__WEBPACK_IMPORTED_MODULE_6__","_rule_translation_routing_module__WEBPACK_IMPORTED_MODULE_0__","_angular_forms__WEBPACK_IMPORTED_MODULE_7__","angular_datatables__WEBPACK_IMPORTED_MODULE_2__","_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_8__","declarations","_rule_translation_rule_translation_component__WEBPACK_IMPORTED_MODULE_1__","_rule_translation_summary_rule_translation_summary_component__WEBPACK_IMPORTED_MODULE_3__","_rule_translation_details_rule_translation_details_component__WEBPACK_IMPORTED_MODULE_4__","_angular_core__WEBPACK_IMPORTED_MODULE_6__","_r31","data_r54","RuleTranslationComponent","rxjs__WEBPACK_IMPORTED_MODULE_7__","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","forCheck","tempArrayList","splice","desSystem","valid","setErrors","approvedEver","sort","sourcesysData","clear","getAddSystem","messsageType","messageArr","auditLog","recordSaved","hideEdit","submitFlag","disableSubmit","disableReset","submittingruleTranslation","error","dbConnectionList","controls","reset","uploadXmlResp","operation","operationType","nodeValueMap","key","isoRespData","fieldNoList","filter","e","extValue","toLowerCase","option","includes","_angular_common__WEBPACK_IMPORTED_MODULE_10__"],"sources":["webpack:///src/app/views/rule-translation/rule-translation-details/rule-translation-details.component.html","webpack:///src/app/views/rule-translation/rule-translation-details/rule-translation-details.component.ts","webpack:///src/app/views/rule-translation/rule-translation-routing.module.ts","webpack:///src/app/views/rule-translation/rule-translation-summary/rule-translation-summary.component.html","webpack:///src/app/views/rule-translation/rule-translation-summary/rule-translation-summary.component.ts","webpack:///src/app/views/rule-translation/rule-translation.module.ts","webpack:///src/app/views/rule-translation/rule-translation/rule-translation.component.html","webpack:///src/app/views/rule-translation/rule-translation/rule-translation.component.ts"],"sourcesContent":["<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Translation</h2>\r\n  </div>\r\n  <form class=\"formStyle\" *ngIf=\"ruleTransForm\" [formGroup]=\"ruleTransForm\">\r\n    <fieldset [disabled]=\"!editValue\">\r\n    <div class=\"dbCardStyle\">\r\n  \r\n      <div class=\"row gy-4 align-items-end\">\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Source System<span class=\"colorRed\">*</span></label>\r\n          <!-- <ng-select id=\"outlineNgSelect\" [readonly]=\"!editValue\"\r\n            id=\"sysCode\"\r\n            formControlName=\"systemCode\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSlectionExternalSystem($event)\"\r\n            required\r\n          > -->\r\n          <ng-select id=\"outlineNgSelect\" [readonly]=\"!editValue\"\r\n            id=\"sysCode\"\r\n            formControlName=\"systemCode\"\r\n            [clearable]=\"false\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSlectionExternalSystem($event)\"\r\n            required\r\n          >\r\n          <ng-option hidden value=\"\" disabled selected>Please select System</ng-option>\r\n            <!-- <ng-option value=\"\" [selected]=\"isSelected\">--Please Select---</ng-option> -->\r\n            <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\">\r\n              {{ extsys }}\r\n            </ng-option>\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Message Type</label>\r\n\r\n          <select\r\n            id=\"msgType\"\r\n            formControlName=\"messageType\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSelectionOFMessageType(ruleTransForm.get('messageType').value)\"\r\n          >\r\n          <option hidden value=\"\" disabled selected >--Please select--</option>\r\n            <option value=\"I\">Incoming</option>\r\n            <option value=\"O\">OutGoing</option>\r\n            <!-- <option value=\"A\">All</option> -->\r\n          </select>\r\n        \r\n      </div>\r\n\r\n\r\n\r\n        <div class=\"col-lg-4\" *ngIf=\"showFetch=='XML' && showFormat !== 'JSON'\" (click)=\"chooseFile()\">\r\n          <div class=\"fileUpload\">\r\n            <div class=\"formS\">\r\n              <div class=\"file-upload-wrapper\" #fileWrapper data-text=\"File Upload\">\r\n                <input id=\"chFile\" name=\"file-upload-field\" type=\"file\" class=\"file-upload-field\" [disabled]=\"!editValue\" \r\n                (change)=\"selectFileFORHTTPXMLIncoming($event)\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n         </div>\r\n     \r\n      </div>\r\n      <br>\r\n      <div class=\"row gy-4 align-items-end\">\r\n        <div class=\"col-lg-3\">\r\n          <button\r\n            (click)=\"onFetch()\"\r\n            [disabled]=\"!editValue\"\r\n            class=\"btn minWdSmBtn btnPrimary\"\r\n            >Fetch</button>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</fieldset>\r\n  <!-- *ngIf=\"showRecords\" -->\r\n  <div class=\"dbCardStyle\">\r\n    <fieldset [disabled]=\"!editValue\">\r\n    <div class=\"table-responsive\">\r\n      <table id=\"dbTable1\" class=\"table tableStyle responsive nowrap vAlignMdl\">\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              <ng-container *ngIf=\"showFetch=='MT' || showFetch=='MX'\">Field No</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='XML' && !afterupload || showFetch=='XML' && afterupload\">Tag</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='JSON'\">kEY</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='DB Connection'\">Column Name</ng-container>\r\n            <span class=\"colorRed\">*</span></th>\r\n            <th>\r\n              <ng-container *ngIf=\"showFetch=='JSON' || showFetch=='XML' || showFetch=='DB Connection' \">Data type</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='TCP/IP' || showFetch=='MT' || showFetch=='MX'\">Data type</ng-container>\r\n            <span class=\"colorRed\">*</span></th>\r\n            <th>Default value<span class=\"colorRed\">*</span></th>\r\n            <th>Encryption<span class=\"colorRed\">*</span></th>\r\n            <th [hidden]=\"hideAction\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <ng-container formArrayName=\"msgTransDetails\">\r\n            <tr\r\n              *ngFor=\"let item of msgTransDetails.controls;let i = index\">\r\n              <ng-container [formGroup]=\"item\">\r\n                <td>\r\n                  <ng-container *ngIf=\"showFetch=='TCP/IP'\">\r\n                    <!-- FOR SELECT AS OF NOW COMMENTED AFTER DISCUSSION WITH PRABHAT AND SAKTHI -->\r\n                    <!-- <select\r\n                      id=\"fieldNo_{{ i }}\"\r\n                      formControlName=\"messageKey\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      required\r\n                      [disabled]=\"!editValue\"\r\n                    >\r\n                      <option value=\"\" [selected]=\"isSelected\">--Please Select---</option>\r\n                      <option *ngFor=\"let mkey of messageBasisData\" [value]=\"mkey.messageKey\">\r\n                        {{mkey.messageKey}}<{{mkey.messageBasis}}\r\n                      </option>\r\n                    </select> -->\r\n                    <input class=\"form-control\" name=\"formattedMessageBasis\" formControlName=\"formattedMessageBasis\" [readonly]=\"!editValue\">\r\n                  </ng-container>\r\n\r\n                  <ng-container  *ngIf=\"showFetch=='JSON' && showFormat === 'JSON'\">\r\n                    <!-- <select\r\n                       id=\"fieldNo_{{ i }}\"\r\n                       formControlName=\"messageKey\"\r\n                       class=\"form-select\"\r\n                       aria-label=\"Default select example\"\r\n                       required\r\n                     >\r\n                       <option value=\"\" [selected]=\"isSelected\">--Please Select---</option>\r\n                       <option *ngFor=\"let mkey of messageBasisData\" [value]=\"mkey.messageKey\">\r\n                         {{mkey.messageKey}}<{{mkey.messageBasis}}\r\n                       </option>\r\n                     </select> -->\r\n                     <input\r\n                     id=\"fieldNo_{{ i }}\"\r\n                     formControlName=\"messagebasis\"\r\n                     class=\"form-control\"\r\n                     aria-label=\"Default select example\"\r\n                     required\r\n                   >\r\n                 </ng-container>\r\n\r\n                  <ng-container *ngIf=\"(showFetch=='XML' && showFormat !== 'JSON') && !afterupload\">\r\n                    <input class=\"form-control\" name=\"messagebasis\" formControlName=\"messagebasis\" [readonly]=\"!editValue\">\r\n                  </ng-container>\r\n\r\n                  <ng-container *ngIf=\"(showFetch=='XML' && showFormat !== 'JSON') && afterupload\">\r\n                    <select\r\n                    id=\"fieldNo_{{ i }}\"\r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    required\r\n                    [disabled]=\"!editValue\"\r\n                  >\r\n                    <option *ngFor=\"let data of messageBasisIso\" [value]=\"data\">\r\n                      {{data}} \r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  \r\n                  <ng-container *ngIf=\"showFetch=='DB Connection'\">\r\n                    <!-- <select\r\n                      id=\"db_{{ i }}\"\r\n                      formControlName=\"messagebasis\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      required\r\n                      [disabled]=\"!editValue\"\r\n                    >\r\n                      <option *ngFor=\"let data of messageBasisData\" [value]=\"data.messageKey\">\r\n                        {{data.messageKey}}{{data.messageBasis}}\r\n                      </option>\r\n                    </select> -->\r\n                    <input\r\n                    id=\"db_{{ i }}\"\r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-control\"\r\n                    aria-label=\"Default select example\"\r\n                    required\r\n                  >\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"showFetch=='MT' || showFetch=='MX'\">\r\n                    <select\r\n                      id=\"db_{{ i }}\"\r\n                      formControlName=\"messagebasis\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      required\r\n                      [disabled]=\"!editValue\"\r\n                    >\r\n                      <option *ngFor=\"let data of mTMxResp\" [value]=\"data\">\r\n                        {{data}}\r\n                      </option>\r\n                    </select>\r\n                    <!-- <input\r\n                    id=\"db_{{ i }}\"\r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-control\"\r\n                    aria-label=\"Default select example\"\r\n                    required\r\n                  > -->\r\n                  </ng-container>\r\n                \r\n                </td>\r\n                <td>\r\n                  <ng-container *ngIf=\"showFetch === 'DB Connection'\">\r\n                    <select\r\n                    id=\"dataType_{{ i }}\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    \r\n                  >\r\n                   <option hidden value=\"\" disabled selected  >--Please select--</option>                    \r\n                    <option value=\"VARCHAR2\">\r\n                      VARCHAR2\r\n                    </option>\r\n                    <option value=\"NUMBER\">\r\n                      NUMBER\r\n                    </option>\r\n                    <option value=\"DATE\">\r\n                      DATE\r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"showFetch === 'MT'|| showFetch=='MX'\">\r\n                    <select\r\n                    id=\"dataType_{{ i }}\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    \r\n                  >\r\n                  <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                  <option [value]=\"'numeric'\">\r\n                    Numeric\r\n                  </option>\r\n                  <option [value]=\"'alphaNumeric'\">\r\n                    Alpha Numeric\r\n                  </option>\r\n                  <option [value]=\"'date'\">\r\n                    Date\r\n                  </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"showFetch=='XML' || showFetch=='JSON' \">\r\n                    <select\r\n                    \r\n                    formControlName=\"dataType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                  >\r\n                  <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                    <option [value]=\"'numeric'\">\r\n                      Numeric\r\n                    </option>\r\n                    <option [value]=\"'alphaNumeric'\">\r\n                      Alpha Numeric\r\n                    </option>\r\n                    <option [value]=\"'date'\">\r\n                      Date\r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  <ng-container  *ngIf=\"showFetch=='TCP/IP'\">\r\n                    <input\r\n                    [readonly]=\"!editValue\"\r\n                    type=\"text\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-control\"\r\n                  />\r\n                  </ng-container>\r\n                </td>\r\n                \r\n              \r\n                <td>\r\n                  <input\r\n                  id=\"responseIndicator_{{ i }}\"\r\n                  formControlName=\"defaultValue\"\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [readonly]=\"!editValue\"\r\n                />\r\n                </td>\r\n                <td>\r\n                  <select\r\n                    id=\"encryption_{{ i }}\"\r\n                    formControlName=\"encryption\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onSelectionOFMessageType($event)\"\r\n                    \r\n                  >\r\n                  <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                    <option [value]=\"'No Encryption'\">No Encryption</option>\r\n                    <option [value]=\"'BASE64'\">\r\n                      BASE 64\r\n                    </option>\r\n                    <option [value]=\"'SHA256'\">\r\n                      SHA 256\r\n                    </option>\r\n                    <option [value]=\"'SHA512'\">\r\n                      SHA 512\r\n                    </option>\r\n                  </select>\r\n                </td>\r\n                <td class=\"tblIcon\">\r\n                  <a *ngIf=\"submit\" [hidden]=\"hideAction\" (click)=\"removeTranslation(i)\" [ngClass]=\"!editValue ? 'readonlyTrue' : 'deleteIcon2;readonlyFalse'\"><img src=\"assets/images/delete-icon.svg\" alt=\"...\"></a>\r\n                  <!-- <button *ngIf=\"submit\" (click)=\"removeTranslation(i)\" class=\"deleteIcon2\"\r\n                    ><img src=\"assets/images/delete-icon.svg\" alt=\"...\"\r\n                  /></button> -->\r\n                </td>\r\n              </ng-container>\r\n            </tr>\r\n          </ng-container>\r\n          <tr>\r\n            <td>\r\n              <button *ngIf=\"submit\" (click)=\"addTransaltionGroup('')\" class=\"addIcon primarybg\">\r\n                <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\" /></span>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    </fieldset>\r\n    <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n      <div class=\"col-auto\" *ngIf=\"!(ruleTRespData.recordStatus == 'C' || ruleTRespData.recordStatus == 'CLOSED') && roleCodes.edit\">\r\n        <button class=\"btn smBtn minWdSmBtn btnUpdate\" [hidden]=\"hideSubmit\" (click)=\"editValues()\">{{roleCodes.edit.labelDescription}}</button>\r\n      </div>\r\n      <div class=\"col-auto\" [hidden]=\"!hideSubmit\">\r\n        <button (click)=\"onSubmit()\"class=\"btn smBtn minWdSmBtn btnPrimary\" [disabled]=\"!ruleTransForm.valid\">Save</button>\r\n      </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.approvedStatus == 'U' || ruleTRespData.approvedStatus == 'N' || ruleTRespData.approvedStatus == 'UNAUTHORIZED') && roleCodes.auth\">\r\n      <button class=\"btn smBtn minWdSmBtn btnAuth\" [hidden]=\"hideSubmit\" (click)=\"authorizeRuleTranslation()\">{{roleCodes.auth.labelDescription}}</button>\r\n    </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.recordStatus == 'O' || ruleTRespData.recordStatus == 'OPEN') && (ruleTRespData.approvedEver != 'NO' && ruleTRespData.approvedEver != 'N') && roleCodes.close\">\r\n        <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"hideSubmit\" (click)=\"closeRuleTranslation()\">{{roleCodes.close.labelDescription}}</button>\r\n      </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.recordStatus == 'C' || ruleTRespData.recordStatus == 'CLOSED') && roleCodes.reopen\">\r\n        <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"hideSubmit\" (click)=\"openRuleTranslation()\">{{roleCodes.reopen.labelDescription}}</button>\r\n      </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.approvedEver == 'NO' || ruleTRespData.approvedEver == 'N')&&!showdelete && roleCodes.delete\">\r\n        <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"hideSubmit\" (click)=\"deleteRuleTranslation()\">{{roleCodes.delete.labelDescription}}</button>\r\n      </div>\r\n      <!-- <div class=\"col-auto\">\r\n        <button type=\"reset\" (click)=\"onReset()\" [disabled]=\"!submit\" class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n          >Reset</button>\r\n      </div> -->\r\n      <div class=\"col-auto\">\r\n        <button class=\"btn smBtn minWdSmBtn btnSecondary\" [routerLink]=\"['/rule-translation/summary']\">Exit</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  </form>\r\n  <br>\r\n  <div class=\"dbCardStyle\" *ngIf=\"showAuditLog\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n                  <i class=\"fa fa-edit faClass\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker</h2>\r\n                <p>{{ruleTRespData.creatorId}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n                <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker Time Stamp</h2>\r\n                <p>{{ruleTRespData.createdTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n                <img src=\"assets/images/record-status-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Record Status</h2>\r\n                <p>{{ruleTRespData.recordStatus == 'O' ? 'OPEN' : (ruleTRespData.recordStatus == 'C' ? 'CLOSED' : ruleTRespData.recordStatus)}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker</h2>\r\n                <p>{{ruleTRespData.approverId}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n                <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker Time Stamp</h2>\r\n                <p>{{ruleTRespData.approvedTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n                <img src=\"assets/images/first-auth-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>First Time Authorization</h2>\r\n                <p>{{ruleTRespData.approvedEver == 'N'? 'NO' : (ruleTRespData.approvedEver == 'Y'? 'YES' : ruleTRespData.approvedEver)}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n               <img src=\"assets/images/authorize.svg\" alt=\"...\" class=\"modImage\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Authorization Status</h2>\r\n                <p>{{ruleTRespData.approvedStatus == 'N' || ruleTRespData.approvedStatus == 'U' ? 'UNAUTHORIZED' : (ruleTRespData.approvedStatus == 'Y' || ruleTRespData.approvedStatus == 'A' ? 'AUTHORIZED' : ruleTRespData.approvedStatus)}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n                 <img src=\"assets/images/modification.svg\" class=\"modImage\" alt=\"...\" >\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Modification Number</h2>\r\n                <p>{{ruleTRespData.versionNo}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { ToastService } from 'src/app/shared/services/toast.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'npr-rule-translation-details',\r\n  templateUrl: './rule-translation-details.component.html',\r\n  styleUrls: ['./rule-translation-details.component.scss'],\r\n  providers: [DatePipe]\r\n})\r\nexport class RuleTranslationDetailsComponent implements OnInit, IDeactivateComponent {\r\n  externalSystem: any;\r\n  submit: boolean = true;\r\n  msgTranslation = new msgTranslation();\r\n  translationDeatils: Array<translationDeatils> = [];\r\n  translationDTO = new translationDTO();\r\n  sourcesystem: any;\r\n  showRecords: boolean;\r\n  currentUser: string;\r\n  showAuditLog: boolean = true;\r\n  msgType: any;\r\n  translationDataOperation: any;\r\n  selectedFiles: any;\r\n  currentFileUpload: any;\r\n\r\n  translationDataService: any;\r\n  ruleTRespData: any;\r\n  transId: any;\r\n  displaySubmit: boolean = false;\r\n  authorizeDone: boolean = false;\r\n  hideSubmit: boolean = false;\r\n  formTouched: boolean = true;\r\n  hideAction: boolean = true;\r\n  showFetch: any;\r\n  ruleRecord: any;\r\n  matlabel1: string;\r\n  matlabel2: string;\r\n  navSubscription: any;\r\n  editRuleTransResp: any;\r\n  headerTagData: any;\r\n  messageBasisIso: any;\r\n  messageKeyIso: any;\r\n  xmlRespData: any;\r\n  fileName: any;\r\n  editValue: boolean;\r\n  afterupload: boolean;\r\n  showdelete: boolean;\r\n  deleted: boolean;\r\n  editBtn: boolean;\r\n  closeBtn: boolean;\r\n  authBtn: boolean;\r\n  onlysubmit: boolean;\r\n  reopenBtn: boolean;\r\n  authBtnHide: boolean;\r\n  messageBasisData: any;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n\r\n  ruleTransForm: FormGroup;\r\n  isSelected: boolean = true;\r\n  @ViewChild('fileWrapper') fileUploadWrapper: ElementRef;\r\n  roleCodes = new permissionsLabels();\r\n  disableFields: boolean = false;\r\n  showFormat: any;\r\n  columnNameDD: any = [];\r\n  mdmtSystemChannel: any;\r\n  tableData: any;\r\n  multipleService: boolean;\r\n  multipleOperation: boolean;\r\n  mTMxResp: any[] = [];\r\n\r\n\r\n  constructor(private rules: RuleService, private roleService: RoleService,\r\n    private addSystem: AddSystemService,\r\n    private router: Router,\r\n    private cdr: ChangeDetectorRef,\r\n    private _route: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    private datePipe: DatePipe,\r\n    private elementRef: ElementRef, private canDeactivateGuard: CanDeactivateGuard,\r\n    private toastService: ToastService) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n\r\n    this.ruleTransForm = this.formBuilder.group({\r\n      transId: this.transId,\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\"],\r\n      operationName: [\"\"],\r\n      msgTransDetails: this.formBuilder.array([])\r\n    });\r\n\r\n    this.gettingExternalsystem();\r\n    this.fetchingHeadertag();\r\n\r\n\r\n    this.getById(this._route.snapshot.params['id']);\r\n\r\n    this.roleService.fetchScreenPermissions('Rule translation');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n\r\n    this.ruleTransForm.disable();\r\n    this.msgTransDetails.disable();\r\n    console.log(this.msgTransDetails);\r\n  }\r\n\r\n  getById(transId: any) {\r\n    this.rules.ruleTranslationBasedonId(transId)\r\n      .subscribe(resp => {\r\n        console.log(resp);\r\n\r\n\r\n        this.translationDeatils = resp;\r\n        this.editRuleTransResp = resp;\r\n\r\n        console.log(\"editRuleTransResp??\", this.editRuleTransResp);\r\n        this.ruleTRespData = this.editRuleTransResp;\r\n        console.log(this.ruleTRespData);\r\n        this.transId = this.ruleTRespData.transId;\r\n        console.log(this.transId);\r\n        // commenting beacuse below array data is not coming\r\n\r\n        this.msgTranslation.systemCode = this.editRuleTransResp[\"systemCode\"];\r\n        this.msgTranslation.messageType = this.editRuleTransResp[\"messageType\"];\r\n        this.msgTranslation.operationName = this.editRuleTransResp[\"operationName\"];\r\n        this.msgTranslation.serviceName = this.editRuleTransResp[\"serviceName\"];\r\n        this.ruleTransForm.get('operationName').setValue(this.editRuleTransResp[\"operationName\"]);\r\n        this.ruleTransForm.patchValue(this.editRuleTransResp);\r\n\r\n        for (let index = 0; index < this.editRuleTransResp.msgTransDetails.length; index++) {\r\n          console.log(this.editRuleTransResp.msgTransDetails);\r\n          this.addTransaltionGroup({});\r\n          const item = this.editRuleTransResp.msgTransDetails[index];\r\n          this.msgTransDetails.at(index).patchValue({\r\n            ...item,\r\n            formattedMessageBasis: `${item.messageKey} ${item.messagebasis}`,\r\n          });\r\n        }\r\n\r\n        this.cdr.markForCheck();\r\n        this.onSelectionOFMessageType(this.msgTranslation.messageType);\r\n        this.onSlectionExternalSystem(this.msgTranslation.systemCode);\r\n        this.gettingoperationAndService(this.msgTranslation.systemCode, this.msgTranslation.messageType, this.currentUser);\r\n        this.translationDeatils = this.editRuleTransResp['msgTransDetails'];\r\n        console.log(this.translationDeatils);\r\n        if (this.ruleTRespData.recordStatus == \"C\") {\r\n          console.log(this.ruleTRespData.recordStatus);\r\n          this.reopenBtn = false;\r\n          this.authBtnHide = true;\r\n        }\r\n        if (this.ruleTRespData.approvedStatus == \"U\") {\r\n          console.log(this.ruleTRespData.approvedStatus);\r\n          this.authBtnHide = false;\r\n          this.authBtn = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rules.gettingExternalsystem().subscribe(extSysResp => {\r\n      console.log(extSysResp);\r\n      if (extSysResp) {\r\n        this.externalSystem = extSysResp;\r\n      }\r\n    }, (err: any) => {\r\n      console.log(\"err\", err);\r\n    })\r\n  }\r\n\r\n  onSlectionExternalSystem(event: any) {\r\n\r\n    console.log(event);\r\n    this.sourcesystem = this.msgTranslation.messageType;\r\n\r\n  }\r\n  canExit(): Promise<boolean> {\r\n    let isExit: boolean = false;\r\n    if (this.ruleTransForm.touched && this.formTouched == true) {\r\n      return Swal.fire({\r\n        text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info',\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n        else {\r\n          isExit = false;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n\r\n      });\r\n    }\r\n    else {\r\n      isExit = true;\r\n      return new Promise((resolve, reject) => {\r\n        if (isExit === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          resolve(true);\r\n        }\r\n\r\n      })\r\n    }\r\n  }\r\n  onSelectionOFMessageType(event: any) {\r\n    console.log(\"Event\", event);\r\n    this.msgType = event;\r\n    if (this.sourcesystem && this.msgType) {\r\n      this.gettingoperationAndService(this.msgTranslation.systemCode, this.msgType, this.currentUser);\r\n    }\r\n    else {\r\n      console.log(\"enter both msg and ext\")\r\n    }\r\n  }\r\n  gettingoperationAndService(source, msgType, logginuser) {\r\n    this.rules.gettingoperationAndService(source, msgType, logginuser).subscribe(translationResp => {\r\n      console.log(translationResp);\r\n      this.messageBasisData = translationResp.MdmtSystemService;\r\n      this.mdmtSystemChannel = translationResp.MdmtSystemChannel;\r\n      console.log(\"messageBasisData\", this.messageBasisData);\r\n      let keys = Object.keys(translationResp);\r\n      console.log(keys)\r\n      let x = keys[2];\r\n      let y = keys[3];\r\n      if (x == 'I' && Object.keys(translationResp).length == 3) {\r\n        console.log(\"yes\", x);\r\n        if (translationResp.I.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.I.SERVICE[0].headerValue;\r\n          if (translationResp.I.SERVICE.length <= 1) {\r\n            console.log(this.translationDataOperation, \"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n\r\n          if (translationResp.I.SERVICE.length > 1) {\r\n            console.log(this.translationDataOperation, \"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.I.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.I.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.I.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.I.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.I.OPERATION;\r\n          if (this.translationDataOperation.length <= 1) {\r\n            console.log(this.translationDataOperation, \"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if (this.translationDataOperation.length > 1) {\r\n            console.log(this.translationDataOperation, \"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n        this.translationDataService = translationResp.I.SERVICE\r\n      }\r\n      else if (x == 'O' && Object.keys(translationResp).length == 3) {\r\n        console.log(\"else if\", x);\r\n        if (translationResp.O.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.O.SERVICE[0].headerValue;\r\n          if (translationResp.O.SERVICE.length <= 1) {\r\n            console.log(this.translationDataOperation, \"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n\r\n          if (translationResp.O.SERVICE.length > 1) {\r\n            console.log(this.translationDataOperation, \"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.O.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.O.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.O.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.O.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.O.OPERATION;\r\n          if (this.translationDataOperation.length <= 1) {\r\n            console.log(this.translationDataOperation, \"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if (this.translationDataOperation.length > 1) {\r\n            console.log(this.translationDataOperation, \"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n        this.translationDataService = translationResp.O.SERVICE\r\n      }\r\n      else if (x == 'I' && this.msgTranslation.messageType == 'I' && Object.keys(translationResp).length == 4) {\r\n\r\n        if (translationResp.I.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.I.SERVICE[0].headerValue;\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.I.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.I.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.I.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.I.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.I.OPERATION;\r\n        }\r\n        this.translationDataService = translationResp.I.SERVICE\r\n      }\r\n      else if (y == 'O' && this.msgTranslation.messageType == 'O' && Object.keys(translationResp).length == 4) {\r\n\r\n        if (translationResp.O.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.O.SERVICE[0].headerValue;\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.O.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.O.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.O.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.O.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.O.OPERATION;\r\n        }\r\n        this.translationDataService = translationResp.O.SERVICE\r\n      }\r\n      this.showFetch = translationResp.MdmtSystemChannel[0].messageChannel;\r\n      this.showFormat = translationResp.MdmtSystemChannel[0].messageFormat;\r\n      if (this.showFetch == 'Https/Http') {\r\n        // this.fetchingXMl();\r\n        this.showFetch = translationResp.MdmtSystemChannel[0].messageFormat;\r\n      }\r\n      else if (this.showFetch == 'TCP/IP') {\r\n        this.fetchingIso();\r\n      }\r\n      else if (this.showFetch == 'DB Connection') {\r\n        this.addSystem.coulmnNameBasedonTableName(\r\n          translationResp.MdmtSystemChannel[0].dbConnectString,\r\n          translationResp.MdmtSystemChannel[0].dbServiceName,\r\n          translationResp.MdmtSystemChannel[0].dbUsername,\r\n          translationResp.MdmtSystemChannel[0].dbPassword,\r\n          translationResp.MdmtSystemChannel[0].sysService[0].messageKey.split(\",\", 1)\r\n        ).subscribe((resp) => {\r\n          resp.forEach(element => {\r\n            this.columnNameDD.push(element[1]);\r\n          });\r\n        });\r\n      }\r\n      else if (this.showFetch == 'MT') {\r\n        this.addSystem.getMtApi().subscribe(resp => {\r\n          console.log(\"mt resp\", resp)\r\n          this.mTMxResp = resp;\r\n        })\r\n\r\n      }\r\n      else if (this.showFetch == 'MX') {\r\n        this.addSystem.getMxApi().subscribe(resp => {\r\n          console.log(\"mx resp\", resp)\r\n          this.mTMxResp = resp;\r\n        })\r\n      }\r\n    }, (err => {\r\n      console.log(err);\r\n    }))\r\n  }\r\n  //  temproary\r\n  onSubmit() {\r\n    this.ruleTransForm.value.operationName = 'Conversion'\r\n    this.ruleTransForm.value.serviceName = 'Conversion'\r\n    console.log(\"Update?\", this.ruleTransForm.value);\r\n    const updatedFormData = {\r\n      ...this.ruleTransForm.value,\r\n      msgTransDetails: this.ruleTransForm.value.msgTransDetails.map((data) => {\r\n        const { formattedMessageBasis, ...rest } = data;\r\n        return rest;\r\n      })\r\n    }\r\n    this.translationDTO.msgTranslation = this.msgTranslation;\r\n    console.log(\"updatedFormData \", updatedFormData)\r\n    this.translationDTO.msgTranslationDet = this.ruleRecord;\r\n    console.log(this.translationDTO);\r\n    this.rules.editruleTranslation(\"update\", this.currentUser, updatedFormData).subscribe(ruleTranslationResp => {\r\n      console.log(ruleTranslationResp);\r\n      this.ruleTRespData = ruleTranslationResp;\r\n      if (ruleTranslationResp) {\r\n        Swal.fire({\r\n          text: 'Record is Updated',\r\n          icon: 'success'\r\n        });\r\n        this.submit = false;\r\n        this.showAuditLog = true;\r\n        this.editValue = false;\r\n        this.hideSubmit = false;\r\n        this.formTouched = !this.ruleTransForm.touched;\r\n      }\r\n    }, (err: any) => {\r\n      Swal.fire({\r\n        text: \"Server Error.\",\r\n        icon: 'error'\r\n      });\r\n    })\r\n  }\r\n  onFetch() {\r\n    this.showRecords = true;\r\n\r\n  }\r\n  onReset() {\r\n    this.msgTranslation = new msgTranslation();\r\n    this.ruleRecord = [];\r\n  }\r\n\r\n  getTranslationItem(item) {\r\n    return this.formBuilder.group({\r\n      messagebasis: [item.messagebasis ? item.messagebasis : \"\"],\r\n      formattedMessageBasis: [item.formattedMessageBasis ? item.formattedMessageBasis : \"\"],\r\n      headerTag: [item.headerTag ? item.headerTag : \"\"],\r\n      defaultValue: [item.defaultValue ? item.defaultValue : \"\"],\r\n      systemChannelId: [item.systemChannelId ? item.systemChannelId : \"\"],\r\n      encryption: [item.encryption ? item.encryption : \"No Encryption\"],\r\n      id: [item.id ? item.id : ''],\r\n      dataType: [item.dataType ? item.dataType : ''],\r\n      messageKey: [item.messageKey ? item.messageKey : ''],\r\n    });\r\n  }\r\n\r\n  get msgTransDetails() {\r\n    return this.ruleTransForm.get('msgTransDetails') as FormArray;\r\n  }\r\n\r\n  addTransaltionGroup(item) {\r\n    this.msgTransDetails.push(this.getTranslationItem(item));\r\n  }\r\n\r\n  removeTranslation(index: number) {\r\n    Swal.fire({\r\n      title: 'are you sure, want to remove the record?',\r\n      showDenyButton: true,\r\n      showCancelButton: false,\r\n      confirmButtonText: 'Yes',\r\n      denyButtonText: `No`,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        this.msgTransDetails.removeAt(index);\r\n        Swal.fire('Removed!', '', 'success');\r\n      }\r\n    });\r\n  }\r\n\r\n  selectFileFORHTTPXMLIncoming(event: any) {\r\n    console.log(\"here http and xML\", event);\r\n    this.selectedFiles = event.target.files;\r\n    console.log(\"File selected\", this.selectedFiles);\r\n    console.log(this.selectedFiles[0].name);\r\n    this.fileName = this.selectedFiles[0].name;\r\n    this.fileUploadWrapper.nativeElement.setAttribute('data-text', this.fileName);\r\n    this.currentFileUpload = this.selectedFiles.item(0);\r\n    console.log(event.target.files);\r\n    this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(xmlHttpResp => {\r\n      console.log(xmlHttpResp);\r\n\r\n      if (xmlHttpResp) {\r\n        this.xmlRespData = xmlHttpResp;\r\n        this.afterupload = true;\r\n        if (xmlHttpResp) {\r\n          this.messageBasisIso = xmlHttpResp.nodeTagList;\r\n          this.showRecords = true;\r\n          this.addTransaltionGroup({});\r\n        }\r\n        // Swal.fire({ text: \"File Uploaded Successfully\" });\r\n      }\r\n\r\n    }, (err) => {\r\n      // Swal.fire({ text: \"Invalid Xml file provided\" }); \r\n    })\r\n  }\r\n\r\n  fetchingHeadertag() {\r\n    this.addSystem.fetchingHeaderTag().subscribe(resp => {\r\n      console.log(\"res\", resp);\r\n      this.headerTagData = resp;\r\n    })\r\n  }\r\n  fetchingIso() {\r\n\r\n    this.addSystem.fetchingIsoForTcp().subscribe(isoResp => {\r\n      console.log(isoResp);\r\n      this.matlabel1 = \"Filed No\"\r\n      // this.translationDeatils=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.fieldName;\r\n      });\r\n      // for dropdown 2\r\n      this.messageKeyIso = isoResp.map((data) => {\r\n        return data.fieldNo.toString();\r\n      });\r\n    });\r\n  }\r\n  fetchingXMl() {\r\n    this.addSystem.gettinXMLmsgIncoming().subscribe(xmlResp => {\r\n      console.log(xmlResp);\r\n\r\n      this.xmlRespData = xmlResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  // fetchingColumnName() {\r\n\r\n  //   this.addSystem.coulmnNameBasedonTableName(\r\n  //     this.mdmtSystemChannel[0].dbConnectString,\r\n  //     this.mdmtSystemChannel[0].dbServiceName,\r\n  //     this.mdmtSystemChannel[0].dbUsername,\r\n  //     this.mdmtSystemChannel[0].dbPassword,\r\n  //     this.mdmtSystemChannel[0].sysService[0].messageKey.split(\",\", 1)\r\n  //     ).subscribe((resp) => {\r\n  //       resp.forEach(element => {\r\n  //         this.columnNameDD.push(element[1]);\r\n  //       });\r\n  //       console.log(this.columnNameDD);\r\n  //       this.tableData = this.columnNameDD.map((data) => {\r\n  //         console.log(data);\r\n  //         // return data.messageBasis;\r\n  //       });\r\n  //     });\r\n  // }\r\n\r\n  edit() {\r\n    this.editValue = true;\r\n    this.displaySubmit = true;\r\n    this.onlysubmit = true;\r\n    this.showAuditLog = false;\r\n    console.log(this.ruleTRespData);\r\n    if (this.ruleTRespData.approvedStatus == \"U\") {\r\n      this.editValue = false;\r\n      // Swal.fire(\"UnAuthorized record can't be edited.\");\r\n    }\r\n    if (this.ruleTRespData.recordStatus == \"C\") {\r\n      this.editValue = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n    }\r\n  }\r\n  chooseFile() {\r\n    console.log(\"heyy file\")\r\n    document.getElementById('chFile').click();\r\n  }\r\n\r\n  authorizeRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.ruleTRespData.creatorId) {\r\n          Swal.fire('Maker cannot authorize!');\r\n        }\r\n        else {\r\n          let RuleTranslationData: any = this.ruleTRespData;\r\n          this.addSystem.editruleTranslation(\"auth\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n            console.log(response);\r\n            if (response.approverId) {\r\n              this.authorizeDone = true;\r\n              Swal.fire('Record is Authorized ');\r\n              this.ruleTRespData = response;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }))\r\n  }\r\n  editValues() {\r\n    this.hideAction = false;\r\n    this.hideSubmit = true;\r\n    this.editValue = true;\r\n    this.displaySubmit = true;\r\n    this.onlysubmit = true;\r\n    this.showAuditLog = false;\r\n    console.log(this.ruleTRespData);\r\n    this.ruleTransForm.enable();\r\n    this.msgTransDetails.enable();\r\n  }\r\n\r\n  openRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        console.log(this.ruleTRespData);\r\n        console.log(this.currentUser);\r\n        let RuleTranslationData: any = this.ruleTRespData;\r\n        this.addSystem.editruleTranslation(\"open\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n          console.log(response);\r\n          if (response) {\r\n            Swal.fire('Record is Reopened');\r\n            this.ruleTRespData = response;\r\n            this.authBtnHide = false;\r\n            this.editBtn = false;\r\n            this.authBtn = false;\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  closeRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let RuleTranslationData: any = this.ruleTRespData;\r\n        this.addSystem.editruleTranslation(\"close\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n          console.log(response);\r\n          if (response) {\r\n            Swal.fire({\r\n              text: \"Record is Closed\",\r\n              icon: 'success'\r\n            });\r\n            this.ruleTRespData = response;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.deleted = false;\r\n            this.reopenBtn = false;\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  deleteRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let RuleTranslationData: any = this.ruleTRespData;\r\n        console.log(this.ruleTRespData);\r\n\r\n\r\n        this.addSystem.deleteRuleTranslation(this.currentUser, RuleTranslationData.transId).subscribe((response) => {\r\n          // console.log(response.Text);\r\n          // if(response){\r\n\r\n          // }\r\n        }, (err) => {\r\n          if (err.status == 200) {\r\n            this.showdelete = true;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.closeBtn = true;\r\n\r\n            Swal.fire({\r\n              title: 'Record is Deleted!',\r\n              confirmButtonText: 'Ok'\r\n            }).then((result) => {\r\n              if (result) {\r\n                this.router.navigateByUrl('/rule-translation/summary')\r\n              }\r\n            });\r\n\r\n          }\r\n          else {\r\n            // Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n\r\n  onselectingFieldName(event, i) {\r\n    this.msgTransDetails.at(i).get('defaultValue').patchValue('');\r\n    if (event === 'MIRDate' || event === \"ReceiverOutputDate\" || event === \"CreDt\") {\r\n      const dateValue = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue(dateValue);\r\n    }\r\n    if (event === 'ReceiverOutputTime' || event === 'SenderInputTime') {\r\n      var d = new Date(); // for now\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue(d.getHours() + \":\" + d.getMinutes());\r\n    }\r\n    if (event === 'MessagePriority') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('N');\r\n    }\r\n    if (event === 'MessageType') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('103');\r\n    }\r\n    if (event === 'blockType') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('O');\r\n    }\r\n    if (event === 'MsgDefIdr') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('pacs.008.001.07');\r\n    }\r\n    if (event === 'PssblDplct') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue(false);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class msgTranslation {\r\n  id: any;\r\n  systemCode: any;\r\n  messageType: any;\r\n  operationName: any;\r\n  serviceName: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n}\r\n// after fetch assign to this object\r\nexport class translationDeatils {\r\n  id: any;\r\n  translationId: any;//??\r\n  messagebasis: any;//node\r\n  messageKey: any;//tagName\r\n  columnName: any;\r\n  dataType: any;\r\n  encryption: any;\r\n\r\n  defaultValue: any;\r\n\r\n}\r\nclass translationDTO {\r\n  msgTranslation: msgTranslation;\r\n  msgTranslationDet: Array<translationDeatils>;\r\n}","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { CanDeactivateGuard } from \"src/app/shared/guards/can-deactivate.guard\";\r\nimport { RuleTranslationDetailsComponent } from \"./rule-translation-details/rule-translation-details.component\";\r\nimport { RuleTranslationSummaryComponent } from \"./rule-translation-summary/rule-translation-summary.component\";\r\nimport { RuleTranslationComponent } from \"./rule-translation/rule-translation.component\";\r\nimport { AuthGuard } from \"src/app/shared/guards/auth.guard\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: RuleTranslationComponent,\r\n    // canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: \"summary\",\r\n    component: RuleTranslationSummaryComponent,\r\n    // canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: \"create\",\r\n    component: RuleTranslationComponent,\r\n    // canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: \"edit/:id\",\r\n    component: RuleTranslationDetailsComponent,\r\n    // canActivate: [AuthGuard],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RuleTranslationRoutingModule {}\r\n","<div class=\"pageContentMain\">\r\n    <div class=\"pageTitleCol\">\r\n      <h2 class=\"pageTitle\">Rule Translation</h2>\r\n    </div>\r\n    <div class=\"dbCardStyle\">\r\n      <div class=\"row g-3 pb-3 justify-content-end\">\r\n        <div class=\"col-auto\" *ngIf=\"roleCodes.new\">\r\n          <a [routerLink]=\"['/rule-translation/create']\" [routerLinkActive]=\"['active']\" class=\"btn smBtn minWdSmBtn btnPrimary\">{{roleCodes.new.labelDescription}}</a>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <a [routerLink]=\"['/dashboard']\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</a>\r\n        </div>\r\n      </div>\r\n      <div class=\"table-responsive\">\r\n      <table datatable id=\"dbTable1\" [dtOptions]=\"dtOptions\"  class=\"dataTable table tableStyleSelect tableStyle nowrap vAlignMdl\" style=\"width:100%\">\r\n        <thead>\r\n          <tr>\r\n            <th>System Code</th>\r\n            <!-- <th>Operation Name</th>\r\n            <th>Service Name</th> -->\r\n            <th>Auth Status</th>\r\n            <th>Record Status</th>\r\n            <th>Date</th>\r\n            <th>Action</th>\r\n            \r\n          </tr>\r\n        </thead>\r\n        <tbody *ngIf=\"translationList?.length != 0\">\r\n          <tr *ngFor=\"let data of translationList\">\r\n            <td> <a style=\"cursor: pointer;\" (click)=\"onGetId(data)\" class=\"primaryColor\">{{ data.systemCode }}</a></td>\r\n            <!-- <td>{{ data.operationName }}</td>\r\n            <td>{{ data.serviceName }}</td> -->\r\n            <td>{{ data.approvedStatus}}</td>\r\n            <td>{{ data.recordStatus }}</td>\r\n            <td>{{ data.createdTime | date:'medium' }}</td>\r\n             <td>\r\n              <button  class=\"btn\" style=\"color: red\" title=\"Authorize\" [disabled]=\"!(data.approvedStatus== 'U' || data.approvedStatus== 'UNAUTHORIZED' || data.approvedStatus == 'Unauthorized')\" (click)=\"auth(data)\">\r\n                  \r\n                <img class=\"summaryIcon\" src=\"assets/images/authorize.svg\" alt=\"Authorize\">\r\n                </button>\r\n              <button class=\"btn\" style=\"color: red\" title=\"Close\" *ngIf=\"(data.recordStatus== 'O' || data.recordStatus== 'Open' || data.recordStatus== 'OPEN') && (data.approvedEver== 'Y' || data.approvedEver== 'YES')\" (click)=\"close(data)\">\r\n                \r\n                <img class=\"summaryIcon\" src=\"assets/images/CROSS1.svg\"   alt=\"...\">\r\n                </button> \r\n               <button class=\"btn\" style=\"color: red\" title=\"Reopen\"  *ngIf=\"(data.recordStatus == 'CLOSED' || data.recordStatus == 'Close'||data.recordStatus=='c'||data.recordStatus=='C') && (data.approvedEver == 'YES' || data.approvedEver == 'Y')\" (click)=\"open(data)\">\r\n                \r\n                <img class=\"summaryIcon\" src=\"assets/images/open.svg\"  alt=\"...\">\r\n                </button>\r\n                <button class=\"btn\" style=\"color: red\" title=\"Delete\" *ngIf=\"data.approvedEver== 'N' || data.approvedEver== 'NO'\" (click)=\"delete(data)\">\r\n                   \r\n                  <img class=\"summaryIcon\" src=\"assets/images/delete.svg\" alt=\"...\">\r\n                </button>\r\n                 \r\n             </td> \r\n            <!-- <td>\r\n             \r\n            \r\n              <button class=\"m-1 btn btn-sm btn-outline-light primaryColor\">\r\n                <i class=\"fa fa-shield fa-lg\"></i>\r\n              </button>\r\n              <button class=\"btn btn-sm btn-outline-light primaryColor\">\r\n                <i class=\"fa fa-times-circle-o fa-lg\"></i>\r\n              </button>\r\n              <button class=\"m-1 btn btn-sm btn-outline-light primaryColor\">\r\n                <i class=\"fa fa-trash fa-lg\"></i>\r\n              </button>\r\n          \r\n            </td> -->\r\n          </tr>\r\n        </tbody>\r\n        <tbody *ngIf=\"translationList?.length == 0\">\r\n          <tr>\r\n            <!-- <td colspan=\"3\" class=\"no-data-available\">No data!</td> -->\r\n          </tr>\r\n        </tbody>  \r\n      </table>\r\n    </div>\r\n\r\n      <ng-container *ngIf=\"isLoading\">\r\n        <div class=\"loading-page-center\">\r\n          <span class=\"indicator-progress\">Please wait...\r\n            <span class=\"spinner-border spinner-border-sm align-middle ms-2\"></span></span>\r\n        </div>\r\n      </ng-container>\r\n      \r\n    </div>\r\n\r\n\r\n</div>\r\n \r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport Swal from 'sweetalert2';\r\nimport { AppConstants } from 'src/app/shared/config/app.constant';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'npr-rule-translation-summary',\r\n  templateUrl: './rule-translation-summary.component.html',\r\n  styleUrls: ['./rule-translation-summary.component.scss']\r\n})\r\nexport class RuleTranslationSummaryComponent implements OnInit {\r\n  translationList: any = [];\r\n  translationDeatils: any;\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  isLoading:boolean = false;\r\n  roleCodes = new permissionsLabels();\r\n  ruleTRespData: any;\r\n  currentUser: any;\r\n  authBtnHide: boolean;\r\n  editBtn: boolean;\r\n  authBtn:boolean;\r\n  deleted: boolean;\r\n  reopenBtn: boolean;\r\n  showdelete: boolean;\r\n  closeBtn: boolean;\r\n  authorizeDone: boolean;\r\n  statusArr: String[] = ['Authorized', 'Unauthorized', 'Open', 'Close'];\r\n  totalPages: any;\r\n  totalRecords: any;\r\n  API_URL = AppConstants.baseURL;\r\n  constructor(private ruleService: RuleService, private router:Router,private roleService:RoleService,\r\n    private cdr:ChangeDetectorRef,private addSystem: AddSystemService , private http: HttpClient) { }\r\n\r\n  ngOnInit(): void {\r\n    this.dtOptions = {\r\n      pagingType: 'full_numbers',\r\n      pageLength : 5,\r\n      columnDefs: [ { type: 'date', 'targets': [3] } ],\r\n      order: [[3, 'desc']],\r\n      serverSide: true,\r\n      // processing: true,\r\n      lengthMenu: [\r\n        [5, 10, 20, 30,-1],\r\n        [5, 10, 20, 30,\"ALL\"],\r\n      ],\r\n      ajax: (dataTablesParameters: any, callback) => {\r\n        \r\n        dataTablesParameters.minNumber = dataTablesParameters.start + 1;\r\n        dataTablesParameters.maxNumber =\r\n          dataTablesParameters.start + dataTablesParameters.length;\r\n        console.log(\r\n          dataTablesParameters.minNumber,\r\n          dataTablesParameters.maxNumber\r\n        );\r\n        const pageNo = Math.floor(dataTablesParameters.minNumber / dataTablesParameters.length);\r\n        const pageSize = dataTablesParameters.length;\r\n        const search=dataTablesParameters.search.value\r\n        this.http.get<any>(`${this.API_URL}`+`/msgApi/getTranslation?pageNo=${pageNo}&pageSize=${pageSize}&search=${search}`)\r\n          .subscribe(resp => {\r\n            ;\r\n            console.log(resp);\r\n            for (let data of resp.result) {\r\n              data.approvedStatus = this.statusArr.find((i) =>\r\n                i.startsWith(data.approvedStatus)\r\n              );\r\n      \r\n              data.recordStatus = this.statusArr.find((i) =>\r\n                i.startsWith(data.recordStatus)\r\n              );\r\n            }\r\n            \r\n            this.totalPages = resp.totalNoOfPages;\r\n            this.totalRecords = resp.totalRecords;\r\n            this.translationList = resp.result;\r\n            this.isLoading = false;\r\n            this.cdr.markForCheck();\r\n\r\n            callback({\r\n              recordsTotal: resp.totalRecords,\r\n              recordsFiltered: resp.totalRecords,\r\n              data: [],\r\n            });\r\n          });\r\n      },\r\n      // columnDefs: [ { type: 'date', 'targets': [5] } ],\r\n      // order: [[5, 'desc']],\r\n\r\n    };\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n    // this.fetchRuleTranslationSummary();\r\n    this.roleService.fetchScreenPermissions('Rule translation');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n  }\r\n\r\n  fetchRuleTranslationSummary() {\r\n    this.isLoading = true;\r\n    this.ruleService.fetchingruleTranslation()\r\n      .subscribe(resp => {\r\n        console.log(resp);\r\n        for (let data of resp.result) {\r\n          data.approvedStatus = this.statusArr.find((i) =>\r\n            i.startsWith(data.approvedStatus)\r\n          );\r\n  \r\n          data.recordStatus = this.statusArr.find((i) =>\r\n            i.startsWith(data.recordStatus)\r\n          );\r\n        }\r\n        this.translationList = resp.result;\r\n        this.isLoading = false;\r\n        this.cdr.markForCheck();\r\n\r\n        this.dtTrigger.next();\r\n      })\r\n  }\r\n\r\n  onGetId(row) {\r\n    console.log(row);\r\n    this.router.navigate(['/rule-translation/edit', row.transId]);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n close(data){\r\n  this.ruleTRespData = data;\r\n  \r\n  Swal.fire(\r\n    {\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3e54b8',\r\n      cancelButtonColor: '#d33',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n    }\r\n  ).then((result => {\r\n    console.log(\"this is reopen \", result);\r\n    if (result.isConfirmed === true) {\r\n      let RuleTranslationData: any = this.ruleTRespData;\r\n      this.addSystem.editruleTranslation(\"close\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n        console.log(response);\r\n        if (response) {\r\n          Swal.fire({\r\n            text: \"Record is Closed\",\r\n            icon: 'success'\r\n          }).then(() => window.location.reload());\r\n          this.ruleTRespData = response;\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.deleted = false;\r\n          this.reopenBtn = false;\r\n        }\r\n      });\r\n    }\r\n  \r\n  }))\r\n  \r\n   \r\n\r\n }\r\n open(data){\r\n   this.ruleTRespData = data;\r\n  \r\n   \r\n  Swal.fire(\r\n    {\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3e54b8',\r\n      cancelButtonColor: '#d33',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n    }\r\n    \r\n  ).then((result => {\r\n    console.log(\"this is reopen \", result);\r\n    \r\n    if (result.isConfirmed === true) {\r\n      let RuleTranslationData: any = this.ruleTRespData;\r\n      this.addSystem.editruleTranslation(\"open\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n        console.log(response);\r\n        if (response) {\r\n          Swal.fire('Record is Reopened').then(() => window.location.reload());\r\n          this.ruleTRespData = response;\r\n          this.authBtnHide = false;\r\n          this.editBtn = false;\r\n          this.authBtn = false;\r\n          \r\n        }\r\n        \r\n      });\r\n    }\r\n  }))\r\n \r\n }\r\n delete(data){\r\n  this.ruleTRespData = data;\r\n  \r\n   \r\n  Swal.fire(\r\n    {\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3e54b8',\r\n      cancelButtonColor: '#d33',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n    }\r\n  ).then((result => {\r\n    console.log(\"this is reopen \", result);\r\n    if (result.isConfirmed === true) {\r\n      let RuleTranslationData: any = this.ruleTRespData;\r\n      console.log(this.ruleTRespData);\r\n      this.addSystem.deleteRuleTranslation(this.currentUser, RuleTranslationData.transId).subscribe((response) => {\r\n        // console.log(response.Text);\r\n        // if(response){\r\n\r\n        // }\r\n      }, (err) => {\r\n        if (err.status == 200) {\r\n          this.showdelete = true;\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.closeBtn = true;\r\n\r\n          Swal.fire({\r\n            title: 'Record is Deleted!',\r\n            confirmButtonText: 'Ok'\r\n          }).then(() => window.location.reload());\r\n\r\n        }\r\n        else {\r\n          Swal.fire(\"Failed to delete the reocrd\");\r\n        }\r\n      });\r\n    }\r\n  }))\r\n  \r\n\r\n  }\r\n\r\n  auth(data){\r\n    this.ruleTRespData = data;\r\n  console.log( this.currentUser); \r\n  console.log(this.ruleTRespData.creatorId)\r\n\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n           confirmButtonText: 'YES','icon':'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \",result);\r\n      if(result.isConfirmed=== true){\r\n        if (this.currentUser == this.ruleTRespData.creatorId) {\r\n          Swal.fire('Maker cannot authorize!');\r\n       }\r\n       else {\r\n         let RuleTranslationData: any = this.ruleTRespData;\r\n         this.addSystem.editruleTranslation(\"auth\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n           console.log(response);\r\n           if (response.approverId) {\r\n             this.authorizeDone = true;\r\n             Swal.fire('Record is Authorized ').then(() => window.location.reload());\r\n             this.ruleTRespData = response;\r\n           }\r\n         });\r\n       }\r\n     }}))\r\n\r\n  }\r\n\r\n\r\n  \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RuleTranslationRoutingModule } from './rule-translation-routing.module';\r\nimport { RuleTranslationComponent } from './rule-translation/rule-translation.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { RuleTranslationSummaryComponent } from './rule-translation-summary/rule-translation-summary.component';\r\nimport { RuleTranslationDetailsComponent } from './rule-translation-details/rule-translation-details.component';\r\nimport { NgSelectComponent, NgSelectModule } from '@ng-select/ng-select';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RuleTranslationComponent,\r\n    RuleTranslationSummaryComponent,\r\n    RuleTranslationDetailsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RuleTranslationRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    DataTablesModule,\r\n    NgSelectModule\r\n  ]\r\n})\r\nexport class RuleTranslationModule { }\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Translation</h2>\r\n  </div>\r\n  <form class=\"formStyle\" *ngIf=\"ruleTransForm\" [formGroup]=\"ruleTransForm\">\r\n    <fieldset [disabled]=\"!submitFlag\">\r\n      <div class=\"dbCardStyle\">\r\n        <div class=\"row gy-4 align-items-end\">\r\n          <div class=\"col-lg-2\">\r\n            <label for=\"roleName\" class=\"formLbl\"\r\n              >Source System <span class=\"colorRed\">*</span></label\r\n            >\r\n            <!-- <ng-select id=\"outlineNgSelect\"\r\n            id=\"sysCode\"\r\n            formControlName=\"systemCode\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSlectionExternalSystem($event)\"\r\n            required\r\n          > -->\r\n            <ng-select\r\n              id=\"outlineNgSelect\"\r\n              id=\"sysCode\"\r\n              formControlName=\"systemCode\"\r\n              [clearable]=\"false\"\r\n              aria-label=\"Default select example\"\r\n              (change)=\"onSlectionExternalSystem($event)\"\r\n              required\r\n            >\r\n              <ng-option hidden value=\"\" disabled selected\r\n                >Please select System</ng-option\r\n              >\r\n              <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\">\r\n                {{ extsys }}\r\n              </ng-option>\r\n            </ng-select>\r\n          </div>\r\n          <div class=\"col-lg-2\">\r\n            <label for=\"roleName\" class=\"formLbl\"\r\n              >Message Type<span class=\"colorRed\">*</span></label\r\n            >\r\n            <div class=\"form-select\" *ngIf=\"forCheck == ''\"></div>\r\n            <div *ngIf=\"forCheck === 'I'\" class=\"message_class\">\r\n              {{ messageArr }}\r\n            </div>\r\n            <div *ngIf=\"forCheck === 'O'\" class=\"form-select\">\r\n              {{ messageArr }}\r\n            </div>\r\n\r\n            <div *ngIf=\"forCheck === 'A'\">\r\n              <select\r\n                id=\"msgType\"\r\n                formControlName=\"messageType\"\r\n                class=\"form-select\"\r\n                aria-label=\"Default select example\"\r\n                (change)=\"onSelectionOFMessageType($event)\"\r\n              >\r\n                <option hidden value=\"\" disabled selected>\r\n                  --Please select--\r\n                </option>\r\n                <option value=\"I\">Incoming</option>\r\n                <option value=\"O\">Outgoing</option>\r\n                <!-- <option value=\"A\">All</option> -->\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            class=\"col-lg-4\"\r\n            *ngIf=\"showFetch == 'XML' && showFormat !== 'JSON'\"\r\n            (click)=\"chooseFile()\"\r\n          >\r\n            <div class=\"fileUpload\">\r\n              <div class=\"formS\">\r\n                <div\r\n                  class=\"file-upload-wrapper\"\r\n                  #fileWrapper\r\n                  data-text=\"File Upload\"\r\n                >\r\n                  <input\r\n                    id=\"chFile\"\r\n                    name=\"file-upload-field\"\r\n                    type=\"file\"\r\n                    class=\"file-upload-field\"\r\n                    (change)=\"selectFileFORHTTPXMLIncoming($event)\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div class=\"row gy-4 align-items-end\">\r\n          <div class=\"col-auto\">\r\n            <a (click)=\"onFetch()\" class=\"btn minWdSmBtn btnPrimary\">Fetch</a>\r\n          </div>\r\n          <div class=\"col-auto\" *ngIf=\"!showRecords\">\r\n            <button\r\n              [routerLink]=\"['/rule-translation/summary']\"\r\n              class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n            >\r\n              Exit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    <!-- *ngIf=\"showRecords\" -->\r\n    <div class=\"dbCardStyle\" *ngIf=\"showRecords\">\r\n      <fieldset [disabled]=\"!submitFlag\">\r\n        <div class=\"table-responsive\">\r\n          <table\r\n            id=\"dbTable1\"\r\n            class=\"table tableStyle responsive nowrap vAlignMdl\"\r\n          >\r\n            <thead>\r\n              <tr *ngIf=\"msgTransDetails.controls\">\r\n                <th *ngIf=\"showFetch == 'MT' || showFetch == 'MX'\">\r\n                  Field No.\r\n                  <span class=\"colorRed\">*</span>\r\n                </th>\r\n                <th *ngIf=\"showFetch == 'XML'\">\r\n                  Tag\r\n                  <span class=\"colorRed\">*</span>\r\n                </th>\r\n                <th *ngIf=\"showFetch == 'JSON'\">\r\n                  Key\r\n                  <span class=\"colorRed\">*</span>\r\n                </th>\r\n                <th *ngIf=\"showFetch == 'DB Connection'\">\r\n                  Column Name\r\n                  <span class=\"colorRed\">*</span>\r\n                </th>\r\n                <th>\r\n                  <ng-container *ngIf=\"showFetch == 'TCP/IP'; else showType\">\r\n                    Data type\r\n                  </ng-container>\r\n                  <ng-template #showType> Data type </ng-template>\r\n                  <span class=\"colorRed\">*</span>\r\n                </th>\r\n                <th>Default value<span class=\"colorRed\">*</span></th>\r\n                <th>Encryption<span class=\"colorRed\">*</span></th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <ng-container formArrayName=\"msgTransDetails\">\r\n                <tr\r\n                  *ngFor=\"let item of msgTransDetails.controls; let i = index\"\r\n                >\r\n                  <ng-container [formGroup]=\"item\">\r\n                    <td>\r\n                      <ng-container *ngIf=\"showFetch == 'TCP/IP'\">\r\n                        <!-- <ng-select id=\"outlineNgSelect\"\r\n                    id=\"fieldNo_{{ i }}\"\r\n                    formControlName=\"messageKey\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onselectOfFieldNo($event,i)\"\r\n                    required\r\n                  > -->\r\n                        <ng-select\r\n                          id=\"outlineNgSelect\"\r\n                          id=\"fieldNo_{{ i }}\"\r\n                          formControlName=\"messageKey\"\r\n                          [clearable]=\"false\"\r\n                          aria-label=\"Default select example\"\r\n                          (change)=\"onselectOfFieldNo($event, i)\"\r\n                          required\r\n                        >\r\n                          <ng-option hidden value=\"\" disabled selected\r\n                            >Please select Field No</ng-option\r\n                          >\r\n                          <!-- <ng-option value=\"\" [selected]=\"isSelected\">--Please Select---</ng-option> -->\r\n                          <ng-option\r\n                            *ngFor=\"let iso2 of fieldNoList\"\r\n                            [value]=\"iso2.messageKey\"\r\n                          >\r\n                            {{ iso2.messageKey }} {{ iso2.messagebasis }}\r\n                          </ng-option>\r\n                        </ng-select>\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngIf=\"showFetch == 'XML' && showFormat !== 'JSON'\"\r\n                      >\r\n                        <select\r\n                        *ngIf=\"msgTransDetails.length <= messageBasisIso.length \"\r\n                          id=\"tag_{{ i }}\"\r\n                          formControlName=\"messagebasis\"\r\n                          class=\"form-select\"\r\n                          aria-label=\"Default select example\"\r\n                          (change)=\"onselectingTag($event, i)\"\r\n                        >\r\n                          <option hidden value=\"\" disabled selected>\r\n                            --Please select--\r\n                          </option>\r\n                          <option\r\n                            [hidden]=\"shouldDisableTagOption(data)\"\r\n                            *ngFor=\"let data of messageBasisIso\"\r\n                            [value]=\"data\"\r\n                          >\r\n                            {{ data }}\r\n                          </option>\r\n                        </select>\r\n                        <input\r\n                        id=\"tag_{{ i }}\"\r\n                        *ngIf=\"msgTransDetails.length > messageBasisIso.length\"\r\n                        formControlName=\"messagebasis\"\r\n                        class=\"form-control\"\r\n                        aria-label=\"Default select example\"\r\n                        required\r\n                      />\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngIf=\"showFetch == 'JSON' && showFormat === 'JSON'\"\r\n                      >\r\n                        <input\r\n                          id=\"fieldNo_{{ i }}\"\r\n                          formControlName=\"messagebasis\"\r\n                          class=\"form-control\"\r\n                          aria-label=\"Default select example\"\r\n                          required\r\n                        />\r\n                        <!-- <input\r\n                      id=\"dataType_{{ i }}\"\r\n                      type=\"text\"\r\n                      formControlName=\"dataType\"\r\n                      class=\"form-control\"\r\n                      value=\"\" -->\r\n                        <!-- <option value=\"\" [selected]=\"isSelected\" >--Please Select---</option>\r\n                        <option *ngFor=\"let mkey of messageBasisData\" [value]=\"mkey.messageKey\">\r\n                          {{mkey.messageKey}}{{mkey.messageBasis}}\r\n                        </option> -->\r\n                        <!-- </select> -->\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngIf=\"showFetch == 'MT' || showFetch == 'MX'\"\r\n                      >\r\n                        <select\r\n                          id=\"db_{{ i }}\"\r\n                          formControlName=\"messagebasis\"\r\n                          class=\"form-select\"\r\n                          aria-label=\"Default select example\"\r\n                          (change)=\"\r\n                            onselectingFieldName($event.target.value, i)\r\n                          \"\r\n                        >\r\n                          <option hidden value=\"\" disabled selected>\r\n                            --Please select--\r\n                          </option>\r\n                          <option *ngFor=\"let data of mTMxResp\" [value]=\"data\">\r\n                            {{ data }}\r\n                          </option>\r\n                        </select>\r\n                        <!-- <input\r\n                  id=\"db_{{ i }}\"\r\n                  formControlName=\"messagebasis\"\r\n                  class=\"form-control\"\r\n                  aria-label=\"Default select example\"\r\n                  required\r\n                > -->\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showFetch == 'DB Connection'\">\r\n                        <!-- <select\r\n                    id=\"db_{{ i }}\"\r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onselectingColumnName($event,i)\"\r\n                  >\r\n                  <option hidden value=\"\" disabled selected  >--Please select--</option>                    \r\n                  <option *ngFor=\"let data of messageBasisData\" \r\n                    [value]=\"data.messageKey\">\r\n                    {{data.messageKey}}{{data.messageBasis}}</option>\r\n                  </select> -->\r\n                        <input\r\n                          id=\"db_{{ i }}\"\r\n                          formControlName=\"messagebasis\"\r\n                          class=\"form-control\"\r\n                          aria-label=\"Default select example\"\r\n                          required\r\n                        />\r\n                      </ng-container>\r\n                    </td>\r\n\r\n                    <td>\r\n                      <ng-container *ngIf=\"showFetch == 'TCP/IP'\">\r\n                        <input\r\n                          id=\"dataType_{{ i }}\"\r\n                          type=\"text\"\r\n                          formControlName=\"dataType\"\r\n                          class=\"form-control\"\r\n                          value=\"\"\r\n                        />\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngIf=\"showFetch == 'JSON' || showFetch == 'XML'\"\r\n                      >\r\n                        <select\r\n                          id=\"dataType_{{ i }}\"\r\n                          formControlName=\"dataType\"\r\n                          class=\"form-select\"\r\n                          aria-label=\"Default select example\"\r\n                        >\r\n                          <option hidden value=\"\" disabled selected>\r\n                            --Please select--\r\n                          </option>\r\n                          <option value=\"numeric\">Numeric</option>\r\n                          <option value=\"alphaNumeric\">Alpha Numeric</option>\r\n                          <option value=\"date\">Date</option>\r\n                        </select>\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngIf=\"showFetch == 'MT' || showFetch == 'MX'\"\r\n                      >\r\n                        <select\r\n                          id=\"dataType_{{ i }}\"\r\n                          formControlName=\"dataType\"\r\n                          class=\"form-select\"\r\n                          aria-label=\"Default select example\"\r\n                        >\r\n                          <option hidden value=\"\" disabled selected>\r\n                            --Please select--\r\n                          </option>\r\n                          <option value=\"numeric\">Numeric</option>\r\n                          <option value=\"alphaNumeric\">Alpha Numeric</option>\r\n                          <option value=\"date\">Date</option>\r\n                        </select>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showFetch === 'DB Connection'\">\r\n                        <select\r\n                          id=\"dataType_{{ i }}\"\r\n                          formControlName=\"dataType\"\r\n                          class=\"form-select\"\r\n                          aria-label=\"Default select example\"\r\n                        >\r\n                          <option hidden value=\"\" disabled selected>\r\n                            --Please select--\r\n                          </option>\r\n                          <option value=\"VARCHAR2\">VARCHAR2</option>\r\n                          <option value=\"NUMBER\">NUMBER</option>\r\n                          <option value=\"DATE\">DATE</option>\r\n                        </select>\r\n                      </ng-container>\r\n                    </td>\r\n\r\n                    <td>\r\n                      <input\r\n                        id=\"responseIndicator_{{ i }}\"\r\n                        formControlName=\"defaultValue\"\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        value=\"\"\r\n                      />\r\n                    </td>\r\n                    <td>\r\n                      <select\r\n                        id=\"encryption_{{ i }}\"\r\n                        formControlName=\"encryption\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                        <option hidden value=\"\" disabled selected>\r\n                          --Please select--\r\n                        </option>\r\n                        <!-- <option value=\"\" [selected]=\"isSelected\">--Please Select---</option> -->\r\n                        <option value=\"No Encryption\">No Encryption</option>\r\n                        <option value=\"BASE64\">BASE 64</option>\r\n                        <option value=\"SHA256\">SHA 256</option>\r\n                        <option value=\"SHA512\">SHA 512</option>\r\n                      </select>\r\n                    </td>\r\n                    <td class=\"tblIcon\">\r\n                      <a\r\n                        *ngIf=\"submitFlag\"\r\n                        (click)=\"removeTranslation(i)\"\r\n                        class=\"deleteIcon2\"\r\n                        ><img src=\"assets/images/delete-icon.svg\" alt=\"...\"\r\n                      /></a>\r\n                      <!-- <button *ngIf=\"submitFlag\" (click)=\"removeTranslation(i)\" class=\"deleteIcon2\"\r\n                    ><img src=\"assets/images/delete-icon.svg\" alt=\"...\"\r\n                  /></button> -->\r\n                    </td>\r\n                  </ng-container>\r\n                </tr>\r\n              </ng-container>\r\n\r\n              <tr>\r\n                <td>\r\n                  <button\r\n                    *ngIf=\"submitFlag\"\r\n                    (click)=\"addTransaltionGroup('')\"\r\n                    class=\"addIcon primarybg\"\r\n                  >\r\n                    <span\r\n                      ><img src=\"assets/images/plus-icon.svg\" alt=\"...\"\r\n                    /></span>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </fieldset>\r\n      <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n        <div\r\n          class=\"col-auto\"\r\n          *ngIf=\"\r\n            !(\r\n              translationResp?.recordStatus == 'C' ||\r\n              translationResp?.recordStatus == 'CLOSED'\r\n            ) && roleCodes.edit\r\n          \"\r\n        >\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnUpdate\"\r\n            [hidden]=\"hideEdit\"\r\n            (click)=\"editValues()\"\r\n          >\r\n            {{ roleCodes.edit.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <button\r\n            (click)=\"onSubmit()\"\r\n            [hidden]=\"hideSubmit\"\r\n            [disabled]=\"!submitFlag || ruleTransForm.invalid\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          *ngIf=\"\r\n            (translationResp?.approvedStatus == 'U' ||\r\n              translationResp?.approvedStatus == 'N' ||\r\n              translationResp?.approvedStatus == 'UNAUTHORIZED') &&\r\n            roleCodes.auth\r\n          \"\r\n        >\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnAuth\"\r\n            [hidden]=\"!hideSubmit\"\r\n            (click)=\"auditChangeRuleTranslation('auth')\"\r\n          >\r\n            {{ roleCodes.auth.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          *ngIf=\"\r\n            (translationResp?.recordStatus == 'O' ||\r\n              translationResp?.recordStatus == 'OPEN') &&\r\n            translationResp?.approvedEver != 'NO' &&\r\n              translationResp?.approvedEver != 'N' &&\r\n            roleCodes.close\r\n          \"\r\n        >\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            [hidden]=\"!hideSubmit\"\r\n            (click)=\"auditChangeRuleTranslation('close')\"\r\n          >\r\n            {{ roleCodes.close.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          *ngIf=\"\r\n            (translationResp?.recordStatus == 'C' ||\r\n              translationResp?.recordStatus == 'CLOSED') &&\r\n            roleCodes.reopen\r\n          \"\r\n        >\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            [hidden]=\"!hideSubmit\"\r\n            (click)=\"auditChangeRuleTranslation('open')\"\r\n          >\r\n            {{ roleCodes.reopen.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          *ngIf=\"\r\n            (translationResp?.approvedEver == 'NO' ||\r\n              translationResp?.approvedEver == 'N') &&\r\n            !showdelete &&\r\n            roleCodes.delete\r\n          \"\r\n        >\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            [hidden]=\"!hideSubmit\"\r\n            (click)=\"deleteRuleTranslation()\"\r\n          >\r\n            {{ roleCodes.delete.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\" *ngIf=\"showRecords\">\r\n          <button\r\n            [routerLink]=\"['/rule-translation/summary']\"\r\n            class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n          >\r\n            Exit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n  <br />\r\n  <div class=\"dbCardStyle\" *ngIf=\"showAuditLog\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n                <i class=\"fa fa-edit faClass\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker</h2>\r\n                <p>{{ translationResp?.creatorId }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n                <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker Time Stamp</h2>\r\n                <p>\r\n                  {{\r\n                    translationResp?.createdTime | date : \"MM/dd/yyyy, h:mm a\"\r\n                  }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n                <img src=\"assets/images/record-status-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Record Status</h2>\r\n                <p>{{ translationResp?.recordStatus }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n                <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker</h2>\r\n                <p>{{ translationResp?.approverId }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n                <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker Time Stamp</h2>\r\n                <p>\r\n                  {{\r\n                    translationResp?.approvedTime | date : \"MM/dd/yyyy, h:mm a\"\r\n                  }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n                <img src=\"assets/images/first-auth-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>First Time Authorization</h2>\r\n                <p>{{ translationResp?.approvedEver }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n                <img\r\n                  src=\"assets/images/authorize.svg\"\r\n                  alt=\"...\"\r\n                  class=\"modImage\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Authorization Status</h2>\r\n                <p>{{ translationResp?.approvedStatus }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n                <img\r\n                  src=\"assets/images/modification.svg\"\r\n                  class=\"modImage\"\r\n                  alt=\"...\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Modification Number</h2>\r\n\r\n                <p>{{ translationResp?.versionNo }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n\r\nimport Swal from 'sweetalert2';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { event } from 'jquery';\r\nimport { DataValueType } from 'highcharts';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'npr-rule-translation',\r\n  templateUrl: './rule-translation.component.html',\r\n  styleUrls: ['./rule-translation.component.scss'],\r\n  providers: [DatePipe]\r\n})\r\nexport class RuleTranslationComponent implements OnInit, IDeactivateComponent {\r\n  submitFlag: boolean = true;\r\n  externalSystem: any;\r\n  ruleTransForm: FormGroup;\r\n  isSelected: boolean = true;\r\n  hideSubmit: boolean = false;\r\n  showdelete: boolean;\r\n  hideEdit: boolean = true;\r\n  formTouched: boolean = true;\r\n  msgTranslation: any = new msgTranslation();\r\n  translationDTO: any;\r\n  sourcesystem: any;\r\n  showRecords: boolean;\r\n  currentUser: string;\r\n  showAuditLog: boolean;\r\n  msgType: any;\r\n  translationDataOperation: any;\r\n  selectedFiles: any;\r\n  currentFileUpload: any;\r\n  recordSaved: boolean = false;\r\n\r\n  translationDataService: any;\r\n\r\n  showFetch: any;\r\n  showFormat: any;\r\n\r\n  matlabel1: string;\r\n  matlabel2: string;\r\n  headerTagData: any;\r\n  messageBasisIso: any;\r\n  messageKeyIso: any;\r\n  xmlRespData: any;\r\n  sourcesysData: any;\r\n  translationResp: any;\r\n  transId: any;\r\n  fileName: any;\r\n  disableSubmit: boolean = false;\r\n  disableReset: boolean = false;\r\n  uploadXmlResp: any;\r\n  desSystem: any[] = [];\r\n  mtype: string[];\r\n  isoRespData: any = [];\r\n  tempArrayList: any[] = [];\r\n  fieldNoList: { messageKey: any, messagebasis: any, dataType: any, defaultValue: any }[] = [];\r\n  dbConnectionList: any[] = [];\r\n  @ViewChild('fileWrapper') fileUploadWrapper: ElementRef;\r\n  roleCodes = new permissionsLabels();\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  columnNameDD: any = [];\r\n  messageBasisData: any = [];\r\n  mdmtSystemChannel: any = [];\r\n  multipleOperation: boolean = true;\r\n  multipleService: boolean = true;\r\n  forCheck: any;\r\n  messageArr: string;\r\n  mTMxResp: any[] = [];\r\n  // transResp: any;\r\n\r\n\r\n  constructor(private rules: RuleService,\r\n    private addSystem: AddSystemService,\r\n    private formBuilder: FormBuilder,\r\n    private cdr: ChangeDetectorRef,\r\n    private roleService: RoleService,\r\n    private router: Router, private canDeactivateGuard: CanDeactivateGuard,\r\n    private datePipe: DatePipe\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n\r\n    this.ruleTransForm = this.formBuilder.group({\r\n      transId: this.transId,\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"Conversion\"],\r\n      operationName: [\"Conversion\"],\r\n      msgTransDetails: this.formBuilder.array([])\r\n    });\r\n\r\n    this.roleService.fetchScreenPermissions('Rule translation');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n    this.addTransaltionGroup({});\r\n    // this.msgTranslation.messageType = \"null\";\r\n    // this.addTransaltionGroup();\r\n    this.gettingExternalsystem();\r\n    this.fetchingHeadertag();\r\n    // this.fetchingIso();\r\n\r\n    this.forCheck = '';\r\n\r\n  }\r\n\r\n  getTranslationItem(item) {\r\n    console.log(item);\r\n    return this.formBuilder.group({\r\n      messagebasis: [item.messagebasis ? item.messagebasis : \"\"],\r\n      headerTag: [item.headerTag ? item.headerTag : \"\"],\r\n      defaultValue: [item.defaultValue ? item.defaultValue : \"\"],\r\n      systemChannelId: [item.systemChannelId ? item.systemChannelId : \"\"],\r\n      encryption: [item.encryption ? item.encryption : \"No Encryption\"],\r\n      id: [item.id ? item.id : ''],\r\n      dataType: [item.dataType ? item.dataType : ''],\r\n      messageKey: [item.messageKey ? item.messageKey : '']\r\n    });\r\n  }\r\n\r\n  get msgTransDetails() {\r\n    return this.ruleTransForm.get('msgTransDetails') as FormArray;\r\n  }\r\n\r\n  addTransaltionGroup(item) {\r\n    this.msgTransDetails.push(this.getTranslationItem(item));\r\n  }\r\n\r\n  removeTranslation(index: number) {\r\n\r\n    \r\n    // console.log(\"xfcvbncxcvbn\");\r\n    \r\n    Swal.fire({\r\n      title: 'are you sure, want to remove the record?',\r\n      showDenyButton: true,\r\n      // showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      denyButtonText: `No`,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        if (this.tempArrayList[index]) {\r\n          this.tempArrayList.splice(index, 1);\r\n        }\r\n        if (this.desSystem[index]) {\r\n          this.desSystem.splice(index, 1);\r\n        }\r\n        this.msgTransDetails.removeAt(index);\r\n        console.log(this.ruleTransForm.valid);\r\n        Swal.fire('Removed!', '', 'success');\r\n        this.ruleTransForm.setErrors({'customeError':false})\r\n        console.log(this.ruleTransForm.valid);\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n\r\n  canExit(): Promise<boolean> {\r\n    let isExit: boolean = false;\r\n    if (this.ruleTransForm.touched && this.formTouched == true) {\r\n      return Swal.fire({\r\n        text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info',\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n        else {\r\n          isExit = false;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n\r\n      });\r\n    }\r\n    else {\r\n      isExit = true;\r\n      return new Promise((resolve, reject) => {\r\n        if (isExit === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          resolve(true);\r\n        }\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n  auditLog() {\r\n\r\n    if (this.translationResp.approvedStatus === 'U') {\r\n      this.translationResp.approvedStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (this.translationResp.approvedStatus === 'A') {\r\n      this.translationResp.approvedStatus = 'AUTHORIZED'\r\n    }\r\n    if (this.translationResp.recordStatus === 'O') {\r\n      this.translationResp.recordStatus = 'OPEN'\r\n    }\r\n    if (this.translationResp.recordStatus === 'C') {\r\n      this.translationResp.recordStatus = 'CLOSED'\r\n    }\r\n    if (this.translationResp.approvedEver === 'N') {\r\n      this.translationResp.approvedEver = 'NO'\r\n    }\r\n    if (this.translationResp.approvedEver === 'Y') {\r\n      this.translationResp.approvedEver = 'YES'\r\n    }\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rules.gettingExternalsystem().subscribe(extSysResp => {\r\n      console.log(extSysResp);\r\n      if (extSysResp) {\r\n        this.externalSystem = extSysResp.sort();\r\n        this.sourcesysData = this.externalSystem;\r\n      }\r\n    },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      })\r\n  }\r\n  onSlectionExternalSystem(event: any) {\r\n    this.msgTransDetails.clear();\r\n    this.addTransaltionGroup({})\r\n    this.ruleTransForm.get('operationName').patchValue(\"\");\r\n    this.ruleTransForm.get('serviceName').patchValue(\"\");\r\n    console.log(event);\r\n    this.tempArrayList = [];\r\n    this.sourcesystem = event;\r\n    this.rules.getAddSystem(this.sourcesystem).subscribe((resp: any) => {\r\n      console.log(\"PAtch REsp\", resp);\r\n      if (resp) {\r\n\r\n        this.forCheck = resp.messsageType;\r\n        if (this.forCheck === 'I') {\r\n          this.messageArr = \"Incoming\";\r\n        }\r\n        else if (this.forCheck === 'O') {\r\n          this.messageArr = \"Outgoing\";\r\n        }\r\n\r\n\r\n        this.ruleTransForm.patchValue(resp);\r\n        this.msgTranslation.messageType = resp.messsageType;\r\n        this.msgTranslation.operationName = resp.operationName;\r\n        this.msgTranslation.serviceName = resp.serviceName;\r\n        if (resp.messsageType == 'A') {\r\n          this.msgTranslation.messageType = 'I';\r\n          this.ruleTransForm.get('messageType').patchValue(this.msgTranslation.messageType);\r\n        }\r\n        this.ruleTransForm.get('messageType').patchValue(this.msgTranslation.messageType);\r\n        this.cdr.markForCheck();\r\n        console.log(this.msgTranslation);\r\n        this.gettingoperationAndService(this.sourcesystem, this.msgTranslation.messageType);\r\n\r\n      }\r\n    })\r\n  }\r\n  onSelectionOFMessageType(event: any) {\r\n    this.msgType = event.target.value;\r\n    console.log(this.msgType, this.sourcesystem);\r\n    if (this.sourcesystem && this.msgType) {\r\n      this.gettingoperationAndService(this.sourcesystem, this.msgType);\r\n    }\r\n    else {\r\n      console.log(\"enter both msg and ext\")\r\n    }\r\n  }\r\n  gettingoperationAndService(sourcesystem, msgType) {\r\n    this.rules.gettingoperationAndService(sourcesystem, msgType, this.currentUser)\r\n      .subscribe((translationResp: any) => {\r\n        console.log(\"translationResp - \", translationResp);\r\n        // this.transResp=translationResp;\r\n        // console.log(\"msgType - \",msgType);\r\n        this.messageBasisData = translationResp.MdmtSystemService;\r\n        this.mdmtSystemChannel = translationResp.MdmtSystemChannel;\r\n        let keys = Object.keys(translationResp);\r\n        console.log(this.messageBasisData)\r\n        let x = keys[2];\r\n        let y = keys[3];\r\n\r\n        for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n          if (translationResp.MdmtSystemChannel[index].messageType === msgType) {\r\n            this.showFetch = translationResp.MdmtSystemChannel[index].messageChannel;\r\n            this.showFormat = translationResp.MdmtSystemChannel[index].messageFormat;\r\n          }\r\n        }\r\n        // console.log(this.showFetch);\r\n        if (this.showFetch == 'Https/Http') {\r\n          this.showFetch = translationResp.MdmtSystemChannel[0].messageFormat;\r\n          // this.fetchingXMl();\r\n          // for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n          //   if(translationResp.MdmtSystemChannel[index].messageType === 'I') {\r\n          //     for (let subIndex = 0; subIndex < translationResp.MdmtSystemChannel[index].sysService.length; subIndex++) {\r\n          //       let systemCode = translationResp.MdmtSystemChannel[index].sysService[subIndex].messageKey.split(\",\", 4);\r\n          //       let item = {\r\n          //         // messageKey: null, \r\n          //         // messagebasis: systemCode[1],\r\n          //         // dataType: translationResp.MdmtSystemChannel[index].sysService[subIndex].dataType,\r\n          //         // defaultValue:  systemCode[3],\r\n          //       }\r\n          //       this.addTransaltionGroup(item);\r\n          //     }\r\n          //     // console.log(this.ruleTransForm.value);\r\n          //   }\r\n          // }\r\n        }\r\n        else if (this.showFetch == 'TCP/IP') {\r\n          this.fetchingIso();\r\n        }\r\n        else if (this.showFetch == 'DB Connection') {\r\n          this.addSystem.coulmnNameBasedonTableName(\r\n            translationResp.MdmtSystemChannel[0].dbConnectString,\r\n            translationResp.MdmtSystemChannel[0].dbServiceName,\r\n            translationResp.MdmtSystemChannel[0].dbUsername,\r\n            translationResp.MdmtSystemChannel[0].dbPassword,\r\n            translationResp.MdmtSystemChannel[0].sysService[0].messageKey.split(\",\", 1)\r\n          ).subscribe((resp) => {\r\n            resp.forEach(element => {\r\n              this.columnNameDD.push(element[1]);\r\n            });\r\n          });\r\n          console.log(this.columnNameDD)\r\n          if (msgType === 'I') {\r\n            console.log(translationResp.MdmtSystemChannel[0].messageType)\r\n            // for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n            //   if(translationResp.MdmtSystemChannel[index].messageType === 'I') {\r\n            //     for (let subIndex = 0; subIndex < translationResp.MdmtSystemChannel[index].sysService.length; subIndex++) {\r\n            //       let systemCode = translationResp.MdmtSystemChannel[index].sysService[subIndex].messageKey.split(\",\", 4);\r\n            //       let item = {\r\n            //         // messageKey: null, \r\n            //         // messagebasis: systemCode[1],\r\n            //         // dataType: translationResp.MdmtSystemChannel[index].sysService[subIndex].dataType,\r\n            //         // defaultValue:  systemCode[3],\r\n            //       }\r\n            //       this.addTransaltionGroup(item);\r\n            //     }\r\n            //     console.log(this.ruleTransForm.value);\r\n            //   }\r\n            // }\r\n          }\r\n          else if (msgType === 'O') {\r\n            console.log(translationResp)\r\n            // for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n            //   // console.log(translationResp.MdmtSystemChannel[index].messageType)\r\n            //   if(translationResp.MdmtSystemChannel[index].messageType === 'O') {\r\n            //     for (let subIndex = 0; subIndex < translationResp.MdmtSystemChannel[index].sysService.length; subIndex++) {\r\n            //       let systemCode = translationResp.MdmtSystemChannel[index].sysService[subIndex].messageKey.split(\",\", 2);\r\n            //       console.log(systemCode);\r\n            //       let item = {\r\n            //         // messageKey: null, \r\n            //         // messagebasis: systemCode[1],\r\n            //         // dataType: translationResp.MdmtSystemChannel[index].sysService[subIndex].dataType,\r\n            //         // defaultValue:  systemCode[3],\r\n            //       }\r\n            //       console.log(item);\r\n            //       this.addTransaltionGroup(item);\r\n            //     }\r\n            //     // console.log(this.ruleTransForm.value);\r\n            //   }\r\n            // }\r\n          }\r\n        }\r\n        else if (this.showFetch == 'MT') {\r\n          this.addSystem.getMtApi().subscribe(resp => {\r\n            console.log(\"mt resp\", resp)\r\n            this.mTMxResp = resp;\r\n          })\r\n\r\n        }\r\n        else if (this.showFetch == 'MX') {\r\n          this.addSystem.getMxApi().subscribe(resp => {\r\n            console.log(\"mx resp\", resp)\r\n            this.mTMxResp = resp;\r\n          })\r\n        }\r\n      }, (err => {\r\n        // console.log(err);\r\n        // Swal.fire({text:'External system Service data not present'})\r\n      }))\r\n  }\r\n\r\n  onSubmit() {\r\n\r\n    // console.log(this.ruleTransForm.value);\r\n    // console.log(this.ruleTransForm.get('transId').value);\r\n\r\n    this.ruleTransForm.value.operationName = 'Conversion'\r\n    this.ruleTransForm.value.serviceName = 'Conversion'\r\n    if (this.ruleTransForm.get('transId').value) {\r\n      this.rules.editruleTranslation(\"update\", this.currentUser, this.ruleTransForm.value).subscribe((ruleTranslationResp) => {\r\n        console.log(ruleTranslationResp);\r\n        this.translationResp = ruleTranslationResp;\r\n        this.ruleTransForm.patchValue(ruleTranslationResp);\r\n        this.auditLog();\r\n        if (ruleTranslationResp) {\r\n          this.recordSaved = true;\r\n          Swal.fire({\r\n            text: \"Record is updated!\",\r\n            icon: 'success'\r\n          });\r\n          this.ruleTransForm.disable();\r\n          this.msgTransDetails.disable();\r\n          this.formTouched = !this.ruleTransForm.touched;\r\n          this.hideSubmit = true;\r\n          this.hideEdit = false;\r\n          this.showAuditLog = true;\r\n          this.submitFlag = false;\r\n          this.disableSubmit = true;\r\n          this.disableReset = true;\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      this.rules.submittingruleTranslation(this.currentUser, this.ruleTransForm.value).subscribe(ruleTranslationResp => {\r\n        console.log(ruleTranslationResp);\r\n        this.translationResp = ruleTranslationResp;\r\n        this.ruleTransForm.patchValue(ruleTranslationResp);\r\n        this.auditLog()\r\n        if (ruleTranslationResp) {\r\n          this.recordSaved = true;\r\n          Swal.fire({\r\n            text: \"Record is Created\",\r\n            icon: 'success'\r\n          });\r\n          this.ruleTransForm.disable();\r\n          this.msgTransDetails.disable();\r\n          this.formTouched = !this.ruleTransForm.touched;\r\n          this.hideSubmit = true;\r\n          this.hideEdit = false;\r\n          this.showAuditLog = true;\r\n          this.submitFlag =true;\r\n          this.disableSubmit = true;\r\n          this.disableReset = true;\r\n        }\r\n      }, (err => {\r\n        this.disableSubmit = true;\r\n        console.log(\"error: : \", err.error);\r\n        Swal.fire({ text: 'Rule Translation already exist kindly recheck the data.', icon: 'error' });\r\n      }))\r\n    }\r\n  }\r\n  onFetch() {\r\n    this.showRecords = true;\r\n    console.log(this.showFetch);\r\n    if (this.showFetch == 'DB Connection') {\r\n      this.dbConnectionList = this.messageBasisData;\r\n      console.log(this.dbConnectionList);\r\n      for (let index = 0; index < this.dbConnectionList.length; index++) {\r\n        this.tempArrayList[index] = this.dbConnectionList[index];\r\n      }\r\n      console.log(\"this.tempArrayList \", this.tempArrayList);\r\n    }\r\n\r\n    if (this.sourcesystem == 'E-ISO') {\r\n      for (let index = 0; index < this.msgTransDetails.controls.length; index++) {\r\n        this.tempArrayList[index] = this.msgTransDetails.at(index).get('messageKey').value;\r\n      }\r\n      console.log(this.tempArrayList);\r\n    }\r\n    console.log(\"translationDeatils\", this.msgTransDetails.value);\r\n\r\n  }\r\n  onReset() {\r\n    this.ruleTransForm.reset();\r\n    this.msgTransDetails.clear();\r\n    this.showRecords = false;\r\n    this.disableSubmit = false;\r\n  }\r\n\r\n\r\n  selectFileFORHTTPXMLIncoming(event: any) {\r\n    // console.log(\"here http and xML\", event);\r\n    this.selectedFiles = event.target.files;\r\n    // this.sizeOfFile = this.selectedFiles.item(0).size;\r\n    // console.log(this.sizeOfFile);\r\n    // console.log(this.selectedFiles);\r\n    // console.log(this.selectedFiles[0].name);\r\n    this.fileName = this.selectedFiles[0].name;\r\n\r\n    this.fileUploadWrapper.nativeElement.setAttribute('data-text', this.fileName);\r\n    this.currentFileUpload = this.selectedFiles.item(0);\r\n\r\n\r\n\r\n    console.log(event.target.files);\r\n    this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(xmlHttpResp => {\r\n      console.log(\"XML\", xmlHttpResp);\r\n      this.msgTransDetails.controls.length = 0;\r\n      this.uploadXmlResp = xmlHttpResp;\r\n      if (xmlHttpResp) {\r\n        this.messageBasisIso = xmlHttpResp.nodeTagList;\r\n        this.showRecords = true;\r\n        this.addTransaltionGroup({});\r\n      }\r\n\r\n    })\r\n  }\r\n  fetchingHeadertag() {\r\n    this.addSystem.fetchingHeaderTag().subscribe(resp => {\r\n      console.log(\"res\", resp);\r\n      this.headerTagData = resp;\r\n    })\r\n  }\r\n\r\n  onselectOfFieldNo(event, i) {\r\n    console.log(event);\r\n    console.log(this.tempArrayList[i]);\r\n    if (this.tempArrayList[i]) {\r\n      this.tempArrayList[i] = event;\r\n    }\r\n    else {\r\n      this.tempArrayList.push(event);\r\n    }\r\n  }\r\n\r\n  auditChangeRuleTranslation(operation) {\r\n    let message = '';\r\n    let operationType = '';\r\n    switch (operation) {\r\n      case 'open':\r\n        message = 'opened'\r\n        operationType = 'open'\r\n        break;\r\n      case 'close':\r\n        message = 'closed'\r\n        operationType = 'close'\r\n        break;\r\n      case 'auth':\r\n        message = 'authorized'\r\n        operationType = 'authorize'\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    Swal.fire(\r\n      {\r\n        text: `You are trying to ${operationType} record. ` + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.translationResp.creatorId) {\r\n          Swal.fire(`Maker cannot ${operationType}!`);\r\n        }\r\n        else {\r\n          let RuleTranslationData: any = this.translationResp;\r\n          this.addSystem.editruleTranslation(operation, this.currentUser, RuleTranslationData).subscribe((response) => {\r\n            console.log(response);\r\n            if (response) {\r\n              Swal.fire(`Record is ${message}`);\r\n              this.translationResp = response;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }))\r\n  }\r\n\r\n  editValues() {\r\n    this.hideSubmit = false;\r\n    this.hideEdit = true;\r\n    this.submitFlag = true;\r\n    this.showAuditLog = true;\r\n    this.ruleTransForm.enable();\r\n    this.msgTransDetails.enable();\r\n  }\r\n\r\n  deleteRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let RuleTranslationData: any = this.translationResp;\r\n        console.log(this.translationResp);\r\n        this.addSystem.deleteRuleTranslation(this.currentUser, RuleTranslationData.transId).subscribe((response) => {\r\n        }, (err) => {\r\n          if (err.status == 200) {\r\n            this.showdelete = true;\r\n            Swal.fire({\r\n              title: 'Record is Deleted!',\r\n              confirmButtonText: 'Ok'\r\n            }).then((result) => {\r\n              if (result) {\r\n                this.router.navigateByUrl('/rule-translation/summary')\r\n              }\r\n            });\r\n\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n\r\n  onselectingTag(event, i) {\r\n    // if(this.tempArrayList[i]){\r\n    //   this.tempArrayList[i] = event.target.value;\r\n    // }\r\n    // else{\r\n    //   this.tempArrayList.push(event.target.value);\r\n    // }\r\n    console.log(this.uploadXmlResp);\r\n    var result = Object.keys(this.uploadXmlResp.nodeValueMap).map((key) => [(key), this.uploadXmlResp.nodeValueMap[key]]);\r\n    console.log(\"result\", result);\r\n    var x = result.find(item => item[0] == event.target.value);\r\n    console.log(x);\r\n    this.msgTransDetails.at(i).get('defaultValue').patchValue(x[1]);\r\n    this.desSystem.push(event.target.value);\r\n    //   this.mdmtSystemService[i].dataType=x.dataType;\r\n\r\n  }\r\n\r\n  onselectingColumnName(event, i) {\r\n    console.log(this.columnNameDD);\r\n    var result = Object.keys(this.columnNameDD.nodeValueMap).map((key) => [(key), this.columnNameDD.nodeValueMap[key]]);\r\n    console.log(\"result\", result);\r\n    var x = result.find(item => item[0] == event.target.value);\r\n    console.log(x);\r\n    this.msgTransDetails.at(i).get('defaultValue').patchValue(x[1]);\r\n    this.desSystem.push(event.target.value);\r\n  }\r\n\r\n\r\n  fetchingIso() {\r\n\r\n    this.msgTransDetails.controls = [];\r\n    this.addSystem.fetchingIsoForTcp().subscribe((isoResp: any) => {\r\n      console.log(\"isoResp\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      for (let index = 0; index < isoResp.length; index++) {\r\n        this.addTransaltionGroup({});\r\n        let item = {\r\n          messageKey: isoResp[index].fieldNo,\r\n          messagebasis: isoResp[index].fieldName,\r\n          dataType: isoResp[index].dataType,\r\n          defaultValue: null,\r\n        }\r\n        this.msgTransDetails.at(index).patchValue(item);\r\n        this.fieldNoList[index] = item;\r\n      }\r\n\r\n\r\n      console.log(\"arrayObj 3\", this.msgTransDetails.value);\r\n\r\n\r\n\r\n      // this.translationDeatils = arrayObj;\r\n\r\n      // console.log(\"tra\", this.translationDeatils);\r\n\r\n      // for dropdown 2\r\n      this.messageKeyIso = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n    });\r\n  }\r\n  onsearchingTablName(event) {\r\n    console.log(event.target.value);\r\n\r\n    console.log(\"this is arr\", this.sourcesysData);\r\n    if (this.sourcesysData) {\r\n      let data = this.sourcesysData.filter(function (e) {\r\n        let extValue = e.toLowerCase();\r\n\r\n        let value = event.target.value.toLowerCase();\r\n        console.log(extValue, value);\r\n        // return !extValue.indexOf(value);//changed this for 1192\r\n        return extValue.search(value) > -1\r\n      });\r\n      console.log(data);\r\n      this.externalSystem = data;\r\n\r\n    }\r\n\r\n  }\r\n  chooseFile() {\r\n    console.log(\"heyy file\")\r\n    document.getElementById('chFile').click();\r\n  }\r\n\r\n  //gettingxml records\r\n  fetchingXMl() {\r\n    this.addSystem.gettinXMLmsgIncoming().subscribe(xmlResp => {\r\n      console.log(xmlResp);\r\n      this.xmlRespData = xmlResp;\r\n      //  this.messageBasisIso=xmlResp.map((data)=>{\r\n      //       return data.messageBasis;\r\n      //     });\r\n    });\r\n\r\n  }\r\n\r\n\r\n  try(value) {\r\n    if (this.tempArrayList.find(item => item == value)) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  check(event, value) {\r\n\r\n    console.log(\"ev\", event.value);\r\n    this.desSystem.push(event.value);\r\n    // this.destination=event.value;\r\n    // this.addSystem.gettingHederofXMl(this.currentFileUpload).subscribe(xmlResp=>{\r\n    //   console.log(xmlResp);\r\n    //   if(xmlResp)\r\n    //   {\r\n    //   this.messageBasisIso=xmlResp;\r\n    //   Swal.fire({text:'File Uploaded Successfully'});\r\n    //   }\r\n    // },(err)=>{\r\n    //   console.log(err);\r\n    //   Swal.fire({text:'Invalid Xml file provided'});\r\n    // })\r\n\r\n  }\r\n  shouldDisableTagOption(option) {\r\n    // console.log(this.messageBasisIso);\r\n    return this.desSystem.includes(option);\r\n  }\r\n  onselectingFieldName(event, i) {\r\n    this.msgTransDetails.at(i).get('defaultValue').patchValue('');\r\n    if (event === 'MIRDate' || event === \"ReceiverOutputDate\" || event === \"CreDt\") {\r\n      const dateValue = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue(dateValue);\r\n    }\r\n    if (event === 'ReceiverOutputTime' || event === 'SenderInputTime') {\r\n      var d = new Date(); // for now\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue(d.getHours() + \":\" + d.getMinutes());\r\n    }\r\n    if (event === 'MessagePriority') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('N');\r\n    }\r\n    if (event === 'MessageType') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('103');\r\n    }\r\n    if (event === 'blockType') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('O');\r\n    }\r\n    if (event === 'MsgDefIdr') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue('pacs.008.001.07');\r\n    }\r\n    if (event === 'PssblDplct') {\r\n      this.msgTransDetails.at(i).get('defaultValue').patchValue(false);\r\n    }\r\n  }\r\n}\r\nexport class msgTranslation {\r\n  id: any;\r\n  systemCode: any;\r\n  messageType: any;\r\n  operationName: any;\r\n  serviceName: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n  msgTransDetails: any;\r\n}\r\n"]}