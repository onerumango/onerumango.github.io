{"version":3,"mappings":"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","names":["_angular_core__WEBPACK_IMPORTED_MODULE_7__","ctx_r69","value","RuleTranslationDetailsComponent","rules","roleService","addSystem","router","cdr","_route","formBuilder","elementRef","canDeactivateGuard","toastService","msgTranslation","translationDTO","rxjs__WEBPACK_IMPORTED_MODULE_8__","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_0__","currentUser","localStorage","getItem","ruleTransForm","group","transId","systemCode","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","messageType","serviceName","operationName","msgTransDetails","array","gettingExternalsystem","fetchingHeadertag","getById","snapshot","params","fetchScreenPermissions","screenLabelList","subscribe","roleCodes","message","setTimeout","console","log","disable","ruleTranslationBasedonId","resp","translationDeatils","editRuleTransResp","ruleTRespData","get","setValue","patchValue","index","length","addTransaltionGroup","item","at","Object","formattedMessageBasis","messageKey","messagebasis","markForCheck","onSelectionOFMessageType","onSlectionExternalSystem","gettingoperationAndService","recordStatus","reopenBtn","authBtnHide","approvedStatus","authBtn","extSysResp","externalSystem","err","event","sourcesystem","isExit","touched","formTouched","sweetalert2__WEBPACK_IMPORTED_MODULE_1___default","text","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","icon","then","result","isConfirmed","Promise","resolve","reject","msgType","source","logginuser","translationResp","messageBasisData","MdmtSystemService","mdmtSystemChannel","MdmtSystemChannel","keys","x","y","I","SERVICE","headerValue","translationDataOperation","multipleService","OPERATION","multipleOperation","translationDataService","O","showFetch","messageChannel","showFormat","messageFormat","fetchingIso","coulmnNameBasedonTableName","dbConnectString","dbServiceName","dbUsername","dbPassword","sysService","split","forEach","columnNameDD","push","element","updatedFormData","map","data","rest","msgTranslationDet","ruleRecord","editruleTranslation","ruleTranslationResp","submit","showAuditLog","editValue","hideSubmit","showRecords","headerTag","defaultValue","systemChannelId","encryption","id","dataType","getTranslationItem","title","showDenyButton","denyButtonText","removeAt","selectedFiles","target","files","name","fileName","fileUploadWrapper","nativeElement","setAttribute","currentFileUpload","gettingBodyOfXml","xmlHttpResp","xmlRespData","afterupload","messageBasisIso","nodeTagList","fetchingHeaderTag","headerTagData","fetchingIsoForTcp","isoResp","matlabel1","fieldName","messageKeyIso","fieldNo","toString","gettinXMLmsgIncoming","xmlResp","messageBasis","displaySubmit","onlysubmit","document","getElementById","click","creatorId","RuleTranslationData","response","approverId","authorizeDone","enable","iconColor","editBtn","deleted","deleteRuleTranslation","status","showdelete","closeBtn","navigateByUrl","selectors","viewQuery","routes","path","component","_rule_translation_rule_translation_component__WEBPACK_IMPORTED_MODULE_3__","canDeactivate","src_app_shared_guards_can_deactivate_guard__WEBPACK_IMPORTED_MODULE_0__","_rule_translation_details_rule_translation_details_component__WEBPACK_IMPORTED_MODULE_1__","_rule_translation_summary_rule_translation_summary_component__WEBPACK_IMPORTED_MODULE_2__","RuleTranslationRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_5__","imports","exports","RuleTranslationSummaryComponent","ruleService","http","src_app_shared_config_app_constant__WEBPACK_IMPORTED_MODULE_2__","dtOptions","pagingType","pageLength","columnDefs","type","order","serverSide","lengthMenu","ajax","dataTablesParameters","callback","minNumber","start","maxNumber","pageNo","Math","floor","pageSize","search","API_URL","statusArr","find","i","startsWith","totalPages","totalNoOfPages","totalRecords","translationList","isLoading","recordsTotal","recordsFiltered","fetchingruleTranslation","dtTrigger","next","row","navigate","unsubscribe","window","location","reload","decls","vars","consts","template","RuleTranslationModule","_angular_common__WEBPACK_IMPORTED_MODULE_6__","_rule_translation_routing_module__WEBPACK_IMPORTED_MODULE_0__","_angular_forms__WEBPACK_IMPORTED_MODULE_7__","angular_datatables__WEBPACK_IMPORTED_MODULE_2__","_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_8__","declarations","_rule_translation_rule_translation_component__WEBPACK_IMPORTED_MODULE_1__","_rule_translation_summary_rule_translation_summary_component__WEBPACK_IMPORTED_MODULE_3__","_rule_translation_details_rule_translation_details_component__WEBPACK_IMPORTED_MODULE_4__","_angular_core__WEBPACK_IMPORTED_MODULE_6__","_r42","data_r61","RuleTranslationComponent","rxjs__WEBPACK_IMPORTED_MODULE_7__","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","forCheck","tempArrayList","splice","desSystem","approvedEver","sort","sourcesysData","getAddSystem","messsageType","messageArr","auditLog","recordSaved","hideEdit","submitFlag","disableSubmit","disableReset","submittingruleTranslation","error","dbConnectionList","controls","reset","clear","uploadXmlResp","operation","operationType","nodeValueMap","key","isoRespData","fieldNoList","filter","e","extValue","toLowerCase","option","includes"],"sources":["webpack:///src/app/views/rule-translation/rule-translation-details/rule-translation-details.component.html","webpack:///src/app/views/rule-translation/rule-translation-details/rule-translation-details.component.ts","webpack:///src/app/views/rule-translation/rule-translation-routing.module.ts","webpack:///src/app/views/rule-translation/rule-translation-summary/rule-translation-summary.component.html","webpack:///src/app/views/rule-translation/rule-translation-summary/rule-translation-summary.component.ts","webpack:///src/app/views/rule-translation/rule-translation.module.ts","webpack:///src/app/views/rule-translation/rule-translation/rule-translation.component.html","webpack:///src/app/views/rule-translation/rule-translation/rule-translation.component.ts"],"sourcesContent":["<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Translation</h2>\r\n  </div>\r\n  <form class=\"formStyle\" *ngIf=\"ruleTransForm\" [formGroup]=\"ruleTransForm\">\r\n    <fieldset [disabled]=\"!editValue\">\r\n    <div class=\"dbCardStyle\">\r\n  \r\n      <div class=\"row gy-4 align-items-end\">\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Source System<span class=\"colorRed\">*</span></label>\r\n          <!-- <ng-select id=\"outlineNgSelect\" [readonly]=\"!editValue\"\r\n            id=\"sysCode\"\r\n            formControlName=\"systemCode\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSlectionExternalSystem($event)\"\r\n            required\r\n          > -->\r\n          <ng-select id=\"outlineNgSelect\" [readonly]=\"!editValue\"\r\n            id=\"sysCode\"\r\n            formControlName=\"systemCode\"\r\n            [clearable]=\"false\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSlectionExternalSystem($event)\"\r\n            required\r\n          >\r\n          <ng-option hidden value=\"\" disabled selected>Please select System</ng-option>\r\n            <!-- <ng-option value=\"\" [selected]=\"isSelected\">--Please Select---</ng-option> -->\r\n            <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\">\r\n              {{ extsys }}\r\n            </ng-option>\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Message Type</label>\r\n\r\n          <select\r\n            id=\"msgType\"\r\n            formControlName=\"messageType\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSelectionOFMessageType(ruleTransForm.get('messageType').value)\"\r\n          >\r\n          <option hidden value=\"\" disabled selected >--Please select--</option>\r\n            <option value=\"I\">Incoming</option>\r\n            <option value=\"O\">OutGoing</option>\r\n            <!-- <option value=\"A\">All</option> -->\r\n          </select>\r\n        \r\n      </div>\r\n\r\n\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Operation</label>\r\n          <div *ngIf=\"!multipleOperation\">\r\n          <select\r\n            id=\"operationName\"\r\n            formControlName=\"operationName\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n          >\r\n          <option hidden value=\"\" disabled selected >--Please select--</option>\r\n            <option\r\n              *ngFor=\"let opt of translationDataOperation\"\r\n              [value]=\"opt.headerValue\"\r\n            >\r\n              {{ opt.headerValue }}\r\n            </option>\r\n          </select>\r\n          </div>\r\n          <div *ngIf=\"multipleOperation\">\r\n           \r\n            <input\r\n            id=\"operationName\"\r\n            type=\"text\"\r\n            formControlName=\"operationName\"\r\n            class=\"form-control\"\r\n            value=\"\"\r\n          />\r\n          </div>\r\n        </div>\r\n\r\n        \r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Service</label>\r\n          <div *ngIf=\"!multipleService\">\r\n          <select\r\n            id=\"serviceName\"\r\n            formControlName=\"serviceName\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n          >\r\n          <option hidden value=\"\" disabled selected >--Please select--</option>\r\n            <option\r\n              *ngFor=\"let serv of translationDataService\"\r\n              [value]=\"serv.headerValue\"\r\n            >\r\n              {{ serv.headerValue }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div *ngIf=\"multipleService\">\r\n           \r\n          <input\r\n          id=\"serviceName\"\r\n          type=\"text\"\r\n          formControlName=\"serviceName\"\r\n          class=\"form-control\"\r\n          value=\"\"\r\n        />\r\n        </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-4\" *ngIf=\"showFetch=='XML' && showFormat !== 'JSON'\" (click)=\"chooseFile()\">\r\n          <div class=\"fileUpload\">\r\n            <div class=\"formS\">\r\n              <div class=\"file-upload-wrapper\" #fileWrapper data-text=\"File Upload\">\r\n                <input id=\"chFile\" name=\"file-upload-field\" type=\"file\" class=\"file-upload-field\" [disabled]=\"!editValue\" \r\n                (change)=\"selectFileFORHTTPXMLIncoming($event)\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n         </div>\r\n     \r\n      </div>\r\n      <br>\r\n      <div class=\"row gy-4 align-items-end\">\r\n        <div class=\"col-lg-3\">\r\n          <button\r\n            (click)=\"onFetch()\"\r\n            [disabled]=\"!editValue\"\r\n            class=\"btn minWdSmBtn btnPrimary\"\r\n            *ngIf=\"showFetch == 'TCP/IP'\"\r\n            >Fetch</button>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</fieldset>\r\n  <!-- *ngIf=\"showRecords\" -->\r\n  <div class=\"dbCardStyle\">\r\n    <fieldset [disabled]=\"!editValue\">\r\n    <div class=\"table-responsive\">\r\n      <table id=\"dbTable1\" class=\"table tableStyle responsive nowrap vAlignMdl\">\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              <ng-container *ngIf=\"showFetch=='TCP/IP'\">Field No</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='XML' && !afterupload || showFetch=='XML' && afterupload\">Tag</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='JSON'\">kEY</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='DB Connection'\">Column Name</ng-container>\r\n            <span class=\"colorRed\">*</span></th>\r\n            <th>\r\n              <ng-container *ngIf=\"showFetch=='JSON' || showFetch=='XML' || showFetch=='DB Connection' \">Data type</ng-container>\r\n              <ng-container *ngIf=\"showFetch=='TCP/IP'\">Data type</ng-container>\r\n            <span class=\"colorRed\">*</span></th>\r\n            <th>Default value<span class=\"colorRed\">*</span></th>\r\n            <th>Encryption<span class=\"colorRed\">*</span></th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <ng-container formArrayName=\"msgTransDetails\">\r\n            <tr\r\n              *ngFor=\"let item of msgTransDetails.controls;let i = index\">\r\n              <ng-container [formGroup]=\"item\">\r\n                <td>\r\n                  <ng-container *ngIf=\"showFetch=='TCP/IP'\">\r\n                    <!-- FOR SELECT AS OF NOW COMMENTED AFTER DISCUSSION WITH PRABHAT AND SAKTHI -->\r\n                    <!-- <select\r\n                      id=\"fieldNo_{{ i }}\"\r\n                      formControlName=\"messageKey\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      required\r\n                      [disabled]=\"!editValue\"\r\n                    >\r\n                      <option value=\"\" [selected]=\"isSelected\">--Please Select---</option>\r\n                      <option *ngFor=\"let mkey of messageBasisData\" [value]=\"mkey.messageKey\">\r\n                        {{mkey.messageKey}}<{{mkey.messageBasis}}\r\n                      </option>\r\n                    </select> -->\r\n                    <input class=\"form-control\" name=\"formattedMessageBasis\" formControlName=\"formattedMessageBasis\" [readonly]=\"!editValue\">\r\n                  </ng-container>\r\n\r\n                  <ng-container  *ngIf=\"showFetch=='JSON' && showFormat === 'JSON'\">\r\n                    <!-- <select\r\n                       id=\"fieldNo_{{ i }}\"\r\n                       formControlName=\"messageKey\"\r\n                       class=\"form-select\"\r\n                       aria-label=\"Default select example\"\r\n                       required\r\n                     >\r\n                       <option value=\"\" [selected]=\"isSelected\">--Please Select---</option>\r\n                       <option *ngFor=\"let mkey of messageBasisData\" [value]=\"mkey.messageKey\">\r\n                         {{mkey.messageKey}}<{{mkey.messageBasis}}\r\n                       </option>\r\n                     </select> -->\r\n                     <input\r\n                     id=\"fieldNo_{{ i }}\"\r\n                     formControlName=\"messagebasis\"\r\n                     class=\"form-control\"\r\n                     aria-label=\"Default select example\"\r\n                     required\r\n                   >\r\n                 </ng-container>\r\n\r\n                  <ng-container *ngIf=\"(showFetch=='XML' && showFormat !== 'JSON') && !afterupload\">\r\n                    <input class=\"form-control\" name=\"messagebasis\" formControlName=\"messagebasis\" [readonly]=\"!editValue\">\r\n                  </ng-container>\r\n\r\n                  <ng-container *ngIf=\"(showFetch=='XML' && showFormat !== 'JSON') && afterupload\">\r\n                    <select\r\n                    id=\"fieldNo_{{ i }}\"\r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    required\r\n                    [disabled]=\"!editValue\"\r\n                  >\r\n                    <option *ngFor=\"let data of messageBasisIso\" [value]=\"data\">\r\n                      {{data}} \r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  \r\n                  <ng-container *ngIf=\"showFetch=='DB Connection'\">\r\n                    <!-- <select\r\n                      id=\"db_{{ i }}\"\r\n                      formControlName=\"messagebasis\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      required\r\n                      [disabled]=\"!editValue\"\r\n                    >\r\n                      <option *ngFor=\"let data of messageBasisData\" [value]=\"data.messageKey\">\r\n                        {{data.messageKey}}{{data.messageBasis}}\r\n                      </option>\r\n                    </select> -->\r\n                    <input\r\n                    id=\"db_{{ i }}\"\r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-control\"\r\n                    aria-label=\"Default select example\"\r\n                    required\r\n                  >\r\n                  </ng-container>\r\n                \r\n                </td>\r\n                <td>\r\n                  <ng-container *ngIf=\"showFetch === 'DB Connection'\">\r\n                    <select\r\n                    id=\"dataType_{{ i }}\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    \r\n                  >\r\n                   <option hidden value=\"\" disabled selected  >--Please select--</option>                    \r\n                    <option value=\"VARCHAR2\">\r\n                      VARCHAR2\r\n                    </option>\r\n                    <option value=\"NUMBER\">\r\n                      NUMBER\r\n                    </option>\r\n                    <option value=\"DATE\">\r\n                      DATE\r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"showFetch=='XML' || showFetch=='JSON' \">\r\n                    <select\r\n                    \r\n                    formControlName=\"dataType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                  >\r\n                  <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                    <option [value]=\"'numeric'\">\r\n                      Numeric\r\n                    </option>\r\n                    <option [value]=\"'alphaNumeric'\">\r\n                      Alpha Numeric\r\n                    </option>\r\n                    <option [value]=\"'date'\">\r\n                      Date\r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  <ng-container  *ngIf=\"showFetch=='TCP/IP'\">\r\n                    <input\r\n                    [readonly]=\"!editValue\"\r\n                    type=\"text\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-control\"\r\n                  />\r\n                  </ng-container>\r\n                </td>\r\n                \r\n              \r\n                <td>\r\n                  <input\r\n                  id=\"responseIndicator_{{ i }}\"\r\n                  formControlName=\"defaultValue\"\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [readonly]=\"!editValue\"\r\n                />\r\n                </td>\r\n                <td>\r\n                  <select\r\n                    id=\"encryption_{{ i }}\"\r\n                    formControlName=\"encryption\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onSelectionOFMessageType($event)\"\r\n                    \r\n                  >\r\n                  <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                    <option [value]=\"'No Encryption'\">No Encryption</option>\r\n                    <option [value]=\"'BASE64'\">\r\n                      BASE 64\r\n                    </option>\r\n                    <option [value]=\"'SHA256'\">\r\n                      SHA 256\r\n                    </option>\r\n                    <option [value]=\"'SHA512'\">\r\n                      SHA 512\r\n                    </option>\r\n                  </select>\r\n                </td>\r\n                <td class=\"tblIcon\">\r\n                  <a *ngIf=\"submit\" (click)=\"removeTranslation(i)\" [ngClass]=\"!editValue ? 'readonlyTrue' : 'deleteIcon2;readonlyFalse'\"><img src=\"assets/images/delete-icon.svg\" alt=\"...\"></a>\r\n                  <!-- <button *ngIf=\"submit\" (click)=\"removeTranslation(i)\" class=\"deleteIcon2\"\r\n                    ><img src=\"assets/images/delete-icon.svg\" alt=\"...\"\r\n                  /></button> -->\r\n                </td>\r\n              </ng-container>\r\n            </tr>\r\n          </ng-container>\r\n          <tr>\r\n            <td>\r\n              <button *ngIf=\"submit\" (click)=\"addTransaltionGroup('')\" class=\"addIcon primarybg\">\r\n                <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\" /></span>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    </fieldset>\r\n    <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n      <div class=\"col-auto\" *ngIf=\"!(ruleTRespData.recordStatus == 'C' || ruleTRespData.recordStatus == 'CLOSED') && roleCodes.edit\">\r\n        <button class=\"btn smBtn minWdSmBtn btnUpdate\" [hidden]=\"hideSubmit\" (click)=\"editValues()\">{{roleCodes.edit.labelDescription}}</button>\r\n      </div>\r\n      <div class=\"col-auto\" [hidden]=\"!hideSubmit\">\r\n        <button (click)=\"onSubmit()\"class=\"btn smBtn minWdSmBtn btnPrimary\" [disabled]=\"!ruleTransForm.dirty\">Save</button>\r\n      </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.approvedStatus == 'U' || ruleTRespData.approvedStatus == 'N' || ruleTRespData.approvedStatus == 'UNAUTHORIZED') && roleCodes.auth\">\r\n      <button class=\"btn smBtn minWdSmBtn btnAuth\" [hidden]=\"hideSubmit\" (click)=\"authorizeRuleTranslation()\">{{roleCodes.auth.labelDescription}}</button>\r\n    </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.recordStatus == 'O' || ruleTRespData.recordStatus == 'OPEN') && (ruleTRespData.approvedEver != 'NO' && ruleTRespData.approvedEver != 'N') && roleCodes.close\">\r\n        <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"hideSubmit\" (click)=\"closeRuleTranslation()\">{{roleCodes.close.labelDescription}}</button>\r\n      </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.recordStatus == 'C' || ruleTRespData.recordStatus == 'CLOSED') && roleCodes.reopen\">\r\n        <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"hideSubmit\" (click)=\"openRuleTranslation()\">{{roleCodes.reopen.labelDescription}}</button>\r\n      </div>\r\n      <div class=\"col-auto\" *ngIf=\"(ruleTRespData.approvedEver == 'NO' || ruleTRespData.approvedEver == 'N')&&!showdelete && roleCodes.delete\">\r\n        <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"hideSubmit\" (click)=\"deleteRuleTranslation()\">{{roleCodes.delete.labelDescription}}</button>\r\n      </div>\r\n      <!-- <div class=\"col-auto\">\r\n        <button type=\"reset\" (click)=\"onReset()\" [disabled]=\"!submit\" class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n          >Reset</button>\r\n      </div> -->\r\n      <div class=\"col-auto\">\r\n        <button class=\"btn smBtn minWdSmBtn btnSecondary\" [routerLink]=\"['/rule-translation/summary']\">Exit</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  </form>\r\n  <br>\r\n  <div class=\"dbCardStyle\" *ngIf=\"showAuditLog\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n                  <i class=\"fa fa-edit faClass\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker</h2>\r\n                <p>{{ruleTRespData.creatorId}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n                <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker Time Stamp</h2>\r\n                <p>{{ruleTRespData.createdTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n                <img src=\"assets/images/record-status-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Record Status</h2>\r\n                <p>{{ruleTRespData.recordStatus == 'O' ? 'OPEN' : (ruleTRespData.recordStatus == 'C' ? 'CLOSED' : ruleTRespData.recordStatus)}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker</h2>\r\n                <p>{{ruleTRespData.approverId}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n                <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker Time Stamp</h2>\r\n                <p>{{ruleTRespData.approvedTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n                <img src=\"assets/images/first-auth-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>First Time Authorization</h2>\r\n                <p>{{ruleTRespData.approvedEver == 'N'? 'NO' : (ruleTRespData.approvedEver == 'Y'? 'YES' : ruleTRespData.approvedEver)}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n               <img src=\"assets/images/authorize.svg\" alt=\"...\" class=\"modImage\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Authorization Status</h2>\r\n                <p>{{ruleTRespData.approvedStatus == 'N' || ruleTRespData.approvedStatus == 'U' ? 'UNAUTHORIZED' : (ruleTRespData.approvedStatus == 'Y' || ruleTRespData.approvedStatus == 'A' ? 'AUTHORIZED' : ruleTRespData.approvedStatus)}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n                 <img src=\"assets/images/modification.svg\" class=\"modImage\" alt=\"...\" >\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Modification Number</h2>\r\n                <p>{{ruleTRespData.versionNo}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { ToastService } from 'src/app/shared/services/toast.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'npr-rule-translation-details',\r\n  templateUrl: './rule-translation-details.component.html',\r\n  styleUrls: ['./rule-translation-details.component.scss']\r\n})\r\nexport class RuleTranslationDetailsComponent implements OnInit ,IDeactivateComponent {\r\n  externalSystem: any;\r\n  submit:boolean=true;\r\n  msgTranslation = new msgTranslation();\r\n  translationDeatils: Array<translationDeatils> = [];\r\n  translationDTO = new translationDTO();\r\n  sourcesystem: any;\r\n  showRecords: boolean;\r\n  currentUser: string;\r\n  showAuditLog: boolean=true;\r\n  msgType: any;\r\n  translationDataOperation: any;\r\n  selectedFiles: any;\r\n  currentFileUpload: any;\r\n\r\n  translationDataService: any;\r\n  ruleTRespData: any;\r\n  transId: any;\r\n  displaySubmit: boolean = false;\r\n  authorizeDone: boolean = false;\r\n  hideSubmit:boolean=false;\r\n  formTouched: boolean=true;\r\n\r\n  showFetch: any;\r\n  ruleRecord: any;\r\n  matlabel1: string;\r\n  matlabel2: string;\r\n  navSubscription: any;\r\n  editRuleTransResp: any;\r\n  headerTagData: any;\r\n  messageBasisIso: any;\r\n  messageKeyIso: any;\r\n  xmlRespData: any;\r\n  fileName: any;\r\n  editValue: boolean;\r\n  afterupload: boolean;\r\n  showdelete: boolean;\r\n  deleted: boolean;\r\n  editBtn: boolean;\r\n  closeBtn: boolean;\r\n  authBtn: boolean;\r\n  onlysubmit: boolean;\r\n  reopenBtn: boolean;\r\n  authBtnHide: boolean;\r\n  messageBasisData: any;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n\r\n  ruleTransForm:FormGroup;\r\n  isSelected: boolean = true;\r\n  @ViewChild('fileWrapper') fileUploadWrapper: ElementRef;\r\n  roleCodes = new permissionsLabels();\r\n  disableFields:boolean=false;\r\n  showFormat: any;\r\n  columnNameDD: any = [];\r\n  mdmtSystemChannel: any;\r\n  tableData: any;\r\n  multipleService: boolean;\r\n  multipleOperation: boolean;\r\n \r\n\r\n  constructor(private rules: RuleService, private roleService:RoleService,\r\n              private addSystem: AddSystemService, \r\n              private router: Router,\r\n              private cdr:ChangeDetectorRef,\r\n              private _route: ActivatedRoute,\r\n              private formBuilder:FormBuilder,\r\n              private elementRef: ElementRef,private canDeactivateGuard: CanDeactivateGuard,\r\n              private toastService: ToastService) { }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n\r\n    this.ruleTransForm = this.formBuilder.group({\r\n      transId:this.transId,\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      msgTransDetails: this.formBuilder.array([])\r\n    });\r\n\r\n    this.gettingExternalsystem();\r\n    this.fetchingHeadertag();\r\n\r\n\r\n   this.getById(this._route.snapshot.params['id']);\r\n\r\n   this.roleService.fetchScreenPermissions('Rule translation');\r\n   this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n   setTimeout(() => {\r\n     console.log(this.roleCodes);\r\n   }, 100);\r\n\r\n   this.ruleTransForm.disable();\r\n   this.msgTransDetails.disable();\r\n   console.log(this.msgTransDetails);\r\n  }\r\n\r\n  getById(transId:any){\r\n    this.rules.ruleTranslationBasedonId(transId)\r\n    .subscribe(resp => {\r\n      console.log(resp);\r\n\r\n      \r\n      this.translationDeatils = resp;\r\n      this.editRuleTransResp = resp;\r\n     \r\n      console.log(\"editRuleTransResp??\",this.editRuleTransResp);\r\n      this.ruleTRespData = this.editRuleTransResp;\r\n      console.log(this.ruleTRespData);\r\n      this.transId = this.ruleTRespData.transId;\r\n      console.log(this.transId);\r\n      // commenting beacuse below array data is not coming\r\n      \r\n      this.msgTranslation.systemCode = this.editRuleTransResp[\"systemCode\"];\r\n      this.msgTranslation.messageType = this.editRuleTransResp[\"messageType\"];\r\n      this.msgTranslation.operationName = this.editRuleTransResp[\"operationName\"];\r\n      this.msgTranslation.serviceName = this.editRuleTransResp[\"serviceName\"];\r\n      this.ruleTransForm.get('operationName').setValue(this.editRuleTransResp[\"operationName\"]);\r\n      this.ruleTransForm.patchValue(this.editRuleTransResp); \r\n\r\n      for (let index = 0; index < this.editRuleTransResp.msgTransDetails.length; index++) {\r\n        console.log(this.editRuleTransResp.msgTransDetails);\r\n        this.addTransaltionGroup({});\r\n        const item = this.editRuleTransResp.msgTransDetails[index];\r\n        this.msgTransDetails.at(index).patchValue({\r\n          ...item,\r\n          formattedMessageBasis: `${item.messageKey} ${item.messagebasis}`,\r\n        });\r\n      }\r\n\r\n      this.cdr.markForCheck();\r\n      this.onSelectionOFMessageType(this.msgTranslation.messageType);\r\n      this.onSlectionExternalSystem(this.msgTranslation.systemCode);\r\n      this.gettingoperationAndService(this.msgTranslation.systemCode, this.msgTranslation.messageType, this.currentUser);\r\n      this.translationDeatils = this.editRuleTransResp['msgTransDetails'];\r\n      console.log(this.translationDeatils);\r\n      if (this.ruleTRespData.recordStatus == \"C\") {\r\n        console.log(this.ruleTRespData.recordStatus);\r\n        this.reopenBtn = false;\r\n        this.authBtnHide = true;\r\n      }\r\n      if (this.ruleTRespData.approvedStatus == \"U\") {\r\n        console.log(this.ruleTRespData.approvedStatus);\r\n        this.authBtnHide = false;\r\n        this.authBtn = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rules.gettingExternalsystem().subscribe(extSysResp => {\r\n      console.log(extSysResp);\r\n      if (extSysResp) {\r\n        this.externalSystem = extSysResp;\r\n      }\r\n    },(err: any) => {\r\n        console.log(\"err\", err);\r\n    })\r\n  }\r\n\r\n  onSlectionExternalSystem(event: any) {\r\n    \r\n    console.log(event);\r\n    this.sourcesystem = this.msgTranslation.messageType;\r\n\r\n  }\r\n  canExit() : Promise<boolean> {\r\n    let isExit :boolean = false;\r\n    if (this.ruleTransForm.touched && this.formTouched==true) {\r\n    return Swal.fire({ \r\n      text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#E6224A',\r\n      cancelButtonColor: '#011945',\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES',\r\n      icon: 'info',\r\n    }).then((result) => {\r\n      if (result.isConfirmed === true) {\r\n        isExit=true;\r\n        this.cdr.markForCheck();\r\n           return isExit;\r\n      }\r\n      else{\r\n        isExit=false;\r\n        this.cdr.markForCheck();\r\n        return isExit;\r\n      }\r\n    \r\n    });\r\n  }\r\n else{\r\n  isExit=true;\r\n  return new Promise((resolve, reject) => {\r\n    if (isExit === true) {\r\n      isExit=true;\r\n      this.cdr.markForCheck();\r\n      resolve(true);\r\n    }\r\n  \r\n  })\r\n }\r\n    }\r\n  onSelectionOFMessageType(event: any) {\r\n    console.log(\"Event\",event);\r\n    this.msgType = event;\r\n    if (this.sourcesystem && this.msgType) {\r\n      this.gettingoperationAndService(this.msgTranslation.systemCode, this.msgType, this.currentUser);\r\n    }\r\n    else {\r\n      console.log(\"enter both msg and ext\")\r\n    }\r\n  }\r\n  gettingoperationAndService(source, msgType, logginuser) {\r\n    this.rules.gettingoperationAndService(source, msgType, logginuser).subscribe(translationResp => {\r\n      console.log(translationResp);\r\n      this.messageBasisData = translationResp.MdmtSystemService;\r\n      this.mdmtSystemChannel = translationResp.MdmtSystemChannel;\r\n      console.log(\"messageBasisData\", this.messageBasisData);\r\n      let keys = Object.keys(translationResp);\r\n      console.log(keys)\r\n      let x = keys[2]; \r\n      let y = keys[3];\r\n      if (x == 'I' && Object.keys(translationResp).length == 3) {\r\n        console.log(\"yes\", x);\r\n        if (translationResp.I.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.I.SERVICE[0].headerValue;\r\n          if(translationResp.I.SERVICE.length  <= 1){\r\n            console.log(this.translationDataOperation ,\"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n\r\n          if(translationResp.I.SERVICE.length  > 1){\r\n            console.log(this.translationDataOperation,\"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.I.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.I.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.I.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.I.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.I.OPERATION;\r\n          if(this.translationDataOperation.length <= 1){\r\n            console.log(this.translationDataOperation ,\"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if(this.translationDataOperation.length > 1){\r\n            console.log(this.translationDataOperation,\"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n        this.translationDataService = translationResp.I.SERVICE\r\n      }\r\n      else if (x == 'O' && Object.keys(translationResp).length == 3) {\r\n        console.log(\"else if\", x);\r\n        if (translationResp.O.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.O.SERVICE[0].headerValue;\r\n          if(translationResp.O.SERVICE.length  <= 1){\r\n            console.log(this.translationDataOperation ,\"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n\r\n          if(translationResp.O.SERVICE.length  > 1){\r\n            console.log(this.translationDataOperation,\"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.O.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.O.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.O.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.O.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.O.OPERATION;\r\n          if(this.translationDataOperation.length <= 1){\r\n            console.log(this.translationDataOperation ,\"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if(this.translationDataOperation.length > 1){\r\n            console.log(this.translationDataOperation,\"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n        this.translationDataService = translationResp.O.SERVICE\r\n      }\r\n      else if (x == 'I' && this.msgTranslation.messageType == 'I' && Object.keys(translationResp).length == 4) {\r\n\r\n        if (translationResp.I.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.I.SERVICE[0].headerValue;\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.I.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.I.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.I.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.I.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.I.OPERATION;\r\n        }\r\n        this.translationDataService = translationResp.I.SERVICE\r\n      }\r\n      else if (y == 'O' && this.msgTranslation.messageType == 'O' && Object.keys(translationResp).length == 4) {\r\n\r\n        if (translationResp.O.SERVICE.length !== 0) {\r\n          this.msgTranslation.serviceName = translationResp.O.SERVICE[0].headerValue;\r\n          // this.ruleTransForm.get('serviceName').patchValue(translationResp.O.SERVICE[0].headerValue);\r\n        }\r\n        if (translationResp.O.OPERATION.length !== 0) {\r\n          this.msgTranslation.operationName = translationResp.O.OPERATION[0].headerValue;\r\n          // this.ruleTransForm.get('operationName').patchValue(translationResp.O.OPERATION[0].headerValue);\r\n          this.translationDataOperation = translationResp.O.OPERATION;\r\n        }\r\n        this.translationDataService = translationResp.O.SERVICE\r\n      }\r\n      this.showFetch = translationResp.MdmtSystemChannel[0].messageChannel;\r\n      this.showFormat = translationResp.MdmtSystemChannel[0].messageFormat;\r\n      if (this.showFetch == 'Https/Http') {\r\n        // this.fetchingXMl();\r\n        this.showFetch =translationResp.MdmtSystemChannel[0].messageFormat;\r\n      }\r\n      else if (this.showFetch == 'TCP/IP') {\r\n        this.fetchingIso();\r\n      }\r\n      else if (this.showFetch == 'DB Connection') {\r\n        this.addSystem.coulmnNameBasedonTableName(\r\n          translationResp.MdmtSystemChannel[0].dbConnectString,\r\n          translationResp.MdmtSystemChannel[0].dbServiceName,\r\n          translationResp.MdmtSystemChannel[0].dbUsername,\r\n          translationResp.MdmtSystemChannel[0].dbPassword,\r\n          translationResp.MdmtSystemChannel[0].sysService[0].messageKey.split(\",\", 1)\r\n          ).subscribe((resp) => {\r\n            resp.forEach(element => {\r\n              this.columnNameDD.push(element[1]);\r\n            });\r\n        });\r\n      }\r\n    }, (err => {\r\n      console.log(err);\r\n    }))\r\n  }\r\n  //  temproary\r\n  onSubmit() {\r\n    console.log(\"Update?\",this.ruleTransForm.value);\r\n    const updatedFormData =  {\r\n      ...this.ruleTransForm.value,\r\n      msgTransDetails: this.ruleTransForm.value.msgTransDetails.map((data) => {\r\n        const {formattedMessageBasis, ...rest } = data;\r\n        return rest;\r\n      })\r\n    }\r\n    this.translationDTO.msgTranslation = this.msgTranslation;\r\n    console.log(\"updatedFormData \",updatedFormData)\r\n    this.translationDTO.msgTranslationDet = this.ruleRecord;\r\n    console.log(this.translationDTO);\r\n    this.rules.editruleTranslation(\"update\", this.currentUser, updatedFormData).subscribe(ruleTranslationResp => {\r\n      console.log(ruleTranslationResp);\r\n      this.ruleTRespData=ruleTranslationResp;\r\n      if (ruleTranslationResp) {\r\n        Swal.fire({text:'Record is Updated',\r\n        icon:'success'});\r\n        this.submit=false;\r\n        this.showAuditLog = true;\r\n        this.editValue = false;\r\n        this.hideSubmit=false;\r\n        this.formTouched=!this.ruleTransForm.touched;\r\n      }\r\n    }, (err:any) => {\r\n      Swal.fire({text:\"Server Error.\",\r\n      icon:'error'});\r\n    })\r\n  }\r\n  onFetch() {\r\n    this.showRecords = true;\r\n\r\n  }\r\n  onReset() {\r\n    this.msgTranslation = new msgTranslation();\r\n    this.ruleRecord = [];\r\n  }\r\n\r\n  getTranslationItem(item) {\r\n    return this.formBuilder.group({\r\n      messagebasis: [item.messagebasis ? item.messagebasis : \"\"],\r\n      formattedMessageBasis: [item.formattedMessageBasis ? item.formattedMessageBasis : \"\"],\r\n      headerTag: [item.headerTag ? item.headerTag : \"\"],\r\n      defaultValue: [item.defaultValue ? item.defaultValue : \"\"],\r\n      systemChannelId: [item.systemChannelId ? item.systemChannelId : \"\"],\r\n      encryption: [item.encryption ? item.encryption : \"No Encryption\"],\r\n      id: [item.id ? item.id : ''],\r\n      dataType: [item.dataType ? item.dataType : ''],\r\n      messageKey: [item.messageKey ? item.messageKey : ''],\r\n    });\r\n  }\r\n\r\n  get msgTransDetails() {\r\n    return this.ruleTransForm.get('msgTransDetails') as FormArray;\r\n  }\r\n\r\n  addTransaltionGroup(item) {\r\n    this.msgTransDetails.push(this.getTranslationItem(item));\r\n  }\r\n\r\n  removeTranslation(index: number) {\r\n    Swal.fire({\r\n      title: 'are you sure, want to remove the record?',\r\n      showDenyButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      denyButtonText: `No`,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        this.msgTransDetails.removeAt(index);\r\n        Swal.fire('Removed!', '', 'success');\r\n      }\r\n    });\r\n  }\r\n\r\n  selectFileFORHTTPXMLIncoming(event: any) {\r\n    console.log(\"here http and xML\", event);\r\n    this.selectedFiles = event.target.files;\r\n    console.log(\"File selected\",this.selectedFiles);\r\n    console.log(this.selectedFiles[0].name);\r\n    this.fileName = this.selectedFiles[0].name;\r\n    this.fileUploadWrapper.nativeElement.setAttribute('data-text', this.fileName);\r\n    this.currentFileUpload = this.selectedFiles.item(0);\r\n    console.log(event.target.files);\r\n    this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(xmlHttpResp => {\r\n      console.log(xmlHttpResp);\r\n\r\n      if (xmlHttpResp) {\r\n        this.xmlRespData = xmlHttpResp;\r\n        this.afterupload = true;\r\n        if (xmlHttpResp) {\r\n          this.messageBasisIso = xmlHttpResp.nodeTagList;\r\n          this.showRecords = true;\r\n          this.addTransaltionGroup({});\r\n        }\r\n        // Swal.fire({ text: \"File Uploaded Successfully\" });\r\n      }\r\n\r\n    }, (err) => { \r\n      // Swal.fire({ text: \"Invalid Xml file provided\" }); \r\n    })\r\n  }\r\n\r\n  fetchingHeadertag() {\r\n    this.addSystem.fetchingHeaderTag().subscribe(resp => {\r\n      console.log(\"res\", resp);\r\n      this.headerTagData = resp;\r\n    })\r\n  }\r\n  fetchingIso() {\r\n\r\n    this.addSystem.fetchingIsoForTcp().subscribe(isoResp => {\r\n      console.log(isoResp);\r\n      this.matlabel1 = \"Filed No\"\r\n      // this.translationDeatils=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.fieldName;\r\n      });\r\n      // for dropdown 2\r\n      this.messageKeyIso = isoResp.map((data) => {\r\n        return data.fieldNo.toString();\r\n      });\r\n    });\r\n  }\r\n  fetchingXMl() {\r\n    this.addSystem.gettinXMLmsgIncoming().subscribe(xmlResp => {\r\n      console.log(xmlResp);\r\n\r\n      this.xmlRespData = xmlResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  // fetchingColumnName() {\r\n\r\n  //   this.addSystem.coulmnNameBasedonTableName(\r\n  //     this.mdmtSystemChannel[0].dbConnectString,\r\n  //     this.mdmtSystemChannel[0].dbServiceName,\r\n  //     this.mdmtSystemChannel[0].dbUsername,\r\n  //     this.mdmtSystemChannel[0].dbPassword,\r\n  //     this.mdmtSystemChannel[0].sysService[0].messageKey.split(\",\", 1)\r\n  //     ).subscribe((resp) => {\r\n  //       resp.forEach(element => {\r\n  //         this.columnNameDD.push(element[1]);\r\n  //       });\r\n  //       console.log(this.columnNameDD);\r\n  //       this.tableData = this.columnNameDD.map((data) => {\r\n  //         console.log(data);\r\n  //         // return data.messageBasis;\r\n  //       });\r\n  //     });\r\n  // }\r\n\r\n  edit() {\r\n    this.editValue = true;\r\n    this.displaySubmit = true;\r\n    this.onlysubmit = true;\r\n    this.showAuditLog = false;\r\n    console.log(this.ruleTRespData);\r\n    if (this.ruleTRespData.approvedStatus == \"U\") {\r\n      this.editValue = false;\r\n      // Swal.fire(\"UnAuthorized record can't be edited.\");\r\n    }\r\n    if (this.ruleTRespData.recordStatus == \"C\") {\r\n      this.editValue = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n    }\r\n  }\r\n  chooseFile() {\r\n    console.log(\"heyy file\")\r\n    document.getElementById('chFile').click();\r\n  }\r\n\r\n  authorizeRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n           confirmButtonText: 'YES','icon':'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \",result);\r\n      if(result.isConfirmed=== true){\r\n        if (this.currentUser == this.ruleTRespData.creatorId) {\r\n          Swal.fire('Maker cannot authorize!');\r\n       }\r\n       else {\r\n         let RuleTranslationData: any = this.ruleTRespData;\r\n         this.addSystem.editruleTranslation(\"auth\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n           console.log(response);\r\n           if (response.approverId) {\r\n             this.authorizeDone = true;\r\n             Swal.fire('Record is Authorized ');\r\n             this.ruleTRespData = response;\r\n           }\r\n         });\r\n       }\r\n     }}))\r\n  }\r\n  editValues(){\r\n    this.hideSubmit=true;\r\n      this.editValue=true;\r\n      this.displaySubmit = true;\r\n      this.onlysubmit=true;\r\n      this.showAuditLog=false;\r\n      console.log(this.ruleTRespData);\r\n      this.ruleTransForm.enable();\r\n      this.msgTransDetails.enable();\r\n  }\r\n\r\n  openRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        console.log(this.ruleTRespData);\r\n        console.log(this.currentUser);\r\n        let RuleTranslationData: any = this.ruleTRespData;\r\n        this.addSystem.editruleTranslation(\"open\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n          console.log(response);\r\n          if (response) {\r\n            Swal.fire('Record is Reopened');\r\n            this.ruleTRespData = response;\r\n            this.authBtnHide = false;\r\n            this.editBtn = false;\r\n            this.authBtn = false;\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  closeRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let RuleTranslationData: any = this.ruleTRespData;\r\n        this.addSystem.editruleTranslation(\"close\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n          console.log(response);\r\n          if (response) {\r\n            Swal.fire({\r\n              text: \"Record is Closed\",\r\n              icon: 'success'\r\n            });\r\n            this.ruleTRespData = response;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.deleted = false;\r\n            this.reopenBtn = false;\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  deleteRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let RuleTranslationData: any = this.ruleTRespData;\r\n        console.log(this.ruleTRespData);\r\n       \r\n        \r\n        this.addSystem.deleteRuleTranslation(this.currentUser, RuleTranslationData.transId).subscribe((response) => {\r\n          // console.log(response.Text);\r\n          // if(response){\r\n\r\n          // }\r\n        }, (err) => {\r\n          if (err.status == 200) {\r\n            this.showdelete = true;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.closeBtn = true;\r\n\r\n            Swal.fire({\r\n              title: 'Record is Deleted!',\r\n              confirmButtonText: 'Ok'\r\n            }).then((result) => {\r\n              if (result) {\r\n                this.router.navigateByUrl('/rule-translation/summary')\r\n              }\r\n            });\r\n\r\n          }\r\n          else {\r\n            // Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport class msgTranslation {\r\n  id: any;\r\n  systemCode: any;\r\n  messageType: any;\r\n  operationName: any;\r\n  serviceName: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n}\r\n// after fetch assign to this object\r\nexport class translationDeatils {\r\n  id: any;\r\n  translationId: any;//??\r\n  messagebasis: any;//node\r\n  messageKey: any;//tagName\r\n  columnName: any;\r\n  dataType: any;\r\n  encryption: any;\r\n\r\n  defaultValue: any;\r\n\r\n}\r\nclass translationDTO {\r\n  msgTranslation: msgTranslation;\r\n  msgTranslationDet: Array<translationDeatils>;\r\n}","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CanDeactivateGuard } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { RuleTranslationDetailsComponent } from './rule-translation-details/rule-translation-details.component';\r\nimport { RuleTranslationSummaryComponent } from './rule-translation-summary/rule-translation-summary.component';\r\nimport { RuleTranslationComponent } from './rule-translation/rule-translation.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'create',\r\n    component:RuleTranslationComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'edit/:id',\r\n    component:RuleTranslationDetailsComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'summary',\r\n    component:RuleTranslationSummaryComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RuleTranslationRoutingModule { }\r\n","<div class=\"pageContentMain\">\r\n    <div class=\"pageTitleCol\">\r\n      <h2 class=\"pageTitle\">Rule Translation</h2>\r\n    </div>\r\n    <div class=\"dbCardStyle\">\r\n      <div class=\"row g-3 pb-3 justify-content-end\">\r\n        <div class=\"col-auto\" *ngIf=\"roleCodes.new\">\r\n          <a [routerLink]=\"['/rule-translation/create']\" [routerLinkActive]=\"['active']\" class=\"btn smBtn minWdSmBtn btnPrimary\">{{roleCodes.new.labelDescription}}</a>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <a [routerLink]=\"['/dashboard']\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</a>\r\n        </div>\r\n      </div>\r\n      <div class=\"table-responsive\">\r\n      <table datatable id=\"dbTable1\" [dtOptions]=\"dtOptions\"  class=\"dataTable table tableStyleSelect tableStyle nowrap vAlignMdl\" style=\"width:100%\">\r\n        <thead>\r\n          <tr>\r\n            <th>System Code</th>\r\n            <th>Operation Name</th>\r\n            <th>Service Name</th>\r\n            <th>Auth Status</th>\r\n            <th>Record Status</th>\r\n            <th>Date</th>\r\n            <th>Action</th>\r\n            \r\n          </tr>\r\n        </thead>\r\n        <tbody *ngIf=\"translationList?.length != 0\">\r\n          <tr *ngFor=\"let data of translationList\">\r\n            <td> <a style=\"cursor: pointer;\" (click)=\"onGetId(data)\" class=\"primaryColor\">{{ data.systemCode }}</a></td>\r\n            <td>{{ data.operationName }}</td>\r\n            <td>{{ data.serviceName }}</td>\r\n            <td>{{ data.approvedStatus}}</td>\r\n            <td>{{ data.recordStatus }}</td>\r\n            <td>{{ data.createdTime | date:'medium' }}</td>\r\n             <td>\r\n              <button  class=\"btn\" style=\"color: red\" title=\"Authorize\" [disabled]=\"!(data.approvedStatus== 'U' || data.approvedStatus== 'UNAUTHORIZED' || data.approvedStatus == 'Unauthorized')\" (click)=\"auth(data)\">\r\n                  \r\n                <img class=\"summaryIcon\" src=\"assets/images/authorize.svg\" alt=\"Authorize\">\r\n                </button>\r\n              <button class=\"btn\" style=\"color: red\" title=\"Close\" *ngIf=\"(data.recordStatus== 'O' || data.recordStatus== 'Open' || data.recordStatus== 'OPEN') && (data.approvedEver== 'Y' || data.approvedEver== 'YES')\" (click)=\"close(data)\">\r\n                \r\n                <img class=\"summaryIcon\" src=\"assets/images/CROSS1.svg\"   alt=\"...\">\r\n                </button> \r\n               <button class=\"btn\" style=\"color: red\" title=\"Reopen\"  *ngIf=\"(data.recordStatus == 'CLOSED' || data.recordStatus == 'Close'||data.recordStatus=='c'||data.recordStatus=='C') && (data.approvedEver == 'YES' || data.approvedEver == 'Y')\" (click)=\"open(data)\">\r\n                \r\n                <img class=\"summaryIcon\" src=\"assets/images/open.svg\"  alt=\"...\">\r\n                </button>\r\n                <button class=\"btn\" style=\"color: red\" title=\"Delete\" *ngIf=\"data.approvedEver== 'N' || data.approvedEver== 'NO'\" (click)=\"delete(data)\">\r\n                   \r\n                  <img class=\"summaryIcon\" src=\"assets/images/delete.svg\" alt=\"...\">\r\n                </button>\r\n                 \r\n             </td> \r\n            <!-- <td>\r\n             \r\n            \r\n              <button class=\"m-1 btn btn-sm btn-outline-light primaryColor\">\r\n                <i class=\"fa fa-shield fa-lg\"></i>\r\n              </button>\r\n              <button class=\"btn btn-sm btn-outline-light primaryColor\">\r\n                <i class=\"fa fa-times-circle-o fa-lg\"></i>\r\n              </button>\r\n              <button class=\"m-1 btn btn-sm btn-outline-light primaryColor\">\r\n                <i class=\"fa fa-trash fa-lg\"></i>\r\n              </button>\r\n          \r\n            </td> -->\r\n          </tr>\r\n        </tbody>\r\n        <tbody *ngIf=\"translationList?.length == 0\">\r\n          <tr>\r\n            <!-- <td colspan=\"3\" class=\"no-data-available\">No data!</td> -->\r\n          </tr>\r\n        </tbody>  \r\n      </table>\r\n    </div>\r\n\r\n      <ng-container *ngIf=\"isLoading\">\r\n        <div class=\"loading-page-center\">\r\n          <span class=\"indicator-progress\">Please wait...\r\n            <span class=\"spinner-border spinner-border-sm align-middle ms-2\"></span></span>\r\n        </div>\r\n      </ng-container>\r\n      \r\n    </div>\r\n\r\n\r\n</div>\r\n \r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport Swal from 'sweetalert2';\r\nimport { AppConstants } from 'src/app/shared/config/app.constant';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'npr-rule-translation-summary',\r\n  templateUrl: './rule-translation-summary.component.html',\r\n  styleUrls: ['./rule-translation-summary.component.scss']\r\n})\r\nexport class RuleTranslationSummaryComponent implements OnInit {\r\n  translationList: any = [];\r\n  translationDeatils: any;\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  isLoading:boolean = false;\r\n  roleCodes = new permissionsLabels();\r\n  ruleTRespData: any;\r\n  currentUser: any;\r\n  authBtnHide: boolean;\r\n  editBtn: boolean;\r\n  authBtn:boolean;\r\n  deleted: boolean;\r\n  reopenBtn: boolean;\r\n  showdelete: boolean;\r\n  closeBtn: boolean;\r\n  authorizeDone: boolean;\r\n  statusArr: String[] = ['Authorized', 'Unauthorized', 'Open', 'Close'];\r\n  totalPages: any;\r\n  totalRecords: any;\r\n  API_URL = AppConstants.baseURL;\r\n  constructor(private ruleService: RuleService, private router:Router,private roleService:RoleService,\r\n    private cdr:ChangeDetectorRef,private addSystem: AddSystemService , private http: HttpClient) { }\r\n\r\n  ngOnInit(): void {\r\n    this.dtOptions = {\r\n      pagingType: 'full_numbers',\r\n      pageLength : 5,\r\n      columnDefs: [ { type: 'date', 'targets': [5] } ],\r\n      order: [[5, 'desc']],\r\n      serverSide: true,\r\n      // processing: true,\r\n      lengthMenu: [\r\n        [5, 10, 20, 30,-1],\r\n        [5, 10, 20, 30,\"ALL\"],\r\n      ],\r\n      ajax: (dataTablesParameters: any, callback) => {\r\n        \r\n        dataTablesParameters.minNumber = dataTablesParameters.start + 1;\r\n        dataTablesParameters.maxNumber =\r\n          dataTablesParameters.start + dataTablesParameters.length;\r\n        console.log(\r\n          dataTablesParameters.minNumber,\r\n          dataTablesParameters.maxNumber\r\n        );\r\n        const pageNo = Math.floor(dataTablesParameters.minNumber / dataTablesParameters.length);\r\n        const pageSize = dataTablesParameters.length;\r\n        const search=dataTablesParameters.search.value\r\n        this.http.get<any>(`${this.API_URL}`+`/msgApi/getTranslation?pageNo=${pageNo}&pageSize=${pageSize}&search=${search}`)\r\n          .subscribe(resp => {\r\n            ;\r\n            console.log(resp);\r\n            for (let data of resp.result) {\r\n              data.approvedStatus = this.statusArr.find((i) =>\r\n                i.startsWith(data.approvedStatus)\r\n              );\r\n      \r\n              data.recordStatus = this.statusArr.find((i) =>\r\n                i.startsWith(data.recordStatus)\r\n              );\r\n            }\r\n            \r\n            this.totalPages = resp.totalNoOfPages;\r\n            this.totalRecords = resp.totalRecords;\r\n            this.translationList = resp.result;\r\n            this.isLoading = false;\r\n            this.cdr.markForCheck();\r\n\r\n            callback({\r\n              recordsTotal: resp.totalRecords,\r\n              recordsFiltered: resp.totalRecords,\r\n              data: [],\r\n            });\r\n          });\r\n      },\r\n      // columnDefs: [ { type: 'date', 'targets': [5] } ],\r\n      // order: [[5, 'desc']],\r\n\r\n    };\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n    // this.fetchRuleTranslationSummary();\r\n    this.roleService.fetchScreenPermissions('Rule translation');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n  }\r\n\r\n  fetchRuleTranslationSummary() {\r\n    this.isLoading = true;\r\n    this.ruleService.fetchingruleTranslation()\r\n      .subscribe(resp => {\r\n        console.log(resp);\r\n        for (let data of resp.result) {\r\n          data.approvedStatus = this.statusArr.find((i) =>\r\n            i.startsWith(data.approvedStatus)\r\n          );\r\n  \r\n          data.recordStatus = this.statusArr.find((i) =>\r\n            i.startsWith(data.recordStatus)\r\n          );\r\n        }\r\n        this.translationList = resp.result;\r\n        this.isLoading = false;\r\n        this.cdr.markForCheck();\r\n\r\n        this.dtTrigger.next();\r\n      })\r\n  }\r\n\r\n  onGetId(row) {\r\n    console.log(row);\r\n    this.router.navigate(['/rule-translation/edit', row.transId]);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n close(data){\r\n  this.ruleTRespData = data;\r\n  \r\n  Swal.fire(\r\n    {\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3e54b8',\r\n      cancelButtonColor: '#d33',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n    }\r\n  ).then((result => {\r\n    console.log(\"this is reopen \", result);\r\n    if (result.isConfirmed === true) {\r\n      let RuleTranslationData: any = this.ruleTRespData;\r\n      this.addSystem.editruleTranslation(\"close\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n        console.log(response);\r\n        if (response) {\r\n          Swal.fire({\r\n            text: \"Record is Closed\",\r\n            icon: 'success'\r\n          }).then(() => window.location.reload());\r\n          this.ruleTRespData = response;\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.deleted = false;\r\n          this.reopenBtn = false;\r\n        }\r\n      });\r\n    }\r\n  \r\n  }))\r\n  \r\n   \r\n\r\n }\r\n open(data){\r\n   this.ruleTRespData = data;\r\n  \r\n   \r\n  Swal.fire(\r\n    {\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3e54b8',\r\n      cancelButtonColor: '#d33',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n    }\r\n    \r\n  ).then((result => {\r\n    console.log(\"this is reopen \", result);\r\n    \r\n    if (result.isConfirmed === true) {\r\n      let RuleTranslationData: any = this.ruleTRespData;\r\n      this.addSystem.editruleTranslation(\"open\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n        console.log(response);\r\n        if (response) {\r\n          Swal.fire('Record is Reopened').then(() => window.location.reload());\r\n          this.ruleTRespData = response;\r\n          this.authBtnHide = false;\r\n          this.editBtn = false;\r\n          this.authBtn = false;\r\n          \r\n        }\r\n        \r\n      });\r\n    }\r\n  }))\r\n \r\n }\r\n delete(data){\r\n  this.ruleTRespData = data;\r\n  \r\n   \r\n  Swal.fire(\r\n    {\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3e54b8',\r\n      cancelButtonColor: '#d33',\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n    }\r\n  ).then((result => {\r\n    console.log(\"this is reopen \", result);\r\n    if (result.isConfirmed === true) {\r\n      let RuleTranslationData: any = this.ruleTRespData;\r\n      console.log(this.ruleTRespData);\r\n      this.addSystem.deleteRuleTranslation(this.currentUser, RuleTranslationData.transId).subscribe((response) => {\r\n        // console.log(response.Text);\r\n        // if(response){\r\n\r\n        // }\r\n      }, (err) => {\r\n        if (err.status == 200) {\r\n          this.showdelete = true;\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.closeBtn = true;\r\n\r\n          Swal.fire({\r\n            title: 'Record is Deleted!',\r\n            confirmButtonText: 'Ok'\r\n          }).then(() => window.location.reload());\r\n\r\n        }\r\n        else {\r\n          Swal.fire(\"Failed to delete the reocrd\");\r\n        }\r\n      });\r\n    }\r\n  }))\r\n  \r\n\r\n  }\r\n\r\n  auth(data){\r\n    this.ruleTRespData = data;\r\n  console.log( this.currentUser); \r\n  console.log(this.ruleTRespData.creatorId)\r\n\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n           confirmButtonText: 'YES','icon':'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \",result);\r\n      if(result.isConfirmed=== true){\r\n        if (this.currentUser == this.ruleTRespData.creatorId) {\r\n          Swal.fire('Maker cannot authorize!');\r\n       }\r\n       else {\r\n         let RuleTranslationData: any = this.ruleTRespData;\r\n         this.addSystem.editruleTranslation(\"auth\", this.currentUser, RuleTranslationData).subscribe((response) => {\r\n           console.log(response);\r\n           if (response.approverId) {\r\n             this.authorizeDone = true;\r\n             Swal.fire('Record is Authorized ').then(() => window.location.reload());\r\n             this.ruleTRespData = response;\r\n           }\r\n         });\r\n       }\r\n     }}))\r\n\r\n  }\r\n\r\n\r\n  \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RuleTranslationRoutingModule } from './rule-translation-routing.module';\r\nimport { RuleTranslationComponent } from './rule-translation/rule-translation.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { RuleTranslationSummaryComponent } from './rule-translation-summary/rule-translation-summary.component';\r\nimport { RuleTranslationDetailsComponent } from './rule-translation-details/rule-translation-details.component';\r\nimport { NgSelectComponent, NgSelectModule } from '@ng-select/ng-select';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RuleTranslationComponent,\r\n    RuleTranslationSummaryComponent,\r\n    RuleTranslationDetailsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RuleTranslationRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    DataTablesModule,\r\n    NgSelectModule\r\n  ]\r\n})\r\nexport class RuleTranslationModule { }\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Translation</h2>\r\n  </div>\r\n  <form class=\"formStyle\" *ngIf=\"ruleTransForm\" [formGroup]=\"ruleTransForm\">\r\n    <fieldset [disabled]=\"!submitFlag\">\r\n    <div class=\"dbCardStyle\">\r\n  \r\n      <div class=\"row gy-4 align-items-end\">\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Source System <span class=\"colorRed\">*</span></label>\r\n          <!-- <ng-select id=\"outlineNgSelect\"\r\n            id=\"sysCode\"\r\n            formControlName=\"systemCode\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSlectionExternalSystem($event)\"\r\n            required\r\n          > -->\r\n          <ng-select id=\"outlineNgSelect\"\r\n            id=\"sysCode\"\r\n            formControlName=\"systemCode\"\r\n            [clearable]=\"false\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSlectionExternalSystem($event)\"\r\n            required\r\n          >\r\n          <ng-option hidden value=\"\" disabled selected >Please select System</ng-option>\r\n            <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\">\r\n              {{ extsys }}\r\n            </ng-option>\r\n          </ng-select>\r\n        </div>\r\n      <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Message Type<span class=\"colorRed\">*</span></label>\r\n          <div class=\"form-select\" *ngIf=\"forCheck == ''\"></div>\r\n          <div *ngIf=\"forCheck === 'I'\"  class=\"message_class\">\r\n           {{messageArr}}\r\n\r\n          </div>\r\n          <div *ngIf=\"forCheck === 'O'\"  class=\"form-select\">\r\n            {{messageArr}}\r\n\r\n          </div>\r\n\r\n\r\n          <div *ngIf=\"forCheck === 'A'\">\r\n          <select\r\n            id=\"msgType\"\r\n            formControlName=\"messageType\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n            (change)=\"onSelectionOFMessageType($event)\"\r\n          >\r\n          <option hidden value=\"\" disabled selected >--Please select--</option>\r\n            <option value=\"I\">Incoming</option>\r\n            <option value=\"O\">Outgoing</option>\r\n            <!-- <option value=\"A\">All</option> -->\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Operation</label>\r\n          <div *ngIf=\"!multipleOperation\">\r\n            <select\r\n            id=\"operationName\"\r\n            formControlName=\"operationName\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n          >\r\n          <option hidden value=\"\" disabled selected >--Please select--</option>\r\n            <option\r\n              *ngFor=\"let opt of translationDataOperation\"\r\n              [value]=\"opt.headerValue\"\r\n            >\r\n              {{ opt.headerValue }}\r\n            </option>\r\n          </select>\r\n          </div>\r\n          <div *ngIf=\"multipleOperation\">\r\n             \r\n            <input\r\n            id=\"operationName\"\r\n            type=\"text\"\r\n            formControlName=\"operationName\"\r\n            class=\"form-control\"\r\n            value=\"\"\r\n          />\r\n          </div>\r\n       \r\n        </div>\r\n\r\n        <div class=\"col-lg-2\">\r\n          <label for=\"roleName\" class=\"formLbl\">Service</label>\r\n          <div *ngIf=\"!multipleService\">\r\n            <select\r\n            id=\"serviceName\"\r\n            formControlName=\"serviceName\"\r\n            class=\"form-select\"\r\n            aria-label=\"Default select example\"\r\n          >\r\n          <option hidden value=\"\" disabled selected >--Please select--</option>\r\n            <option\r\n              *ngFor=\"let serv of translationDataService\"\r\n              [value]=\"serv.headerValue\"\r\n            >\r\n              {{ serv.headerValue }}\r\n            </option>\r\n          </select>\r\n          </div>\r\n         \r\n          <div *ngIf=\"multipleService\">\r\n             \r\n            <input\r\n            id=\"serviceName\"\r\n            type=\"text\"\r\n            formControlName=\"serviceName\"\r\n            class=\"form-control\"\r\n            value=\"\"\r\n          />\r\n          </div>\r\n        </div>\r\n\r\n    \r\n        <div class=\"col-lg-4\" *ngIf=\"showFetch == 'XML' && showFormat !== 'JSON'\" (click)=\"chooseFile()\">\r\n          <div class=\"fileUpload\">\r\n            <div class=\"formS\">\r\n              <div class=\"file-upload-wrapper\" #fileWrapper data-text=\"File Upload\">\r\n                <input id=\"chFile\" name=\"file-upload-field\" type=\"file\" class=\"file-upload-field\"\r\n                (change)=\"selectFileFORHTTPXMLIncoming($event)\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n         </div>\r\n\r\n     \r\n      </div>\r\n      <br>\r\n      <div class=\"row gy-4 align-items-end\">\r\n        <div class=\"col-auto\" *ngIf=\"showFetch === 'TCP/IP' || showFormat === 'JSON' || showFetch === 'DB Connection'\">\r\n          <a\r\n            (click)=\"onFetch()\"\r\n            class=\"btn minWdSmBtn btnPrimary\"\r\n            >Fetch</a\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\" *ngIf=\"!showRecords\">\r\n          <button [routerLink]=\"[ '/rule-translation/summary' ]\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</button>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  </fieldset>\r\n  <!-- *ngIf=\"showRecords\" -->\r\n  <div class=\"dbCardStyle\" *ngIf=\"showRecords\">\r\n    <fieldset [disabled]=\"!submitFlag\">\r\n    <div class=\"table-responsive\">\r\n      <table id=\"dbTable1\" class=\"table tableStyle responsive nowrap vAlignMdl\">\r\n        <thead>\r\n          <tr *ngIf=\"msgTransDetails.controls\">\r\n            <th *ngIf=\"showFetch=='TCP/IP'\">\r\n              Field No.\r\n            <span class=\"colorRed\">*</span></th>\r\n           <th *ngIf=\"showFetch=='XML'\">\r\n              Tag\r\n           <span class=\"colorRed\">*</span></th>\r\n           <th *ngIf=\"showFetch=='JSON'\">\r\n            Key\r\n         <span class=\"colorRed\">*</span></th>\r\n           <th *ngIf=\"showFetch=='DB Connection'\">\r\n              Column Name\r\n           <span class=\"colorRed\">*</span></th>\r\n            <th>\r\n              <ng-container *ngIf=\"showFetch=='TCP/IP'; else showType\">\r\n                Data type\r\n              </ng-container>\r\n              <ng-template #showType>\r\n                Data type\r\n              </ng-template>\r\n            <span class=\"colorRed\">*</span></th>\r\n            <th>Default value<span class=\"colorRed\">*</span></th>\r\n            <th>Encryption<span class=\"colorRed\">*</span></th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <ng-container formArrayName=\"msgTransDetails\">\r\n            <tr\r\n              *ngFor=\"let item of msgTransDetails.controls;let i = index\">\r\n\r\n              <ng-container [formGroup]=\"item\">\r\n                <td>\r\n                  <ng-container *ngIf=\"showFetch=='TCP/IP'\">\r\n                    <!-- <ng-select id=\"outlineNgSelect\"\r\n                    id=\"fieldNo_{{ i }}\"\r\n                    formControlName=\"messageKey\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onselectOfFieldNo($event,i)\"\r\n                    required\r\n                  > -->\r\n                    <ng-select id=\"outlineNgSelect\"\r\n                    id=\"fieldNo_{{ i }}\"\r\n                    formControlName=\"messageKey\"\r\n                    [clearable]=\"false\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onselectOfFieldNo($event,i)\"\r\n                    required\r\n                  >\r\n                  <ng-option hidden value=\"\" disabled selected >Please select Field No</ng-option>\r\n                    <!-- <ng-option value=\"\" [selected]=\"isSelected\">--Please Select---</ng-option> -->\r\n                    <ng-option *ngFor=\"let iso2 of fieldNoList\" [value]=\"iso2.messageKey\">\r\n                        {{iso2.messageKey}} {{iso2.messagebasis}}\r\n                    </ng-option>\r\n                  </ng-select>\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"showFetch=='XML' && showFormat !== 'JSON'\">\r\n                    \r\n                    <select\r\n                    id=\"tag_{{ i }}\" \r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onselectingTag($event,i)\"\r\n                    \r\n                    >\r\n                     <option hidden value=\"\" disabled selected  >--Please select--</option>                    \r\n                     <option [hidden]=\"shouldDisableTagOption(data)\" *ngFor=\"let data of messageBasisIso\" \r\n                     [value]=\"data\">\r\n                      {{data}}</option>\r\n                    </select>\r\n                  </ng-container>\r\n                  <ng-container  *ngIf=\"showFetch=='JSON' && showFormat === 'JSON'\">\r\n                     <input\r\n                        id=\"fieldNo_{{ i }}\"\r\n                        formControlName=\"messagebasis\"\r\n                        class=\"form-control\"\r\n                        aria-label=\"Default select example\"\r\n                        required\r\n                      >\r\n                      <!-- <input\r\n                      id=\"dataType_{{ i }}\"\r\n                      type=\"text\"\r\n                      formControlName=\"dataType\"\r\n                      class=\"form-control\"\r\n                      value=\"\" -->\r\n                        <!-- <option value=\"\" [selected]=\"isSelected\" >--Please Select---</option>\r\n                        <option *ngFor=\"let mkey of messageBasisData\" [value]=\"mkey.messageKey\">\r\n                          {{mkey.messageKey}}{{mkey.messageBasis}}\r\n                        </option> -->\r\n                      <!-- </select> -->\r\n                  </ng-container>\r\n                  \r\n                  <ng-container *ngIf=\"showFetch=='DB Connection'\">\r\n                    <!-- <select\r\n                    id=\"db_{{ i }}\"\r\n                    formControlName=\"messagebasis\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onselectingColumnName($event,i)\"\r\n                  >\r\n                  <option hidden value=\"\" disabled selected  >--Please select--</option>                    \r\n                  <option *ngFor=\"let data of messageBasisData\" \r\n                    [value]=\"data.messageKey\">\r\n                    {{data.messageKey}}{{data.messageBasis}}</option>\r\n                  </select> -->\r\n                  <input\r\n                  id=\"db_{{ i }}\"\r\n                  formControlName=\"messagebasis\"\r\n                  class=\"form-control\"\r\n                  aria-label=\"Default select example\"\r\n                  required\r\n                >\r\n                  </ng-container>\r\n                </td>\r\n               \r\n                <td>\r\n                  <ng-container *ngIf=\"showFetch=='TCP/IP'\">\r\n                    \r\n                    <input\r\n                    id=\"dataType_{{ i }}\"\r\n                    type=\"text\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-control\"\r\n                    value=\"\"\r\n                    \r\n                  />\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"showFetch=='JSON' || showFetch=='XML' \">\r\n                    <select\r\n                    id=\"dataType_{{ i }}\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    \r\n                  >\r\n                  <option hidden value=\"\" disabled selected  >--Please select--</option>                    \r\n                    <option value=\"numeric\">\r\n                      Numeric\r\n                    </option>\r\n                    <option value=\"alphaNumeric\">\r\n                      Alpha Numeric\r\n                    </option>\r\n                    <option value=\"date\">\r\n                      Date\r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"showFetch === 'DB Connection'\">\r\n                    <select\r\n                    id=\"dataType_{{ i }}\"\r\n                    formControlName=\"dataType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    \r\n                  >\r\n                   <option hidden value=\"\" disabled selected  >--Please select--</option>                    \r\n                    <option value=\"VARCHAR2\">\r\n                      VARCHAR2\r\n                    </option>\r\n                    <option value=\"NUMBER\">\r\n                      NUMBER\r\n                    </option>\r\n                    <option value=\"DATE\">\r\n                      DATE\r\n                    </option>\r\n                  </select>\r\n                  </ng-container>\r\n                </td>\r\n              \r\n              \r\n                <td>\r\n                  <input\r\n                  id=\"responseIndicator_{{ i }}\"\r\n                  formControlName=\"defaultValue\"\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  value=\"\"\r\n                  \r\n                  \r\n                  \r\n                />\r\n                </td>\r\n                <td>\r\n                  <select\r\n                    id=\"encryption_{{ i }}\"\r\n                    formControlName=\"encryption\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onSelectionOFMessageType($event)\"\r\n                    \r\n                  >\r\n                  <option hidden value=\"\" disabled  selected  >--Please select--</option>\r\n                    <!-- <option value=\"\" [selected]=\"isSelected\">--Please Select---</option> -->\r\n                    <option value=\"No Encryption\">No Encryption</option>\r\n                    <option value=\"BASE64\">\r\n                      BASE 64\r\n                    </option>\r\n                    <option value=\"SHA256\">\r\n                      SHA 256\r\n                    </option>\r\n                    <option value=\"SHA512\">\r\n                      SHA 512\r\n                    </option>\r\n                  </select>\r\n                </td>\r\n                <td class=\"tblIcon\">\r\n                  <a *ngIf=\"submitFlag\" (click)=\"removeTranslation(i)\" class=\"deleteIcon2\"><img src=\"assets/images/delete-icon.svg\" alt=\"...\"></a>\r\n                  <!-- <button *ngIf=\"submitFlag\" (click)=\"removeTranslation(i)\" class=\"deleteIcon2\"\r\n                    ><img src=\"assets/images/delete-icon.svg\" alt=\"...\"\r\n                  /></button> -->\r\n                </td>\r\n              </ng-container>\r\n            </tr>\r\n          </ng-container>\r\n\r\n          <tr>\r\n            <td>\r\n              <button *ngIf=\"submitFlag\" (click)=\"addTransaltionGroup('')\" class=\"addIcon primarybg\">\r\n                <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\" ></span>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </fieldset>\r\n  <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n    <div class=\"col-auto\" *ngIf=\"!(translationResp?.recordStatus == 'C' || translationResp?.recordStatus == 'CLOSED') && roleCodes.edit\">\r\n      <button class=\"btn smBtn minWdSmBtn btnUpdate\" [hidden]=\"hideEdit\" (click)=\"editValues()\">{{roleCodes.edit.labelDescription}}</button>\r\n    </div>\r\n    <div class=\"col-auto\">\r\n      <button (click)=\"onSubmit()\" [hidden]=\"hideSubmit\" [disabled]=\"!submitFlag|| ruleTransForm.invalid\"\r\n        class=\"btn smBtn minWdSmBtn btnPrimary\">Save</button>\r\n    </div>\r\n    <div class=\"col-auto\"\r\n      *ngIf=\"(translationResp?.approvedStatus == 'U' || translationResp?.approvedStatus == 'N' || translationResp?.approvedStatus == 'UNAUTHORIZED') && roleCodes.auth\">\r\n      <button class=\"btn smBtn minWdSmBtn btnAuth\" [hidden]=\"!hideSubmit\"\r\n        (click)=\"auditChangeRuleTranslation('auth')\">{{roleCodes.auth.labelDescription}}</button>\r\n    </div>\r\n    <div class=\"col-auto\"\r\n      *ngIf=\"(translationResp?.recordStatus == 'O' || translationResp?.recordStatus == 'OPEN') && (translationResp?.approvedEver != 'NO' && translationResp?.approvedEver != 'N') && roleCodes.close\">\r\n      <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"!hideSubmit\"\r\n        (click)=\"auditChangeRuleTranslation('close')\">{{roleCodes.close.labelDescription}}</button>\r\n    </div>\r\n    <div class=\"col-auto\"\r\n      *ngIf=\"(translationResp?.recordStatus == 'C' || translationResp?.recordStatus == 'CLOSED') && roleCodes.reopen\">\r\n      <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"!hideSubmit\"\r\n        (click)=\"auditChangeRuleTranslation('open')\">{{roleCodes.reopen.labelDescription}}</button>\r\n    </div>\r\n    <div class=\"col-auto\"\r\n      *ngIf=\"(translationResp?.approvedEver == 'NO' || translationResp?.approvedEver == 'N')&&!showdelete && roleCodes.delete\">\r\n      <button class=\"btn smBtn minWdSmBtn btnPrimary\" [hidden]=\"!hideSubmit\"\r\n        (click)=\"deleteRuleTranslation()\">{{roleCodes.delete.labelDescription}}</button>\r\n    </div>\r\n    <div class=\"col-auto\" *ngIf=\"showRecords\">\r\n      <button [routerLink]=\"[ '/rule-translation/summary' ]\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</button>\r\n    </div>\r\n  </div>\r\n  </div>\r\n  </form>\r\n  <br>\r\n  <div class=\"dbCardStyle\" *ngIf=\"showAuditLog\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n                  <i class=\"fa fa-edit faClass\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker</h2>\r\n                <p>{{translationResp?.creatorId}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n                <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Maker Time Stamp</h2>\r\n                <p>{{translationResp?.createdTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n                <img src=\"assets/images/record-status-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Record Status</h2>\r\n                <p>{{translationResp?.recordStatus}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker</h2>\r\n                <p>{{translationResp?.approverId}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n                <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Checker Time Stamp</h2>\r\n                <p>{{translationResp?.approvedTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> \r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n                <img src=\"assets/images/first-auth-icon.svg\" alt=\"...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>First Time Authorization</h2>\r\n                <p>{{translationResp?.approvedEver}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n               <img src=\"assets/images/authorize.svg\" alt=\"...\" class=\"modImage\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Authorization Status</h2>\r\n                <p>{{translationResp?.approvedStatus}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n        <div class=\"csCardStyle\">\r\n          <div class=\"row g-2 align-items-center\">\r\n            <div class=\"col-auto\">\r\n              <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n                 <img src=\"assets/images/modification.svg\" class=\"modImage\" alt=\"...\" >\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"csCardStyleText\">\r\n                <h2>Modification Number</h2>\r\n\r\n                <p>{{translationResp?.versionNo}}</p>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>","import { ChangeDetectorRef, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n\r\nimport Swal from 'sweetalert2';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { event } from 'jquery';\r\n\r\n@Component({\r\n  selector: 'npr-rule-translation',\r\n  templateUrl: './rule-translation.component.html',\r\n  styleUrls: ['./rule-translation.component.scss']\r\n})\r\nexport class RuleTranslationComponent implements OnInit ,IDeactivateComponent{\r\n  submitFlag: boolean = true;\r\n  externalSystem: any;\r\n  ruleTransForm: FormGroup;\r\n  isSelected: boolean = true;\r\n  hideSubmit:boolean=false;\r\n  showdelete: boolean;\r\n  hideEdit : boolean = true;\r\n  formTouched: boolean=true;\r\n  msgTranslation:any = new msgTranslation();\r\n  translationDTO: any;\r\n  sourcesystem: any;\r\n  showRecords: boolean;\r\n  currentUser: string;\r\n  showAuditLog: boolean;\r\n  msgType: any;\r\n  translationDataOperation: any;\r\n  selectedFiles: any;\r\n  currentFileUpload: any;\r\n  recordSaved: boolean = false;\r\n\r\n  translationDataService: any;\r\n\r\n  showFetch: any;\r\n  showFormat:any;\r\n\r\n  matlabel1: string;\r\n  matlabel2: string;\r\n  headerTagData: any;\r\n  messageBasisIso: any;\r\n  messageKeyIso: any;\r\n  xmlRespData: any;\r\n  sourcesysData: any;\r\n  translationResp: any;\r\n  transId : any;\r\n  fileName: any;\r\n  disableSubmit: boolean = false;\r\n  disableReset: boolean = false;\r\n  uploadXmlResp: any;\r\n  desSystem: any[] = [];\r\n  mtype: string[];\r\n  isoRespData: any = [];\r\n  tempArrayList: any[] = [];\r\n  fieldNoList: { messageKey: any, messagebasis: any, dataType: any, defaultValue:any }[] = [];\r\n  dbConnectionList: any[] = [];\r\n  @ViewChild('fileWrapper') fileUploadWrapper: ElementRef;\r\n  roleCodes = new permissionsLabels();\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  columnNameDD: any = [];\r\n  messageBasisData: any = [];\r\n  mdmtSystemChannel: any = [];\r\n  multipleOperation: boolean = true;\r\n  multipleService: boolean = true;\r\n  forCheck: any;\r\n  messageArr: string;\r\n  // transResp: any;\r\n\r\n\r\n  constructor(private rules: RuleService,\r\n    private addSystem: AddSystemService,\r\n    private formBuilder: FormBuilder,\r\n    private cdr: ChangeDetectorRef,\r\n    private roleService:RoleService,\r\n    private router: Router,private canDeactivateGuard: CanDeactivateGuard\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n\r\n    this.ruleTransForm = this.formBuilder.group({\r\n      transId:this.transId,\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      msgTransDetails: this.formBuilder.array([])\r\n    });\r\n\r\n    this.roleService.fetchScreenPermissions('Rule translation');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n    this.addTransaltionGroup({});\r\n    // this.msgTranslation.messageType = \"null\";\r\n    // this.addTransaltionGroup();\r\n    this.gettingExternalsystem();\r\n    this.fetchingHeadertag();\r\n    // this.fetchingIso();\r\n\r\n    this.forCheck = '';\r\n  }\r\n\r\n  getTranslationItem(item) {\r\n    console.log(item);\r\n    return this.formBuilder.group({\r\n      messagebasis: [item.messagebasis ? item.messagebasis : \"\"],\r\n      headerTag: [item.headerTag ? item.headerTag : \"\"],\r\n      defaultValue: [item.defaultValue ? item.defaultValue : \"\"],\r\n      systemChannelId: [item.systemChannelId ? item.systemChannelId : \"\"],\r\n      encryption: [item.encryption ? item.encryption : \"No Encryption\"],\r\n      id: [item.id ? item.id : ''],\r\n      dataType: [item.dataType ? item.dataType : ''],\r\n      messageKey: [item.messageKey ? item.messageKey : '']\r\n    });\r\n  }\r\n\r\n  get msgTransDetails() {\r\n    return this.ruleTransForm.get('msgTransDetails') as FormArray;\r\n  }\r\n\r\n  addTransaltionGroup(item) {\r\n    this.msgTransDetails.push(this.getTranslationItem(item));\r\n  }\r\n\r\n  removeTranslation(index: number) {\r\n    Swal.fire({\r\n      title: 'are you sure, want to remove the record?',\r\n      showDenyButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      denyButtonText: `No`,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        if (this.tempArrayList[index]) {\r\n          this.tempArrayList.splice(index, 1);\r\n        }\r\n        if(this.desSystem[index]) {\r\n          this.desSystem.splice(index, 1);\r\n        }\r\n        this.msgTransDetails.removeAt(index);\r\n        console.log(this.tempArrayList);\r\n        Swal.fire('Removed!', '', 'success');\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n  \r\n  \r\n  canExit() : Promise<boolean> {\r\n    let isExit :boolean = false;\r\n    if (this.ruleTransForm.touched && this.formTouched==true) {\r\n    return Swal.fire({ \r\n      text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#E6224A',\r\n      cancelButtonColor: '#011945',\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES',\r\n      icon: 'info',\r\n    }).then((result) => {\r\n      if (result.isConfirmed === true) {\r\n        isExit=true;\r\n        this.cdr.markForCheck();\r\n           return isExit;\r\n      }\r\n      else{\r\n        isExit=false;\r\n        this.cdr.markForCheck();\r\n        return isExit;\r\n      }\r\n    \r\n    });\r\n  }\r\n else{\r\n  isExit=true;\r\n  return new Promise((resolve, reject) => {\r\n    if (isExit === true) {\r\n      isExit=true;\r\n      this.cdr.markForCheck();\r\n      resolve(true);\r\n    }\r\n  \r\n  })\r\n }\r\n    }\r\n \r\n  auditLog() {\r\n      \r\n    if (this.translationResp.approvedStatus === 'U') {\r\n      this.translationResp.approvedStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (this.translationResp.approvedStatus === 'A') {\r\n      this.translationResp.approvedStatus = 'AUTHORIZED'\r\n    }\r\n    if (this.translationResp.recordStatus === 'O') {\r\n      this.translationResp.recordStatus = 'OPEN'\r\n    }\r\n    if (this.translationResp.recordStatus === 'C') {\r\n      this.translationResp.recordStatus = 'CLOSED'\r\n    }\r\n    if (this.translationResp.approvedEver === 'N') {\r\n      this.translationResp.approvedEver = 'NO'\r\n    }\r\n    if (this.translationResp.approvedEver === 'Y') {\r\n      this.translationResp.approvedEver = 'YES'\r\n    }\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rules.gettingExternalsystem().subscribe(extSysResp => {\r\n      console.log(extSysResp);\r\n      if (extSysResp) {\r\n        this.externalSystem = extSysResp.sort();\r\n        this.sourcesysData = this.externalSystem;\r\n      }\r\n    },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      })\r\n  }\r\n  onSlectionExternalSystem(event: any) {\r\n    this.ruleTransForm.get('operationName').patchValue(\"\");\r\n    this.ruleTransForm.get('serviceName').patchValue(\"\");\r\n    console.log(event);\r\n    this.tempArrayList = [];\r\n    this.sourcesystem = event;\r\n    this.rules.getAddSystem(this.sourcesystem).subscribe((resp:any) => {\r\n      console.log(\"PAtch REsp\", resp);\r\n      if (resp) {\r\n          this.forCheck = resp.messsageType;\r\n          if (this.forCheck === 'I') {\r\n            this.messageArr = \"Incoming\";\r\n          }\r\n          else if (this.forCheck === 'O'){\r\n            this.messageArr = \"Outgoing\";\r\n          }\r\n          \r\n        \r\n        this.ruleTransForm.patchValue(resp);\r\n        this.msgTranslation.messageType = resp.messsageType;\r\n        this.msgTranslation.operationName = resp.operationName;\r\n        this.msgTranslation.serviceName = resp.serviceName;\r\n        if (resp.messsageType == 'A') {\r\n          this.msgTranslation.messageType = 'I';\r\n          this.ruleTransForm.get('messageType').patchValue(this.msgTranslation.messageType);\r\n        }\r\n        this.ruleTransForm.get('messageType').patchValue(this.msgTranslation.messageType);\r\n        this.cdr.markForCheck();\r\n        console.log(this.msgTranslation);\r\n        this.gettingoperationAndService(this.sourcesystem, this.msgTranslation.messageType);\r\n\r\n      }\r\n    })\r\n  }\r\n  onSelectionOFMessageType(event: any) {\r\n    this.msgType = event.target.value;\r\n    console.log(this.msgType, this.sourcesystem);\r\n    if (this.sourcesystem && this.msgType) {\r\n      this.gettingoperationAndService(this.sourcesystem, this.msgType);\r\n    }\r\n    else {\r\n      console.log(\"enter both msg and ext\")\r\n    }\r\n  }\r\n  gettingoperationAndService(sourcesystem, msgType) {\r\n    this.rules.gettingoperationAndService(sourcesystem, msgType, this.currentUser)\r\n      .subscribe((translationResp: any) => {\r\n        console.log(\"translationResp - \", translationResp);\r\n        // this.transResp=translationResp;\r\n        // console.log(\"msgType - \",msgType);\r\n        this.messageBasisData = translationResp.MdmtSystemService;\r\n        this.mdmtSystemChannel = translationResp.MdmtSystemChannel;\r\n        let keys = Object.keys(translationResp);\r\n        console.log(this.messageBasisData)\r\n        let x = keys[2];\r\n        let y = keys[3];\r\n        if (x == 'I' && Object.keys(translationResp).length == 3) {\r\n          // console.log(\"yes\", x);\r\n\r\n          if (translationResp.I.SERVICE.length !== 0) {\r\n            \r\n            // this.msgTranslation.serviceName = translationResp.I.SERVICE[0].headerValue\r\n            this.ruleTransForm.get('serviceName').patchValue(translationResp.I.SERVICE[0].headerValue);\r\n            if(translationResp.I.SERVICE.length  <= 1){\r\n              console.log(this.translationDataOperation ,\"1st if\");\r\n              this.multipleService = true;\r\n            }\r\n\r\n            if(translationResp.I.SERVICE.length  > 1){\r\n              console.log(this.translationDataOperation,\"2nd If\");\r\n              this.multipleService = false;\r\n            }\r\n          }\r\n          if (translationResp.I.OPERATION.length !== 0) {\r\n            // this.msgTranslation.operationName = translationResp.I.OPERATION[0].headerValue\r\n            this.ruleTransForm.get('operationName').patchValue(translationResp.I.OPERATION[0].headerValue);\r\n            this.translationDataOperation = translationResp.I.OPERATION;\r\n            \r\n            if(this.translationDataOperation.length <= 1){\r\n              console.log(this.translationDataOperation ,\"1st if\");\r\n              this.multipleOperation = true;\r\n            }\r\n            if(this.translationDataOperation.length > 1){\r\n              console.log(this.translationDataOperation,\"2nd If\");\r\n              this.multipleOperation = false;\r\n            }\r\n          }\r\n          this.translationDataService = translationResp.I.SERVICE\r\n        }\r\n        else if (x == 'O' && Object.keys(translationResp).length == 3) {\r\n          // console.log(\"else if\", x);\r\n          \r\n          if (translationResp.O.SERVICE.length !== 0) {\r\n            // this.msgTranslation.serviceName = translationResp.O.SERVICE[0].headerValue\r\n            this.ruleTransForm.get('serviceName').patchValue(translationResp.O.SERVICE[0].headerValue);\r\n            if(translationResp.O.SERVICE.length  <= 1){\r\n              console.log(this.translationDataOperation ,\"1st if\");\r\n              this.multipleService = true;\r\n            }\r\n\r\n            if(translationResp.O.SERVICE.length  > 1){\r\n              console.log(this.translationDataOperation,\"2nd If\");\r\n              this.multipleService = false;\r\n            }\r\n          }\r\n          if (translationResp.O.OPERATION.length !== 0) {\r\n            // this.msgTranslation.operationName = translationResp.O.OPERATION[0].headerValue\r\n            this.ruleTransForm.get('operationName').patchValue(translationResp.O.OPERATION[0].headerValue);\r\n            this.translationDataOperation = translationResp.O.OPERATION;\r\n            if(this.translationDataOperation.length <= 1){\r\n              console.log(this.translationDataOperation ,\"1st if\");\r\n              this.multipleOperation = true;\r\n            }\r\n            if(this.translationDataOperation.length > 1){\r\n              console.log(this.translationDataOperation,\"2nd If\");\r\n              this.multipleOperation = false;\r\n            }\r\n           \r\n          }\r\n          this.translationDataService = translationResp.O.SERVICE\r\n        }\r\n        else if (x == 'I' && this.msgTranslation.messageType == 'I' && Object.keys(translationResp).length == 4) {\r\n\r\n          if (translationResp.I.SERVICE.length !== 0) {\r\n            // this.msgTranslation.serviceName = translationResp.I.SERVICE[0].headerValue\r\n            this.ruleTransForm.get('serviceName').patchValue(translationResp.I.SERVICE[0].headerValue);\r\n          }\r\n          if (translationResp.I.OPERATION.length !== 0) {\r\n            // this.msgTranslation.operationName = translationResp.I.OPERATION[0].headerValue\r\n            this.ruleTransForm.get('operationName').patchValue(translationResp.I.OPERATION[0].headerValue);\r\n            this.translationDataOperation = translationResp.I.OPERATION;\r\n          }\r\n          this.translationDataService = translationResp.I.SERVICE\r\n        }\r\n        else if (y == 'O' && this.msgTranslation.messageType == 'O' && Object.keys(translationResp).length == 4) {\r\n\r\n          if (translationResp.O.SERVICE.length !== 0) {\r\n            // this.msgTranslation.serviceName = translationResp.O.SERVICE[0].headerValue;\r\n            this.ruleTransForm.get('serviceName').patchValue(translationResp.O.SERVICE[0].headerValue);\r\n          }\r\n          if (translationResp.O.OPERATION.length !== 0) {\r\n            // this.msgTranslation.operationName = translationResp.O.OPERATION[0].headerValue;\r\n            this.ruleTransForm.get('operationName').patchValue(translationResp.O.OPERATION[0].headerValue);\r\n            this.translationDataOperation = translationResp.O.OPERATION;\r\n          }\r\n          this.translationDataService = translationResp.O.SERVICE\r\n        }\r\n        for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n          if(translationResp.MdmtSystemChannel[index].messageType === msgType) {\r\n            this.showFetch = translationResp.MdmtSystemChannel[index].messageChannel;\r\n            this.showFormat = translationResp.MdmtSystemChannel[index].messageFormat;\r\n          }\r\n        }\r\n        // console.log(this.showFetch);\r\n        if (this.showFetch == 'Https/Http') {\r\n          this.showFetch =translationResp.MdmtSystemChannel[0].messageFormat;\r\n          // this.fetchingXMl();\r\n          // for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n          //   if(translationResp.MdmtSystemChannel[index].messageType === 'I') {\r\n          //     for (let subIndex = 0; subIndex < translationResp.MdmtSystemChannel[index].sysService.length; subIndex++) {\r\n          //       let systemCode = translationResp.MdmtSystemChannel[index].sysService[subIndex].messageKey.split(\",\", 4);\r\n          //       let item = {\r\n          //         // messageKey: null, \r\n          //         // messagebasis: systemCode[1],\r\n          //         // dataType: translationResp.MdmtSystemChannel[index].sysService[subIndex].dataType,\r\n          //         // defaultValue:  systemCode[3],\r\n          //       }\r\n          //       this.addTransaltionGroup(item);\r\n          //     }\r\n          //     // console.log(this.ruleTransForm.value);\r\n          //   }\r\n          // }\r\n        }\r\n        else if (this.showFetch == 'TCP/IP') {\r\n          this.fetchingIso();\r\n        }\r\n        else if (this.showFetch == 'DB Connection') {\r\n          this.addSystem.coulmnNameBasedonTableName(\r\n            translationResp.MdmtSystemChannel[0].dbConnectString,\r\n            translationResp.MdmtSystemChannel[0].dbServiceName,\r\n            translationResp.MdmtSystemChannel[0].dbUsername,\r\n            translationResp.MdmtSystemChannel[0].dbPassword,\r\n            translationResp.MdmtSystemChannel[0].sysService[0].messageKey.split(\",\", 1)\r\n            ).subscribe((resp) => {\r\n              resp.forEach(element => {\r\n                this.columnNameDD.push(element[1]);\r\n              });\r\n            });\r\n            console.log(this.columnNameDD)\r\n          if(msgType === 'I') {\r\n            console.log(translationResp.MdmtSystemChannel[0].messageType)\r\n            // for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n            //   if(translationResp.MdmtSystemChannel[index].messageType === 'I') {\r\n            //     for (let subIndex = 0; subIndex < translationResp.MdmtSystemChannel[index].sysService.length; subIndex++) {\r\n            //       let systemCode = translationResp.MdmtSystemChannel[index].sysService[subIndex].messageKey.split(\",\", 4);\r\n            //       let item = {\r\n            //         // messageKey: null, \r\n            //         // messagebasis: systemCode[1],\r\n            //         // dataType: translationResp.MdmtSystemChannel[index].sysService[subIndex].dataType,\r\n            //         // defaultValue:  systemCode[3],\r\n            //       }\r\n            //       this.addTransaltionGroup(item);\r\n            //     }\r\n            //     console.log(this.ruleTransForm.value);\r\n            //   }\r\n            // }\r\n          }\r\n          else if(msgType === 'O') {\r\n            console.log(translationResp)\r\n            // for (let index = 0; index < translationResp.MdmtSystemChannel.length; index++) {\r\n            //   // console.log(translationResp.MdmtSystemChannel[index].messageType)\r\n            //   if(translationResp.MdmtSystemChannel[index].messageType === 'O') {\r\n            //     for (let subIndex = 0; subIndex < translationResp.MdmtSystemChannel[index].sysService.length; subIndex++) {\r\n            //       let systemCode = translationResp.MdmtSystemChannel[index].sysService[subIndex].messageKey.split(\",\", 2);\r\n            //       console.log(systemCode);\r\n            //       let item = {\r\n            //         // messageKey: null, \r\n            //         // messagebasis: systemCode[1],\r\n            //         // dataType: translationResp.MdmtSystemChannel[index].sysService[subIndex].dataType,\r\n            //         // defaultValue:  systemCode[3],\r\n            //       }\r\n            //       console.log(item);\r\n            //       this.addTransaltionGroup(item);\r\n            //     }\r\n            //     // console.log(this.ruleTransForm.value);\r\n            //   }\r\n            // }\r\n          }\r\n        }\r\n      }, (err => {\r\n        // console.log(err);\r\n        // Swal.fire({text:'External system Service data not present'})\r\n      }))\r\n  }\r\n\r\n  onSubmit() {\r\n\r\n    // console.log(this.ruleTransForm.value);\r\n    // console.log(this.ruleTransForm.get('transId').value);\r\n    if(this.ruleTransForm.get('transId').value){\r\n      this.rules.editruleTranslation(\"update\", this.currentUser, this.ruleTransForm.value).subscribe((ruleTranslationResp) => {\r\n        console.log(ruleTranslationResp);\r\n        this.translationResp = ruleTranslationResp;\r\n        this.ruleTransForm.patchValue(ruleTranslationResp);\r\n        this.auditLog();\r\n        if (ruleTranslationResp) {\r\n          this.recordSaved = true;\r\n          Swal.fire({\r\n            text: \"Record is updated!\",\r\n            icon: 'success'\r\n          });\r\n          this.ruleTransForm.disable();\r\n          this.msgTransDetails.disable();\r\n          this.formTouched=!this.ruleTransForm.touched;\r\n          this.hideSubmit = true;\r\n          this.hideEdit = false;\r\n          this.showAuditLog = true;\r\n          this.submitFlag = false;\r\n          this.disableSubmit = true;\r\n          this.disableReset = true;\r\n        }\r\n      });\r\n    }\r\n    else{\r\n      this.rules.submittingruleTranslation(this.currentUser, this.ruleTransForm.value).subscribe(ruleTranslationResp => {\r\n        console.log(ruleTranslationResp);\r\n        this.translationResp = ruleTranslationResp;\r\n        this.ruleTransForm.patchValue(ruleTranslationResp);\r\n        this.auditLog()\r\n        if (ruleTranslationResp) {\r\n          this.recordSaved = true;\r\n          Swal.fire({\r\n            text: \"Record is Created\",\r\n            icon: 'success'\r\n          });\r\n          this.ruleTransForm.disable();\r\n          this.msgTransDetails.disable();\r\n          this.formTouched=!this.ruleTransForm.touched;\r\n          this.hideSubmit = true;\r\n          this.hideEdit = false;\r\n          this.showAuditLog = true;\r\n          this.submitFlag = false;\r\n          this.disableSubmit = true;\r\n          this.disableReset = true;\r\n        }\r\n      }, (err => {\r\n        this.disableSubmit = true;\r\n        console.log(\"error: : \", err.error);\r\n        Swal.fire({ text: 'Rule Translation already exist kindly recheck the data.', icon: 'error' });\r\n      }))\r\n    }\r\n  }\r\n  onFetch() {\r\n    this.showRecords = true;\r\n    console.log(this.showFetch);\r\n    if (this.showFetch == 'DB Connection') {\r\n      this.dbConnectionList = this.messageBasisData;\r\n      console.log(this.dbConnectionList);\r\n      for (let index = 0; index < this.dbConnectionList.length; index++) {\r\n        this.tempArrayList[index] = this.dbConnectionList[index];\r\n      }\r\n      console.log(\"this.tempArrayList \", this.tempArrayList);\r\n    }\r\n    if (this.sourcesystem == 'E-ISO') {\r\n      for (let index = 0; index < this.msgTransDetails.controls.length; index++) {\r\n        this.tempArrayList[index] = this.msgTransDetails.at(index).get('messageKey').value;\r\n      }\r\n      console.log(this.tempArrayList);\r\n    }\r\n    console.log(\"translationDeatils\", this.msgTransDetails.value);\r\n\r\n  }\r\n  onReset() {\r\n    this.ruleTransForm.reset();\r\n    this.msgTransDetails.clear();\r\n    this.showRecords = false;\r\n    this.disableSubmit = false;\r\n  }\r\n\r\n\r\n  selectFileFORHTTPXMLIncoming(event: any) { \r\n    // console.log(\"here http and xML\", event);\r\n    this.selectedFiles = event.target.files;\r\n    // this.sizeOfFile = this.selectedFiles.item(0).size;\r\n    // console.log(this.sizeOfFile);\r\n    // console.log(this.selectedFiles);\r\n    // console.log(this.selectedFiles[0].name);\r\n    this.fileName = this.selectedFiles[0].name;\r\n\r\n    this.fileUploadWrapper.nativeElement.setAttribute('data-text', this.fileName);\r\n    this.currentFileUpload = this.selectedFiles.item(0);\r\n\r\n\r\n\r\n    console.log(event.target.files);\r\n    this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(xmlHttpResp => {\r\n      console.log(\"XML\", xmlHttpResp);\r\n      this.msgTransDetails.controls.length = 0;\r\n      this.uploadXmlResp = xmlHttpResp;\r\n      if (xmlHttpResp) {\r\n        this.messageBasisIso = xmlHttpResp.nodeTagList;\r\n        this.showRecords = true;\r\n        this.addTransaltionGroup({});\r\n      }\r\n\r\n    })\r\n  }\r\n  fetchingHeadertag() {\r\n    this.addSystem.fetchingHeaderTag().subscribe(resp => {\r\n      console.log(\"res\", resp);\r\n      this.headerTagData = resp;\r\n    })\r\n  }\r\n\r\n  onselectOfFieldNo(event, i) {\r\n    console.log(event);\r\n    console.log(this.tempArrayList[i]);\r\n    if (this.tempArrayList[i]) {\r\n      this.tempArrayList[i] = event;\r\n    }\r\n    else {\r\n      this.tempArrayList.push(event);\r\n    }\r\n  }\r\n\r\n  auditChangeRuleTranslation(operation) {\r\n    let message = '';\r\n    let operationType = '';\r\n    switch (operation) {\r\n      case 'open':\r\n        message = 'opened'\r\n        operationType = 'open'\r\n        break;\r\n      case 'close':\r\n        message = 'closed'\r\n        operationType = 'close'\r\n        break;\r\n      case 'auth':\r\n        message = 'authorized'\r\n        operationType = 'authorize'\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    Swal.fire(\r\n      {\r\n        text: `You are trying to ${operationType} record. ` + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.translationResp.creatorId) {\r\n          Swal.fire(`Maker cannot ${operationType}!`);\r\n        }\r\n        else {\r\n          let RuleTranslationData: any = this.translationResp;\r\n          this.addSystem.editruleTranslation(operation, this.currentUser, RuleTranslationData).subscribe((response) => {\r\n            console.log(response);\r\n            if (response) {\r\n              Swal.fire(`Record is ${message}`);\r\n              this.translationResp = response;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }))\r\n  }\r\n\r\n  editValues() {\r\n    this.hideSubmit = false;\r\n    this.hideEdit = true;\r\n    this.submitFlag = true;\r\n    this.showAuditLog = false;\r\n    this.ruleTransForm.enable();\r\n    this.msgTransDetails.enable();\r\n  }\r\n\r\n  deleteRuleTranslation() {\r\n    Swal.fire(\r\n      {\r\n        text: 'You are trying to Delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let RuleTranslationData: any = this.translationResp;\r\n        console.log(this.translationResp);\r\n        this.addSystem.deleteRuleTranslation(this.currentUser, RuleTranslationData.transId).subscribe((response) => {\r\n        }, (err) => {\r\n          if (err.status == 200) {\r\n            this.showdelete = true;\r\n            Swal.fire({\r\n              title: 'Record is Deleted!',\r\n              confirmButtonText: 'Ok'\r\n            }).then((result) => {\r\n              if (result) {\r\n                this.router.navigateByUrl('/rule-translation/summary')\r\n              }\r\n            });\r\n\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n\r\n  onselectingTag(event, i) {\r\n    // if(this.tempArrayList[i]){\r\n    //   this.tempArrayList[i] = event.target.value;\r\n    // }\r\n    // else{\r\n    //   this.tempArrayList.push(event.target.value);\r\n    // }\r\n    console.log(this.uploadXmlResp);\r\n    var result = Object.keys(this.uploadXmlResp.nodeValueMap).map((key) => [(key), this.uploadXmlResp.nodeValueMap[key]]);\r\n    console.log(\"result\", result);\r\n    var x = result.find(item => item[0] == event.target.value);\r\n    console.log(x);\r\n    this.msgTransDetails.at(i).get('defaultValue').patchValue(x[1]);\r\n    this.desSystem.push(event.target.value);\r\n    //   this.mdmtSystemService[i].dataType=x.dataType;\r\n\r\n  }\r\n\r\n  onselectingColumnName(event, i) {\r\n    console.log(this.columnNameDD);\r\n    var result = Object.keys(this.columnNameDD.nodeValueMap).map((key) => [(key), this.columnNameDD.nodeValueMap[key]]);\r\n    console.log(\"result\", result);\r\n    var x = result.find(item => item[0] == event.target.value);\r\n    console.log(x);\r\n    this.msgTransDetails.at(i).get('defaultValue').patchValue(x[1]);\r\n    this.desSystem.push(event.target.value);\r\n  }\r\n\r\n\r\n  fetchingIso() {\r\n    \r\n    this. msgTransDetails.controls=[];\r\n    this.addSystem.fetchingIsoForTcp().subscribe((isoResp: any) => {\r\n      console.log(\"isoResp\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      for (let index = 0; index < isoResp.length; index++) {\r\n        this.addTransaltionGroup({});\r\n        let item = {\r\n          messageKey: isoResp[index].fieldNo,\r\n          messagebasis: isoResp[index].fieldName,\r\n          dataType: isoResp[index].dataType,\r\n          defaultValue: null,\r\n        }\r\n        this.msgTransDetails.at(index).patchValue(item);\r\n        this.fieldNoList[index] = item;\r\n      }\r\n\r\n\r\n      console.log(\"arrayObj 3\", this.msgTransDetails.value);\r\n\r\n\r\n\r\n      // this.translationDeatils = arrayObj;\r\n\r\n      // console.log(\"tra\", this.translationDeatils);\r\n\r\n      // for dropdown 2\r\n      this.messageKeyIso = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n    });\r\n  }\r\n  onsearchingTablName(event) {\r\n    console.log(event.target.value);\r\n\r\n    console.log(\"this is arr\", this.sourcesysData);\r\n    if (this.sourcesysData) {\r\n      let data = this.sourcesysData.filter(function (e) {\r\n        let extValue = e.toLowerCase();\r\n\r\n        let value = event.target.value.toLowerCase();\r\n        console.log(extValue, value);\r\n        // return !extValue.indexOf(value);//changed this for 1192\r\n        return extValue.search(value) > -1\r\n      });\r\n      console.log(data);\r\n      this.externalSystem = data;\r\n\r\n    }\r\n\r\n  }\r\n  chooseFile() {\r\n    console.log(\"heyy file\")\r\n    document.getElementById('chFile').click();\r\n  }\r\n\r\n  //gettingxml records\r\n  fetchingXMl() {\r\n    this.addSystem.gettinXMLmsgIncoming().subscribe(xmlResp => {\r\n      console.log(xmlResp);\r\n      this.xmlRespData = xmlResp;\r\n      //  this.messageBasisIso=xmlResp.map((data)=>{\r\n      //       return data.messageBasis;\r\n      //     });\r\n    });\r\n\r\n  }\r\n\r\n\r\n  try(value) {\r\n    if (this.tempArrayList.find(item => item == value)) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  check(event, value) {\r\n\r\n    console.log(\"ev\", event.value);\r\n    this.desSystem.push(event.value);\r\n    // this.destination=event.value;\r\n    // this.addSystem.gettingHederofXMl(this.currentFileUpload).subscribe(xmlResp=>{\r\n    //   console.log(xmlResp);\r\n    //   if(xmlResp)\r\n    //   {\r\n    //   this.messageBasisIso=xmlResp;\r\n    //   Swal.fire({text:'File Uploaded Successfully'});\r\n    //   }\r\n    // },(err)=>{\r\n    //   console.log(err);\r\n    //   Swal.fire({text:'Invalid Xml file provided'});\r\n    // })\r\n\r\n  }\r\n  shouldDisableTagOption(option) {\r\n    // console.log(this.messageBasisIso);\r\n    return this.desSystem.includes(option);\r\n  }\r\n}\r\nexport class msgTranslation {\r\n  id: any;\r\n  systemCode: any;\r\n  messageType: any;\r\n  operationName: any;\r\n  serviceName: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n  msgTransDetails: any;\r\n}\r\n"]}