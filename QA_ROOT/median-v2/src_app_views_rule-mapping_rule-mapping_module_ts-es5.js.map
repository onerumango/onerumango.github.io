{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAiBaA;AAQX,sCACUC,QADV,EAEUC,MAFV,EAGUC,SAHV,EAIUC,EAJV,EAIyB;AAAA;;AAHf;AACA;AACA;AACA;AAXV,2BAAiB,IAAIC,yCAAJ,EAAjB;AACA,2BAAiC,EAAjC;AACA,qCAA2B,EAA3B;AAUI;;;;iBAEJ,oBAAQ;AACN,iBAAKC,cAAL,GAAsB,KAAKF,EAAL,CAAQG,KAAR,CAAc;AAClCC,0BAAY,EAAE,CAAC,EAAD,EAAKC,+DAAL,CADoB;AAElCC,0BAAY,EAAE,CAAC,EAAD;AAFoB,aAAd,CAAtB;AAID;;;iBACD,mBAAO;AACH,gBAAIC,OAAO,GAAG,IAAIC,cAAJ,EAAd;AACAD,mBAAO,CAACE,IAAR,CAAa,MAAb,YAAwBC,+EAAxB;AACA,gBAAIC,MAAJ;AACA,gBAAIC,IAAI,GAAG,IAAX;;AACAL,mBAAO,CAACM,kBAAR,GAA6B;AAC3B,kBAAIN,OAAO,CAACO,UAAR,IAAsB,CAAtB,IAA2BP,OAAO,CAACQ,MAAR,IAAkB,GAAjD,EAAsD;AACpDC,uBAAO,CAACC,GAAR,CAAYV,OAAZ;AACAK,oBAAI,CAACM,QAAL,GAAe,KAAKC,QAApB;AAGD,eALD,MAMK,IAAGZ,OAAO,CAACO,UAAR,IAAsB,CAAtB,IAA2BP,OAAO,CAACQ,MAAR,IAAkB,GAAhD,EAAqD;AACxDK,wEAAU;AAACC,sBAAI,EAAC,6BAAN;AACZC,sBAAI,EAAC;AADO,iBAAV;AAGF;AACD,aAZD;;AAaA,gBAAI,KAAKpB,cAAL,CAAoBqB,KAApB,CAA0BjB,YAA1B,KAA2C,MAA/C,EAAuD;AACvDC,qBAAO,CAACiB,gBAAR,CAAyB,cAAzB,EAAyC,kBAAzC;AACC,aAFD,MAGK,IAAG,KAAKtB,cAAL,CAAoBqB,KAApB,CAA0BjB,YAA1B,KAA2C,KAA9C,EACL;AAEEC,qBAAO,CAACiB,gBAAR,CAAyB,cAAzB,EAAyC,iBAAzC;AACD;;AAEDjB,mBAAO,CAACkB,IAAR,CAAa,KAAKvB,cAAL,CAAoBqB,KAApB,CAA0BnB,YAAvC;AAEH;;;iBACD,kBAASsB,KAAT,EAAc;AACZ,iBAAKxB,cAAL,CAAoByB,GAApB,CAAwB,cAAxB,EAAwCC,QAAxC,CAAiD,EAAjD;AACA,iBAAKV,QAAL,GAAc,IAAd;AACD;;;iBACD,uBAAW;AACT;AACA,iBAAKW,SAAL,CAAeC,WAAf;AACD;;;;;;;yBA1DUlC,sBAAmBmC;AAAA;;;cAAnBnC;AAAmBoC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ACjBhCL;;AACEA;;AACEA;;AAAsBA;;AAAUA;;AAClCA;;AACAA;;AACEA;;AACAA;;AACEA;;AACEA;;AAAiCA;;AAAYA;;AAC7CA;;AAEsBA;AAAA,qBAAUM,oBAAV;AAA0B,aAA1B;;AAEpBN;;AAAoBA;;AAAGA;;AACvBA;;AAAqBA;;AAAIA;;AAC3BA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AAAIA;;AAAOA;;AACXA;;AACAA;;AAAIA;;AAAaA;;AACnBA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AAOFA;;AACAA;;AACEA;;AAGEA;AAAA,qBAASM,aAAT;AAAkB,aAAlB;;AAEAN;;AACFA;;AACFA;;AACAA;;AACEA;;AAKCA;;AAAcA;;AAGjBA;;AACFA;;AACFA;;AACFA;;AACFA;;AAEFA;;AACAA;;AAEEA;;AACEA;;AAC4CA;;AAAIA;;AAClDA;;AACFA;;AACFA;;;;AA9DUA;;AAAAA;;AAiCMA;;AAAAA;;AAYDA;;AAAAA;;AAaNA;;AAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CSO;;AACIA;;AACJA;;;;;;;;AAFiDA,wFAAgB,QAAhB,EAAgBC,8BAAhB;;AAC7CD;;AAAAA;;;;;;;;AAMPA;;AACCA;;AACAA;AAAAA;;AAAA;;AAAA;AAAA;;AACAA;;AAA2CA;;AAAiBA;;AAClEA;;AACIA;;AACFA;;AACAA;;AACEA;;AACFA;;AACJA;;AACOA;;;;;;AACAA;;AACCA;;AAODA;;;;;;AAyBGA;;AAIEA;;AACFA;;;;;;AAHEA;;AAEAA;;AAAAA;;;;;;AAZJA;;AACEA;;AAMFA;;AAA2CA;;AAAiBA;;AAC1DA;;AAMFA;;AACAA;;;;;;AANoBA;;AAAAA;;;;;;AAOpBA;;AAEEA;;AAOFA;;;;;;AAaEA;;AAIEA;;AACFA;;;;;;AAHEA;;AAEAA;;AAAAA;;;;;;AAZJA;;AACEA;;AAMFA;;AAA2CA;;AAAiBA;;AAC1DA;;AAMFA;;AACAA;;;;;;AANqBA;;AAAAA;;;;;;AAQrBA;;AAEEA;;AAOFA;;;;;;;;AAqCMA;;AACEA;;AACAA;AAAAA;;AAAA;;AAAA;AAAA;;AACAA;;AAA2CA;;AAAiBA;;AAC9DA;;AACIA;;AACFA;;AACAA;;AACEA;;AACFA;;AACNA;;AACIA;;;;;;AACAA;;AACEA;;AAODA;;;;;;AAyBCA;;AAIEA;;AACFA;;;;;;AAHEA;;AAEAA;;AAAAA;;;;;;AAZJA;;AACEA;;AAMFA;;AAA2CA;;AAAiBA;;AAC1DA;;AAMFA;;AACAA;;;;;;AANoBA;;AAAAA;;;;;;AAOpBA;;AAEEA;;AAOFA;;;;;;AAaEA;;AAIEA;;AACFA;;;;;;AAHEA;;AAEAA;;AAAAA;;;;;;AAZJA;;AACEA;;AAMFA;;AAA2CA;;AAAiBA;;AAC1DA;;AAMFA;;AACAA;;;;;;AANqBA;;AAAAA;;;;;;AAQrBA;;AAEEA;;AAOFA;;;;;;AAyCMA;;AAAsDA;;AAAaA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAIxFA;;AAAqDA;;AAAQA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAExFA;;AAA6GA;;AAAoBA;;;;;;;;AAAhFA,mHAAgC,OAAhC,EAAgCE,oBAAhC;;AAA4DF;;AAAAA;;;;;;;;AAHrHA;;AACIA;;AACAA;;AAAqCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACjCA;;AACFA;;AACNA;;;;;;;;AAJ2CA;;AAAAA;;AAEXA;;AAAAA;;;;;;AAI5BA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAEnFA;;AAA6GA;;AAAoBA;;;;;;;;AAAhFA,mHAAgC,OAAhC,EAAgCG,oBAAhC;;AAA4DH;;AAAAA;;;;;;;;AAHrHA;;AACIA;;AACAA;;AAAoCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAChCA;;AACFA;;AACNA;;;;;;;;AAJ2CA;;AAAAA;;AAEXA;;AAAAA;;;;;;AAI9BA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAEnFA;;AAA6GA;;AAAoBA;;;;;;;;AAAhFA,mHAAgC,OAAhC,EAAgCI,oBAAhC;;AAA4DJ;;AAAAA;;;;;;;;AAHnHA;;AACEA;;AACAA;;AAAoCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAChCA;;AACFA;;AACNA;;;;;;;;AAJ2CA;;AAAAA;;AAEXA;;AAAAA;;;;;;AAI5BA;;AAAqDA;;AAAWA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAE3FA;;AAA6GA;;AAAoBA;;;;;;;;AAAhFA,mHAAgC,OAAhC,EAAgCK,oBAAhC;;AAA4DL;;AAAAA;;;;;;;;AAHnHA;;AACEA;;AACAA;;AAAoCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAChCA;;AACFA;;AACNA;;;;;;;;AAJ2CA;;AAAAA;;AAEXA;;AAAAA;;;;;;AAiBpCA;;AAAqDA;;AAAkBA;;;;;;AAI7DA;;AAAqDA;;AAAQA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAExFA;;AACKA;;AAAsBA;;;;;;;;AADqCA,mHAAmC,OAAnC,EAAmCM,sBAAnC;;AAC3DN;;AAAAA;;;;;;;;AAJbA;;AACIA;;AACAA;;AAA0CA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACtCA;;AAEFA;;AACNA;;;;;;;;AAL2CA;;AAAAA;;AAETA;;AAAAA;;;;;;AAK9BA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAEnFA;;AACDA;;AAAsBA;;;;;;;;AAD2CA,mHAAmC,OAAnC,EAAmCO,sBAAnC;;AACjEP;;AAAAA;;;;;;;;AAJPA;;AACIA;;AACAA;;AAAyCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACrCA;;AAEFA;;AACNA;;;;;;;;AAL2CA;;AAAAA;;AAETA;;AAAAA;;;;;;AAKhCA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAEnFA;;AACDA;;AAAsBA;;;;;;;;AAD2CA,mHAAmC,OAAnC,EAAmCQ,sBAAnC;;AACjER;;AAAAA;;;;;;;;AAJLA;;AACEA;;AACAA;;AAAyCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACrCA;;AAEFA;;AACNA;;;;;;;;AAL2CA;;AAAAA;;AAETA;;AAAAA;;;;;;AAK9BA;;AAAqDA;;AAAWA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAE3FA;;AAA+GA;;AAAoBA;;;;;;;;AAAjFA,mHAAiC,OAAjC,EAAiCS,qBAAjC;;AAA6DT;;AAAAA;;;;;;;;AAHrHA;;AACEA;;AACAA;;AAAyCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACrCA;;AACFA;;AACNA;;;;;;;;AAJ2CA;;AAAAA;;AAEXA;;AAAAA;;;;;;AAepCA;;AAAqDA;;AAAaA;;AAAuBA;;AAACA;;AAAOA;;;;;;;;;;;;;;;AAoBnGA;;AAAkBA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAChBA;;AACFA;;;;;;AAD2CA;;AAAAA;;;;;;;;;;;;;;AA9G3DA;;AACIA;;AACIA;;AACIA;;AACEA;;AACEA;;AACEA;;AACAA;;AACEA;;AACIA;;AAMAA;;AAMAA;;AAMAA;;AAQJA;;AASFA;;AACFA;;AACAA;;AACEA;;AACAA;;AACEA;;AACIA;;AAOAA;;AAOAA;;AAOAA;;AAMJA;;AASFA;;AACFA;;AACAA;;AACEA;;AACAA;;AACEA;;AACEA;;AACEA;;AAOJA;;AAEAA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGFA;;AACDA;;AACHA;;AAGNA;;AACJA;;;;;;;;AArHkBA;;AAAAA;;AAKQA;;AAAAA;;AAGaA;;AAAAA;;AAMAA;;AAAAA;;AAMAA;;AAAAA;;AAMAA;;AAAAA;;AAoBEA;;AAAAA;;AAGFA;;AAAAA;;AAOAA;;AAAAA;;AAOAA;;AAAAA;;AAOAA;;AAAAA;;AAkBEA;;AAAAA;;AAOjBA;;AAAAA;;AAaJA;;AAAAA;;;;;;;;AAalBA;;AAAkBA;AAAAA;;AAAA;;AAAA;AAAA;;AAChBA;;AAAMA;;AAAiDA;;AACzDA;;;;;;AA9HRA;;AACEA;;AACIA;;AAuHJA;;AACAA;;AACIA;;AACEA;;AAGFA;;AACFA;;AACJA;;;;;;AA/HqCA;;AAAAA;;AA0HzBA;;AAAAA;;;;;;;;AAQRA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA;AAAA;;AACNA;;AACFA;;AACFA;;;;;;AAJ4HA;;AAExHA;;AAAAA;;;;;;;;AAQJA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA,uDAAoC,MAApC;AAA0C,WAA1C;;AACLA;;AAAmCA;;AAExCA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;;;AAGLA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA,uDAAoC,OAApC;AAA2C,WAA3C;;AACLA;;AAAoCA;;AAEzCA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;;;AAGLA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA,uDAAoC,MAApC;AAA0C,WAA1C;;AACLA;;AAAqCA;;AAE1CA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;;;AAGLA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA;AAAA;;AACLA;;AAAqCA;;AAE1CA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;AAebA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAKA;;AACTA;;AAAGA;;AAA6BA;;AAClCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAgBA;;AACpBA;;AAAGA;;;;AAA4DA;;AACjEA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AAAGA;;AAAkIA;;AACvIA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACAA;;AACAA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAOA;;AACXA;;AAAGA;;AAA8BA;;AACnCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACGA;;AACHA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAkBA;;AACtBA;;AAAGA;;;;AAA6DA;;AAClEA;;AACFA;;AAEFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAwBA;;AAC5BA;;AAAGA;;AAA2HA;;AAChIA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACJA;;AACIA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAoBA;;AACxBA;;AAAGA;;AAAsOA;;AAC3OA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACCA;;AACDA;;AACFA;;AAEAA;;AACEA;;AACEA;;AAAIA;;AAAmBA;;AACvBA;;AAAGA;;AAA6BA;;AAClCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;;;;;AAhIiBA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAkBAA;;AAAAA;;AAiBAA;;AAAAA;;AAkBAA;;AAAAA;;;;;;;;UC7jBJU;AA+EX,6CAAoBC,OAApB,EACoBnD,MADpB,EAEoBoD,WAFpB,EAGoBlD,EAHpB,EAIoBD,SAJpB,EAKoBoD,WALpB,EAKoDC,GALpD,EAMoBC,YANpB,EAMsDC,kBANtD,EAM4F;AAAA;;AANxE;AACA;AACA;AACA;AACA;AACA;AAAgC;AAChC;AAAkC;AA9EtD,6BAAmB,EAAnB;AACA,iCAA2B,KAA3B;AACA,kCAA4B,KAA5B;AACA,iCAA2B,KAA3B;AAEA,8BAAwB,KAAxB;AAEA,4BAAoB,IAApB;AAGA,2BAAkB,KAAlB;AACA,4BAAmB,KAAnB;AAIA,gCAAsB,EAAtB;AACA,kCAAwB,CAAxB;AACA,2BAAiB,EAAjB;AACA,2BAAmB,EAAnB;AAEA,+BAAwB,EAAxB;AACA,gCAAyB,EAAzB;AAIA,iCAAkB,IAAIC,mBAAJ,EAAlB;AACA,4BAAa,IAAIA,mBAAJ,EAAb;AAQA,iCAAuB,EAAvB;AAIA,iCAAuB,EAAvB;AACA,4BAAkB,EAAlB;AAQA,yBAAU,IAAIC,WAAJ,EAAV;AAGA,6BAAuB,KAAvB;AAGA,wBAAgB,IAAhB;AACA,2BAAY,IAAIC,2FAAJ,EAAZ;AACA,6BAAqB,IAArB;AACA,4BAAa,KAAb;AACA,yBAAU,IAAIC,yCAAJ,EAAV,CAqB4F,CApB5F;;AACA,8CAAsC,EAAtC;AAGA,2BAAqB,IAArB;AACA,gCAA0B,IAA1B;AAKA,mCAA6B,IAA7B;AACA,iCAA2B,IAA3B;AASiG;;;;iBAEjG,oBAAQ;AAAA;;AAEN,iBAAKC,WAAL,GAAmBC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;AACA,iBAAKC,qBAAL;AACA,iBAAKC,eAAL,GAAuB,KAAKZ,WAAL,CAAiBhD,KAAjB,CAAuB;AAC5C6D,wBAAU,EAAE,CAAC,EAAD,EAAKC,+DAAL,CADgC;AAE5CC,yBAAW,EAAE,CAAC,EAAD,EAAKD,+DAAL,CAF+B;AAG5CE,yBAAW,EAAE,CAAC,EAAD,EAAKF,+DAAL,CAH+B;AAI5CG,2BAAa,EAAE,CAAC,EAAD,EAAKH,+DAAL,CAJ6B;AAK5CI,gCAAkB,EAAE,KAAKC,kBAAL,EALwB;AAM5CC,+BAAiB,EAAE,KAAKpB,WAAL,CAAiBqB,KAAjB,CAAuB,EAAvB;AANyB,aAAvB,CAAvB;AAUA,iBAAKC,aAAL;AAGA,iBAAKC,WAAL;AAEA,iBAAKxB,WAAL,CAAiByB,sBAAjB,CAAwC,cAAxC;AACA,iBAAKzB,WAAL,CAAiB0B,eAAjB,CAAiCC,SAAjC,CAA2C,iBAAO;AAAA,qBAAI,KAAI,CAACC,SAAL,GAAiBC,OAArB;AAAA,aAAlD;AACAC,sBAAU,CAAC,YAAK;AACdhE,qBAAO,CAACC,GAAR,CAAY,KAAI,CAAC6D,SAAjB;AACD,aAFS,EAEP,GAFO,CAAV;AAGD;;;iBAID,8BAAkB;AAChB,mBAAO,KAAK3B,WAAL,CAAiBhD,KAAjB,CAAuB;AAC5B6D,wBAAU,EAAE,CAAC,EAAD,EAAKC,+DAAL,CADgB;AAE5BC,yBAAW,EAAE,CAAC,EAAD,EAAKD,+DAAL,CAFe;AAG5BE,yBAAW,EAAE,CAAC,EAAD,EAAKF,+DAAL,CAHe;AAI5BG,2BAAa,EAAE,CAAC,EAAD,EAAKH,+DAAL;AAJa,aAAvB,CAAP;AAMD;;;iBACD,mBAAO;AAAA;;AACL,gBAAIgB,MAAM,GAAY,KAAtB;;AACA,gBAAI,KAAKlB,eAAL,CAAqBmB,OAArB,IAAgC,KAAKC,WAAL,IAAkB,IAAtD,EAA6D;AAC7D,qBAAO/D,wDAAU;AACfC,oBAAI,EAAE,sFADS;AAEf+D,gCAAgB,EAAE,IAFH;AAGfC,kCAAkB,EAAE,SAHL;AAIfC,iCAAiB,EAAE,SAJJ;AAKfC,gCAAgB,EAAE,IALH;AAMfC,iCAAiB,EAAE,KANJ;AAOflE,oBAAI,EAAE;AAPS,eAAV,EAQJmE,IARI,CAQC,UAACC,MAAD,EAAW;AACjB,oBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/BV,wBAAM,GAAC,IAAP;;AACA,wBAAI,CAAC7B,GAAL,CAASwC,YAAT;;AACG,yBAAOX,MAAP;AACJ,iBAJD,MAKI;AACFA,wBAAM,GAAC,KAAP;;AACA,wBAAI,CAAC7B,GAAL,CAASwC,YAAT;;AACA,yBAAOX,MAAP;AACD;AAEF,eApBM,CAAP;AAqBD,aAtBC,MAuBC;AACHA,oBAAM,GAAC,IAAP;AACA,qBAAO,IAAIY,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,oBAAId,MAAM,KAAK,IAAf,EAAqB;AACnBA,wBAAM,GAAC,IAAP;;AACA,wBAAI,CAAC7B,GAAL,CAASwC,YAAT;;AACAE,yBAAO,CAAC,IAAD,CAAP;AACD;AAEF,eAPM,CAAP;AAQA;AACG;;;iBACH,oCAA2BE,SAA3B,EAAoC;AAAA;;AAClC,gBAAIjB,OAAO,GAAG,EAAd;AACA,gBAAIkB,aAAa,GAAG,EAApB;;AACA,oBAAQD,SAAR;AACE,mBAAK,MAAL;AACEjB,uBAAO,GAAG,QAAV;AACAkB,6BAAa,GAAG,MAAhB;AACA;;AACF,mBAAK,OAAL;AACElB,uBAAO,GAAG,QAAV;AACAkB,6BAAa,GAAG,OAAhB;AACA;;AACF,mBAAK,MAAL;AACElB,uBAAO,GAAG,YAAV;AACAkB,6BAAa,GAAG,WAAhB;AACA;;AACF;AACE;AAdJ;;AAgBA7E,oEACE;AACEC,kBAAI,EAAE,4BAAqB4E,aAArB,iBAAgD,0BADxD;AAEEb,8BAAgB,EAAE,IAFpB;AAGEC,gCAAkB,EAAE,SAHtB;AAIEC,+BAAiB,EAAE,MAJrB;AAKEC,8BAAgB,EAAE,IALpB;AAMEC,+BAAiB,EAAE,KANrB;AAM4B,sBAAQ;AANpC,aADF,EASEC,IATF,CASQ,gBAAM,EAAG;AACf,kBAAIC,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B,oBAAI,MAAI,CAAChC,WAAL,IAAoB,MAAI,CAACuC,cAAL,CAAoBC,SAA5C,EAAuD;AACrD/E,iGAA0B6E,aAA1B;AACD,iBAFD,MAGK;AACH,sBAAIG,UAAU,GAAQ,EAAtB;AACAA,4BAAU,GAAG,MAAI,CAACC,yBAAlB;AACAD,4BAAU,CAACE,iBAAX,GAA+B,MAAI,CAAC/B,iBAApC;;AACA,wBAAI,CAACtB,OAAL,CAAasD,eAAb,CAA6BP,SAA7B,EAAwC,MAAI,CAACrC,WAA7C,EAA0DyC,UAA1D,EAAsEvB,SAAtE,CAAgF,UAAC2B,IAAD,EAAS;AACvF,0BAAI,CAACN,cAAL,GAAsBM,IAAtB;AACApF,4EAAU;AAAEC,0BAAI,sBAAe0D,OAAf;AAAN,qBAAV;AACD,mBAHD;AAID;AACF;AACF,aAxBD;AAyBD;;;iBAED,6BAAiB;AAAA;;AACf3D,oEACE;AACEC,kBAAI,EAAE,sCAAsC,0BAD9C;AAEE+D,8BAAgB,EAAE,IAFpB;AAGEC,gCAAkB,EAAE,SAHtB;AAIEC,+BAAiB,EAAE,MAJrB;AAKEC,8BAAgB,EAAE,IALpB;AAMEC,+BAAiB,EAAE,KANrB;AAM4B,sBAAQ,MANpC;AAM4CiB,uBAAS,EAAE;AANvD,aADF,EASEhB,IATF,CASQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B,sBAAI,CAAC1C,OAAL,CAAayD,eAAb,CAA6B,MAAI,CAACR,cAAL,CAAoBS,SAAjD,EAA4D,MAAI,CAAChD,WAAjE,EAA8EkB,SAA9E,CAAwF,UAAC2B,IAAD,EAAS;AAC/F,sBAAIA,IAAJ,EAAU;AACRpF,4EAAU;AACRwF,2BAAK,EAAE,mBADC;AAERpB,uCAAiB,EAAE;AAFX,qBAAV,EAGGC,IAHH,CAGQ,UAACC,MAAD,EAAW;AACjB,0BAAIA,MAAJ,EAAY;AACV,8BAAI,CAAC5F,MAAL,CAAY+G,aAAZ,CAA0B,uBAA1B;AACD;AACF,qBAPD;AASD,mBAVD,MAWK;AACHzF,4EAAU,6BAAV;AACD;AACF,iBAfD;AAgBD;AACF,aA7BD;AA8BD;;;iBAED,sBAAU;AACR,iBAAK0F,SAAL,GAAe,IAAf;AACA,iBAAKC,UAAL,GAAgB,IAAhB;AACA,iBAAKC,MAAL,GAAc,IAAd;AACA,iBAAKjD,eAAL,CAAqBkD,MAArB;AACD;;;iBACD,oBAAQ;AACN,gBAAI,KAAKf,cAAL,CAAoBgB,UAApB,IAAiC,GAAjC,IAAwC,KAAKhB,cAAL,CAAoBgB,UAApB,IAAiC,cAA7E,EAA6F;AAC3F,mBAAKhB,cAAL,CAAoBgB,UAApB,GAAiC,cAAjC;AACD;;AACD,gBAAI,KAAKhB,cAAL,CAAoBgB,UAApB,IAAkC,GAAlC,IAAyC,KAAKhB,cAAL,CAAoBgB,UAApB,IAAkC,YAA/E,EAA6F;AAC3F,mBAAKhB,cAAL,CAAoBgB,UAApB,GAAiC,YAAjC;AACD;;AACD,gBAAI,KAAKhB,cAAL,CAAoBiB,YAApB,IAAoC,GAApC,IAA2C,KAAKjB,cAAL,CAAoBiB,YAApB,IAAoC,MAAnF,EAA2F;AACzF,mBAAKjB,cAAL,CAAoBiB,YAApB,GAAmC,MAAnC;AACD;;AACD,gBAAI,KAAKjB,cAAL,CAAoBiB,YAApB,IAAoC,GAApC,IAA2C,KAAKjB,cAAL,CAAoBiB,YAApB,IAAoC,OAAnF,EAA4F;AAC1F,mBAAKjB,cAAL,CAAoBiB,YAApB,GAAmC,QAAnC;AACD;;AACD,gBAAI,KAAKjB,cAAL,CAAoBkB,YAApB,IAAoC,GAApC,IAA0C,KAAKlB,cAAL,CAAoBkB,YAApB,IAAoC,IAAlF,EAAyF;AACvF,mBAAKlB,cAAL,CAAoBkB,YAApB,GAAmC,IAAnC;AACD;;AACD,gBAAI,KAAKlB,cAAL,CAAoBkB,YAApB,IAAoC,GAAxC,EAA6C;AAC3C,mBAAKlB,cAAL,CAAoBkB,YAApB,GAAmC,KAAnC;AACD;AACF;;;iBAED,gCAAoB;AAClB,mBAAO,KAAKjE,WAAL,CAAiBhD,KAAjB,CAAuB;AAC5BkH,gBAAE,EAAE,CAAC,EAAD,CADwB;AAE5BC,0BAAY,EAAE,CAAC,EAAD,EAAKrD,+DAAL,CAFc;AAG5BsD,8BAAgB,EAAE,CAAC,EAAD,CAHU;AAI5BC,8BAAgB,EAAE,CAAC,EAAD,CAJU;AAK5BC,8BAAgB,EAAC,CAAC,EAAD,CALW;AAM5BC,uBAAS,EAAC,CAAC,EAAD,EAAKzD,+DAAL,CANkB;AAO5B0D,4BAAc,EAAC,CAAC,EAAD,EAAK1D,+DAAL;AAPa,aAAvB,CAAP;AASD;;;iBAED,sBAAa2D,KAAb,EAA4BrG,KAA5B,EAAsC;AACpC,mBAAOqG,KAAP;AACD;;;eAED,eAAqB;AACnB,mBAAO,KAAK7D,eAAL,CAAqBpC,GAArB,CAAyB,mBAAzB,CAAP;AACD;;;iBAED,yBAAa;AACX,iBAAK4C,iBAAL,CAAuBsD,IAAvB,CAA4B,KAAKC,oBAAL,EAA5B;AACA9G,mBAAO,CAACC,GAAR,CAAY,KAAKsD,iBAAL,CAAuBhD,KAAnC;AACD;;;iBAED,4BAAmBqG,KAAnB,EAAgC;AAC9B,gBAAG,KAAKG,aAAL,CAAmBH,KAAnB,CAAH,EAA6B;AAC3B,mBAAKG,aAAL,CAAmBC,MAAnB,CAA0BJ,KAA1B,EAAiC,CAAjC;AACD;;AACD,gBAAG,KAAKK,cAAL,CAAoBL,KAApB,CAAH,EAA8B;AAC5B,mBAAKK,cAAL,CAAoBD,MAApB,CAA2BJ,KAA3B,EAAkC,CAAlC;AACD;;AACD,iBAAKrD,iBAAL,CAAuB2D,QAAvB,CAAgCN,KAAhC;AACD;;;iBAGD,iCAAqB;AAAA;;AACnB,iBAAK3E,OAAL,CAAaa,qBAAb,GAAqCe,SAArC,CAA+C,oBAAU,EAAG;AAC1D7D,qBAAO,CAACC,GAAR,CAAYkH,UAAZ;AACA,oBAAI,CAACC,cAAL,GAAsBD,UAAU,CAACE,IAAX,EAAtB;AACA,oBAAI,CAACC,aAAL,GAAqB,MAAI,CAACF,cAA1B;AACA,oBAAI,CAACG,SAAL,GAAiB,MAAI,CAACH,cAAtB;AACA,oBAAI,CAACI,4BAAL,GAAoC,MAAI,CAACJ,cAAzC;AACApH,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACmH,cAAjB;AACApH,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACuH,4BAAjB;AACD,aARD,EASE,UAACC,GAAD,EAAa;AACXzH,qBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBwH,GAAnB;AACD,aAXH;AAYD;;;iBAGD,4BAAgB;AACdzH,mBAAO,CAACC,GAAR,CAAY,KAAKyH,WAAjB;AACA1H,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAK8C,eAAL,CAAqBxC,KAA3C;AACA,iBAAKoH,eAAL,GAAuB,IAAvB;AACA,iBAAKC,YAAL,GAAoB,IAApB;AACA,iBAAKC,eAAL,GAAuB,IAAvB;AACA,iBAAKC,UAAL,GAAkB,IAAlB,CANc,CAOd;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;;iBAED,2BAAkBpH,KAAlB,EAAuB;AACrBV,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACH,KAAlB;AACA,gBAAIA,KAAK,GAAGG,KAAK,CAACH,KAAlB;;AACA,gBAAIG,KAAK,CAACH,KAAV,EAAiB;AACf,kBAAIwH,IAAI,GAAG,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,iBAAO;AAAA,uBAAIC,OAAO,CAACC,UAAR,IAAsB5H,KAA1B;AAAA,eAA/B,CAAX;AACAP,qBAAO,CAACC,GAAR,CAAY8H,IAAZ;AACA,mBAAKK,gBAAL,GAAwBL,IAAI,CAACM,OAA7B;AACArI,qBAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAKmI,gBAAzB;AACD;AACF;;;iBAED,uBAAW;AAAA;;AACT,iBAAKrJ,SAAL,CAAeuJ,iBAAf,GAAmCzE,SAAnC,CAA6C,iBAAO,EAAG;AACrD7D,qBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBsI,OAAnB;AACA,oBAAI,CAACC,WAAL,GAAmBD,OAAnB,CAFqD,CAGrD;;AACA,oBAAI,CAACE,eAAL,GAAuBF,OAAO,CAACG,GAAR,CAAY,UAACC,IAAD,EAAS;AAC1C,uBAAOA,IAAI,CAACC,YAAZ;AACD,eAFsB,CAAvB;AAGA,oBAAI,CAACC,WAAL,GAAmBN,OAAO,CAACG,GAAR,CAAY,UAACC,IAAD,EAAS;AACtC,uBAAOA,IAAI,CAACC,YAAZ;AACD,eAFkB,CAAnB;AAGA,oBAAI,CAACE,cAAL,GAAsBP,OAAO,CAACG,GAAR,CAAY,UAACC,IAAD,EAAS;AACzC,uBAAOA,IAAI,CAACI,UAAZ;AACD,eAFqB,CAAtB;AAGD,aAbD;AAeD;;;iBAGD,2BAAkBrI,KAAlB,EAA4B;AAAA;;AAC1BV,mBAAO,CAACC,GAAR,CAAYS,KAAZ;AACA,iBAAKsI,SAAL,GAAiBtI,KAAjB;AACA,iBAAKoH,UAAL,GAAkB,KAAlB;AACA,iBAAKD,eAAL,GAAuB,KAAvB;AACA7H,mBAAO,CAACC,GAAR,CAAY,KAAKmH,cAAjB;AACApH,mBAAO,CAACC,GAAR,CAAY,KAAK+I,SAAjB;AACA,iBAAKxB,4BAAL,GAAoC,KAAKJ,cAAL,CAAoB6B,MAApB,CAA2B,UAACC,MAAD;AAAA,qBAAYA,MAAM,KAAK,MAAI,CAACF,SAA5B;AAAA,aAA3B,CAApC,CAP0B,CAQ1B;AACA;AACA;;AACA,iBAAK/G,OAAL,CAAakH,sBAAb,CAAoC,KAAKH,SAAzC,EAAoDnF,SAApD,CAA8D,cAAI,EAAG;AACnE7D,qBAAO,CAACC,GAAR,CAAYuF,IAAZ;;AACA,kBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,sBAAI,CAACoC,YAAL,GAAoB,KAApB;AACA,sBAAI,CAACF,WAAL,GAAmBlC,IAAnB;AACA,sBAAI,CAAC8B,aAAL,GAAqB9B,IAArB;AACAxF,uBAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgC,MAAI,CAACyH,WAAL,CAAiBxE,WAAjD;;AACA,oBAAG,MAAI,CAACwE,WAAL,CAAiBxE,WAApB,EAAgC;AAC9B,sBAAG,MAAI,CAACwE,WAAL,CAAiBxE,WAAjB,IAAgC,GAAnC,EAAuC;AACrC,0BAAI,CAACwE,WAAL,CAAiBxE,WAAjB,GAA6B,UAA7B;AACD;;AACD,sBAAG,MAAI,CAACwE,WAAL,CAAiBxE,WAAjB,IAAgC,GAAnC,EAAuC;AACrC,0BAAI,CAACwE,WAAL,CAAiBxE,WAAjB,GAA6B,UAA7B;AACD;;AACD,wBAAI,CAACkG,SAAL,GAAe,KAAf;AACD;;AACD,sBAAI,CAACrG,eAAL,CAAqBsG,UAArB,CAAgC,MAAI,CAAC3B,WAArC;;AACA,oBAAG,MAAI,CAACA,WAAL,CAAiBxE,WAApB,EAAgC;AAC9B,sBAAG,MAAI,CAACwE,WAAL,CAAiBxE,WAAjB,IAA+B,UAAlC,EAA6C;AAC3C,0BAAI,CAACwE,WAAL,CAAiBxE,WAAjB,GAA6B,GAA7B;AACD;;AACD,sBAAG,MAAI,CAACwE,WAAL,CAAiBxE,WAAjB,IAAgC,UAAnC,EAA8C;AAC5C,0BAAI,CAACwE,WAAL,CAAiBxE,WAAjB,GAA6B,GAA7B;AACD;;AACD,wBAAI,CAACkG,SAAL,GAAe,KAAf;AACD;;AACD,sBAAI,CAACE,wBAAL,CAA8B9D,IAAI,CAACxC,UAAnC,EAA+CwC,IAAI,CAACtC,WAApD;;AACA,sBAAI,CAACwE,WAAL,CAAiB6B,mBAAjB,GAAuC/D,IAAI,CAACgE,OAA5C,CAzBgB,CA2BhB;;AACAhE,oBAAI,CAACiE,eAAL,CAAqBf,GAArB,CAAyB,YAAE,EAAG;AAC5B,wBAAI,CAAClC,gBAAL,GAAwBkD,EAAE,CAACC,aAA3B;AACD,iBAFD;AAGD,eA/BD,MAgCK;AACH,sBAAI,CAAC/B,YAAL,GAAoB,IAApB;AACD;AAGF,aAvCD,EAuCG,UAACH,GAAD,EAAQ;AACT,oBAAI,CAACG,YAAL,GAAoB,IAApB;AACD,aAzCD;AA0CA,iBAAKR,cAAL,GAAsB,KAAKG,SAA3B;AACD;;;iBACD,6BAAoB7G,KAApB,EAAyB;AACvBV,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACkJ,MAAN,CAAarJ,KAAzB;AACAP,mBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKqH,aAAhC;;AACA,gBAAI,KAAKA,aAAT,EAAwB;AACtB,kBAAIqB,IAAI,GAAG,KAAKrB,aAAL,CAAmB2B,MAAnB,CAA0B,UAAUY,CAAV,EAAW;AAC9C,oBAAIC,QAAQ,GAAGD,CAAC,CAACE,WAAF,EAAf;AAEA,oBAAIxJ,KAAK,GAAGG,KAAK,CAACkJ,MAAN,CAAarJ,KAAb,CAAmBwJ,WAAnB,EAAZ;AACA/J,uBAAO,CAACC,GAAR,CAAY6J,QAAZ,EAAsBvJ,KAAtB,EAJ8C,CAK9C;;AACA,uBAAOuJ,QAAQ,CAACE,MAAT,CAAgBzJ,KAAhB,IAAyB,CAAC,CAAjC;AACD,eAPU,CAAX;AAQAP,qBAAO,CAACC,GAAR,CAAY0I,IAAZ;AACA,mBAAKvB,cAAL,GAAsBuB,IAAtB;AAED;AAEF;;;iBAED,kCAAyBjI,KAAzB,EAAmC;AACjCV,mBAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBS,KAAjB;AACA,iBAAKoH,UAAL,GAAkB,KAAlB;AACA,iBAAKD,eAAL,GAAuB,KAAvB;AACA,iBAAKyB,wBAAL,CAA8B,KAAKN,SAAnC,EAA8CtI,KAAK,CAACH,KAApD;AACD;;;iBAED,kCAAyB2I,MAAzB,EAAiCe,OAAjC,EAAwC;AAAA;;AACtC;AACA,iBAAKhI,OAAL,CAAaiI,0BAAb,CAAwChB,MAAxC,EAAgDe,OAAhD,EAAyD,KAAKtH,WAA9D,EAA2EkB,SAA3E,CAAqF,oBAAU,EAAG;AAChG7D,qBAAO,CAACC,GAAR,CAAYkK,UAAZ;AAEA,oBAAI,CAACvC,YAAL,GAAoB,KAApB;AAEA,oBAAI,CAACwC,eAAL,GAAuBD,UAAU,CAACE,SAAlC;AACA,oBAAI,CAACC,aAAL,GAAqBH,UAAU,CAACI,OAAhC;AACA,oBAAI,CAACC,UAAL,GAAkBL,UAAU,CAACM,iBAA7B,CAPgG,CAQhG;AACA;;AACA,oBAAI,CAACC,oBAAL,GAA0B,MAAI,CAAChD,WAAL,CAAiB+B,eAA3C;AACA,oBAAI,CAACkB,WAAL,GAAmBR,UAAU,CAACS,iBAAX,CAA6B,CAA7B,EAAgCC,cAAnD;;AAEA,kBAAG,MAAI,CAACF,WAAL,KAAsB,YAAzB,EAAuC;AACrC,sBAAI,CAACA,WAAL,GAAkBR,UAAU,CAACS,iBAAX,CAA6B,CAA7B,EAAgCE,aAAlD;AACD;;AACD,kBAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYZ,UAAZ,CAAX;AACA,kBAAIc,CAAC,GAAGF,IAAI,CAAC,CAAD,CAAZ;AACA,kBAAIG,CAAC,GAAGH,IAAI,CAAC,CAAD,CAAZ;AACA/K,qBAAO,CAACC,GAAR,CAAYgL,CAAZ;;AACA,kBAAI,CAACA,CAAC,IAAI,GAAL,IAAYA,CAAC,IAAI,GAAlB,KAA0BD,MAAM,CAACD,IAAP,CAAYZ,UAAZ,EAAwBgB,MAAxB,IAAkC,CAAhE,EAAmE;AACjEnL,uBAAO,CAACC,GAAR,CAAYkK,UAAZ;;AACA,oBAAGA,UAAU,CAACiB,CAAd,EAAgB;AAChB,sBAAIjB,UAAU,CAACiB,CAAX,CAAab,OAAb,CAAqBY,MAArB,KAAgC,CAApC,EAAuC;AACrC,0BAAI,CAACE,sBAAL,GAA8BlB,UAAU,CAACiB,CAAX,CAAab,OAA3C;;AACA,wBAAGJ,UAAU,CAACiB,CAAX,CAAab,OAAb,CAAqBY,MAArB,GAA+B,CAAlC,EAAoC;AAClCnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACoL,sBAAjB,EAAyC,QAAzC;AACA,4BAAI,CAACC,eAAL,GAAuB,IAAvB;AACD;;AACD,wBAAGnB,UAAU,CAACiB,CAAX,CAAab,OAAb,CAAqBY,MAArB,IAAgC,CAAnC,EAAqC;AACnCnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACoL,sBAAjB,EAAwC,QAAxC;AACA,4BAAI,CAACC,eAAL,GAAuB,KAAvB;AACD;AACF;AACF;;AACD,oBAAGnB,UAAU,CAACoB,CAAd,EAAgB;AACd,sBAAIpB,UAAU,CAACoB,CAAX,CAAahB,OAAb,CAAqBY,MAArB,KAAgC,CAApC,EAAuC;AACrC,0BAAI,CAACE,sBAAL,GAA8BlB,UAAU,CAACoB,CAAX,CAAahB,OAA3C;;AACA,wBAAGJ,UAAU,CAACoB,CAAX,CAAahB,OAAb,CAAqBY,MAArB,GAA+B,CAAlC,EAAoC;AAClCnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACoL,sBAAjB,EAAyC,QAAzC;AACA,4BAAI,CAACC,eAAL,GAAuB,IAAvB;AACD;;AACD,wBAAGnB,UAAU,CAACoB,CAAX,CAAahB,OAAb,CAAqBY,MAArB,IAAgC,CAAnC,EAAqC;AACnCnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACoL,sBAAjB,EAAwC,QAAxC;AACA,4BAAI,CAACC,eAAL,GAAuB,KAAvB;AACD;AACF;AACF;;AACC,oBAAGnB,UAAU,CAACiB,CAAd,EAAgB;AAChB,sBAAIjB,UAAU,CAACiB,CAAX,CAAaf,SAAb,CAAuBc,MAAvB,KAAkC,CAAtC,EAAyC;AACvC,0BAAI,CAACK,wBAAL,GAAgCrB,UAAU,CAACiB,CAAX,CAAaf,SAA7C,CADuC,CAE3C;;AACI,wBAAG,MAAI,CAACmB,wBAAL,CAA8BL,MAA9B,GAAuC,CAA1C,EAA4C;AAC1CnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACuL,wBAAjB,EAA2C,QAA3C;AACA,4BAAI,CAACC,iBAAL,GAAyB,IAAzB;AACD;;AACD,wBAAG,MAAI,CAACD,wBAAL,CAA8BL,MAA9B,IAAwC,CAA3C,EAA6C;AAC3CnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACuL,wBAAjB,EAA0C,QAA1C;AACA,4BAAI,CAACC,iBAAL,GAAyB,KAAzB;AACD;AACF;AACF;;AACD,oBAAGtB,UAAU,CAACoB,CAAd,EAAgB;AACd,sBAAIpB,UAAU,CAACoB,CAAX,CAAalB,SAAb,CAAuBc,MAAvB,KAAkC,CAAtC,EAAyC;AACvC,0BAAI,CAACK,wBAAL,GAAgCrB,UAAU,CAACoB,CAAX,CAAalB,SAA7C,CADuC,CAE3C;;AACI,wBAAG,MAAI,CAACmB,wBAAL,CAA8BL,MAA9B,GAAuC,CAA1C,EAA4C;AAC1CnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACuL,wBAAjB,EAA2C,QAA3C;AACA,4BAAI,CAACC,iBAAL,GAAyB,IAAzB;AACD;;AACD,wBAAG,MAAI,CAACD,wBAAL,CAA8BL,MAA9B,IAAwC,CAA3C,EAA6C;AAC3CnL,6BAAO,CAACC,GAAR,CAAY,MAAI,CAACuL,wBAAjB,EAA0C,QAA1C;AACA,4BAAI,CAACC,iBAAL,GAAyB,KAAzB;AACD;AACF;AACF,iBAvDkE,CAwDjE;;AACD;;AACDzL,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACoL,sBAAjB,EAAwC,gBAAxC;AACArL,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACuL,wBAAjB,EAA0C,kBAA1C,EA/EgG,CAgFhG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACCxL,qBAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiC,MAAI,CAACyK,oBAAtC;;AACD,kBAAG,MAAI,CAACC,WAAL,IAAoB,eAAvB,EAAuC;AACtC,qBAAK,IAAI/D,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,MAAI,CAAC4D,UAAL,CAAgBW,MAA5C,EAAoDvE,KAAK,EAAzD,EAA6D;AAC7D,wBAAI,CAAC4D,UAAL,CAAgB5D,KAAhB,EAAuBmC,UAAvB,GAAmC,MAAI,CAACyB,UAAL,CAAgB5D,KAAhB,EAAuBmC,UAAvB,CAAkC2C,KAAlC,CAAwC,GAAxC,CAAnC;AACC;AAED;;AAED,kBAAI,MAAI,CAACf,WAAL,IAAoB,YAAxB,EAAsC;AACpC,sBAAI,CAACA,WAAL,GAAkBR,UAAU,CAACS,iBAAX,CAA6B,CAA7B,EAAgCE,aAAlD;AACA,sBAAI,CAACa,eAAL,GAAuB,KAAvB;AACA,sBAAI,CAACC,eAAL,GAAuB,IAAvB;AACD;;AACD,kBAAI,MAAI,CAACjB,WAAL,IAAoB,QAAxB,EAAkC;AAChC,sBAAI,CAACgB,eAAL,GAAuB,UAAvB;AACA,sBAAI,CAACC,eAAL,GAAuB,YAAvB;AACD,eA9G+F,CA+GhG;;AACD,aAhHD,EAgHI,aAAG,EAAG;AACR5L,qBAAO,CAACC,GAAR,CAAYwH,GAAZ,EADQ,CAER;;AACA,oBAAI,CAACG,YAAL,GAAoB,IAApB;AACD,aApHD;AAqHD;;;iBAGD,6BAAoBlH,KAApB,EAAyB;AAAA;;AAEvBV,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACH,KAAlB;AACA,iBAAKuH,UAAL,GAAkB,KAAlB;AACA,iBAAKD,eAAL,GAAuB,KAAvB;AACA,iBAAKgE,iBAAL,GAAyBnL,KAAzB;AACA,iBAAK8G,4BAAL,GAAoC,KAAKJ,cAAL,CAAoB6B,MAApB,CAA2B,UAACC,MAAD;AAAA,qBAAYA,MAAM,KAAK,MAAI,CAACF,SAA5B;AAAA,aAA3B,CAApC;AAEA,iBAAK/G,OAAL,CAAakH,sBAAb,CAAoC,KAAK0C,iBAAzC,EAA4DhI,SAA5D,CAAsE,cAAI,EAAG;AAC3E7D,qBAAO,CAACC,GAAR,CAAYuF,IAAI,CAACiE,eAAL,CAAqB,CAArB,EAAwBD,OAApC;;AACA,kBAAIhE,IAAI,IAAI,IAAZ,EAAkB;AAChB,sBAAI,CAACoC,YAAL,GAAoB,KAApB;AACA,sBAAI,CAACkE,eAAL,GAAuBtG,IAAvB;AACAxF,uBAAO,CAACC,GAAR,CAAY,MAAI,CAAC6L,eAAjB;;AACA,oBAAG,MAAI,CAACA,eAAL,CAAqB5I,WAAxB,EAAoC;AAClC,sBAAG,MAAI,CAAC4I,eAAL,CAAqB5I,WAArB,IAAoC,GAAvC,EAA2C;AACzC,0BAAI,CAAC4I,eAAL,CAAqB5I,WAArB,GAAiC,UAAjC;AACD;;AACD,sBAAG,MAAI,CAAC4I,eAAL,CAAqB5I,WAArB,IAAoC,GAAvC,EAA2C;AACzC,0BAAI,CAAC4I,eAAL,CAAqB5I,WAArB,GAAiC,UAAjC;AACD;;AACD,wBAAI,CAAC6I,cAAL,GAAoB,KAApB;AACD,iBAZe,CAahB;;;AACA,sBAAI,CAAChJ,eAAL,CAAqBpC,GAArB,CAAyB,oBAAzB,EAA+C0I,UAA/C,CAA0D,MAAI,CAACyC,eAA/D;;AACAtG,oBAAI,CAACiE,eAAL,CAAqBf,GAArB,CAAyB,YAAE,EAAG;AAC5B,wBAAI,CAACjC,gBAAL,GAAwBiD,EAAE,CAACC,aAA3B;AACD,iBAFD;;AAGA,oBAAG,MAAI,CAACmC,eAAL,CAAqB5I,WAAxB,EAAoC;AAClC,sBAAG,MAAI,CAAC4I,eAAL,CAAqB5I,WAArB,IAAmC,UAAtC,EAAiD;AAC/C,0BAAI,CAAC4I,eAAL,CAAqB5I,WAArB,GAAiC,GAAjC;AACD;;AACD,sBAAG,MAAI,CAAC4I,eAAL,CAAqB5I,WAArB,IAAoC,UAAvC,EAAkD;AAChD,0BAAI,CAAC4I,eAAL,CAAqB5I,WAArB,GAAiC,GAAjC;AACD;;AACD,wBAAI,CAACkG,SAAL,GAAe,KAAf;AACD;;AACA,oBAAG,MAAI,CAAC0C,eAAL,CAAqB5I,WAAxB,EAAoC;AACnC,sBAAG,MAAI,CAAC4I,eAAL,CAAqB5I,WAArB,IAAmC,UAAtC,EAAiD;AAC/C,0BAAI,CAAC4I,eAAL,CAAqB5I,WAArB,GAAiC,GAAjC;AACD;;AACD,sBAAG,MAAI,CAAC4I,eAAL,CAAqB5I,WAArB,IAAoC,UAAvC,EAAkD;AAChD,0BAAI,CAAC4I,eAAL,CAAqB5I,WAArB,GAAiC,GAAjC;AACD;;AACD,wBAAI,CAACkG,SAAL,GAAe,KAAf;AACD;;AACD,sBAAI,CAAC4C,4BAAL,CAAkCxG,IAAI,CAACxC,UAAvC,EAAmDwC,IAAI,CAACtC,WAAxD;AACD,eArCD,MAsCK;AACH,sBAAI,CAAC0E,YAAL,GAAoB,IAApB;AACD;AACF,aA3CD,EA2CG,UAACH,GAAD,EAAQ;AACT,oBAAI,CAACG,YAAL,GAAoB,IAApB;AACD,aA7CD;AA8CA,iBAAKR,cAAL,GAAsB,KAAKG,SAA3B;AACD;;;iBAED,8BAAqB7G,KAArB,EAA0B;AACxBV,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACH,KAAlB;AACA,iBAAKsH,eAAL,GAAuB,KAAvB;AACA,iBAAKC,UAAL,GAAkB,KAAlB;AACA,iBAAKkE,4BAAL,CAAkC,KAAKH,iBAAvC,EAA0DnL,KAAK,CAACH,KAAhE;AACD;;;iBAGD,sCAA6BsL,iBAA7B,EAAgD5B,OAAhD,EAAuD;AAAA;;AACrD,iBAAKhI,OAAL,CAAaiI,0BAAb,CAAwC2B,iBAAxC,EAA2D5B,OAA3D,EAAoE,KAAKtH,WAAzE,EAAsFkB,SAAtF,CAAgG,yBAAe,EAAG;AAChH7D,qBAAO,CAACC,GAAR,CAAYgM,eAAZ;AACA,qBAAI,CAACrE,YAAL,GAAoB,KAApB;AACA,qBAAI,CAACsE,oBAAL,GAA4BD,eAAe,CAAC5B,SAA5C;AACA,qBAAI,CAAC8B,kBAAL,GAA0BF,eAAe,CAAC1B,OAA1C;AACA,qBAAI,CAAC6B,eAAL,GAAuBH,eAAe,CAACxB,iBAAvC;AACA,qBAAI,CAAC4B,qBAAL,GAA2B,OAAI,CAACP,eAAL,CAAqBrC,eAAhD;AACA,kBAAIsB,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYkB,eAAZ,CAAX;AACA,kBAAIhB,CAAC,GAAGF,IAAI,CAAC,CAAD,CAAZ;AACA,kBAAIG,CAAC,GAAGH,IAAI,CAAC,CAAD,CAAZ;;AACA,kBAAI,CAACE,CAAC,IAAI,GAAL,IAAYA,CAAC,IAAI,GAAlB,KAA0BD,MAAM,CAACD,IAAP,CAAYkB,eAAZ,EAA6Bd,MAA7B,IAAuC,CAArE,EAAwE;AACtEnL,uBAAO,CAACC,GAAR,CAAYgM,eAAZ;;AACA,oBAAGA,eAAe,CAACb,CAAnB,EAAqB;AACrB,sBAAIa,eAAe,CAACb,CAAhB,CAAkBb,OAAlB,CAA0BY,MAA1B,KAAqC,CAAzC,EAA4C;AAC1C,2BAAI,CAACmB,0BAAL,GAAkCL,eAAe,CAACb,CAAhB,CAAkBb,OAApD;;AACA,wBAAG0B,eAAe,CAACb,CAAhB,CAAkBb,OAAlB,CAA0BY,MAA1B,GAAoC,CAAvC,EAAyC;AACvC;AACA,6BAAI,CAACG,eAAL,GAAuB,IAAvB;AACD;;AACD,wBAAGW,eAAe,CAACb,CAAhB,CAAkBb,OAAlB,CAA0BY,MAA1B,IAAqC,CAAxC,EAA0C;AACxC;AACA,6BAAI,CAACG,eAAL,GAAuB,KAAvB;AACD;AACF;AACF;;AACD,oBAAGW,eAAe,CAACV,CAAnB,EAAqB;AACnB,sBAAIU,eAAe,CAACV,CAAhB,CAAkBhB,OAAlB,CAA0BY,MAA1B,KAAqC,CAAzC,EAA4C;AAC1C,2BAAI,CAACmB,0BAAL,GAAkCL,eAAe,CAACV,CAAhB,CAAkBhB,OAApD;;AACA,wBAAG0B,eAAe,CAACV,CAAhB,CAAkBhB,OAAlB,CAA0BY,MAA1B,GAAoC,CAAvC,EAAyC;AACvC;AACA,6BAAI,CAACG,eAAL,GAAuB,IAAvB;AACD;;AACD,wBAAGW,eAAe,CAACV,CAAhB,CAAkBhB,OAAlB,CAA0BY,MAA1B,IAAqC,CAAxC,EAA0C;AACxC;AACA,6BAAI,CAACG,eAAL,GAAuB,KAAvB;AACD;AACF;AACF;;AACD,oBAAGW,eAAe,CAACb,CAAnB,EAAqB;AACnB,sBAAIa,eAAe,CAACb,CAAhB,CAAkBf,SAAlB,CAA4Bc,MAA5B,KAAuC,CAA3C,EAA8C;AAC5C,2BAAI,CAACoB,4BAAL,GAAoCN,eAAe,CAACb,CAAhB,CAAkBf,SAAtD,CAD4C,CAEhD;;AACI,wBAAG,OAAI,CAACkC,4BAAL,CAAkCpB,MAAlC,GAA2C,CAA9C,EAAgD;AAC9C;AACA,6BAAI,CAACM,iBAAL,GAAyB,IAAzB;AACD;;AACD,wBAAG,OAAI,CAACc,4BAAL,CAAkCpB,MAAlC,IAA4C,CAA/C,EAAiD;AAC/C;AACA,6BAAI,CAACM,iBAAL,GAAyB,KAAzB;AACD;AACF;AACF;;AACD,oBAAGQ,eAAe,CAACV,CAAnB,EAAqB;AACnB,sBAAIU,eAAe,CAACV,CAAhB,CAAkBlB,SAAlB,CAA4Bc,MAA5B,KAAuC,CAA3C,EAA8C;AAC5C,2BAAI,CAACoB,4BAAL,GAAoCN,eAAe,CAACV,CAAhB,CAAkBlB,SAAtD,CAD4C,CAEhD;;AACI,wBAAG,OAAI,CAACkC,4BAAL,CAAkCpB,MAAlC,GAA2C,CAA9C,EAAgD;AAC9C;AACA,6BAAI,CAACM,iBAAL,GAAyB,IAAzB;AACD;;AACD,wBAAG,OAAI,CAACc,4BAAL,CAAkCpB,MAAlC,IAA4C,CAA/C,EAAiD;AAC/C;AACA,6BAAI,CAACM,iBAAL,GAAyB,KAAzB;AACD;AACF;AACF,iBAvDuE,CAwDtE;;AACD;;AACDzL,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACsM,4BAAjB,EAA8C,qBAA9C;AACAvM,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACqM,0BAAjB,EAA4C,uBAA5C,EArEgH,CAsEhH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACA,qBAAI,CAACE,iBAAL,GAAyBP,eAAe,CAACrB,iBAAhB,CAAkC,CAAlC,EAAqCC,cAA9D;;AAEA,kBAAI,OAAI,CAAC2B,iBAAL,IAA0B,YAA9B,EAA4C;AAC1C,uBAAI,CAACA,iBAAL,GAAwBP,eAAe,CAACrB,iBAAhB,CAAkC,CAAlC,EAAqCE,aAA7D;AACA,uBAAI,CAAC2B,QAAL,GAAgB,KAAhB;AACA,uBAAI,CAACC,SAAL,GAAiB,IAAjB;AACD,eAJD,MAKK,IAAI,OAAI,CAACF,iBAAL,IAA0B,QAA9B,EAAwC;AAC3C,uBAAI,CAACC,QAAL,GAAgB,UAAhB;AACA,uBAAI,CAACC,SAAL,GAAiB,YAAjB;AACD,eAjG+G,CAkGhH;AACA;AAEA;;AACD,aAtGD,EAsGI,aAAG,EAAG;AACR1M,qBAAO,CAACC,GAAR,CAAYwH,GAAZ,EADQ,CAER;;AACA,qBAAI,CAACG,YAAL,GAAoB,IAApB;AACD,aA1GD;AA2GD;;;iBACD,mBAAO;AACL,iBAAK+E,gBAAL,GAAwB,KAAxB;AACA,iBAAK5J,eAAL,CAAqB6J,KAArB;AACD;;;iBAED,cAAIrM,KAAJ,EAAS;AACP,gBAAI,KAAKwG,aAAL,CAAmBkB,IAAnB,CAAwB,cAAI;AAAA,qBAAEF,IAAI,IAAExH,KAAR;AAAA,aAA5B,CAAJ,EAAgD;AAC9C,qBAAO,IAAP;AACD,aAFD,MAGK;AACH,qBAAO,KAAP;AACD;AACF;;;iBAED,cAAKA,KAAL,EAAU;AACR,gBAAI,KAAK0G,cAAL,CAAoBgB,IAApB,CAAyB,cAAI;AAAA,qBAAEF,IAAI,IAAExH,KAAR;AAAA,aAA7B,CAAJ,EAAiD;AAC/C,qBAAO,IAAP;AACD,aAFD,MAGK;AACH,qBAAO,KAAP;AACD;AACF;;;iBAED,2BAAkBG,KAAlB,EAAyBmM,CAAzB,EAA0B;AAExB7M,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACkJ,MAAN,CAAarJ,KAAzB;AACAP,mBAAO,CAACC,GAAR,CAAY,KAAK8G,aAAL,CAAmB8F,CAAnB,CAAZ;;AACA,gBAAG,KAAK9F,aAAL,CAAmB8F,CAAnB,CAAH,EAAyB;AACvB,mBAAK9F,aAAL,CAAmB8F,CAAnB,IAAwBnM,KAAK,CAACkJ,MAAN,CAAarJ,KAArC;AACD,aAFD,MAGI;AACF,mBAAKwG,aAAL,CAAmBF,IAAnB,CAAwBnG,KAAK,CAACkJ,MAAN,CAAarJ,KAArC;AACD;AACF;;;iBAED,4BAAmBG,KAAnB,EAA0BmM,CAA1B,EAA2B;AACzB7M,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACkJ,MAAN,CAAarJ,KAAzB;AACAP,mBAAO,CAACC,GAAR,CAAY,KAAKgH,cAAL,CAAoB4F,CAApB,CAAZ;;AACA,gBAAG,KAAK5F,cAAL,CAAoB4F,CAApB,CAAH,EAA0B;AACxB,mBAAK5F,cAAL,CAAoB4F,CAApB,IAAyBnM,KAAK,CAACkJ,MAAN,CAAarJ,KAAtC;AACD,aAFD,MAGI;AACF,mBAAK0G,cAAL,CAAoBJ,IAApB,CAAyBnG,KAAK,CAACkJ,MAAN,CAAarJ,KAAtC;AACD;AACF;;;iBAED,6BAAiB;AAAA;;AACfP,mBAAO,CAACC,GAAR,CAAY,KAAK8C,eAAL,CAAqBxC,KAArB,CAA2BgD,iBAAvC;AACA,iBAAKuJ,UAAL,CAAgBxH,iBAAhB,GAAoC,KAAKvC,eAAL,CAAqBxC,KAArB,CAA2BgD,iBAA/D;AACA,iBAAKuJ,UAAL,CAAgBvD,mBAAhB,GAAsC,KAAK7B,WAAL,CAAiB6B,mBAAvD,CAHe,CAIf;;AACA,iBAAKuD,UAAL,CAAgBC,mBAAhB,GAAsC,KAAKjB,eAAL,CAAqBiB,mBAA3D;AAEA,iBAAKD,UAAL,CAAgB3H,SAAhB,GAA4B,KAAKxC,WAAL,CAAiBqK,OAAjB,CAAyB,QAAzB,EAAmC,EAAnC,CAA5B;;AACA,gBAAG,KAAKrH,SAAR,EAAkB;AAChB,mBAAKmH,UAAL,CAAgBnH,SAAhB,GAA4B,KAAKA,SAAjC;AACA,mBAAKmH,UAAL,CAAgBG,WAAhB,GAA8B,KAAK/H,cAAL,CAAoB+H,WAAlD;AACA,mBAAKH,UAAL,CAAgBI,UAAhB,GAA6B,KAAKhI,cAAL,CAAoBgI,UAAjD;AACA,mBAAKJ,UAAL,CAAgBK,YAAhB,GAA+B,KAAKjI,cAAL,CAAoBiI,YAAnD;AACA,mBAAKL,UAAL,CAAgBM,SAAhB,GAA4B,KAAKlI,cAAL,CAAoBkI,SAAhD;AACA,mBAAKN,UAAL,CAAgBO,cAAhB,GAAiC,KAAKnI,cAAL,CAAoBmI,cAArD;AACA,mBAAKP,UAAL,CAAgB1G,YAAhB,GAA+B,KAAKlB,cAAL,CAAoBkB,YAAnD;AACA,mBAAK0G,UAAL,CAAgB3G,YAAhB,GAA+B,KAAKjB,cAAL,CAAoBiB,YAAnD;;AACA,kBAAI,KAAK2G,UAAL,CAAgBO,cAAhB,IAAiC,cAArC,EAAqD;AACnD,qBAAKP,UAAL,CAAgBO,cAAhB,GAAiC,GAAjC;AACD;;AACD,kBAAI,KAAKP,UAAL,CAAgBO,cAAhB,IAAkC,YAAtC,EAAoD;AAClD,qBAAKP,UAAL,CAAgBO,cAAhB,GAAiC,GAAjC;AACD;;AACD,kBAAI,KAAKP,UAAL,CAAgB3G,YAAhB,IAAgC,MAApC,EAA4C;AAC1C,qBAAK2G,UAAL,CAAgB3G,YAAhB,GAA+B,GAA/B;AACD;;AACD,kBAAI,KAAK2G,UAAL,CAAgB3G,YAAhB,IAAgC,QAApC,EAA8C;AAC5C,qBAAK2G,UAAL,CAAgB3G,YAAhB,GAA+B,GAA/B;AACD;;AACD,kBAAI,KAAK2G,UAAL,CAAgB1G,YAAhB,IAAgC,IAApC,EAA0C;AACxC,qBAAK0G,UAAL,CAAgB1G,YAAhB,GAA+B,GAA/B;AACD;;AACD,kBAAI,KAAK0G,UAAL,CAAgB1G,YAAhB,IAAgC,KAApC,EAA2C;AACzC,qBAAK0G,UAAL,CAAgB1G,YAAhB,GAA+B,GAA/B;AACD;;AACD,mBAAKnE,OAAL,CAAaqL,mBAAb,CAAiC,KAAKR,UAAtC,EAAkD,KAAKnK,WAAvD,EAAoEkB,SAApE,CAA8E,UAAC2B,IAAD,EAAe;AAC3FxF,uBAAO,CAACC,GAAR,CAAYuF,IAAZ;;AACA,oBAAIA,IAAJ,EAAU;AACR,yBAAI,CAACG,SAAL,GAAiBH,IAAI,CAACG,SAAtB;;AACA,yBAAI,CAACpC,iBAAL,CAAuB8F,UAAvB,CAAkC7D,IAAI,CAACF,iBAAvC;;AACA,yBAAI,CAACJ,cAAL,GAAsBM,IAAtB;;AACA,yBAAI,CAAC+H,QAAL;;AACA,yBAAI,CAACC,YAAL,GAAoB,IAApB;AACA,yBAAI,CAACC,WAAL,GAAmB,IAAnB;;AACA,yBAAI,CAAC1K,eAAL,CAAqB2K,OAArB;;AACA,yBAAI,CAACf,gBAAL,GAAwB,IAAxB;AACA,yBAAI,CAACgB,eAAL,GAAuB,IAAvB;AACA,yBAAI,CAAC3H,MAAL,GAAY,KAAZ;AACA,yBAAI,CAAC7B,WAAL,GAAiB,CAAC,OAAI,CAACpB,eAAL,CAAqBmB,OAAvC;AACA9D,0EAAU;AAACC,wBAAI,EAAC,mBAAN;AACVC,wBAAI,EAAC;AADK,mBAAV;AAED;AACF,eAjBD,EAiBE,UAACmH,GAAD,EAAY;AACZzH,uBAAO,CAACC,GAAR,CAAYwH,GAAG,CAACmG,KAAJ,CAAUvN,IAAtB;AACAD,wEAAU;AAACC,sBAAI,EAAC,4CAAN;AACVC,sBAAI,EAAC;AADK,iBAAV;AAED,eArBD;AAsBD,aAjDD,MAkDI;AACFN,qBAAO,CAACC,GAAR,CAAY,KAAK6M,UAAjB;AACA,mBAAKA,UAAL,CAAgBC,mBAAhB,GAAsC,KAAKjB,eAAL,CAAqBtC,OAA3D;AACAxJ,qBAAO,CAACC,GAAR,CAAY,KAAK6M,UAAjB;AACA,mBAAK7K,OAAL,CAAa4L,qBAAb,CAAmC,KAAKf,UAAxC,EAAoD,KAAKnK,WAAzD,EAAsEkB,SAAtE,CAAgF,UAAC2B,IAAD,EAAe;AAC7FxF,uBAAO,CAACC,GAAR,CAAYuF,IAAZ;;AACA,oBAAIA,IAAJ,EAAU;AACR,yBAAI,CAACG,SAAL,GAAiBH,IAAI,CAACG,SAAtB;;AACA,yBAAI,CAACpC,iBAAL,CAAuB8F,UAAvB,CAAkC7D,IAAI,CAACF,iBAAvC;;AACA,yBAAI,CAACJ,cAAL,GAAsBM,IAAtB;;AACA,yBAAI,CAAC+H,QAAL;;AACA,yBAAI,CAACC,YAAL,GAAoB,IAApB;AACA,yBAAI,CAACC,WAAL,GAAmB,IAAnB;;AACA,yBAAI,CAAC1K,eAAL,CAAqB2K,OAArB;;AACA,yBAAI,CAACf,gBAAL,GAAwB,IAAxB;AACA,yBAAI,CAACgB,eAAL,GAAuB,IAAvB;AACA,yBAAI,CAAC3H,MAAL,GAAY,KAAZ;AACA,yBAAI,CAAC7B,WAAL,GAAiB,CAAC,OAAI,CAACpB,eAAL,CAAqBmB,OAAvC;AACA9D,0EAAU;AAACC,wBAAI,EAAC,mBAAN;AACVC,wBAAI,EAAC;AADK,mBAAV;AAED;AACF,eAjBD,EAiBG,UAACmH,GAAD,EAAY;AACbzH,uBAAO,CAACC,GAAR,CAAYwH,GAAG,CAACmG,KAAJ,CAAUvN,IAAtB;AACAD,wEAAU;AAAEC,sBAAI,EAAE,uEAAR;AAAgFC,sBAAI,EAAC;AAArF,iBAAV;AACD,eApBD;AAqBD;AACF;;;;;;;yBAv2BU0B,6BAA0BV;AAAA;;;cAA1BU;AAA0BhB;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADhBvCE;;AACEA;;AACEA;;AAAsBA;;AAAaA;;AACrCA;;AACAA;;AACEA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAAsCA;;AAAaA;;AAAuBA;;AAACA;;AAAOA;;AAGlFA;;AACQA;AAAA,qBAAUD,6BAAV;AAAmC,aAAnC;;AACAC;;AAA8CA;;AAAiBA;;AACrEA;;AAGFA;;AACFA;;AACAA;;AACEA;;AAAsCA;;AAAYA;;AAAuBA;;AAACA;;AAAOA;;AAClFA;;AAYAA;;AAUDA;;AAaAA;;AACEA;;AAAsCA;;AAASA;;AAC/CA;;AAgBAA;;AAWFA;;AACAA;;AACEA;;AAAsCA;;AAAOA;;AAC7CA;;AAiBAA;;AAUFA;;AAaAA;;AACIA;;AACIA;;AAAsCA;;AAAkBA;;AAAuBA;;AAACA;;AAAOA;;AAYvFA;;AAIEA;AAAA,qBAAUD,+BAAV;AAAqC,aAArC;;AACFC;;AACFA;;AACAA;;AACEA;;AAAsCA;;AAAYA;;AAAuBA;;AAACA;;AAAOA;;AACjFA;;AAYAA;;AAUFA;;AAaAA;;AACEA;;AAAsCA;;AAASA;;AAC/CA;;AAgBAA;;AAWFA;;AACAA;;AACEA;;AAAsCA;;AAAOA;;AAC7CA;;AAiBAA;;AAUFA;;AAaNA;;AAEAA;;AAMUA;;AAASA;AAAA,qBAASD,sBAAT;AAA2B,aAA3B;;AAETC;;AACRA;;AACFA;;AAEFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AAkIAA;;AACEA;;AACEA;;AAKAA;;AACEA;;AAAQA;AAAA,qBAASD,uBAAT;AAA4B,aAA5B;;AACJC;;AACJA;;AACFA;;AACAA;;AAKAA;;AAKAA;;AAKAA;;AAKAA;;AACEA;;AAA2FA;;AAAIA;;AACjGA;;AAOFA;;AACJA;;AACFA;;AACAA;;;;AAnc0BA;;AAAAA;;AACZA;;AAAAA;;AAU0CA;;AAAAA;;AAGRA;;AAAAA;;AAO3BA;;AAAAA;;AAYAA;;AAAAA;;AAyBCA;;AAAAA;;AAgBAA;;AAAAA;;AAcAA;;AAAAA;;AAiBAA;;AAAAA;;AAqCWA;;AAAAA,gHAAsC,WAAtC,EAAsC,KAAtC;;AASLA;;AAAAA;;AAYAA;;AAAAA;;AAyBAA;;AAAAA;;AAgBAA;;AAAAA;;AAcAA;;AAAAA;;AAiBAA;;AAAAA;;AA0CEA;;AAAAA;;AAoICA;;AAAAA;;AAMiBA;;AAAAA,4FAAkB,UAAlB,EAAkBD,2BAAlB;;AAIIC;;AAAAA;;AAKAA;;AAAAA;;AAKAA;;AAAAA;;AAKAA;;AAAAA;;AAMQA;;AAAAA;;AAWtDA;;AAAAA;;;;;;;;UCsbOiB;;;;UAkBAuL;;;;UASAC;;;;UAaAvL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChwBawL;;AAAqDA;;AAAaA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAIvFA;;AAAqDA;;AAAQA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAM1FA;;AACCA;;AACDA;;;;;;;;AAFkDA,6IAA6D,OAA7D,EAA6DC,oBAA7D;;AACjDD;;AAAAA;;;;;;;;AARPA;;AACIA;;AACAA;;AAEAA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAGEA;;AAGFA;;AACJA;;;;;;;;;;;AAV2CA;;AAAAA;;AAIvCA;;AAAAA,8FAAkB,OAAlB,EAAkBE,iBAAlB;;AAE0BF;;AAAAA;;;;;;AAM1BA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAMrFA;;AACEA;;AACFA;;;;;;;;AAFiDA,6IAA6D,OAA7D,EAA6DG,oBAA7D;;AAC/CH;;AAAAA;;;;;;;;AARRA;;AACIA;;AACAA;;AAEAA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAGEA;;AAGAA;;AACNA;;;;;;;;AAV2CA;;AAAAA;;AAIvCA;;AAAAA;;AAE0BA;;AAAAA;;;;;;AAM5BA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAMrFA;;AACEA;;AACFA;;;;;;;;AAFiDA,6IAA6D,OAA7D,EAA6DI,oBAA7D;;AAC/CJ;;AAAAA;;;;;;;;AARNA;;AACEA;;AACAA;;AAEAA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAGEA;;AAGAA;;AACNA;;;;;;;;AAV2CA;;AAAAA;;AAIvCA;;AAAAA;;AAE0BA;;AAAAA;;;;;;AAM1BA;;AAAqDA;;AAAWA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAK3FA;;AACEA;;AAAoBA;;;;;;;;AAD2BA,6IAA6D,OAA7D,EAA6DK,oBAA7D;;AAC/CL;;AAAAA;;;;;;;;AAPRA;;AACEA;;AACAA;;AACAA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAGIA;;AAEFA;;AACNA;;;;;;;;AAR2CA;;AAAAA;;AAItCA;;AAAAA;;AAC2BA;;AAAAA;;;;;;AAQpCA;;AAAqDA;;AAAkBA;;;;;;AAI7DA;;AAAqDA;;AAAQA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAIxFA;;AAEIA;;AAAsBA;;;;;;;;AAD1BA,oGAA4B,QAA5B,EAA4BM,qEAA5B;;AACIN;;AAAAA;;;;;;;;AAPZA;;AACIA;;AACAA;;AAC8BA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE1BA;;AAGFA;;AACNA;;;;;;;;;;;AAR2CA;;AAAAA;;AAEvCA;;AAAAA;;AAE8BA;;AAAAA;;;;;;AAM9BA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAKnFA;;AAEQA;;AACRA;;;;;;;;AAFQA,oGAA4B,QAA5B,EAA4BO,qEAA5B;;AACAP;;AAAAA;;;;;;;;AARhBA;;AACIA;;AACAA;;AAEQA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEJA;;AAIFA;;AACNA;;;;;;;;;;;AAV2CA;;AAAAA;;AAI/BA;;AAAAA;;AACsBA;;AAAAA;;;;;;AAOhCA;;AAAqDA;;AAAGA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAKnFA;;AAEQA;;AACRA;;;;;;;;AAFQA,oGAA4B,QAA5B,EAA4BQ,qEAA5B;;AACAR;;AAAAA;;;;;;;;AARdA;;AACEA;;AACAA;;AAEQA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEJA;;AAIFA;;AACNA;;;;;;;;;;;AAV2CA;;AAAAA;;AAI/BA;;AAAAA;;AACsBA;;AAAAA;;;;;;AAO9BA;;AAAqDA;;AAAWA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAG3FA;;AAAuJA;;AAAsBA;;;;;;;;AAAzHA,oGAA4B,QAA5B,EAA4BS,qEAA5B;;AAAmGT;;AAAAA;;;;;;;;AAJ7JA;;AACEA;;AACAA;;AACoCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAChCA;;AACFA;;AACNA;;;;;;;;AAL2CA;;AAAAA;;AAGTA;;AAAAA;;;;;;AAetCA;;AAAqDA;;AAAaA;;AAAuBA;;AAACA;;AAAOA;;;;;;AAG3FA;;;;;;;;;;;;;;AACAA;;AACEA;;AAQFA;;;;;;;;AAPEA;;AAAAA,iKAA8D,UAA9D,EAA8DU,YAA9D;;;;;;AAQFV;;AACEA;;AAOFA;;;;;;AAFEA;;AAAAA;;;;;;;;;;;;;;;AAYVA;;AAAkBA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAChBA;;AACFA;;;;;;AADqDA;;AAAAA;;;;;;;;;;;;AApJrEA;;AACIA;;AACIA;;AACIA;;AACEA;;AACEA;;AACEA;;AACAA;;AACEA;;AACIA;;AAYAA;;AAYAA;;AAYAA;;AAUJA;;AACFA;;AACFA;;AACAA;;AACEA;;AACAA;;AACEA;;AACIA;;AAUAA;;AAYAA;;AAYAA;;AAOJA;;AASFA;;AACFA;;AACAA;;AACEA;;AACAA;;AACEA;;AACIA;;AACAA;;AAUAA;;AAUJA;;AAEFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAGFA;;AACFA;;AAMFA;;AACAA;;AAENA;;AACJA;;;;;;;;AAhKkBA;;AAAAA;;AAKuCA;;AAAAA;;AAGlBA;;AAAAA;;AAYAA;;AAAAA;;AAYAA;;AAAAA;;AAYAA;;AAAAA;;AAckBA;;AAAAA;;AAGlBA;;AAAAA;;AAUAA;;AAAAA;;AAYAA;;AAAAA;;AAYAA;;AAAAA;;AAmBkBA;;AAAAA;;AAGUA;;AAAAA;;AACrCA;;AAAAA;;AAUAA;;AAAAA;;AAiBXA;;AAAAA,gGAAqB,SAArB,EAAqBA,oGAArB;;AACCA;;AAAAA;;;;;;;;AAmBpBA;;AAAwCA;AAAAA;;AAAA;;AAAA;AAAA;;AACtCA;;AAAMA;;AAAiDA;;AACzDA;;;;;;AAFkBA;;;;;;;;AASlBA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA;AAAA;;AACNA;;AACFA;;AACFA;;;;;;AAJ0HA;;AAEtHA;;AAAAA;;;;;;;;AAGJA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA;AAAA;;AACLA;;AAAmCA;;AAExCA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;;;AAGLA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA;AAAA;;AACLA;;AAAoCA;;AAEzCA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;;;AAGLA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA;AAAA;;AACLA;;AAAqCA;;AAE1CA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;;;AAGLA;;AACEA;;AAAQA;AAAAA;;AAAA;;AAAA;AAAA;;AACLA;;AAAqCA;;AAE1CA;;;;;;AAJsBA;;AAEjBA;;AAAAA;;;;;;;;AAxMTA;;AACEA;;AACAA;;AACEA;;AAkKJA;;AACAA;;AACAA;;AACEA;;AACEA;;AAGFA;;AACFA;;AACEA;;AACEA;;AACEA;;AAAuDA;AAAAA;;AAAA;;AAAA;AAAA;;AAAsEA;;AAAIA;;AACnIA;;AACAA;;AAKAA;;AAKAA;;AAKAA;;AAKAA;;AAKAA;;AACEA;;AAAoFA;;AAAIA;;AAC1FA;;AACFA;;AACFA;;;;;;AA9MYA;;AAAAA;;AAEuBA;;AAAAA;;AAsK3BA;;AAAAA;;AAMkBA;;AAAAA;;AACZA;;AAAAA;;AAEaA;;AAAAA;;AAKqBA;;AAAAA;;AAKAA;;AAAAA;;AAKAA;;AAAAA;;AAKAA;;AAAAA;;AAMvCA;;AAAAA;;;;UCtVAW;AAuEX,8CAAoB1M,OAApB,EAAiDC,WAAjD,EACUpD,MADV,EAEU8P,SAFV,EAGUC,MAHV,EAIU9P,SAJV,EAKUsD,YALV,EAK4CD,GAL5C,EAMUD,WANV,EAMkC;AAAA;;AANd;AAA6B;AACvC;AACA;AACA;AACA;AACA;AAAkC;AAClC;AAvEV,6BAAmB,EAAnB;AACA,iCAA2B,KAA3B;AACA,kCAA4B,KAA5B;AAEA,yBAAmB,KAAnB;AACA,+BAAwB,KAAxB;AAIA,+BAAyB,KAAzB;AAGA,gCAAsB,EAAtB;AACA,kCAAwB,CAAxB;AACA,2BAAiB,EAAjB;AACA,wCAAoC,EAApC;AACA,6CAAwC,EAAxC;AAEA,6BAAc,IAAII,oBAAJ,EAAd;AACA,iCAAkB,IAAIA,oBAAJ,EAAlB;AAEA,4BAAsB,IAAtB;AACA,mCAAkD,EAAlD;AAYA,iCAAuB,EAAvB;AACA,4BAAkB,EAAlB;AAQA,yBAAU,IAAIC,YAAJ,EAAV;AAQA,wBAAgB,IAAhB;AACA,2BAAkB,KAAlB;AACA,4BAAmB,KAAnB;AACA,2BAAY,IAAIsM,2FAAJ,EAAZ;AACA,6BAAqB,IAArB;AACA,4BAAa,KAAb;AACA,yBAAU,IAAIC,yCAAJ,EAAV;AAEA,0BAAoB,KAApB;AAYuC;;;;iBAEvC,oBAAQ;AAAA;;AACN,iBAAKpM,WAAL,GAAmBC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;AAEA,iBAAKE,eAAL,GAAuB,KAAKZ,WAAL,CAAiBhD,KAAjB,CAAuB;AAC5C6D,wBAAU,EAAE,CAAC,EAAD,EAAKgM,+DAAL,CADgC;AAE5C9L,yBAAW,EAAE,CAAC,EAAD,EAAK8L,+DAAL,CAF+B;AAG5C7L,yBAAW,EAAE,CAAC,EAAD,EAAK6L,+DAAL,CAH+B;AAI5C5L,2BAAa,EAAE,CAAC,EAAD,EAAK4L,+DAAL,CAJ6B;AAK5C3L,gCAAkB,EAAE,KAAKC,kBAAL,EALwB;AAM5C2L,gCAAkB,EAAE,KAAK9M,WAAL,CAAiBqB,KAAjB,CAAuB,EAAvB;AANwB,aAAvB,CAAvB;AASA,iBAAK0L,eAAL,GAAuB,KAAKnQ,SAAL,CAAeoQ,WAAf,CAA2BtL,SAA3B,CAAqC,UAAC8E,IAAD;AAAA,qBAAc,OAAI,CAACyG,mBAAL,GAA2BzG,IAAzC;AAAA,aAArC,CAAvB;AACA3I,mBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKmP,mBAAhC;AACA,iBAAK/J,yBAAL,GAAiC,KAAK+J,mBAAL,CAAyB,cAAzB,CAAjC;;AAEA,gBAAG,KAAKA,mBAAL,IAA4BpE,MAAM,CAACD,IAAP,CAAY,KAAKqE,mBAAjB,EAAsCjE,MAAtC,KAAiD,CAA7E,IAAkFH,MAAM,CAACqE,cAAP,CAAsB,KAAKD,mBAA3B,MAAoDpE,MAAM,CAACsE,SAAhJ,EAA0J;AACxJ,mBAAKV,SAAL,CAAeW,IAAf;AACD,aAFD,MAEK;AAEH,mBAAKrK,cAAL,GAAsB,KAAKG,yBAAL,CAA+BmK,kBAArD;AACA,mBAAKjC,QAAL;AACA,mBAAK7F,WAAL,CAAiB6B,mBAAjB,GAAuC,KAAK6F,mBAAL,CAAyB,kBAAzB,CAAvC;;AACA,kBAAI,KAAK1H,WAAL,CAAiB6B,mBAArB,EAA0C;AACxC,qBAAKJ,sBAAL,CAA4B,KAAKzB,WAAL,CAAiB6B,mBAA7C;AACD;;AACD,mBAAK7B,WAAL,CAAiBqF,mBAAjB,GAAuC,KAAKqC,mBAAL,CAAyB,kBAAzB,CAAvC;;AACA,kBAAI,KAAK1H,WAAL,CAAiBqF,mBAArB,EAA0C;AACxC,qBAAK0C,6BAAL,CAAmC,KAAK/H,WAAL,CAAiBqF,mBAApD;AACD;;AACD,kBAAI,KAAK7H,cAAL,CAAoBiB,YAApB,IAAoC,GAAxC,EAA6C;AAC3CnG,uBAAO,CAACC,GAAR,CAAY,KAAKiF,cAAL,CAAoBiB,YAAhC;AACA,qBAAKuJ,SAAL,GAAiB,KAAjB;AACA,qBAAKC,WAAL,GAAmB,IAAnB;AACD;;AACD,mBAAKpM,iBAAL,GAAyB,KAAK8B,yBAAL,CAA+BmK,kBAA/B,CAAkDlK,iBAA3E;AACA,mBAAKiI,QAAL;;AACA,mBAAK,IAAI3G,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKrD,iBAAL,CAAuB4H,MAAnD,EAA2DvE,KAAK,EAAhE,EAAoE;AAClE,qBAAKnD,aAAL;AACA,oBAAMsE,IAAI,GAAG,KAAKxE,iBAAL,CAAuBqD,KAAvB,CAAb;AACA,qBAAKqI,kBAAL,CAAwBW,EAAxB,CAA2BhJ,KAA3B,EAAkCyC,UAAlC,CAA6CtB,IAA7C;AACA/H,uBAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKgP,kBAAnC;AACD;;AACD,mBAAKY,sBAAL,GAA6B,KAAKxK,yBAAL,CAA+BmK,kBAA/B,CAAkDlK,iBAAlD,CAAoEoD,GAApE,CAAwE,aAAG;AAAA,uBAAIoH,GAAG,CAACpJ,SAAR;AAAA,eAA3E,CAA7B;AACA;AACA,mBAAKqJ,2BAAL,GAAkC,KAAK1K,yBAAL,CAA+BmK,kBAA/B,CAAkDlK,iBAAlD,CAAoEoD,GAApE,CAAwE,aAAG;AAAA,uBAAIoH,GAAG,CAACnJ,cAAR;AAAA,eAA3E,CAAlC;AACA,mBAAK7D,qBAAL;AACA,mBAAKY,WAAL;AACD;;AAED,iBAAKxB,WAAL,CAAiByB,sBAAjB,CAAwC,cAAxC;AACA,iBAAKzB,WAAL,CAAiB0B,eAAjB,CAAiCC,SAAjC,CAA2C,iBAAO;AAAA,qBAAI,OAAI,CAACC,SAAL,GAAiBC,OAArB;AAAA,aAAlD;AACAC,sBAAU,CAAC,YAAK;AACdhE,qBAAO,CAACC,GAAR,CAAY,OAAI,CAAC6D,SAAjB;AACD,aAFS,EAEP,GAFO,CAAV;AAGA,iBAAKf,eAAL,CAAqB2K,OAArB;AACD;;;iBAED,8BAAkB;AAChB,mBAAO,KAAKvL,WAAL,CAAiBhD,KAAjB,CAAuB;AAC5B6D,wBAAU,EAAE,CAAC,EAAD,EAAKgM,+DAAL,CADgB;AAE5B9L,yBAAW,EAAE,CAAC,EAAD,EAAK8L,+DAAL,CAFe;AAG5B7L,yBAAW,EAAE,CAAC,EAAD,EAAK6L,+DAAL,CAHe;AAI5B5L,2BAAa,EAAE,CAAC,EAAD,EAAK4L,+DAAL;AAJa,aAAvB,CAAP;AAMD;;;iBACD,oBAAQ;AACN,gBAAI,KAAK9J,cAAL,CAAoBmI,cAApB,IAAqC,GAArC,IAA4C,KAAKnI,cAAL,CAAoBmI,cAApB,IAAqC,cAArF,EAAqG;AACnG,mBAAKnI,cAAL,CAAoBmI,cAApB,GAAqC,cAArC;AACD;;AACD,gBAAI,KAAKnI,cAAL,CAAoBmI,cAApB,IAAsC,GAAtC,IAA6C,KAAKnI,cAAL,CAAoBmI,cAApB,IAAsC,YAAvF,EAAqG;AACnG,mBAAKnI,cAAL,CAAoBmI,cAApB,GAAqC,YAArC;AACD;;AACD,gBAAI,KAAKnI,cAAL,CAAoBiB,YAApB,IAAoC,GAApC,IAA2C,KAAKjB,cAAL,CAAoBiB,YAApB,IAAoC,MAAnF,EAA2F;AACzF,mBAAKjB,cAAL,CAAoBiB,YAApB,GAAmC,MAAnC;AACD;;AACD,gBAAI,KAAKjB,cAAL,CAAoBiB,YAApB,IAAoC,GAApC,IAA2C,KAAKjB,cAAL,CAAoBiB,YAApB,IAAoC,OAAnF,EAA4F;AAC1F,mBAAKjB,cAAL,CAAoBiB,YAApB,GAAmC,QAAnC;AACD;;AACD,gBAAI,KAAKjB,cAAL,CAAoBkB,YAApB,IAAoC,GAApC,IAA0C,KAAKlB,cAAL,CAAoBkB,YAApB,IAAoC,IAAlF,EAAyF;AACvF,mBAAKlB,cAAL,CAAoBkB,YAApB,GAAmC,IAAnC;AACD;;AACD,gBAAI,KAAKlB,cAAL,CAAoBkB,YAApB,IAAoC,GAAxC,EAA6C;AAC3C,mBAAKlB,cAAL,CAAoBkB,YAApB,GAAmC,KAAnC;AACD;AACF;;;iBACH,mBAAO;AAAA;;AACL,gBAAInC,MAAM,GAAY,KAAtB;;AAEA,gBAAI,KAAKlB,eAAL,CAAqBmB,OAArB,IAAgC,KAAKC,WAAL,IAAkB,IAAtD,EAA4D;AAC5D,qBAAO6L,wDAAU;AACf3P,oBAAI,EAAE,sFADS;AAEf+D,gCAAgB,EAAE,IAFH;AAGfC,kCAAkB,EAAE,SAHL;AAIfC,iCAAiB,EAAE,SAJJ;AAKfC,gCAAgB,EAAE,IALH;AAMfC,iCAAiB,EAAE,KANJ;AAOflE,oBAAI,EAAE;AAPS,eAAV,EAQJmE,IARI,CAQC,UAACC,MAAD,EAAW;AACjB,oBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/BV,wBAAM,GAAC,IAAP;;AACA,yBAAI,CAAC7B,GAAL,CAASwC,YAAT;;AACG,yBAAOX,MAAP;AACJ,iBAJD,MAKI;AACFA,wBAAM,GAAC,KAAP;;AACA,yBAAI,CAAC7B,GAAL,CAASwC,YAAT;;AACA,yBAAOX,MAAP;AACD;AAEF,eApBM,CAAP;AAqBD,aAtBC,MAuBE;AACJA,oBAAM,GAAC,IAAP;AACA,qBAAO,IAAIY,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,oBAAId,MAAM,KAAK,IAAf,EAAqB;AACnBA,wBAAM,GAAC,IAAP;;AACA,yBAAI,CAAC7B,GAAL,CAASwC,YAAT;;AACAE,yBAAO,CAAC,IAAD,CAAP;AACD;AAEF,eAPM,CAAP;AAQC;AACE;;;iBACD,iCAAqB;AACnB,mBAAO,KAAK3C,WAAL,CAAiBhD,KAAjB,CAAuB;AAC5BkH,gBAAE,EAAE,CAAC,EAAD,CADwB;AAE5BC,0BAAY,EAAE,CAAC,EAAD,CAFc;AAG5BC,8BAAgB,EAAE,CAAC,EAAD,CAHU;AAI5BC,8BAAgB,EAAE,CAAC,EAAD,CAJU;AAK5BC,8BAAgB,EAAE,CAAC,EAAD,CALU;AAM5BC,uBAAS,EAAE,CAAC,EAAD,CANiB;AAO5BC,4BAAc,EAAE,CAAC,EAAD;AAPY,aAAvB,CAAP;AASD;;;iBAED,sBAAaC,KAAb,EAA4BrG,KAA5B,EAAsC;AACpC,mBAAOqG,KAAP;AACD;;;eAED,eAAsB;AACpB,mBAAO,KAAK7D,eAAL,CAAqBpC,GAArB,CAAyB,oBAAzB,CAAP;AACD;;;iBAED,yBAAa;AACX,iBAAKsO,kBAAL,CAAwBpI,IAAxB,CAA6B,KAAKoJ,qBAAL,EAA7B;AACAjQ,mBAAO,CAACC,GAAR,CAAY,KAAKgP,kBAAL,CAAwB1O,KAApC;AACD;;;iBAED,4BAAmBqG,KAAnB,EAAgC;AAC9B,iBAAKiJ,sBAAL,CAA4B7I,MAA5B,CAAmCJ,KAAnC,EAA0C,CAA1C;AACA,iBAAKmJ,2BAAL,CAAiC/I,MAAjC,CAAwCJ,KAAxC,EAA+C,CAA/C;AACA,iBAAKqI,kBAAL,CAAwB/H,QAAxB,CAAiCN,KAAjC;AACD;;;iBAED,iCAAqB;AAAA;;AACnB,iBAAK3E,OAAL,CAAaa,qBAAb,GAAqCe,SAArC,CAA+C,oBAAU,EAAG;AAC1D7D,qBAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BkH,UAA1B;AACA,qBAAI,CAACC,cAAL,GAAsBD,UAAtB;AACD,aAHD,EAIE,UAACM,GAAD,EAAa;AACXzH,qBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBwH,GAAnB;AACD,aANH;AAOD;;;iBAED,wCAA+B/G,KAA/B,EAAsCmM,CAAtC,EAAuC;AACrC,iBAAKkD,2BAAL,CAAiClD,CAAjC,IAAsCnM,KAAK,CAACkJ,MAAN,CAAarJ,KAAnD;AACD;;;iBAED,mCAA0BG,KAA1B,EAAiCmM,CAAjC,EAAkC;AAChC,iBAAKgD,sBAAL,CAA4BhD,CAA5B,IAAiCnM,KAAK,CAACkJ,MAAN,CAAarJ,KAA9C;AACD;;;iBAED,+CAAsCA,KAAtC,EAA2C;AACzC,mBAAO,KAAKwP,2BAAL,CAAiC9H,IAAjC,CAAsC,cAAI;AAAA,qBAAEF,IAAI,IAAExH,KAAR;AAAA,aAA1C,CAAP;AACD;;;iBAED,0CAAiCA,KAAjC,EAAsC;AACpC,mBAAO,KAAKsP,sBAAL,CAA4B5H,IAA5B,CAAiC,cAAI;AAAA,qBAAEF,IAAI,IAAExH,KAAR;AAAA,aAArC,CAAP;AACD;;;iBAED,qBAAS;AACP,iBAAK2P,SAAL,GAAiB,IAAjB;AACAlQ,mBAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,gBAAI,KAAKiF,cAAL,CAAoBiB,YAApB,IAAoC,GAAxC,EAA6C;AAC3C,mBAAK+J,SAAL,GAAiB,KAAjB,CAD2C,CAE3C;;AACA,mBAAK7N,YAAL,CAAkB8N,cAAlB,CAAiC,iCAAjC,EAAoE,EAApE;AACD;AACF;;;iBACD,gBAAI;AACFnQ,mBAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,gBAAI,KAAKiF,cAAL,CAAoBmI,cAApB,IAAsC,GAA1C,EAA+C;AAC7C,mBAAK+C,IAAL,GAAY,KAAZ,CAD6C,CAE7C;;AACA,mBAAK/N,YAAL,CAAkB8N,cAAlB,CAAiC,uCAAjC,EAA0E,EAA1E;AACD;;AACD,gBAAI,KAAKjL,cAAL,CAAoBiB,YAApB,IAAoC,GAAxC,EAA6C;AAC3C,mBAAKiK,IAAL,GAAY,KAAZ,CAD2C,CAE3C;;AACA,mBAAK/N,YAAL,CAAkB8N,cAAlB,CAAiC,iCAAjC,EAAoE,EAApE;AACD;;AACD,iBAAKC,IAAL,GAAY,IAAZ;AACD;;;iBACD,gCAAuBpH,SAAvB,EAAqC;AAAA;;AACnC,iBAAKA,SAAL,GAAiBA,SAAjB;AACA,iBAAK/G,OAAL,CAAakH,sBAAb,CAAoC,KAAKH,SAAzC,EAAoDnF,SAApD,CAA8D,cAAI,EAAG;AACnE7D,qBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBuF,IAAvB;AACA,qBAAI,CAACkC,WAAL,GAAmBlC,IAAnB;AACA,qBAAI,CAAC6K,eAAL,GAAqB7K,IAArB;;AACA,qBAAI,CAACzC,eAAL,CAAqBsG,UAArB,CAAgC7D,IAAhC;;AACA,qBAAI,CAAC8D,wBAAL,CAA8B9D,IAAI,CAACxC,UAAnC,EAA+CwC,IAAI,CAACtC,WAApD;;AACA,qBAAI,CAACwE,WAAL,CAAiB6B,mBAAjB,GAAuC/D,IAAI,CAACxC,UAA5C;AACD,aAPD;AAQC,iBAAKsN,gBAAL;AACF;;;iBAED,uCAA8BC,OAA9B,EAA0C;AAAA;;AACxC,iBAAKtO,OAAL,CAAakH,sBAAb,CAAoCoH,OAApC,EAA6C1M,SAA7C,CAAuD,cAAI,EAAG;AAC5D7D,qBAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBuF,IAApB;AACA,qBAAI,CAACgL,eAAL,GAAuBhL,IAAvB;AACA,qBAAI,CAACiL,sBAAL,GAA4BjL,IAA5B;;AACA,qBAAI,CAACzC,eAAL,CAAqBpC,GAArB,CAAyB,oBAAzB,EAA+C0I,UAA/C,CAA0D7D,IAA1D;;AACA,qBAAI,CAACwG,4BAAL,CAAkCxG,IAAI,CAACxC,UAAvC,EAAmDwC,IAAI,CAACtC,WAAxD;;AACA,qBAAI,CAACsN,eAAL,CAAqBzD,mBAArB,GAA2CvH,IAAI,CAACxC,UAAhD;AACD,aAPD;AAQD;;;iBAGD,+BAAmB;AAAA;;AAEjBgN,oEACE;AACE;AACA3P,kBAAI,EAAE,yCAAyC,0BAFjD;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ;AARpC,aADF,EAWEC,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AAGA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B,oBAAI,OAAI,CAAChC,WAAL,IAAoB,OAAI,CAACuC,cAAL,CAAoBC,SAA5C,EAAuD;AACrD6K,0EAAU,oCAAV,EADqD,CAErD;AACD,iBAHD,MAIK;AAEH,sBAAI5K,UAAU,GAAQ,EAAtB;AACApF,yBAAO,CAACC,GAAR,CAAY,OAAI,CAACoF,yBAAjB;AACAD,4BAAU,GAAG,OAAI,CAACC,yBAAlB;AACAD,4BAAU,CAACE,iBAAX,GAA+B,OAAI,CAAC/B,iBAApC;AACAvD,yBAAO,CAACC,GAAR,CAAYmF,UAAZ;;AAEA,sBAAIA,UAAU,CAACiI,cAAX,IAA4B,cAAhC,EAAgD;AAC9CjI,8BAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,sBAAIjI,UAAU,CAACiI,cAAX,IAA6B,YAAjC,EAA+C;AAC7CjI,8BAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,sBAAIjI,UAAU,CAACe,YAAX,IAA2B,MAA/B,EAAuC;AACrCf,8BAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,sBAAIf,UAAU,CAACe,YAAX,IAA2B,QAA/B,EAAyC;AACvCf,8BAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,sBAAIf,UAAU,CAACgB,YAAX,IAA2B,IAA/B,EAAqC;AACnChB,8BAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AACD,sBAAIhB,UAAU,CAACgB,YAAX,IAA2B,KAA/B,EAAsC;AACpChB,8BAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AAED,yBAAI,CAACnE,OAAL,CAAasD,eAAb,CAA6B,MAA7B,EAAqC,OAAI,CAAC5C,WAA1C,EAAuDyC,UAAvD,EAAmEvB,SAAnE,CAA6E,UAAC2B,IAAD,EAAS;AACpF,2BAAI,CAACkL,aAAL,GAAqB,IAArB;AACA,2BAAI,CAACxL,cAAL,GAAsBM,IAAtB;;AACA,2BAAI,CAAC+H,QAAL;;AACAyC,4EAAU;AAAE3P,0BAAI,EAAE;AAAR,qBAAV,EAJoF,CAKpF;AACD,mBAND;AAOD;AACF;AACF,aAxDD;AA0DD;;;iBAED,gCAAoB;AAAA;;AAClB2P,oEACE;AACE;AACA3P,kBAAI,EAAE,qCAAqC,0BAF7C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CiB,uBAAS,EAAE;AARvD,aADF,EAWEhB,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B,oBAAIS,UAAU,GAAQ,EAAtB;AACAA,0BAAU,GAAG,OAAI,CAACC,yBAAlB;AACAD,0BAAU,CAACE,iBAAX,GAA+B,OAAI,CAAC/B,iBAApC;;AAEA,oBAAI6B,UAAU,CAACiI,cAAX,IAA4B,cAAhC,EAAgD;AAC9CjI,4BAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,oBAAIjI,UAAU,CAACiI,cAAX,IAA6B,YAAjC,EAA+C;AAC7CjI,4BAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,oBAAIjI,UAAU,CAACe,YAAX,IAA2B,MAA/B,EAAuC;AACrCf,4BAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,oBAAIf,UAAU,CAACe,YAAX,IAA2B,QAA/B,EAAyC;AACvCf,4BAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,oBAAIf,UAAU,CAACgB,YAAX,IAA2B,IAA/B,EAAqC;AACnChB,4BAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AACD,oBAAIhB,UAAU,CAACgB,YAAX,IAA2B,KAA/B,EAAsC;AACpChB,4BAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AACD,uBAAI,CAACnE,OAAL,CAAasD,eAAb,CAA6B,OAA7B,EAAsC,OAAI,CAAC5C,WAA3C,EAAwDyC,UAAxD,EAAoEvB,SAApE,CAA8E,UAAC2B,IAAD,EAAS;AACrF,yBAAI,CAACN,cAAL,GAAsBM,IAAtB;;AACA,yBAAI,CAAC+H,QAAL;;AACA,yBAAI,CAACoD,OAAL,GAAe,IAAf;AACA,yBAAI,CAACC,OAAL,GAAe,IAAf;AACA,yBAAI,CAACC,OAAL,GAAe,KAAf;AACA,yBAAI,CAACnB,SAAL,GAAiB,KAAjB;AACAM,0EAAU;AAAE3P,wBAAI,EAAE,mBAAR;AAA6BC,wBAAI,EAAE;AAAnC,mBAAV,EAPqF,CAQrF;AACD,iBATD;AAUD;AACF,aA/CD;AAgDD;;;iBAED,6BAAiB;AAAA;;AACf0P,oEACE;AACE;AACA3P,kBAAI,EAAE,uCAAuC,0BAF/C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CiB,uBAAS,EAAE;AARvD,aADF,EAWEhB,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B,oBAAIS,UAAU,GAAQ,EAAtB;AACAA,0BAAU,GAAG,OAAI,CAACC,yBAAlB;AACAD,0BAAU,CAACE,iBAAX,GAA+B,OAAI,CAAC/B,iBAApC;;AAEA,oBAAI6B,UAAU,CAACiI,cAAX,IAA4B,cAAhC,EAAgD;AAC9CjI,4BAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,oBAAIjI,UAAU,CAACiI,cAAX,IAA6B,YAAjC,EAA+C;AAC7CjI,4BAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,oBAAIjI,UAAU,CAACe,YAAX,IAA2B,MAA/B,EAAuC;AACrCf,4BAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,oBAAIf,UAAU,CAACe,YAAX,IAA2B,QAA/B,EAAyC;AACvCf,4BAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,oBAAIf,UAAU,CAACgB,YAAX,IAA2B,IAA/B,EAAqC;AACnChB,4BAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AACD,oBAAIhB,UAAU,CAACgB,YAAX,IAA2B,KAA/B,EAAsC;AACpChB,4BAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AACD,uBAAI,CAACnE,OAAL,CAAasD,eAAb,CAA6B,MAA7B,EAAqC,OAAI,CAAC5C,WAA1C,EAAuDyC,UAAvD,EAAmEvB,SAAnE,CAA6E,UAAC2B,IAAD,EAAS;AACpF,yBAAI,CAACN,cAAL,GAAsBM,IAAtB;;AACA,yBAAI,CAAC+H,QAAL;;AACA,yBAAI,CAACoC,WAAL,GAAmB,KAAnB;AACA,yBAAI,CAACgB,OAAL,GAAe,KAAf;AACA,yBAAI,CAACC,OAAL,GAAe,KAAf;AACAZ,0EAAU;AAAE3P,wBAAI,EAAE,kBAAR;AAA4BC,wBAAI,EAAE;AAAlC,mBAAV,EANoF,CAOpF;AACD,iBARD;AASD;AACF,aA9CD;AA+CD;;;iBAED,6BAAiB;AAAA;;AACf0P,oEACE;AACE;AACA3P,kBAAI,EAAE,sCAAsC,0BAF9C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CiB,uBAAS,EAAE;AARvD,aADF,EAWEhB,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B3E,uBAAO,CAACC,GAAR,CAAY,OAAI,CAACiF,cAAL,CAAoBS,SAAhC;;AAEA,uBAAI,CAAC1D,OAAL,CAAayD,eAAb,CAA6B,OAAI,CAACR,cAAL,CAAoBS,SAAjD,EAA4D,OAAI,CAAChD,WAAjE,EAA8EkB,SAA9E,CAAwF,UAAC2B,IAAD,EAAS;AAC/F,sBAAIA,IAAJ,EAAU;AACR,2BAAI,CAACqL,OAAL,GAAe,IAAf;AACA,2BAAI,CAACF,OAAL,GAAe,IAAf;AACA,2BAAI,CAACC,OAAL,GAAe,IAAf;AACA,2BAAI,CAACE,QAAL,GAAgB,IAAhB;AACAd,4EAAU;AACRpK,2BAAK,EAAE,mBADC;AAERpB,uCAAiB,EAAE;AAFX,qBAAV,EAGGC,IAHH,CAGQ,UAACC,MAAD,EAAW;AACjB,0BAAIA,MAAJ,EAAY;AACV,+BAAI,CAAC5F,MAAL,CAAY+G,aAAZ,CAA0B,uBAA1B;AACD;AACF,qBAPD;AASD,mBAdD,MAeK;AACHmK,4EAAU,6BAAV;AACD;AACF,iBAnBD;AAoBD;AACF,aArCD;AAsCD;;;iBAGD,4BAAgB;AACdhQ,mBAAO,CAACC,GAAR,CAAY,KAAKyH,WAAjB;AACA1H,mBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAK8C,eAAjC;AACA,iBAAK4E,eAAL,GAAuB,IAAvB;AACA,iBAAKE,eAAL,GAAuB,IAAvB;AACA,iBAAKC,UAAL,GAAkB,IAAlB;AACD;;;iBAED,2BAAkBpH,KAAlB,EAAuB;AACrBV,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACH,KAAlB;AACA,gBAAIA,KAAK,GAAGG,KAAK,CAACH,KAAlB;;AACA,gBAAIG,KAAK,CAACH,KAAV,EAAiB;AACf,kBAAIwH,IAAI,GAAG,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,iBAAO;AAAA,uBAAIC,OAAO,CAACC,UAAR,IAAsB5H,KAA1B;AAAA,eAA/B,CAAX;AACAP,qBAAO,CAACC,GAAR,CAAY8H,IAAZ;AACA,mBAAKK,gBAAL,GAAwBL,IAAI,CAACM,OAA7B;AACArI,qBAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAKmI,gBAAzB;AAED;AACF;;;iBACD,sBAAU;AACR,iBAAKtC,SAAL,GAAe,IAAf;AACA,iBAAKC,UAAL,GAAgB,IAAhB;AACA,iBAAKhD,eAAL,CAAqBkD,MAArB;AACA,iBAAK8K,QAAL,GAAc,IAAd,CAJQ,CAKR;AACA;AACA;AACD;;;iBACD,mCAAuB;AACrB/Q,mBAAO,CAACC,GAAR,CAAY,QAAZ;AAED;;;iBAED,uBAAW;AAAA;;AACT,iBAAKlB,SAAL,CAAeuJ,iBAAf,GAAmCzE,SAAnC,CAA6C,iBAAO,EAAG;AACrD7D,qBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBsI,OAAnB;AACA,qBAAI,CAACC,WAAL,GAAmBD,OAAnB,CAFqD,CAGrD;;AACA,qBAAI,CAACE,eAAL,GAAuBF,OAAO,CAACG,GAAR,CAAY,UAACC,IAAD,EAAS;AAC1C,uBAAOA,IAAI,CAACC,YAAZ;AACD,eAFsB,CAAvB;AAGA,qBAAI,CAACC,WAAL,GAAmBN,OAAO,CAACG,GAAR,CAAY,UAACC,IAAD,EAAS;AACtC,uBAAOA,IAAI,CAACC,YAAZ;AACD,eAFkB,CAAnB;AAGA,qBAAI,CAACE,cAAL,GAAsBP,OAAO,CAACG,GAAR,CAAY,UAACC,IAAD,EAAS;AACzC,uBAAOA,IAAI,CAACI,UAAZ;AACD,eAFqB,CAAtB;AAMD,aAhBD;AAkBD;;;iBACD,2BAAkBrI,KAAlB,EAA4B;AAC1BV,mBAAO,CAACC,GAAR,CAAYS,KAAZ;AACA,iBAAKsI,SAAL,GAAiBtI,KAAK,CAACH,KAAvB;AACD;;;iBACD,kCAAyByQ,MAAzB,EAAsCtQ,KAAtC,EAAgD;AAC9CV,mBAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBS,KAAjB;AACA,iBAAKsI,SAAL,GAAiBgI,MAAjB;AACA,iBAAK1H,wBAAL,CAA8B,KAAKN,SAAnC,EAA8CtI,KAAK,CAACH,KAApD;AACD;;;iBACD,kCAAyB2I,MAAzB,EAAiCe,OAAjC,EAAwC;AAAA;;AACtCjK,mBAAO,CAACC,GAAR,CAAYiJ,MAAZ;AACA,iBAAKjH,OAAL,CAAaiI,0BAAb,CAAwChB,MAAxC,EAAgDe,OAAhD,EAAyD,KAAKtH,WAA9D,EAA2EkB,SAA3E,CAAqF,oBAAU,EAAG;AAChG7D,qBAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBkK,UAAzB;AACA,qBAAI,CAACC,eAAL,GAAuBD,UAAU,CAACE,SAAlC;AACA,qBAAI,CAACC,aAAL,GAAqBH,UAAU,CAACI,OAAhC;AACA,qBAAI,CAACC,UAAL,GAAkBL,UAAU,CAACM,iBAA7B;AAEA,qBAAI,CAACC,oBAAL,GAA0B,OAAI,CAAC2F,eAAL,CAAqB5G,eAA/C;AACA,qBAAI,CAACkB,WAAL,GAAmBR,UAAU,CAACS,iBAAX,CAA6B,CAA7B,EAAgCC,cAAnD,CAPgG,CAQhG;;AACA7K,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACuK,UAAjB,EATgG,CAUhG;AACA;;AACA,kBAAI,OAAI,CAACG,WAAL,IAAoB,YAAxB,EAAsC;AACpC,uBAAI,CAACA,WAAL,GAAkBR,UAAU,CAACS,iBAAX,CAA6B,CAA7B,EAAgCE,aAAlD;AACA,uBAAI,CAACa,eAAL,GAAuB,MAAvB;AACA,uBAAI,CAACC,eAAL,GAAuB,SAAvB;AACD;;AACD,kBAAI,OAAI,CAACjB,WAAL,IAAoB,QAAxB,EAAkC;AAChC,uBAAI,CAACgB,eAAL,GAAuB,UAAvB;AACA,uBAAI,CAACC,eAAL,GAAuB,YAAvB;AAED,eArB+F,CAsBhG;;AACD,aAvBD,EAuBI,aAAG,EAAG;AACR5L,qBAAO,CAACC,GAAR,CAAYwH,GAAZ;AACD,aAzBD;AA0BD;;;iBAED,6BAAoB/G,KAApB,EAAyB;AACvBV,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACH,KAAlB;AACA,iBAAKsL,iBAAL,GAAyBnL,KAAK,CAACH,KAA/B;AACD;;;iBAED,8BAAqBG,KAArB,EAA0B;AACxBV,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACH,KAAlB;AACA,iBAAKyL,4BAAL,CAAkC,KAAKH,iBAAvC,EAA0DnL,KAAK,CAACH,KAAhE;AAED;;;iBAED,sCAA6BsL,iBAA7B,EAAgD5B,OAAhD,EAAuD;AAAA;;AACrD,iBAAKhI,OAAL,CAAaiI,0BAAb,CAAwC2B,iBAAxC,EAA2D5B,OAA3D,EAAoE,KAAKtH,WAAzE,EAAsFkB,SAAtF,CAAgG,yBAAe,EAAG;AAChH7D,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8BgM,eAA9B;AACA,qBAAI,CAACC,oBAAL,GAA4BD,eAAe,CAAC5B,SAA5C;AACA,qBAAI,CAAC8B,kBAAL,GAA0BF,eAAe,CAAC1B,OAA1C;AACA,qBAAI,CAAC6B,eAAL,GAAuBH,eAAe,CAACxB,iBAAvC;AACA,qBAAI,CAAC4B,qBAAL,GAA2B,OAAI,CAACoE,sBAAL,CAA4BhH,eAAvD;AACA,qBAAI,CAAC+C,iBAAL,GAAyBP,eAAe,CAACrB,iBAAhB,CAAkC,CAAlC,EAAqCC,cAA9D;AACA7K,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACuM,iBAAjB;;AACA,kBAAI,OAAI,CAACA,iBAAL,IAA0B,YAA9B,EAA4C;AAC1C,uBAAI,CAACA,iBAAL,GAAwBP,eAAe,CAACrB,iBAAhB,CAAkC,CAAlC,EAAqCE,aAA7D;AACA,uBAAI,CAAC2B,QAAL,GAAgB,MAAhB;AACA,uBAAI,CAACC,SAAL,GAAiB,UAAjB;AACD,eAJD,MAKK,IAAI,OAAI,CAACF,iBAAL,IAA0B,QAA9B,EAAwC;AAC3C,uBAAI,CAACC,QAAL,GAAgB,UAAhB;AACA,uBAAI,CAACC,SAAL,GAAiB,YAAjB;AACD,eAhB+G,CAiBhH;;;AACA1M,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACgR,eAAjB,EAlBgH,CAoBhH;AACD,aArBD,EAqBI,aAAG,EAAG;AACRjR,qBAAO,CAACC,GAAR,CAAYwH,GAAZ;AACD,aAvBD;AAwBD;;;iBAED,iCAAwB/G,KAAxB,EAAkC;AAAA;;AAChCV,mBAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCS,KAAK,CAACH,KAAxC;AACAP,mBAAO,CAACC,GAAR,CAAYS,KAAK,CAACH,KAAlB;AACA,gBAAI0K,CAAC,GAAG,KAAKzC,WAAL,CAAiBP,IAAjB,CAAsB,cAAI;AAAA,qBAAIF,IAAI,CAACa,YAAL,IAAqBlI,KAAK,CAACH,KAA/B;AAAA,aAA1B,CAAR;AACA,iBAAKiI,WAAL,CAAiB0I,OAAjB,CAAyB,UAACvI,IAAD,EAAS;AAChCA,kBAAI,CAACI,UAAL,GAAkBkC,CAAC,CAAClC,UAApB;AACA,qBAAI,CAACoI,OAAL,GAAexI,IAAI,CAACI,UAApB;AACAJ,kBAAI,CAACyI,QAAL,GAAgBnG,CAAC,CAACmG,QAAlB;AACD,aAJD;AAKD;;;iBACD,6BAAiB;AAAA;;AACf,gBAAIhM,UAAU,GAAQ,EAAtB;AACAA,sBAAU,GAAG,KAAKC,yBAAlB;AACAD,sBAAU,CAACD,SAAX,GAAuB,KAAKxC,WAA5B;AACAyC,sBAAU,CAACE,iBAAX,GAA+B,KAAK2J,kBAAL,CAAwB1O,KAAvD;;AACA,gBAAG6E,UAAU,CAACgB,YAAX,IAA2B,IAA9B,EAAoC;AAClChB,wBAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AACD,gBAAGhB,UAAU,CAACgB,YAAX,IAA2B,KAA9B,EAAqC;AACnChB,wBAAU,CAACgB,YAAX,GAA0B,GAA1B;AACD;;AACD,gBAAGhB,UAAU,CAACiI,cAAX,IAA6B,cAAhC,EAAgD;AAC9CjI,wBAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,gBAAGjI,UAAU,CAACiI,cAAX,IAA6B,YAAhC,EAA8C;AAC5CjI,wBAAU,CAACiI,cAAX,GAA4B,GAA5B;AACD;;AACD,gBAAGjI,UAAU,CAACe,YAAX,IAA2B,MAA9B,EAAsC;AACpCf,wBAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,gBAAGf,UAAU,CAACe,YAAX,IAA2B,OAA9B,EAAuC;AACrCf,wBAAU,CAACe,YAAX,GAA0B,GAA1B;AACD;;AACD,iBAAKlE,OAAL,CAAaqL,mBAAb,CAAiClI,UAAjC,EAA6C,KAAKzC,WAAlD,EAA+DkB,SAA/D,CAAyE,cAAI,EAAG;AAC9E7D,qBAAO,CAACC,GAAR,CAAYuF,IAAZ;;AACA,kBAAIA,IAAJ,EAAU;AACR,uBAAI,CAACN,cAAL,GAAsBM,IAAtB;;AACA,uBAAI,CAAC+H,QAAL;;AACA,uBAAI,CAACZ,gBAAL,GAAwB,IAAxB;AACAqD,wEAAU;AAAC3P,sBAAI,EAAC,mBAAN;AACVC,sBAAI,EAAC;AADK,iBAAV;AAEA,uBAAI,CAAC0F,MAAL,GAAY,KAAZ;AACA,uBAAI,CAACF,SAAL,GAAe,KAAf;AACA,uBAAI,CAAC3B,WAAL,GAAiB,CAAC,OAAI,CAACpB,eAAL,CAAqBmB,OAAvC;AACD;AACF,aAZD,EAYE,UAACuD,GAAD,EAAY;AACZzH,qBAAO,CAACC,GAAR,CAAYwH,GAAG,CAACmG,KAAJ,CAAUvN,IAAtB;AACA2P,sEAAU;AAAC3P,oBAAI,EAAC,4CAAN;AACVC,oBAAI,EAAC;AADK,eAAV;AAED,aAhBD;AAiBD;;;;;;;yBArrBUqO,8BAA2BX;AAAA;;;cAA3BW;AAA2B3N;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADlBxC4M;;AACEA;;AACEA;;AAAsBA;;AAAYA;;AACpCA;;AACAA;;AACEA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAAsCA;;AAAaA;;AAAuBA;;AAACA;;AAAOA;;AAClFA;;AAUFA;;AACAA;;AACEA;;AAAsCA;;AAAYA;;AAAuBA;;AAACA;;AAAOA;;AACjFA;;AAEAA;AAAA,qBAAU3M,yEAAV;AAA0E,aAA1E;;AACA2M;;AAA2CA;;AAAiBA;;AAC1DA;;AACEA;;AACFA;;AACAA;;AACEA;;AACFA;;AACAA;;AACEA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AAAsCA;;AAASA;;AAAuBA;;AAACA;;AAAOA;;AAC9EA;;AAQFA;;AACAA;;AACEA;;AAAsCA;;AAAOA;;AAAuBA;;AAACA;;AAAOA;;AAC5EA;;AAQFA;;AACAA;;AACAA;;AACEA;;AAAsCA;;AAAkBA;;AAAuBA;;AAACA;;AAAOA;;AACvFA;;AASFA;;AACAA;;AACEA;;AAAsCA;;AAAYA;;AAAuBA;;AAACA;;AAAOA;;AAC3EA;;AACMA;AAAA,qBAAU3M,gCAAV;AAAsC,aAAtC;;AACA2M;;AAA2CA;;AAAiBA;;AAC9DA;;AACIA;;AACFA;;AACAA;;AACEA;;AACFA;;AACAA;;AACEA;;AACFA;;AACNA;;AACRA;;AACAA;;AACEA;;AAAsCA;;AAASA;;AAAuBA;;AAACA;;AAAOA;;AAC9EA;;AAQFA;;AACAA;;AACEA;;AAAsCA;;AAAOA;;AAAuBA;;AAACA;;AAAOA;;AAC5EA;;AAQFA;;AACAA;;AACAA;;AACEA;;AACEA;;AAAQA;AAAA,qBAAS3M,sBAAT;AAA2B,aAA3B;;AACN2M;;AACFA;;AACFA;;AA6BFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACEA;;AAiNFA;;AACFA;;AAEAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAKA;;AACTA;;AAAGA;;AAA4BA;;AACjCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAgBA;;AACpBA;;AAAGA;;;;AAA2DA;;AAChEA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AAAGA;;AAA+HA;;AACpIA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACAA;;AACAA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAOA;;AACXA;;AAAGA;;AAA6BA;;AAClCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAkBA;;AACtBA;;AAAGA;;;;AAA4DA;;AACjEA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACJA;;AACIA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAwBA;;AAC5BA;;AAAGA;;AAAwHA;;AAC7HA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAoBA;;AACxBA;;AAAGA;;AAAiOA;;AACtOA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACGA;;AACHA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAmBA;;AACvBA;;AAAGA;;AAA4BA;;AACjCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;;;AAvfQA;;AAAAA;;AACMA;;AAAAA;;AAsBEA;;AAAAA;;AAmDqDA;;AAAAA;;AAiCnDA;;AAAAA;;AAKoBA;;AAAAA;;AACiBA;;AAAAA;;AAuCzBA;;AAAAA;;AAiObA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;;;;;;;UCsNJzL;;;;UAaAuL;;;;UASAtL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxtBb,UAAM6O,MAAM,GAAW,CACrB;AACEC,YAAI,EAAC,QADP;AAEEC,iBAAS,EAACC,0GAFZ;AAGEC,qBAAa,EAAE,CAACC,0FAAD;AAHjB,OADqB,EAKnB;AACAJ,YAAI,EAAC,aADL;AAEAC,iBAAS,EAACI,6GAFV;AAGAF,qBAAa,EAAE,CAACC,0FAAD;AAHf,OALmB,EASnB;AACAJ,YAAI,EAAC,SADL;AAEAC,iBAAS,EAACK;AAFV,OATmB,EAarB;AACEN,YAAI,EAAC,YADP;AAEEC,iBAAS,EAACM;AAFZ,OAbqB,CAAvB;;UAuBaC;;;;;yBAAAA;AAAwB;;;cAAxBA;;;kBAHF,CAACC,mEAAsBV,MAAtB,CAAD,GACCU;;;;4HAECD,2BAAwB;AAAAE;AAAAC,oBAFzBF,yDAEyB;AAAA;AAFb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAXG;;;;;yBAAAA;AAAiB;;;cAAjBA;;;kBATF,CACPC,yDADO,EAEPC,kFAFO,EAGPC,gEAHO,EAIPrD,+DAJO,EAKPA,uDALO,EAMPsD,gEANO;;;;4HASEJ,oBAAiB;AAAAK,yBAd1BC,sFAc0B,EAb1BC,6GAa0B,EAZ1BC,0GAY0B,EAX1BC,iFAW0B;AAXPX,oBAGnBG,yDAHmB,EAInBC,kFAJmB,EAKnBC,gEALmB,EAMnBrD,+DANmB,EAOnBA,uDAPmB,EAQnBsD,gEARmB;AAWO;AAHZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBZhR;;AACEA;;AAAmHA;;AAAkCA;;AACvJA;;;;;;AADKA;;AAAAA,wJAAuC,kBAAvC,EAAuCA,qEAAvC;;AAAgHA;;AAAAA;;;;;;;;AAgC/GA;;AAA4SA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE1SA;;AACAA;;;;;;;;AACDA;;AAGSA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAERA;;AACAA;;;;;;;;AACAA;;AAAwJA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEtJA;;AACFA;;;;;;;;AAzBNA;;AACEA;;AAAKA;;AAA4BA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6CA;;AAA0BA;;AAAIA;;AAC5GA;;AAAIA;;AAA2BA;;AAC/BA;;AAAIA;;AAA2CA;;AAC/CA;;AAAIA;;AAA0CA;;AAC9CA;;AAAIA;;;;AAAyDA;;AAC7DA;;AACEA;;AAA8OA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE5OA;;AACAA;;AACFA;;AAICA;;AAOCA;;AAKJA;;AACFA;;;;;;AA3BgFA;;AAAAA;;AAC1EA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AAEwDA;;AAAAA;;AAIJA;;AAAAA;;AAIEA;;AAAAA;;AAOCA;;AAAAA;;;;;;AAvB/DA;;AACEA;;AA6BFA;;;;;;AA7BuBA;;AAAAA;;;;;;AA8BvBA;;AACEA;;AAGFA;;;;;;AAGFA;;AACEA;;AACEA;;AAAiCA;;AAC/BA;;AAAwEA;;AAC5EA;;AACFA;;;;;;;;UCrDSsR;AAqBX,uCACU/T,QADV,EAEUqD,WAFV,EAGUpD,MAHV,EAIUC,SAJV,EAKUqD,GALV,EAMUyQ,IANV,EAM0B;AAAA;;AALhB;AACA;AACA;AACA;AACA;AACA;AA1BV,2BAAiB,IAAInQ,yCAAJ,EAAjB;AACA,2BAAiC,EAAjC;AACA,qCAA2B,EAA3B;AACA,2BAAqB,KAArB;AACA,2BAAY,IAAIoM,2FAAJ,EAAZ;AAUA,2BAAsB,CAAC,YAAD,EAAe,cAAf,EAA+B,MAA/B,EAAuC,OAAvC,CAAtB;AAGA,yBAAUgE,oFAAV;AAUI;;;;iBAEJ,oBAAQ;AAAA;;AACN,iBAAKnQ,WAAL,GAAmBC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;AACA,iBAAKkQ,SAAL,GAAiB;AACfC,wBAAU,EAAE,cADG;AAEfC,wBAAU,EAAE,CAFG;AAGfC,wBAAU,EAAE,IAHG;AAIfC,wBAAU,EAAE,CAAC;AAAEC,oBAAI,EAAE,MAAR;AAAgBC,uBAAO,EAAE,CAAC,CAAD;AAAzB,eAAD,CAJG;AAKfC,mBAAK,EAAE,CAAC,CAAC,CAAD,EAAI,MAAJ,CAAD,CALQ;AAMf;AACAC,wBAAU,EAAE,CACV,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAe,CAAC,CAAhB,CADU,EAEV,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAe,KAAf,CAFU,CAPG;AAWf;AACA;AACAC,kBAAI,EAAE,cAACC,oBAAD,EAA4BC,QAA5B,EAAwC;AAE5CD,oCAAoB,CAACE,SAArB,GAAiCF,oBAAoB,CAACG,KAArB,GAA6B,CAA9D;AACAH,oCAAoB,CAACI,SAArB,GACEJ,oBAAoB,CAACG,KAArB,GAA6BH,oBAAoB,CAACtI,MADpD;AAEAnL,uBAAO,CAACC,GAAR,CACEwT,oBAAoB,CAACE,SADvB,EAEEF,oBAAoB,CAACI,SAFvB;AAIA,oBAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWP,oBAAoB,CAACE,SAArB,GAAiCF,oBAAoB,CAACtI,MAAjE,CAAf;AACA,oBAAM8I,QAAQ,GAAGR,oBAAoB,CAACtI,MAAtC;AACA,oBAAMnB,MAAM,GAACyJ,oBAAoB,CAACzJ,MAArB,CAA4BzJ,KAAzC;;AACA,uBAAI,CAACsS,IAAL,CAAUlS,GAAV,CAAmB,UAAG,OAAI,CAACuT,OAAR,2CAAkDJ,MAAlD,uBAAqEG,QAArE,qBAAwFjK,MAAxF,CAAnB,EACGnG,SADH,CACa,cAAI,EAAG;AAChB;AACA7D,yBAAO,CAACC,GAAR,CAAYuF,IAAZ;;AAFgB,6DAGCA,IAAI,CAACd,MAHN;AAAA;;AAAA;AAAA;AAAA,0BAGPqD,IAHO;AAIdA,0BAAI,CAAC5B,YAAL,GAAoB,OAAI,CAACgO,SAAL,CAAelM,IAAf,CAAoB,UAAC4E,CAAD;AAAA,+BACtCA,CAAC,CAACuH,UAAF,CAAarM,IAAI,CAAC5B,YAAlB,CADsC;AAAA,uBAApB,CAApB;AAGA4B,0BAAI,CAACsF,cAAL,GAAsB,OAAI,CAAC8G,SAAL,CAAelM,IAAf,CAAoB,UAAC4E,CAAD;AAAA,+BAC1CA,CAAC,CAACuH,UAAF,CAAarM,IAAI,CAACsF,cAAlB,CAD0C;AAAA,uBAApB,CAAtB;AAPc;;AAGhB,wEAA8B;AAAA;AAO7B;AAVe;AAAA;AAAA;AAAA;AAAA;;AAYhB,yBAAI,CAACgH,UAAL,GAAkB7O,IAAI,CAAC8O,cAAvB;AACA,yBAAI,CAACC,YAAL,GAAoB/O,IAAI,CAAC+O,YAAzB;AACA,yBAAI,CAACC,mBAAL,GAA2BhP,IAAI,CAACd,MAAhC;;AAdgB,8DAeC,OAAI,CAAC8P,mBAfN;AAAA;;AAAA;AAehB,2EAA2C;AAAA,0BAAlCzM,IAAkC;;AACzC,6BAAI,CAACwF,QAAL,CAAcxF,IAAd;AACD;AAjBe;AAAA;AAAA;AAAA;AAAA;;AAoBhB,yBAAI,CAAC0M,SAAL,GAAiB,KAAjB;;AACA,yBAAI,CAACrS,GAAL,CAASwC,YAAT;;AAEA8O,0BAAQ,CAAC;AACPgB,gCAAY,EAAElP,IAAI,CAAC+O,YADZ;AAEPI,mCAAe,EAAEnP,IAAI,CAAC+O,YAFf;AAGP5L,wBAAI,EAAE;AAHC,mBAAD,CAAR;AAKD,iBA7BH;AA8BD;AAvDc,aAAjB,CAFM,CA4DN;;AACA,iBAAKzG,WAAL,CAAiByB,sBAAjB,CAAwC,cAAxC;AACA,iBAAKzB,WAAL,CAAiB0B,eAAjB,CAAiCC,SAAjC,CACE,UAACE,OAAD;AAAA,qBAAc,OAAI,CAACD,SAAL,GAAiBC,OAA/B;AAAA,aADF;AAGA/D,mBAAO,CAACC,GAAR,CAAY,KAAK6D,SAAjB;AACD;;;iBACD,kBAAS0Q,mBAAT,EAA4B;AAC1BxU,mBAAO,CAACC,GAAR,CAAYuU,mBAAZ;;AACA,gBAAIA,mBAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,IAAwD,GAAxD,IAA+DmH,mBAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,IAAwD,cAAvH,IAAyImH,mBAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,IAAwD,cAArM,EAAqN;AACnNmH,iCAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,GAAwD,cAAxD;AACD;;AACD,gBAAImH,mBAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,IAAyD,GAAzD,IAAgEmH,mBAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,IAAyD,YAAzH,IAAyImH,mBAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,IAAyD,YAAtM,EAAoN;AAClNmH,iCAAmB,CAAChF,kBAApB,CAAuCnC,cAAvC,GAAwD,YAAxD;AACD;;AACD,gBAAImH,mBAAmB,CAAChF,kBAApB,CAAuCrJ,YAAvC,IAAuD,GAAvD,IAA8DqO,mBAAmB,CAAChF,kBAApB,CAAuCrJ,YAAvC,IAAuD,MAAzH,EAAiI;AAC/HqO,iCAAmB,CAAChF,kBAApB,CAAuCrJ,YAAvC,GAAsD,MAAtD;AACD;;AACD,gBAAIqO,mBAAmB,CAAChF,kBAApB,CAAuCrJ,YAAvC,IAAuD,GAAvD,IAA8DqO,mBAAmB,CAAChF,kBAApB,CAAuCrJ,YAAvC,IAAuD,OAAzH,EAAkI;AAChIqO,iCAAmB,CAAChF,kBAApB,CAAuCrJ,YAAvC,GAAsD,QAAtD;AACD;;AACD,gBAAIqO,mBAAmB,CAACI,aAApB,IAAqC,GAAzC,EAA8C;AAC5C5U,qBAAO,CAACC,GAAR,CAAY,IAAZ;AACAuU,iCAAmB,CAACI,aAApB,GAAoC,IAApC;AACD;;AACD,gBAAIJ,mBAAmB,CAACI,aAApB,IAAqC,GAAzC,EAA8C;AAC5CJ,iCAAmB,CAACI,aAApB,GAAoC,KAApC;AACD;AACF;;;iBACD,mCAAuB;AAAA;;AACrB,iBAAKH,SAAL,GAAiB,IAAjB;AACA,iBAAK5V,QAAL,CAAcgW,mBAAd,GAAoChR,SAApC,CAA8C,UAAC2B,IAAD,EAAc;AAAA,0DACzCA,IAAI,CAACd,MADoC;AAAA;;AAAA;AAAA;AAAA,sBACjDqD,IADiD;AAExDA,sBAAI,CAAC5B,YAAL,GAAoB,OAAI,CAACgO,SAAL,CAAelM,IAAf,CAAoB,UAAC4E,CAAD;AAAA,2BACtCA,CAAC,CAACuH,UAAF,CAAarM,IAAI,CAAC5B,YAAlB,CADsC;AAAA,mBAApB,CAApB;AAGA4B,sBAAI,CAACsF,cAAL,GAAsB,OAAI,CAAC8G,SAAL,CAAelM,IAAf,CAAoB,UAAC4E,CAAD;AAAA,2BAC1CA,CAAC,CAACuH,UAAF,CAAarM,IAAI,CAACsF,cAAlB,CAD0C;AAAA,mBAApB,CAAtB;AALwD;;AAC1D,uEAA8B;AAAA;AAO7B;AARyD;AAAA;AAAA;AAAA;AAAA;;AAS1DrN,qBAAO,CAACC,GAAR,CAAYuF,IAAZ;AACA,qBAAI,CAACgP,mBAAL,GAA2BhP,IAAI,CAACd,MAAhC,CAV0D,CAW1D;;AACA,qBAAI,CAAC+P,SAAL,GAAiB,KAAjB;;AACA,qBAAI,CAACrS,GAAL,CAASwC,YAAT;;AAEA,qBAAI,CAAC/D,SAAL,CAAeiU,IAAf;AACD,aAhBD;AAiBD;;;iBAED,iBAAQnM,IAAR,EAAY;AAAA;;AACV3I,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB0I,IAAvB;AACA,gBAAItC,EAAE,GAAQ,CAAd;;AACA,gBAAIsC,IAAI,CAAC6G,kBAAL,CAAwBlK,iBAAxB,CAA0C6F,MAA1C,GAAkD,CAAtD,EAAyD;AACvDxC,kBAAI,CAAChD,SAAL,GAAegD,IAAI,CAAC6G,kBAAL,CAAwBlK,iBAAxB,CAA0C,CAA1C,EAA6CK,SAA5D;AACD;;AACD3F,mBAAO,CAACC,GAAR,CAAYoG,EAAZ;AAEA,iBAAKxH,QAAL,CAAckW,kBAAd,CAAiC1O,EAAjC,EAAqCsC,IAAI,CAAChD,SAA1C,EAAqD9B,SAArD,CAA+D,UAAC2B,IAAD,EAAS;AACtExF,qBAAO,CAACC,GAAR,CAAYuF,IAAZ;AACA,qBAAI,CAACwP,mBAAL,GAAyBxP,IAAI,CAACyP,qBAA9B;AACA,kBAAIC,WAAW,GAAG;AAChB1O,gCAAgB,EAAEhB,IAAI,CAACgB,gBADP;AAEhBC,gCAAgB,EAAEjB,IAAI,CAACiB,gBAFP;AAGhBwO,qCAAqB,EAAEzP,IAAI,CAACyP,qBAHZ;AAIhBE,4BAAY,EAAExM;AAJE,eAAlB;AAMA3I,qBAAO,CAACC,GAAR,CAAYiV,WAAZ;;AACA,qBAAI,CAACnW,SAAL,CAAeqW,YAAf,CAA4BF,WAA5B;;AACA,qBAAI,CAACpW,MAAL,CAAYuW,QAAZ,CAAqB,CAAC,oBAAD,EAAuB1M,IAAI,CAAChD,SAA5B,CAArB;AACD,aAZD;AAaD;;;iBACD,cAAKgD,IAAL,EAAS;AAAA;;AACP3I,mBAAO,CAACC,GAAR,CAAY0I,IAAZ;AACA2M,oEACE;AACE;AACAjV,kBAAI,EAAE,uCAAuC,0BAF/C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CiB,uBAAS,EAAE;AARvD,aADF,EAWEhB,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAE/B,uBAAI,CAAC9F,QAAL,CAAc0G,eAAd,CAA8B,MAA9B,EAAsC,OAAI,CAAC5C,WAA3C,EAAwDgG,IAAxD,EAA8D9E,SAA9D,CAAwE,UAAC2B,IAAD,EAAS;AAC/E,yBAAI,CAACN,cAAL,GAAsBM,IAAtB;AACA,yBAAI,CAACmK,WAAL,GAAmB,KAAnB;AACA,yBAAI,CAACgB,OAAL,GAAe,KAAf;AACA,yBAAI,CAACC,OAAL,GAAe,KAAf;AACA0E,0EAAU;AAAEjV,wBAAI,EAAE,kBAAR;AAA4BC,wBAAI,EAAE;AAAlC,mBAAV,EAAyDmE,IAAzD,CAA8D;AAAA,2BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,mBAA9D,EAL+E,CAM/E;AACD,iBAPD;AAQD;AACF,aAxBD;AA0BD;;;iBACD,eAAM9M,IAAN,EAAU;AAAA;;AACR3I,mBAAO,CAACC,GAAR,CAAY0I,IAAZ;AACA2M,oEACE;AACE;AACAjV,kBAAI,EAAE,qCAAqC,0BAF7C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CiB,uBAAS,EAAE;AARvD,aADF,EAWEhB,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B;AACA;AACA;AACA,uBAAI,CAAC9F,QAAL,CAAc0G,eAAd,CAA8B,OAA9B,EAAuC,OAAI,CAAC5C,WAA5C,EAAyDgG,IAAzD,EAA+D9E,SAA/D,CAAyE,UAAC2B,IAAD,EAAS;AAChF,yBAAI,CAACN,cAAL,GAAsBM,IAAtB;AACA,yBAAI,CAACmL,OAAL,GAAe,IAAf;AACA,yBAAI,CAACC,OAAL,GAAe,IAAf;AACA,yBAAI,CAACC,OAAL,GAAe,KAAf;AACA,yBAAI,CAACnB,SAAL,GAAiB,KAAjB;AACA4F,0EAAU;AAAEjV,wBAAI,EAAE,mBAAR;AAA6BC,wBAAI,EAAE;AAAnC,mBAAV,EAA0DmE,IAA1D,CAA+D;AAAA,2BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,mBAA/D,EANgF,CAOhF;AACD,iBARD;AASD;AACF,aA3BD;AA+BD;;;iBACD,iBAAO9M,IAAP,EAAW;AAAA;;AACT3I,mBAAO,CAACC,GAAR,CAAY0I,IAAZ;AAEA2M,oEACE;AACE;AACAjV,kBAAI,EAAE,sCAAsC,0BAF9C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CiB,uBAAS,EAAE;AARvD,aADF,EAWEhB,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B,uBAAI,CAAC9F,QAAL,CAAc6G,eAAd,CAA8BiD,IAAI,CAAChD,SAAnC,EAA8C,OAAI,CAAChD,WAAnD,EAAgEkB,SAAhE,CAA0E,UAAC2B,IAAD,EAAS;AACjF,sBAAIA,IAAJ,EAAU;AACR,2BAAI,CAACqL,OAAL,GAAe,IAAf;AACA,2BAAI,CAACF,OAAL,GAAe,IAAf;AACA,2BAAI,CAACC,OAAL,GAAe,IAAf;AACA,2BAAI,CAACE,QAAL,GAAgB,IAAhB,CAJQ,CAMR;;AAEAwE,4EAAU;AACR1P,2BAAK,EAAE,mBADC;AAERpB,uCAAiB,EAAE;AAFX,qBAAV,EAGGC,IAHH,CAGQ;AAAA,6BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,qBAHR;AAKD,mBAbD,MAcK;AACHH,4EAAU,6BAAV;AACD;AACF,iBAlBD;AAmBD;AACF,aAlCD;AAoCD;;;iBACD,cAAK3M,IAAL,EAAS;AAAA;;AACP3I,mBAAO,CAACC,GAAR,CAAY0I,IAAZ;AACA2M,oEACE;AACE;AACAjV,kBAAI,EAAE,yCAAyC,0BAFjD;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ;AARpC,aADF,EAWEC,IAXF,CAWQ,gBAAM,EAAG;AACfzE,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+ByE,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B3E,uBAAO,CAACC,GAAR,CAAY0I,IAAI,CAACxD,SAAjB;;AAGA,oBAAI,OAAI,CAACxC,WAAL,IAAoBgG,IAAI,CAACxD,SAA7B,EAAwC;AACtCmQ,0EAAU,oCAAV,EADsC,CAEtC;AACD,iBAHD,MAIK;AAEH,yBAAI,CAACzW,QAAL,CAAc0G,eAAd,CAA8B,MAA9B,EAAsC,OAAI,CAAC5C,WAA3C,EAAwDgG,IAAxD,EAA8D9E,SAA9D,CAAwE,UAAC2B,IAAD,EAAS;AAC/E,2BAAI,CAACkL,aAAL,GAAqB,IAArB;AACA,2BAAI,CAACxL,cAAL,GAAsBM,IAAtB;AACA8P,4EAAU;AAAEjV,0BAAI,EAAE;AAAR,qBAAV,EAA4CoE,IAA5C,CAAiD;AAAA,6BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,qBAAjD,EAH+E,CAI/E;AACD,mBALD;AAMD;AACF;AACF,aA/BD;AAiCD;;;iBAED,uBAAW;AACT;AACA,iBAAK5U,SAAL,CAAeC,WAAf;AACD;;;;;;;yBAjTU8R,uBAAoBtR;AAAA;;;cAApBsR;AAAoB5R;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADjBjCE;;AACEA;;AACEA;;AAAsBA;;AAAYA;;AACpCA;;AACAA;;AACEA;;AACEA;;AAGAA;;AACEA;;AAA2EA;;AAAIA;;AACjFA;;AACFA;;AACAA;;AACAA;;AACEA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AAAIA;;AAAkBA;;AACtBA;;AAAIA;;AAAWA;;AACfA;;AAAIA;;AAAaA;;AACjBA;;AAAIA;;AAAIA;;AAERA;;AAAIA;;AAAMA;;AAEZA;;AACFA;;AACAA;;AA+BAA;;AAKFA;;AACFA;;AACEA;;AAOFA;;AAGFA;;;;AArE8BA;;AAAAA;;AAInBA;;AAAAA;;AAIwBA;;AAAAA;;AAarBA;;AAAAA;;AA+BAA;;AAAAA;;AAOKA;;AAAAA;;;;;;;;;","names":["ConversionComponent","rulelist","router","addSystem","fb","rxjs__WEBPACK_IMPORTED_MODULE_3__","conversionForm","group","FCUBS_HEADER","_angular_forms__WEBPACK_IMPORTED_MODULE_4__","Content_Type","xmlhttp","XMLHttpRequest","open","src_app_shared_services_add_system_service__WEBPACK_IMPORTED_MODULE_0__","xmlDoc","self","onreadystatechange","readyState","status","console","log","dataResp","response","sweetalert2__WEBPACK_IMPORTED_MODULE_1___default","text","icon","value","setRequestHeader","send","event","get","setValue","dtTrigger","unsubscribe","_angular_core__WEBPACK_IMPORTED_MODULE_5__","selectors","decls","vars","consts","template","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_7__","extsys_r20","tag_r51","tag_r58","tag_r65","tag_r72","fname_r79","fname_r87","fname_r95","tag_r103","RuleMappingCreateComponent","rulemap","roleService","formBuilder","cdr","toastService","canDeactivateGuard","MdmtMessageMapping","ruleMapDto","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_0__","rxjs__WEBPACK_IMPORTED_MODULE_8__","currentUser","localStorage","getItem","gettingExternalsystem","ruleMappingForm","systemCode","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","messageType","serviceName","operationName","destinationSystems","getDestinationItem","rulemappingDetail","array","addRuleDetail","fetchingIso","fetchScreenPermissions","screenLabelList","subscribe","roleCodes","message","setTimeout","isExit","touched","formTouched","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","then","result","isConfirmed","markForCheck","Promise","resolve","reject","operation","operationType","addSysRespData","creatorId","payloadObj","ruleMappingDataForPayload","msgMappingDetails","editRuleMapping","resp","iconColor","ondeleteMapping","mappingId","title","navigateByUrl","hideFetch","hideSubmit","submit","enable","authStatus","recordStatus","approvedEver","id","defaultValue","messageMappingId","sourceTransDetId","targetTransDetId","sourceKey","destinationKey","index","push","getRuleMappingDetail","tempArrayList","splice","tempArrayList2","removeAt","extSysResp","externalSystem","sort","sourcesysdata","temparray","externalCreateSystemFiltered","err","rulemapping","disableFetchBtn","showfetchAll","showDestination","showSource","item","sourceIsoResp","find","element","fieldValue","showFieldNoValue","fieldNo","fetchingIsoForTcp","isoResp","isoRespData","messageBasisIso","map","data","messageBasis","fieldNoData","fieldValueData","messageKey","sourseSys","filter","system","gettingTranslationData","sourceMsg","patchValue","gettingoperationAandserv","sourceTranslationId","transId","msgTransDetails","el","translationId","target","e","extValue","toLowerCase","search","msgtype","gettingoperationAndService","sourceResp","sourceoperation","OPERATION","sourceService","SERVICE","sourceData","MdmtSystemService","updateRuleMappingSrc","sourceLabel","MdmtSystemChannel","messageChannel","messageFormat","keys","Object","x","y","length","I","translationDataService","multipleService","O","translationDataOperation","multipleOperation","split","matlabelSource1","matlabelSource2","destinationSource","rulemappingDest","destinationMsg","gettingmsgTypeAndDestination","destinationResp","destinationOperation","destinationService","destinationData","updateRuleMappingDest","translationDestDataService","translationDestDataOperation","labelsDestination","matLabel","matLabel2","disableSubmitBtn","reset","i","mappingObj","targetTranslationId","replace","createdTime","approverId","approvedTime","versionNo","approvedStatus","updatingRuleMapping","auditLog","showAuditLog","afterSubmit","disable","disableResetBtn","error","submittingruleMapping","MdmtMessageMappingDet","MdmtMsgTransDetails","_angular_core__WEBPACK_IMPORTED_MODULE_6__","tag_r27","item_r8","tag_r34","tag_r41","tag_r48","ctx_r54","ctx_r62","ctx_r70","ctx_r78","ctx_r22","RuleMappingDetailsComponent","_location","_route","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_1__","rxjs__WEBPACK_IMPORTED_MODULE_7__","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","rulemappingDetails","navSubscription","getNavParam","editruleMappingResp","getPrototypeOf","prototype","back","mdmtMessageMapping","gettingTranslationDataForDest","reopenBtn","authBtnHide","at","sourceRuleMappingArray","val","destinationRuleMappingArray","sweetalert2__WEBPACK_IMPORTED_MODULE_0___default","getRuleMappingDetails","editFetch","successMessage","edit","ruleMappingData","fetchDestination","destSys","rulemappingdest","rulemappingdestMapping","authorizeDone","editBtn","authBtn","deleted","closeBtn","editFlag","source","rulemappingData","forEach","tagName","dataType","routes","path","component","_rule_mapping_create_rule_mapping_create_component__WEBPACK_IMPORTED_MODULE_2__","canDeactivate","src_app_shared_guards_can_deactivate_guard__WEBPACK_IMPORTED_MODULE_0__","_rule_mapping_details_rule_mapping_details_component__WEBPACK_IMPORTED_MODULE_3__","_rule_mapping_rule_mapping_component__WEBPACK_IMPORTED_MODULE_4__","_conversion_conversion_component__WEBPACK_IMPORTED_MODULE_1__","RuleMappingRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_6__","imports","exports","RuleMappingModule","_angular_common__WEBPACK_IMPORTED_MODULE_7__","_rule_mapping_routing_module__WEBPACK_IMPORTED_MODULE_0__","angular_datatables__WEBPACK_IMPORTED_MODULE_4__","_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_9__","declarations","_rule_mapping_rule_mapping_component__WEBPACK_IMPORTED_MODULE_1__","_rule_mapping_details_rule_mapping_details_component__WEBPACK_IMPORTED_MODULE_2__","_rule_mapping_create_rule_mapping_create_component__WEBPACK_IMPORTED_MODULE_3__","_conversion_conversion_component__WEBPACK_IMPORTED_MODULE_5__","RuleMappingComponent","http","src_app_shared_config_app_constant__WEBPACK_IMPORTED_MODULE_0__","dtOptions","pagingType","pageLength","serverSide","columnDefs","type","targets","order","lengthMenu","ajax","dataTablesParameters","callback","minNumber","start","maxNumber","pageNo","Math","floor","pageSize","API_URL","statusArr","startsWith","totalPages","totalNoOfPages","totalRecords","ruleMappingListResp","isLoading","recordsTotal","recordsFiltered","firstTimeAuth","fetchingruleMapping","next","getruleMappingById","mappingDetailsArray","mdmtMessageMappingDet","queryParams","responseData","sendNavParam","navigate","sweetalert2__WEBPACK_IMPORTED_MODULE_2___default","window","location","reload"],"sources":["webpack:///src/app/views/rule-mapping/conversion/conversion.component.ts","webpack:///src/app/views/rule-mapping/conversion/conversion.component.html","webpack:///src/app/views/rule-mapping/rule-mapping-create/rule-mapping-create.component.html","webpack:///src/app/views/rule-mapping/rule-mapping-create/rule-mapping-create.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-details/rule-mapping-details.component.html","webpack:///src/app/views/rule-mapping/rule-mapping-details/rule-mapping-details.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-routing.module.ts","webpack:///src/app/views/rule-mapping/rule-mapping.module.ts","webpack:///src/app/views/rule-mapping/rule-mapping/rule-mapping.component.html","webpack:///src/app/views/rule-mapping/rule-mapping/rule-mapping.component.ts"],"sourcesContent":["\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, Validators } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Subject } from \"rxjs\";\r\nimport {\r\n  AddSystemService,\r\n  API_URL,\r\n} from \"src/app/shared/services/add-system.service\";\r\nimport { RuleService } from \"src/app/shared/services/rule.service\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n@Component({\r\n  selector: \"npr-conversion\",\r\n  templateUrl: \"./conversion.component.html\",\r\n  styleUrls: [\"./conversion.component.scss\"],\r\n})\r\nexport class ConversionComponent implements OnInit {\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  ruleMappingListResp: any = [];\r\n  dataResp:any;\r\n \r\n  conversionForm: any;\r\n\r\n  constructor(\r\n    private rulelist: RuleService,\r\n    private router: Router,\r\n    private addSystem: AddSystemService,\r\n    private fb: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.conversionForm = this.fb.group({\r\n      FCUBS_HEADER: [\"\", Validators.required],\r\n      Content_Type: [\"\"],\r\n    });\r\n  }\r\n  process() {\r\n      var xmlhttp = new XMLHttpRequest();\r\n      xmlhttp.open(\"POST\", `${API_URL}/message/readMessage`);\r\n      var xmlDoc;\r\n      var self = this;\r\n      xmlhttp.onreadystatechange = function () {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n          console.log(xmlhttp);\r\n          self.dataResp =this.response;\r\n         \r\n        \r\n        }\r\n        else if(xmlhttp.readyState == 4 && xmlhttp.status == 400) {\r\n          Swal.fire({text:\"Provided Input is incorrect\",\r\n        icon:'error'});\r\n          \r\n       }\r\n      };\r\n      if (this.conversionForm.value.Content_Type === \"json\") {\r\n      xmlhttp.setRequestHeader(\"Content-Type\", \"application/json\");\r\n      }\r\n      else if(this.conversionForm.value.Content_Type === \"xml\")\r\n      {\r\n        \r\n        xmlhttp.setRequestHeader(\"Content-Type\", \"application/xml\");\r\n      }\r\n      \r\n      xmlhttp.send(this.conversionForm.value.FCUBS_HEADER);\r\n    \r\n  }\r\n  onSelect(event){\r\n    this.conversionForm.get('FCUBS_HEADER').setValue('');\r\n    this.dataResp=null;\r\n  }\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Conversion</h2>\r\n  </div>\r\n  <div class=\"dbCardStyle\">\r\n    <div class=\"row g-3 pb-3 justify-content-end\"></div>\r\n    <form [formGroup]=\"conversionForm\" novalidate>\r\n      <div class=\"col-lg-3\">\r\n        <label style=\"font-weight: bold\">Content Type</label>\r\n        <select\r\n          formControlName=\"Content_Type\"\r\n          class=\"form-select\" (change)=\"onSelect($event)\"\r\n          aria-label=\"Default select example\">\r\n          <option value=\"xml\">Xml</option>\r\n          <option value=\"json\">Json</option>\r\n        </select>\r\n      </div>\r\n      <table style=\"width: 100%\">\r\n        <thead>\r\n          <tr>\r\n            <th>Request</th>\r\n            <th></th>\r\n            <th>Response Body</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr style=\"margin-top: 2%\">\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n                formControlName=\"FCUBS_HEADER\"\r\n              ></textarea>\r\n            </td>\r\n            <td>\r\n              <button\r\n                class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                [disabled]=\"!conversionForm.valid\"\r\n                (click)=\"process()\"\r\n              >\r\n                Process\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n              >{{ dataResp }}</textarea>\r\n             \r\n             \r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n    \r\n  </div>\r\n  <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n    \r\n    <div class=\"col-auto\">\r\n      <a [routerLink]=\"['/excel-mapping']\" routerLinkActive=\"router-link-active\"\r\n        class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping </h2>\r\n  </div>\r\n  <form class=\"formStyle\" [formGroup]=\"ruleMappingForm\" novalidate>\r\n    <fieldset [disabled]=\"!submit\">\r\n    <div class=\"dbCardStyle\">\r\n      <div class=\"addformCol\">\r\n        <div class=\"row g-4 align-items-center\">\r\n          <div class=\"col\">\r\n            <div class=\"row gy-4 align-items-end\">\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Source System<span class=\"colorRed\">*</span></label>\r\n                <!-- <ng-select formControlName=\"systemCode\" class=\"form-select\" aria-label=\"Default select example\" \r\n                        (change)=\"onSourseSelection($event)\"> -->\r\n                <ng-select formControlName=\"systemCode\" [clearable]=\"false\" aria-label=\"Default select example\" \r\n                        (change)=\"onSourseSelection($event)\">\r\n                        <ng-option hidden value=\"\" disabled selected >--Please select--</ng-option>\r\n                  <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\" [hidden]=\"extsys == sourseSys\">\r\n                      {{extsys}}\r\n                  </ng-option>\r\n                </ng-select>\r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Message Type<span class=\"colorRed\">*</span></label>\r\n               <div *ngIf=\"sourceMsg\">\r\n                <select formControlName=\"messageType\" class=\"form-select\" aria-label=\"Default select example\"\r\n                (change)=\"onSelectionOFMessageType($event)\">\r\n                <option hidden value=\"\" disabled selected >--Please select--</option>\r\n          <option value=\"I\">\r\n              Incoming\r\n            </option>\r\n            <option value=\"O\">\r\n              Outgoing\r\n            </option>\r\n        </select>\r\n               </div>\r\n               <div *ngIf=\"!sourceMsg\">\r\n                <input\r\n                type=\"text\"\r\n                formControlName=\"messageType\"\r\n                class=\"form-control\"\r\n                placeholder=\"Message Type\"\r\n                \r\n                />\r\n               </div>\r\n              \r\n              </div>\r\n              <!-- <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  formControlName=\"operationName\"\r\n                  name=\"operationNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Operation Name\"\r\n                  \r\n                  />\r\n              </div> -->\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Operation</label>\r\n                <div *ngIf=\"!multipleOperation\">\r\n                  <select\r\n                  id=\"ruleName\"\r\n                  formControlName=\"operationName\"\r\n                  class=\"form-select\"\r\n                  aria-label=\"Default select example\"\r\n                >\r\n                <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                  <option\r\n                    *ngFor=\"let opt of translationDataOperation\"\r\n                    [value]=\"opt.headerValue\"\r\n                  >\r\n                    {{ opt.headerValue }}\r\n                  </option>\r\n                </select>\r\n                </div>\r\n                <div *ngIf=\"multipleOperation\">\r\n                   \r\n                  <input\r\n                  id=\"ruleName\"\r\n                  type=\"text\"\r\n                  formControlName=\"operationName\"\r\n                  class=\"form-control\"\r\n                  value=\"\"\r\n                />\r\n                </div>\r\n             \r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Service</label>\r\n                <div *ngIf=\"!multipleService\">\r\n                  <select\r\n                  id=\"ruleName\"\r\n                  formControlName=\"serviceName\"\r\n                  class=\"form-select\"\r\n                  aria-label=\"Default select example\"\r\n                >\r\n                <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                  <option\r\n                    *ngFor=\"let serv of translationDataService\"\r\n                    [value]=\"serv.headerValue\"\r\n                  >\r\n                    {{ serv.headerValue }}\r\n                  </option>\r\n                </select>\r\n                </div>\r\n               \r\n                <div *ngIf=\"multipleService\">\r\n                   \r\n                  <input\r\n                  id=\"ruleName\"\r\n                  type=\"text\"\r\n                  formControlName=\"serviceName\"\r\n                  class=\"form-control\"\r\n                  value=\"\"\r\n                />\r\n                </div>\r\n              </div>\r\n              <!-- <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  name=\"serviceNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Service Name\"\r\n                  formControlName=\"serviceName\"\r\n                  \r\n                  />\r\n              </div> -->\r\n              <ng-container formGroupName=\"destinationSystems\">\r\n                  <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Destination System<span class=\"colorRed\">*</span></label>\r\n                      <!-- <ng-select formControlName=\"systemCode\" class=\"form-select\" aria-label=\"Default select example\" [items]=\"externalCreateSystemFiltered\"\r\n                              (change)=\"ondestinationSource($event)\">\r\n                              <ng-option hidden value=\"\" disabled selected >--Please select--</ng-option>\r\n                              <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\" [hidden]=\"extsys == sourseSys\">\r\n                                  {{extsys}}\r\n                              </ng-option>\r\n                      </ng-select> -->\r\n                      <!-- <ng-select [items]=\"externalCreateSystemFiltered\"\r\n                          class=\"form-select\"\r\n                          formControlName=\"systemCode\"\r\n                        (change)=\"ondestinationSource($event)\"> -->\r\n                      <ng-select [items]=\"externalCreateSystemFiltered\"\r\n                      [clearable]=\"false\"\r\n                          formControlName=\"systemCode\"\r\n                          placeholder=\"Please Select\"\r\n                        (change)=\"ondestinationSource($event)\">\r\n                      </ng-select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Message Type<span class=\"colorRed\">*</span></label>\r\n                      <div *ngIf=\"destinationMsg\">\r\n                        <select formControlName=\"messageType\" class=\"form-select\" aria-label=\"Default select example\"\r\n                        (change)=\"msgTypeOfDestination($event)\">\r\n                        <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                      <option value=\"I\">\r\n                          Incoming\r\n                        </option>\r\n                        <option value=\"O\">\r\n                          Outgoing\r\n                        </option>\r\n                  </select>\r\n                      </div>\r\n                      <div *ngIf=\"!destinationMsg\">\r\n                        <input\r\n                        type=\"text\"\r\n                        formControlName=\"messageType\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Message Type\"\r\n                        \r\n                        />\r\n                       </div>\r\n                   \r\n                    </div>\r\n                    <!-- <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                      <input\r\n                          type=\"text\"\r\n                          id=\"ruleName\"\r\n                          name=\"operationNameD\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Service Name\"\r\n                          formControlName=\"operationName\"\r\n                          \r\n                          />\r\n                    </div> -->\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Operation</label>\r\n                      <div *ngIf=\"!multipleOperation\">\r\n                        <select\r\n                        id=\"ruleName\"\r\n                        formControlName=\"operationName\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                      <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                        <option\r\n                          *ngFor=\"let opt of translationDestDataOperation\"\r\n                          [value]=\"opt.headerValue\"\r\n                        >\r\n                          {{ opt.headerValue }}\r\n                        </option>\r\n                      </select>\r\n                      </div>\r\n                      <div *ngIf=\"multipleOperation\">\r\n                         \r\n                        <input\r\n                        id=\"ruleName\"\r\n                        type=\"text\"\r\n                        formControlName=\"operationName\"\r\n                        class=\"form-control\"\r\n                        value=\"\"\r\n                      />\r\n                      </div>\r\n                   \r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Service</label>\r\n                      <div *ngIf=\"!multipleService\">\r\n                        <select\r\n                        id=\"ruleName\"\r\n                        formControlName=\"serviceName\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                      <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                        <option\r\n                          *ngFor=\"let serv of translationDestDataService\"\r\n                          [value]=\"serv.headerValue\"\r\n                        >\r\n                          {{ serv.headerValue }}\r\n                        </option>\r\n                      </select>\r\n                      </div>\r\n                     \r\n                      <div *ngIf=\"multipleService\">\r\n                         \r\n                        <input\r\n                        id=\"ruleName\"\r\n                        type=\"text\"\r\n                        formControlName=\"serviceName\"\r\n                        class=\"form-control\"\r\n                        value=\"\"\r\n                      />\r\n                      </div>\r\n                    </div>\r\n                    <!-- <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                      <input\r\n                          type=\"text\"\r\n                          id=\"ruleName\"\r\n                          name=\"serviceNameD\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Service Name\"\r\n                          formControlName=\"serviceName\"\r\n                          \r\n                          />\r\n                    </div> -->\r\n              </ng-container>\r\n            \r\n              <div class=\"col-lg-3\">\r\n                  <!-- [disabled]=\"!ruleMapping.valid ||showfetchAll\" -->\r\n                <!-- <button  (click)=\"fetchDestination()\" \r\n                [disabled]=\"ruleMappingForm.invalid\"\r\n                        class=\"btn minWdSmBtn btnPrimary\"> -->\r\n\r\n                        <button  (click)=\"fetchDestination()\" \r\n                        class=\"btn minWdSmBtn btnPrimary\">\r\n                        Fetch\r\n                </button>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"dbCardStyle\" *ngIf=\"showSource ||showDestination\">\r\n      <div class=\"addformCol\" formArrayName=\"rulemappingDetail\">\r\n          <ng-container *ngFor=\"let item of rulemappingDetail.controls; let i = index\">\r\n              <ng-container [formGroupName]=\"i\" >\r\n                  <div class=\"row align-items-center\" >\r\n                      <div class=\"col\">\r\n                        <div class=\"row gy-4\">\r\n                          <div class=\"col-lg-4\">\r\n                            <label *ngIf=\"i == 0\" for=\"roleName\" class=\"formLbl\" >Source System<span class=\"colorRed\">*</span></label>\r\n                            <div class=\"row gy-4\">\r\n                              <div class=\"col-lg-12\">\r\n                                  <ng-container *ngIf=\"sourceLabel=='TCP/IP'\">\r\n                                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Field No<span class=\"colorRed\">*</span></label>\r\n                                      <select formControlName=\"sourceKey\"  (change)=\"onselectOfFieldNo($event,i)\" class=\"form-select\" aria-label=\"Default select example\">\r\n                                          <option *ngFor=\"let tag of updateRuleMappingSrc\" [hidden]=\"try(tag.messagebasis)\" [value]=\"tag.messagebasis\">{{tag.messagebasis}}</option>\r\n                                        </select>\r\n                                  </ng-container>\r\n                                  <ng-container *ngIf=\"sourceLabel=='JSON'\">\r\n                                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Key<span class=\"colorRed\">*</span></label>\r\n                                      <select formControlName=\"sourceKey\" (change)=\"onselectOfFieldNo($event,i)\" class=\"form-select\" aria-label=\"Default select example\">\r\n                                          <option *ngFor=\"let tag of updateRuleMappingSrc\" [hidden]=\"try(tag.messagebasis)\" [value]=\"tag.messagebasis\">{{tag.messagebasis}}</option>\r\n                                        </select>\r\n                                  </ng-container>\r\n                                  <ng-container *ngIf=\"sourceLabel=='XML'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Tag<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"sourceKey\" (change)=\"onselectOfFieldNo($event,i)\" class=\"form-select\" aria-label=\"Default select example\">\r\n                                        <option *ngFor=\"let tag of updateRuleMappingSrc\" [hidden]=\"try(tag.messagebasis)\" [value]=\"tag.messagebasis\">{{tag.messagebasis}}</option>\r\n                                      </select>\r\n                                </ng-container>\r\n                                  <ng-container *ngIf=\"sourceLabel=='DB Connection'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Column Name<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"sourceKey\" (change)=\"onselectOfFieldNo($event,i)\" class=\"form-select\" aria-label=\"Default select example\">\r\n                                        <option *ngFor=\"let tag of updateRuleMappingSrc\" [hidden]=\"try(tag.messagebasis)\" [value]=\"tag.messagebasis\">{{tag.messagebasis}}</option>\r\n                                      </select>\r\n                                </ng-container>\r\n                                 \r\n                               \r\n                              </div>\r\n                              <!-- <div class=\"col-lg-6\">\r\n                                <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                  <option selected>Field Name</option>\r\n                                  <option value=\"1\">One</option>\r\n                                  <option value=\"2\">Two</option>\r\n                                  <option value=\"3\">Three</option>\r\n                                </select>\r\n                              </div> -->\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-lg-4\">\r\n                            <label for=\"roleName\" *ngIf=\"i == 0\" class=\"formLbl\">Destination system</label>\r\n                            <div class=\"row gy-4\">\r\n                              <div class=\"col-lg-12\">\r\n                                  <ng-container *ngIf=\"labelsDestination=='TCP/IP'\">\r\n                                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Field No<span class=\"colorRed\">*</span></label>\r\n                                      <select formControlName=\"destinationKey\"  (change)=\"onselectOfFieldNo2($event,i)\" class=\"form-select \" aria-label=\"Default select example\">\r\n                                          <option *ngFor=\"let fname of updateRuleMappingDest;let i=index\" [hidden]=\"try2(fname.messagebasis)\" [value]=\"fname.messagebasis\">\r\n                                               {{fname.messagebasis}}</option>\r\n                                        </select>\r\n                                  </ng-container>\r\n                                  <ng-container *ngIf=\"labelsDestination=='JSON'\">\r\n                                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Key<span class=\"colorRed\">*</span></label>\r\n                                      <select formControlName=\"destinationKey\" (change)=\"onselectOfFieldNo2($event,i)\" class=\"form-select\" aria-label=\"Default select example\">\r\n                                          <option *ngFor=\"let fname of updateRuleMappingDest;let i=index\" [hidden]=\"try2(fname.messagebasis)\" [value]=\"fname.messagebasis\">\r\n                                         {{fname.messagebasis}}</option>\r\n                                        </select>\r\n                                  </ng-container>\r\n                                  <ng-container *ngIf=\"labelsDestination=='XML'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Tag<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"destinationKey\" (change)=\"onselectOfFieldNo2($event,i)\" class=\"form-select\" aria-label=\"Default select example\">\r\n                                        <option *ngFor=\"let fname of updateRuleMappingDest;let i=index\" [hidden]=\"try2(fname.messagebasis)\" [value]=\"fname.messagebasis\">\r\n                                       {{fname.messagebasis}}</option>\r\n                                      </select>\r\n                                </ng-container>\r\n                                  <ng-container *ngIf=\"labelsDestination=='DB Connection'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Column Name<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"destinationKey\" (change)=\"onselectOfFieldNo2($event,i)\" class=\"form-select\" aria-label=\"Default select example\">\r\n                                        <option *ngFor=\"let tag of updateRuleMappingDest\" [hidden]=\"try2(tag.messagebasis)\" [value]=\"tag.messagebasis\">{{tag.messagebasis}}</option>\r\n                                      </select>\r\n                                </ng-container>\r\n                              </div>\r\n                              <!-- <div class=\"col-lg-6\">\r\n                                <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                  <option selected>Tag Name</option>\r\n                                  <option value=\"1\">One</option>\r\n                                  <option value=\"2\">Two</option>\r\n                                  <option value=\"3\">Three</option>\r\n                                </select>\r\n                              </div> -->\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-lg-4\">\r\n                            <label for=\"roleName\" *ngIf=\"i == 0\" class=\"formLbl\">Default value<span class=\"colorRed\">*</span></label>\r\n                            <div class=\"row gy-4\">\r\n                              <div class=\"col-lg-12\">  \r\n                                <ng-container>\r\n                                  <input\r\n                                  type=\"text\"\r\n                                  id=\"defaultVal\"\r\n                                  [ngClass]=\"{first: i === 0, 'form-control': true, path: true}\"\r\n                                  formControlName=\"defaultValue\"\r\n                                  placeholder=\"Default value\"\r\n                                /> \r\n                              </ng-container>                              \r\n                                                              \r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-lg-4\">\r\n                        <div>\r\n                          <a *ngIf=\"submit\" (click)=\"deleteRuleMapGroup(i)\" class=\"deleteIcon2\" style=\"cursor: pointer;\">\r\n                            <img src=\"assets/images/delete-icon.svg\" [ngClass]=\"{'first-image': i === 0, 'image': true}\" alt=\"...\" class=\"image\">\r\n                          </a>\r\n                        </div>\r\n                       </div>\r\n                    </div>\r\n                    <!-- <br> -->\r\n                   \r\n              </ng-container>\r\n          </ng-container>\r\n      </div>\r\n      <div class=\"row g-3 pt-4\">\r\n          <div >\r\n            <a *ngIf=\"submit\" (click)=\"addRuleDetail()\" class=\"addIcon primarybg\">\r\n              <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\"></span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    </fieldset>\r\n      <div class=\"row g-3 pb-3 pt-4 justify-content-end\">\r\n        <div class=\"col-auto\" *ngIf=\"(addSysRespData?.recordStatus=='O' || addSysRespData?.recordStatus=='OPEN') && roleCodes.edit\" [hidden]=\"submit\">\r\n          <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n            {{roleCodes.edit.labelDescription}}\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <button (click)=\"onsaveRuleMapping()\" [hidden]=\"!submit\" [disabled]=\"ruleMappingForm.invalid\" class=\"btn smBtn minWdSmBtn btnPrimary\">\r\n              Save\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData?.approvedStatus =='U' || addSysRespData?.approvedStatus =='UNAUTHORIZED') && roleCodes.auth\">\r\n          <button (click)=\"auditChangeRuleTranslation('auth')\" class=\"btn smBtn minWdSmBtn btnAuth\" \r\n            >{{roleCodes.auth.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData?.recordStatus=='O' ||addSysRespData?.recordStatus=='OPEN') && (addSysRespData?.approvedEver != 'NO' && addSysRespData?.approvedEver != 'N') && roleCodes.close\">\r\n          <button (click)=\"auditChangeRuleTranslation('close')\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            >{{roleCodes.close.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\" (addSysRespData?.recordStatus=='C' || addSysRespData?.recordStatus=='CLOSED') && (addSysRespData?.approvedEver != 'NO' && addSysRespData?.approvedEver != 'N') && roleCodes.reopen\">\r\n          <button (click)=\"auditChangeRuleTranslation('open')\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            >{{roleCodes.reopen.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData?.approvedEver=='NO' || addSysRespData?.approvedEver=='N') && roleCodes.delete\">\r\n          <button (click)=\"deleteRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            >{{roleCodes.delete.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <button class=\"btn smBtn minWdSmBtn btnSecondary\" [routerLink]=\"['/rule-mapping/summary']\">Exit</button>\r\n        </div>\r\n        <!-- <div class=\"col-auto\">\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnSecondary\" (click)=\"onReset()\"\r\n            >Reset</button\r\n          >\r\n        </div> -->\r\n      </div>    \r\n  </form>\r\n</div>\r\n<div *ngIf=\"!submit\" class=\"dbCardStyle mt-20\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n              <i class=\"fa fa-edit faClass\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker</h2>\r\n              <p>{{addSysRespData?.creatorId}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n              <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\">\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker Time Stamp</h2>\r\n              <p>{{addSysRespData?.createdTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n              <i class=\"fa fa-files-o faRecordStatus\" aria-hidden=\"true\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Record Status</h2>\r\n              <p>{{addSysRespData?.recordStatus == 'O' ? 'OPEN' : (addSysRespData?.recordStatus == 'C' ? 'CLOSED' : addSysRespData?.recordStatus)}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n            <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker</h2>\r\n              <p>{{addSysRespData?.approverId}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n               <img src=\"assets/images/modification.svg\" class=\"modImage\" alt=\"...\" >\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker Time Stamp</h2>\r\n              <p>{{addSysRespData?.approvedTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n            </div>\r\n          </div>\r\n      \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n              <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\">\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>First Time Authorization</h2>\r\n              <p>{{addSysRespData?.approvedEver == 'N'? 'NO' : (addSysRespData?.approvedEver == 'Y'? 'YES' : addSysRespData?.approvedEver)}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n        <i class=\"fa fa-shield faClassFirstTimeAuth\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Authorization Status</h2>\r\n              <p>{{addSysRespData?.approvedStatus == 'N' || addSysRespData?.approvedStatus == 'U' ? 'UNAUTHORIZED' : (addSysRespData?.approvedStatus == 'Y' || addSysRespData?.approvedStatus == 'A' ? 'AUTHORIZED' : addSysRespData?.approvedStatus)}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n             <img src=\"assets/images/authorize.svg\" alt=\"...\" class=\"modImage\">\r\n            </div>\r\n          </div>\r\n        \r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Modification Number</h2>\r\n              <p>{{addSysRespData?.versionNo}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { ToastService } from 'src/app/shared/services/toast.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\n@Component({\r\n  selector: 'npr-rule-mapping-create',\r\n  templateUrl: './rule-mapping-create.component.html',\r\n  styleUrls: ['./rule-mapping-create.component.scss']\r\n})\r\nexport class RuleMappingCreateComponent implements OnInit ,IDeactivateComponent{\r\n\r\n  showDestination: boolean;\r\n  xmlDestination: any;\r\n  sourceIsoResp: any;\r\n  externalSystem: any;\r\n  showSource: boolean;\r\n  fieldNoData: any = [];\r\n  disableFetchBtn: boolean = false;\r\n  disableSubmitBtn: boolean = false;\r\n  disableResetBtn: boolean = false;\r\n  addSysRespData: any;\r\n  showAuditLog: boolean = false;\r\n  sourcesysdata: any;\r\n  isSelected:boolean =true;\r\n  ruleMappingDataForPayload: any;\r\n\r\n  hideFetch:boolean=false;\r\n  hideSubmit:boolean=false;\r\n  mappingId : any;\r\n\r\n\r\n  fieldValueData: any = [];\r\n  showFieldNoValue: any = 1;\r\n  xmlLength: any = [];\r\n  temparray: any[] = [];\r\n\r\n  tempArrayList : any[] = [];\r\n  tempArrayList2 : any[] = [];\r\n\r\n  // rulemapping = new MdmtMessageMapping();\r\n  rulemapping :any;\r\n  rulemappingDest = new MdmtMessageMapping();\r\n  mappingObj = new MdmtMessageMapping();\r\n  addForm: FormGroup;\r\n  isoRespData: any;\r\n  sourseSys: any;\r\n  currentUser: string;\r\n  sourceoperation: Object;\r\n  destinationSource: any;\r\n  destinationOperation: Object;\r\n  messageBasisIso: any = [];\r\n  tagName: any;\r\n  sourceService: any;\r\n  destinationService: any;\r\n  destinationData: any = [];\r\n  sourceData: any = [];\r\n  rulemappingData: any[];\r\n  matLabel: string;\r\n  matLabel2: string;\r\n  labelsDestination: any;\r\n  sourceLabel: any;\r\n  matlabelSource1: string;\r\n  matlabelSource2: string;\r\n  ruleDto = new ruleMapDto();\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  afterSubmit: boolean = false;\r\n  showfetchAll: boolean;\r\n  ruleMappingForm:FormGroup;\r\n  submit: boolean=true;\r\n  roleCodes = new permissionsLabels();\r\n  formTouched: boolean=true;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  // externalsystem: any = [];\r\n  externalCreateSystemFiltered: any[] = [];\r\n  updateRuleMappingSrc: any;\r\n  updateRuleMappingDest: any;\r\n  sourceMsg: boolean = true;\r\n  destinationMsg: boolean = true;\r\n  translationDataService: any;\r\n  translationDataOperation: any;\r\n  translationDestDataOperation:any;\r\n  translationDestDataService:any;\r\n  multipleOperation: boolean = true;\r\n  multipleService: boolean = true;\r\n\r\n\r\n  constructor(private rulemap: RuleService,\r\n              private router: Router,\r\n              private roleService : RoleService,\r\n              private fb: FormBuilder, \r\n              private addSystem: AddSystemService,\r\n              private formBuilder:FormBuilder,private cdr: ChangeDetectorRef,\r\n              private toastService:ToastService,private canDeactivateGuard: CanDeactivateGuard) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n    this.gettingExternalsystem();\r\n    this.ruleMappingForm = this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      destinationSystems: this.getDestinationItem(),\r\n      rulemappingDetail: this.formBuilder.array([]),\r\n    });\r\n\r\n\r\n    this.addRuleDetail();\r\n \r\n   \r\n    this.fetchingIso();\r\n\r\n    this.roleService.fetchScreenPermissions('Rule Mapping');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n  }\t\r\n\r\n\r\n\r\n  getDestinationItem() {\r\n    return this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n    });\r\n  }\r\n  canExit() : Promise<boolean> {\r\n    let isExit :boolean = false;\r\n    if (this.ruleMappingForm.touched && this.formTouched==true)  {\r\n    return Swal.fire({ \r\n      text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#E6224A',\r\n      cancelButtonColor: '#011945',\r\n      cancelButtonText: 'NO',\r\n      confirmButtonText: 'YES',\r\n      icon: 'info',\r\n    }).then((result) => {\r\n      if (result.isConfirmed === true) {\r\n        isExit=true;\r\n        this.cdr.markForCheck();\r\n           return isExit;\r\n      }\r\n      else{\r\n        isExit=false;\r\n        this.cdr.markForCheck();\r\n        return isExit;\r\n      }\r\n    \r\n    });\r\n  }\r\n else{\r\n  isExit=true;\r\n  return new Promise((resolve, reject) => {\r\n    if (isExit === true) {\r\n      isExit=true;\r\n      this.cdr.markForCheck();\r\n      resolve(true);\r\n    }\r\n  \r\n  })\r\n }\r\n    }\r\n  auditChangeRuleTranslation(operation) {\r\n    let message = '';\r\n    let operationType = '';\r\n    switch (operation) {\r\n      case 'open':\r\n        message = 'opened'\r\n        operationType = 'open'\r\n        break;\r\n      case 'close':\r\n        message = 'closed'\r\n        operationType = 'close'\r\n        break;\r\n      case 'auth':\r\n        message = 'authorized'\r\n        operationType = 'authorize'\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    Swal.fire(\r\n      {\r\n        text: `You are trying to ${operationType} record. ` + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.addSysRespData.creatorId) {\r\n          Swal.fire(`Maker cannot ${operationType} the record!`);\r\n        }\r\n        else {\r\n          let payloadObj: any = {};\r\n          payloadObj = this.ruleMappingDataForPayload;\r\n          payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n          this.rulemap.editRuleMapping(operation, this.currentUser, payloadObj).subscribe((resp) => {\r\n            this.addSysRespData = resp;\r\n            Swal.fire({ text: `Record is ${message}` });\r\n          });\r\n        }\r\n      }\r\n    }))\r\n  }\r\n\r\n  deleteRuleMapping() {\r\n    Swal.fire(\r\n      {\r\n        text: 'You are trying to delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        this.rulemap.ondeleteMapping(this.addSysRespData.mappingId, this.currentUser).subscribe((resp) => {\r\n          if (resp) {\r\n            Swal.fire({\r\n              title: 'Record is Deleted',\r\n              confirmButtonText: 'Ok'\r\n            }).then((result) => {\r\n              if (result) {\r\n                this.router.navigateByUrl('/rule-mapping/summary')\r\n              }\r\n            });\r\n\r\n          }\r\n          else {\r\n            Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  editValues(){\r\n    this.hideFetch=true;\r\n    this.hideSubmit=true;\r\n    this.submit = true;\r\n    this.ruleMappingForm.enable();\r\n  }\r\n  auditLog() {\r\n    if (this.addSysRespData.authStatus =='U' || this.addSysRespData.authStatus =='Unauthorized') {\r\n      this.addSysRespData.authStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (this.addSysRespData.authStatus == 'A' || this.addSysRespData.authStatus == 'Authorized') {\r\n      this.addSysRespData.authStatus = 'AUTHORIZED'\r\n    }\r\n    if (this.addSysRespData.recordStatus == 'O' || this.addSysRespData.recordStatus == 'Open') {\r\n      this.addSysRespData.recordStatus = 'OPEN'\r\n    }\r\n    if (this.addSysRespData.recordStatus == 'C' || this.addSysRespData.recordStatus == 'Close') {\r\n      this.addSysRespData.recordStatus = 'CLOSED'\r\n    }\r\n    if (this.addSysRespData.approvedEver == 'N' ||this.addSysRespData.approvedEver == 'No' ) {\r\n      this.addSysRespData.approvedEver = 'NO'\r\n    }\r\n    if (this.addSysRespData.approvedEver == 'Y') {\r\n      this.addSysRespData.approvedEver = 'YES'\r\n    }\r\n  }\r\n\r\n  getRuleMappingDetail() {\r\n    return this.formBuilder.group({\r\n      id: [''],\r\n      defaultValue: [\"\", Validators.required],\r\n      messageMappingId: [''],\r\n      sourceTransDetId: [''],\r\n      targetTransDetId:[''],\r\n      sourceKey:[\"\", Validators.required],\r\n      destinationKey:[\"\", Validators.required]\r\n    });\r\n  }\r\n\r\n  indexTracker(index: number, value: any) {\r\n    return index;\r\n  }\r\n\r\n  get rulemappingDetail() {\r\n    return this.ruleMappingForm.get('rulemappingDetail') as FormArray;\r\n  }\r\n\r\n  addRuleDetail() {\r\n    this.rulemappingDetail.push(this.getRuleMappingDetail());\r\n    console.log(this.rulemappingDetail.value);\r\n  }\r\n\r\n  deleteRuleMapGroup(index: number) {\r\n    if(this.tempArrayList[index]){\r\n      this.tempArrayList.splice(index, 1);\r\n    }\r\n    if(this.tempArrayList2[index]){\r\n      this.tempArrayList2.splice(index, 1);\r\n    }\r\n    this.rulemappingDetail.removeAt(index);\r\n  }\r\n\r\n\r\n  gettingExternalsystem() {\r\n    this.rulemap.gettingExternalsystem().subscribe(extSysResp => {\r\n      console.log(extSysResp);\r\n      this.externalSystem = extSysResp.sort();\r\n      this.sourcesysdata = this.externalSystem;\r\n      this.temparray = this.externalSystem;\r\n      this.externalCreateSystemFiltered = this.externalSystem;\r\n      console.log(this.externalSystem);\r\n      console.log(this.externalCreateSystemFiltered);\r\n    },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      })\r\n  }\r\n\r\n\r\n  fetchDestination() {\r\n    console.log(this.rulemapping);\r\n    console.log(\"Mapping\",this.ruleMappingForm.value);\r\n    this.disableFetchBtn = true;\r\n    this.showfetchAll = true;\r\n    this.showDestination = true;\r\n    this.showSource = true;\r\n    // this.rulemappingDetail = this.ruleMappingDataForPayload.msgMappingDetails;\r\n    // for (let index = 0; index < this.rulemappingDetail.length; index++) {\r\n    //   this.addRuleDetail();\r\n    //   const item = this.rulemappingDetail[index];\r\n    //   this.rulemappingDetails.at(index).patchValue(item);\r\n    //   console.log(\"Rule Mapping: \", this.rulemappingDetails);\r\n    // }\r\n  }\r\n\r\n  onFieldNameChange(event) {\r\n    console.log(event.value);\r\n    let value = event.value;\r\n    if (event.value) {\r\n      var item = this.sourceIsoResp.find(element => element.fieldValue == value);\r\n      console.log(item);\r\n      this.showFieldNoValue = item.fieldNo;\r\n      console.log(\"ssss\", this.showFieldNoValue);\r\n    }\r\n  }\r\n\r\n  fetchingIso() {\r\n    this.addSystem.fetchingIsoForTcp().subscribe(isoResp => {\r\n      console.log(\"iss\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      // this.fieldNoData=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldNoData = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldValueData = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n    })\r\n\r\n  }\r\n\r\n\r\n  onSourseSelection(event: any) {\r\n    console.log(event);\r\n    this.sourseSys = event;\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    console.log(this.externalSystem);\r\n    console.log(this.sourseSys);\r\n    this.externalCreateSystemFiltered = this.externalSystem.filter((system) => system !== this.sourseSys);\r\n    // this.externalCreateSystemFiltered = this.externalsystem\r\n    // this.selectedExternalSystems = this.externalsystem.filter((system) => system !== this.sourseSys)\r\n    // this.systemName = event.value;\r\n    this.rulemap.gettingTranslationData(this.sourseSys).subscribe(resp => {\r\n      console.log(resp);\r\n      if (resp != null) {\r\n        this.showfetchAll = false;\r\n        this.rulemapping = resp;\r\n        this.sourcesysdata = resp;\r\n        console.log(\"RuleMapping Res::\",this.rulemapping.messageType);\r\n        if(this.rulemapping.messageType){\r\n          if(this.rulemapping.messageType == 'I'){\r\n            this.rulemapping.messageType='Incoming';\r\n          }\r\n          if(this.rulemapping.messageType == 'O'){\r\n            this.rulemapping.messageType='OutGoing';\r\n          }\r\n          this.sourceMsg=false;\r\n        }\r\n        this.ruleMappingForm.patchValue(this.rulemapping);\r\n        if(this.rulemapping.messageType){\r\n          if(this.rulemapping.messageType== 'Incoming'){\r\n            this.rulemapping.messageType='I';\r\n          }\r\n          if(this.rulemapping.messageType == 'OutGoing'){\r\n            this.rulemapping.messageType='O';\r\n          }\r\n          this.sourceMsg=false;\r\n        }\r\n        this.gettingoperationAandserv(resp.systemCode, resp.messageType)\r\n        this.rulemapping.sourceTranslationId = resp.transId;\r\n     \r\n        // this.rulemappingDetail=resp.msgTransDetails;\r\n        resp.msgTransDetails.map(el => {\r\n          this.sourceTransDetId = el.translationId\r\n        });\r\n      }\r\n      else {\r\n        this.showfetchAll = true;\r\n      }\r\n\r\n\r\n    }, (err) => {\r\n      this.showfetchAll = true;\r\n    })\r\n    this.externalSystem = this.temparray\r\n  }\r\n  onsearchingTablName(event) {\r\n    console.log(event.target.value);\r\n    console.log(\"this is arr\", this.sourcesysdata);\r\n    if (this.sourcesysdata) {\r\n      let data = this.sourcesysdata.filter(function (e) {\r\n        let extValue = e.toLowerCase();\r\n\r\n        let value = event.target.value.toLowerCase();\r\n        console.log(extValue, value);\r\n        // return !extValue.indexOf(value);//changed this for 1192\r\n        return extValue.search(value) > -1\r\n      });\r\n      console.log(data);\r\n      this.externalSystem = data;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  onSelectionOFMessageType(event: any) {\r\n    console.log(\"e\", event);\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    this.gettingoperationAandserv(this.sourseSys, event.value)\r\n  }\r\n\r\n  gettingoperationAandserv(system, msgtype) {\r\n    // console.log(system);\r\n    this.rulemap.gettingoperationAndService(system, msgtype, this.currentUser).subscribe(sourceResp => {\r\n      console.log(sourceResp);\r\n    \r\n      this.showfetchAll = false;\r\n         \r\n      this.sourceoperation = sourceResp.OPERATION;\r\n      this.sourceService = sourceResp.SERVICE;\r\n      this.sourceData = sourceResp.MdmtSystemService;\r\n      // console.log(\"SourceData\",this.sourceData);\r\n      // console.log(\"Rule Mapping Before\",this.rulemapping.msgTransDetails);\r\n      this.updateRuleMappingSrc=this.rulemapping.msgTransDetails;\r\n      this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageChannel;\r\n        \r\n      if(this.sourceLabel ===  'Https/Http' ){\r\n        this.sourceLabel =sourceResp.MdmtSystemChannel[0].messageFormat;\r\n      }\r\n      let keys = Object.keys(sourceResp);\r\n      let x = keys[2];\r\n      let y = keys[3];\r\n      console.log(x);\r\n      if ((x == 'I' || x == 'O') && Object.keys(sourceResp).length == 3) {\r\n        console.log(sourceResp);\r\n        if(sourceResp.I){\r\n        if (sourceResp.I.SERVICE.length !== 0) {\r\n          this.translationDataService = sourceResp.I.SERVICE;\r\n          if(sourceResp.I.SERVICE.length  < 1){\r\n            console.log(this.translationDataService ,\"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n          if(sourceResp.I.SERVICE.length  >= 1){\r\n            console.log(this.translationDataService,\"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n        }\r\n      }\r\n      if(sourceResp.O){\r\n        if (sourceResp.O.SERVICE.length !== 0) {\r\n          this.translationDataService = sourceResp.O.SERVICE;\r\n          if(sourceResp.O.SERVICE.length  < 1){\r\n            console.log(this.translationDataService ,\"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n          if(sourceResp.O.SERVICE.length  >= 1){\r\n            console.log(this.translationDataService,\"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n        }\r\n      }\r\n        if(sourceResp.I){\r\n        if (sourceResp.I.OPERATION.length !== 0) {\r\n          this.translationDataOperation = sourceResp.I.OPERATION;\r\n      //  console.log(this.translationDataOperation);\r\n          if(this.translationDataOperation.length < 1){\r\n            console.log(this.translationDataOperation ,\"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if(this.translationDataOperation.length >= 1){\r\n            console.log(this.translationDataOperation,\"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n      }\r\n      if(sourceResp.O){\r\n        if (sourceResp.O.OPERATION.length !== 0) {\r\n          this.translationDataOperation = sourceResp.O.OPERATION;\r\n      //  console.log(this.translationDataOperation);\r\n          if(this.translationDataOperation.length < 1){\r\n            console.log(this.translationDataOperation ,\"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if(this.translationDataOperation.length >= 1){\r\n            console.log(this.translationDataOperation,\"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n      }\r\n        // this.translationDataService = sourceResp.I.SERVICE\r\n      }\r\n      console.log(this.translationDataService,\"Source service\");\r\n      console.log(this.translationDataOperation,\"Source operation\");\r\n      // for(let g = 0 ; g< this.sourceData.length;g++){\r\n      //   // console.log(\"messageBasisIso\", this.sourceData[g].dataType);\r\n      //   this.updateRuleMappingSrc.push({\r\n      //     dataType: this.sourceData[g].dataType,\r\n      //     defaultValue: null,\r\n      //     encryption: this.sourceData[g].encryption,\r\n      //     id: this.sourceData[g].channelId,\r\n      //     messageKey: this.sourceData[g].messageKey,\r\n      //     messagebasis: this.sourceData[g].messageBasis,\r\n      //     transId: this.sourceData[g].serviceId,\r\n      //     translationId: 0,\r\n      //     versionNo: 1});\r\n        \r\n      //  }\r\n       console.log(\"Rule Mapping After\",this.updateRuleMappingSrc);\r\n      if(this.sourceLabel == 'DB Connection'){\r\n       for (let index = 0; index < this.sourceData.length; index++) {\r\n       this.sourceData[index].messageKey= this.sourceData[index].messageKey.split(\",\")   \r\n       }\r\n       \r\n      }\r\n        \r\n      if (this.sourceLabel == 'Https/Http') {\r\n        this.sourceLabel =sourceResp.MdmtSystemChannel[0].messageFormat;\r\n        this.matlabelSource1 = \"Tag\";\r\n        this.matlabelSource2 = null;\r\n      }\r\n      if (this.sourceLabel == 'TCP/IP') {\r\n        this.matlabelSource1 = \"Filed No\";\r\n        this.matlabelSource2 = \"Filed Name\";\r\n      }\r\n      // this.translationData=translationResp;\r\n    }, (err => {\r\n      console.log(err);\r\n      // Swal.fire({ text: 'External system data not present.' });\r\n      this.showfetchAll = true;\r\n    }))\r\n  }\r\n\r\n\r\n  ondestinationSource(event) {\r\n    \r\n    console.log(event.value);\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    this.destinationSource = event;\r\n    this.externalCreateSystemFiltered = this.externalSystem.filter((system) => system !== this.sourseSys)\r\n\r\n    this.rulemap.gettingTranslationData(this.destinationSource).subscribe(resp => {\r\n      console.log(resp.msgTransDetails[0].transId);\r\n      if (resp != null) {\r\n        this.showfetchAll = false;\r\n        this.rulemappingDest = resp;\r\n        console.log(this.rulemappingDest);\r\n        if(this.rulemappingDest.messageType){\r\n          if(this.rulemappingDest.messageType == 'I'){\r\n            this.rulemappingDest.messageType='Incoming';\r\n          }\r\n          if(this.rulemappingDest.messageType == 'O'){\r\n            this.rulemappingDest.messageType='OutGoing';\r\n          }\r\n          this.destinationMsg=false;\r\n        }\r\n        // this.rulemapping.targetTranslationId = resp.transId;\r\n        this.ruleMappingForm.get('destinationSystems').patchValue(this.rulemappingDest);\r\n        resp.msgTransDetails.map(el => {\r\n          this.targetTransDetId = el.translationId\r\n        });\r\n        if(this.rulemappingDest.messageType){\r\n          if(this.rulemappingDest.messageType== 'Incoming'){\r\n            this.rulemappingDest.messageType='I';\r\n          }\r\n          if(this.rulemappingDest.messageType == 'OutGoing'){\r\n            this.rulemappingDest.messageType='O';\r\n          }\r\n          this.sourceMsg=false;\r\n        }\r\n         if(this.rulemappingDest.messageType){\r\n          if(this.rulemappingDest.messageType== 'Incoming'){\r\n            this.rulemappingDest.messageType='I';\r\n          }\r\n          if(this.rulemappingDest.messageType == 'OutGoing'){\r\n            this.rulemappingDest.messageType='O';\r\n          }\r\n          this.sourceMsg=false;\r\n        }\r\n        this.gettingmsgTypeAndDestination(resp.systemCode, resp.messageType)\r\n      }\r\n      else {\r\n        this.showfetchAll = true;\r\n      }\r\n    }, (err) => {\r\n      this.showfetchAll = true;\r\n    })\r\n    this.externalSystem = this.temparray\r\n  }\r\n\r\n  msgTypeOfDestination(event) {\r\n    console.log(event.value);\r\n    this.showDestination = false;\r\n    this.showSource = false;\r\n    this.gettingmsgTypeAndDestination(this.destinationSource, event.value);\r\n  }\r\n\r\n\r\n  gettingmsgTypeAndDestination(destinationSource, msgtype) {\r\n    this.rulemap.gettingoperationAndService(destinationSource, msgtype, this.currentUser).subscribe(destinationResp => {\r\n      console.log(destinationResp);\r\n      this.showfetchAll = false;\r\n      this.destinationOperation = destinationResp.OPERATION;\r\n      this.destinationService = destinationResp.SERVICE;\r\n      this.destinationData = destinationResp.MdmtSystemService;\r\n      this.updateRuleMappingDest=this.rulemappingDest.msgTransDetails;\r\n      let keys = Object.keys(destinationResp);\r\n      let x = keys[2];\r\n      let y = keys[3];\r\n      if ((x == 'I' || x == 'O') && Object.keys(destinationResp).length == 3) {\r\n        console.log(destinationResp);\r\n        if(destinationResp.I){\r\n        if (destinationResp.I.SERVICE.length !== 0) {\r\n          this.translationDestDataService = destinationResp.I.SERVICE;\r\n          if(destinationResp.I.SERVICE.length  < 1){\r\n            // console.log(this.translationDestDataService ,\"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n          if(destinationResp.I.SERVICE.length  >= 1){\r\n            // console.log(this.translationDestDataService,\"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n        }\r\n      }\r\n      if(destinationResp.O){\r\n        if (destinationResp.O.SERVICE.length !== 0) {\r\n          this.translationDestDataService = destinationResp.O.SERVICE;\r\n          if(destinationResp.O.SERVICE.length  < 1){\r\n            // console.log(this.translationDestDataService ,\"1st if\");\r\n            this.multipleService = true;\r\n          }\r\n          if(destinationResp.O.SERVICE.length  >= 1){\r\n            // console.log(this.translationDestDataService,\"2nd If\");\r\n            this.multipleService = false;\r\n          }\r\n        }\r\n      }\r\n      if(destinationResp.I){\r\n        if (destinationResp.I.OPERATION.length !== 0) {\r\n          this.translationDestDataOperation = destinationResp.I.OPERATION;\r\n      //  console.log(this.translationDestDataOperation);\r\n          if(this.translationDestDataOperation.length < 1){\r\n            // console.log(this.translationDestDataOperation ,\"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if(this.translationDestDataOperation.length >= 1){\r\n            // console.log(this.translationDestDataOperation,\"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n      }\r\n      if(destinationResp.O){\r\n        if (destinationResp.O.OPERATION.length !== 0) {\r\n          this.translationDestDataOperation = destinationResp.O.OPERATION;\r\n      //  console.log(this.translationDestDataOperation);\r\n          if(this.translationDestDataOperation.length < 1){\r\n            // console.log(this.translationDestDataOperation ,\"1st if\");\r\n            this.multipleOperation = true;\r\n          }\r\n          if(this.translationDestDataOperation.length >= 1){\r\n            // console.log(this.translationDestDataOperation,\"2nd If\");\r\n            this.multipleOperation = false;\r\n          }\r\n        }\r\n      }\r\n        // this.translationDestDataService  = destinationResp.I.SERVICE\r\n      }\r\n      console.log(this.translationDestDataOperation,\"Destination service\");\r\n      console.log(this.translationDestDataService,\"Destination operation\");\r\n      // console.log(this.destinationData,\"destinationData\");\r\n      // console.log(this.updateRuleMappingDest,\"Before\");\r\n      // for(let g = 0 ; g< this.destinationData.length;g++){\r\n      //   console.log(\"messageBasisIso\", this.destinationData[g].dataType);\r\n      //   this.updateRuleMappingDest.push({\r\n      //     dataType: this.destinationData[g].dataType,\r\n      //     defaultValue: null,\r\n      //     encryption: this.destinationData[g].encryption,\r\n      //     id: this.destinationData[g].channelId,\r\n      //     messageKey: this.destinationData[g].messageKey,\r\n      //     messagebasis: this.destinationData[g].messageBasis,\r\n      //     transId: this.destinationData[g].serviceId,\r\n      //     translationId: 0,\r\n      //     versionNo: 1});\r\n        \r\n      //  }\r\n      //  console.log(this.updateRuleMappingDest,\"After\");\r\n      this.labelsDestination = destinationResp.MdmtSystemChannel[0].messageChannel;\r\n    \r\n      if (this.labelsDestination == 'Https/Http') {\r\n        this.labelsDestination =destinationResp.MdmtSystemChannel[0].messageFormat;\r\n        this.matLabel = \"Tag\";\r\n        this.matLabel2 = null;\r\n      }\r\n      else if (this.labelsDestination == 'TCP/IP') {\r\n        this.matLabel = \"Filed No\";\r\n        this.matLabel2 = \"Filed Name\";\r\n      }\r\n      // this.rulemappingData=[...this.sourceData,...this.destinationData]\r\n      // console.log(this.rulemappingData);\r\n\r\n      // this.translationData=translationResp;\r\n    }, (err => {\r\n      console.log(err);\r\n      // Swal.fire({ text: 'External system data not present.' });\r\n      this.showfetchAll = true;\r\n    }))\r\n  }\r\n  onReset() {\r\n    this.disableSubmitBtn = false;\r\n    this.ruleMappingForm.reset();\r\n  }\r\n\r\n  try(value) {\r\n    if (this.tempArrayList.find(item=>item==value)) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  try2(value) {\r\n    if (this.tempArrayList2.find(item=>item==value)) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  onselectOfFieldNo(event, i){\r\n    \r\n    console.log(event.target.value);\r\n    console.log(this.tempArrayList[i]);\r\n    if(this.tempArrayList[i]){\r\n      this.tempArrayList[i] = event.target.value;\r\n    }\r\n    else{\r\n      this.tempArrayList.push(event.target.value);\r\n    }\r\n  }\r\n\r\n  onselectOfFieldNo2(event, i){\r\n    console.log(event.target.value);\r\n    console.log(this.tempArrayList2[i]);\r\n    if(this.tempArrayList2[i]){\r\n      this.tempArrayList2[i] = event.target.value;\r\n    }\r\n    else{\r\n      this.tempArrayList2.push(event.target.value);\r\n    }\r\n  }\r\n\r\n  onsaveRuleMapping() {\r\n    console.log(this.ruleMappingForm.value.rulemappingDetail);\r\n    this.mappingObj.msgMappingDetails = this.ruleMappingForm.value.rulemappingDetail;\r\n    this.mappingObj.sourceTranslationId = this.rulemapping.sourceTranslationId;\r\n    // this.mappingObj.targetTranslationId = this.rulemapping.targetTranslationId;\r\n    this.mappingObj.targetTranslationId = this.rulemappingDest.targetTranslationId;\r\n    \r\n    this.mappingObj.creatorId = this.currentUser.replace(/['\"]+/g, '');\r\n    if(this.mappingId){\r\n      this.mappingObj.mappingId = this.mappingId;\r\n      this.mappingObj.createdTime = this.addSysRespData.createdTime;\r\n      this.mappingObj.approverId = this.addSysRespData.approverId;\r\n      this.mappingObj.approvedTime = this.addSysRespData.approvedTime;\r\n      this.mappingObj.versionNo = this.addSysRespData.versionNo;\r\n      this.mappingObj.approvedStatus = this.addSysRespData.approvedStatus;\r\n      this.mappingObj.approvedEver = this.addSysRespData.approvedEver;\r\n      this.mappingObj.recordStatus = this.addSysRespData.recordStatus;\r\n      if (this.mappingObj.approvedStatus =='UNAUTHORIZED') {\r\n        this.mappingObj.approvedStatus = 'U'\r\n      }\r\n      if (this.mappingObj.approvedStatus == 'AUTHORIZED') {\r\n        this.mappingObj.approvedStatus = 'A'\r\n      }\r\n      if (this.mappingObj.recordStatus == 'OPEN') {\r\n        this.mappingObj.recordStatus = 'O'\r\n      }\r\n      if (this.mappingObj.recordStatus == 'CLOSED') {\r\n        this.mappingObj.recordStatus = 'C'\r\n      }\r\n      if (this.mappingObj.approvedEver == 'NO') {\r\n        this.mappingObj.approvedEver = 'N'\r\n      }\r\n      if (this.mappingObj.approvedEver == 'YES') {\r\n        this.mappingObj.approvedEver = 'Y'\r\n      }\r\n      this.rulemap.updatingRuleMapping(this.mappingObj, this.currentUser).subscribe((resp : any) => {\r\n        console.log(resp);\r\n        if (resp) {\r\n          this.mappingId = resp.mappingId;\r\n          this.rulemappingDetail.patchValue(resp.msgMappingDetails);\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.showAuditLog = true;\r\n          this.afterSubmit = true;\r\n          this.ruleMappingForm.disable();\r\n          this.disableSubmitBtn = true;\r\n          this.disableResetBtn = true;\r\n          this.submit=false;\r\n          this.formTouched=!this.ruleMappingForm.touched;\r\n          Swal.fire({text:\"Record is Updated\",\r\n          icon:'success'});\r\n        }\r\n      },(err:any) => {\r\n        console.log(err.error.text);\r\n        Swal.fire({text:'Unable to update the record, server error!',\r\n        icon:'error'});\r\n      });\r\n    }\r\n    else{\r\n      console.log(this.mappingObj);\r\n      this.mappingObj.targetTranslationId = this.rulemappingDest.transId;\r\n      console.log(this.mappingObj);\r\n      this.rulemap.submittingruleMapping(this.mappingObj, this.currentUser).subscribe((resp : any) => {\r\n        console.log(resp);\r\n        if (resp) {\r\n          this.mappingId = resp.mappingId;\r\n          this.rulemappingDetail.patchValue(resp.msgMappingDetails);\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.showAuditLog = true;\r\n          this.afterSubmit = true;\r\n          this.ruleMappingForm.disable();\r\n          this.disableSubmitBtn = true;\r\n          this.disableResetBtn = true;\r\n          this.submit=false;\r\n          this.formTouched=!this.ruleMappingForm.touched;\r\n          Swal.fire({text:\"Record is Created\",\r\n          icon:'success'});\r\n        }\r\n      }, (err:any) => {\r\n        console.log(err.error.text);\r\n        Swal.fire({ text: 'Rule mapping data already present for source and destination systems.',icon:'error' });\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport class MdmtMessageMapping {\r\n  mappingId: any;\r\n  sourceTranslationId: any;\r\n  targetTranslationId: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n  messageType:any\r\n  transId:any;\r\n  msgMappingDetails: Array<MdmtMessageMappingDet>;\r\n  msgTransDetails:Array<MdmtMsgTransDetails>\r\n}\r\n\r\nexport class MdmtMessageMappingDet {\r\n  id: any;\r\n  messageMappingId;\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  defaultValue: any;\r\n  sourceKey: any;\r\n  destinationKey: any;\r\n}\r\nexport class MdmtMsgTransDetails {\r\n  dataType: any;\r\ndefaultValue: any;\r\nencryption: any;\r\nid: any;\r\nmessageKey: any;\r\nmessagebasis: any;\r\ntransId: any;\r\ntranslationId:any;\r\nversionNo: any;\r\n}\r\n\r\n\r\nexport class ruleMapDto {\r\n  mdmtMessageMapping: MdmtMessageMapping;\r\n  mdmtMessageMappingDet: Array<MdmtMessageMappingDet>;\r\n\r\n}","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <form [formGroup]=\"ruleMappingForm\" class=\"formStyle\">\r\n    <fieldset [disabled]=\"!disableFields\">\r\n    <div class=\"dbCardStyle\">\r\n      <div class=\"addformCol\">\r\n        <div class=\"row g-4 align-items-center\">\r\n          <div class=\"col\">\r\n            <div class=\"row gy-4 align-items-end\">\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Source System<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  name=\"serviceNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Service Name\"\r\n                  formControlName=\"systemCode\"\r\n                  readonly\r\n                  />\r\n\r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Message Type<span class=\"colorRed\">*</span></label>\r\n                <select formControlName=\"messageType\" class=\"form-select\" aria-label=\"Default select example\"\r\n                [disabled]=\"!editFetch\"  \r\n                (change)=\"onSelectionOFMessageType(rulemapping.sourceTranslationId,$event)\">\r\n                <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                  <option value=\"I\">\r\n                    Incoming\r\n                  </option>\r\n                  <option value=\"O\">\r\n                    Outgoing\r\n                  </option>\r\n                  <option value=\"A\">\r\n                    All\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"operationName\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Operation Name\"\r\n                  formControlName=\"operationName\"\r\n                  readonly\r\n                  />\r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"serviceName\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Service Name\"\r\n                  formControlName=\"serviceName\"\r\n                  readonly\r\n                  />\r\n              </div>\r\n              <ng-container formGroupName=\"destinationSystems\">\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Destination System<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  name=\"serviceNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Service Name\"\r\n                  formControlName=\"systemCode\"\r\n                  readonly\r\n                  />\r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Message Type<span class=\"colorRed\">*</span></label>\r\n                      <select readonly formControlName=\"messageType\" [disabled]=\"!editFetch\" class=\"form-select\" aria-label=\"Default select example\"\r\n                            (change)=\"msgTypeOfDestination($event)\">\r\n                            <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                          <option value=\"I\">\r\n                              Incoming\r\n                            </option>\r\n                            <option value=\"O\">\r\n                              Outgoing\r\n                            </option>\r\n                            <option value=\"A\">\r\n                              All\r\n                            </option>\r\n                      </select>\r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                <input readonly\r\n                  type=\"text\"\r\n                  name=\"operationName\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Operation Name\"\r\n                  formControlName=\"operationName\"\r\n                  readonly\r\n                  />\r\n              </div>\r\n              <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                <input readonly\r\n                  type=\"text\"\r\n                  name=\"serviceName\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Service Name\"\r\n                  formControlName=\"serviceName\"\r\n                  [disabled]=\"!editFetch\"\r\n                  />\r\n              </div>\r\n              </ng-container>\r\n              <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n                <div class=\"col-auto\" [hidden]=\"!hideFetch\">\r\n                  <button (click)=\"fetchDestination()\" [disabled]=\"disableFetchBtn\" class=\"btn smBtn minWdSmBtn btnPrimary\">\r\n                    Fetch\r\n                  </button>\r\n                </div>\r\n              <!-- <div class=\"col-auto\" *ngIf=\"!(addSysRespData.recordStatus=='C' || addSysRespData.recordStatus=='CLOSED') && roleCodes.edit\" [hidden]=\"hideFetch\">\r\n                <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n                  {{roleCodes.edit.labelDescription}}\r\n                </button>\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedStatus =='U' || addSysRespData.approvedStatus =='UNAUTHORIZED') && roleCodes.auth\">\r\n                <button (click)=\"onAuthOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnAuth\" \r\n                  >{{roleCodes.auth.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.recordStatus=='O' ||addSysRespData.recordStatus=='OPEN') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.close\">\r\n                <button (click)=\"onCloseOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.close.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\" (addSysRespData.recordStatus=='C' || addSysRespData.recordStatus=='CLOSED') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.reopen\">\r\n                <button (click)=\"onOpenRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.reopen.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedEver=='NO' ) && roleCodes.delete\">\r\n                <button (click)=\"deleteRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.delete.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\">\r\n                <button class=\"btn smBtn minWdSmBtn btnSecondary\" [routerLink]=\"['/rule-mapping/summary']\">Exit</button>\r\n              </div> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </fieldset>\r\n    <div class=\"dbCardStyle\" *ngIf=\"showSource ||showDestination\">\r\n      <fieldset [disabled]=\"!submit\">\r\n      <div class=\"addformCol\" formArrayName=\"rulemappingDetails\">\r\n        <ng-container *ngFor=\"let item of rulemappingDetails.controls; let i = index\">\r\n            <ng-container [formGroupName]=\"i\">\r\n                <div class=\"row g-4 align-items-center\">\r\n                    <div class=\"col\">\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-4\">\r\n                          <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Source System<span class=\"colorRed\">*</span></label>\r\n                          <div class=\"row gy-4\">\r\n                            <div class=\"col-lg-12\">\r\n                                <ng-container *ngIf=\"sourceLabel=='TCP/IP'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Field No<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"sourceKey\" class=\"form-select\" \r\n                                    aria-label=\"Default select example\"\r\n                                    (change)=\"onSourceRuleMappingChange($event,i)\"\r\n                                    [disabled]=\"!edit\" [value]=\"item.sourceKey\"\r\n                                    >\r\n                                      <option *ngFor=\"let tag of updateRuleMappingSrc\"  [hidden]=\"shouldHideSourceRuleMappingValue(tag.messagebasis)\" [value]=\"tag.messagebasis\">\r\n                                       {{tag.messagebasis}}\r\n                                      </option>\r\n                                    </select>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"sourceLabel=='JSON'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Key<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"sourceKey\" class=\"form-select\" \r\n                                    aria-label=\"Default select example\"\r\n                                    (change)=\"onSourceRuleMappingChange($event,i)\"\r\n                                    [disabled]=\"!edit\" \r\n                                    >\r\n                                      <option *ngFor=\"let tag of updateRuleMappingSrc\" [hidden]=\"shouldHideSourceRuleMappingValue(tag.messagebasis)\" [value]=\"tag.messagebasis\">\r\n                                        {{tag.messagebasis}}\r\n                                      </option>\r\n                                      </select>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"sourceLabel=='XML'\">\r\n                                  <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Tag<span class=\"colorRed\">*</span></label>\r\n                                  <select formControlName=\"sourceKey\" class=\"form-select\" \r\n                                  aria-label=\"Default select example\"\r\n                                  (change)=\"onSourceRuleMappingChange($event,i)\"\r\n                                  [disabled]=\"!edit\" \r\n                                  >\r\n                                    <option *ngFor=\"let tag of updateRuleMappingSrc\" [hidden]=\"shouldHideSourceRuleMappingValue(tag.messagebasis)\" [value]=\"tag.messagebasis\">\r\n                                      {{tag.messagebasis}}\r\n                                    </option>\r\n                                    </select>\r\n                              </ng-container>\r\n                                <ng-container *ngIf=\"sourceLabel=='DB Connection'\">\r\n                                  <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Column Name<span class=\"colorRed\">*</span></label>\r\n                                  <select formControlName=\"sourceKey\" class=\"form-select\"\r\n                                  (change)=\"onSourceRuleMappingChange($event,i)\"\r\n                                   aria-label=\"Default select example\"\r\n                                   [disabled]=\"!edit\">\r\n                                      <option *ngFor=\"let tag of updateRuleMappingSrc\" [hidden]=\"shouldHideSourceRuleMappingValue(tag.messagebasis)\" [value]=\"tag.messagebasis\">\r\n                                        {{tag.messagebasis}}</option>\r\n                                    </select>\r\n                              </ng-container>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-lg-4\">\r\n                          <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Destination system</label>\r\n                          <div class=\"row gy-4\">\r\n                            <div class=\"col-lg-12\">\r\n                                <ng-container *ngIf=\"labelsDestination=='TCP/IP'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Field No<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"destinationKey\" class=\"form-select\" aria-label=\"Default select example\"\r\n                                    [value]=\"item.destinationKey\" (change)=\"onDestinationRuleMappingChange($event,i)\"\r\n                                    >\r\n                                        <option *ngFor=\"let fname of updateRuleMappingDest;let i=index\" \r\n                                        [value]=\"fname.messagebasis\" [hidden]=\"shouldHideDestinationRuleMappingValue(fname.messagebasis)\">\r\n                                            {{fname.messagebasis}}</option>\r\n                                      </select>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"labelsDestination=='XML'\">\r\n                                    <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Tag<span class=\"colorRed\">*</span></label>\r\n                                    <select formControlName=\"destinationKey\" class=\"form-select\" \r\n                                            aria-label=\"Default select example\"\r\n                                            (change)=\"onDestinationRuleMappingChange($event,i)\"\r\n                                            [value]=\"item.destinationKey\">\r\n                                        <option *ngFor=\"let fname of updateRuleMappingDest;let i=index\" \r\n                                                [value]=\"fname.messagebasis\"  [hidden]=\"shouldHideDestinationRuleMappingValue(fname.messagebasis)\">\r\n                                                {{fname.messagebasis}}\r\n                                        </option>\r\n                                      </select>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"labelsDestination=='JSON'\">\r\n                                  <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Key<span class=\"colorRed\">*</span></label>\r\n                                  <select formControlName=\"destinationKey\" class=\"form-select\" \r\n                                          aria-label=\"Default select example\"\r\n                                          (change)=\"onDestinationRuleMappingChange($event,i)\"\r\n                                          [value]=\"item.destinationKey\">\r\n                                      <option *ngFor=\"let fname of updateRuleMappingDest;let i=index\" \r\n                                              [value]=\"fname.messagebasis\"  [hidden]=\"shouldHideDestinationRuleMappingValue(fname.messagebasis)\">\r\n                                              {{fname.messagebasis}}\r\n                                      </option>\r\n                                    </select>\r\n                              </ng-container>\r\n                                <ng-container *ngIf=\"labelsDestination=='DB Connection'\">\r\n                                  <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Column Name<span class=\"colorRed\">*</span></label>\r\n                                  <select formControlName=\"destinationKey\" class=\"form-select\" \r\n                                  aria-label=\"Default select example\" (change)=\"onDestinationRuleMappingChange($event,i)\">\r\n                                      <option *ngFor=\"let fname of updateRuleMappingDest\" [value]=\"fname.messagebasis\"  [hidden]=\"shouldHideDestinationRuleMappingValue(fname.messagebasis)\">{{fname.messagebasis}}</option>\r\n                                    </select>\r\n                              </ng-container>\r\n                            </div>\r\n                            <!-- <div class=\"col-lg-6\">\r\n                              <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                <option selected>Tag Name</option>\r\n                                <option value=\"1\">One</option>\r\n                                <option value=\"2\">Two</option>\r\n                                <option value=\"3\">Three</option>\r\n                              </select>\r\n                            </div> -->\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-lg-4\">\r\n                          <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\">Default value<span class=\"colorRed\">*</span></label>\r\n                          <div class=\"row gy-4\">\r\n                            <div class=\"col-lg-12\">\r\n                                <label for=\"defaultValue\" class=\"formLbl\" *ngIf=\"i == 0\"></label>\r\n                                <div *ngIf=\"!editFlag\">\r\n                                  <input style=\"background-color:#F8F9FA;\"\r\n                                  [ngClass]=\"{first: i === 0, 'form-control': true, path: true}\"\r\n                                  type=\"text\"\r\n                                  id=\"defaultVal\"\r\n                                  [readonly]=\"edit\"\r\n                                  formControlName=\"defaultValue\"\r\n                                  placeholder=\"Default value\"\r\n                                />\r\n                                </div>\r\n                                <div *ngIf=\"editFlag\">\r\n                                  <input style=\"background-color:#FFFFFF;\"\r\n                                  type=\"text\"\r\n                                  id=\"defaultVal\"\r\n                                  formControlName=\"defaultValue\"\r\n                                  placeholder=\"Default value\"\r\n                                  [ngClass]=\"{first: i === 0, 'form-control': true, path: true}\"\r\n                                />\r\n                                </div>\r\n                               \r\n                            </div>\r\n                          \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <div [hidden]=\"!hideFetch\" [ngStyle]=\"{'margin-top':i === 0 ? '50px' : '10px' }\">\r\n                        <a *ngIf=\"submit\" (click)=\"deleteRuleMapGroup(i)\" class=\"deleteIcon2\" style=\"cursor: pointer;\">\r\n                          <img src=\"assets/images/delete-icon.svg\" alt=\"...\" [ngClass]=\"{'first-image': i === 0, 'image': true}\">\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                    <!-- <div class=\"col-auto\">\r\n                      <div class=\"formDeleteCol mt-4\">\r\n                        <button *ngIf=\"submit\" (click)=\"deleteRuleMapGroup(i)\"><img src=\"assets/images/delete-icon.svg\" alt=\"...\"></button>\r\n                      </div>\r\n                    </div> -->\r\n                  </div>\r\n                  <br>\r\n                 \r\n            </ng-container>\r\n        </ng-container>\r\n    </div>\r\n    </fieldset>\r\n    <div class=\"row g-3 pt-4\">\r\n      <div class=\"col-auto\">\r\n        <a *ngIf=\"submit\" [hidden]=\"!hideFetch\" (click)=\"addRuleDetail()\" class=\"addIcon primarybg\">\r\n          <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\"></span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n      <div class=\"row g-3 pb-3 pt-4 justify-content-end\">\r\n        <div class=\"col-auto\" [hidden]=\"!hideSubmit\">\r\n          <button [disabled]=\"!submit || !ruleMappingForm.dirty\" (click)=\"onsaveRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\">Save</button>\r\n        </div>\r\n        <div class=\"col-auto\" *ngIf=\"(addSysRespData.recordStatus=='O' || addSysRespData.recordStatus=='OPEN') && roleCodes.edit\" [hidden]=\"hideFetch\">\r\n          <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n            {{roleCodes.edit.labelDescription}}\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedStatus =='U' || addSysRespData.approvedStatus =='UNAUTHORIZED'|| addSysRespData.approvedStatus =='Unauthorized'|| addSysRespData.approvedStatus == 'N' || addSysRespData.approvedEver == 'N') && roleCodes.auth\">\r\n          <button (click)=\"onAuthOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnAuth\" \r\n            >{{roleCodes.auth.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.recordStatus=='O' ||addSysRespData.recordStatus=='OPEN') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.close\">\r\n          <button (click)=\"onCloseOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            >{{roleCodes.close.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\" (addSysRespData.recordStatus=='C' || addSysRespData.recordStatus=='CLOSED') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.reopen\">\r\n          <button (click)=\"onOpenRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            >{{roleCodes.reopen.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedEver=='NO' || addSysRespData?.approvedEver=='N' ) && roleCodes.delete\">\r\n          <button (click)=\"deleteRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n            >{{roleCodes.delete.labelDescription}}</button\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <a [routerLink]=\"'/rule-mapping/summary'\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n   \r\n  </form>\r\n</div>\r\n\r\n<div class=\"dbCardStyle mt-20\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n              <i class=\"fa fa-edit faClass\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker</h2>\r\n              <p>{{addSysRespData.creatorId}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n              <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\">\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker Time Stamp</h2>\r\n              <p>{{addSysRespData.createdTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n              <i class=\"fa fa-files-o faRecordStatus\" aria-hidden=\"true\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Record Status</h2>\r\n              <p>{{addSysRespData.recordStatus == 'O' ? 'OPEN' : (addSysRespData.recordStatus == 'C' ? 'CLOSED' : addSysRespData.recordStatus)}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n            <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker</h2>\r\n              <p>{{addSysRespData.approverId}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n              <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\">\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker Time Stamp</h2>\r\n              <p>{{addSysRespData.approvedTime | date: 'MM/dd/yyyy, h:mm a'}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n        <i class=\"fa fa-shield faClassFirstTimeAuth\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>First Time Authorization</h2>\r\n              <p>{{addSysRespData.approvedEver == 'N'? 'NO' : (addSysRespData.approvedEver == 'Y'? 'YES' : addSysRespData.approvedEver)}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img src=\"assets/images/authorize.svg\" alt=\"...\" class=\"modImage\">\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Authorization Status</h2>\r\n              <p>{{addSysRespData.approvedStatus == 'N' || addSysRespData.approvedStatus == 'U' ? 'UNAUTHORIZED' : (addSysRespData.approvedStatus == 'Y' || addSysRespData.approvedStatus == 'A' ? 'AUTHORIZED' : addSysRespData.approvedStatus)}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n               <img src=\"assets/images/modification.svg\" class=\"modImage\" alt=\"...\" >\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Modification Number</h2>\r\n              <p>{{addSysRespData.versionNo}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { ToastService } from 'src/app/shared/services/toast.service';\r\nimport { Location } from '@angular/common';\r\nimport Swal from 'sweetalert2';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\n\r\n@Component({\r\n  selector: 'npr-rule-mapping-details',\r\n  templateUrl: './rule-mapping-details.component.html',\r\n  styleUrls: ['./rule-mapping-details.component.scss']\r\n})\r\nexport class RuleMappingDetailsComponent implements OnInit ,IDeactivateComponent{\r\n  showDestination: boolean;\r\n  xmlDestination: any;\r\n  sourceIsoResp: any;\r\n  externalSystem: any;\r\n  showSource: boolean;\r\n  fieldNoData: any = [];\r\n  disableFetchBtn: boolean = false;\r\n  disableSubmitBtn: boolean = false;\r\n  addSysRespData: any;\r\n  deleted: boolean = false;\r\n  disableFields:boolean = false;\r\n  editBtn: boolean;\r\n  closeBtn: boolean;\r\n  authBtn: boolean;\r\n  authorizeDone: boolean = false;\r\n\r\n\r\n  fieldValueData: any = [];\r\n  showFieldNoValue: any = 1;\r\n  xmlLength: any = [];\r\n  sourceRuleMappingArray : string[] = [];\r\n  destinationRuleMappingArray: string[] = [];\r\n\r\n  rulemapping = new MdmtMessageMapping();\r\n  rulemappingdest = new MdmtMessageMapping();\r\n  ruleMappingDataForPayload: any;\r\n  isSelected: boolean = true;\r\n  rulemappingDetail: Array<MdmtMessageMappingDet> = [];\r\n\r\n  isoRespData: any;\r\n  sourseSys: any;\r\n  currentUser: string;\r\n  sourceoperation: Object;\r\n  destinationSource: any;\r\n  destinationOperation: Object;\r\n  messageBasisIso: any;\r\n  tagName: any;\r\n  sourceService: any;\r\n  destinationService: any;\r\n  destinationData: any = [];\r\n  sourceData: any = [];\r\n  rulemappingData: any[];\r\n  matLabel: string;\r\n  matLabel2: string;\r\n  labelsDestination: any;\r\n  sourceLabel: any;\r\n  matlabelSource1: string;\r\n  matlabelSource2: string;\r\n  ruleDto = new ruleMapDto();\r\n  navSubscription: any;\r\n  editruleMappingResp: {};\r\n  edit: boolean;\r\n  editFetch: boolean;\r\n  reopenBtn: boolean;\r\n  authBtnHide: boolean;\r\n  ruleMappingForm: FormGroup;\r\n  submit: boolean=true;\r\n  hideFetch:boolean=false;\r\n  hideSubmit:boolean=false;\r\n  roleCodes = new permissionsLabels();\r\n  formTouched: boolean=true;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  sourceKey: any;\r\n  editFlag: boolean = false;\r\n  updateRuleMappingSrc: any;\r\n  ruleMappingData: any;\r\n  updateRuleMappingDest: any;\r\n  rulemappingdestMapping: any;\r\n\r\n  constructor(private rulemap: RuleService,private roleService : RoleService,\r\n    private router: Router,\r\n    private _location:Location,\r\n    private _route: ActivatedRoute,\r\n    private addSystem: AddSystemService,\r\n    private toastService:ToastService,private cdr: ChangeDetectorRef,\r\n    private formBuilder: FormBuilder) { }\r\n\r\n  ngOnInit() {\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n\r\n    this.ruleMappingForm = this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      destinationSystems: this.getDestinationItem(),\r\n      rulemappingDetails: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.navSubscription = this.addSystem.getNavParam.subscribe((data:any) => this.editruleMappingResp = data);\r\n    console.log(\"Response ??\", this.editruleMappingResp);\r\n    this.ruleMappingDataForPayload = this.editruleMappingResp[\"responseData\"];\r\n\r\n    if(this.editruleMappingResp && Object.keys(this.editruleMappingResp).length === 0 && Object.getPrototypeOf(this.editruleMappingResp) === Object.prototype){\r\n      this._location.back();\r\n    }else{\r\n      \r\n      this.addSysRespData = this.ruleMappingDataForPayload.mdmtMessageMapping;\r\n      this.auditLog();\r\n      this.rulemapping.sourceTranslationId = this.editruleMappingResp[\"sourceTransDetId\"];\r\n      if (this.rulemapping.sourceTranslationId) {\r\n        this.gettingTranslationData(this.rulemapping.sourceTranslationId);\r\n      }\r\n      this.rulemapping.targetTranslationId = this.editruleMappingResp[\"targetTransDetId\"];\r\n      if (this.rulemapping.targetTranslationId) {\r\n        this.gettingTranslationDataForDest(this.rulemapping.targetTranslationId);\r\n      }\r\n      if (this.addSysRespData.recordStatus == \"C\") {\r\n        console.log(this.addSysRespData.recordStatus);\r\n        this.reopenBtn = false;\r\n        this.authBtnHide = true;\r\n      }\r\n      this.rulemappingDetail = this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails;\r\n      this.auditLog();\r\n      for (let index = 0; index < this.rulemappingDetail.length; index++) {\r\n        this.addRuleDetail();\r\n        const item = this.rulemappingDetail[index];\r\n        this.rulemappingDetails.at(index).patchValue(item);\r\n        console.log(\"Rule Mapping: \", this.rulemappingDetails);\r\n      }\r\n      this.sourceRuleMappingArray= this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails.map(val => val.sourceKey);\r\n      ;\r\n      this.destinationRuleMappingArray= this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails.map(val => val.destinationKey);\r\n      this.gettingExternalsystem();\r\n      this.fetchingIso();\r\n    }\r\n\r\n    this.roleService.fetchScreenPermissions('Rule Mapping');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n    this.ruleMappingForm.disable();\r\n  }\r\n\r\n  getDestinationItem() {\r\n    return this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n    });\r\n  }\r\n  auditLog() {\r\n    if (this.addSysRespData.approvedStatus =='U' || this.addSysRespData.approvedStatus =='Unauthorized') {\r\n      this.addSysRespData.approvedStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (this.addSysRespData.approvedStatus == 'A' || this.addSysRespData.approvedStatus == 'Authorized') {\r\n      this.addSysRespData.approvedStatus = 'AUTHORIZED'\r\n    }\r\n    if (this.addSysRespData.recordStatus == 'O' || this.addSysRespData.recordStatus == 'Open') {\r\n      this.addSysRespData.recordStatus = 'OPEN'\r\n    }\r\n    if (this.addSysRespData.recordStatus == 'C' || this.addSysRespData.recordStatus == 'Close') {\r\n      this.addSysRespData.recordStatus = 'CLOSED'\r\n    }\r\n    if (this.addSysRespData.approvedEver == 'N' ||this.addSysRespData.approvedEver == 'No' ) {\r\n      this.addSysRespData.approvedEver = 'NO'\r\n    }\r\n    if (this.addSysRespData.approvedEver == 'Y') {\r\n      this.addSysRespData.approvedEver = 'YES'\r\n    }\r\n  }\r\ncanExit() : Promise<boolean> {\r\n  let isExit :boolean = false;\r\n \r\n  if (this.ruleMappingForm.touched && this.formTouched==true) {\r\n  return Swal.fire({ \r\n    text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n    showCancelButton: true,\r\n    confirmButtonColor: '#E6224A',\r\n    cancelButtonColor: '#011945',\r\n    cancelButtonText: 'NO',\r\n    confirmButtonText: 'YES',\r\n    icon: 'info',\r\n  }).then((result) => {\r\n    if (result.isConfirmed === true) {\r\n      isExit=true;\r\n      this.cdr.markForCheck();\r\n         return isExit;\r\n    }\r\n    else{\r\n      isExit=false;\r\n      this.cdr.markForCheck();\r\n      return isExit;\r\n    }\r\n  \r\n  });\r\n}\r\nelse{\r\nisExit=true;\r\nreturn new Promise((resolve, reject) => {\r\n  if (isExit === true) {\r\n    isExit=true;\r\n    this.cdr.markForCheck();\r\n    resolve(true);\r\n  }\r\n\r\n})\r\n}\r\n  }\r\n  getRuleMappingDetails() {\r\n    return this.formBuilder.group({\r\n      id: [''],\r\n      defaultValue: [''],\r\n      messageMappingId: [''],\r\n      sourceTransDetId: [''],\r\n      targetTransDetId: [''],\r\n      sourceKey: [''],\r\n      destinationKey: ['']\r\n    });\r\n  }\r\n\r\n  indexTracker(index: number, value: any) {\r\n    return index;\r\n  }\r\n\r\n  get rulemappingDetails() {\r\n    return this.ruleMappingForm.get('rulemappingDetails') as FormArray;\r\n  }\r\n\r\n  addRuleDetail() {\r\n    this.rulemappingDetails.push(this.getRuleMappingDetails());\r\n    console.log(this.rulemappingDetails.value);\r\n  }\r\n\r\n  deleteRuleMapGroup(index: number) {\r\n    this.sourceRuleMappingArray.splice(index, 1);\r\n    this.destinationRuleMappingArray.splice(index, 1);\r\n    this.rulemappingDetails.removeAt(index);\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rulemap.gettingExternalsystem().subscribe(extSysResp => {\r\n      console.log(\"extSysResp\", extSysResp);\r\n      this.externalSystem = extSysResp;\r\n    },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      })\r\n  }\r\n\r\n  onDestinationRuleMappingChange(event, i) {\r\n    this.destinationRuleMappingArray[i] = event.target.value;\r\n  }\r\n\r\n  onSourceRuleMappingChange(event, i) {\r\n    this.sourceRuleMappingArray[i] = event.target.value;\r\n  }\r\n\r\n  shouldHideDestinationRuleMappingValue(value) {\r\n    return this.destinationRuleMappingArray.find(item=>item==value)\r\n  }\r\n\r\n  shouldHideSourceRuleMappingValue(value) {\r\n    return this.sourceRuleMappingArray.find(item=>item==value)\r\n  }\r\n\r\n  EditFetch() {\r\n    this.editFetch = true;\r\n    console.log(\"edit\");\r\n    if (this.addSysRespData.recordStatus == \"C\") {\r\n      this.editFetch = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n      this.toastService.successMessage('Closed record can\\'t be edited.', '');\r\n    }\r\n  }\r\n  Edit() {\r\n    console.log(\"edit\");\r\n    if (this.addSysRespData.approvedStatus == \"U\") {\r\n      this.edit = false;\r\n      // Swal.fire(\"UnAuthorized record can't be  edited.\");\r\n      this.toastService.successMessage('UnAuthorized record can\\'t be  edited', '');\r\n    }\r\n    if (this.addSysRespData.recordStatus == \"C\") {\r\n      this.edit = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n      this.toastService.successMessage('Closed record can\\'t be edited.', '');\r\n    }\r\n    this.edit = true;\r\n  }\r\n  gettingTranslationData(sourseSys: any) {\r\n    this.sourseSys = sourseSys;\r\n    this.rulemap.gettingTranslationData(this.sourseSys).subscribe(resp => {\r\n      console.log(\"trans ?\", resp);\r\n      this.rulemapping = resp;\r\n      this.ruleMappingData=resp\r\n      this.ruleMappingForm.patchValue(resp);\r\n      this.gettingoperationAandserv(resp.systemCode, resp.messageType);\r\n      this.rulemapping.sourceTranslationId = resp.systemCode;\r\n    })\r\n     this.fetchDestination();\r\n  }\r\n\r\n  gettingTranslationDataForDest(destSys: any) {\r\n    this.rulemap.gettingTranslationData(destSys).subscribe(resp => {\r\n      console.log(\"Dset\", resp);\r\n      this.rulemappingdest = resp;\r\n      this.rulemappingdestMapping=resp;\r\n      this.ruleMappingForm.get('destinationSystems').patchValue(resp);\r\n      this.gettingmsgTypeAndDestination(resp.systemCode, resp.messageType)\r\n      this.rulemappingdest.targetTranslationId = resp.systemCode;\r\n    })\r\n  }\r\n\r\n\r\n  onAuthOfRuleMapping() {\r\n\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      \r\n      \r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.addSysRespData.creatorId) {\r\n          Swal.fire('Maker cannot authorize the record!');\r\n          // this.toastService.successMessage('Maker cannot authorize!', '');\r\n        }\r\n        else {\r\n          \r\n          let payloadObj: any = {};\r\n          console.log(this.ruleMappingDataForPayload);\r\n          payloadObj = this.ruleMappingDataForPayload;\r\n          payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n          console.log(payloadObj);\r\n\r\n          if (payloadObj.approvedStatus =='UNAUTHORIZED') {\r\n            payloadObj.approvedStatus = 'U'\r\n          }\r\n          if (payloadObj.approvedStatus == 'AUTHORIZED') {\r\n            payloadObj.approvedStatus = 'A'\r\n          }\r\n          if (payloadObj.recordStatus == 'OPEN') {\r\n            payloadObj.recordStatus = 'O'\r\n          }\r\n          if (payloadObj.recordStatus == 'CLOSED') {\r\n            payloadObj.recordStatus = 'C'\r\n          }\r\n          if (payloadObj.approvedEver == 'NO') {\r\n            payloadObj.approvedEver = 'N'\r\n          }\r\n          if (payloadObj.approvedEver == 'YES') {\r\n            payloadObj.approvedEver = 'Y'\r\n          }\r\n          \r\n          this.rulemap.editRuleMapping(\"auth\", this.currentUser, payloadObj).subscribe((resp) => {\r\n            this.authorizeDone = true;\r\n            this.addSysRespData = resp;\r\n            this.auditLog();\r\n            Swal.fire({ text: 'Record is Authorized' });\r\n            // this.toastService.successMessage('Record Authorized!', '');\r\n          });\r\n        }\r\n      }\r\n    }))\r\n\r\n  }\r\n\r\n  onCloseOfRuleMapping() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let payloadObj: any = {};\r\n        payloadObj = this.ruleMappingDataForPayload;\r\n        payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n        \r\n        if (payloadObj.approvedStatus =='UNAUTHORIZED') {\r\n          payloadObj.approvedStatus = 'U'\r\n        }\r\n        if (payloadObj.approvedStatus == 'AUTHORIZED') {\r\n          payloadObj.approvedStatus = 'A'\r\n        }\r\n        if (payloadObj.recordStatus == 'OPEN') {\r\n          payloadObj.recordStatus = 'O'\r\n        }\r\n        if (payloadObj.recordStatus == 'CLOSED') {\r\n          payloadObj.recordStatus = 'C'\r\n        }\r\n        if (payloadObj.approvedEver == 'NO') {\r\n          payloadObj.approvedEver = 'N'\r\n        }\r\n        if (payloadObj.approvedEver == 'YES') {\r\n          payloadObj.approvedEver = 'Y'\r\n        }\r\n        this.rulemap.editRuleMapping(\"close\", this.currentUser, payloadObj).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.deleted = false;\r\n          this.reopenBtn = false;\r\n          Swal.fire({ text: 'Record is  Closed', icon: 'success' });\r\n          // this.toastService.successMessage('Record is Closed', '');\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  onOpenRuleMapping() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let payloadObj: any = {};\r\n        payloadObj = this.ruleMappingDataForPayload;\r\n        payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n       \r\n        if (payloadObj.approvedStatus =='UNAUTHORIZED') {\r\n          payloadObj.approvedStatus = 'U'\r\n        }\r\n        if (payloadObj.approvedStatus == 'AUTHORIZED') {\r\n          payloadObj.approvedStatus = 'A'\r\n        }\r\n        if (payloadObj.recordStatus == 'OPEN') {\r\n          payloadObj.recordStatus = 'O'\r\n        }\r\n        if (payloadObj.recordStatus == 'CLOSED') {\r\n          payloadObj.recordStatus = 'C'\r\n        }\r\n        if (payloadObj.approvedEver == 'NO') {\r\n          payloadObj.approvedEver = 'N'\r\n        }\r\n        if (payloadObj.approvedEver == 'YES') {\r\n          payloadObj.approvedEver = 'Y'\r\n        }\r\n        this.rulemap.editRuleMapping(\"open\", this.currentUser, payloadObj).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.authBtnHide = false;\r\n          this.editBtn = false;\r\n          this.authBtn = false;\r\n          Swal.fire({ text: 'Record is Opened', icon: 'success' });\r\n          // this.toastService.successMessage('Record Opened!', '');\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  deleteRuleMapping() {\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        console.log(this.addSysRespData.mappingId);\r\n        \r\n        this.rulemap.ondeleteMapping(this.addSysRespData.mappingId, this.currentUser).subscribe((resp) => {\r\n          if (resp) {\r\n            this.deleted = true;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.closeBtn = true;\r\n            Swal.fire({\r\n              title: 'Record is Deleted',\r\n              confirmButtonText: 'Ok'\r\n            }).then((result) => {\r\n              if (result) {\r\n                this.router.navigateByUrl('/rule-mapping/summary')\r\n              }\r\n            });\r\n\r\n          }\r\n          else {\r\n            Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n\r\n  fetchDestination() {\r\n    console.log(this.rulemapping);\r\n    console.log(\"Rule ,apping\", this.ruleMappingForm);\r\n    this.disableFetchBtn = true;\r\n    this.showDestination = true;\r\n    this.showSource = true;\r\n  }\r\n\r\n  onFieldNameChange(event) {\r\n    console.log(event.value);\r\n    let value = event.value;\r\n    if (event.value) {\r\n      var item = this.sourceIsoResp.find(element => element.fieldValue == value);\r\n      console.log(item);\r\n      this.showFieldNoValue = item.fieldNo;\r\n      console.log(\"ssss\", this.showFieldNoValue);\r\n\r\n    }\r\n  }\r\n  editValues(){\r\n    this.hideFetch=true;\r\n    this.hideSubmit=true;\r\n    this.ruleMappingForm.enable();\r\n    this.editFlag=true;\r\n    // this.authBtn=false;\r\n    // this.openBtn=false;\r\n    // this.closeBtn=false;\r\n  }\r\n  onSubmittingRuleMapping() {\r\n    console.log(\"submit\");\r\n\r\n  }\r\n\r\n  fetchingIso() {\r\n    this.addSystem.fetchingIsoForTcp().subscribe(isoResp => {\r\n      console.log(\"iss\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      // this.fieldNoData=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldNoData = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldValueData = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n\r\n\r\n\r\n    })\r\n\r\n  }\r\n  onSourseSelection(event: any) {\r\n    console.log(event);\r\n    this.sourseSys = event.value;\r\n  }\r\n  onSelectionOFMessageType(source: any, event: any) {\r\n    console.log(\"e\", event);\r\n    this.sourseSys = source;\r\n    this.gettingoperationAandserv(this.sourseSys, event.value)\r\n  }\r\n  gettingoperationAandserv(system, msgtype) {\r\n    console.log(system);\r\n    this.rulemap.gettingoperationAndService(system, msgtype, this.currentUser).subscribe(sourceResp => {\r\n      console.log(\"sourceResp\",sourceResp);\r\n      this.sourceoperation = sourceResp.OPERATION;\r\n      this.sourceService = sourceResp.SERVICE;\r\n      this.sourceData = sourceResp.MdmtSystemService;\r\n      \r\n      this.updateRuleMappingSrc=this.ruleMappingData.msgTransDetails;\r\n      this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageChannel;\r\n      // this.sourceKey=this.sourceData[0].messageKey + ' ' +this.sourceData[0].messageBasis;\r\n      console.log(this.sourceData);\r\n      // console.log(this.ruleMappingForm.controls.rulemappingDetails.value[0].sourceKey)\r\n      // this.ruleMappingForm.controls.rulemappingDetails.value[0].sourceKey.setValue(this.sourceKey);\r\n      if (this.sourceLabel == 'Https/Http') {\r\n        this.sourceLabel =sourceResp.MdmtSystemChannel[0].messageFormat;\r\n        this.matlabelSource1 = \"Node\";\r\n        this.matlabelSource2 = \"TagName\";\r\n      }\r\n      if (this.sourceLabel == 'TCP/IP') {\r\n        this.matlabelSource1 = \"Filed No\";\r\n        this.matlabelSource2 = \"Filed Name\";\r\n        \r\n      }\r\n      // this.translationData=translationResp;\r\n    }, (err => {\r\n      console.log(err);\r\n    }))\r\n  }\r\n\r\n  ondestinationSource(event) {\r\n    console.log(event.value);\r\n    this.destinationSource = event.value;\r\n  }\r\n\r\n  msgTypeOfDestination(event) {\r\n    console.log(event.value);\r\n    this.gettingmsgTypeAndDestination(this.destinationSource, event.value);\r\n\r\n  }\r\n\r\n  gettingmsgTypeAndDestination(destinationSource, msgtype) {\r\n    this.rulemap.gettingoperationAndService(destinationSource, msgtype, this.currentUser).subscribe(destinationResp => {\r\n      console.log(\"destinationResp\",destinationResp);\r\n      this.destinationOperation = destinationResp.OPERATION;\r\n      this.destinationService = destinationResp.SERVICE;\r\n      this.destinationData = destinationResp.MdmtSystemService;\r\n      this.updateRuleMappingDest=this.rulemappingdestMapping.msgTransDetails;\r\n      this.labelsDestination = destinationResp.MdmtSystemChannel[0].messageChannel;\r\n      console.log(this.labelsDestination);\r\n      if (this.labelsDestination == 'Https/Http') {\r\n        this.labelsDestination =destinationResp.MdmtSystemChannel[0].messageFormat;\r\n        this.matLabel = \"Node\";\r\n        this.matLabel2 = \"Tag Name\";\r\n      }\r\n      else if (this.labelsDestination == 'TCP/IP') {\r\n        this.matLabel = \"Filed No\";\r\n        this.matLabel2 = \"Filed Name\";\r\n      }\r\n      // this.rulemappingData=[...this.sourceData,...this.destinationData]\r\n      console.log(this.rulemappingData);\r\n\r\n      // this.translationData=translationResp;\r\n    }, (err => {\r\n      console.log(err);\r\n    }))\r\n  }\r\n\r\n  onSelectingMessageBasis(event: any) {\r\n    console.log(\"option for fieldno\", event.value);\r\n    console.log(event.value);\r\n    var x = this.isoRespData.find(item => item.messageBasis == event.value);\r\n    this.isoRespData.forEach((data) => {\r\n      data.messageKey = x.messageKey;\r\n      this.tagName = data.messageKey;\r\n      data.dataType = x.dataType;\r\n    })\r\n  }\r\n  onsaveRuleMapping() {\r\n    let payloadObj: any = {};\r\n    payloadObj = this.ruleMappingDataForPayload;\r\n    payloadObj.creatorId = this.currentUser;\r\n    payloadObj.msgMappingDetails = this.rulemappingDetails.value;\r\n    if(payloadObj.approvedEver == 'NO' ){\r\n      payloadObj.approvedEver = 'N'\r\n    }\r\n    if(payloadObj.approvedEver == 'YES' ){\r\n      payloadObj.approvedEver = 'Y'\r\n    }\r\n    if(payloadObj.approvedStatus == 'UNAUTHORIZED' ){\r\n      payloadObj.approvedStatus = 'U'\r\n    }\r\n    if(payloadObj.approvedStatus == 'AUTHORIZED' ){\r\n      payloadObj.approvedStatus = 'A'\r\n    }\r\n    if(payloadObj.recordStatus == 'OPEN' ){\r\n      payloadObj.recordStatus = 'O'\r\n    }\r\n    if(payloadObj.recordStatus == 'CLOSE' ){\r\n      payloadObj.recordStatus = 'C'\r\n    }\r\n    this.rulemap.updatingRuleMapping(payloadObj, this.currentUser).subscribe(resp => {\r\n      console.log(resp);\r\n      if (resp) {\r\n        this.addSysRespData = resp;\r\n        this.auditLog();\r\n        this.disableSubmitBtn = true;\r\n        Swal.fire({text:'Record is Updated',\r\n        icon:'success'});\r\n        this.submit=false;\r\n        this.hideFetch=false;\r\n        this.formTouched=!this.ruleMappingForm.touched;\r\n      }\r\n    },(err:any) => {\r\n      console.log(err.error.text);\r\n      Swal.fire({text:'Unable to update the record, server error!',\r\n      icon:'error'});\r\n    });\r\n  }\r\n}\r\n\r\nexport class MdmtMessageMapping {\r\n  id: any;\r\n  sourceTranslationId: any;\r\n  targetTranslationId: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n}\r\nexport class MdmtMessageMappingDet {\r\n  id: any;\r\n  messageMappingId;\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  defaultValue: any;\r\n  sourceKey: any;\r\n  destinationKey: any;\r\n}\r\nexport class ruleMapDto {\r\n  mdmtMessageMapping: MdmtMessageMapping;\r\n  mdmtMessageMappingDet: Array<MdmtMessageMappingDet>;\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CanDeactivateGuard } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { ConversionComponent } from './conversion/conversion.component';\r\nimport { RuleMappingCreateComponent } from './rule-mapping-create/rule-mapping-create.component';\r\nimport { RuleMappingDetailsComponent } from './rule-mapping-details/rule-mapping-details.component';\r\nimport { RuleMappingComponent } from './rule-mapping/rule-mapping.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'create',\r\n    component:RuleMappingCreateComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'edit/:mapId',\r\n    component:RuleMappingDetailsComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'summary',\r\n    component:RuleMappingComponent\r\n  },\r\n  {\r\n    path:'conversion',\r\n    component:ConversionComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RuleMappingRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RuleMappingRoutingModule } from './rule-mapping-routing.module';\r\nimport { RuleMappingComponent } from './rule-mapping/rule-mapping.component';\r\nimport { RuleMappingDetailsComponent } from './rule-mapping-details/rule-mapping-details.component';\r\nimport { RuleMappingCreateComponent } from './rule-mapping-create/rule-mapping-create.component';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ConversionComponent } from './conversion/conversion.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RuleMappingComponent,\r\n    RuleMappingDetailsComponent,\r\n    RuleMappingCreateComponent,\r\n    ConversionComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RuleMappingRoutingModule,\r\n    DataTablesModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgSelectModule\r\n  ]\r\n})\r\nexport class RuleMappingModule { }\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <div class=\"dbCardStyle\">\r\n    <div class=\"row g-3 pb-3 justify-content-end\">\r\n      <div class=\"col-auto\"  *ngIf=\"roleCodes.new\">\r\n        <a [routerLink]=\"['/rule-mapping/create']\" [routerLinkActive]=\"['active']\" class=\"btn smBtn minWdSmBtn btnPrimary\">{{roleCodes.new.labelDescription}}</a>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <a [routerLink]=\"['/dashboard']\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</a>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n    <table datatable id=\"dbTable1\" [dtOptions]=\"dtOptions\"  class=\"dataTable table tableStyle  nowrap vAlignMdl\" style=\"width:100%\">\r\n      <thead>\r\n        <tr>\r\n          <th>Source System</th>\r\n          <th>Destination System</th>\r\n          <th>Auth Status</th>\r\n          <th>Record Status</th>\r\n          <th>Date</th>\r\n          <!-- <th>Conversion</th> -->\r\n          <th>Action</th>\r\n      \r\n        </tr>\r\n      </thead>\r\n      <tbody *ngIf=\"ruleMappingListResp?.length != 0\">\r\n        <tr *ngFor=\"let data of ruleMappingListResp\">\r\n          <td> <a style=\"cursor: pointer;\" (click)=\"getById(data)\" class=\"primaryColor\">{{ data.sourceTransDetId}}</a></td>\r\n          <td>{{ data.targetTransDetId }}</td>\r\n          <td>{{ data.mdmtMessageMapping.approvedStatus}}</td>\r\n          <td>{{ data.mdmtMessageMapping.recordStatus }}</td>\r\n          <td>{{ data.mdmtMessageMapping.createdTime | date:'medium' }}</td>\r\n          <td>\r\n            <button  class=\"btn\" style=\"color: red\" title=\"Authorize\" [disabled]=\"!(data.mdmtMessageMapping.approvedStatus== 'U' || data.mdmtMessageMapping.approvedStatus== 'UNAUTHORIZED' || data.mdmtMessageMapping.approvedStatus == 'Unauthorized')\" (click)=\"auth(data)\">\r\n                \r\n              <img class=\"summaryIcon\" src=\"assets/images/authorize.svg\" alt=\"Authorize\">\r\n              </button>\r\n            <button class=\"btn\" style=\"color: red\" title=\"Close\" *ngIf=\"(data.mdmtMessageMapping.recordStatus== 'O' || data.mdmtMessageMapping.recordStatus== 'Open' || data.mdmtMessageMapping.recordStatus== 'OPEN') && (data.mdmtMessageMapping.approvedEver== 'Y' || data.mdmtMessageMapping.approvedEver== 'YES')\" (click)=\"close(data)\">\r\n                \r\n              <img class=\"summaryIcon\" src=\"assets/images/CROSS1.svg\"   alt=\"...\">\r\n              </button> \r\n             <button class=\"btn\" style=\"color: red\" title=\"Reopen\" *ngIf=\"(data.mdmtMessageMapping.recordStatus == 'CLOSED' || data.mdmtMessageMapping.recordStatus == 'Close') && (data.mdmtMessageMapping.approvedEver == 'YES' || data.mdmtMessageMapping.approvedEver == 'Y')\"\r\n \r\n                \r\n                      (click)=\"open(data)\">\r\n              \r\n              <img class=\"summaryIcon\" src=\"assets/images/open.svg\"  alt=\"...\">\r\n              </button>\r\n              <button class=\"btn\" style=\"color: red\" title=\"Delete\" *ngIf=\"data.mdmtMessageMapping.approvedEver== 'N' || data.mdmtMessageMapping.approvedEver== 'NO'\" (click)=\"delete(data)\">\r\n                 \r\n                <img class=\"summaryIcon\" src=\"assets/images/delete.svg\" alt=\"...\">\r\n              </button>\r\n               \r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tbody *ngIf=\"ruleMappingListResp?.length == 0\">\r\n        <tr>\r\n         <!-- <td colspan=\"3\" class=\"no-data-available\">No data!</td> -->\r\n        </tr>\r\n      </tbody>  \r\n    </table>\r\n  </div>\r\n    <ng-container *ngIf=\"isLoading\">\r\n      <div class=\"loading-page-center\">\r\n        <span class=\"indicator-progress\">Please wait...\r\n          <span class=\"spinner-border spinner-border-sm align-middle ms-2\"></span></span>\r\n      </div>\r\n    </ng-container>\r\n    \r\n  </div>\r\n\r\n\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ItemsList } from '@ng-select/ng-select/lib/items-list';\r\nimport { Subject } from 'rxjs';\r\nimport { AppConstants } from 'src/app/shared/config/app.constant';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'npr-rule-mapping',\r\n  templateUrl: './rule-mapping.component.html',\r\n  styleUrls: ['./rule-mapping.component.scss'],\r\n})\r\nexport class RuleMappingComponent implements OnInit {\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  ruleMappingListResp: any = [];\r\n  isLoading: boolean = false;\r\n  roleCodes = new permissionsLabels();\r\n  currentUser: string;\r\n  addSysRespData: Object;\r\n  editBtn: boolean;\r\n  authBtn: boolean;\r\n  deleted: boolean;\r\n  reopenBtn: boolean;\r\n  authorizeDone: boolean;\r\n  closeBtn: boolean;\r\n  authBtnHide: boolean;\r\n  statusArr: String[] = ['Authorized', 'Unauthorized', 'Open', 'Close'];\r\n  totalPages: any;\r\n  totalRecords: any;\r\n  API_URL = AppConstants.baseURL;\r\n  mappingDetailsArray: any;\r\n\r\n  constructor(\r\n    private rulelist: RuleService,\r\n    private roleService: RoleService,\r\n    private router: Router,\r\n    private addSystem: AddSystemService,\r\n    private cdr: ChangeDetectorRef,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n    this.dtOptions = {\r\n      pagingType: 'full_numbers',\r\n      pageLength: 5,\r\n      serverSide: true,\r\n      columnDefs: [{ type: 'date', targets: [4] }],\r\n      order: [[4, 'desc']],\r\n      // processing: true,\r\n      lengthMenu: [\r\n        [5, 10, 20, 30,-1],\r\n        [5, 10, 20, 30,\"ALL\"],\r\n      ], \r\n      // columnDefs: [ { type: 'date', 'targets': [5] } ],\r\n      // order: [[5, 'desc']],\r\n      ajax: (dataTablesParameters: any, callback) => {\r\n        \r\n        dataTablesParameters.minNumber = dataTablesParameters.start + 1;\r\n        dataTablesParameters.maxNumber =\r\n          dataTablesParameters.start + dataTablesParameters.length;\r\n        console.log(\r\n          dataTablesParameters.minNumber,\r\n          dataTablesParameters.maxNumber\r\n        );\r\n        const pageNo = Math.floor(dataTablesParameters.minNumber / dataTablesParameters.length);\r\n        const pageSize = dataTablesParameters.length;\r\n        const search=dataTablesParameters.search.value\r\n        this.http.get<any>(`${this.API_URL}`+`/msgApi/getAllMapping?pageNo=${pageNo}&pageSize=${pageSize}&search=${search}`)\r\n          .subscribe(resp => {\r\n            ;\r\n            console.log(resp);\r\n            for (let item of resp.result) {\r\n              item.recordStatus = this.statusArr.find((i) =>\r\n                i.startsWith(item.recordStatus)\r\n              );\r\n              item.approvedStatus = this.statusArr.find((i)=>\r\n              i.startsWith(item.approvedStatus)\r\n              );\r\n            }\r\n            \r\n            this.totalPages = resp.totalNoOfPages;\r\n            this.totalRecords = resp.totalRecords;\r\n            this.ruleMappingListResp = resp.result;\r\n            for (let item of this.ruleMappingListResp) {\r\n              this.auditLog(item);\r\n            }\r\n            \r\n           \r\n            this.isLoading = false;\r\n            this.cdr.markForCheck();\r\n\r\n            callback({\r\n              recordsTotal: resp.totalRecords,\r\n              recordsFiltered: resp.totalRecords,\r\n              data: [],\r\n            });\r\n          });\r\n      },\r\n    };\r\n\r\n    // this.fetchinglistRuleMapping();\r\n    this.roleService.fetchScreenPermissions('Rule Mapping');\r\n    this.roleService.screenLabelList.subscribe(\r\n      (message) => (this.roleCodes = message)\r\n    );\r\n    console.log(this.roleCodes);\r\n  }\r\n  auditLog(ruleMappingListResp) {\r\n    console.log(ruleMappingListResp);\r\n    if (ruleMappingListResp.mdmtMessageMapping.approvedStatus =='U' || ruleMappingListResp.mdmtMessageMapping.approvedStatus =='Unauthorized' || ruleMappingListResp.mdmtMessageMapping.approvedStatus =='UNAUTHORIZED') {\r\n      ruleMappingListResp.mdmtMessageMapping.approvedStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'A' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'Authorized' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'AUTHORIZED') {\r\n      ruleMappingListResp.mdmtMessageMapping.approvedStatus = 'AUTHORIZED'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.recordStatus == 'O' || ruleMappingListResp.mdmtMessageMapping.recordStatus == 'Open') {\r\n      ruleMappingListResp.mdmtMessageMapping.recordStatus = 'OPEN'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.recordStatus == 'C' || ruleMappingListResp.mdmtMessageMapping.recordStatus == 'Close') {\r\n      ruleMappingListResp.mdmtMessageMapping.recordStatus = 'CLOSED'\r\n    }\r\n    if (ruleMappingListResp.firstTimeAuth == 'N') {\r\n      console.log(\"NO\");\r\n      ruleMappingListResp.firstTimeAuth = 'NO'\r\n    }\r\n    if (ruleMappingListResp.firstTimeAuth == 'Y') {\r\n      ruleMappingListResp.firstTimeAuth = 'YES'\r\n    }\r\n  }\r\n  fetchinglistRuleMapping() {\r\n    this.isLoading = true;\r\n    this.rulelist.fetchingruleMapping().subscribe((resp: any) => {\r\n      for (let item of resp.result) {\r\n        item.recordStatus = this.statusArr.find((i) =>\r\n          i.startsWith(item.recordStatus)\r\n        );\r\n        item.approvedStatus = this.statusArr.find((i)=>\r\n        i.startsWith(item.approvedStatus)\r\n        );\r\n      }\r\n      console.log(resp);\r\n      this.ruleMappingListResp = resp.result;\r\n      // this.auditLog();\r\n      this.isLoading = false;\r\n      this.cdr.markForCheck();\r\n\r\n      this.dtTrigger.next();\r\n    });\r\n  }\r\n\r\n  getById(data) {\r\n    console.log('OnClick', data);\r\n    let id: any = 0;\r\n    if (data.mdmtMessageMapping.msgMappingDetails.length> 0) {\r\n      data.mappingId=data.mdmtMessageMapping.msgMappingDetails[0].mappingId\r\n    }\r\n    console.log(id);\r\n\r\n    this.rulelist.getruleMappingById(id, data.mappingId).subscribe((resp) => {\r\n      console.log(resp);\r\n      this.mappingDetailsArray=resp.mdmtMessageMappingDet;\r\n      let queryParams = {\r\n        sourceTransDetId: resp.sourceTransDetId,\r\n        targetTransDetId: resp.targetTransDetId,\r\n        mdmtMessageMappingDet: resp.mdmtMessageMappingDet,\r\n        responseData: data,\r\n      };\r\n      console.log(queryParams);\r\n      this.addSystem.sendNavParam(queryParams);\r\n      this.router.navigate(['/rule-mapping/edit', data.mappingId]);\r\n    });\r\n  }\r\n  open(data){\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        \r\n        this.rulelist.editRuleMapping(\"open\", this.currentUser, data).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.authBtnHide = false;\r\n          this.editBtn = false;\r\n          this.authBtn = false;\r\n          Swal.fire({ text: 'Record is Opened', icon: 'success' }).then(() => window.location.reload());\r\n          // this.toastService.successMessage('Record Opened!', '');\r\n        });\r\n      }\r\n    }))\r\n\r\n  }\r\n  close(data){\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        // let payloadObj: any = {};\r\n        // payloadObj = this.ruleMappingDataForPayload;\r\n        // payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n        this.rulelist.editRuleMapping(\"close\", this.currentUser, data).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.deleted = false;\r\n          this.reopenBtn = false;\r\n          Swal.fire({ text: 'Record is  Closed', icon: 'success' }).then(() => window.location.reload());\r\n          // this.toastService.successMessage('Record is Closed', '');\r\n        });\r\n      }\r\n    }))\r\n  \r\n\r\n\r\n  }\r\n  delete(data){\r\n    console.log(data);\r\n    \r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        this.rulelist.ondeleteMapping(data.mappingId, this.currentUser).subscribe((resp) => {\r\n          if (resp) {\r\n            this.deleted = true;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.closeBtn = true;\r\n\r\n            // this.toastService.successMessage('Deleted Successfully!', '');\r\n\r\n            Swal.fire({\r\n              title: 'Record is Deleted',\r\n              confirmButtonText: 'Ok'\r\n            }).then(() => window.location.reload());\r\n\r\n          }\r\n          else {\r\n            Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n\r\n  }\r\n  auth(data){\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        console.log(data.creatorId);\r\n        \r\n\r\n        if (this.currentUser == data.creatorId) {\r\n          Swal.fire('Maker cannot authorize the record!');\r\n          // this.toastService.successMessage('Maker cannot authorize!', '');\r\n        }\r\n        else {\r\n          \r\n          this.rulelist.editRuleMapping(\"auth\", this.currentUser, data).subscribe((resp) => {\r\n            this.authorizeDone = true;\r\n            this.addSysRespData = resp;\r\n            Swal.fire({ text: 'Record is Authorized' }).then(() => window.location.reload());\r\n            // this.toastService.successMessage('Record Authorized!', '');\r\n          });\r\n        }\r\n      }\r\n    }))\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n}"]}