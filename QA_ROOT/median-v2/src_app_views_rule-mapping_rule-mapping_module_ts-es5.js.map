{"version":3,"mappings":"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;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAKA;;AACTA;;AAAGA;;AAA8BA;;AACnCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAgBA;;AACpBA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AACEA;;AAOFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAOA;;AACXA;;AAAGA;;AAA+BA;;AACpCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAkBA;;AACtBA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAwBA;;AAC5BA;;AACEA;;AAOFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAoBA;;AACxBA;;AACEA;;AASFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAmBA;;AACvBA;;AAAGA;;AAA8BA;;AACnCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;;;AA30BQA;;AAAAA;;AACMA;;AAAAA;;AA4BMA;;AAAAA;;AAgEEA;;AAAAA;;AAsCAA;;AAAAA;;AAKkBA;;AAAAA;;AAGlBA;;AAAAA;;AAyCQA;;AAAAA;;AAmfbA;;AAAAA;;AAkBDA;;AAAAA;;AAmBAA;;AAAAA;;AAwBCA;;AAAAA;;AAkBDA;;AAAAA;;AAmBAA;;AAAAA;;AA6BAA;;AAAAA;;AA8BCA;;AAAAA;;;;;;;;UC5EJxL;;;;UAaAsL;;;;UASArL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1wBb,UAAM2O,MAAM,GAAW,CACrB;AACEC,YAAI,EAAC,QADP;AAEEC,iBAAS,EAACC,0GAFZ;AAGEC,qBAAa,EAAE,CAACC,0FAAD;AAHjB,OADqB,EAKnB;AACAJ,YAAI,EAAC,aADL;AAEAC,iBAAS,EAACI,6GAFV;AAGAF,qBAAa,EAAE,CAACC,0FAAD;AAHf,OALmB,EASnB;AACAJ,YAAI,EAAC,SADL;AAEAC,iBAAS,EAACK;AAFV,OATmB,EAarB;AACEN,YAAI,EAAC,YADP;AAEEC,iBAAS,EAACM;AAFZ,OAbqB,CAAvB;;UAuBaC;;;;;yBAAAA;AAAwB;;;cAAxBA;;;kBAHF,CAACC,mEAAsBV,MAAtB,CAAD,GACCU;;;;4HAECD,2BAAwB;AAAAE;AAAAC,oBAFzBF,yDAEyB;AAAA;AAFb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAXG;;;;;yBAAAA;AAAiB;;;cAAjBA;;;kBATF,CACPC,yDADO,EAEPC,kFAFO,EAGPC,gEAHO,EAIPpD,+DAJO,EAKPA,uDALO,EAMPqD,gEANO;;;;4HASEJ,oBAAiB;AAAAK,yBAd1BC,sFAc0B,EAb1BC,6GAa0B,EAZ1BC,0GAY0B,EAX1BC,iFAW0B;AAXPX,oBAGnBG,yDAHmB,EAInBC,kFAJmB,EAKnBC,gEALmB,EAMnBpD,+DANmB,EAOnBA,uDAPmB,EAQnBqD,gEARmB;AAWO;AAHZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBZ9Q;;AACEA;;AAAmHA;;AAAkCA;;AACvJA;;;;;;AADKA;;AAAAA,wJAAuC,kBAAvC,EAAuCA,qEAAvC;;AAAgHA;;AAAAA;;;;;;;;AAiC/GA;;AAA4SA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE1SA;;AACAA;;;;;;;;AACDA;;AAGSA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAERA;;AACAA;;;;;;;;AACAA;;AAAwJA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEtJA;;AACFA;;;;;;;;;;;;AA1BNA;;AACEA;;AAAKA;;AAA4BA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6CA;;AAA0BA;;AAAIA;;AAC5GA;;AAAIA;;AAA2BA;;AAC/BA;;AAAIA;;AAA2CA;;AAC/CA;;AAAIA;;AAA0CA;;AAC9CA;;AAAIA;;;;AAAyDA;;AAC7DA;;AAAIA;;AAA4FA;;AAAUA;;AAASA;;AACnHA;;AACEA;;AAA8OA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE5OA;;AACAA;;AACFA;;AAICA;;AAOCA;;AAKJA;;AACFA;;;;;;AA5BgFA;;AAAAA;;AAC1EA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AACgDA;;AAAAA;;AAEQA;;AAAAA;;AAIJA;;AAAAA;;AAIEA;;AAAAA;;AAOCA;;AAAAA;;;;;;AAxB/DA;;AACEA;;AA8BFA;;;;;;AA9BuBA;;AAAAA;;;;;;AA+BvBA;;AACEA;;AAGFA;;;;;;AAGFA;;AACEA;;AACEA;;AAAiCA;;AAC/BA;;AAAwEA;;AAC5EA;;AACFA;;;;;;;;UCtDSoR;AAqBX,uCACUxU,QADV,EAEUgE,WAFV,EAGU/D,MAHV,EAIUC,SAJV,EAKUgE,GALV,EAMUuQ,IANV,EAM0B;AAAA;;AALhB;AACA;AACA;AACA;AACA;AACA;AA1BV,2BAAiB,IAAIjQ,yCAAJ,EAAjB;AACA,2BAAiC,EAAjC;AACA,qCAA2B,EAA3B;AACA,2BAAqB,KAArB;AACA,2BAAY,IAAImM,2FAAJ,EAAZ;AAUA,2BAAsB,CAAC,YAAD,EAAe,cAAf,EAA+B,MAA/B,EAAuC,OAAvC,CAAtB;AAGA,yBAAU+D,oFAAV;AAUI;;;;iBAEJ,oBAAQ;AAAA;;AACN,iBAAKjQ,WAAL,GAAmBnE,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;AACE,iBAAKL,SAAL,CAAe0C,YAAf,CAA4B;AAC1B/B,yBAAW,EAAE;AADa,aAA5B;AAGAP,wBAAY,CAACuC,OAAb,CAAqB,MAArB,EAA6B,EAA7B;AAEF,iBAAK8R,SAAL,GAAiB;AACfC,wBAAU,EAAE,cADG;AAEfC,wBAAU,EAAE,CAFG;AAGfC,wBAAU,EAAE,IAHG;AAIfC,wBAAU,EAAE,CAAC;AAAEC,oBAAI,EAAE,MAAR;AAAgBC,uBAAO,EAAE,CAAC,CAAD;AAAzB,eAAD,CAJG;AAKfC,mBAAK,EAAE,CAAC,CAAC,CAAD,EAAI,MAAJ,CAAD,CALQ;AAMf;AACAC,wBAAU,EAAE,CACV,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAe,CAAC,CAAhB,CADU,EAEV,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAe,KAAf,CAFU,CAPG;AAWf;AACA;AACAC,kBAAI,EAAE,cAACC,oBAAD,EAA4BC,QAA5B,EAAwC;AAE5CD,oCAAoB,CAACE,SAArB,GAAiCF,oBAAoB,CAACG,KAArB,GAA6B,CAA9D;AACAH,oCAAoB,CAACI,SAArB,GACEJ,oBAAoB,CAACG,KAArB,GAA6BH,oBAAoB,CAACvI,MADpD;AAEApM,uBAAO,CAACC,GAAR,CACE0U,oBAAoB,CAACE,SADvB,EAEEF,oBAAoB,CAACI,SAFvB;AAIA,oBAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWP,oBAAoB,CAACE,SAArB,GAAiCF,oBAAoB,CAACvI,MAAjE,CAAf;AACA,oBAAM+I,QAAQ,GAAGR,oBAAoB,CAACvI,MAAtC;AACA,oBAAMnB,MAAM,GAAC0J,oBAAoB,CAAC1J,MAArB,CAA4BnJ,KAAzC;;AACA,uBAAI,CAACiS,IAAL,CAAU5S,GAAV,CAAmB,UAAG,OAAI,CAACiU,OAAR,2CAAkDJ,MAAlD,uBAAqEG,QAArE,qBAAwFlK,MAAxF,CAAnB,EACGlL,SADH,CACa,cAAI,EAAG;AAChB;AACAC,yBAAO,CAACC,GAAR,CAAYC,IAAZ;;AAFgB,6DAGCA,IAAI,CAAC0F,MAHN;AAAA;;AAAA;AAAA;AAAA,0BAGPoD,IAHO;AAIdA,0BAAI,CAAC5B,YAAL,GAAoB,OAAI,CAACiO,SAAL,CAAenM,IAAf,CAAoB,UAAC8E,CAAD;AAAA,+BACtCA,CAAC,CAACsH,UAAF,CAAatM,IAAI,CAAC5B,YAAlB,CADsC;AAAA,uBAApB,CAApB;AAGA4B,0BAAI,CAACwF,cAAL,GAAsB,OAAI,CAAC6G,SAAL,CAAenM,IAAf,CAAoB,UAAC8E,CAAD;AAAA,+BAC1CA,CAAC,CAACsH,UAAF,CAAatM,IAAI,CAACwF,cAAlB,CAD0C;AAAA,uBAApB,CAAtB;AAPc;;AAGhB,wEAA8B;AAAA;AAO7B;AAVe;AAAA;AAAA;AAAA;AAAA;;AAYhB,yBAAI,CAAC+G,UAAL,GAAkBrV,IAAI,CAACsV,cAAvB;AACA,yBAAI,CAACC,YAAL,GAAoBvV,IAAI,CAACuV,YAAzB;AACA,yBAAI,CAACC,mBAAL,GAA2BxV,IAAI,CAAC0F,MAAhC;;AAdgB,8DAeC,OAAI,CAAC8P,mBAfN;AAAA;;AAAA;AAehB,2EAA2C;AAAA,0BAAlC1M,IAAkC;;AACzC,6BAAI,CAAC0F,QAAL,CAAc1F,IAAd;AACD;AAjBe;AAAA;AAAA;AAAA;AAAA;;AAoBhB,yBAAI,CAAC2M,SAAL,GAAiB,KAAjB;;AACA,yBAAI,CAACnS,GAAL,CAASsC,YAAT;;AAEA8O,0BAAQ,CAAC;AACPgB,gCAAY,EAAE1V,IAAI,CAACuV,YADZ;AAEPI,mCAAe,EAAE3V,IAAI,CAACuV,YAFf;AAGP7L,wBAAI,EAAE;AAHC,mBAAD,CAAR;AAKD,iBA7BH;AA8BD;AAvDc,aAAjB,CAPM,CAiEN;;AACA,iBAAKtG,WAAL,CAAiBuB,sBAAjB,CAAwC,cAAxC;AACA,iBAAKvB,WAAL,CAAiBwB,eAAjB,CAAiC/E,SAAjC,CACE,UAACiF,OAAD;AAAA,qBAAc,OAAI,CAACD,SAAL,GAAiBC,OAA/B;AAAA,aADF;AAGAhF,mBAAO,CAACC,GAAR,CAAY,KAAK8E,SAAjB;AACD;;;iBACD,kBAAS2Q,mBAAT,EAA4B;AAC1B1V,mBAAO,CAACC,GAAR,CAAYyV,mBAAZ;;AACA,gBAAIA,mBAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,IAAwD,GAAxD,IAA+DkH,mBAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,IAAwD,cAAvH,IAAyIkH,mBAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,IAAwD,cAArM,EAAqN;AACnNkH,iCAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,GAAwD,cAAxD;AACD;;AACD,gBAAIkH,mBAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,IAAyD,GAAzD,IAAgEkH,mBAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,IAAyD,YAAzH,IAAyIkH,mBAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,IAAyD,YAAtM,EAAoN;AAClNkH,iCAAmB,CAAC/E,kBAApB,CAAuCnC,cAAvC,GAAwD,YAAxD;AACD;;AACD,gBAAIkH,mBAAmB,CAAC/E,kBAApB,CAAuCvJ,YAAvC,IAAuD,GAAvD,IAA8DsO,mBAAmB,CAAC/E,kBAApB,CAAuCvJ,YAAvC,IAAuD,MAAzH,EAAiI;AAC/HsO,iCAAmB,CAAC/E,kBAApB,CAAuCvJ,YAAvC,GAAsD,MAAtD;AACD;;AACD,gBAAIsO,mBAAmB,CAAC/E,kBAApB,CAAuCvJ,YAAvC,IAAuD,GAAvD,IAA8DsO,mBAAmB,CAAC/E,kBAApB,CAAuCvJ,YAAvC,IAAuD,OAAzH,EAAkI;AAChIsO,iCAAmB,CAAC/E,kBAApB,CAAuCvJ,YAAvC,GAAsD,QAAtD;AACD;;AACD,gBAAIsO,mBAAmB,CAACI,aAApB,IAAqC,GAAzC,EAA8C;AAC5C9V,qBAAO,CAACC,GAAR,CAAY,IAAZ;AACAyV,iCAAmB,CAACI,aAApB,GAAoC,IAApC;AACD;;AACD,gBAAIJ,mBAAmB,CAACI,aAApB,IAAqC,GAAzC,EAA8C;AAC5CJ,iCAAmB,CAACI,aAApB,GAAoC,KAApC;AACD;AACF;;;iBACD,mCAAuB;AAAA;;AACrB,iBAAKH,SAAL,GAAiB,IAAjB;AACA,iBAAKrW,QAAL,CAAcyW,mBAAd,GAAoChW,SAApC,CAA8C,UAACG,IAAD,EAAc;AAAA,0DACzCA,IAAI,CAAC0F,MADoC;AAAA;;AAAA;AAAA;AAAA,sBACjDoD,IADiD;AAExDA,sBAAI,CAAC5B,YAAL,GAAoB,OAAI,CAACiO,SAAL,CAAenM,IAAf,CAAoB,UAAC8E,CAAD;AAAA,2BACtCA,CAAC,CAACsH,UAAF,CAAatM,IAAI,CAAC5B,YAAlB,CADsC;AAAA,mBAApB,CAApB;AAGA4B,sBAAI,CAACwF,cAAL,GAAsB,OAAI,CAAC6G,SAAL,CAAenM,IAAf,CAAoB,UAAC8E,CAAD;AAAA,2BAC1CA,CAAC,CAACsH,UAAF,CAAatM,IAAI,CAACwF,cAAlB,CAD0C;AAAA,mBAApB,CAAtB;AALwD;;AAC1D,uEAA8B;AAAA;AAO7B;AARyD;AAAA;AAAA;AAAA;AAAA;;AAS1DxO,qBAAO,CAACC,GAAR,CAAYC,IAAZ;AACA,qBAAI,CAACwV,mBAAL,GAA2BxV,IAAI,CAAC0F,MAAhC,CAV0D,CAW1D;;AACA,qBAAI,CAAC+P,SAAL,GAAiB,KAAjB;;AACA,qBAAI,CAACnS,GAAL,CAASsC,YAAT;;AAEA,qBAAI,CAAC9D,SAAL,CAAegU,IAAf;AACD,aAhBD;AAiBD;;;iBAED,iBAAQpM,IAAR,EAAY;AAAA;;AACV5J,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB2J,IAAvB;AACA,gBAAItC,EAAE,GAAQ,CAAd;;AACA,gBAAIsC,IAAI,CAAC+G,kBAAL,CAAwBnK,iBAAxB,CAA0C4F,MAA1C,GAAkD,CAAtD,EAAyD;AACvDxC,kBAAI,CAAChD,SAAL,GAAegD,IAAI,CAAC+G,kBAAL,CAAwBnK,iBAAxB,CAA0C,CAA1C,EAA6CI,SAA5D;AACD;;AACD5G,mBAAO,CAACC,GAAR,CAAYqH,EAAZ;AAEA,iBAAKhI,QAAL,CAAc2W,kBAAd,CAAiC3O,EAAjC,EAAqCsC,IAAI,CAAChD,SAA1C,EAAqD7G,SAArD,CAA+D,UAACG,IAAD,EAAS;AACtEF,qBAAO,CAACC,GAAR,CAAYC,IAAZ;AACA,qBAAI,CAACgW,mBAAL,GAAyBhW,IAAI,CAACiW,qBAA9B;AACA,kBAAIC,WAAW,GAAG;AAChB3O,gCAAgB,EAAEvH,IAAI,CAACuH,gBADP;AAEhBC,gCAAgB,EAAExH,IAAI,CAACwH,gBAFP;AAGhByO,qCAAqB,EAAEjW,IAAI,CAACiW,qBAHZ;AAIhBE,4BAAY,EAAEzM;AAJE,eAAlB;AAMA5J,qBAAO,CAACC,GAAR,CAAYmW,WAAZ;;AACA,qBAAI,CAAC5W,SAAL,CAAe8W,YAAf,CAA4BF,WAA5B;;AACA,qBAAI,CAAC7W,MAAL,CAAYgX,QAAZ,CAAqB,CAAC,oBAAD,EAAuB3M,IAAI,CAAChD,SAA5B,CAArB;AACD,aAZD;AAaD;;;iBACD,cAAKgD,IAAL,EAAS;AAAA;;AACP5J,mBAAO,CAACC,GAAR,CAAY2J,IAAZ;AACA4M,oEACE;AACE;AACAjV,kBAAI,EAAE,uCAAuC,0BAF/C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CgB,uBAAS,EAAE;AARvD,aADF,EAWEf,IAXF,CAWQ,gBAAM,EAAG;AACf3F,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B2F,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAE/B,uBAAI,CAACvG,QAAL,CAAcmH,eAAd,CAA8B,MAA9B,EAAsC,OAAI,CAAC1C,WAA3C,EAAwD6F,IAAxD,EAA8D7J,SAA9D,CAAwE,UAACG,IAAD,EAAS;AAC/E,yBAAI,CAACkG,cAAL,GAAsBlG,IAAtB;AACA,yBAAI,CAAC4Q,WAAL,GAAmB,KAAnB;AACA,yBAAI,CAACe,OAAL,GAAe,KAAf;AACA,yBAAI,CAACC,OAAL,GAAe,KAAf;AACA0E,0EAAU;AAAEjV,wBAAI,EAAE,kBAAR;AAA4BC,wBAAI,EAAE;AAAlC,mBAAV,EAAyDmE,IAAzD,CAA8D;AAAA,2BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,mBAA9D,EAL+E,CAM/E;AACD,iBAPD;AAQD;AACF,aAxBD;AA0BD;;;iBACD,eAAM/M,IAAN,EAAU;AAAA;;AACR5J,mBAAO,CAACC,GAAR,CAAY2J,IAAZ;AACA4M,oEACE;AACE;AACAjV,kBAAI,EAAE,qCAAqC,0BAF7C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CgB,uBAAS,EAAE;AARvD,aADF,EAWEf,IAXF,CAWQ,gBAAM,EAAG;AACf3F,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B2F,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B;AACA;AACA;AACA,uBAAI,CAACvG,QAAL,CAAcmH,eAAd,CAA8B,OAA9B,EAAuC,OAAI,CAAC1C,WAA5C,EAAyD6F,IAAzD,EAA+D7J,SAA/D,CAAyE,UAACG,IAAD,EAAS;AAChF,yBAAI,CAACkG,cAAL,GAAsBlG,IAAtB;AACA,yBAAI,CAAC2R,OAAL,GAAe,IAAf;AACA,yBAAI,CAACC,OAAL,GAAe,IAAf;AACA,yBAAI,CAACC,OAAL,GAAe,KAAf;AACA,yBAAI,CAAClB,SAAL,GAAiB,KAAjB;AACA2F,0EAAU;AAAEjV,wBAAI,EAAE,mBAAR;AAA6BC,wBAAI,EAAE;AAAnC,mBAAV,EAA0DmE,IAA1D,CAA+D;AAAA,2BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,mBAA/D,EANgF,CAOhF;AACD,iBARD;AASD;AACF,aA3BD;AA+BD;;;iBACD,iBAAO/M,IAAP,EAAW;AAAA;;AACT5J,mBAAO,CAACC,GAAR,CAAY2J,IAAZ;AAEA4M,oEACE;AACE;AACAjV,kBAAI,EAAE,sCAAsC,0BAF9C;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ,MARpC;AAQ4CgB,uBAAS,EAAE;AARvD,aADF,EAWEf,IAXF,CAWQ,gBAAM,EAAG;AACf3F,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B2F,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B,uBAAI,CAACvG,QAAL,CAAcqH,eAAd,CAA8BiD,IAAI,CAAChD,SAAnC,EAA8C,OAAI,CAAC7C,WAAnD,EAAgEhE,SAAhE,CAA0E,UAACG,IAAD,EAAS;AACjF,sBAAIA,IAAJ,EAAU;AACR,2BAAI,CAAC6R,OAAL,GAAe,IAAf;AACA,2BAAI,CAACF,OAAL,GAAe,IAAf;AACA,2BAAI,CAACC,OAAL,GAAe,IAAf;AACA,2BAAI,CAACE,QAAL,GAAgB,IAAhB,CAJQ,CAMR;;AAEAwE,4EAAU;AACR3P,2BAAK,EAAE,mBADC;AAERnB,uCAAiB,EAAE;AAFX,qBAAV,EAGGC,IAHH,CAGQ;AAAA,6BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,qBAHR;AAKD,mBAbD,MAcK;AACHH,4EAAU,6BAAV;AACD;AACF,iBAlBD;AAmBD;AACF,aAlCD;AAoCD;;;iBACD,cAAK5M,IAAL,EAAS;AAAA;;AACP5J,mBAAO,CAACC,GAAR,CAAY2J,IAAZ;AACA4M,oEACE;AACE;AACAjV,kBAAI,EAAE,yCAAyC,0BAFjD;AAGE+D,8BAAgB,EAAE,IAHpB;AAIEC,gCAAkB,EAAE,SAJtB;AAKEC,+BAAiB,EAAE,MALrB;AAME;AACAC,8BAAgB,EAAE,IAPpB;AAQEC,+BAAiB,EAAE,KARrB;AAQ4B,sBAAQ;AARpC,aADF,EAWEC,IAXF,CAWQ,gBAAM,EAAG;AACf3F,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B2F,MAA/B;;AACA,kBAAIA,MAAM,CAACC,WAAP,KAAuB,IAA3B,EAAiC;AAC/B7F,uBAAO,CAACC,GAAR,CAAY2J,IAAI,CAACvD,SAAjB;;AAGA,oBAAI,OAAI,CAACtC,WAAL,IAAoB6F,IAAI,CAACvD,SAA7B,EAAwC;AACtCmQ,0EAAU,oCAAV,EADsC,CAEtC;AACD,iBAHD,MAIK;AAEH,yBAAI,CAAClX,QAAL,CAAcmH,eAAd,CAA8B,MAA9B,EAAsC,OAAI,CAAC1C,WAA3C,EAAwD6F,IAAI,CAAC+G,kBAA7D,EAAiF5Q,SAAjF,CAA2F,UAACG,IAAD,EAAS;AAClG,2BAAI,CAAC0R,aAAL,GAAqB,IAArB;AACA,2BAAI,CAACxL,cAAL,GAAsBlG,IAAtB;AACAsW,4EAAU;AAAEjV,0BAAI,EAAE;AAAR,qBAAV,EAA4CoE,IAA5C,CAAiD;AAAA,6BAAM8Q,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,qBAAjD,EAHkG,CAIlG;AACD,mBALD;AAMD;AACF;AACF,aA/BD;AAiCD;;;iBAED,uBAAW;AACT;AACA,iBAAK3U,SAAL,CAAeC,WAAf;AACD;;;;;;;yBAtTU6R,uBAAoBpR;AAAA;;;cAApBoR;AAAoB1R;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADjBjCE;;AACEA;;AACEA;;AAAsBA;;AAAYA;;AACpCA;;AACAA;;AACEA;;AACEA;;AAGAA;;AACEA;;AAA2EA;;AAAIA;;AACjFA;;AACFA;;AACAA;;AACAA;;AACEA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AAAIA;;AAAkBA;;AACtBA;;AAAIA;;AAAWA;;AACfA;;AAAIA;;AAAaA;;AACjBA;;AAAIA;;AAAIA;;AACRA;;AAAIA;;AAAUA;;AACdA;;AAAIA;;AAAMA;;AAEZA;;AACFA;;AACAA;;AAgCAA;;AAKFA;;AACFA;;AACEA;;AAOFA;;AAGFA;;;;AAtE8BA;;AAAAA;;AAInBA;;AAAAA;;AAIwBA;;AAAAA;;AAarBA;;AAAAA;;AAgCAA;;AAAAA;;AAOKA;;AAAAA;;;;;;;;;","names":["_angular_core__WEBPACK_IMPORTED_MODULE_3__","ConversionComponent","rulelist","router","addSystem","fb","rxjs__WEBPACK_IMPORTED_MODULE_4__","link","localStorage","getItem","getReference","subscribe","console","log","resp","referenceId","undefined","referenceI","getRespAndRequest","conversionForm","group","FCUBS_HEADER","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","xmlhttp","XMLHttpRequest","open","xmlDoc","self","onreadystatechange","readyState","status","get","setValue","response","sweetalert2__WEBPACK_IMPORTED_MODULE_0___default","text","icon","setRequestHeader","send","xmlhttpResp","self1","dataResp","value","event","dtTrigger","unsubscribe","setReference","setItem","selectors","decls","vars","consts","template","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_7__","extsys_r20","tag_r53","tag_r60","tag_r67","tag_r74","fname_r85","fname_r93","fname_r101","tag_r109","RuleMappingCreateComponent","rulemap","roleService","formBuilder","cdr","toastService","canDeactivateGuard","MdmtMessageMapping","ruleMapDto","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_0__","rxjs__WEBPACK_IMPORTED_MODULE_8__","currentUser","gettingExternalsystem","ruleMappingForm","systemCode","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","messageType","serviceName","operationName","destinationSystems","getDestinationItem","rulemappingDetail","array","addRuleDetail","fetchingIso","fetchScreenPermissions","screenLabelList","roleCodes","message","setTimeout","isExit","touched","formTouched","sweetalert2__WEBPACK_IMPORTED_MODULE_1___default","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","then","result","isConfirmed","markForCheck","Promise","resolve","reject","operation","operationType","addSysRespData","creatorId","payloadObj","ruleMappingDataForPayload","msgMappingDetails","editRuleMapping","iconColor","ondeleteMapping","mappingId","title","navigateByUrl","hideFetch","hideSubmit","submit","enable","authStatus","recordStatus","approvedEver","id","defaultValue","messageMappingId","sourceTransDetId","targetTransDetId","sourceKey","destinationKey","index","push","getRuleMappingDetail","tempArrayList","splice","tempArrayList2","removeAt","extSysResp","externalSystem","sort","sourcesysdata","temparray","externalCreateSystemFiltered","err","rulemapping","disableFetchBtn","showfetchAll","showDestination","showSource","item","sourceIsoResp","find","element","fieldValue","showFieldNoValue","fieldNo","fetchingIsoForTcp","isoResp","isoRespData","messageBasisIso","map","data","messageBasis","fieldNoData","fieldValueData","messageKey","sourseSys","filter","system","gettingTranslationData","sourceMsg","patchValue","gettingoperationAandserv","sourceTranslationId","transId","msgTransDetails","el","translationId","target","e","extValue","toLowerCase","search","msgtype","gettingoperationAndService","sourceResp","sourceoperation","OPERATION","sourceService","SERVICE","sourceData","MdmtSystemService","updateRuleMappingSrc","sourceLabel","MdmtSystemChannel","messageChannel","messageFormat","keys","Object","x","y","length","I","translationDataService","multipleService1","O","translationDataOperation","multipleOperation1","split","matlabelSource1","matlabelSource2","destinationSource","rulemappingDest","destinationMsg","gettingmsgTypeAndDestination","destinationResp","destinationOperation","destinationService","destinationData","updateRuleMappingDest","translationDestDataService","multipleService","translationDestDataOperation","multipleOperation","labelsDestination","matLabel","matLabel2","disableSubmitBtn","reset","i","mappingObj","targetTranslationId","replace","createdTime","approverId","approvedTime","versionNo","approvedStatus","updatingRuleMapping","auditLog","showAuditLog","afterSubmit","disable","disableResetBtn","error","submittingruleMapping","MdmtMessageMappingDet","MdmtMsgTransDetails","_angular_core__WEBPACK_IMPORTED_MODULE_6__","tag_r29","item_r8","tag_r36","tag_r43","tag_r50","ctx_r60","ctx_r68","ctx_r76","ctx_r84","ctx_r24","RuleMappingDetailsComponent","_location","_route","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_1__","rxjs__WEBPACK_IMPORTED_MODULE_7__","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","rulemappingDetails","navSubscription","getNavParam","editruleMappingResp","getPrototypeOf","prototype","back","mdmtMessageMapping","gettingTranslationDataForDest","reopenBtn","authBtnHide","at","sourceRuleMappingArray","val","destinationRuleMappingArray","getRuleMappingDetails","editFetch","successMessage","edit","ruleMappingData","fetchDestination","destSys","rulemappingdest","rulemappingdestMapping","authorizeDone","editBtn","authBtn","deleted","closeBtn","editFlag","source","rulemappingData","forEach","tagName","dataType","routes","path","component","_rule_mapping_create_rule_mapping_create_component__WEBPACK_IMPORTED_MODULE_2__","canDeactivate","src_app_shared_guards_can_deactivate_guard__WEBPACK_IMPORTED_MODULE_0__","_rule_mapping_details_rule_mapping_details_component__WEBPACK_IMPORTED_MODULE_3__","_rule_mapping_rule_mapping_component__WEBPACK_IMPORTED_MODULE_4__","_conversion_conversion_component__WEBPACK_IMPORTED_MODULE_1__","RuleMappingRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_6__","imports","exports","RuleMappingModule","_angular_common__WEBPACK_IMPORTED_MODULE_7__","_rule_mapping_routing_module__WEBPACK_IMPORTED_MODULE_0__","angular_datatables__WEBPACK_IMPORTED_MODULE_4__","_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_9__","declarations","_rule_mapping_rule_mapping_component__WEBPACK_IMPORTED_MODULE_1__","_rule_mapping_details_rule_mapping_details_component__WEBPACK_IMPORTED_MODULE_2__","_rule_mapping_create_rule_mapping_create_component__WEBPACK_IMPORTED_MODULE_3__","_conversion_conversion_component__WEBPACK_IMPORTED_MODULE_5__","RuleMappingComponent","http","src_app_shared_config_app_constant__WEBPACK_IMPORTED_MODULE_0__","dtOptions","pagingType","pageLength","serverSide","columnDefs","type","targets","order","lengthMenu","ajax","dataTablesParameters","callback","minNumber","start","maxNumber","pageNo","Math","floor","pageSize","API_URL","statusArr","startsWith","totalPages","totalNoOfPages","totalRecords","ruleMappingListResp","isLoading","recordsTotal","recordsFiltered","firstTimeAuth","fetchingruleMapping","next","getruleMappingById","mappingDetailsArray","mdmtMessageMappingDet","queryParams","responseData","sendNavParam","navigate","sweetalert2__WEBPACK_IMPORTED_MODULE_2___default","window","location","reload"],"sources":["webpack:///src/app/views/rule-mapping/conversion/conversion.component.html","webpack:///src/app/views/rule-mapping/conversion/conversion.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-create/rule-mapping-create.component.html","webpack:///src/app/views/rule-mapping/rule-mapping-create/rule-mapping-create.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-details/rule-mapping-details.component.html","webpack:///src/app/views/rule-mapping/rule-mapping-details/rule-mapping-details.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-routing.module.ts","webpack:///src/app/views/rule-mapping/rule-mapping.module.ts","webpack:///src/app/views/rule-mapping/rule-mapping/rule-mapping.component.html","webpack:///src/app/views/rule-mapping/rule-mapping/rule-mapping.component.ts"],"sourcesContent":["<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Conversion</h2>\r\n  </div>\r\n  <div class=\"dbCardStyle\">\r\n    <div class=\"row g-3 pb-3 justify-content-end\"></div>\r\n    <form [formGroup]=\"conversionForm\" novalidate>\r\n      <table style=\"width: 100%\" *ngIf=\"link=='incoming' || link=='' \">\r\n        <thead>\r\n          <tr>\r\n            <th>Request</th>\r\n            <th *ngIf=\"referenceId == ''\"></th>\r\n            <th>Response</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr style=\"margin-top: 2%\">\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n                formControlName=\"FCUBS_HEADER\"\r\n              >{{dataReq}}</textarea>\r\n            </td>\r\n            <td *ngIf=\"referenceId == ''\">\r\n              <button\r\n                class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                [disabled]=\"!conversionForm.valid\"\r\n                (click)=\"process()\"\r\n              >\r\n                Process\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n              >{{ dataResp }}</textarea>\r\n             \r\n             \r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <table style=\"width: 100%\" *ngIf=\"link=='outgoing'\">\r\n        <thead>\r\n          <tr>\r\n            <th>Request</th>\r\n            <th *ngIf=\"referenceId == ''\"></th>\r\n            <th>Response</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr style=\"margin-top: 2%\">\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n              >{{ dataResp }}</textarea>\r\n             \r\n             \r\n            </td>\r\n       \r\n            <td *ngIf=\"referenceId == ''\">\r\n              <button\r\n                class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                [disabled]=\"!conversionForm.valid\"\r\n                (click)=\"process()\"\r\n              >\r\n                Process\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n                formControlName=\"FCUBS_HEADER\"\r\n              >{{dataReq}}</textarea>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n    \r\n  </div>\r\n  <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n    \r\n    <div class=\"col-auto\">\r\n      <a [routerLink]=\"['/rule-mapping/summary']\" routerLinkActive=\"router-link-active\"\r\n        class=\"btn smBtn minWdSmBtn btnSecondary\" (click)=\"exit()\">Exit</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n","\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, Validators } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Subject } from \"rxjs\";\r\nimport {\r\n  AddSystemService,\r\n  API_URL,\r\n} from \"src/app/shared/services/add-system.service\";\r\nimport { RuleService } from \"src/app/shared/services/rule.service\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n@Component({\r\n  selector: \"npr-conversion\",\r\n  templateUrl: \"./conversion.component.html\",\r\n  styleUrls: [\"./conversion.component.scss\"],\r\n})\r\nexport class ConversionComponent implements OnInit {\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  ruleMappingListResp: any = [];\r\n  dataResp:any;\r\n  dataReq:any=\"6547457\";\r\n  conversionForm: any;\r\n  referenceId: any;\r\n  link: string;\r\n\r\n  constructor(\r\n    private rulelist: RuleService,\r\n    private router: Router,\r\n    private addSystem: AddSystemService,\r\n    private fb: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.link = localStorage.getItem(\"link\");\r\n    this.addSystem.getReference().subscribe(resp=>{\r\n         console.log(resp.referenceId)\r\n         if(resp.referenceId== undefined){\r\n          resp.referenceI='';\r\n         }\r\n         this.referenceId=resp.referenceId\r\n         if(this.referenceId != \"\"){\r\n          this.getRespAndRequest()\r\n         }\r\n    })\r\n    this.conversionForm = this.fb.group({\r\n      FCUBS_HEADER: [\"\", Validators.required],\r\n    });\r\n  }\r\n  getRespAndRequest() {\r\n    var xmlhttp = new XMLHttpRequest();\r\n    xmlhttp.open(\"GET\", `http://192.168.0.14:8082/MessageConverter/fetchReqRes?reqType=incoming&referenceNo=${this.referenceId}`);\r\n    var xmlDoc;\r\n    var self = this;\r\n    xmlhttp.onreadystatechange = function () {\r\n      if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n        console.log(xmlhttp);\r\n        \r\n        // self.dataResp =this.response;\r\n      self.conversionForm.get('FCUBS_HEADER').setValue(this.response);\r\n    ;\r\n      \r\n      }\r\n      else if(xmlhttp.readyState == 4 && xmlhttp.status == 400) {\r\n        Swal.fire({text:\"Provided Input is incorrect\",\r\n      icon:'error'});\r\n        \r\n     }\r\n    \r\n    };\r\n    xmlhttp.setRequestHeader(\"Content-Type\", \"application/xml\");\r\n    xmlhttp.send('');\r\n    var xmlhttpResp = new XMLHttpRequest();\r\n    xmlhttpResp.open(\"GET\", `http://192.168.0.14:8082/MessageConverter/fetchReqRes?reqType=outgoing&referenceNo=${this.referenceId}`);\r\n    var xmlDoc;\r\n    var self1 = this;\r\n    xmlhttpResp.onreadystatechange = function () {\r\n      if (xmlhttpResp.readyState == 4 && xmlhttpResp.status == 200) {\r\n        console.log(xmlhttpResp);\r\n        \r\n        self1.dataResp=this.response;\r\n      \r\n      }\r\n      else if(xmlhttpResp.readyState == 4 && xmlhttpResp.status == 400) {\r\n        Swal.fire({text:\"Provided Input is incorrect\",\r\n      icon:'error'});\r\n        \r\n     }\r\n    };\r\n    xmlhttpResp.setRequestHeader(\"Content-Type\", \"application/xml\");\r\n    xmlhttpResp.send('');\r\n \r\n  }\r\n \r\n  process() {\r\n      var xmlhttp = new XMLHttpRequest();\r\n      xmlhttp.open(\"POST\", 'http://192.168.0.14:8082/MessageConverter/MT-MX?mx=PAC008&mt=103');\r\n      var xmlDoc;\r\n      var self = this;\r\n      xmlhttp.onreadystatechange = function () {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n          console.log(xmlhttp);\r\n          self.dataResp =this.response;\r\n        \r\n        }\r\n        else if(xmlhttp.readyState == 4 && xmlhttp.status == 400) {\r\n          Swal.fire({text:\"Provided Input is incorrect\",\r\n        icon:'error'});\r\n          \r\n       }\r\n      };\r\n      xmlhttp.setRequestHeader(\"Content-Type\", \"application/xml\");\r\n      xmlhttp.send(this.conversionForm.value.FCUBS_HEADER);\r\n    \r\n  }\r\n  onSelect(event){\r\n    this.conversionForm.get('FCUBS_HEADER').setValue('');\r\n    this.dataResp=null;\r\n  }\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n  exit(){\r\n    this.addSystem.setReference({\r\n      referenceId: '',\r\n    });\r\n    localStorage.setItem('link', '');\r\n  }\r\n\r\n}\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <form class=\"formStyle\" [formGroup]=\"ruleMappingForm\" novalidate>\r\n    <fieldset [disabled]=\"!submit\">\r\n      <div class=\"dbCardStyle\">\r\n        <div class=\"addformCol\">\r\n          <div class=\"row g-4 align-items-center\">\r\n            <div class=\"col\">\r\n              <div class=\"row gy-4 align-items-end\">\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Source System<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <!-- <ng-select formControlName=\"systemCode\" class=\"form-select\" aria-label=\"Default select example\" \r\n                        (change)=\"onSourseSelection($event)\"> -->\r\n                  <ng-select\r\n                    formControlName=\"systemCode\"\r\n                    [clearable]=\"false\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onSourseSelection($event)\"\r\n                  >\r\n                    <ng-option hidden value=\"\" disabled selected\r\n                      >--Please select--</ng-option\r\n                    >\r\n                    <ng-option\r\n                      *ngFor=\"let extsys of externalSystem\"\r\n                      [value]=\"extsys\"\r\n                      [hidden]=\"extsys == sourseSys\"\r\n                    >\r\n                      {{ extsys }}\r\n                    </ng-option>\r\n                  </ng-select>\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Message Type<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <div *ngIf=\"sourceMsg\">\r\n                    <select\r\n                      formControlName=\"messageType\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      (change)=\"onSelectionOFMessageType($event)\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option value=\"I\">Incoming</option>\r\n                      <option value=\"O\">Outgoing</option>\r\n                    </select>\r\n                  </div>\r\n                  <div *ngIf=\"!sourceMsg\">\r\n                    <input\r\n                      type=\"text\"\r\n                      formControlName=\"messageType\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Message Type\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  formControlName=\"operationName\"\r\n                  name=\"operationNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Operation Name\"\r\n                  \r\n                  />\r\n              </div> -->\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Operation <span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <div *ngIf=\"!multipleOperation1\">\r\n                    <select\r\n                      id=\"ruleName\"\r\n                      formControlName=\"operationName\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option\r\n                        *ngFor=\"let opt of translationDataOperation\"\r\n                        [value]=\"opt.headerValue\"\r\n                      >\r\n                        {{ opt.headerValue }}\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                  <div *ngIf=\"multipleOperation1\">\r\n                    <input\r\n                      id=\"ruleName\"\r\n                      type=\"text\"\r\n                      formControlName=\"operationName\"\r\n                      class=\"form-control\"\r\n                      value=\"\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Service <span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <div *ngIf=\"!multipleService1\">\r\n                    <select\r\n                      id=\"ruleName\"\r\n                      formControlName=\"serviceName\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option\r\n                        *ngFor=\"let serv of translationDataService\"\r\n                        [value]=\"serv.headerValue\"\r\n                      >\r\n                        {{ serv.headerValue }}\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"multipleService1\">\r\n                    <input\r\n                      id=\"ruleName\"\r\n                      type=\"text\"\r\n                      formControlName=\"serviceName\"\r\n                      class=\"form-control\"\r\n                      value=\"\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  name=\"serviceNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Service Name\"\r\n                  formControlName=\"serviceName\"\r\n                  \r\n                  />\r\n              </div> -->\r\n                <ng-container formGroupName=\"destinationSystems\">\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Destination System<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <!-- <ng-select formControlName=\"systemCode\" class=\"form-select\" aria-label=\"Default select example\" [items]=\"externalCreateSystemFiltered\"\r\n                              (change)=\"ondestinationSource($event)\">\r\n                              <ng-option hidden value=\"\" disabled selected >--Please select--</ng-option>\r\n                              <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\" [hidden]=\"extsys == sourseSys\">\r\n                                  {{extsys}}\r\n                              </ng-option>\r\n                      </ng-select> -->\r\n                    <!-- <ng-select [items]=\"externalCreateSystemFiltered\"\r\n                          class=\"form-select\"\r\n                          formControlName=\"systemCode\"\r\n                        (change)=\"ondestinationSource($event)\"> -->\r\n                    <ng-select\r\n                      [items]=\"externalCreateSystemFiltered\"\r\n                      [clearable]=\"false\"\r\n                      formControlName=\"systemCode\"\r\n                      placeholder=\"Please Select\"\r\n                      (change)=\"ondestinationSource($event)\"\r\n                    >\r\n                    </ng-select>\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Message Type<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <div *ngIf=\"destinationMsg\">\r\n                      <select\r\n                        formControlName=\"messageType\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                        (change)=\"msgTypeOfDestination($event)\"\r\n                      >\r\n                        <option hidden value=\"\" disabled selected>\r\n                          --Please select--\r\n                        </option>\r\n                        <option value=\"I\">Incoming</option>\r\n                        <option value=\"O\">Outgoing</option>\r\n                      </select>\r\n                    </div>\r\n                    <div *ngIf=\"!destinationMsg\">\r\n                      <input\r\n                        type=\"text\"\r\n                        formControlName=\"messageType\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Message Type\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <!-- <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                      <input\r\n                          type=\"text\"\r\n                          id=\"ruleName\"\r\n                          name=\"operationNameD\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Service Name\"\r\n                          formControlName=\"operationName\"\r\n                          \r\n                          />\r\n                    </div> -->\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Operation <span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <div *ngIf=\"!multipleOperation\">\r\n                      <select\r\n                        formControlName=\"operationName\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                        <option hidden value=\"\" disabled selected>\r\n                          --Please select--\r\n                        </option>\r\n                        <option\r\n                          *ngFor=\"let opt of translationDestDataOperation\"\r\n                          [value]=\"opt.headerValue\"\r\n                        >\r\n                          {{ opt.headerValue }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                    <div *ngIf=\"multipleOperation\">\r\n                      <input\r\n                        type=\"text\"\r\n                        formControlName=\"operationName\"\r\n                        class=\"form-control\"\r\n                        value=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Service <span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <div *ngIf=\"!multipleService\">\r\n                      <select\r\n                        id=\"ruleName\"\r\n                        formControlName=\"serviceName\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                        <option hidden value=\"\" disabled selected>\r\n                          --Please select--\r\n                        </option>\r\n                        <option\r\n                          *ngFor=\"let serv of translationDestDataService\"\r\n                          [value]=\"serv.headerValue\"\r\n                        >\r\n                          {{ serv.headerValue }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"multipleService\">\r\n                      <input\r\n                        id=\"ruleName\"\r\n                        type=\"text\"\r\n                        formControlName=\"serviceName\"\r\n                        class=\"form-control\"\r\n                        value=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <!-- <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                      <input\r\n                          type=\"text\"\r\n                          id=\"ruleName\"\r\n                          name=\"serviceNameD\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Service Name\"\r\n                          formControlName=\"serviceName\"\r\n                          \r\n                          />\r\n                    </div> -->\r\n                </ng-container>\r\n\r\n                <div class=\"col-lg-3\">\r\n                  <!-- [disabled]=\"!ruleMapping.valid ||showfetchAll\" -->\r\n                  <!-- <button  (click)=\"fetchDestination()\" \r\n                [disabled]=\"ruleMappingForm.invalid\"\r\n                        class=\"btn minWdSmBtn btnPrimary\"> -->\r\n\r\n\r\n                        <button (click)=\"fetchDestination()\"   \r\n                        class=\"btn minWdSmBtn btnPrimary\">\r\n                        Fetch\r\n                </button>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"dbCardStyle\" *ngIf=\"showSource || showDestination\">\r\n        <div class=\"addformCol\" formArrayName=\"rulemappingDetail\">\r\n          <ng-container\r\n            *ngFor=\"let item of rulemappingDetail.controls; let i = index\"\r\n          >\r\n            <ng-container [formGroupName]=\"i\">\r\n              <div class=\"row align-items-center\">\r\n                <div class=\"col\">\r\n                  <div class=\"row gy-4\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label *ngIf=\"i == 0\" for=\"roleName\" class=\"formLbl\"\r\n                        >Source System<span class=\"colorRed\">*</span></label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"sourceLabel == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'DB Connection'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"sourceLabel == 'MT' || sourceLabel == 'MX'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                        <!-- <div class=\"col-lg-6\">\r\n                                <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                  <option selected>Field Name</option>\r\n                                  <option value=\"1\">One</option>\r\n                                  <option value=\"2\">Two</option>\r\n                                  <option value=\"3\">Three</option>\r\n                                </select>\r\n                              </div> -->\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" *ngIf=\"i == 0\" class=\"formLbl\"\r\n                        >Destination system</label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"labelsDestination == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [hidden]=\"try2(fname.messagebasis)\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [hidden]=\"try2(fname.messagebasis)\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [hidden]=\"try2(fname.messagebasis)\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"labelsDestination == 'DB Connection'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingDest\"\r\n                                [hidden]=\"try2(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"\r\n                              labelsDestination == 'MT' ||\r\n                              labelsDestination == 'MX'\r\n                            \"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingDest\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                        <!-- <div class=\"col-lg-6\">\r\n                                <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                  <option selected>Tag Name</option>\r\n                                  <option value=\"1\">One</option>\r\n                                  <option value=\"2\">Two</option>\r\n                                  <option value=\"3\">Three</option>\r\n                                </select>\r\n                              </div> -->\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" *ngIf=\"i == 0\" class=\"formLbl\"\r\n                        >Default value</label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container>\r\n                            <input\r\n                              type=\"text\"\r\n                              id=\"defaultVal\"\r\n                              [ngClass]=\"{\r\n                                first: i === 0,\r\n                                'form-control': true,\r\n                                path: true\r\n                              }\"\r\n                              formControlName=\"defaultValue\"\r\n                              placeholder=\"Default value\"\r\n                            />\r\n                          </ng-container>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-4\">\r\n                  <div>\r\n                    <a\r\n                      *ngIf=\"submit\"\r\n                      (click)=\"deleteRuleMapGroup(i)\"\r\n                      class=\"deleteIcon2\"\r\n                      style=\"cursor: pointer\"\r\n                    >\r\n                      <img\r\n                        src=\"assets/images/delete-icon.svg\"\r\n                        [ngClass]=\"{ 'first-image': i === 0, image: true }\"\r\n                        alt=\"...\"\r\n                        class=\"image\"\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <br> -->\r\n            </ng-container>\r\n          </ng-container>\r\n        </div>\r\n        <div class=\"row g-3 pt-4\">\r\n          <div>\r\n            <a\r\n              *ngIf=\"submit\"\r\n              (click)=\"addRuleDetail()\"\r\n              class=\"addIcon primarybg\"\r\n            >\r\n              <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\" /></span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </fieldset>\r\n    <div class=\"row g-3 pb-3 pt-4 justify-content-end\">\r\n      <div\r\n        class=\"col-auto\"\r\n        *ngIf=\"\r\n          (addSysRespData?.recordStatus == 'O' ||\r\n            addSysRespData?.recordStatus == 'OPEN') &&\r\n          roleCodes.edit\r\n        \"\r\n        [hidden]=\"submit\"\r\n      >\r\n        <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n          {{ roleCodes.edit.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <button\r\n          (click)=\"onsaveRuleMapping()\"\r\n          [hidden]=\"!submit\"\r\n          [disabled]=\"ruleMappingForm.invalid\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          Save\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.approvedStatus == 'U' ||\r\n            addSysRespData?.approvedStatus == 'UNAUTHORIZED') &&\r\n          roleCodes.auth\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"auditChangeRuleTranslation('auth')\"\r\n          class=\"btn smBtn minWdSmBtn btnAuth\"\r\n        >\r\n          {{ roleCodes.auth.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.recordStatus == 'O' ||\r\n            addSysRespData?.recordStatus == 'OPEN') &&\r\n          addSysRespData?.approvedEver != 'NO' &&\r\n          addSysRespData?.approvedEver != 'N' &&\r\n          roleCodes.close\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"auditChangeRuleTranslation('close')\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          {{ roleCodes.close.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.recordStatus == 'C' ||\r\n            addSysRespData?.recordStatus == 'CLOSED') &&\r\n          addSysRespData?.approvedEver != 'NO' &&\r\n          addSysRespData?.approvedEver != 'N' &&\r\n          roleCodes.reopen\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"auditChangeRuleTranslation('open')\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          {{ roleCodes.reopen.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.approvedEver == 'NO' ||\r\n            addSysRespData?.approvedEver == 'N') &&\r\n          roleCodes.delete\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"deleteRuleMapping()\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          {{ roleCodes.delete.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <button\r\n          class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n          [routerLink]=\"['/rule-mapping/summary']\"\r\n        >\r\n          Exit\r\n        </button>\r\n      </div>\r\n      <!-- <div class=\"col-auto\">\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnSecondary\" (click)=\"onReset()\"\r\n            >Reset</button\r\n          >\r\n        </div> -->\r\n    </div>\r\n  </form>\r\n</div>\r\n<div *ngIf=\"!submit\" class=\"dbCardStyle mt-20\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n              <i class=\"fa fa-edit faClass\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker</h2>\r\n              <p>{{ addSysRespData?.creatorId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n              <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData?.createdTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n              <i class=\"fa fa-files-o faRecordStatus\" aria-hidden=\"true\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Record Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData?.recordStatus == \"O\"\r\n                    ? \"OPEN\"\r\n                    : addSysRespData?.recordStatus == \"C\"\r\n                    ? \"CLOSED\"\r\n                    : addSysRespData?.recordStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker</h2>\r\n              <p>{{ addSysRespData?.approverId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/modification.svg\"\r\n                class=\"modImage\"\r\n                alt=\"...\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData?.approvedTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n              <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>First Time Authorization</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData?.approvedEver == \"N\"\r\n                    ? \"NO\"\r\n                    : addSysRespData?.approvedEver == \"Y\"\r\n                    ? \"YES\"\r\n                    : addSysRespData?.approvedEver\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n              <i class=\"fa fa-shield faClassFirstTimeAuth\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Authorization Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData?.approvedStatus == \"N\" ||\r\n                  addSysRespData?.approvedStatus == \"U\"\r\n                    ? \"UNAUTHORIZED\"\r\n                    : addSysRespData?.approvedStatus == \"Y\" ||\r\n                      addSysRespData?.approvedStatus == \"A\"\r\n                    ? \"AUTHORIZED\"\r\n                    : addSysRespData?.approvedStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/authorize.svg\"\r\n                alt=\"...\"\r\n                class=\"modImage\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Modification Number</h2>\r\n              <p>{{ addSysRespData?.versionNo }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { ToastService } from 'src/app/shared/services/toast.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\n@Component({\r\n  selector: 'npr-rule-mapping-create',\r\n  templateUrl: './rule-mapping-create.component.html',\r\n  styleUrls: ['./rule-mapping-create.component.scss']\r\n})\r\nexport class RuleMappingCreateComponent implements OnInit, IDeactivateComponent {\r\n\r\n  showDestination: boolean;\r\n  xmlDestination: any;\r\n  sourceIsoResp: any;\r\n  externalSystem: any;\r\n  showSource: boolean;\r\n  fieldNoData: any = [];\r\n  disableFetchBtn: boolean = false;\r\n  disableSubmitBtn: boolean = false;\r\n  disableResetBtn: boolean = false;\r\n  addSysRespData: any;\r\n  showAuditLog: boolean = false;\r\n  sourcesysdata: any;\r\n  isSelected: boolean = true;\r\n  ruleMappingDataForPayload: any;\r\n\r\n  hideFetch: boolean = false;\r\n  hideSubmit: boolean = false;\r\n  mappingId: any;\r\n\r\n\r\n  fieldValueData: any = [];\r\n  showFieldNoValue: any = 1;\r\n  xmlLength: any = [];\r\n  temparray: any[] = [];\r\n\r\n  tempArrayList: any[] = [];\r\n  tempArrayList2: any[] = [];\r\n\r\n  // rulemapping = new MdmtMessageMapping();\r\n  rulemapping: any;\r\n  rulemappingDest = new MdmtMessageMapping();\r\n  mappingObj = new MdmtMessageMapping();\r\n  addForm: FormGroup;\r\n  isoRespData: any;\r\n  sourseSys: any;\r\n  currentUser: string;\r\n  sourceoperation: Object;\r\n  destinationSource: any;\r\n  destinationOperation: Object;\r\n  messageBasisIso: any = [];\r\n  tagName: any;\r\n  sourceService: any;\r\n  destinationService: any;\r\n  destinationData: any = [];\r\n  sourceData: any = [];\r\n  rulemappingData: any[];\r\n  matLabel: string;\r\n  matLabel2: string;\r\n  labelsDestination: any;\r\n  sourceLabel: any;\r\n  matlabelSource1: string;\r\n  matlabelSource2: string;\r\n  ruleDto = new ruleMapDto();\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  afterSubmit: boolean = false;\r\n  showfetchAll: boolean;\r\n  ruleMappingForm: FormGroup;\r\n  submit: boolean = true;\r\n  roleCodes = new permissionsLabels();\r\n  formTouched: boolean = true;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  // externalsystem: any = [];\r\n  externalCreateSystemFiltered: any[] = [];\r\n  updateRuleMappingSrc: any;\r\n  updateRuleMappingDest: any;\r\n  sourceMsg: boolean = true;\r\n  destinationMsg: boolean = true;\r\n  translationDataService: any;\r\n  translationDataOperation: any;\r\n  translationDestDataOperation: any;\r\n  translationDestDataService: any;\r\n  multipleOperation: boolean = true;\r\n  multipleOperation1: boolean = true;\r\n  multipleService: boolean = true;\r\n  multipleService1: boolean = true;\r\n\r\n\r\n  constructor(private rulemap: RuleService,\r\n    private router: Router,\r\n    private roleService: RoleService,\r\n    private fb: FormBuilder,\r\n    private addSystem: AddSystemService,\r\n    private formBuilder: FormBuilder, private cdr: ChangeDetectorRef,\r\n    private toastService: ToastService, private canDeactivateGuard: CanDeactivateGuard) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n    this.gettingExternalsystem();\r\n    this.ruleMappingForm = this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      destinationSystems: this.getDestinationItem(),\r\n      rulemappingDetail: this.formBuilder.array([]),\r\n    });\r\n\r\n\r\n    this.addRuleDetail();\r\n\r\n\r\n    this.fetchingIso();\r\n\r\n    this.roleService.fetchScreenPermissions('Rule Mapping');\r\n    this.roleService.screenLabelList.subscribe(message => this.roleCodes = message);\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n  }\r\n\r\n\r\n\r\n  getDestinationItem() {\r\n    return this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n    });\r\n  }\r\n  canExit(): Promise<boolean> {\r\n    let isExit: boolean = false;\r\n    if (this.ruleMappingForm.touched && this.formTouched == true) {\r\n      return Swal.fire({\r\n        text: 'There are unsaved changes in the screen. Would you like to navigate to other screen?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#E6224A',\r\n        cancelButtonColor: '#011945',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES',\r\n        icon: 'info',\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n        else {\r\n          isExit = false;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n\r\n      });\r\n    }\r\n    else {\r\n      isExit = true;\r\n      return new Promise((resolve, reject) => {\r\n        if (isExit === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          resolve(true);\r\n        }\r\n\r\n      })\r\n    }\r\n  }\r\n  auditChangeRuleTranslation(operation) {\r\n    let message = '';\r\n    let operationType = '';\r\n    switch (operation) {\r\n      case 'open':\r\n        message = 'opened'\r\n        operationType = 'open'\r\n        break;\r\n      case 'close':\r\n        message = 'closed'\r\n        operationType = 'close'\r\n        break;\r\n      case 'auth':\r\n        message = 'authorized'\r\n        operationType = 'authorize'\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    Swal.fire(\r\n      {\r\n        text: `You are trying to ${operationType} record. ` + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.addSysRespData.creatorId) {\r\n          Swal.fire(`Maker cannot ${operationType} the record!`);\r\n        }\r\n        else {\r\n          let payloadObj: any = {};\r\n          payloadObj = this.ruleMappingDataForPayload;\r\n          payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n          this.rulemap.editRuleMapping(operation, this.currentUser, payloadObj).subscribe((resp) => {\r\n            this.addSysRespData = resp;\r\n            Swal.fire({ text: `Record is ${message}` });\r\n          });\r\n        }\r\n      }\r\n    }))\r\n  }\r\n\r\n  deleteRuleMapping() {\r\n    Swal.fire(\r\n      {\r\n        text: 'You are trying to delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        this.rulemap.ondeleteMapping(this.addSysRespData.mappingId, this.currentUser).subscribe((resp) => {\r\n          if (resp) {\r\n            Swal.fire({\r\n              title: 'Record is Deleted',\r\n              confirmButtonText: 'Ok'\r\n            }).then((result) => {\r\n              if (result) {\r\n                this.router.navigateByUrl('/rule-mapping/summary')\r\n              }\r\n            });\r\n\r\n          }\r\n          else {\r\n            Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n  }\r\n\r\n  editValues() {\r\n    this.hideFetch = true;\r\n    this.hideSubmit = true;\r\n    this.submit = true;\r\n    this.ruleMappingForm.enable();\r\n  }\r\n  auditLog() {\r\n    if (this.addSysRespData.authStatus == 'U' || this.addSysRespData.authStatus == 'Unauthorized') {\r\n      this.addSysRespData.authStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (this.addSysRespData.authStatus == 'A' || this.addSysRespData.authStatus == 'Authorized') {\r\n      this.addSysRespData.authStatus = 'AUTHORIZED'\r\n    }\r\n    if (this.addSysRespData.recordStatus == 'O' || this.addSysRespData.recordStatus == 'Open') {\r\n      this.addSysRespData.recordStatus = 'OPEN'\r\n    }\r\n    if (this.addSysRespData.recordStatus == 'C' || this.addSysRespData.recordStatus == 'Close') {\r\n      this.addSysRespData.recordStatus = 'CLOSED'\r\n    }\r\n    if (this.addSysRespData.approvedEver == 'N' || this.addSysRespData.approvedEver == 'No') {\r\n      this.addSysRespData.approvedEver = 'NO'\r\n    }\r\n    if (this.addSysRespData.approvedEver == 'Y') {\r\n      this.addSysRespData.approvedEver = 'YES'\r\n    }\r\n  }\r\n\r\n  getRuleMappingDetail() {\r\n    return this.formBuilder.group({\r\n      id: [''],\r\n      defaultValue: [\"\"],\r\n      messageMappingId: [''],\r\n      sourceTransDetId: [''],\r\n      targetTransDetId: [''],\r\n      sourceKey: [\"\", Validators.required],\r\n      destinationKey: [\"\", Validators.required]\r\n    });\r\n  }\r\n\r\n  indexTracker(index: number, value: any) {\r\n    return index;\r\n  }\r\n\r\n  get rulemappingDetail() {\r\n    return this.ruleMappingForm.get('rulemappingDetail') as FormArray;\r\n  }\r\n\r\n  addRuleDetail() {\r\n    this.rulemappingDetail.push(this.getRuleMappingDetail());\r\n    console.log(this.rulemappingDetail.value);\r\n  }\r\n\r\n  deleteRuleMapGroup(index: number) {\r\n    if (this.tempArrayList[index]) {\r\n      this.tempArrayList.splice(index, 1);\r\n    }\r\n    if (this.tempArrayList2[index]) {\r\n      this.tempArrayList2.splice(index, 1);\r\n    }\r\n    this.rulemappingDetail.removeAt(index);\r\n  }\r\n\r\n\r\n  gettingExternalsystem() {\r\n    this.rulemap.gettingExternalsystem().subscribe(extSysResp => {\r\n      console.log(extSysResp);\r\n      this.externalSystem = extSysResp.sort();\r\n      this.sourcesysdata = this.externalSystem;\r\n      this.temparray = this.externalSystem;\r\n      this.externalCreateSystemFiltered = this.externalSystem;\r\n      console.log(this.externalSystem);\r\n      console.log(this.externalCreateSystemFiltered);\r\n    },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      })\r\n  }\r\n\r\n\r\n  fetchDestination() {\r\n    console.log(this.rulemapping);\r\n    console.log(\"Mapping\", this.ruleMappingForm.value);\r\n    this.disableFetchBtn = true;\r\n    this.showfetchAll = true;\r\n    this.showDestination = true;\r\n    this.showSource = true;\r\n    // this.rulemappingDetail = this.ruleMappingDataForPayload.msgMappingDetails;\r\n    // for (let index = 0; index < this.rulemappingDetail.length; index++) {\r\n    //   this.addRuleDetail();\r\n    //   const item = this.rulemappingDetail[index];\r\n    //   this.rulemappingDetails.at(index).patchValue(item);\r\n    //   console.log(\"Rule Mapping: \", this.rulemappingDetails);\r\n    // }\r\n  }\r\n\r\n  onFieldNameChange(event) {\r\n    console.log(event.value);\r\n    let value = event.value;\r\n    if (event.value) {\r\n      var item = this.sourceIsoResp.find(element => element.fieldValue == value);\r\n      console.log(item);\r\n      this.showFieldNoValue = item.fieldNo;\r\n      console.log(\"ssss\", this.showFieldNoValue);\r\n    }\r\n  }\r\n\r\n  fetchingIso() {\r\n    this.addSystem.fetchingIsoForTcp().subscribe(isoResp => {\r\n      console.log(\"iss\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      // this.fieldNoData=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldNoData = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldValueData = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n    })\r\n\r\n  }\r\n\r\n\r\n  onSourseSelection(event: any) {\r\n    console.log(event);\r\n    this.sourseSys = event;\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    console.log(this.externalSystem);\r\n    console.log(this.sourseSys);\r\n    this.externalCreateSystemFiltered = this.externalSystem.filter((system) => system !== this.sourseSys);\r\n    // this.externalCreateSystemFiltered = this.externalsystem\r\n    // this.selectedExternalSystems = this.externalsystem.filter((system) => system !== this.sourseSys)\r\n    // this.systemName = event.value;\r\n    this.rulemap.gettingTranslationData(this.sourseSys).subscribe(resp => {\r\n      console.log(resp);\r\n      if (resp != null) {\r\n        this.showfetchAll = false;\r\n        this.rulemapping = resp;\r\n        this.sourcesysdata = resp;\r\n        console.log(\"RuleMapping Res::\", this.rulemapping.messageType);\r\n        if (this.rulemapping.messageType) {\r\n          if (this.rulemapping.messageType == 'I') {\r\n            this.rulemapping.messageType = 'Incoming';\r\n          }\r\n          if (this.rulemapping.messageType == 'O') {\r\n            this.rulemapping.messageType = 'OutGoing';\r\n          }\r\n          this.sourceMsg = false;\r\n        }\r\n        this.ruleMappingForm.patchValue(this.rulemapping);\r\n        if (this.rulemapping.messageType) {\r\n          if (this.rulemapping.messageType == 'Incoming') {\r\n            this.rulemapping.messageType = 'I';\r\n          }\r\n          if (this.rulemapping.messageType == 'OutGoing') {\r\n            this.rulemapping.messageType = 'O';\r\n          }\r\n          this.sourceMsg = false;\r\n        }\r\n        this.gettingoperationAandserv(resp.systemCode, resp.messageType)\r\n        this.rulemapping.sourceTranslationId = resp.transId;\r\n\r\n        // this.rulemappingDetail=resp.msgTransDetails;\r\n        resp.msgTransDetails.map(el => {\r\n          this.sourceTransDetId = el.translationId\r\n        });\r\n      }\r\n      else {\r\n        this.showfetchAll = true;\r\n      }\r\n\r\n\r\n    }, (err) => {\r\n      this.showfetchAll = true;\r\n    })\r\n    this.externalSystem = this.temparray\r\n  }\r\n  onsearchingTablName(event) {\r\n    console.log(event.target.value);\r\n    console.log(\"this is arr\", this.sourcesysdata);\r\n    if (this.sourcesysdata) {\r\n      let data = this.sourcesysdata.filter(function (e) {\r\n        let extValue = e.toLowerCase();\r\n\r\n        let value = event.target.value.toLowerCase();\r\n        console.log(extValue, value);\r\n        // return !extValue.indexOf(value);//changed this for 1192\r\n        return extValue.search(value) > -1\r\n      });\r\n      console.log(data);\r\n      this.externalSystem = data;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  onSelectionOFMessageType(event: any) {\r\n    console.log(\"e\", event);\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    this.gettingoperationAandserv(this.sourseSys, event.value);\r\n  }\r\n\r\n  gettingoperationAandserv(system, msgtype) {\r\n    console.log(system);\r\n    this.rulemap.gettingoperationAndService(system, msgtype, this.currentUser).subscribe(sourceResp => {\r\n      console.log(sourceResp);\r\n\r\n      this.showfetchAll = false;\r\n\r\n      this.sourceoperation = sourceResp.OPERATION;\r\n      this.sourceService = sourceResp.SERVICE;\r\n      this.sourceData = sourceResp.MdmtSystemService;\r\n      // console.log(\"SourceData\",this.sourceData);\r\n      // console.log(\"Rule Mapping Before\",this.rulemapping.msgTransDetails);\r\n      this.updateRuleMappingSrc = this.rulemapping.msgTransDetails;\r\n      this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageChannel;\r\n\r\n      if (this.sourceLabel === 'Https/Http') {\r\n        this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageFormat;\r\n      }\r\n      let keys = Object.keys(sourceResp);\r\n      let x = keys[2];\r\n      let y = keys[3];\r\n      console.log(x);\r\n      if ((x == 'I' || x == 'O') && Object.keys(sourceResp).length == 3) {\r\n        console.log(sourceResp);\r\n        if (sourceResp.I) {\r\n          if (sourceResp.I.SERVICE.length !== 0) {\r\n            this.translationDataService = sourceResp.I.SERVICE;\r\n            if (sourceResp.I.SERVICE.length <= 1) {\r\n              console.log(this.translationDataService, \"1st if\");\r\n              this.multipleService1 = true;\r\n            }\r\n            if (sourceResp.I.SERVICE.length > 1) {\r\n              console.log(this.translationDataService, \"2nd If\");\r\n              this.multipleService1 = false;\r\n            }\r\n          }\r\n        }\r\n        if (sourceResp.O) {\r\n          if (sourceResp.O.SERVICE.length !== 0) {\r\n            this.translationDataService = sourceResp.O.SERVICE;\r\n            if (sourceResp.O.SERVICE.length <= 1) {\r\n              console.log(this.translationDataService, \"1st if\");\r\n              this.multipleService1 = true;\r\n            }\r\n            if (sourceResp.O.SERVICE.length > 1) {\r\n              console.log(this.translationDataService, \"2nd If\");\r\n              this.multipleService1 = false;\r\n            }\r\n          }\r\n        }\r\n        if (sourceResp.I) {\r\n          if (sourceResp.I.OPERATION.length !== 0) {\r\n            this.translationDataOperation = sourceResp.I.OPERATION;\r\n            //  console.log(this.translationDataOperation);\r\n            if (this.translationDataOperation.length <= 1) {\r\n              console.log(this.translationDataOperation, \"1st if\");\r\n              this.multipleOperation1 = true;\r\n            }\r\n            if (this.translationDataOperation.length > 1) {\r\n              console.log(this.translationDataOperation, \"2nd If\");\r\n              this.multipleOperation1 = false;\r\n            }\r\n          }\r\n        }\r\n        if (sourceResp.O) {\r\n          if (sourceResp.O.OPERATION.length !== 0) {\r\n            this.translationDataOperation = sourceResp.O.OPERATION;\r\n            //  console.log(this.translationDataOperation);\r\n            if (this.translationDataOperation.length <= 1) {\r\n              console.log(this.translationDataOperation, \"1st if\");\r\n              this.multipleOperation1 = true;\r\n            }\r\n            if (this.translationDataOperation.length > 1) {\r\n              console.log(this.translationDataOperation, \"2nd If\");\r\n              this.multipleOperation1 = false;\r\n            }\r\n          }\r\n        }\r\n        // this.translationDataService = sourceResp.I.SERVICE\r\n      }\r\n      console.log(this.translationDataService, \"Source service\");\r\n      console.log(this.translationDataOperation, \"Source operation\");\r\n      // for(let g = 0 ; g< this.sourceData.length;g++){\r\n      //   // console.log(\"messageBasisIso\", this.sourceData[g].dataType);\r\n      //   this.updateRuleMappingSrc.push({\r\n      //     dataType: this.sourceData[g].dataType,\r\n      //     defaultValue: null,\r\n      //     encryption: this.sourceData[g].encryption,\r\n      //     id: this.sourceData[g].channelId,\r\n      //     messageKey: this.sourceData[g].messageKey,\r\n      //     messagebasis: this.sourceData[g].messageBasis,\r\n      //     transId: this.sourceData[g].serviceId,\r\n      //     translationId: 0,\r\n      //     versionNo: 1});\r\n\r\n      //  }\r\n      console.log(\"Rule Mapping After\", this.updateRuleMappingSrc);\r\n      if (this.sourceLabel == 'DB Connection') {\r\n        for (let index = 0; index < this.sourceData.length; index++) {\r\n          this.sourceData[index].messageKey = this.sourceData[index].messageKey.split(\",\")\r\n        }\r\n\r\n      }\r\n\r\n      if (this.sourceLabel == 'Https/Http') {\r\n        this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageFormat;\r\n        this.matlabelSource1 = \"Tag\";\r\n        this.matlabelSource2 = null;\r\n      }\r\n      if (this.sourceLabel == 'TCP/IP') {\r\n        this.matlabelSource1 = \"Filed No\";\r\n        this.matlabelSource2 = \"Filed Name\";\r\n      }\r\n      // this.translationData=translationResp;\r\n    }, (err => {\r\n      console.log(err);\r\n      // Swal.fire({ text: 'External system data not present.' });\r\n      this.showfetchAll = true;\r\n    }))\r\n  }\r\n\r\n\r\n  ondestinationSource(event) {\r\n\r\n    console.log(event.value);\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    this.destinationSource = event;\r\n    this.externalCreateSystemFiltered = this.externalSystem.filter((system) => system !== this.sourseSys)\r\n\r\n    this.rulemap.gettingTranslationData(this.destinationSource).subscribe(resp => {\r\n      console.log(resp.msgTransDetails[0].transId);\r\n      if (resp != null) {\r\n        this.showfetchAll = false;\r\n        this.rulemappingDest = resp;\r\n        console.log(this.rulemappingDest);\r\n        if (this.rulemappingDest.messageType) {\r\n          if (this.rulemappingDest.messageType == 'I') {\r\n            this.rulemappingDest.messageType = 'Incoming';\r\n          }\r\n          if (this.rulemappingDest.messageType == 'O') {\r\n            this.rulemappingDest.messageType = 'OutGoing';\r\n          }\r\n          this.destinationMsg = false;\r\n        }\r\n        // this.rulemapping.targetTranslationId = resp.transId;\r\n        this.ruleMappingForm.get('destinationSystems').patchValue(this.rulemappingDest);\r\n        resp.msgTransDetails.map(el => {\r\n          this.targetTransDetId = el.translationId\r\n        });\r\n        if (this.rulemappingDest.messageType) {\r\n          if (this.rulemappingDest.messageType == 'Incoming') {\r\n            this.rulemappingDest.messageType = 'I';\r\n          }\r\n          if (this.rulemappingDest.messageType == 'OutGoing') {\r\n            this.rulemappingDest.messageType = 'O';\r\n          }\r\n          this.sourceMsg = false;\r\n        }\r\n        if (this.rulemappingDest.messageType) {\r\n          if (this.rulemappingDest.messageType == 'Incoming') {\r\n            this.rulemappingDest.messageType = 'I';\r\n          }\r\n          if (this.rulemappingDest.messageType == 'OutGoing') {\r\n            this.rulemappingDest.messageType = 'O';\r\n          }\r\n          this.sourceMsg = false;\r\n        }\r\n        this.gettingmsgTypeAndDestination(resp.systemCode, resp.messageType)\r\n      }\r\n      else {\r\n        this.showfetchAll = true;\r\n      }\r\n    }, (err) => {\r\n      this.showfetchAll = true;\r\n    })\r\n    this.externalSystem = this.temparray\r\n  }\r\n\r\n  msgTypeOfDestination(event) {\r\n    console.log(event.value);\r\n    this.showDestination = false;\r\n    this.showSource = false;\r\n    this.gettingmsgTypeAndDestination(this.destinationSource, event.value);\r\n  }\r\n\r\n\r\n  gettingmsgTypeAndDestination(destinationSource, msgtype) {\r\n    this.rulemap.gettingoperationAndService(destinationSource, msgtype, this.currentUser).subscribe(destinationResp => {\r\n      console.log(destinationResp);\r\n      this.showfetchAll = false;\r\n      this.destinationOperation = destinationResp.OPERATION;\r\n      this.destinationService = destinationResp.SERVICE;\r\n      this.destinationData = destinationResp.MdmtSystemService;\r\n      this.updateRuleMappingDest = this.rulemappingDest.msgTransDetails;\r\n      let keys = Object.keys(destinationResp);\r\n      let x = keys[2];\r\n      let y = keys[3];\r\n      if ((x == 'I' || x == 'O') && Object.keys(destinationResp).length == 3) {\r\n        console.log(destinationResp);\r\n        if (destinationResp.I) {\r\n          if (destinationResp.I.SERVICE.length !== 0) {\r\n            this.translationDestDataService = destinationResp.I.SERVICE;\r\n            if (destinationResp.I.SERVICE.length <= 1) {\r\n              // console.log(this.translationDestDataService ,\"1st if\");\r\n              this.multipleService = true;\r\n            }\r\n            if (destinationResp.I.SERVICE.length > 1) {\r\n              // console.log(this.translationDestDataService,\"2nd If\");\r\n              this.multipleService = false;\r\n            }\r\n          }\r\n        }\r\n        if (destinationResp.O) {\r\n          if (destinationResp.O.SERVICE.length !== 0) {\r\n            this.translationDestDataService = destinationResp.O.SERVICE;\r\n            if (destinationResp.O.SERVICE.length <= 1) {\r\n              // console.log(this.translationDestDataService ,\"1st if\");\r\n              this.multipleService = true;\r\n            }\r\n            if (destinationResp.O.SERVICE.length > 1) {\r\n              // console.log(this.translationDestDataService,\"2nd If\");\r\n              this.multipleService = false;\r\n            }\r\n          }\r\n        }\r\n        if (destinationResp.I) {\r\n          if (destinationResp.I.OPERATION.length !== 0) {\r\n            this.translationDestDataOperation = destinationResp.I.OPERATION;\r\n            //  console.log(this.translationDestDataOperation);\r\n            if (this.translationDestDataOperation.length <= 1) {\r\n              // console.log(this.translationDestDataOperation ,\"1st if\");\r\n              this.multipleOperation = true;\r\n            }\r\n            if (this.translationDestDataOperation.length > 1) {\r\n              // console.log(this.translationDestDataOperation,\"2nd If\");\r\n              this.multipleOperation = false;\r\n            }\r\n          }\r\n        }\r\n        if (destinationResp.O) {\r\n          if (destinationResp.O.OPERATION.length !== 0) {\r\n            this.translationDestDataOperation = destinationResp.O.OPERATION;\r\n            //  console.log(this.translationDestDataOperation);\r\n            if (this.translationDestDataOperation.length <= 1) {\r\n              // console.log(this.translationDestDataOperation ,\"1st if\");\r\n              this.multipleOperation = true;\r\n            }\r\n            if (this.translationDestDataOperation.length > 1) {\r\n              // console.log(this.translationDestDataOperation,\"2nd If\");\r\n              this.multipleOperation = false;\r\n            }\r\n          }\r\n        }\r\n        // this.translationDestDataService  = destinationResp.I.SERVICE\r\n      }\r\n      console.log(this.translationDestDataOperation, \"Destination service\");\r\n      console.log(this.translationDestDataService, \"Destination operation\");\r\n      // console.log(this.destinationData,\"destinationData\");\r\n      // console.log(this.updateRuleMappingDest,\"Before\");\r\n      // for(let g = 0 ; g< this.destinationData.length;g++){\r\n      //   console.log(\"messageBasisIso\", this.destinationData[g].dataType);\r\n      //   this.updateRuleMappingDest.push({\r\n      //     dataType: this.destinationData[g].dataType,\r\n      //     defaultValue: null,\r\n      //     encryption: this.destinationData[g].encryption,\r\n      //     id: this.destinationData[g].channelId,\r\n      //     messageKey: this.destinationData[g].messageKey,\r\n      //     messagebasis: this.destinationData[g].messageBasis,\r\n      //     transId: this.destinationData[g].serviceId,\r\n      //     translationId: 0,\r\n      //     versionNo: 1});\r\n\r\n      //  }\r\n      //  console.log(this.updateRuleMappingDest,\"After\");\r\n      this.labelsDestination = destinationResp.MdmtSystemChannel[0].messageChannel;\r\n\r\n      if (this.labelsDestination == 'Https/Http') {\r\n        this.labelsDestination = destinationResp.MdmtSystemChannel[0].messageFormat;\r\n        this.matLabel = \"Tag\";\r\n        this.matLabel2 = null;\r\n      }\r\n      else if (this.labelsDestination == 'TCP/IP') {\r\n        this.matLabel = \"Filed No\";\r\n        this.matLabel2 = \"Filed Name\";\r\n      }\r\n      // this.rulemappingData=[...this.sourceData,...this.destinationData]\r\n      // console.log(this.rulemappingData);\r\n\r\n      // this.translationData=translationResp;\r\n    }, (err => {\r\n      console.log(err);\r\n      // Swal.fire({ text: 'External system data not present.' });\r\n      this.showfetchAll = true;\r\n    }))\r\n  }\r\n  onReset() {\r\n    this.disableSubmitBtn = false;\r\n    this.ruleMappingForm.reset();\r\n  }\r\n\r\n  try(value) {\r\n    if (this.tempArrayList.find(item => item == value)) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  try2(value) {\r\n    if (this.tempArrayList2.find(item => item == value)) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  onselectOfFieldNo(event, i) {\r\n\r\n    console.log(event.target.value);\r\n    console.log(this.tempArrayList[i]);\r\n    if (this.tempArrayList[i]) {\r\n      this.tempArrayList[i] = event.target.value;\r\n    }\r\n    else {\r\n      this.tempArrayList.push(event.target.value);\r\n    }\r\n  }\r\n\r\n  onselectOfFieldNo2(event, i) {\r\n    console.log(event.target.value);\r\n    console.log(this.tempArrayList2[i]);\r\n    if (this.tempArrayList2[i]) {\r\n      this.tempArrayList2[i] = event.target.value;\r\n    }\r\n    else {\r\n      this.tempArrayList2.push(event.target.value);\r\n    }\r\n  }\r\n\r\n  onsaveRuleMapping() {\r\n    console.log(this.ruleMappingForm.value.rulemappingDetail);\r\n    this.mappingObj.msgMappingDetails = this.ruleMappingForm.value.rulemappingDetail;\r\n    this.mappingObj.sourceTranslationId = this.rulemapping.sourceTranslationId;\r\n    // this.mappingObj.targetTranslationId = this.rulemapping.targetTranslationId;\r\n    this.mappingObj.targetTranslationId = this.rulemappingDest.targetTranslationId;\r\n\r\n    this.mappingObj.creatorId = this.currentUser.replace(/['\"]+/g, '');\r\n    if (this.mappingId) {\r\n      this.mappingObj.mappingId = this.mappingId;\r\n      this.mappingObj.createdTime = this.addSysRespData.createdTime;\r\n      this.mappingObj.approverId = this.addSysRespData.approverId;\r\n      this.mappingObj.approvedTime = this.addSysRespData.approvedTime;\r\n      this.mappingObj.versionNo = this.addSysRespData.versionNo;\r\n      this.mappingObj.approvedStatus = this.addSysRespData.approvedStatus;\r\n      this.mappingObj.approvedEver = this.addSysRespData.approvedEver;\r\n      this.mappingObj.recordStatus = this.addSysRespData.recordStatus;\r\n      if (this.mappingObj.approvedStatus == 'UNAUTHORIZED') {\r\n        this.mappingObj.approvedStatus = 'U'\r\n      }\r\n      if (this.mappingObj.approvedStatus == 'AUTHORIZED') {\r\n        this.mappingObj.approvedStatus = 'A'\r\n      }\r\n      if (this.mappingObj.recordStatus == 'OPEN') {\r\n        this.mappingObj.recordStatus = 'O'\r\n      }\r\n      if (this.mappingObj.recordStatus == 'CLOSED') {\r\n        this.mappingObj.recordStatus = 'C'\r\n      }\r\n      if (this.mappingObj.approvedEver == 'NO') {\r\n        this.mappingObj.approvedEver = 'N'\r\n      }\r\n      if (this.mappingObj.approvedEver == 'YES') {\r\n        this.mappingObj.approvedEver = 'Y'\r\n      }\r\n      this.rulemap.updatingRuleMapping(this.mappingObj, this.currentUser).subscribe((resp: any) => {\r\n        console.log(resp);\r\n        if (resp) {\r\n          this.mappingId = resp.mappingId;\r\n          this.rulemappingDetail.patchValue(resp.msgMappingDetails);\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.showAuditLog = true;\r\n          this.afterSubmit = true;\r\n          this.ruleMappingForm.disable();\r\n          this.disableSubmitBtn = true;\r\n          this.disableResetBtn = true;\r\n          this.submit = false;\r\n          this.formTouched = !this.ruleMappingForm.touched;\r\n          Swal.fire({\r\n            text: \"Record is Updated\",\r\n            icon: 'success'\r\n          });\r\n        }\r\n      }, (err: any) => {\r\n        console.log(err.error.text);\r\n        Swal.fire({\r\n          text: 'Unable to update the record, server error!',\r\n          icon: 'error'\r\n        });\r\n      });\r\n    }\r\n    else {\r\n      console.log(this.mappingObj);\r\n      this.mappingObj.targetTranslationId = this.rulemappingDest.transId;\r\n      console.log(this.mappingObj);\r\n      this.rulemap.submittingruleMapping(this.mappingObj, this.currentUser).subscribe((resp: any) => {\r\n        console.log(resp);\r\n        if (resp) {\r\n          this.mappingId = resp.mappingId;\r\n          this.rulemappingDetail.patchValue(resp.msgMappingDetails);\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.showAuditLog = true;\r\n          this.afterSubmit = true;\r\n          this.ruleMappingForm.disable();\r\n          this.disableSubmitBtn = true;\r\n          this.disableResetBtn = true;\r\n          this.submit = false;\r\n          this.formTouched = !this.ruleMappingForm.touched;\r\n          Swal.fire({\r\n            text: \"Record is Created\",\r\n            icon: 'success'\r\n          });\r\n        }\r\n      }, (err: any) => {\r\n        console.log(err.error.text);\r\n        Swal.fire({ text: 'Rule mapping data already present for source and destination systems.', icon: 'error' });\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport class MdmtMessageMapping {\r\n  mappingId: any;\r\n  sourceTranslationId: any;\r\n  targetTranslationId: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n  messageType: any\r\n  transId: any;\r\n  msgMappingDetails: Array<MdmtMessageMappingDet>;\r\n  msgTransDetails: Array<MdmtMsgTransDetails>\r\n}\r\n\r\nexport class MdmtMessageMappingDet {\r\n  id: any;\r\n  messageMappingId;\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  defaultValue: any;\r\n  sourceKey: any;\r\n  destinationKey: any;\r\n}\r\nexport class MdmtMsgTransDetails {\r\n  dataType: any;\r\n  defaultValue: any;\r\n  encryption: any;\r\n  id: any;\r\n  messageKey: any;\r\n  messagebasis: any;\r\n  transId: any;\r\n  translationId: any;\r\n  versionNo: any;\r\n}\r\n\r\n\r\nexport class ruleMapDto {\r\n  mdmtMessageMapping: MdmtMessageMapping;\r\n  mdmtMessageMappingDet: Array<MdmtMessageMappingDet>;\r\n\r\n}","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <form [formGroup]=\"ruleMappingForm\" class=\"formStyle\">\r\n    <fieldset [disabled]=\"!disableFields\">\r\n      <div class=\"dbCardStyle\">\r\n        <div class=\"addformCol\">\r\n          <div class=\"row g-4 align-items-center\">\r\n            <div class=\"col\">\r\n              <div class=\"row gy-4 align-items-end\">\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Source System<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"ruleName\"\r\n                    name=\"serviceNameS\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Service Name\"\r\n                    formControlName=\"systemCode\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Message Type<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <select\r\n                    formControlName=\"messageType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    [disabled]=\"!editFetch\"\r\n                    (change)=\"\r\n                      onSelectionOFMessageType(\r\n                        rulemapping.sourceTranslationId,\r\n                        $event\r\n                      )\r\n                    \"\r\n                  >\r\n                    <option hidden value=\"\" disabled selected>\r\n                      --Please select--\r\n                    </option>\r\n                    <option value=\"I\">Incoming</option>\r\n                    <option value=\"O\">Outgoing</option>\r\n                    <option value=\"A\">All</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Operation<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"operationName\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Operation Name\"\r\n                    formControlName=\"operationName\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Service<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"serviceName\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Service Name\"\r\n                    formControlName=\"serviceName\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n                <ng-container formGroupName=\"destinationSystems\">\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Destination System<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"ruleName\"\r\n                      name=\"serviceNameS\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Service Name\"\r\n                      formControlName=\"systemCode\"\r\n                      readonly\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Message Type<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <select\r\n                      readonly\r\n                      formControlName=\"messageType\"\r\n                      [disabled]=\"!editFetch\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      (change)=\"msgTypeOfDestination($event)\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option value=\"I\">Incoming</option>\r\n                      <option value=\"O\">Outgoing</option>\r\n                      <option value=\"A\">All</option>\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Operation<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <input\r\n                      readonly\r\n                      type=\"text\"\r\n                      name=\"operationName\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Operation Name\"\r\n                      formControlName=\"operationName\"\r\n                      readonly\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Service<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <input\r\n                      readonly\r\n                      type=\"text\"\r\n                      name=\"serviceName\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Service Name\"\r\n                      formControlName=\"serviceName\"\r\n                      [disabled]=\"!editFetch\"\r\n                    />\r\n                  </div>\r\n                </ng-container>\r\n                <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n                  <div class=\"col-auto\" [hidden]=\"!hideFetch\">\r\n                    <button\r\n                      (click)=\"fetchDestination()\"\r\n                      [disabled]=\"disableFetchBtn\"\r\n                      class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                    >\r\n                      Fetch\r\n                    </button>\r\n                  </div>\r\n                  <!-- <div class=\"col-auto\" *ngIf=\"!(addSysRespData.recordStatus=='C' || addSysRespData.recordStatus=='CLOSED') && roleCodes.edit\" [hidden]=\"hideFetch\">\r\n                <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n                  {{roleCodes.edit.labelDescription}}\r\n                </button>\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedStatus =='U' || addSysRespData.approvedStatus =='UNAUTHORIZED') && roleCodes.auth\">\r\n                <button (click)=\"onAuthOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnAuth\" \r\n                  >{{roleCodes.auth.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.recordStatus=='O' ||addSysRespData.recordStatus=='OPEN') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.close\">\r\n                <button (click)=\"onCloseOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.close.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\" (addSysRespData.recordStatus=='C' || addSysRespData.recordStatus=='CLOSED') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.reopen\">\r\n                <button (click)=\"onOpenRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.reopen.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedEver=='NO' ) && roleCodes.delete\">\r\n                <button (click)=\"deleteRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.delete.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\">\r\n                <button class=\"btn smBtn minWdSmBtn btnSecondary\" [routerLink]=\"['/rule-mapping/summary']\">Exit</button>\r\n              </div> -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    <div class=\"dbCardStyle\" *ngIf=\"showSource || showDestination\">\r\n      <fieldset [disabled]=\"!submit\">\r\n        <div class=\"addformCol\" formArrayName=\"rulemappingDetails\">\r\n          <ng-container\r\n            *ngFor=\"let item of rulemappingDetails.controls; let i = index\"\r\n          >\r\n            <ng-container [formGroupName]=\"i\">\r\n              <div class=\"row g-4 align-items-center\">\r\n                <div class=\"col\">\r\n                  <div class=\"row gy-4\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                        >Source System<span class=\"colorRed\">*</span></label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"sourceLabel == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              [disabled]=\"!edit\"\r\n                              [value]=\"item.sourceKey\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'DB Connection'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              aria-label=\"Default select example\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"sourceLabel == 'MT' || sourceLabel == 'MX'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                        >Destination system</label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"labelsDestination == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              [value]=\"item.destinationKey\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                              [value]=\"item.destinationKey\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                              [value]=\"item.destinationKey\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"labelsDestination == 'DB Connection'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let fname of updateRuleMappingDest\"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"\r\n                              labelsDestination == 'MT' ||\r\n                              labelsDestination == 'MX'\r\n                            \"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let fname of updateRuleMappingDest\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                        <!-- <div class=\"col-lg-6\">\r\n                              <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                <option selected>Tag Name</option>\r\n                                <option value=\"1\">One</option>\r\n                                <option value=\"2\">Two</option>\r\n                                <option value=\"3\">Three</option>\r\n                              </select>\r\n                            </div> -->\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n\r\n                        >Default value</label\r\n\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <label\r\n                            for=\"defaultValue\"\r\n                            class=\"formLbl\"\r\n                            *ngIf=\"i == 0\"\r\n                          ></label>\r\n                          <div *ngIf=\"!editFlag\">\r\n                            <input\r\n                              style=\"background-color: #f8f9fa\"\r\n                              [ngClass]=\"{\r\n                                first: i === 0,\r\n                                'form-control': true,\r\n                                path: true\r\n                              }\"\r\n                              type=\"text\"\r\n                              id=\"defaultVal\"\r\n                              [readonly]=\"edit\"\r\n                              formControlName=\"defaultValue\"\r\n                              placeholder=\"Default value\"\r\n                            />\r\n                          </div>\r\n                          <div *ngIf=\"editFlag\">\r\n                            <input\r\n                              style=\"background-color: #ffffff\"\r\n                              type=\"text\"\r\n                              id=\"defaultVal\"\r\n                              formControlName=\"defaultValue\"\r\n                              placeholder=\"Default value\"\r\n                              [ngClass]=\"{\r\n                                first: i === 0,\r\n                                'form-control': true,\r\n                                path: true\r\n                              }\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-4\">\r\n                  <div\r\n                    [hidden]=\"!hideFetch\"\r\n                    [ngStyle]=\"{ 'margin-top': i === 0 ? '50px' : '10px' }\"\r\n                  >\r\n                    <a\r\n                      *ngIf=\"submit\"\r\n                      (click)=\"deleteRuleMapGroup(i)\"\r\n                      class=\"deleteIcon2\"\r\n                      style=\"cursor: pointer\"\r\n                    >\r\n                      <img\r\n                        src=\"assets/images/delete-icon.svg\"\r\n                        alt=\"...\"\r\n                        [ngClass]=\"{ 'first-image': i === 0, image: true }\"\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"col-auto\">\r\n                      <div class=\"formDeleteCol mt-4\">\r\n                        <button *ngIf=\"submit\" (click)=\"deleteRuleMapGroup(i)\"><img src=\"assets/images/delete-icon.svg\" alt=\"...\"></button>\r\n                      </div>\r\n                    </div> -->\r\n              </div>\r\n              <br />\r\n            </ng-container>\r\n          </ng-container>\r\n        </div>\r\n      </fieldset>\r\n      <div class=\"row g-3 pt-4\">\r\n        <div class=\"col-auto\">\r\n          <a\r\n            *ngIf=\"submit\"\r\n            [hidden]=\"!hideFetch\"\r\n            (click)=\"addRuleDetail()\"\r\n            class=\"addIcon primarybg\"\r\n          >\r\n            <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\" /></span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div class=\"row g-3 pb-3 pt-4 justify-content-end\">\r\n        <div class=\"col-auto\" [hidden]=\"!hideSubmit\">\r\n          <button\r\n            [disabled]=\"!submit || !ruleMappingForm.dirty\"\r\n            (click)=\"onsaveRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          *ngIf=\"\r\n            (addSysRespData.recordStatus == 'O' ||\r\n              addSysRespData.recordStatus == 'OPEN') &&\r\n            roleCodes.edit\r\n          \"\r\n\r\n          [hidden]=\"hideFetch\"\r\n\r\n        >\r\n          <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n            {{ roleCodes.edit.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.approvedStatus == 'U' ||\r\n              addSysRespData.approvedStatus == 'UNAUTHORIZED' ||\r\n              addSysRespData.approvedStatus == 'Unauthorized' ||\r\n              addSysRespData.approvedStatus == 'N' ||\r\n              addSysRespData.approvedEver == 'N') &&\r\n            roleCodes.auth\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"onAuthOfRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnAuth\"\r\n          >\r\n            {{ roleCodes.auth.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.recordStatus == 'O' ||\r\n              addSysRespData.recordStatus == 'OPEN') &&\r\n            addSysRespData.approvedEver != 'NO' &&\r\n            addSysRespData.approvedEver != 'N' &&\r\n            roleCodes.close\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"onCloseOfRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            {{ roleCodes.close.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.recordStatus == 'C' ||\r\n              addSysRespData.recordStatus == 'CLOSED') &&\r\n            addSysRespData.approvedEver != 'NO' &&\r\n            addSysRespData.approvedEver != 'N' &&\r\n            roleCodes.reopen\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"onOpenRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            {{ roleCodes.reopen.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.approvedEver == 'NO' ||\r\n              addSysRespData?.approvedEver == 'N') &&\r\n            roleCodes.delete\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"deleteRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            {{ roleCodes.delete.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <a\r\n            [routerLink]=\"'/rule-mapping/summary'\"\r\n            class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n            >Exit</a\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n<div class=\"dbCardStyle mt-20\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n              <i class=\"fa fa-edit faClass\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker</h2>\r\n              <p>{{ addSysRespData.creatorId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n              <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData.createdTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n              <i class=\"fa fa-files-o faRecordStatus\" aria-hidden=\"true\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Record Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData.recordStatus == \"O\"\r\n                    ? \"OPEN\"\r\n                    : addSysRespData.recordStatus == \"C\"\r\n                    ? \"CLOSED\"\r\n                    : addSysRespData.recordStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker</h2>\r\n              <p>{{ addSysRespData.approverId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n              <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData.approvedTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n              <i class=\"fa fa-shield faClassFirstTimeAuth\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>First Time Authorization</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData.approvedEver == \"N\"\r\n                    ? \"NO\"\r\n                    : addSysRespData.approvedEver == \"Y\"\r\n                    ? \"YES\"\r\n                    : addSysRespData.approvedEver\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/authorize.svg\"\r\n                alt=\"...\"\r\n                class=\"modImage\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Authorization Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData.approvedStatus == \"N\" ||\r\n                  addSysRespData.approvedStatus == \"U\"\r\n                    ? \"UNAUTHORIZED\"\r\n                    : addSysRespData.approvedStatus == \"Y\" ||\r\n                      addSysRespData.approvedStatus == \"A\"\r\n                    ? \"AUTHORIZED\"\r\n                    : addSysRespData.approvedStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/modification.svg\"\r\n                class=\"modImage\"\r\n                alt=\"...\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Modification Number</h2>\r\n              <p>{{ addSysRespData.versionNo }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { AddSystemService } from \"src/app/shared/services/add-system.service\";\r\nimport { RuleService } from \"src/app/shared/services/rule.service\";\r\nimport { ToastService } from \"src/app/shared/services/toast.service\";\r\nimport { Location } from \"@angular/common\";\r\nimport Swal from \"sweetalert2\";\r\nimport { RoleService } from \"src/app/shared/services/role.service\";\r\nimport { permissionsLabels } from \"src/app/shared/models/fmosNewRolePermissions\";\r\nimport { Observable, of, Subject } from \"rxjs\";\r\nimport {\r\n  CanDeactivateGuard,\r\n  IDeactivateComponent,\r\n} from \"src/app/shared/guards/can-deactivate.guard\";\r\n\r\n@Component({\r\n  selector: \"npr-rule-mapping-details\",\r\n  templateUrl: \"./rule-mapping-details.component.html\",\r\n  styleUrls: [\"./rule-mapping-details.component.scss\"],\r\n})\r\nexport class RuleMappingDetailsComponent\r\n  implements OnInit, IDeactivateComponent\r\n{\r\n  showDestination: boolean;\r\n  xmlDestination: any;\r\n  sourceIsoResp: any;\r\n  externalSystem: any;\r\n  showSource: boolean;\r\n  fieldNoData: any = [];\r\n  disableFetchBtn: boolean = false;\r\n  disableSubmitBtn: boolean = false;\r\n  addSysRespData: any;\r\n  deleted: boolean = false;\r\n  disableFields: boolean = false;\r\n  editBtn: boolean;\r\n  closeBtn: boolean;\r\n  authBtn: boolean;\r\n  authorizeDone: boolean = false;\r\n\r\n  fieldValueData: any = [];\r\n  showFieldNoValue: any = 1;\r\n  xmlLength: any = [];\r\n  sourceRuleMappingArray: string[] = [];\r\n  destinationRuleMappingArray: string[] = [];\r\n\r\n  rulemapping = new MdmtMessageMapping();\r\n  rulemappingdest = new MdmtMessageMapping();\r\n  ruleMappingDataForPayload: any;\r\n  isSelected: boolean = true;\r\n  rulemappingDetail: Array<MdmtMessageMappingDet> = [];\r\n\r\n  isoRespData: any;\r\n  sourseSys: any;\r\n  currentUser: string;\r\n  sourceoperation: Object;\r\n  destinationSource: any;\r\n  destinationOperation: Object;\r\n  messageBasisIso: any;\r\n  tagName: any;\r\n  sourceService: any;\r\n  destinationService: any;\r\n  destinationData: any = [];\r\n  sourceData: any = [];\r\n  rulemappingData: any[];\r\n  matLabel: string;\r\n  matLabel2: string;\r\n  labelsDestination: any;\r\n  sourceLabel: any;\r\n  matlabelSource1: string;\r\n  matlabelSource2: string;\r\n  ruleDto = new ruleMapDto();\r\n  navSubscription: any;\r\n  editruleMappingResp: {};\r\n  edit: boolean;\r\n  editFetch: boolean;\r\n  reopenBtn: boolean;\r\n  authBtnHide: boolean;\r\n  ruleMappingForm: FormGroup;\r\n  submit: boolean = true;\r\n  hideFetch: boolean = false;\r\n  hideSubmit: boolean = false;\r\n  roleCodes = new permissionsLabels();\r\n  formTouched: boolean = true;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  sourceKey: any;\r\n  editFlag: boolean = false;\r\n  updateRuleMappingSrc: any;\r\n  ruleMappingData: any;\r\n  updateRuleMappingDest: any;\r\n  rulemappingdestMapping: any;\r\n\r\n  constructor(\r\n    private rulemap: RuleService,\r\n    private roleService: RoleService,\r\n    private router: Router,\r\n    private _location: Location,\r\n    private _route: ActivatedRoute,\r\n    private addSystem: AddSystemService,\r\n    private toastService: ToastService,\r\n    private cdr: ChangeDetectorRef,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.currentUser = localStorage.getItem(\"userFromLogin\");\r\n\r\n    this.ruleMappingForm = this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      destinationSystems: this.getDestinationItem(),\r\n      rulemappingDetails: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.navSubscription = this.addSystem.getNavParam.subscribe(\r\n      (data: any) => (this.editruleMappingResp = data)\r\n    );\r\n    console.log(\"Response ??\", this.editruleMappingResp);\r\n    this.ruleMappingDataForPayload = this.editruleMappingResp[\"responseData\"];\r\n\r\n    if (\r\n      this.editruleMappingResp &&\r\n      Object.keys(this.editruleMappingResp).length === 0 &&\r\n      Object.getPrototypeOf(this.editruleMappingResp) === Object.prototype\r\n    ) {\r\n      this._location.back();\r\n    } else {\r\n      this.addSysRespData = this.ruleMappingDataForPayload.mdmtMessageMapping;\r\n      this.auditLog();\r\n      this.rulemapping.sourceTranslationId =\r\n        this.editruleMappingResp[\"sourceTransDetId\"];\r\n      if (this.rulemapping.sourceTranslationId) {\r\n        this.gettingTranslationData(this.rulemapping.sourceTranslationId);\r\n      }\r\n      this.rulemapping.targetTranslationId =\r\n        this.editruleMappingResp[\"targetTransDetId\"];\r\n      if (this.rulemapping.targetTranslationId) {\r\n        this.gettingTranslationDataForDest(\r\n          this.rulemapping.targetTranslationId\r\n        );\r\n      }\r\n      if (this.addSysRespData.recordStatus == \"C\") {\r\n        console.log(this.addSysRespData.recordStatus);\r\n        this.reopenBtn = false;\r\n        this.authBtnHide = true;\r\n      }\r\n      this.rulemappingDetail =\r\n        this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails;\r\n      this.auditLog();\r\n      for (let index = 0; index < this.rulemappingDetail.length; index++) {\r\n        this.addRuleDetail();\r\n        const item = this.rulemappingDetail[index];\r\n        this.rulemappingDetails.at(index).patchValue(item);\r\n        console.log(\"Rule Mapping: \", this.rulemappingDetails);\r\n      }\r\n      this.sourceRuleMappingArray =\r\n        this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails.map(\r\n          (val) => val.sourceKey\r\n        );\r\n      this.destinationRuleMappingArray =\r\n        this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails.map(\r\n          (val) => val.destinationKey\r\n        );\r\n      this.gettingExternalsystem();\r\n      this.fetchingIso();\r\n    }\r\n\r\n    this.roleService.fetchScreenPermissions(\"Rule Mapping\");\r\n    this.roleService.screenLabelList.subscribe(\r\n      (message) => (this.roleCodes = message)\r\n    );\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n    this.ruleMappingForm.disable();\r\n  }\r\n\r\n  getDestinationItem() {\r\n    return this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n    });\r\n  }\r\n  auditLog() {\r\n    if (\r\n      this.addSysRespData.approvedStatus == \"U\" ||\r\n      this.addSysRespData.approvedStatus == \"Unauthorized\"\r\n    ) {\r\n      this.addSysRespData.approvedStatus = \"UNAUTHORIZED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.approvedStatus == \"A\" ||\r\n      this.addSysRespData.approvedStatus == \"Authorized\"\r\n    ) {\r\n      this.addSysRespData.approvedStatus = \"AUTHORIZED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.recordStatus == \"O\" ||\r\n      this.addSysRespData.recordStatus == \"Open\"\r\n    ) {\r\n      this.addSysRespData.recordStatus = \"OPEN\";\r\n    }\r\n    if (\r\n      this.addSysRespData.recordStatus == \"C\" ||\r\n      this.addSysRespData.recordStatus == \"Close\"\r\n    ) {\r\n      this.addSysRespData.recordStatus = \"CLOSED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.approvedEver == \"N\" ||\r\n      this.addSysRespData.approvedEver == \"No\"\r\n    ) {\r\n      this.addSysRespData.approvedEver = \"NO\";\r\n    }\r\n    if (this.addSysRespData.approvedEver == \"Y\") {\r\n      this.addSysRespData.approvedEver = \"YES\";\r\n    }\r\n  }\r\n  canExit(): Promise<boolean> {\r\n    let isExit: boolean = false;\r\n\r\n    if (this.ruleMappingForm.touched && this.formTouched == true) {\r\n      return Swal.fire({\r\n        text: \"There are unsaved changes in the screen. Would you like to navigate to other screen?\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#E6224A\",\r\n        cancelButtonColor: \"#011945\",\r\n        cancelButtonText: \"NO\",\r\n        confirmButtonText: \"YES\",\r\n        icon: \"info\",\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        } else {\r\n          isExit = false;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n      });\r\n    } else {\r\n      isExit = true;\r\n      return new Promise((resolve, reject) => {\r\n        if (isExit === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          resolve(true);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  getRuleMappingDetails() {\r\n    return this.formBuilder.group({\r\n      id: [\"\"],\r\n      defaultValue: [\"\"],\r\n      messageMappingId: [\"\"],\r\n      sourceTransDetId: [\"\"],\r\n      targetTransDetId: [\"\"],\r\n      sourceKey: [\"\"],\r\n      destinationKey: [\"\"],\r\n    });\r\n  }\r\n\r\n  indexTracker(index: number, value: any) {\r\n    return index;\r\n  }\r\n\r\n  get rulemappingDetails() {\r\n    return this.ruleMappingForm.get(\"rulemappingDetails\") as FormArray;\r\n  }\r\n\r\n  addRuleDetail() {\r\n    this.rulemappingDetails.push(this.getRuleMappingDetails());\r\n    console.log(this.rulemappingDetails.value);\r\n  }\r\n\r\n  deleteRuleMapGroup(index: number) {\r\n    this.sourceRuleMappingArray.splice(index, 1);\r\n    this.destinationRuleMappingArray.splice(index, 1);\r\n    this.rulemappingDetails.removeAt(index);\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rulemap.gettingExternalsystem().subscribe(\r\n      (extSysResp) => {\r\n        console.log(\"extSysResp\", extSysResp);\r\n        this.externalSystem = extSysResp;\r\n      },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      }\r\n    );\r\n  }\r\n\r\n  onDestinationRuleMappingChange(event, i) {\r\n    this.destinationRuleMappingArray[i] = event.target.value;\r\n  }\r\n\r\n  onSourceRuleMappingChange(event, i) {\r\n    this.sourceRuleMappingArray[i] = event.target.value;\r\n  }\r\n\r\n  shouldHideDestinationRuleMappingValue(value) {\r\n    return this.destinationRuleMappingArray.find((item) => item == value);\r\n  }\r\n\r\n  shouldHideSourceRuleMappingValue(value) {\r\n    return this.sourceRuleMappingArray.find((item) => item == value);\r\n  }\r\n\r\n  EditFetch() {\r\n    this.editFetch = true;\r\n    console.log(\"edit\");\r\n    if (this.addSysRespData.recordStatus == \"C\") {\r\n      this.editFetch = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n      this.toastService.successMessage(\"Closed record can't be edited.\", \"\");\r\n    }\r\n  }\r\n  Edit() {\r\n    console.log(\"edit\");\r\n    if (this.addSysRespData.approvedStatus == \"U\") {\r\n      this.edit = false;\r\n      // Swal.fire(\"UnAuthorized record can't be  edited.\");\r\n      this.toastService.successMessage(\r\n        \"UnAuthorized record can't be  edited\",\r\n        \"\"\r\n      );\r\n    }\r\n    if (this.addSysRespData.recordStatus == \"C\") {\r\n      this.edit = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n      this.toastService.successMessage(\"Closed record can't be edited.\", \"\");\r\n    }\r\n    this.edit = true;\r\n  }\r\n  gettingTranslationData(sourseSys: any) {\r\n    this.sourseSys = sourseSys;\r\n    this.rulemap.gettingTranslationData(this.sourseSys).subscribe((resp) => {\r\n      console.log(\"trans ?\", resp);\r\n      this.rulemapping = resp;\r\n      this.ruleMappingData = resp;\r\n      this.ruleMappingForm.patchValue(resp);\r\n      this.gettingoperationAandserv(resp.systemCode, resp.messageType);\r\n      this.rulemapping.sourceTranslationId = resp.systemCode;\r\n    });\r\n    this.fetchDestination();\r\n  }\r\n\r\n  gettingTranslationDataForDest(destSys: any) {\r\n    this.rulemap.gettingTranslationData(destSys).subscribe((resp) => {\r\n      console.log(\"Dset\", resp);\r\n      this.rulemappingdest = resp;\r\n      this.rulemappingdestMapping = resp;\r\n      this.ruleMappingForm.get(\"destinationSystems\").patchValue(resp);\r\n      this.gettingmsgTypeAndDestination(resp.systemCode, resp.messageType);\r\n      this.rulemappingdest.targetTranslationId = resp.systemCode;\r\n    });\r\n  }\r\n\r\n  onAuthOfRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to Authorize record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.addSysRespData.creatorId) {\r\n          Swal.fire(\"Maker cannot authorize the record!\");\r\n          // this.toastService.successMessage('Maker cannot authorize!', '');\r\n        } else {\r\n          let payloadObj: any = {};\r\n          console.log(this.ruleMappingDataForPayload);\r\n          payloadObj = this.ruleMappingDataForPayload;\r\n          payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n          console.log(payloadObj);\r\n\r\n          if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n            payloadObj.approvedStatus = \"U\";\r\n          }\r\n          if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n            payloadObj.approvedStatus = \"A\";\r\n          }\r\n          if (payloadObj.recordStatus == \"OPEN\") {\r\n            payloadObj.recordStatus = \"O\";\r\n          }\r\n          if (payloadObj.recordStatus == \"CLOSED\") {\r\n            payloadObj.recordStatus = \"C\";\r\n          }\r\n          if (payloadObj.approvedEver == \"NO\") {\r\n            payloadObj.approvedEver = \"N\";\r\n          }\r\n          if (payloadObj.approvedEver == \"YES\") {\r\n            payloadObj.approvedEver = \"Y\";\r\n          }\r\n\r\n          this.rulemap\r\n            .editRuleMapping(\"auth\", this.currentUser, payloadObj)\r\n            .subscribe((resp) => {\r\n              this.authorizeDone = true;\r\n              this.addSysRespData = resp;\r\n              this.auditLog();\r\n              Swal.fire({ text: \"Record is Authorized\" });\r\n              // this.toastService.successMessage('Record Authorized!', '');\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onCloseOfRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to close record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3e54b8\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n      iconColor: \"#d33\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let payloadObj: any = {};\r\n        payloadObj = this.ruleMappingDataForPayload;\r\n        payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n\r\n        if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"U\";\r\n        }\r\n        if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"A\";\r\n        }\r\n        if (payloadObj.recordStatus == \"OPEN\") {\r\n          payloadObj.recordStatus = \"O\";\r\n        }\r\n        if (payloadObj.recordStatus == \"CLOSED\") {\r\n          payloadObj.recordStatus = \"C\";\r\n        }\r\n        if (payloadObj.approvedEver == \"NO\") {\r\n          payloadObj.approvedEver = \"N\";\r\n        }\r\n        if (payloadObj.approvedEver == \"YES\") {\r\n          payloadObj.approvedEver = \"Y\";\r\n        }\r\n        this.rulemap\r\n          .editRuleMapping(\"close\", this.currentUser, payloadObj)\r\n          .subscribe((resp) => {\r\n            this.addSysRespData = resp;\r\n            this.auditLog();\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.deleted = false;\r\n            this.reopenBtn = false;\r\n            Swal.fire({ text: \"Record is  Closed\", icon: \"success\" });\r\n            // this.toastService.successMessage('Record is Closed', '');\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  onOpenRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to re-open record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3e54b8\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n      iconColor: \"#d33\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let payloadObj: any = {};\r\n        payloadObj = this.ruleMappingDataForPayload;\r\n        payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n\r\n        if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"U\";\r\n        }\r\n        if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"A\";\r\n        }\r\n        if (payloadObj.recordStatus == \"OPEN\") {\r\n          payloadObj.recordStatus = \"O\";\r\n        }\r\n        if (payloadObj.recordStatus == \"CLOSED\") {\r\n          payloadObj.recordStatus = \"C\";\r\n        }\r\n        if (payloadObj.approvedEver == \"NO\") {\r\n          payloadObj.approvedEver = \"N\";\r\n        }\r\n        if (payloadObj.approvedEver == \"YES\") {\r\n          payloadObj.approvedEver = \"Y\";\r\n        }\r\n        this.rulemap\r\n          .editRuleMapping(\"open\", this.currentUser, payloadObj)\r\n          .subscribe((resp) => {\r\n            this.addSysRespData = resp;\r\n            this.auditLog();\r\n            this.authBtnHide = false;\r\n            this.editBtn = false;\r\n            this.authBtn = false;\r\n            Swal.fire({ text: \"Record is Opened\", icon: \"success\" });\r\n            // this.toastService.successMessage('Record Opened!', '');\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to delete record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3e54b8\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n      iconColor: \"#d33\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        console.log(this.addSysRespData.mappingId);\r\n\r\n        this.rulemap\r\n          .ondeleteMapping(this.addSysRespData.mappingId, this.currentUser)\r\n          .subscribe((resp) => {\r\n            if (resp) {\r\n              this.deleted = true;\r\n              this.editBtn = true;\r\n              this.authBtn = true;\r\n              this.closeBtn = true;\r\n              Swal.fire({\r\n                title: \"Record is Deleted\",\r\n                confirmButtonText: \"Ok\",\r\n              }).then((result) => {\r\n                if (result) {\r\n                  this.router.navigateByUrl(\"/rule-mapping/summary\");\r\n                }\r\n              });\r\n            } else {\r\n              Swal.fire(\"Failed to delete the reocrd\");\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  fetchDestination() {\r\n    console.log(this.rulemapping);\r\n    console.log(\"Rule ,apping\", this.ruleMappingForm);\r\n    this.disableFetchBtn = true;\r\n    this.showDestination = true;\r\n    this.showSource = true;\r\n  }\r\n\r\n  onFieldNameChange(event) {\r\n    console.log(event.value);\r\n    let value = event.value;\r\n    if (event.value) {\r\n      var item = this.sourceIsoResp.find(\r\n        (element) => element.fieldValue == value\r\n      );\r\n      console.log(item);\r\n      this.showFieldNoValue = item.fieldNo;\r\n      console.log(\"ssss\", this.showFieldNoValue);\r\n    }\r\n  }\r\n  editValues() {\r\n    this.hideFetch = true;\r\n    this.hideSubmit = true;\r\n    this.ruleMappingForm.enable();\r\n    this.editFlag = true;\r\n    // this.authBtn=false;\r\n    // this.openBtn=false;\r\n    // this.closeBtn=false;\r\n  }\r\n  onSubmittingRuleMapping() {\r\n    console.log(\"submit\");\r\n  }\r\n\r\n  fetchingIso() {\r\n    this.addSystem.fetchingIsoForTcp().subscribe((isoResp) => {\r\n      console.log(\"iss\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      // this.fieldNoData=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldNoData = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldValueData = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n    });\r\n  }\r\n  onSourseSelection(event: any) {\r\n    console.log(event);\r\n    this.sourseSys = event.value;\r\n  }\r\n  onSelectionOFMessageType(source: any, event: any) {\r\n    console.log(\"e\", event);\r\n    this.sourseSys = source;\r\n    this.gettingoperationAandserv(this.sourseSys, event.value);\r\n  }\r\n  gettingoperationAandserv(system, msgtype) {\r\n    console.log(system);\r\n    this.rulemap\r\n      .gettingoperationAndService(system, msgtype, this.currentUser)\r\n      .subscribe(\r\n        (sourceResp) => {\r\n          console.log(\"sourceResp\", sourceResp);\r\n          this.sourceoperation = sourceResp.OPERATION;\r\n          this.sourceService = sourceResp.SERVICE;\r\n          this.sourceData = sourceResp.MdmtSystemService;\r\n\r\n          this.updateRuleMappingSrc = this.ruleMappingData.msgTransDetails;\r\n          this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageChannel;\r\n          // this.sourceKey=this.sourceData[0].messageKey + ' ' +this.sourceData[0].messageBasis;\r\n          console.log(this.sourceData);\r\n          // console.log(this.ruleMappingForm.controls.rulemappingDetails.value[0].sourceKey)\r\n          // this.ruleMappingForm.controls.rulemappingDetails.value[0].sourceKey.setValue(this.sourceKey);\r\n          if (this.sourceLabel == \"Https/Http\") {\r\n            this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageFormat;\r\n            this.matlabelSource1 = \"Node\";\r\n            this.matlabelSource2 = \"TagName\";\r\n          }\r\n          if (this.sourceLabel == \"TCP/IP\") {\r\n            this.matlabelSource1 = \"Filed No\";\r\n            this.matlabelSource2 = \"Filed Name\";\r\n          }\r\n          // this.translationData=translationResp;\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  ondestinationSource(event) {\r\n    console.log(event.value);\r\n    this.destinationSource = event.value;\r\n  }\r\n\r\n  msgTypeOfDestination(event) {\r\n    console.log(event.value);\r\n    this.gettingmsgTypeAndDestination(this.destinationSource, event.value);\r\n  }\r\n\r\n  gettingmsgTypeAndDestination(destinationSource, msgtype) {\r\n    this.rulemap\r\n      .gettingoperationAndService(destinationSource, msgtype, this.currentUser)\r\n      .subscribe(\r\n        (destinationResp) => {\r\n          console.log(\"destinationResp\", destinationResp);\r\n          this.destinationOperation = destinationResp.OPERATION;\r\n          this.destinationService = destinationResp.SERVICE;\r\n          this.destinationData = destinationResp.MdmtSystemService;\r\n          this.updateRuleMappingDest =\r\n            this.rulemappingdestMapping.msgTransDetails;\r\n          this.labelsDestination =\r\n            destinationResp.MdmtSystemChannel[0].messageChannel;\r\n          console.log(this.labelsDestination);\r\n          if (this.labelsDestination == \"Https/Http\") {\r\n            this.labelsDestination =\r\n              destinationResp.MdmtSystemChannel[0].messageFormat;\r\n            this.matLabel = \"Node\";\r\n            this.matLabel2 = \"Tag Name\";\r\n          } else if (this.labelsDestination == \"TCP/IP\") {\r\n            this.matLabel = \"Filed No\";\r\n            this.matLabel2 = \"Filed Name\";\r\n          }\r\n          // this.rulemappingData=[...this.sourceData,...this.destinationData]\r\n          console.log(this.rulemappingData);\r\n\r\n          // this.translationData=translationResp;\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  onSelectingMessageBasis(event: any) {\r\n    console.log(\"option for fieldno\", event.value);\r\n    console.log(event.value);\r\n    var x = this.isoRespData.find((item) => item.messageBasis == event.value);\r\n    this.isoRespData.forEach((data) => {\r\n      data.messageKey = x.messageKey;\r\n      this.tagName = data.messageKey;\r\n      data.dataType = x.dataType;\r\n    });\r\n  }\r\n  onsaveRuleMapping() {\r\n    let payloadObj: any = {};\r\n    payloadObj = this.ruleMappingDataForPayload;\r\n    payloadObj.creatorId = this.currentUser;\r\n    payloadObj.msgMappingDetails = this.rulemappingDetails.value;\r\n    if (payloadObj.approvedEver == \"NO\") {\r\n      payloadObj.approvedEver = \"N\";\r\n    }\r\n    if (payloadObj.approvedEver == \"YES\") {\r\n      payloadObj.approvedEver = \"Y\";\r\n    }\r\n    if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n      payloadObj.approvedStatus = \"U\";\r\n    }\r\n    if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n      payloadObj.approvedStatus = \"A\";\r\n    }\r\n    if (payloadObj.recordStatus == \"OPEN\") {\r\n      payloadObj.recordStatus = \"O\";\r\n    }\r\n    if (payloadObj.recordStatus == \"CLOSE\") {\r\n      payloadObj.recordStatus = \"C\";\r\n    }\r\n    this.rulemap.updatingRuleMapping(payloadObj, this.currentUser).subscribe(\r\n      (resp) => {\r\n        console.log(resp);\r\n        if (resp) {\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.disableSubmitBtn = true;\r\n          Swal.fire({ text: \"Record is Updated\", icon: \"success\" });\r\n          this.submit = false;\r\n          this.hideFetch = false;\r\n          this.hideSubmit = false;\r\n          this.formTouched = !this.ruleMappingForm.touched;\r\n        }\r\n      },\r\n      (err: any) => {\r\n        console.log(err.error.text);\r\n        Swal.fire({\r\n          text: \"Unable to update the record, server error!\",\r\n          icon: \"error\",\r\n        });\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nexport class MdmtMessageMapping {\r\n  id: any;\r\n  sourceTranslationId: any;\r\n  targetTranslationId: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n}\r\nexport class MdmtMessageMappingDet {\r\n  id: any;\r\n  messageMappingId;\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  defaultValue: any;\r\n  sourceKey: any;\r\n  destinationKey: any;\r\n}\r\nexport class ruleMapDto {\r\n  mdmtMessageMapping: MdmtMessageMapping;\r\n  mdmtMessageMappingDet: Array<MdmtMessageMappingDet>;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CanDeactivateGuard } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { ConversionComponent } from './conversion/conversion.component';\r\nimport { RuleMappingCreateComponent } from './rule-mapping-create/rule-mapping-create.component';\r\nimport { RuleMappingDetailsComponent } from './rule-mapping-details/rule-mapping-details.component';\r\nimport { RuleMappingComponent } from './rule-mapping/rule-mapping.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'create',\r\n    component:RuleMappingCreateComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'edit/:mapId',\r\n    component:RuleMappingDetailsComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'summary',\r\n    component:RuleMappingComponent\r\n  },\r\n  {\r\n    path:'conversion',\r\n    component:ConversionComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RuleMappingRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RuleMappingRoutingModule } from './rule-mapping-routing.module';\r\nimport { RuleMappingComponent } from './rule-mapping/rule-mapping.component';\r\nimport { RuleMappingDetailsComponent } from './rule-mapping-details/rule-mapping-details.component';\r\nimport { RuleMappingCreateComponent } from './rule-mapping-create/rule-mapping-create.component';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ConversionComponent } from './conversion/conversion.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RuleMappingComponent,\r\n    RuleMappingDetailsComponent,\r\n    RuleMappingCreateComponent,\r\n    ConversionComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RuleMappingRoutingModule,\r\n    DataTablesModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgSelectModule\r\n  ]\r\n})\r\nexport class RuleMappingModule { }\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <div class=\"dbCardStyle\">\r\n    <div class=\"row g-3 pb-3 justify-content-end\">\r\n      <div class=\"col-auto\"  *ngIf=\"roleCodes.new\">\r\n        <a [routerLink]=\"['/rule-mapping/create']\" [routerLinkActive]=\"['active']\" class=\"btn smBtn minWdSmBtn btnPrimary\">{{roleCodes.new.labelDescription}}</a>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <a [routerLink]=\"['/dashboard']\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</a>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n    <table datatable id=\"dbTable1\" [dtOptions]=\"dtOptions\"  class=\"dataTable table tableStyle  nowrap vAlignMdl\" style=\"width:100%\">\r\n      <thead>\r\n        <tr>\r\n          <th>Source System</th>\r\n          <th>Destination System</th>\r\n          <th>Auth Status</th>\r\n          <th>Record Status</th>\r\n          <th>Date</th>\r\n          <th>Conversion</th>\r\n          <th>Action</th>\r\n      \r\n        </tr>\r\n      </thead>\r\n      <tbody *ngIf=\"ruleMappingListResp?.length != 0\">\r\n        <tr *ngFor=\"let data of ruleMappingListResp\">\r\n          <td> <a style=\"cursor: pointer;\" (click)=\"getById(data)\" class=\"primaryColor\">{{ data.sourceTransDetId}}</a></td>\r\n          <td>{{ data.targetTransDetId }}</td>\r\n          <td>{{ data.mdmtMessageMapping.approvedStatus}}</td>\r\n          <td>{{ data.mdmtMessageMapping.recordStatus }}</td>\r\n          <td>{{ data.mdmtMessageMapping.createdTime | date:'medium' }}</td>\r\n          <td><button class=\"btn smBtn minWdSmBtn btnPrimary\" [routerLink]=\"['/rule-mapping/conversion']\">Conversion</button></td>\r\n          <td>\r\n            <button  class=\"btn\" style=\"color: red\" title=\"Authorize\" [disabled]=\"!(data.mdmtMessageMapping.approvedStatus== 'U' || data.mdmtMessageMapping.approvedStatus== 'UNAUTHORIZED' || data.mdmtMessageMapping.approvedStatus == 'Unauthorized')\" (click)=\"auth(data)\">\r\n                \r\n              <img class=\"summaryIcon\" src=\"assets/images/authorize.svg\" alt=\"Authorize\">\r\n              </button>\r\n            <button class=\"btn\" style=\"color: red\" title=\"Close\" *ngIf=\"(data.mdmtMessageMapping.recordStatus== 'O' || data.mdmtMessageMapping.recordStatus== 'Open' || data.mdmtMessageMapping.recordStatus== 'OPEN') && (data.mdmtMessageMapping.approvedEver== 'Y' || data.mdmtMessageMapping.approvedEver== 'YES')\" (click)=\"close(data)\">\r\n                \r\n              <img class=\"summaryIcon\" src=\"assets/images/CROSS1.svg\"   alt=\"...\">\r\n              </button> \r\n             <button class=\"btn\" style=\"color: red\" title=\"Reopen\" *ngIf=\"(data.mdmtMessageMapping.recordStatus == 'CLOSED' || data.mdmtMessageMapping.recordStatus == 'Close') && (data.mdmtMessageMapping.approvedEver == 'YES' || data.mdmtMessageMapping.approvedEver == 'Y')\"\r\n \r\n                \r\n                      (click)=\"open(data)\">\r\n              \r\n              <img class=\"summaryIcon\" src=\"assets/images/open.svg\"  alt=\"...\">\r\n              </button>\r\n              <button class=\"btn\" style=\"color: red\" title=\"Delete\" *ngIf=\"data.mdmtMessageMapping.approvedEver== 'N' || data.mdmtMessageMapping.approvedEver== 'NO'\" (click)=\"delete(data)\">\r\n                 \r\n                <img class=\"summaryIcon\" src=\"assets/images/delete.svg\" alt=\"...\">\r\n              </button>\r\n               \r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tbody *ngIf=\"ruleMappingListResp?.length == 0\">\r\n        <tr>\r\n         <!-- <td colspan=\"3\" class=\"no-data-available\">No data!</td> -->\r\n        </tr>\r\n      </tbody>  \r\n    </table>\r\n  </div>\r\n    <ng-container *ngIf=\"isLoading\">\r\n      <div class=\"loading-page-center\">\r\n        <span class=\"indicator-progress\">Please wait...\r\n          <span class=\"spinner-border spinner-border-sm align-middle ms-2\"></span></span>\r\n      </div>\r\n    </ng-container>\r\n    \r\n  </div>\r\n\r\n\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ItemsList } from '@ng-select/ng-select/lib/items-list';\r\nimport { Subject } from 'rxjs';\r\nimport { AppConstants } from 'src/app/shared/config/app.constant';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'npr-rule-mapping',\r\n  templateUrl: './rule-mapping.component.html',\r\n  styleUrls: ['./rule-mapping.component.scss'],\r\n})\r\nexport class RuleMappingComponent implements OnInit {\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  ruleMappingListResp: any = [];\r\n  isLoading: boolean = false;\r\n  roleCodes = new permissionsLabels();\r\n  currentUser: string;\r\n  addSysRespData: Object;\r\n  editBtn: boolean;\r\n  authBtn: boolean;\r\n  deleted: boolean;\r\n  reopenBtn: boolean;\r\n  authorizeDone: boolean;\r\n  closeBtn: boolean;\r\n  authBtnHide: boolean;\r\n  statusArr: String[] = ['Authorized', 'Unauthorized', 'Open', 'Close'];\r\n  totalPages: any;\r\n  totalRecords: any;\r\n  API_URL = AppConstants.baseURL;\r\n  mappingDetailsArray: any;\r\n\r\n  constructor(\r\n    private rulelist: RuleService,\r\n    private roleService: RoleService,\r\n    private router: Router,\r\n    private addSystem: AddSystemService,\r\n    private cdr: ChangeDetectorRef,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n      this.addSystem.setReference({\r\n        referenceId: '',\r\n      });\r\n      localStorage.setItem('link', '');\r\n  \r\n    this.dtOptions = {\r\n      pagingType: 'full_numbers',\r\n      pageLength: 5,\r\n      serverSide: true,\r\n      columnDefs: [{ type: 'date', targets: [4] }],\r\n      order: [[4, 'desc']],\r\n      // processing: true,\r\n      lengthMenu: [\r\n        [5, 10, 20, 30,-1],\r\n        [5, 10, 20, 30,\"ALL\"],\r\n      ], \r\n      // columnDefs: [ { type: 'date', 'targets': [5] } ],\r\n      // order: [[5, 'desc']],\r\n      ajax: (dataTablesParameters: any, callback) => {\r\n        \r\n        dataTablesParameters.minNumber = dataTablesParameters.start + 1;\r\n        dataTablesParameters.maxNumber =\r\n          dataTablesParameters.start + dataTablesParameters.length;\r\n        console.log(\r\n          dataTablesParameters.minNumber,\r\n          dataTablesParameters.maxNumber\r\n        );\r\n        const pageNo = Math.floor(dataTablesParameters.minNumber / dataTablesParameters.length);\r\n        const pageSize = dataTablesParameters.length;\r\n        const search=dataTablesParameters.search.value\r\n        this.http.get<any>(`${this.API_URL}`+`/msgApi/getAllMapping?pageNo=${pageNo}&pageSize=${pageSize}&search=${search}`)\r\n          .subscribe(resp => {\r\n            ;\r\n            console.log(resp);\r\n            for (let item of resp.result) {\r\n              item.recordStatus = this.statusArr.find((i) =>\r\n                i.startsWith(item.recordStatus)\r\n              );\r\n              item.approvedStatus = this.statusArr.find((i)=>\r\n              i.startsWith(item.approvedStatus)\r\n              );\r\n            }\r\n            \r\n            this.totalPages = resp.totalNoOfPages;\r\n            this.totalRecords = resp.totalRecords;\r\n            this.ruleMappingListResp = resp.result;\r\n            for (let item of this.ruleMappingListResp) {\r\n              this.auditLog(item);\r\n            }\r\n            \r\n           \r\n            this.isLoading = false;\r\n            this.cdr.markForCheck();\r\n\r\n            callback({\r\n              recordsTotal: resp.totalRecords,\r\n              recordsFiltered: resp.totalRecords,\r\n              data: [],\r\n            });\r\n          });\r\n      },\r\n    };\r\n\r\n    // this.fetchinglistRuleMapping();\r\n    this.roleService.fetchScreenPermissions('Rule Mapping');\r\n    this.roleService.screenLabelList.subscribe(\r\n      (message) => (this.roleCodes = message)\r\n    );\r\n    console.log(this.roleCodes);\r\n  }\r\n  auditLog(ruleMappingListResp) {\r\n    console.log(ruleMappingListResp);\r\n    if (ruleMappingListResp.mdmtMessageMapping.approvedStatus =='U' || ruleMappingListResp.mdmtMessageMapping.approvedStatus =='Unauthorized' || ruleMappingListResp.mdmtMessageMapping.approvedStatus =='UNAUTHORIZED') {\r\n      ruleMappingListResp.mdmtMessageMapping.approvedStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'A' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'Authorized' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'AUTHORIZED') {\r\n      ruleMappingListResp.mdmtMessageMapping.approvedStatus = 'AUTHORIZED'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.recordStatus == 'O' || ruleMappingListResp.mdmtMessageMapping.recordStatus == 'Open') {\r\n      ruleMappingListResp.mdmtMessageMapping.recordStatus = 'OPEN'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.recordStatus == 'C' || ruleMappingListResp.mdmtMessageMapping.recordStatus == 'Close') {\r\n      ruleMappingListResp.mdmtMessageMapping.recordStatus = 'CLOSED'\r\n    }\r\n    if (ruleMappingListResp.firstTimeAuth == 'N') {\r\n      console.log(\"NO\");\r\n      ruleMappingListResp.firstTimeAuth = 'NO'\r\n    }\r\n    if (ruleMappingListResp.firstTimeAuth == 'Y') {\r\n      ruleMappingListResp.firstTimeAuth = 'YES'\r\n    }\r\n  }\r\n  fetchinglistRuleMapping() {\r\n    this.isLoading = true;\r\n    this.rulelist.fetchingruleMapping().subscribe((resp: any) => {\r\n      for (let item of resp.result) {\r\n        item.recordStatus = this.statusArr.find((i) =>\r\n          i.startsWith(item.recordStatus)\r\n        );\r\n        item.approvedStatus = this.statusArr.find((i)=>\r\n        i.startsWith(item.approvedStatus)\r\n        );\r\n      }\r\n      console.log(resp);\r\n      this.ruleMappingListResp = resp.result;\r\n      // this.auditLog();\r\n      this.isLoading = false;\r\n      this.cdr.markForCheck();\r\n\r\n      this.dtTrigger.next();\r\n    });\r\n  }\r\n\r\n  getById(data) {\r\n    console.log('OnClick', data);\r\n    let id: any = 0;\r\n    if (data.mdmtMessageMapping.msgMappingDetails.length> 0) {\r\n      data.mappingId=data.mdmtMessageMapping.msgMappingDetails[0].mappingId\r\n    }\r\n    console.log(id);\r\n\r\n    this.rulelist.getruleMappingById(id, data.mappingId).subscribe((resp) => {\r\n      console.log(resp);\r\n      this.mappingDetailsArray=resp.mdmtMessageMappingDet;\r\n      let queryParams = {\r\n        sourceTransDetId: resp.sourceTransDetId,\r\n        targetTransDetId: resp.targetTransDetId,\r\n        mdmtMessageMappingDet: resp.mdmtMessageMappingDet,\r\n        responseData: data,\r\n      };\r\n      console.log(queryParams);\r\n      this.addSystem.sendNavParam(queryParams);\r\n      this.router.navigate(['/rule-mapping/edit', data.mappingId]);\r\n    });\r\n  }\r\n  open(data){\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        \r\n        this.rulelist.editRuleMapping(\"open\", this.currentUser, data).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.authBtnHide = false;\r\n          this.editBtn = false;\r\n          this.authBtn = false;\r\n          Swal.fire({ text: 'Record is Opened', icon: 'success' }).then(() => window.location.reload());\r\n          // this.toastService.successMessage('Record Opened!', '');\r\n        });\r\n      }\r\n    }))\r\n\r\n  }\r\n  close(data){\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        // let payloadObj: any = {};\r\n        // payloadObj = this.ruleMappingDataForPayload;\r\n        // payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n        this.rulelist.editRuleMapping(\"close\", this.currentUser, data).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.deleted = false;\r\n          this.reopenBtn = false;\r\n          Swal.fire({ text: 'Record is  Closed', icon: 'success' }).then(() => window.location.reload());\r\n          // this.toastService.successMessage('Record is Closed', '');\r\n        });\r\n      }\r\n    }))\r\n  \r\n\r\n\r\n  }\r\n  delete(data){\r\n    console.log(data);\r\n    \r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        this.rulelist.ondeleteMapping(data.mappingId, this.currentUser).subscribe((resp) => {\r\n          if (resp) {\r\n            this.deleted = true;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.closeBtn = true;\r\n\r\n            // this.toastService.successMessage('Deleted Successfully!', '');\r\n\r\n            Swal.fire({\r\n              title: 'Record is Deleted',\r\n              confirmButtonText: 'Ok'\r\n            }).then(() => window.location.reload());\r\n\r\n          }\r\n          else {\r\n            Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n\r\n  }\r\n  auth(data){\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        console.log(data.creatorId);\r\n        \r\n\r\n        if (this.currentUser == data.creatorId) {\r\n          Swal.fire('Maker cannot authorize the record!');\r\n          // this.toastService.successMessage('Maker cannot authorize!', '');\r\n        }\r\n        else {\r\n          \r\n          this.rulelist.editRuleMapping(\"auth\", this.currentUser, data.mdmtMessageMapping).subscribe((resp) => {\r\n            this.authorizeDone = true;\r\n            this.addSysRespData = resp;\r\n            Swal.fire({ text: 'Record is Authorized' }).then(() => window.location.reload());\r\n            // this.toastService.successMessage('Record Authorized!', '');\r\n          });\r\n        }\r\n      }\r\n    }))\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n}"]}