{"version":3,"mappings":"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AAAgBA;;AACpBA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAaA;;AACjBA;;AACEA;;AAOFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAOA;;AACXA;;AAAGA;;AAA+BA;;AACpCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAkBA;;AACtBA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAwBA;;AAC5BA;;AACEA;;AAOFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAoBA;;AACxBA;;AACEA;;AASFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAKFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAIA;;AAAmBA;;AACvBA;;AAAGA;;AAA8BA;;AACnCA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;;;AAx0BQA;;AAAAA;;AACMA;;AAAAA;;AA4BMA;;AAAAA;;AAgEEA;;AAAAA;;AAsCAA;;AAAAA;;AAKkBA;;AAAAA;;AAGlBA;;AAAAA;;AAyCQA;;AAAAA;;AAgfbA;;AAAAA;;AAkBDA;;AAAAA;;AAmBAA;;AAAAA;;AAwBCA;;AAAAA;;AAkBDA;;AAAAA;;AAmBAA;;AAAAA;;AA6BAA;;AA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","names":["_angular_core__WEBPACK_IMPORTED_MODULE_3__","ConversionComponent","rulelist","router","addSystem","fb","rxjs__WEBPACK_IMPORTED_MODULE_4__","link","localStorage","getItem","getReference","subscribe","console","log","resp","referenceId","undefined","referenceI","getRespAndRequest","conversionForm","group","FCUBS_HEADER","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","xmlhttp","XMLHttpRequest","open","xmlDoc","self","onreadystatechange","readyState","status","get","setValue","response","sweetalert2__WEBPACK_IMPORTED_MODULE_0___default","text","icon","setRequestHeader","send","xmlhttpResp","self1","dataResp","value","event","dtTrigger","unsubscribe","setReference","setItem","selectors","decls","vars","consts","template","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_7__","extsys_r20","tag_r53","tag_r60","tag_r67","tag_r74","fname_r85","fname_r93","fname_r101","tag_r109","RuleMappingCreateComponent","rulemap","roleService","formBuilder","cdr","toastService","canDeactivateGuard","MdmtMessageMapping","ruleMapDto","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_0__","rxjs__WEBPACK_IMPORTED_MODULE_8__","currentUser","gettingExternalsystem","ruleMappingForm","systemCode","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","messageType","serviceName","operationName","destinationSystems","getDestinationItem","rulemappingDetail","array","addRuleDetail","fetchingIso","fetchScreenPermissions","screenLabelList","message","roleCodes","setTimeout","valid","msgTransDetails","formArray","controls","control","saveDisabled","isExit","touched","formTouched","sweetalert2__WEBPACK_IMPORTED_MODULE_1___default","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","then","result","isConfirmed","markForCheck","Promise","resolve","reject","operation","operationType","addSysRespData","creatorId","payloadObj","ruleMappingDataForPayload","msgMappingDetails","editRuleMapping","iconColor","ondeleteMapping","mappingId","title","navigateByUrl","hideFetch","hideSubmit","submit","enable","authStatus","recordStatus","approvedEver","id","defaultValue","messageMappingId","sourceTransDetId","targetTransDetId","sourceKey","destinationKey","index","push","getRuleMappingDetail","tempArrayList","splice","tempArrayList2","removeAt","extSysResp","externalSystem","sort","sourcesysdata","temparray","externalCreateSystemFiltered","err","rulemapping","disableFetchBtn","showfetchAll","showDestination","showSource","item","sourceIsoResp","find","element","fieldValue","showFieldNoValue","fieldNo","fetchingIsoForTcp","isoResp","isoRespData","messageBasisIso","map","data","messageBasis","fieldNoData","fieldValueData","messageKey","placeholder","sourseSys","filter","system","gettingTranslationData","sourceMsg","patchValue","gettingoperationAandserv","sourceTranslationId","transId","el","translationId","target","e","extValue","toLowerCase","search","msgtype","gettingoperationAndService","sourceResp","sourceoperation","OPERATION","sourceService","SERVICE","sourceData","MdmtSystemService","updateRuleMappingSrc","sourceLabel","MdmtSystemChannel","messageChannel","messageFormat","keys","Object","x","y","length","I","translationDataService","multipleService1","O","translationDataOperation","multipleOperation1","split","matlabelSource1","matlabelSource2","placeholder1","destinationSource","rulemappingDest","destinationMsg","gettingmsgTypeAndDestination","destinationResp","destinationOperation","destinationService","destinationData","updateRuleMappingDest","translationDestDataService","multipleService","translationDestDataOperation","multipleOperation","labelsDestination","matLabel","matLabel2","disableSubmitBtn","reset","i","mappingObj","targetTranslationId","replace","createdTime","approverId","approvedTime","versionNo","approvedStatus","updatingRuleMapping","auditLog","showAuditLog","afterSubmit","disable","disableResetBtn","error","submittingruleMapping","MdmtMessageMappingDet","MdmtMsgTransDetails","_angular_core__WEBPACK_IMPORTED_MODULE_6__","tag_r29","item_r8","tag_r36","tag_r43","tag_r50","ctx_r60","ctx_r68","ctx_r76","ctx_r84","ctx_r24","RuleMappingDetailsComponent","_location","_route","src_app_shared_models_fmosNewRolePermissions__WEBPACK_IMPORTED_MODULE_1__","rxjs__WEBPACK_IMPORTED_MODULE_7__","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","rulemappingDetails","navSubscription","getNavParam","editruleMappingResp","getPrototypeOf","prototype","back","mdmtMessageMapping","sourceTransSystemCode","targetTransSystemCode","gettingTranslationDataForDest","reopenBtn","authBtnHide","at","sourceRuleMappingArray","val","destinationRuleMappingArray","getRuleMappingDetails","editFetch","successMessage","edit","ruleMappingData","fetchDestination","destSys","rulemappingdest","rulemappingdestMapping","authorizeDone","editBtn","authBtn","deleted","closeBtn","editFlag","source","rulemappingData","forEach","tagName","dataType","routes","path","component","_rule_mapping_create_rule_mapping_create_component__WEBPACK_IMPORTED_MODULE_2__","canDeactivate","src_app_shared_guards_can_deactivate_guard__WEBPACK_IMPORTED_MODULE_0__","_rule_mapping_details_rule_mapping_details_component__WEBPACK_IMPORTED_MODULE_3__","_rule_mapping_rule_mapping_component__WEBPACK_IMPORTED_MODULE_4__","_conversion_conversion_component__WEBPACK_IMPORTED_MODULE_1__","RuleMappingRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_6__","imports","exports","RuleMappingModule","_angular_common__WEBPACK_IMPORTED_MODULE_7__","_rule_mapping_routing_module__WEBPACK_IMPORTED_MODULE_0__","angular_datatables__WEBPACK_IMPORTED_MODULE_4__","_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_9__","declarations","_rule_mapping_rule_mapping_component__WEBPACK_IMPORTED_MODULE_1__","_rule_mapping_details_rule_mapping_details_component__WEBPACK_IMPORTED_MODULE_2__","_rule_mapping_create_rule_mapping_create_component__WEBPACK_IMPORTED_MODULE_3__","_conversion_conversion_component__WEBPACK_IMPORTED_MODULE_5__","RuleMappingComponent","http","src_app_shared_config_app_constant__WEBPACK_IMPORTED_MODULE_0__","dtOptions","pagingType","pageLength","serverSide","columnDefs","type","targets","order","lengthMenu","ajax","dataTablesParameters","callback","minNumber","start","maxNumber","pageNo","Math","floor","pageSize","API_URL","statusArr","startsWith","totalPages","totalNoOfPages","totalRecords","ruleMappingListResp","isLoading","recordsTotal","recordsFiltered","firstTimeAuth","fetchingruleMapping","next","getruleMappingById","mappingDetailsArray","mdmtMessageMappingDet","queryParams","responseData","sendNavParam","navigate","sweetalert2__WEBPACK_IMPORTED_MODULE_2___default","window","location","reload","_a","lsuser"],"sources":["webpack:///src/app/views/rule-mapping/conversion/conversion.component.html","webpack:///src/app/views/rule-mapping/conversion/conversion.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-create/rule-mapping-create.component.html","webpack:///src/app/views/rule-mapping/rule-mapping-create/rule-mapping-create.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-details/rule-mapping-details.component.html","webpack:///src/app/views/rule-mapping/rule-mapping-details/rule-mapping-details.component.ts","webpack:///src/app/views/rule-mapping/rule-mapping-routing.module.ts","webpack:///src/app/views/rule-mapping/rule-mapping.module.ts","webpack:///src/app/views/rule-mapping/rule-mapping/rule-mapping.component.html","webpack:///src/app/views/rule-mapping/rule-mapping/rule-mapping.component.ts"],"sourcesContent":["<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Conversion</h2>\r\n  </div>\r\n  <div class=\"dbCardStyle\">\r\n    <div class=\"row g-3 pb-3 justify-content-end\"></div>\r\n    <form [formGroup]=\"conversionForm\" novalidate>\r\n      <table style=\"width: 100%\" *ngIf=\"link=='incoming' || link=='' \">\r\n        <thead>\r\n          <tr>\r\n            <th>Request</th>\r\n            <th *ngIf=\"referenceId == ''\"></th>\r\n            <th>Response</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr style=\"margin-top: 2%\">\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n                formControlName=\"FCUBS_HEADER\"\r\n              >{{dataReq}}</textarea>\r\n            </td>\r\n            <td *ngIf=\"referenceId == ''\">\r\n              <button\r\n                class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                [disabled]=\"!conversionForm.valid\"\r\n                (click)=\"process()\"\r\n              >\r\n                Process\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n              >{{ dataResp }}</textarea>\r\n             \r\n             \r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <table style=\"width: 100%\" *ngIf=\"link=='outgoing'\">\r\n        <thead>\r\n          <tr>\r\n            <th>Request</th>\r\n            <th *ngIf=\"referenceId == ''\"></th>\r\n            <th>Response</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr style=\"margin-top: 2%\">\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n              >{{ dataResp }}</textarea>\r\n             \r\n             \r\n            </td>\r\n       \r\n            <td *ngIf=\"referenceId == ''\">\r\n              <button\r\n                class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                [disabled]=\"!conversionForm.valid\"\r\n                (click)=\"process()\"\r\n              >\r\n                Process\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <textarea\r\n                style=\"width: 80%\"\r\n                class=\"form-control rounded-0\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"15\"\r\n                formControlName=\"FCUBS_HEADER\"\r\n              >{{dataReq}}</textarea>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n    \r\n  </div>\r\n  <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n    \r\n    <div class=\"col-auto\">\r\n      <a [routerLink]=\"['/rule-mapping/summary']\" routerLinkActive=\"router-link-active\"\r\n        class=\"btn smBtn minWdSmBtn btnSecondary\" (click)=\"exit()\">Exit</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n","\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, Validators } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Subject } from \"rxjs\";\r\nimport {\r\n  AddSystemService,\r\n  API_URL,\r\n} from \"src/app/shared/services/add-system.service\";\r\nimport { RuleService } from \"src/app/shared/services/rule.service\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n@Component({\r\n  selector: \"npr-conversion\",\r\n  templateUrl: \"./conversion.component.html\",\r\n  styleUrls: [\"./conversion.component.scss\"],\r\n})\r\nexport class ConversionComponent implements OnInit {\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  ruleMappingListResp: any = [];\r\n  dataResp:any;\r\n  dataReq:any=\"6547457\";\r\n  conversionForm: any;\r\n  referenceId: any;\r\n  link: string;\r\n\r\n  constructor(\r\n    private rulelist: RuleService,\r\n    private router: Router,\r\n    private addSystem: AddSystemService,\r\n    private fb: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.link = localStorage.getItem(\"link\");\r\n    this.addSystem.getReference().subscribe(resp=>{\r\n         console.log(resp.referenceId)\r\n         if(resp.referenceId== undefined){\r\n          resp.referenceI='';\r\n         }\r\n         this.referenceId=resp.referenceId\r\n         if(this.referenceId != \"\"){\r\n          this.getRespAndRequest()\r\n         }\r\n    })\r\n    this.conversionForm = this.fb.group({\r\n      FCUBS_HEADER: [\"\", Validators.required],\r\n    });\r\n  }\r\n  getRespAndRequest() {\r\n    var xmlhttp = new XMLHttpRequest();\r\n    xmlhttp.open(\"GET\", `http://192.168.0.14:8082/MessageConverter/fetchReqRes?reqType=incoming&referenceNo=${this.referenceId}`);\r\n    var xmlDoc;\r\n    var self = this;\r\n    xmlhttp.onreadystatechange = function () {\r\n      if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n        console.log(xmlhttp);\r\n        \r\n        // self.dataResp =this.response;\r\n      self.conversionForm.get('FCUBS_HEADER').setValue(this.response);\r\n    ;\r\n      \r\n      }\r\n      else if(xmlhttp.readyState == 4 && xmlhttp.status == 400) {\r\n        Swal.fire({text:\"Provided Input is incorrect\",\r\n      icon:'error'});\r\n        \r\n     }\r\n    \r\n    };\r\n    xmlhttp.setRequestHeader(\"Content-Type\", \"application/xml\");\r\n    xmlhttp.send('');\r\n    var xmlhttpResp = new XMLHttpRequest();\r\n    xmlhttpResp.open(\"GET\", `http://192.168.0.14:8082/MessageConverter/fetchReqRes?reqType=outgoing&referenceNo=${this.referenceId}`);\r\n    var xmlDoc;\r\n    var self1 = this;\r\n    xmlhttpResp.onreadystatechange = function () {\r\n      if (xmlhttpResp.readyState == 4 && xmlhttpResp.status == 200) {\r\n        console.log(xmlhttpResp);\r\n        \r\n        self1.dataResp=this.response;\r\n      \r\n      }\r\n      else if(xmlhttpResp.readyState == 4 && xmlhttpResp.status == 400) {\r\n        Swal.fire({text:\"Provided Input is incorrect\",\r\n      icon:'error'});\r\n        \r\n     }\r\n    };\r\n    xmlhttpResp.setRequestHeader(\"Content-Type\", \"application/xml\");\r\n    xmlhttpResp.send('');\r\n \r\n  }\r\n \r\n  process() {\r\n      var xmlhttp = new XMLHttpRequest();\r\n      xmlhttp.open(\"POST\", 'http://192.168.0.14:8082/MessageConverter/MT-MX?mx=PAC008&mt=103');\r\n      var xmlDoc;\r\n      var self = this;\r\n      xmlhttp.onreadystatechange = function () {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n          console.log(xmlhttp);\r\n          self.dataResp =this.response;\r\n        \r\n        }\r\n        else if(xmlhttp.readyState == 4 && xmlhttp.status == 400) {\r\n          Swal.fire({text:\"Provided Input is incorrect\",\r\n        icon:'error'});\r\n          \r\n       }\r\n      };\r\n      xmlhttp.setRequestHeader(\"Content-Type\", \"application/xml\");\r\n      xmlhttp.send(this.conversionForm.value.FCUBS_HEADER);\r\n    \r\n  }\r\n  onSelect(event){\r\n    this.conversionForm.get('FCUBS_HEADER').setValue('');\r\n    this.dataResp=null;\r\n  }\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n  exit(){\r\n    this.addSystem.setReference({\r\n      referenceId: '',\r\n    });\r\n    localStorage.setItem('link', '');\r\n  }\r\n\r\n}\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <form class=\"formStyle\" [formGroup]=\"ruleMappingForm\" novalidate>\r\n    <fieldset [disabled]=\"!submit\">\r\n      <div class=\"dbCardStyle\">\r\n        <div class=\"addformCol\">\r\n          <div class=\"row g-4 align-items-center\">\r\n            <div class=\"col\">\r\n              <div class=\"row gy-4 align-items-end\">\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Source System<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  \r\n                   <ng-select placeholder=\"Please select\"\r\n                    formControlName=\"systemCode\"\r\n                    [clearable]=\"false\"\r\n                    aria-label=\"Default select example\"\r\n                    (change)=\"onSourseSelection($event)\"\r\n                    [placeholder]=\"placeholder\"\r\n                  > \r\n\r\n               \r\n                    <ng-option\r\n                      *ngFor=\"let extsys of externalSystem\"\r\n                      [value]=\"extsys\"\r\n                      [hidden]=\"extsys == sourseSys\"\r\n                    >\r\n                      {{ extsys }}\r\n                    </ng-option>\r\n                  </ng-select>\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Message Type<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <div *ngIf=\"sourceMsg\">\r\n                    <select\r\n                      formControlName=\"messageType\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      (change)=\"onSelectionOFMessageType($event)\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option value=\"I\">Incoming</option>\r\n                      <option value=\"O\">Outgoing</option>\r\n                    </select>\r\n                  </div>\r\n                  <div *ngIf=\"!sourceMsg\">\r\n                    <input\r\n                      type=\"text\"\r\n                      formControlName=\"messageType\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Message Type\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  formControlName=\"operationName\"\r\n                  name=\"operationNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Operation Name\"\r\n                  \r\n                  />\r\n              </div> -->\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\">Operation</label>\r\n                  <div *ngIf=\"!multipleOperation\">\r\n                    <select\r\n                      id=\"ruleName\"\r\n                      formControlName=\"operationName\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option\r\n                        *ngFor=\"let opt of translationDataOperation\"\r\n                        [value]=\"opt.headerValue\"\r\n                      >\r\n                        {{ opt.headerValue }}\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                  <div *ngIf=\"multipleOperation\">\r\n                    <input\r\n                      id=\"ruleName\"\r\n                      type=\"text\"\r\n                      formControlName=\"operationName\"\r\n                      class=\"form-control\"\r\n                      value=\"\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\">Service</label>\r\n                  <div *ngIf=\"!multipleService\">\r\n                    <select\r\n                      id=\"ruleName\"\r\n                      formControlName=\"serviceName\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option\r\n                        *ngFor=\"let serv of translationDataService\"\r\n                        [value]=\"serv.headerValue\"\r\n                      >\r\n                        {{ serv.headerValue }}\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"multipleService\">\r\n                    <input\r\n                      id=\"ruleName\"\r\n                      type=\"text\"\r\n                      formControlName=\"serviceName\"\r\n                      class=\"form-control\"\r\n                      value=\"\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"col-lg-3\">\r\n                <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"ruleName\"\r\n                  name=\"serviceNameS\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Service Name\"\r\n                  formControlName=\"serviceName\"\r\n                  \r\n                  />\r\n              </div> -->\r\n                <ng-container formGroupName=\"destinationSystems\">\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Destination System<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <!-- <ng-select formControlName=\"systemCode\" class=\"form-select\" aria-label=\"Default select example\" [items]=\"externalCreateSystemFiltered\"\r\n                              (change)=\"ondestinationSource($event)\">\r\n                              <ng-option hidden value=\"\" disabled selected >--Please select--</ng-option>\r\n                              <ng-option *ngFor=\"let extsys of externalSystem\" [value]=\"extsys\" [hidden]=\"extsys == sourseSys\">\r\n                                  {{extsys}}\r\n                              </ng-option>\r\n                      </ng-select> -->\r\n                    <!-- <ng-select [items]=\"externalCreateSystemFiltered\"\r\n                          class=\"form-select\"\r\n                          formControlName=\"systemCode\"\r\n                        (change)=\"ondestinationSource($event)\"> -->\r\n                    <ng-select\r\n                      [items]=\"externalCreateSystemFiltered\"\r\n                      [clearable]=\"false\"\r\n                          formControlName=\"systemCode\"\r\n                          [placeholder]=\"placeholder1\"\r\n                        (change)=\"ondestinationSource($event)\"\r\n                        >\r\n\r\n                      </ng-select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Message Type<span class=\"colorRed\">*</span></label>\r\n                      <div *ngIf=\"destinationMsg\">\r\n                        <select formControlName=\"messageType\" class=\"form-select\" aria-label=\"Default select example\"\r\n                        (change)=\"msgTypeOfDestination($event)\">\r\n                        <option hidden value=\"\" disabled selected >--Please select--</option>\r\n                      <option value=\"I\">\r\n                          Incoming\r\n                        </option>\r\n                        <option value=\"O\">\r\n                          Outgoing\r\n                        </option>\r\n                        <option value=\"I\">Incoming</option>\r\n                        <option value=\"O\">Outgoing</option>\r\n                      </select>\r\n                    </div>\r\n                    <div *ngIf=\"!destinationMsg\">\r\n                      <input\r\n                        type=\"text\"\r\n                        formControlName=\"messageType\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Message Type\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <!-- <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Operation<span class=\"colorRed\">*</span></label>\r\n                      <input\r\n                          type=\"text\"\r\n                          id=\"ruleName\"\r\n                          name=\"operationNameD\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Service Name\"\r\n                          formControlName=\"operationName\"\r\n                          \r\n                          />\r\n                    </div> -->\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\">Operation</label>\r\n                    <div *ngIf=\"!multipleOperation\">\r\n                      <select\r\n                        id=\"ruleName\"\r\n                        formControlName=\"operationName\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                        <option hidden value=\"\" disabled selected>\r\n                          --Please select--\r\n                        </option>\r\n                        <option\r\n                          *ngFor=\"let opt of translationDestDataOperation\"\r\n                          [value]=\"opt.headerValue\"\r\n                        >\r\n                          {{ opt.headerValue }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                    <div *ngIf=\"multipleOperation\">\r\n                      <input\r\n                        id=\"ruleName\"\r\n                        type=\"text\"\r\n                        formControlName=\"operationName\"\r\n                        class=\"form-control\"\r\n                        value=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\">Service</label>\r\n                    <div *ngIf=\"!multipleService\">\r\n                      <select\r\n                        id=\"ruleName\"\r\n                        formControlName=\"serviceName\"\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                        <option hidden value=\"\" disabled selected>\r\n                          --Please select--\r\n                        </option>\r\n                        <option\r\n                          *ngFor=\"let serv of translationDestDataService\"\r\n                          [value]=\"serv.headerValue\"\r\n                        >\r\n                          {{ serv.headerValue }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"multipleService\">\r\n                      <input\r\n                        id=\"ruleName\"\r\n                        type=\"text\"\r\n                        formControlName=\"serviceName\"\r\n                        class=\"form-control\"\r\n                        value=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <!-- <div class=\"col-lg-3\">\r\n                      <label for=\"roleName\" class=\"formLbl\">Service<span class=\"colorRed\">*</span></label>\r\n                      <input\r\n                          type=\"text\"\r\n                          id=\"ruleName\"\r\n                          name=\"serviceNameD\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Service Name\"\r\n                          formControlName=\"serviceName\"\r\n                          \r\n                          />\r\n                    </div> -->\r\n                </ng-container>\r\n\r\n                <div class=\"col-lg-3\">\r\n                  <!-- [disabled]=\"!ruleMapping.valid ||showfetchAll\" -->\r\n                  <!-- <button  (click)=\"fetchDestination()\" \r\n                [disabled]=\"ruleMappingForm.invalid\"\r\n                        class=\"btn minWdSmBtn btnPrimary\"> -->\r\n\r\n                  <button\r\n                    [disabled]=\"!validationForFetch\"\r\n                    (click)=\"fetchDestination()\"\r\n                    class=\"btn minWdSmBtn btnPrimary\"\r\n                  >\r\n                    Fetch\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"dbCardStyle\" *ngIf=\"showSource || showDestination\">\r\n        <div class=\"addformCol\" formArrayName=\"rulemappingDetail\">\r\n          <ng-container\r\n            *ngFor=\"let item of rulemappingDetail.controls; let i = index\"\r\n          >\r\n            <ng-container [formGroupName]=\"i\">\r\n              <div class=\"row align-items-center\">\r\n                <div class=\"col\">\r\n                  <div class=\"row gy-4\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label *ngIf=\"i == 0\" for=\"roleName\" class=\"formLbl\"\r\n                        >Source System<span class=\"colorRed\">*</span></label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"sourceLabel == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'DB Connection'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              (change)=\"onselectOfFieldNo($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"try(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"sourceLabel == 'MT' || sourceLabel == 'MX'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                        <!-- <div class=\"col-lg-6\">\r\n                                <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                  <option selected>Field Name</option>\r\n                                  <option value=\"1\">One</option>\r\n                                  <option value=\"2\">Two</option>\r\n                                  <option value=\"3\">Three</option>\r\n                                </select>\r\n                              </div> -->\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" *ngIf=\"i == 0\" class=\"formLbl\"\r\n                        >Destination system</label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"labelsDestination == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [hidden]=\"try2(fname.messagebasis)\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [hidden]=\"try2(fname.messagebasis)\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [hidden]=\"try2(fname.messagebasis)\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"labelsDestination == 'DB Connection'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              (change)=\"onselectOfFieldNo2($event, i)\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingDest\"\r\n                                [hidden]=\"try2(tag.messagebasis)\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"\r\n                              labelsDestination == 'MT' ||\r\n                              labelsDestination == 'MX'\r\n                            \"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingDest\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                        <!-- <div class=\"col-lg-6\">\r\n                                <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                  <option selected>Tag Name</option>\r\n                                  <option value=\"1\">One</option>\r\n                                  <option value=\"2\">Two</option>\r\n                                  <option value=\"3\">Three</option>\r\n                                </select>\r\n                              </div> -->\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" *ngIf=\"i == 0\" class=\"formLbl\"\r\n                        >Default value<span class=\"colorRed\">*</span></label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container>\r\n                            <input\r\n                              type=\"text\"\r\n                              id=\"defaultVal\"\r\n                              [ngClass]=\"{\r\n                                first: i === 0,\r\n                                'form-control': true,\r\n                                path: true\r\n                              }\"\r\n                              formControlName=\"defaultValue\"\r\n                              placeholder=\"Default value\"\r\n                            />\r\n                          </ng-container>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-4\">\r\n                  <div>\r\n                    <a\r\n                      *ngIf=\"submit\"\r\n                      (click)=\"deleteRuleMapGroup(i)\"\r\n                      class=\"deleteIcon2\"\r\n                      style=\"cursor: pointer\"\r\n                    >\r\n                      <img\r\n                        src=\"assets/images/delete-icon.svg\"\r\n                        [ngClass]=\"{ 'first-image': i === 0, image: true }\"\r\n                        alt=\"...\"\r\n                        class=\"image\"\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <br> -->\r\n            </ng-container>\r\n          </ng-container>\r\n        </div>\r\n        <div class=\"row g-3 pt-4\">\r\n          <div>\r\n            <a\r\n              *ngIf=\"submit\"\r\n              (click)=\"addRuleDetail()\"\r\n              class=\"addIcon primarybg\"\r\n            >\r\n              <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\" /></span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    <div class=\"row g-3 pb-3 pt-4 justify-content-end\">\r\n      <div\r\n        class=\"col-auto\"\r\n        *ngIf=\"\r\n          (addSysRespData?.recordStatus == 'O' ||\r\n            addSysRespData?.recordStatus == 'OPEN') &&\r\n          roleCodes.edit\r\n        \"\r\n        [hidden]=\"submit\"\r\n      >\r\n        <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n          {{ roleCodes.edit.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <button\r\n          (click)=\"onsaveRuleMapping()\"\r\n          [hidden]=\"!submit\"\r\n          [disabled]=\"\r\n            ruleMappingForm.invalid ||\r\n            rulemappingDetail.invalid ||\r\n            isSaveDisabled()\r\n          \"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          Save\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.approvedStatus == 'U' ||\r\n            addSysRespData?.approvedStatus == 'UNAUTHORIZED') &&\r\n          roleCodes.auth\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"auditChangeRuleTranslation('auth')\"\r\n          class=\"btn smBtn minWdSmBtn btnAuth\"\r\n        >\r\n          {{ roleCodes.auth.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.recordStatus == 'O' ||\r\n            addSysRespData?.recordStatus == 'OPEN') &&\r\n          addSysRespData?.approvedEver != 'NO' &&\r\n            addSysRespData?.approvedEver != 'N' &&\r\n          roleCodes.close\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"auditChangeRuleTranslation('close')\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          {{ roleCodes.close.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.recordStatus == 'C' ||\r\n            addSysRespData?.recordStatus == 'CLOSED') &&\r\n          addSysRespData?.approvedEver != 'NO' &&\r\n            addSysRespData?.approvedEver != 'N' &&\r\n          roleCodes.reopen\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"auditChangeRuleTranslation('open')\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          {{ roleCodes.reopen.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div\r\n        class=\"col-auto\"\r\n        [hidden]=\"hideFetch\"\r\n        *ngIf=\"\r\n          (addSysRespData?.approvedEver == 'NO' ||\r\n            addSysRespData?.approvedEver == 'N') &&\r\n          roleCodes.delete\r\n        \"\r\n      >\r\n        <button\r\n          (click)=\"deleteRuleMapping()\"\r\n          class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n        >\r\n          {{ roleCodes.delete.labelDescription }}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <button\r\n          class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n          [routerLink]=\"['/rule-mapping/summary']\"\r\n        >\r\n          Exit\r\n        </button>\r\n      </div>\r\n      <!-- <div class=\"col-auto\">\r\n          <button\r\n            class=\"btn smBtn minWdSmBtn btnSecondary\" (click)=\"onReset()\"\r\n            >Reset</button\r\n          >\r\n        </div> -->\r\n    </div>\r\n  </form>\r\n</div>\r\n<div *ngIf=\"!submit\" class=\"dbCardStyle mt-20\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n              <i class=\"fa fa-edit faClass\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker</h2>\r\n              <p>{{ addSysRespData?.creatorId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n              <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData?.createdTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n              <i class=\"fa fa-files-o faRecordStatus\" aria-hidden=\"true\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Record Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData?.recordStatus == \"O\"\r\n                    ? \"OPEN\"\r\n                    : addSysRespData?.recordStatus == \"C\"\r\n                    ? \"CLOSED\"\r\n                    : addSysRespData?.recordStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker</h2>\r\n              <p>{{ addSysRespData?.approverId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/modification.svg\"\r\n                class=\"modImage\"\r\n                alt=\"...\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData?.approvedTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n              <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>First Time Authorization</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData?.approvedEver == \"N\"\r\n                    ? \"NO\"\r\n                    : addSysRespData?.approvedEver == \"Y\"\r\n                    ? \"YES\"\r\n                    : addSysRespData?.approvedEver\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n              <i class=\"fa fa-shield faClassFirstTimeAuth\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Authorization Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData?.approvedStatus == \"N\" ||\r\n                  addSysRespData?.approvedStatus == \"U\"\r\n                    ? \"UNAUTHORIZED\"\r\n                    : addSysRespData?.approvedStatus == \"Y\" ||\r\n                      addSysRespData?.approvedStatus == \"A\"\r\n                    ? \"AUTHORIZED\"\r\n                    : addSysRespData?.approvedStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/authorize.svg\"\r\n                alt=\"...\"\r\n                class=\"modImage\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Modification Number</h2>\r\n              <p>{{ addSysRespData?.versionNo }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray,FormControl } from '@angular/forms';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport { ToastService } from 'src/app/shared/services/toast.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { CanDeactivateGuard, IDeactivateComponent } from 'src/app/shared/guards/can-deactivate.guard';\r\n\r\n@Component({\r\n  selector: \"npr-rule-mapping-create\",\r\n  templateUrl: \"./rule-mapping-create.component.html\",\r\n  styleUrls: [\"./rule-mapping-create.component.scss\"],\r\n})\r\n\r\nexport class RuleMappingCreateComponent implements OnInit, IDeactivateComponent {\r\n  \r\n  showDestination: boolean;\r\n  xmlDestination: any;\r\n  sourceIsoResp: any;\r\n  externalSystem: any;\r\n  showSource: boolean;\r\n  fieldNoData: any = [];\r\n  disableFetchBtn: boolean = false;\r\n  disableSubmitBtn: boolean = false;\r\n  disableResetBtn: boolean = false;\r\n  addSysRespData: any;\r\n  showAuditLog: boolean = false;\r\n  sourcesysdata: any;\r\n  isSelected: boolean = true;\r\n  ruleMappingDataForPayload: any;\r\n  placeholderDisplay:boolean=false;\r\n  placeholder = \"Please select\";\r\n  placeholder1 = \"Please select\";\r\n  hideFetch: boolean = false;\r\n  hideSubmit: boolean = false;\r\n  mappingId: any;\r\n\r\n  fieldValueData: any = [];\r\n  showFieldNoValue: any = 1;\r\n  xmlLength: any = [];\r\n  temparray: any[] = [];\r\n\r\n  tempArrayList: any[] = [];\r\n  tempArrayList2: any[] = [];\r\n\r\n  // rulemapping = new MdmtMessageMapping();\r\n  rulemapping: any;\r\n  rulemappingDest = new MdmtMessageMapping();\r\n  mappingObj = new MdmtMessageMapping();\r\n  addForm: FormGroup;\r\n  isoRespData: any;\r\n  sourseSys: any;\r\n  currentUser: string;\r\n  sourceoperation: Object;\r\n  destinationSource: any;\r\n  destinationOperation: Object;\r\n  messageBasisIso: any = [];\r\n  tagName: any;\r\n  sourceService: any;\r\n  destinationService: any;\r\n  destinationData: any = [];\r\n  sourceData: any = [];\r\n  rulemappingData: any[];\r\n  matLabel: string;\r\n  matLabel2: string;\r\n  labelsDestination: any;\r\n  sourceLabel: any;\r\n  matlabelSource1: string;\r\n  matlabelSource2: string;\r\n  ruleDto = new ruleMapDto();\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  afterSubmit: boolean = false;\r\n  showfetchAll: boolean;\r\n  ruleMappingForm: FormGroup;\r\n  submit: boolean = true;\r\n  roleCodes = new permissionsLabels();\r\n  formTouched: boolean = true;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  // externalsystem: any = [];\r\n  externalCreateSystemFiltered: any[] = [];\r\n  updateRuleMappingSrc: any;\r\n  updateRuleMappingDest: any;\r\n  sourceMsg: boolean = true;\r\n  destinationMsg: boolean = true;\r\n  translationDataService: any;\r\n  translationDataOperation: any;\r\n  translationDestDataOperation: any;\r\n  translationDestDataService: any;\r\n  multipleOperation: boolean = true;\r\n  multipleOperation1: boolean = true;\r\n  multipleService: boolean = true;\r\n  multipleService1: boolean = true;\r\n  saveDisabled: boolean = true;\r\n\r\n  constructor(\r\n    private rulemap: RuleService,\r\n    private router: Router,\r\n    private roleService: RoleService,\r\n    private fb: FormBuilder,\r\n    private addSystem: AddSystemService,\r\n    private formBuilder: FormBuilder, private cdr: ChangeDetectorRef,\r\n    private toastService: ToastService, private canDeactivateGuard: CanDeactivateGuard) { }\r\n   \r\n\r\n  ngOnInit() {\r\n    this.currentUser = localStorage.getItem(\"userFromLogin\");\r\n    this.gettingExternalsystem();\r\n    this.ruleMappingForm = this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      destinationSystems: this.getDestinationItem(),\r\n      rulemappingDetail: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.addRuleDetail();\r\n\r\n    this.fetchingIso();\r\n\r\n    this.roleService.fetchScreenPermissions(\"Rule Mapping\");\r\n    this.roleService.screenLabelList.subscribe(\r\n      (message) => (this.roleCodes = message)\r\n    );\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n  }\r\n\r\n  get validationForFetch() {\r\n    return (\r\n      this.ruleMappingForm.get(\"destinationSystems\").valid &&\r\n      this.ruleMappingForm.get(\"systemCode\").valid &&\r\n      this.ruleMappingForm.get(\"messageType\").valid\r\n    );\r\n  }\r\n\r\n  getDestinationItem() {\r\n    return this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\"],\r\n      operationName: [\"\"],\r\n      msgTransDetails: this.formBuilder.array([]),\r\n    });\r\n  }\r\n  isSaveDisabled(): boolean {\r\n    const formArray = this.ruleMappingForm.get(\r\n      \"rulemappingDetail\"\r\n    ) as FormArray;\r\n    for (let control of formArray.controls) {\r\n      if (control.value !== 0) {\r\n        this.saveDisabled = false;\r\n        return false;\r\n      }\r\n    }\r\n    this.saveDisabled = true;\r\n    return true;\r\n  }\r\n  canExit(): Promise<boolean> {\r\n    let isExit: boolean = false;\r\n    if (this.ruleMappingForm.touched && this.formTouched == true) {\r\n      return Swal.fire({\r\n        text: \"There are unsaved changes in the screen. Would you like to navigate to other screen?\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#E6224A\",\r\n        cancelButtonColor: \"#011945\",\r\n        cancelButtonText: \"NO\",\r\n        confirmButtonText: \"YES\",\r\n        icon: \"info\",\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        } else {\r\n          isExit = false;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n      });\r\n    } else {\r\n      isExit = true;\r\n      return new Promise((resolve, reject) => {\r\n        if (isExit === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          resolve(true);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  auditChangeRuleTranslation(operation) {\r\n    let message = \"\";\r\n    let operationType = \"\";\r\n    switch (operation) {\r\n      case \"open\":\r\n        message = \"opened\";\r\n        operationType = \"open\";\r\n        break;\r\n      case \"close\":\r\n        message = \"closed\";\r\n        operationType = \"close\";\r\n        break;\r\n      case \"auth\":\r\n        message = \"authorized\";\r\n        operationType = \"authorize\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    Swal.fire({\r\n      text:\r\n        `You are trying to ${operationType} record. ` +\r\n        \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.addSysRespData.creatorId) {\r\n          Swal.fire(`Maker cannot ${operationType} the record!`);\r\n        } else {\r\n          let payloadObj: any = {};\r\n          payloadObj = this.ruleMappingDataForPayload;\r\n          payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n          this.rulemap\r\n            .editRuleMapping(operation, this.currentUser, payloadObj)\r\n            .subscribe((resp) => {\r\n              this.addSysRespData = resp;\r\n              Swal.fire({ text: `Record is ${message}` });\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteRuleMapping() {\r\n    Swal.fire({\r\n      text: \"You are trying to delete record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3e54b8\",\r\n      cancelButtonColor: \"#d33\",\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n      iconColor: \"#d33\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        this.rulemap\r\n          .ondeleteMapping(this.addSysRespData.mappingId, this.currentUser)\r\n          .subscribe((resp) => {\r\n            if (resp) {\r\n              Swal.fire({\r\n                title: \"Record is Deleted\",\r\n                confirmButtonText: \"Ok\",\r\n              }).then((result) => {\r\n                if (result) {\r\n                  this.router.navigateByUrl(\"/rule-mapping/summary\");\r\n                }\r\n              });\r\n            } else {\r\n              Swal.fire(\"Failed to delete the reocrd\");\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  editValues() {\r\n    this.hideFetch = true;\r\n    this.hideSubmit = true;\r\n    this.submit = true;\r\n    this.ruleMappingForm.enable();\r\n  }\r\n  auditLog() {\r\n    if (\r\n      this.addSysRespData.authStatus == \"U\" ||\r\n      this.addSysRespData.authStatus == \"Unauthorized\"\r\n    ) {\r\n      this.addSysRespData.authStatus = \"UNAUTHORIZED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.authStatus == \"A\" ||\r\n      this.addSysRespData.authStatus == \"Authorized\"\r\n    ) {\r\n      this.addSysRespData.authStatus = \"AUTHORIZED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.recordStatus == \"O\" ||\r\n      this.addSysRespData.recordStatus == \"Open\"\r\n    ) {\r\n      this.addSysRespData.recordStatus = \"OPEN\";\r\n    }\r\n    if (\r\n      this.addSysRespData.recordStatus == \"C\" ||\r\n      this.addSysRespData.recordStatus == \"Close\"\r\n    ) {\r\n      this.addSysRespData.recordStatus = \"CLOSED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.approvedEver == \"N\" ||\r\n      this.addSysRespData.approvedEver == \"No\"\r\n    ) {\r\n      this.addSysRespData.approvedEver = \"NO\";\r\n    }\r\n    if (this.addSysRespData.approvedEver == \"Y\") {\r\n      this.addSysRespData.approvedEver = \"YES\";\r\n    }\r\n  }\r\n\r\n  getRuleMappingDetail() {\r\n    return this.formBuilder.group({\r\n      id: [\"\"],\r\n      defaultValue: [\"\"],\r\n      messageMappingId: [\"\"],\r\n      sourceTransDetId: [\"\"],\r\n      targetTransDetId: [\"\"],\r\n      sourceKey: [\"\", Validators.required],\r\n      destinationKey: [\"\", Validators.required],\r\n    });\r\n  }\r\n\r\n  indexTracker(index: number, value: any) {\r\n    return index;\r\n  }\r\n\r\n  get rulemappingDetail() {\r\n    return this.ruleMappingForm.get(\"rulemappingDetail\") as FormArray;\r\n  }\r\n\r\n  addRuleDetail() {\r\n    this.rulemappingDetail.push(this.getRuleMappingDetail());\r\n    console.log(this.rulemappingDetail.value);\r\n  }\r\n\r\n  deleteRuleMapGroup(index: number) {\r\n    if (this.tempArrayList[index]) {\r\n      this.tempArrayList.splice(index, 1);\r\n    }\r\n    if (this.tempArrayList2[index]) {\r\n      this.tempArrayList2.splice(index, 1);\r\n    }\r\n    this.rulemappingDetail.removeAt(index);\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rulemap.gettingExternalsystem().subscribe(\r\n      (extSysResp) => {\r\n        console.log(extSysResp);\r\n        this.externalSystem = extSysResp.sort();\r\n        this.sourcesysdata = this.externalSystem;\r\n        this.temparray = this.externalSystem;\r\n        this.externalCreateSystemFiltered = this.externalSystem;\r\n        console.log(this.externalSystem);\r\n        console.log(this.externalCreateSystemFiltered);\r\n      },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchDestination() {\r\n    console.log(this.rulemapping);\r\n    console.log(\"Mapping\", this.ruleMappingForm.value);\r\n    this.disableFetchBtn = true;\r\n    this.showfetchAll = true;\r\n    this.showDestination = true;\r\n    this.showSource = true;\r\n    // this.rulemappingDetail = this.ruleMappingDataForPayload.msgMappingDetails;\r\n    // for (let index = 0; index < this.rulemappingDetail.length; index++) {\r\n    //   this.addRuleDetail();\r\n    //   const item = this.rulemappingDetail[index];\r\n    //   this.rulemappingDetails.at(index).patchValue(item);\r\n    //   console.log(\"Rule Mapping: \", this.rulemappingDetails);\r\n    // }\r\n  }\r\n\r\n  onFieldNameChange(event) {\r\n    console.log(event.value);\r\n    let value = event.value;\r\n    if (event.value) {\r\n      var item = this.sourceIsoResp.find(\r\n        (element) => element.fieldValue == value\r\n      );\r\n      console.log(item);\r\n      this.showFieldNoValue = item.fieldNo;\r\n      console.log(\"ssss\", this.showFieldNoValue);\r\n    }\r\n  }\r\n\r\n  fetchingIso() {\r\n    this.addSystem.fetchingIsoForTcp().subscribe((isoResp) => {\r\n      console.log(\"iss\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      // this.fieldNoData=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldNoData = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldValueData = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n    });\r\n  }\r\n\r\n  onSourseSelection(event: any) {\r\n    this.placeholder = '';\r\n    console.log(event);\r\n    this.sourseSys = event;\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    console.log(this.externalSystem);\r\n    console.log(this.sourseSys);\r\n    this.externalCreateSystemFiltered = this.externalSystem.filter(\r\n      (system) => system !== this.sourseSys\r\n    );\r\n    // this.externalCreateSystemFiltered = this.externalsystem\r\n    // this.selectedExternalSystems = this.externalsystem.filter((system) => system !== this.sourseSys)\r\n    // this.systemName = event.value;\r\n    this.rulemap.gettingTranslationData(this.sourseSys).subscribe(\r\n      (resp) => {\r\n        console.log(resp);\r\n        if (resp != null) {\r\n          this.showfetchAll = false;\r\n          this.rulemapping = resp;\r\n          this.sourcesysdata = resp;\r\n          console.log(\"RuleMapping Res::\", this.rulemapping.messageType);\r\n          if (this.rulemapping.messageType) {\r\n            if (this.rulemapping.messageType == \"I\") {\r\n              this.rulemapping.messageType = \"Incoming\";\r\n            }\r\n            if (this.rulemapping.messageType == \"O\") {\r\n              this.rulemapping.messageType = \"OutGoing\";\r\n            }\r\n            this.sourceMsg = false;\r\n          }\r\n          this.ruleMappingForm.patchValue(this.rulemapping);\r\n          if (this.rulemapping.messageType) {\r\n            if (this.rulemapping.messageType == \"Incoming\") {\r\n              this.rulemapping.messageType = \"I\";\r\n            }\r\n            if (this.rulemapping.messageType == \"OutGoing\") {\r\n              this.rulemapping.messageType = \"O\";\r\n            }\r\n            this.sourceMsg = false;\r\n          }\r\n          this.gettingoperationAandserv(resp.systemCode, resp.messageType);\r\n          this.rulemapping.sourceTranslationId = resp.transId;\r\n\r\n          // this.rulemappingDetail=resp.msgTransDetails;\r\n          resp.msgTransDetails.map((el) => {\r\n            this.sourceTransDetId = el.translationId;\r\n          });\r\n        } else {\r\n          this.showfetchAll = true;\r\n        }\r\n      },\r\n      (err) => {\r\n        this.showfetchAll = true;\r\n      }\r\n    );\r\n    this.externalSystem = this.temparray;\r\n  }\r\n  onsearchingTablName(event) {\r\n    console.log(event.target.value);\r\n    console.log(\"this is arr\", this.sourcesysdata);\r\n    if (this.sourcesysdata) {\r\n      let data = this.sourcesysdata.filter(function (e) {\r\n        let extValue = e.toLowerCase();\r\n\r\n        let value = event.target.value.toLowerCase();\r\n        console.log(extValue, value);\r\n        // return !extValue.indexOf(value);//changed this for 1192\r\n        return extValue.search(value) > -1;\r\n      });\r\n      console.log(data);\r\n      this.externalSystem = data;\r\n    }\r\n  }\r\n\r\n  onSelectionOFMessageType(event: any) {\r\n    console.log(\"e\", event);\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    this.gettingoperationAandserv(this.sourseSys, event.value);\r\n  }\r\n\r\n  gettingoperationAandserv(system, msgtype) {\r\n    console.log(system);\r\n    this.rulemap\r\n      .gettingoperationAndService(system, msgtype, this.currentUser)\r\n      .subscribe(\r\n        (sourceResp) => {\r\n          console.log(sourceResp);\r\n\r\n          this.showfetchAll = false;\r\n\r\n          this.sourceoperation = sourceResp.OPERATION;\r\n          this.sourceService = sourceResp.SERVICE;\r\n          this.sourceData = sourceResp.MdmtSystemService;\r\n          // console.log(\"SourceData\",this.sourceData);\r\n          // console.log(\"Rule Mapping Before\",this.rulemapping.msgTransDetails);\r\n          this.updateRuleMappingSrc = this.rulemapping.msgTransDetails;\r\n          this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageChannel;\r\n\r\n          if (this.sourceLabel === \"Https/Http\") {\r\n            this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageFormat;\r\n          }\r\n          let keys = Object.keys(sourceResp);\r\n          let x = keys[2];\r\n          let y = keys[3];\r\n          console.log(x);\r\n          if ((x == \"I\" || x == \"O\") && Object.keys(sourceResp).length == 3) {\r\n            console.log(sourceResp);\r\n            if (sourceResp.I) {\r\n              if (sourceResp.I.SERVICE.length !== 0) {\r\n                this.translationDataService = sourceResp.I.SERVICE;\r\n                if (sourceResp.I.SERVICE.length <= 1) {\r\n                  console.log(this.translationDataService, \"1st if\");\r\n                  this.multipleService1 = true;\r\n                }\r\n                if (sourceResp.I.SERVICE.length > 1) {\r\n                  console.log(this.translationDataService, \"2nd If\");\r\n                  this.multipleService1 = false;\r\n                }\r\n              }\r\n            }\r\n            if (sourceResp.O) {\r\n              if (sourceResp.O.SERVICE.length !== 0) {\r\n                this.translationDataService = sourceResp.O.SERVICE;\r\n                if (sourceResp.O.SERVICE.length <= 1) {\r\n                  console.log(this.translationDataService, \"1st if\");\r\n                  this.multipleService1 = true;\r\n                }\r\n                if (sourceResp.O.SERVICE.length > 1) {\r\n                  console.log(this.translationDataService, \"2nd If\");\r\n                  this.multipleService1 = false;\r\n                }\r\n              }\r\n            }\r\n            if (sourceResp.I) {\r\n              if (sourceResp.I.OPERATION.length !== 0) {\r\n                this.translationDataOperation = sourceResp.I.OPERATION;\r\n                //  console.log(this.translationDataOperation);\r\n                if (this.translationDataOperation.length <= 1) {\r\n                  console.log(this.translationDataOperation, \"1st if\");\r\n                  this.multipleOperation1 = true;\r\n                }\r\n                if (this.translationDataOperation.length > 1) {\r\n                  console.log(this.translationDataOperation, \"2nd If\");\r\n                  this.multipleOperation1 = false;\r\n                }\r\n              }\r\n            }\r\n            if (sourceResp.O) {\r\n              if (sourceResp.O.OPERATION.length !== 0) {\r\n                this.translationDataOperation = sourceResp.O.OPERATION;\r\n                //  console.log(this.translationDataOperation);\r\n                if (this.translationDataOperation.length <= 1) {\r\n                  console.log(this.translationDataOperation, \"1st if\");\r\n                  this.multipleOperation1 = true;\r\n                }\r\n                if (this.translationDataOperation.length > 1) {\r\n                  console.log(this.translationDataOperation, \"2nd If\");\r\n                  this.multipleOperation1 = false;\r\n                }\r\n              }\r\n            }\r\n            // this.translationDataService = sourceResp.I.SERVICE\r\n          }\r\n          console.log(this.translationDataService, \"Source service\");\r\n          console.log(this.translationDataOperation, \"Source operation\");\r\n          // for(let g = 0 ; g< this.sourceData.length;g++){\r\n          //   // console.log(\"messageBasisIso\", this.sourceData[g].dataType);\r\n          //   this.updateRuleMappingSrc.push({\r\n          //     dataType: this.sourceData[g].dataType,\r\n          //     defaultValue: null,\r\n          //     encryption: this.sourceData[g].encryption,\r\n          //     id: this.sourceData[g].channelId,\r\n          //     messageKey: this.sourceData[g].messageKey,\r\n          //     messagebasis: this.sourceData[g].messageBasis,\r\n          //     transId: this.sourceData[g].serviceId,\r\n          //     translationId: 0,\r\n          //     versionNo: 1});\r\n\r\n          //  }\r\n          console.log(\"Rule Mapping After\", this.updateRuleMappingSrc);\r\n          if (this.sourceLabel == \"DB Connection\") {\r\n            for (let index = 0; index < this.sourceData.length; index++) {\r\n              this.sourceData[index].messageKey =\r\n                this.sourceData[index].messageKey.split(\",\");\r\n            }\r\n          }\r\n\r\n          if (this.sourceLabel == \"Https/Http\") {\r\n            this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageFormat;\r\n            this.matlabelSource1 = \"Tag\";\r\n            this.matlabelSource2 = null;\r\n          }\r\n          if (this.sourceLabel == \"TCP/IP\") {\r\n            this.matlabelSource1 = \"Filed No\";\r\n            this.matlabelSource2 = \"Filed Name\";\r\n          }\r\n          // this.translationData=translationResp;\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          // Swal.fire({ text: 'External system data not present.' });\r\n          this.showfetchAll = true;\r\n        }\r\n      );\r\n  }\r\n\r\n  ondestinationSource(event) {\r\n    this.placeholder1= '';\r\n\r\n    console.log(event.value);\r\n    this.showSource = false;\r\n    this.showDestination = false;\r\n    this.destinationSource = event;\r\n    this.externalCreateSystemFiltered = this.externalSystem.filter(\r\n      (system) => system !== this.sourseSys\r\n    );\r\n\r\n    this.rulemap.gettingTranslationData(this.destinationSource).subscribe(\r\n      (resp) => {\r\n        console.log(resp.msgTransDetails[0].transId);\r\n        if (resp != null) {\r\n          this.showfetchAll = false;\r\n          this.rulemappingDest = resp;\r\n          console.log(this.rulemappingDest);\r\n          if (this.rulemappingDest.messageType) {\r\n            if (this.rulemappingDest.messageType == \"I\") {\r\n              this.rulemappingDest.messageType = \"Incoming\";\r\n            }\r\n            if (this.rulemappingDest.messageType == \"O\") {\r\n              this.rulemappingDest.messageType = \"OutGoing\";\r\n            }\r\n            this.destinationMsg = false;\r\n          }\r\n          // this.rulemapping.targetTranslationId = resp.transId;\r\n          this.ruleMappingForm\r\n            .get(\"destinationSystems\")\r\n            .patchValue(this.rulemappingDest);\r\n          resp.msgTransDetails.map((el) => {\r\n            this.targetTransDetId = el.translationId;\r\n          });\r\n          if (this.rulemappingDest.messageType) {\r\n            if (this.rulemappingDest.messageType == \"Incoming\") {\r\n              this.rulemappingDest.messageType = \"I\";\r\n            }\r\n            if (this.rulemappingDest.messageType == \"OutGoing\") {\r\n              this.rulemappingDest.messageType = \"O\";\r\n            }\r\n            this.sourceMsg = false;\r\n          }\r\n          if (this.rulemappingDest.messageType) {\r\n            if (this.rulemappingDest.messageType == \"Incoming\") {\r\n              this.rulemappingDest.messageType = \"I\";\r\n            }\r\n            if (this.rulemappingDest.messageType == \"OutGoing\") {\r\n              this.rulemappingDest.messageType = \"O\";\r\n            }\r\n            this.sourceMsg = false;\r\n          }\r\n          this.gettingmsgTypeAndDestination(resp.systemCode, resp.messageType);\r\n        } else {\r\n          this.showfetchAll = true;\r\n        }\r\n      },\r\n      (err) => {\r\n        this.showfetchAll = true;\r\n      }\r\n    );\r\n    this.externalSystem = this.temparray;\r\n  }\r\n\r\n  msgTypeOfDestination(event) {\r\n    console.log(event.value);\r\n    this.showDestination = false;\r\n    this.showSource = false;\r\n    this.gettingmsgTypeAndDestination(this.destinationSource, event.value);\r\n  }\r\n\r\n  gettingmsgTypeAndDestination(destinationSource, msgtype) {\r\n    this.rulemap\r\n      .gettingoperationAndService(destinationSource, msgtype, this.currentUser)\r\n      .subscribe(\r\n        (destinationResp) => {\r\n          console.log(destinationResp);\r\n          this.showfetchAll = false;\r\n          this.destinationOperation = destinationResp.OPERATION;\r\n          this.destinationService = destinationResp.SERVICE;\r\n          this.destinationData = destinationResp.MdmtSystemService;\r\n          this.updateRuleMappingDest = this.rulemappingDest.msgTransDetails;\r\n          let keys = Object.keys(destinationResp);\r\n          let x = keys[2];\r\n          let y = keys[3];\r\n          if (\r\n            (x == \"I\" || x == \"O\") &&\r\n            Object.keys(destinationResp).length == 3\r\n          ) {\r\n            console.log(destinationResp);\r\n            if (destinationResp.I) {\r\n              if (destinationResp.I.SERVICE.length !== 0) {\r\n                this.translationDestDataService = destinationResp.I.SERVICE;\r\n                if (destinationResp.I.SERVICE.length <= 1) {\r\n                  // console.log(this.translationDestDataService ,\"1st if\");\r\n                  this.multipleService = true;\r\n                }\r\n                if (destinationResp.I.SERVICE.length > 1) {\r\n                  // console.log(this.translationDestDataService,\"2nd If\");\r\n                  this.multipleService = false;\r\n                }\r\n              }\r\n            }\r\n            if (destinationResp.O) {\r\n              if (destinationResp.O.SERVICE.length !== 0) {\r\n                this.translationDestDataService = destinationResp.O.SERVICE;\r\n                if (destinationResp.O.SERVICE.length <= 1) {\r\n                  // console.log(this.translationDestDataService ,\"1st if\");\r\n                  this.multipleService = true;\r\n                }\r\n                if (destinationResp.O.SERVICE.length > 1) {\r\n                  // console.log(this.translationDestDataService,\"2nd If\");\r\n                  this.multipleService = false;\r\n                }\r\n              }\r\n            }\r\n            if (destinationResp.I) {\r\n              if (destinationResp.I.OPERATION.length !== 0) {\r\n                this.translationDestDataOperation = destinationResp.I.OPERATION;\r\n                //  console.log(this.translationDestDataOperation);\r\n                if (this.translationDestDataOperation.length <= 1) {\r\n                  // console.log(this.translationDestDataOperation ,\"1st if\");\r\n                  this.multipleOperation = true;\r\n                }\r\n                if (this.translationDestDataOperation.length > 1) {\r\n                  // console.log(this.translationDestDataOperation,\"2nd If\");\r\n                  this.multipleOperation = false;\r\n                }\r\n              }\r\n            }\r\n            if (destinationResp.O) {\r\n              if (destinationResp.O.OPERATION.length !== 0) {\r\n                this.translationDestDataOperation = destinationResp.O.OPERATION;\r\n                //  console.log(this.translationDestDataOperation);\r\n                if (this.translationDestDataOperation.length <= 1) {\r\n                  // console.log(this.translationDestDataOperation ,\"1st if\");\r\n                  this.multipleOperation = true;\r\n                }\r\n                if (this.translationDestDataOperation.length > 1) {\r\n                  // console.log(this.translationDestDataOperation,\"2nd If\");\r\n                  this.multipleOperation = false;\r\n                }\r\n              }\r\n            }\r\n            // this.translationDestDataService  = destinationResp.I.SERVICE\r\n          }\r\n          console.log(this.translationDestDataOperation, \"Destination service\");\r\n          console.log(this.translationDestDataService, \"Destination operation\");\r\n          // console.log(this.destinationData,\"destinationData\");\r\n          // console.log(this.updateRuleMappingDest,\"Before\");\r\n          // for(let g = 0 ; g< this.destinationData.length;g++){\r\n          //   console.log(\"messageBasisIso\", this.destinationData[g].dataType);\r\n          //   this.updateRuleMappingDest.push({\r\n          //     dataType: this.destinationData[g].dataType,\r\n          //     defaultValue: null,\r\n          //     encryption: this.destinationData[g].encryption,\r\n          //     id: this.destinationData[g].channelId,\r\n          //     messageKey: this.destinationData[g].messageKey,\r\n          //     messagebasis: this.destinationData[g].messageBasis,\r\n          //     transId: this.destinationData[g].serviceId,\r\n          //     translationId: 0,\r\n          //     versionNo: 1});\r\n\r\n          //  }\r\n          //  console.log(this.updateRuleMappingDest,\"After\");\r\n          this.labelsDestination =\r\n            destinationResp.MdmtSystemChannel[0].messageChannel;\r\n\r\n          if (this.labelsDestination == \"Https/Http\") {\r\n            this.labelsDestination =\r\n              destinationResp.MdmtSystemChannel[0].messageFormat;\r\n            this.matLabel = \"Tag\";\r\n            this.matLabel2 = null;\r\n          } else if (this.labelsDestination == \"TCP/IP\") {\r\n            this.matLabel = \"Filed No\";\r\n            this.matLabel2 = \"Filed Name\";\r\n          }\r\n          // this.rulemappingData=[...this.sourceData,...this.destinationData]\r\n          // console.log(this.rulemappingData);\r\n\r\n          // this.translationData=translationResp;\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          // Swal.fire({ text: 'External system data not present.' });\r\n          this.showfetchAll = true;\r\n        }\r\n      );\r\n  }\r\n  onReset() {\r\n    this.disableSubmitBtn = false;\r\n    this.ruleMappingForm.reset();\r\n  }\r\n\r\n  try(value) {\r\n    if (this.tempArrayList.find((item) => item == value)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  try2(value) {\r\n    if (this.tempArrayList2.find((item) => item == value)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  onselectOfFieldNo(event, i) {\r\n    console.log(event.target.value);\r\n    console.log(this.tempArrayList[i]);\r\n    if (this.tempArrayList[i]) {\r\n      this.tempArrayList[i] = event.target.value;\r\n    } else {\r\n      this.tempArrayList.push(event.target.value);\r\n    }\r\n  }\r\n\r\n  onselectOfFieldNo2(event, i) {\r\n    console.log(event.target.value);\r\n    console.log(this.tempArrayList2[i]);\r\n    if (this.tempArrayList2[i]) {\r\n      this.tempArrayList2[i] = event.target.value;\r\n    } else {\r\n      this.tempArrayList2.push(event.target.value);\r\n    }\r\n  }\r\n\r\n  onsaveRuleMapping() {\r\n    console.log(this.ruleMappingForm.value.rulemappingDetail);\r\n    this.mappingObj.msgMappingDetails =\r\n      this.ruleMappingForm.value.rulemappingDetail;\r\n    this.mappingObj.sourceTranslationId = this.rulemapping.sourceTranslationId;\r\n    // this.mappingObj.targetTranslationId = this.rulemapping.targetTranslationId;\r\n    this.mappingObj.targetTranslationId = this.rulemappingDest.transId;\r\n\r\n    this.mappingObj.creatorId = this.currentUser.replace(/['\"]+/g, \"\");\r\n    if (this.mappingId) {\r\n      this.mappingObj.mappingId = this.mappingId;\r\n      this.mappingObj.createdTime = this.addSysRespData.createdTime;\r\n      this.mappingObj.approverId = this.addSysRespData.approverId;\r\n      this.mappingObj.approvedTime = this.addSysRespData.approvedTime;\r\n      this.mappingObj.versionNo = this.addSysRespData.versionNo;\r\n      this.mappingObj.approvedStatus = this.addSysRespData.approvedStatus;\r\n      this.mappingObj.approvedEver = this.addSysRespData.approvedEver;\r\n      this.mappingObj.recordStatus = this.addSysRespData.recordStatus;\r\n      if (this.mappingObj.approvedStatus == \"UNAUTHORIZED\") {\r\n        this.mappingObj.approvedStatus = \"U\";\r\n      }\r\n      if (this.mappingObj.approvedStatus == \"AUTHORIZED\") {\r\n        this.mappingObj.approvedStatus = \"A\";\r\n      }\r\n      if (this.mappingObj.recordStatus == \"OPEN\") {\r\n        this.mappingObj.recordStatus = \"O\";\r\n      }\r\n      if (this.mappingObj.recordStatus == \"CLOSED\") {\r\n        this.mappingObj.recordStatus = \"C\";\r\n      }\r\n      if (this.mappingObj.approvedEver == \"NO\") {\r\n        this.mappingObj.approvedEver = \"N\";\r\n      }\r\n      if (this.mappingObj.approvedEver == \"YES\") {\r\n        this.mappingObj.approvedEver = \"Y\";\r\n      }\r\n      this.rulemap\r\n        .updatingRuleMapping(this.mappingObj, this.currentUser)\r\n        .subscribe(\r\n          (resp: any) => {\r\n            console.log(resp);\r\n            if (resp) {\r\n              this.mappingId = resp.mappingId;\r\n              this.rulemappingDetail.patchValue(resp.msgMappingDetails);\r\n              this.addSysRespData = resp;\r\n              this.auditLog();\r\n              this.showAuditLog = true;\r\n              this.afterSubmit = true;\r\n              this.ruleMappingForm.disable();\r\n              this.disableSubmitBtn = true;\r\n              this.disableResetBtn = true;\r\n              this.submit = false;\r\n              this.formTouched = !this.ruleMappingForm.touched;\r\n              Swal.fire({\r\n                text: \"Record is Updated\",\r\n                icon: \"success\",\r\n              });\r\n            }\r\n          },\r\n          (err: any) => {\r\n            console.log(err.error.text);\r\n            Swal.fire({\r\n              text: \"Unable to update the record, server error!\",\r\n              icon: \"error\",\r\n            });\r\n          }\r\n        );\r\n    } else {\r\n      console.log(this.mappingObj);\r\n      this.mappingObj.targetTranslationId = this.rulemappingDest.transId;\r\n      console.log(this.mappingObj);\r\n      this.rulemap\r\n        .submittingruleMapping(this.mappingObj, this.currentUser)\r\n        .subscribe(\r\n          (resp: any) => {\r\n            console.log(resp);\r\n            if (resp) {\r\n              this.mappingId = resp.mappingId;\r\n              this.rulemappingDetail.patchValue(resp.msgMappingDetails);\r\n              this.addSysRespData = resp;\r\n              this.auditLog();\r\n              this.showAuditLog = true;\r\n              this.afterSubmit = true;\r\n              this.ruleMappingForm.disable();\r\n              this.disableSubmitBtn = true;\r\n              this.disableResetBtn = true;\r\n              this.submit = false;\r\n              this.formTouched = !this.ruleMappingForm.touched;\r\n              Swal.fire({\r\n                text: \"Record is Created\",\r\n                icon: \"success\",\r\n              });\r\n            }\r\n          },\r\n          (err: any) => {\r\n            console.log(err.error.text);\r\n            Swal.fire({\r\n              text: \"Rule mapping data already present for source and destination systems.\",\r\n              icon: \"error\",\r\n            });\r\n          }\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nexport class MdmtMessageMapping {\r\n  mappingId: any;\r\n  sourceTranslationId: any;\r\n  targetTranslationId: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n  messageType: any;\r\n  transId: any;\r\n  msgMappingDetails: Array<MdmtMessageMappingDet>;\r\n  msgTransDetails: Array<MdmtMsgTransDetails>;\r\n}\r\n\r\nexport class MdmtMessageMappingDet {\r\n  id: any;\r\n  messageMappingId;\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  defaultValue: any;\r\n  sourceKey: any;\r\n  destinationKey: any;\r\n}\r\nexport class MdmtMsgTransDetails {\r\n  dataType: any;\r\n  defaultValue: any;\r\n  encryption: any;\r\n  id: any;\r\n  messageKey: any;\r\n  messagebasis: any;\r\n  transId: any;\r\n  translationId: any;\r\n  versionNo: any;\r\n}\r\n\r\nexport class ruleMapDto {\r\n  mdmtMessageMapping: MdmtMessageMapping;\r\n  mdmtMessageMappingDet: Array<MdmtMessageMappingDet>;\r\n}\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <form [formGroup]=\"ruleMappingForm\" class=\"formStyle\">\r\n    <fieldset [disabled]=\"!disableFields\">\r\n      <div class=\"dbCardStyle\">\r\n        <div class=\"addformCol\">\r\n          <div class=\"row g-4 align-items-center\">\r\n            <div class=\"col\">\r\n              <div class=\"row gy-4 align-items-end\">\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Source System<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"ruleName\"\r\n                    name=\"serviceNameS\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Service Name\"\r\n                    formControlName=\"systemCode\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Message Type<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <select\r\n                    formControlName=\"messageType\"\r\n                    class=\"form-select\"\r\n                    aria-label=\"Default select example\"\r\n                    [disabled]=\"!editFetch\"\r\n                    (change)=\"\r\n                      onSelectionOFMessageType(\r\n                        rulemapping.sourceTranslationId,\r\n                        $event\r\n                      )\r\n                    \"\r\n                  >\r\n                    <option hidden value=\"\" disabled selected>\r\n                      --Please select--\r\n                    </option>\r\n                    <option value=\"I\">Incoming</option>\r\n                    <option value=\"O\">Outgoing</option>\r\n                    <option value=\"A\">All</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Operation<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"operationName\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Operation Name\"\r\n                    formControlName=\"operationName\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n                <div class=\"col-lg-3\">\r\n                  <label for=\"roleName\" class=\"formLbl\"\r\n                    >Service<span class=\"colorRed\">*</span></label\r\n                  >\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"serviceName\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Service Name\"\r\n                    formControlName=\"serviceName\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n                <ng-container formGroupName=\"destinationSystems\">\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Destination System<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"ruleName\"\r\n                      name=\"serviceNameS\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Service Name\"\r\n                      formControlName=\"systemCode\"\r\n                      readonly\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Message Type<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <select\r\n                      readonly\r\n                      formControlName=\"messageType\"\r\n                      [disabled]=\"!editFetch\"\r\n                      class=\"form-select\"\r\n                      aria-label=\"Default select example\"\r\n                      (change)=\"msgTypeOfDestination($event)\"\r\n                    >\r\n                      <option hidden value=\"\" disabled selected>\r\n                        --Please select--\r\n                      </option>\r\n                      <option value=\"I\">Incoming</option>\r\n                      <option value=\"O\">Outgoing</option>\r\n                      <option value=\"A\">All</option>\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Operation<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <input\r\n                      readonly\r\n                      type=\"text\"\r\n                      name=\"operationName\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Operation Name\"\r\n                      formControlName=\"operationName\"\r\n                      readonly\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-lg-3\">\r\n                    <label for=\"roleName\" class=\"formLbl\"\r\n                      >Service<span class=\"colorRed\">*</span></label\r\n                    >\r\n                    <input\r\n                      readonly\r\n                      type=\"text\"\r\n                      name=\"serviceName\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Service Name\"\r\n                      formControlName=\"serviceName\"\r\n                      [disabled]=\"!editFetch\"\r\n                    />\r\n                  </div>\r\n                </ng-container>\r\n                <div class=\"row g-3 pb-3 justify-content-end pt-3\">\r\n                  <div class=\"col-auto\" [hidden]=\"!hideFetch\">\r\n                    <button\r\n                      (click)=\"fetchDestination()\"\r\n                      [disabled]=\"disableFetchBtn\"\r\n                      class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                    >\r\n                      Fetch\r\n                    </button>\r\n                  </div>\r\n                  <!-- <div class=\"col-auto\" *ngIf=\"!(addSysRespData.recordStatus=='C' || addSysRespData.recordStatus=='CLOSED') && roleCodes.edit\" [hidden]=\"hideFetch\">\r\n                <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n                  {{roleCodes.edit.labelDescription}}\r\n                </button>\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedStatus =='U' || addSysRespData.approvedStatus =='UNAUTHORIZED') && roleCodes.auth\">\r\n                <button (click)=\"onAuthOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnAuth\" \r\n                  >{{roleCodes.auth.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.recordStatus=='O' ||addSysRespData.recordStatus=='OPEN') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.close\">\r\n                <button (click)=\"onCloseOfRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.close.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\" (addSysRespData.recordStatus=='C' || addSysRespData.recordStatus=='CLOSED') && (addSysRespData.approvedEver != 'NO' && addSysRespData.approvedEver != 'N') && roleCodes.reopen\">\r\n                <button (click)=\"onOpenRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.reopen.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\" [hidden]=\"hideFetch\" *ngIf=\"(addSysRespData.approvedEver=='NO' ) && roleCodes.delete\">\r\n                <button (click)=\"deleteRuleMapping()\" class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n                  >{{roleCodes.delete.labelDescription}}</button\r\n                >\r\n              </div>\r\n              <div class=\"col-auto\">\r\n                <button class=\"btn smBtn minWdSmBtn btnSecondary\" [routerLink]=\"['/rule-mapping/summary']\">Exit</button>\r\n              </div> -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    <div class=\"dbCardStyle\" *ngIf=\"showSource || showDestination\">\r\n      <fieldset [disabled]=\"!submit\">\r\n        <div class=\"addformCol\" formArrayName=\"rulemappingDetails\">\r\n          <ng-container\r\n            *ngFor=\"let item of rulemappingDetails.controls; let i = index\"\r\n          >\r\n            <ng-container [formGroupName]=\"i\">\r\n              <div class=\"row g-4 align-items-center\">\r\n                <div class=\"col\">\r\n                  <div class=\"row gy-4\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                        >Source System<span class=\"colorRed\">*</span></label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"sourceLabel == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              [disabled]=\"!edit\"\r\n                              [value]=\"item.sourceKey\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"sourceLabel == 'DB Connection'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              (change)=\"onSourceRuleMappingChange($event, i)\"\r\n                              aria-label=\"Default select example\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [hidden]=\"\r\n                                  shouldHideSourceRuleMappingValue(\r\n                                    tag.messagebasis\r\n                                  )\r\n                                \"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"sourceLabel == 'MT' || sourceLabel == 'MX'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"sourceKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              [disabled]=\"!edit\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let tag of updateRuleMappingSrc\"\r\n                                [value]=\"tag.messagebasis\"\r\n                              >\r\n                                {{ tag.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                        >Destination system</label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <ng-container *ngIf=\"labelsDestination == 'TCP/IP'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              [value]=\"item.destinationKey\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'XML'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Tag<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                              [value]=\"item.destinationKey\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"labelsDestination == 'JSON'\">\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Key<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                              [value]=\"item.destinationKey\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"\r\n                                  let fname of updateRuleMappingDest;\r\n                                  let i = index\r\n                                \"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"labelsDestination == 'DB Connection'\"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Column Name<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                              (change)=\"\r\n                                onDestinationRuleMappingChange($event, i)\r\n                              \"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let fname of updateRuleMappingDest\"\r\n                                [value]=\"fname.messagebasis\"\r\n                                [hidden]=\"\r\n                                  shouldHideDestinationRuleMappingValue(\r\n                                    fname.messagebasis\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"\r\n                              labelsDestination == 'MT' ||\r\n                              labelsDestination == 'MX'\r\n                            \"\r\n                          >\r\n                            <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                              >Field No<span class=\"colorRed\">*</span></label\r\n                            >\r\n                            <select\r\n                              formControlName=\"destinationKey\"\r\n                              class=\"form-select\"\r\n                              aria-label=\"Default select example\"\r\n                            >\r\n                              <option\r\n                                *ngFor=\"let fname of updateRuleMappingDest\"\r\n                                [value]=\"fname.messagebasis\"\r\n                              >\r\n                                {{ fname.messagebasis }}\r\n                              </option>\r\n                            </select>\r\n                          </ng-container>\r\n                        </div>\r\n                        <!-- <div class=\"col-lg-6\">\r\n                              <select class=\"form-select\" aria-label=\"Default select example\">\r\n                                <option selected>Tag Name</option>\r\n                                <option value=\"1\">One</option>\r\n                                <option value=\"2\">Two</option>\r\n                                <option value=\"3\">Three</option>\r\n                              </select>\r\n                            </div> -->\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"roleName\" class=\"formLbl\" *ngIf=\"i == 0\"\r\n                        >Default value</label\r\n                      >\r\n                      <div class=\"row gy-4\">\r\n                        <div class=\"col-lg-12\">\r\n                          <label\r\n                            for=\"defaultValue\"\r\n                            class=\"formLbl\"\r\n                            *ngIf=\"i == 0\"\r\n                          ></label>\r\n                          <div *ngIf=\"!editFlag\">\r\n                            <input\r\n                              style=\"background-color: #f8f9fa\"\r\n                              [ngClass]=\"{\r\n                                first: i === 0,\r\n                                'form-control': true,\r\n                                path: true\r\n                              }\"\r\n                              type=\"text\"\r\n                              id=\"defaultVal\"\r\n                              [readonly]=\"edit\"\r\n                              formControlName=\"defaultValue\"\r\n                              placeholder=\"Default value\"\r\n                            />\r\n                          </div>\r\n                          <div *ngIf=\"editFlag\">\r\n                            <input\r\n                              style=\"background-color: #ffffff\"\r\n                              type=\"text\"\r\n                              id=\"defaultVal\"\r\n                              formControlName=\"defaultValue\"\r\n                              placeholder=\"Default value\"\r\n                              [ngClass]=\"{\r\n                                first: i === 0,\r\n                                'form-control': true,\r\n                                path: true\r\n                              }\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-4\">\r\n                  <div\r\n                    [hidden]=\"!hideFetch\"\r\n                    [ngStyle]=\"{ 'margin-top': i === 0 ? '50px' : '10px' }\"\r\n                  >\r\n                    <a\r\n                      *ngIf=\"submit\"\r\n                      (click)=\"deleteRuleMapGroup(i)\"\r\n                      class=\"deleteIcon2\"\r\n                      style=\"cursor: pointer\"\r\n                    >\r\n                      <img\r\n                        src=\"assets/images/delete-icon.svg\"\r\n                        alt=\"...\"\r\n                        [ngClass]=\"{ 'first-image': i === 0, image: true }\"\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"col-auto\">\r\n                      <div class=\"formDeleteCol mt-4\">\r\n                        <button *ngIf=\"submit\" (click)=\"deleteRuleMapGroup(i)\"><img src=\"assets/images/delete-icon.svg\" alt=\"...\"></button>\r\n                      </div>\r\n                    </div> -->\r\n              </div>\r\n              <br />\r\n            </ng-container>\r\n          </ng-container>\r\n        </div>\r\n      </fieldset>\r\n      <div class=\"row g-3 pt-4\">\r\n        <div class=\"col-auto\">\r\n          <a\r\n            *ngIf=\"submit\"\r\n            [hidden]=\"!hideFetch\"\r\n            (click)=\"addRuleDetail()\"\r\n            class=\"addIcon primarybg\"\r\n          >\r\n            <span><img src=\"assets/images/plus-icon.svg\" alt=\"...\" /></span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div class=\"row g-3 pb-3 pt-4 justify-content-end\">\r\n        <div class=\"col-auto\" [hidden]=\"!hideSubmit\">\r\n          <button\r\n            [disabled]=\"!submit || !ruleMappingForm.dirty ||ruleMappingForm.invalid\"\r\n\r\n            (click)=\"onsaveRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          *ngIf=\"\r\n            (addSysRespData.recordStatus == 'O' ||\r\n              addSysRespData.recordStatus == 'OPEN') &&\r\n            roleCodes.edit\r\n          \"\r\n          [hidden]=\"hideFetch\"\r\n        >\r\n          <button (click)=\"editValues()\" class=\"btn smBtn minWdSmBtn btnUpdate\">\r\n            {{ roleCodes.edit.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.approvedStatus == 'U' ||\r\n              addSysRespData.approvedStatus == 'UNAUTHORIZED' ||\r\n              addSysRespData.approvedStatus == 'Unauthorized' ||\r\n              addSysRespData.approvedStatus == 'N' ||\r\n              addSysRespData.approvedEver == 'N') &&\r\n            roleCodes.auth\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"onAuthOfRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnAuth\"\r\n          >\r\n            {{ roleCodes.auth.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.recordStatus == 'O' ||\r\n              addSysRespData.recordStatus == 'OPEN') &&\r\n            addSysRespData.approvedEver != 'NO' &&\r\n            addSysRespData.approvedEver != 'N' &&\r\n            roleCodes.close\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"onCloseOfRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            {{ roleCodes.close.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.recordStatus == 'C' ||\r\n              addSysRespData.recordStatus == 'CLOSED') &&\r\n            addSysRespData.approvedEver != 'NO' &&\r\n            addSysRespData.approvedEver != 'N' &&\r\n            roleCodes.reopen\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"onOpenRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            {{ roleCodes.reopen.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div\r\n          class=\"col-auto\"\r\n          [hidden]=\"hideFetch\"\r\n          *ngIf=\"\r\n            (addSysRespData.approvedEver == 'NO' ||\r\n              addSysRespData?.approvedEver == 'N') &&\r\n            roleCodes.delete\r\n          \"\r\n        >\r\n          <button\r\n            (click)=\"deleteRuleMapping()\"\r\n            class=\"btn smBtn minWdSmBtn btnPrimary\"\r\n          >\r\n            {{ roleCodes.delete.labelDescription }}\r\n          </button>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <a\r\n            [routerLink]=\"'/rule-mapping/summary'\"\r\n            class=\"btn smBtn minWdSmBtn btnSecondary\"\r\n            >Exit</a\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n<div class=\"dbCardStyle mt-20\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg1\">\r\n              <i class=\"fa fa-edit faClass\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker</h2>\r\n              <p>{{ addSysRespData.creatorId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg2\">\r\n              <img src=\"assets/images/time-stamp-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Maker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData.createdTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg3\">\r\n              <i class=\"fa fa-files-o faRecordStatus\" aria-hidden=\"true\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Record Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData.recordStatus == \"O\"\r\n                    ? \"OPEN\"\r\n                    : addSysRespData.recordStatus == \"C\"\r\n                    ? \"CLOSED\"\r\n                    : addSysRespData.recordStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg4\">\r\n              <i class=\"fa fa-check-square-o faClassChecker\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker</h2>\r\n              <p>{{ addSysRespData.approverId }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg5\">\r\n              <img src=\"assets/images/checker-time-icon.svg\" alt=\"...\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Checker Time Stamp</h2>\r\n              <p>\r\n                {{ addSysRespData.approvedTime | date : \"MM/dd/yyyy, h:mm a\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg6\">\r\n              <i class=\"fa fa-shield faClassFirstTimeAuth\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>First Time Authorization</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData.approvedEver == \"N\"\r\n                    ? \"NO\"\r\n                    : addSysRespData.approvedEver == \"Y\"\r\n                    ? \"YES\"\r\n                    : addSysRespData.approvedEver\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/authorize.svg\"\r\n                alt=\"...\"\r\n                class=\"modImage\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Authorization Status</h2>\r\n              <p>\r\n                {{\r\n                  addSysRespData.approvedStatus == \"N\" ||\r\n                  addSysRespData.approvedStatus == \"U\"\r\n                    ? \"UNAUTHORIZED\"\r\n                    : addSysRespData.approvedStatus == \"Y\" ||\r\n                      addSysRespData.approvedStatus == \"A\"\r\n                    ? \"AUTHORIZED\"\r\n                    : addSysRespData.approvedStatus\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div class=\"csCardStyle\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"csCardStyleIcon csCardStyleIconBg7\">\r\n              <img\r\n                src=\"assets/images/modification.svg\"\r\n                class=\"modImage\"\r\n                alt=\"...\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div class=\"csCardStyleText\">\r\n              <h2>Modification Number</h2>\r\n              <p>{{ addSysRespData.versionNo }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { AddSystemService } from \"src/app/shared/services/add-system.service\";\r\nimport { RuleService } from \"src/app/shared/services/rule.service\";\r\nimport { ToastService } from \"src/app/shared/services/toast.service\";\r\nimport { Location } from \"@angular/common\";\r\nimport Swal from \"sweetalert2\";\r\nimport { RoleService } from \"src/app/shared/services/role.service\";\r\nimport { permissionsLabels } from \"src/app/shared/models/fmosNewRolePermissions\";\r\nimport { Observable, of, Subject } from \"rxjs\";\r\nimport {\r\n  CanDeactivateGuard,\r\n  IDeactivateComponent,\r\n} from \"src/app/shared/guards/can-deactivate.guard\";\r\n\r\n@Component({\r\n  selector: \"npr-rule-mapping-details\",\r\n  templateUrl: \"./rule-mapping-details.component.html\",\r\n  styleUrls: [\"./rule-mapping-details.component.scss\"],\r\n})\r\nexport class RuleMappingDetailsComponent\r\n  implements OnInit, IDeactivateComponent {\r\n  showDestination: boolean;\r\n  xmlDestination: any;\r\n  sourceIsoResp: any;\r\n  externalSystem: any;\r\n  showSource: boolean;\r\n  fieldNoData: any = [];\r\n  disableFetchBtn: boolean = false;\r\n  disableSubmitBtn: boolean = false;\r\n  addSysRespData: any;\r\n  deleted: boolean = false;\r\n  disableFields: boolean = false;\r\n  editBtn: boolean;\r\n  closeBtn: boolean;\r\n  authBtn: boolean;\r\n  authorizeDone: boolean = false;\r\n\r\n  fieldValueData: any = [];\r\n  showFieldNoValue: any = 1;\r\n  xmlLength: any = [];\r\n  sourceRuleMappingArray: string[] = [];\r\n  destinationRuleMappingArray: string[] = [];\r\n\r\n  rulemapping = new MdmtMessageMapping();\r\n  rulemappingdest = new MdmtMessageMapping();\r\n  ruleMappingDataForPayload: any;\r\n  isSelected: boolean = true;\r\n  rulemappingDetail: Array<MdmtMessageMappingDet> = [];\r\n\r\n  isoRespData: any;\r\n  sourseSys: any;\r\n  currentUser: string;\r\n  sourceoperation: Object;\r\n  destinationSource: any;\r\n  destinationOperation: Object;\r\n  messageBasisIso: any;\r\n  tagName: any;\r\n  sourceService: any;\r\n  destinationService: any;\r\n  destinationData: any = [];\r\n  sourceData: any = [];\r\n  rulemappingData: any[];\r\n  matLabel: string;\r\n  matLabel2: string;\r\n  labelsDestination: any;\r\n  sourceLabel: any;\r\n  matlabelSource1: string;\r\n  matlabelSource2: string;\r\n  ruleDto = new ruleMapDto();\r\n  navSubscription: any;\r\n  editruleMappingResp: {};\r\n  edit: boolean;\r\n  editFetch: boolean;\r\n  reopenBtn: boolean;\r\n  authBtnHide: boolean;\r\n  ruleMappingForm: FormGroup;\r\n  submit: boolean = true;\r\n  hideFetch: boolean = false;\r\n  hideSubmit: boolean = false;\r\n  roleCodes = new permissionsLabels();\r\n  formTouched: boolean = true;\r\n  showDialog = false;\r\n  subject = new Subject<boolean>();\r\n  sourceKey: any;\r\n  editFlag: boolean = false;\r\n  updateRuleMappingSrc: any;\r\n  ruleMappingData: any;\r\n  updateRuleMappingDest: any;\r\n  rulemappingdestMapping: any;\r\n\r\n  constructor(\r\n    private rulemap: RuleService,\r\n    private roleService: RoleService,\r\n    private router: Router,\r\n    private _location: Location,\r\n    private _route: ActivatedRoute,\r\n    private addSystem: AddSystemService,\r\n    private toastService: ToastService,\r\n    private cdr: ChangeDetectorRef,\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.currentUser = localStorage.getItem(\"userFromLogin\");\r\n\r\n    this.ruleMappingForm = this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n      destinationSystems: this.getDestinationItem(),\r\n      rulemappingDetails: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.navSubscription = this.addSystem.getNavParam.subscribe(\r\n      (data: any) => (this.editruleMappingResp = data)\r\n    );\r\n    console.log(\"Response ??\", this.editruleMappingResp);\r\n    this.ruleMappingDataForPayload = this.editruleMappingResp[\"responseData\"];\r\n\r\n    if (\r\n      this.editruleMappingResp &&\r\n      Object.keys(this.editruleMappingResp).length === 0 &&\r\n      Object.getPrototypeOf(this.editruleMappingResp) === Object.prototype\r\n    ) {\r\n      this._location.back();\r\n    } else {\r\n      this.addSysRespData = this.ruleMappingDataForPayload.mdmtMessageMapping;\r\n      this.auditLog();\r\n      this.rulemapping.sourceTransSystemCode = this.editruleMappingResp[\"sourceTransSystemCode\"];\r\n      if (this.rulemapping.sourceTransSystemCode) {\r\n        this.gettingTranslationData(this.rulemapping.sourceTransSystemCode);\r\n      }\r\n      this.rulemapping.targetTransSystemCode = this.editruleMappingResp[\"targetTransSystemCode\"];\r\n      if (this.rulemapping.targetTransSystemCode) {\r\n        this.gettingTranslationDataForDest(\r\n          this.rulemapping.targetTransSystemCode\r\n        );\r\n      }\r\n      // this.rulemapping.sourceTranslationId =\r\n      //   this.editruleMappingResp[\"sourceTransDetId\"];\r\n      // if (this.rulemapping.sourceTranslationId) {\r\n      //   this.gettingTranslationData(this.rulemapping.sourceTranslationId);\r\n      // }\r\n      // this.rulemapping.targetTranslationId =\r\n      //   this.editruleMappingResp[\"targetTransDetId\"];\r\n      // if (this.rulemapping.targetTranslationId) {\r\n      //   this.gettingTranslationDataForDest(\r\n      //     this.rulemapping.targetTranslationId\r\n      //   );\r\n      // }\r\n      if (this.addSysRespData.recordStatus == \"C\") {\r\n        console.log(this.addSysRespData.recordStatus);\r\n        this.reopenBtn = false;\r\n        this.authBtnHide = true;\r\n      }\r\n      this.rulemappingDetail =\r\n        this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails;\r\n      this.auditLog();\r\n      for (let index = 0; index < this.rulemappingDetail.length; index++) {\r\n        this.addRuleDetail();\r\n        const item = this.rulemappingDetail[index];\r\n        this.rulemappingDetails.at(index).patchValue(item);\r\n        console.log(\"Rule Mapping: \", this.rulemappingDetails);\r\n      }\r\n      this.sourceRuleMappingArray =\r\n        this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails.map(\r\n          (val) => val.sourceKey\r\n        );\r\n      this.destinationRuleMappingArray =\r\n        this.ruleMappingDataForPayload.mdmtMessageMapping.msgMappingDetails.map(\r\n          (val) => val.destinationKey\r\n        );\r\n      this.gettingExternalsystem();\r\n      this.fetchingIso();\r\n    }\r\n\r\n    this.roleService.fetchScreenPermissions(\"Rule Mapping\");\r\n    this.roleService.screenLabelList.subscribe(\r\n      (message) => (this.roleCodes = message)\r\n    );\r\n    setTimeout(() => {\r\n      console.log(this.roleCodes);\r\n    }, 100);\r\n    this.ruleMappingForm.disable();\r\n  }\r\n\r\n  getDestinationItem() {\r\n    return this.formBuilder.group({\r\n      systemCode: [\"\", Validators.required],\r\n      messageType: [\"\", Validators.required],\r\n      serviceName: [\"\", Validators.required],\r\n      operationName: [\"\", Validators.required],\r\n    });\r\n  }\r\n  auditLog() {\r\n    if (\r\n      this.addSysRespData.approvedStatus == \"U\" ||\r\n      this.addSysRespData.approvedStatus == \"Unauthorized\"\r\n    ) {\r\n      this.addSysRespData.approvedStatus = \"UNAUTHORIZED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.approvedStatus == \"A\" ||\r\n      this.addSysRespData.approvedStatus == \"Authorized\"\r\n    ) {\r\n      this.addSysRespData.approvedStatus = \"AUTHORIZED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.recordStatus == \"O\" ||\r\n      this.addSysRespData.recordStatus == \"Open\"\r\n    ) {\r\n      this.addSysRespData.recordStatus = \"OPEN\";\r\n    }\r\n    if (\r\n      this.addSysRespData.recordStatus == \"C\" ||\r\n      this.addSysRespData.recordStatus == \"Close\"\r\n    ) {\r\n      this.addSysRespData.recordStatus = \"CLOSED\";\r\n    }\r\n    if (\r\n      this.addSysRespData.approvedEver == \"N\" ||\r\n      this.addSysRespData.approvedEver == \"No\"\r\n    ) {\r\n      this.addSysRespData.approvedEver = \"NO\";\r\n    }\r\n    if (this.addSysRespData.approvedEver == \"Y\") {\r\n      this.addSysRespData.approvedEver = \"YES\";\r\n    }\r\n  }\r\n  canExit(): Promise<boolean> {\r\n    let isExit: boolean = false;\r\n\r\n    if (this.ruleMappingForm.touched && this.formTouched == true) {\r\n      return Swal.fire({\r\n        text: \"There are unsaved changes in the screen. Would you like to navigate to other screen?\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#E6224A\",\r\n        cancelButtonColor: \"#011945\",\r\n        cancelButtonText: \"NO\",\r\n        confirmButtonText: \"YES\",\r\n        icon: \"info\",\r\n      }).then((result) => {\r\n        if (result.isConfirmed === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        } else {\r\n          isExit = false;\r\n          this.cdr.markForCheck();\r\n          return isExit;\r\n        }\r\n      });\r\n    } else {\r\n      isExit = true;\r\n      return new Promise((resolve, reject) => {\r\n        if (isExit === true) {\r\n          isExit = true;\r\n          this.cdr.markForCheck();\r\n          resolve(true);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  getRuleMappingDetails() {\r\n    return this.formBuilder.group({\r\n      id: [\"\"],\r\n      defaultValue: [\"\",Validators.required],\r\n      messageMappingId: [\"\"],\r\n      sourceTransDetId: [\"\"],\r\n      targetTransDetId: [\"\"],\r\n      sourceKey: [\"\",Validators.required],\r\n      destinationKey: [\"\",Validators.required],\r\n    });\r\n  }\r\n\r\n  indexTracker(index: number, value: any) {\r\n    return index;\r\n  }\r\n\r\n  get rulemappingDetails() {\r\n    return this.ruleMappingForm.get(\"rulemappingDetails\") as FormArray;\r\n  }\r\n\r\n  addRuleDetail() {\r\n    this.rulemappingDetails.push(this.getRuleMappingDetails());\r\n    console.log(this.rulemappingDetails.value);\r\n  }\r\n\r\n  deleteRuleMapGroup(index: number) {\r\n    this.sourceRuleMappingArray.splice(index, 1);\r\n    this.destinationRuleMappingArray.splice(index, 1);\r\n    this.rulemappingDetails.removeAt(index);\r\n  }\r\n\r\n  gettingExternalsystem() {\r\n    this.rulemap.gettingExternalsystem().subscribe(\r\n      (extSysResp) => {\r\n        console.log(\"extSysResp\", extSysResp);\r\n        this.externalSystem = extSysResp;\r\n      },\r\n      (err: any) => {\r\n        console.log(\"err\", err);\r\n      }\r\n    );\r\n  }\r\n\r\n  onDestinationRuleMappingChange(event, i) {\r\n    this.destinationRuleMappingArray[i] = event.target.value;\r\n  }\r\n\r\n  onSourceRuleMappingChange(event, i) {\r\n    this.sourceRuleMappingArray[i] = event.target.value;\r\n  }\r\n\r\n  shouldHideDestinationRuleMappingValue(value) {\r\n    return this.destinationRuleMappingArray.find((item) => item == value);\r\n  }\r\n\r\n  shouldHideSourceRuleMappingValue(value) {\r\n    return this.sourceRuleMappingArray.find((item) => item == value);\r\n  }\r\n\r\n  EditFetch() {\r\n    this.editFetch = true;\r\n    console.log(\"edit\");\r\n    if (this.addSysRespData.recordStatus == \"C\") {\r\n      this.editFetch = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n      this.toastService.successMessage(\"Closed record can't be edited.\", \"\");\r\n    }\r\n  }\r\n  Edit() {\r\n    console.log(\"edit\");\r\n    if (this.addSysRespData.approvedStatus == \"U\") {\r\n      this.edit = false;\r\n      // Swal.fire(\"UnAuthorized record can't be  edited.\");\r\n      this.toastService.successMessage(\r\n        \"UnAuthorized record can't be  edited\",\r\n        \"\"\r\n      );\r\n    }\r\n    if (this.addSysRespData.recordStatus == \"C\") {\r\n      this.edit = false;\r\n      // Swal.fire(\"Closed record can't be edited.\");\r\n      this.toastService.successMessage(\"Closed record can't be edited.\", \"\");\r\n    }\r\n    this.edit = true;\r\n  }\r\n  gettingTranslationData(sourseSys: any) {\r\n    this.sourseSys = sourseSys;\r\n    this.rulemap.gettingTranslationData(this.sourseSys).subscribe((resp) => {\r\n      console.log(\"trans ?\", resp);\r\n      this.rulemapping = resp;\r\n      this.ruleMappingData = resp;\r\n      this.ruleMappingForm.patchValue(resp);\r\n      this.gettingoperationAandserv(resp.systemCode, resp.messageType);\r\n      this.rulemapping.sourceTranslationId = resp.systemCode;\r\n    });\r\n    this.fetchDestination();\r\n  }\r\n\r\n  gettingTranslationDataForDest(destSys: any) {\r\n    this.rulemap.gettingTranslationData(destSys).subscribe((resp) => {\r\n      console.log(\"Dset\", resp);\r\n      this.rulemappingdest = resp;\r\n      this.rulemappingdestMapping = resp;\r\n      this.ruleMappingForm.get(\"destinationSystems\").patchValue(resp);\r\n      this.gettingmsgTypeAndDestination(resp.systemCode, resp.messageType);\r\n      this.rulemappingdest.targetTranslationId = resp.systemCode;\r\n    });\r\n  }\r\n\r\n  onAuthOfRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to Authorize record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n\r\n      if (result.isConfirmed === true) {\r\n        if (this.currentUser == this.addSysRespData.creatorId) {\r\n          Swal.fire(\"Maker cannot authorize the record!\");\r\n          // this.toastService.successMessage('Maker cannot authorize!', '');\r\n        } else {\r\n          let payloadObj: any = {};\r\n          console.log(this.ruleMappingDataForPayload);\r\n          payloadObj = this.ruleMappingDataForPayload;\r\n          payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n          console.log(payloadObj);\r\n\r\n          if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n            payloadObj.approvedStatus = \"U\";\r\n          }\r\n          if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n            payloadObj.approvedStatus = \"A\";\r\n          }\r\n          if (payloadObj.recordStatus == \"OPEN\") {\r\n            payloadObj.recordStatus = \"O\";\r\n          }\r\n          if (payloadObj.recordStatus == \"CLOSED\") {\r\n            payloadObj.recordStatus = \"C\";\r\n          }\r\n          if (payloadObj.approvedEver == \"NO\") {\r\n            payloadObj.approvedEver = \"N\";\r\n          }\r\n          if (payloadObj.approvedEver == \"YES\") {\r\n            payloadObj.approvedEver = \"Y\";\r\n          }\r\n\r\n          this.rulemap\r\n            .editRuleMapping(\"auth\", this.currentUser, payloadObj)\r\n            .subscribe((resp) => {\r\n              this.authorizeDone = true;\r\n              this.addSysRespData = resp;\r\n              this.auditLog();\r\n              Swal.fire({ text: \"Record is Authorized\" });\r\n              // this.toastService.successMessage('Record Authorized!', '');\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onCloseOfRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to close record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3e54b8\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n      iconColor: \"#d33\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let payloadObj: any = {};\r\n        payloadObj = this.ruleMappingDataForPayload;\r\n        payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n\r\n        if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"U\";\r\n        }\r\n        if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"A\";\r\n        }\r\n        if (payloadObj.recordStatus == \"OPEN\") {\r\n          payloadObj.recordStatus = \"O\";\r\n        }\r\n        if (payloadObj.recordStatus == \"CLOSED\") {\r\n          payloadObj.recordStatus = \"C\";\r\n        }\r\n        if (payloadObj.approvedEver == \"NO\") {\r\n          payloadObj.approvedEver = \"N\";\r\n        }\r\n        if (payloadObj.approvedEver == \"YES\") {\r\n          payloadObj.approvedEver = \"Y\";\r\n        }\r\n        this.rulemap\r\n          .editRuleMapping(\"close\", this.currentUser, payloadObj)\r\n          .subscribe((resp) => {\r\n            this.addSysRespData = resp;\r\n            this.auditLog();\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.deleted = false;\r\n            this.reopenBtn = false;\r\n            Swal.fire({ text: \"Record is  Closed\", icon: \"success\" });\r\n            // this.toastService.successMessage('Record is Closed', '');\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  onOpenRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to re-open record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3e54b8\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n      iconColor: \"#d33\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        let payloadObj: any = {};\r\n        payloadObj = this.ruleMappingDataForPayload;\r\n        payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n\r\n        if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"U\";\r\n        }\r\n        if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n          payloadObj.approvedStatus = \"A\";\r\n        }\r\n        if (payloadObj.recordStatus == \"OPEN\") {\r\n          payloadObj.recordStatus = \"O\";\r\n        }\r\n        if (payloadObj.recordStatus == \"CLOSED\") {\r\n          payloadObj.recordStatus = \"C\";\r\n        }\r\n        if (payloadObj.approvedEver == \"NO\") {\r\n          payloadObj.approvedEver = \"N\";\r\n        }\r\n        if (payloadObj.approvedEver == \"YES\") {\r\n          payloadObj.approvedEver = \"Y\";\r\n        }\r\n        this.rulemap\r\n          .editRuleMapping(\"open\", this.currentUser, payloadObj)\r\n          .subscribe((resp) => {\r\n            this.addSysRespData = resp;\r\n            this.auditLog();\r\n            this.authBtnHide = false;\r\n            this.editBtn = false;\r\n            this.authBtn = false;\r\n            Swal.fire({ text: \"Record is Opened\", icon: \"success\" });\r\n            // this.toastService.successMessage('Record Opened!', '');\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteRuleMapping() {\r\n    Swal.fire({\r\n      //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n      text: \"You are trying to delete record. \" + \" Do you want to proceed?\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3e54b8\",\r\n      cancelButtonColor: \"#d33\",\r\n      // confirmButtonText: 'PROCEED.'\r\n      cancelButtonText: \"NO\",\r\n      confirmButtonText: \"YES\",\r\n      icon: \"info\",\r\n      iconColor: \"#d33\",\r\n    }).then((result) => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        console.log(this.addSysRespData.mappingId);\r\n\r\n        this.rulemap\r\n          .ondeleteMapping(this.addSysRespData.mappingId, this.currentUser)\r\n          .subscribe((resp) => {\r\n            if (resp) {\r\n              this.deleted = true;\r\n              this.editBtn = true;\r\n              this.authBtn = true;\r\n              this.closeBtn = true;\r\n              Swal.fire({\r\n                title: \"Record is Deleted\",\r\n                confirmButtonText: \"Ok\",\r\n              }).then((result) => {\r\n                if (result) {\r\n                  this.router.navigateByUrl(\"/rule-mapping/summary\");\r\n                }\r\n              });\r\n            } else {\r\n              Swal.fire(\"Failed to delete the reocrd\");\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  fetchDestination() {\r\n    console.log(this.rulemapping);\r\n    console.log(\"Rule ,apping\", this.ruleMappingForm);\r\n    this.disableFetchBtn = true;\r\n    this.showDestination = true;\r\n    this.showSource = true;\r\n  }\r\n\r\n  onFieldNameChange(event) {\r\n    console.log(event.value);\r\n    let value = event.value;\r\n    if (event.value) {\r\n      var item = this.sourceIsoResp.find(\r\n        (element) => element.fieldValue == value\r\n      );\r\n      console.log(item);\r\n      this.showFieldNoValue = item.fieldNo;\r\n      console.log(\"ssss\", this.showFieldNoValue);\r\n    }\r\n  }\r\n  editValues() {\r\n    this.hideFetch = true;\r\n    this.hideSubmit = true;\r\n    this.ruleMappingForm.enable();\r\n    this.editFlag = true;\r\n    // this.authBtn=false;\r\n    // this.openBtn=false;\r\n    // this.closeBtn=false;\r\n  }\r\n  onSubmittingRuleMapping() {\r\n    console.log(\"submit\");\r\n  }\r\n\r\n  fetchingIso() {\r\n    this.addSystem.fetchingIsoForTcp().subscribe((isoResp) => {\r\n      console.log(\"iss\", isoResp);\r\n      this.isoRespData = isoResp;\r\n      // this.fieldNoData=isoResp;\r\n      this.messageBasisIso = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldNoData = isoResp.map((data) => {\r\n        return data.messageBasis;\r\n      });\r\n      this.fieldValueData = isoResp.map((data) => {\r\n        return data.messageKey;\r\n      });\r\n    });\r\n  }\r\n  onSourseSelection(event: any) {\r\n    console.log(event);\r\n    this.sourseSys = event.value;\r\n  }\r\n  onSelectionOFMessageType(source: any, event: any) {\r\n    console.log(\"e\", event);\r\n    this.sourseSys = source;\r\n    this.gettingoperationAandserv(this.sourseSys, event.value);\r\n  }\r\n  gettingoperationAandserv(system, msgtype) {\r\n    console.log(system);\r\n    this.rulemap\r\n      .gettingoperationAndService(system, msgtype, this.currentUser)\r\n      .subscribe(\r\n        (sourceResp) => {\r\n          console.log(\"sourceResp\", sourceResp);\r\n          this.sourceoperation = sourceResp.OPERATION;\r\n          this.sourceService = sourceResp.SERVICE;\r\n          this.sourceData = sourceResp.MdmtSystemService;\r\n\r\n          this.updateRuleMappingSrc = this.ruleMappingData.msgTransDetails;\r\n          this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageChannel;\r\n          // this.sourceKey=this.sourceData[0].messageKey + ' ' +this.sourceData[0].messageBasis;\r\n          console.log(this.sourceData);\r\n          // console.log(this.ruleMappingForm.controls.rulemappingDetails.value[0].sourceKey)\r\n          // this.ruleMappingForm.controls.rulemappingDetails.value[0].sourceKey.setValue(this.sourceKey);\r\n          if (this.sourceLabel == \"Https/Http\") {\r\n            this.sourceLabel = sourceResp.MdmtSystemChannel[0].messageFormat;\r\n            this.matlabelSource1 = \"Node\";\r\n            this.matlabelSource2 = \"TagName\";\r\n          }\r\n          if (this.sourceLabel == \"TCP/IP\") {\r\n            this.matlabelSource1 = \"Filed No\";\r\n            this.matlabelSource2 = \"Filed Name\";\r\n          }\r\n          // this.translationData=translationResp;\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  ondestinationSource(event) {\r\n    console.log(event.value);\r\n    this.destinationSource = event.value;\r\n  }\r\n\r\n  msgTypeOfDestination(event) {\r\n    console.log(event.value);\r\n    this.gettingmsgTypeAndDestination(this.destinationSource, event.value);\r\n  }\r\n\r\n  gettingmsgTypeAndDestination(destinationSource, msgtype) {\r\n    this.rulemap\r\n      .gettingoperationAndService(destinationSource, msgtype, this.currentUser)\r\n      .subscribe(\r\n        (destinationResp) => {\r\n          console.log(\"destinationResp\", destinationResp);\r\n          this.destinationOperation = destinationResp.OPERATION;\r\n          this.destinationService = destinationResp.SERVICE;\r\n          this.destinationData = destinationResp.MdmtSystemService;\r\n          this.updateRuleMappingDest =\r\n            this.rulemappingdestMapping.msgTransDetails;\r\n          this.labelsDestination =\r\n            destinationResp.MdmtSystemChannel[0].messageChannel;\r\n          console.log(this.labelsDestination);\r\n          if (this.labelsDestination == \"Https/Http\") {\r\n            this.labelsDestination =\r\n              destinationResp.MdmtSystemChannel[0].messageFormat;\r\n            this.matLabel = \"Node\";\r\n            this.matLabel2 = \"Tag Name\";\r\n          } else if (this.labelsDestination == \"TCP/IP\") {\r\n            this.matLabel = \"Filed No\";\r\n            this.matLabel2 = \"Filed Name\";\r\n          }\r\n          // this.rulemappingData=[...this.sourceData,...this.destinationData]\r\n          console.log(this.rulemappingData);\r\n\r\n          // this.translationData=translationResp;\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  onSelectingMessageBasis(event: any) {\r\n    console.log(\"option for fieldno\", event.value);\r\n    console.log(event.value);\r\n    var x = this.isoRespData.find((item) => item.messageBasis == event.value);\r\n    this.isoRespData.forEach((data) => {\r\n      data.messageKey = x.messageKey;\r\n      this.tagName = data.messageKey;\r\n      data.dataType = x.dataType;\r\n    });\r\n  }\r\n  onsaveRuleMapping() {\r\n    let payloadObj: any = {};\r\n    payloadObj = this.ruleMappingDataForPayload;\r\n    payloadObj.sourceTranslationId = this.editruleMappingResp[\"sourceTranslationId\"];\r\n    payloadObj.targetTranslationId = this.editruleMappingResp[\"targetTranslationId\"];\r\n    payloadObj.creatorId = this.currentUser;\r\n    payloadObj.msgMappingDetails = this.rulemappingDetails.value;\r\n    if (payloadObj.approvedEver == \"NO\") {\r\n      payloadObj.approvedEver = \"N\";\r\n    }\r\n    if (payloadObj.approvedEver == \"YES\") {\r\n      payloadObj.approvedEver = \"Y\";\r\n    }\r\n    if (payloadObj.approvedStatus == \"UNAUTHORIZED\") {\r\n      payloadObj.approvedStatus = \"U\";\r\n    }\r\n    if (payloadObj.approvedStatus == \"AUTHORIZED\") {\r\n      payloadObj.approvedStatus = \"A\";\r\n    }\r\n    if (payloadObj.recordStatus == \"OPEN\") {\r\n      payloadObj.recordStatus = \"O\";\r\n    }\r\n    if (payloadObj.recordStatus == \"CLOSE\") {\r\n      payloadObj.recordStatus = \"C\";\r\n    }\r\n    this.rulemap.updatingRuleMapping(payloadObj, this.currentUser).subscribe(\r\n      (resp) => {\r\n        console.log(resp);\r\n        if (resp) {\r\n          this.addSysRespData = resp;\r\n          this.auditLog();\r\n          this.disableSubmitBtn = true;\r\n          Swal.fire({ text: \"Record is Updated\", icon: \"success\" });\r\n          this.submit = false;\r\n          this.hideFetch = false;\r\n          this.hideSubmit = false;\r\n          this.formTouched = !this.ruleMappingForm.touched;\r\n        }\r\n      },\r\n      (err: any) => {\r\n        console.log(err.error.text);\r\n        Swal.fire({\r\n          text: \"Unable to update the record, server error!\",\r\n          icon: \"error\",\r\n        });\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nexport class MdmtMessageMapping {\r\n  id: any;\r\n  sourceTranslationId: any;\r\n  targetTranslationId: any;\r\n  sourceTransSystemCode: any;\r\n  targetTransSystemCode: any;\r\n  creatorId: any;\r\n  createdTime: any;\r\n  approverId: any;\r\n  approvedTime: any;\r\n  versionNo: any;\r\n  approvedStatus: any;\r\n  approvedEver: any;\r\n  recordStatus: any;\r\n}\r\nexport class MdmtMessageMappingDet {\r\n  id: any;\r\n  messageMappingId;\r\n  sourceTransDetId: any;\r\n  targetTransDetId: any;\r\n  defaultValue: any;\r\n  sourceKey: any;\r\n  destinationKey: any;\r\n}\r\nexport class ruleMapDto {\r\n  mdmtMessageMapping: MdmtMessageMapping;\r\n  mdmtMessageMappingDet: Array<MdmtMessageMappingDet>;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CanDeactivateGuard } from 'src/app/shared/guards/can-deactivate.guard';\r\nimport { ConversionComponent } from './conversion/conversion.component';\r\nimport { RuleMappingCreateComponent } from './rule-mapping-create/rule-mapping-create.component';\r\nimport { RuleMappingDetailsComponent } from './rule-mapping-details/rule-mapping-details.component';\r\nimport { RuleMappingComponent } from './rule-mapping/rule-mapping.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'create',\r\n    component:RuleMappingCreateComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'edit/:mapId',\r\n    component:RuleMappingDetailsComponent,\r\n    canDeactivate: [CanDeactivateGuard]\r\n  },{\r\n    path:'summary',\r\n    component:RuleMappingComponent\r\n  },\r\n  {\r\n    path:'conversion',\r\n    component:ConversionComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RuleMappingRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RuleMappingRoutingModule } from './rule-mapping-routing.module';\r\nimport { RuleMappingComponent } from './rule-mapping/rule-mapping.component';\r\nimport { RuleMappingDetailsComponent } from './rule-mapping-details/rule-mapping-details.component';\r\nimport { RuleMappingCreateComponent } from './rule-mapping-create/rule-mapping-create.component';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ConversionComponent } from './conversion/conversion.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RuleMappingComponent,\r\n    RuleMappingDetailsComponent,\r\n    RuleMappingCreateComponent,\r\n    ConversionComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RuleMappingRoutingModule,\r\n    DataTablesModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgSelectModule\r\n  ]\r\n})\r\nexport class RuleMappingModule { }\r\n","<div class=\"pageContentMain\">\r\n  <div class=\"pageTitleCol\">\r\n    <h2 class=\"pageTitle\">Rule Mapping</h2>\r\n  </div>\r\n  <div class=\"dbCardStyle\">\r\n    <div class=\"row g-3 pb-3 justify-content-end\">\r\n      <div class=\"col-auto\"  *ngIf=\"roleCodes.new\">\r\n        <a [routerLink]=\"['/rule-mapping/create']\" [routerLinkActive]=\"['active']\" class=\"btn smBtn minWdSmBtn btnPrimary\">{{roleCodes.new.labelDescription}}</a>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <a [routerLink]=\"['/dashboard']\" class=\"btn smBtn minWdSmBtn btnSecondary\">Exit</a>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n    <table datatable id=\"dbTable1\" [dtOptions]=\"dtOptions\"  class=\"dataTable table tableStyle  nowrap vAlignMdl\" style=\"width:100%\">\r\n      <thead>\r\n        <tr>\r\n          <th>Source System</th>\r\n          <th>Destination System</th>\r\n          <th>Auth Status</th>\r\n          <th>Record Status</th>\r\n          <th>Date</th>\r\n          <th>Conversion</th>\r\n          <th>Action</th>\r\n      \r\n        </tr>\r\n      </thead>\r\n      <tbody *ngIf=\"ruleMappingListResp?.length != 0\">\r\n        <tr *ngFor=\"let data of ruleMappingListResp\">\r\n          <td> <a style=\"cursor: pointer;\" (click)=\"getById(data)\" class=\"primaryColor\">{{ data.sourceTransDetId}}</a></td>\r\n          <td>{{ data.targetTransDetId }}</td>\r\n          <td>{{ data.mdmtMessageMapping.approvedStatus}}</td>\r\n          <td>{{ data.mdmtMessageMapping.recordStatus }}</td>\r\n          <td>{{ data.mdmtMessageMapping.createdTime | date:'medium' }}</td>\r\n          <td><button class=\"btn smBtn minWdSmBtn btnPrimary\" [routerLink]=\"['/rule-mapping/conversion']\">Conversion</button></td>\r\n          <td>\r\n            <button  class=\"btn\" style=\"color: red\" title=\"Authorize\" [disabled]=\"!(data.mdmtMessageMapping.approvedStatus== 'U' || data.mdmtMessageMapping.approvedStatus== 'UNAUTHORIZED' || data.mdmtMessageMapping.approvedStatus == 'Unauthorized')\" (click)=\"auth(data)\">\r\n                \r\n              <img class=\"summaryIcon\" src=\"assets/images/authorize.svg\" alt=\"Authorize\">\r\n              </button>\r\n            <button class=\"btn\" style=\"color: red\" title=\"Close\" *ngIf=\"(data.mdmtMessageMapping.recordStatus== 'O' || data.mdmtMessageMapping.recordStatus== 'Open' || data.mdmtMessageMapping.recordStatus== 'OPEN') && (data.mdmtMessageMapping.approvedEver== 'Y' || data.mdmtMessageMapping.approvedEver== 'YES')\" (click)=\"close(data)\">\r\n                \r\n              <img class=\"summaryIcon\" src=\"assets/images/CROSS1.svg\"   alt=\"...\">\r\n              </button> \r\n             <button class=\"btn\" style=\"color: red\" title=\"Reopen\" *ngIf=\"(data.mdmtMessageMapping.recordStatus == 'CLOSED' || data.mdmtMessageMapping.recordStatus == 'Close') && (data.mdmtMessageMapping.approvedEver == 'YES' || data.mdmtMessageMapping.approvedEver == 'Y')\"\r\n \r\n                \r\n                      (click)=\"open(data)\">\r\n              \r\n              <img class=\"summaryIcon\" src=\"assets/images/open.svg\"  alt=\"...\">\r\n              </button>\r\n              <button class=\"btn\" style=\"color: red\" title=\"Delete\" *ngIf=\"data.mdmtMessageMapping.approvedEver== 'N' || data.mdmtMessageMapping.approvedEver== 'NO'\" (click)=\"delete(data)\">\r\n                 \r\n                <img class=\"summaryIcon\" src=\"assets/images/delete.svg\" alt=\"...\">\r\n              </button>\r\n               \r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tbody *ngIf=\"ruleMappingListResp?.length == 0\">\r\n        <tr>\r\n         <!-- <td colspan=\"3\" class=\"no-data-available\">No data!</td> -->\r\n        </tr>\r\n      </tbody>  \r\n    </table>\r\n  </div>\r\n    <ng-container *ngIf=\"isLoading\">\r\n      <div class=\"loading-page-center\">\r\n        <span class=\"indicator-progress\">Please wait...\r\n          <span class=\"spinner-border spinner-border-sm align-middle ms-2\"></span></span>\r\n      </div>\r\n    </ng-container>\r\n    \r\n  </div>\r\n\r\n\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ItemsList } from '@ng-select/ng-select/lib/items-list';\r\nimport { Subject } from 'rxjs';\r\nimport { AppConstants } from 'src/app/shared/config/app.constant';\r\nimport { permissionsLabels } from 'src/app/shared/models/fmosNewRolePermissions';\r\nimport { AddSystemService } from 'src/app/shared/services/add-system.service';\r\nimport { RoleService } from 'src/app/shared/services/role.service';\r\nimport { RuleService } from 'src/app/shared/services/rule.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'npr-rule-mapping',\r\n  templateUrl: './rule-mapping.component.html',\r\n  styleUrls: ['./rule-mapping.component.scss'],\r\n})\r\nexport class RuleMappingComponent implements OnInit {\r\n  dtTrigger: any = new Subject();\r\n  dtOptions: DataTables.Settings = {};\r\n  ruleMappingListResp: any = [];\r\n  isLoading: boolean = false;\r\n  roleCodes = new permissionsLabels();\r\n  currentUser: string;\r\n  addSysRespData: Object;\r\n  editBtn: boolean;\r\n  authBtn: boolean;\r\n  deleted: boolean;\r\n  reopenBtn: boolean;\r\n  authorizeDone: boolean;\r\n  closeBtn: boolean;\r\n  authBtnHide: boolean;\r\n  statusArr: String[] = ['Authorized', 'Unauthorized', 'Open', 'Close'];\r\n  totalPages: any;\r\n  totalRecords: any;\r\n  API_URL = AppConstants.baseURL;\r\n  mappingDetailsArray: any;\r\n\r\n  constructor(\r\n    private rulelist: RuleService,\r\n    private roleService: RoleService,\r\n    private router: Router,\r\n    private addSystem: AddSystemService,\r\n    private cdr: ChangeDetectorRef,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = localStorage.getItem('userFromLogin');\r\n    this.addSystem.setReference({\r\n      referenceId: '',\r\n    });\r\n    localStorage.setItem('link', '');\r\n\r\n    this.dtOptions = {\r\n      pagingType: 'full_numbers',\r\n      pageLength: 5,\r\n      serverSide: true,\r\n      columnDefs: [{ type: 'date', targets: [4] }],\r\n      order: [[4, 'desc']],\r\n      // processing: true,\r\n      lengthMenu: [\r\n        [5, 10, 20, 30, -1],\r\n        [5, 10, 20, 30, \"ALL\"],\r\n      ],\r\n      // columnDefs: [ { type: 'date', 'targets': [5] } ],\r\n      // order: [[5, 'desc']],\r\n      ajax: (dataTablesParameters: any, callback) => {\r\n\r\n        dataTablesParameters.minNumber = dataTablesParameters.start + 1;\r\n        dataTablesParameters.maxNumber =\r\n          dataTablesParameters.start + dataTablesParameters.length;\r\n        console.log(\r\n          dataTablesParameters.minNumber,\r\n          dataTablesParameters.maxNumber\r\n        );\r\n        const pageNo = Math.floor(dataTablesParameters.minNumber / dataTablesParameters.length);\r\n        const pageSize = dataTablesParameters.length;\r\n        const search = dataTablesParameters.search.value\r\n        this.http.get<any>(`${this.API_URL}` + `/msgApi/getAllMapping?pageNo=${pageNo}&pageSize=${pageSize}&search=${search}`)\r\n          .subscribe(resp => {\r\n            ;\r\n            console.log(resp);\r\n            for (let item of resp.result) {\r\n              item.recordStatus = this.statusArr.find((i) =>\r\n                i.startsWith(item.recordStatus)\r\n              );\r\n              item.approvedStatus = this.statusArr.find((i) =>\r\n                i.startsWith(item.approvedStatus)\r\n              );\r\n            }\r\n\r\n            this.totalPages = resp.totalNoOfPages;\r\n            this.totalRecords = resp.totalRecords;\r\n            this.ruleMappingListResp = resp.result;\r\n            for (let item of this.ruleMappingListResp) {\r\n              this.auditLog(item);\r\n            }\r\n\r\n\r\n            this.isLoading = false;\r\n            this.cdr.markForCheck();\r\n\r\n            callback({\r\n              recordsTotal: resp.totalRecords,\r\n              recordsFiltered: resp.totalRecords,\r\n              data: [],\r\n            });\r\n          });\r\n      },\r\n    };\r\n\r\n    // this.fetchinglistRuleMapping();\r\n    this.roleService.fetchScreenPermissions('Rule Mapping');\r\n    this.roleService.screenLabelList.subscribe(\r\n      (message) => (this.roleCodes = message)\r\n    );\r\n    console.log(this.roleCodes);\r\n  }\r\n  auditLog(ruleMappingListResp) {\r\n    console.log(ruleMappingListResp);\r\n    if (ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'U' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'Unauthorized' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'UNAUTHORIZED') {\r\n      ruleMappingListResp.mdmtMessageMapping.approvedStatus = 'UNAUTHORIZED'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'A' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'Authorized' || ruleMappingListResp.mdmtMessageMapping.approvedStatus == 'AUTHORIZED') {\r\n      ruleMappingListResp.mdmtMessageMapping.approvedStatus = 'AUTHORIZED'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.recordStatus == 'O' || ruleMappingListResp.mdmtMessageMapping.recordStatus == 'Open') {\r\n      ruleMappingListResp.mdmtMessageMapping.recordStatus = 'OPEN'\r\n    }\r\n    if (ruleMappingListResp.mdmtMessageMapping.recordStatus == 'C' || ruleMappingListResp.mdmtMessageMapping.recordStatus == 'Close') {\r\n      ruleMappingListResp.mdmtMessageMapping.recordStatus = 'CLOSED'\r\n    }\r\n    if (ruleMappingListResp.firstTimeAuth == 'N') {\r\n      console.log(\"NO\");\r\n      ruleMappingListResp.firstTimeAuth = 'NO'\r\n    }\r\n    if (ruleMappingListResp.firstTimeAuth == 'Y') {\r\n      ruleMappingListResp.firstTimeAuth = 'YES'\r\n    }\r\n  }\r\n  fetchinglistRuleMapping() {\r\n    this.isLoading = true;\r\n    this.rulelist.fetchingruleMapping().subscribe((resp: any) => {\r\n      for (let item of resp.result) {\r\n        item.recordStatus = this.statusArr.find((i) =>\r\n          i.startsWith(item.recordStatus)\r\n        );\r\n        item.approvedStatus = this.statusArr.find((i) =>\r\n          i.startsWith(item.approvedStatus)\r\n        );\r\n      }\r\n      console.log(resp);\r\n      this.ruleMappingListResp = resp.result;\r\n      // this.auditLog();\r\n      this.isLoading = false;\r\n      this.cdr.markForCheck();\r\n\r\n      this.dtTrigger.next();\r\n    });\r\n  }\r\n\r\n  getById(data) {\r\n    console.log('OnClick', data);\r\n    let id: any = 0;\r\n    data.mappingId = data.mdmtMessageMapping.mappingId\r\n    // if (data.mdmtMessageMapping.msgMappingDetails.length> 0) {\r\n    //   data.mappingId=data.mdmtMessageMapping.msgMappingDetails[0].mappingId\r\n    // }\r\n    console.log(id);\r\n\r\n    this.rulelist.getruleMappingById(id, data.mappingId).subscribe((resp) => {\r\n      console.log(resp);\r\n      this.mappingDetailsArray = resp.mdmtMessageMappingDet;\r\n      let queryParams = {\r\n        sourceTransSystemCode: resp.sourceTransSystemCode,\r\n        targetTransSystemCode: resp.targetTransSystemCode,\r\n        sourceTranslationId: resp.sourceTranslationId,\r\n        targetTranslationId: resp.targetTranslationId,\r\n        mdmtMessageMappingDet: resp.mdmtMessageMappingDet,\r\n        responseData: data,\r\n      };\r\n      console.log(queryParams);\r\n      this.addSystem.sendNavParam(queryParams);\r\n      this.router.navigate(['/rule-mapping/edit', data.mappingId]);\r\n    });\r\n  }\r\n  open(data) {\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to re-open record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n\r\n        this.rulelist.editRuleMapping(\"open\", this.currentUser, data).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.authBtnHide = false;\r\n          this.editBtn = false;\r\n          this.authBtn = false;\r\n          Swal.fire({ text: 'Record is Opened', icon: 'success' }).then(() => window.location.reload());\r\n          // this.toastService.successMessage('Record Opened!', '');\r\n        });\r\n      }\r\n    }))\r\n\r\n  }\r\n  close(data) {\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to close record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        // let payloadObj: any = {};\r\n        // payloadObj = this.ruleMappingDataForPayload;\r\n        // payloadObj.msgMappingDetails = this.rulemappingDetail;\r\n        this.rulelist.editRuleMapping(\"close\", this.currentUser, data).subscribe((resp) => {\r\n          this.addSysRespData = resp;\r\n          this.editBtn = true;\r\n          this.authBtn = true;\r\n          this.deleted = false;\r\n          this.reopenBtn = false;\r\n          Swal.fire({ text: 'Record is  Closed', icon: 'success' }).then(() => window.location.reload());\r\n          // this.toastService.successMessage('Record is Closed', '');\r\n        });\r\n      }\r\n    }))\r\n\r\n\r\n\r\n  }\r\n  delete(data) {\r\n    console.log(data);\r\n\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to delete record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3e54b8',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info', iconColor: \"#d33\"\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      if (result.isConfirmed === true) {\r\n        this.rulelist.ondeleteMapping(this.currentUser, data.mdmtMessageMapping?.mappingId).subscribe((resp) => {\r\n          if (resp) {\r\n            this.deleted = true;\r\n            this.editBtn = true;\r\n            this.authBtn = true;\r\n            this.closeBtn = true;\r\n\r\n            // this.toastService.successMessage('Deleted Successfully!', '');\r\n\r\n            Swal.fire({\r\n              title: 'Record is Deleted',\r\n              confirmButtonText: 'Ok'\r\n            }).then(() => window.location.reload());\r\n\r\n          }\r\n          else {\r\n            Swal.fire(\"Failed to delete the reocrd\");\r\n          }\r\n        });\r\n      }\r\n    }))\r\n\r\n  }\r\n  auth(data) {\r\n    console.log(data);\r\n    Swal.fire(\r\n      {\r\n        //text: 'Unable to process' + 'Error ' + this.responseforfileupload.errorMessage + 'Do you want to Proceed??',\r\n        text: 'You are trying to Authorize record. ' + ' Do you want to proceed?',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        // confirmButtonText: 'PROCEED.'\r\n        cancelButtonText: 'NO',\r\n        confirmButtonText: 'YES', 'icon': 'info'\r\n      }\r\n    ).then((result => {\r\n      console.log(\"this is reopen \", result);\r\n      const lsuser = localStorage.getItem(\"userFromLogin\");\r\n      if (result.isConfirmed === true) {\r\n        if (lsuser === data.mdmtMessageMapping.creatorId) {\r\n          Swal.fire('Maker cannot authorize the record!');\r\n          // this.toastService.successMessage('Maker cannot authorize!', '');\r\n        }\r\n        else {\r\n\r\n          this.rulelist.editRuleMapping(\"auth\", this.currentUser, data.mdmtMessageMapping).subscribe((resp) => {\r\n            this.authorizeDone = true;\r\n            this.addSysRespData = resp;\r\n            Swal.fire({ text: 'Record is Authorized' }).then(() => window.location.reload());\r\n            // this.toastService.successMessage('Record Authorized!', '');\r\n          });\r\n        }\r\n      }\r\n    }))\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Do not forget to unsubscribe the event\r\n    this.dtTrigger.unsubscribe();\r\n  }\r\n}"]}